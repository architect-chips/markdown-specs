

IEEE Standard for Information Technology—  
Telecommunications and Information Exchange between Systems  
Local and Metropolitan Area Networks—  
Specific Requirements

# Part 11: Wireless LAN Medium Access Control (MAC) and Physical Layer (PHY) Specifications

## Amendment 2: Enhancements for Extremely High Throughput (EHT)

IEEE Computer Society

Developed by the  
LAN/ MAN Standards Committee

IEEE Std 802.11be™-2024  
(Amendment to IEEE Std 802.11™-2024,  
as amended by 802.11bh™-2024)

IEEE Std 802.11be™-2024

(Amendment to IEEE Std 802.11™-2024,  
as amended by 802.11bh™-2024)

IEEE Standard for Information Technology—  
Telecommunications and Information Exchange between Systems  
Local and Metropolitan Area Networks—  
Specific Requirements

# **Part 11: Wireless LAN Medium Access Control (MAC) and Physical Layer (PHY) Specifications**

## **Amendment 2: Enhancements for Extremely High Throughput (EHT)**

Developed by the  
**LAN/MAN Standards Committee**  
of the  
**IEEE Computer Society**

Approved 26 September 2024

**IEEE SA Standards Board**

**Abstract:** This amendment defines standardized modifications to both the IEEE Std 802.11 physical layers (PHY) and the Medium Access Control Layer (MAC) that enable at least one mode of operation capable of supporting a maximum throughput of at least 30 Gbit/s, as measured at the MAC data service access point (SAP), with carrier frequency operation between 1 and 7.250 GHz while ensuring backward compatibility and coexistence with legacy IEEE Std 802.11 compliant devices operating in the 2.4 GHz, 5 GHz, and 6 GHz bands. This amendment defines at least one mode of operation capable of improved worst case latency and jitter.

**Keywords:** EHT, extremely high throughput, jitter, IEEE 802.11™, IEEE 802.11be™, IEEE 802.11bh™, latency, MAC, medium access control, PHY, physical layer, wireless local area network, WLAN

The Institute of Electrical and Electronics Engineers, Inc.  
3 Park Avenue, New York, NY 10016-5997, USA

Copyright © 2025 by The Institute of Electrical and Electronics Engineers, Inc.  
All rights reserved. Published 22 July 2025. Printed in the United States of America.

IEEE and 802 are registered trademarks in the U.S. Patent & Trademark Office, owned by The Institute of Electrical and Electronics Engineers, Incorporated.

Print: ISBN 979-8-8557-1957-4 STDPD27773  
PDF: ISBN 979-8-8557-1956-7 STD27773

IEEE prohibits discrimination, harassment and bullying.

For more information, visit <http://www.ieee.org/aboutus/whatis/policies/p9-26.html>.

No part of this publication may be reproduced in any form, in an electronic retrieval system or otherwise, without the prior written permission of the publisher.

# Important Notices and Disclaimers Concerning IEEE Standards Documents

IEEE Standards documents are made available for use subject to important notices and legal disclaimers. These notices and disclaimers, or a reference to this page (<https://standards.ieee.org/ipr/disclaimers.html>), appear in all standards and may be found under the heading "Important Notices and Disclaimers Concerning IEEE Standards Documents."

## Notice and Disclaimer of Liability Concerning the Use of IEEE Standards Documents

IEEE Standards documents are developed within IEEE Societies and subcommittees of IEEE Standards Association (IEEE SA) Board of Governors. IEEE develops its standards through an accredited consensus development process, which brings together volunteers representing varied viewpoints and interests to achieve the final product. IEEE standards are documents developed by volunteers with scientific, academic, and industry-based expertise in technical working groups. Volunteers are not necessarily members of IEEE or IEEE SA and participate without compensation from IEEE. While IEEE administers the process and establishes rules to promote fairness in the consensus development process, IEEE does not independently evaluate, test, or verify the accuracy of any of the information or the soundness of any judgments contained in its standards.

IEEE makes no warranties or representations concerning its standards, and expressly disclaims all warranties, express or implied, concerning this standard, including but not limited to the warranties of merchantability, fitness for a particular purpose and non-infringement. IEEE Standards documents do not guarantee safety, security, health, or environmental protection, or guarantee against interference with or from other devices or networks. In addition, IEEE does not warrant or represent that the use of the material contained in its standards is free from patent infringement. IEEE Standards documents are supplied "AS IS" and "WITH ALL FAULTS."

Use of an IEEE standard is wholly voluntary. The existence of an IEEE standard does not imply that there are no other ways to produce, test, measure, purchase, market, or provide other goods and services related to the scope of the IEEE standard. Furthermore, the viewpoint expressed at the time a standard is approved and issued is subject to change brought about through developments in the state of the art and comments received from users of the standard.

In publishing and making its standards available, IEEE is not suggesting or rendering professional or other services for, or on behalf of, any person or entity, nor is IEEE undertaking to perform any duty owed by any other person or entity to another. Any person utilizing any IEEE Standards document, should rely upon their own independent judgment in the exercise of reasonable care in any given circumstances or, as appropriate, seek the advice of a competent professional in determining the appropriateness of a given IEEE standard.

IN NO EVENT SHALL IEEE BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO: THE NEED TO PRODUCE SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE PUBLICATION, USE OF, OR RELIANCE UPON ANY STANDARD, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE AND REGARDLESS OF WHETHER SUCH DAMAGE WAS FORESEEABLE.

### Translations

The IEEE consensus balloting process involves the review of documents in English only. In the event that an IEEE standard is translated, only the English version published by IEEE is the approved IEEE standard.

## Use by artificial intelligence systems

In no event shall material in any IEEE Standards documents be used for the purpose of creating, training, enhancing, developing, maintaining, or contributing to any artificial intelligence systems without the express, written consent of IEEE SA in advance. "Artificial intelligence" refers to any software, application, or other system that uses artificial intelligence, machine learning, or similar technologies, to analyze, train, process, or generate content. Requests for consent can be submitted using the Contact Us form.

## Official statements

A statement, written or oral, that is not processed in accordance with the IEEE SA Standards Board Operations Manual shall not be considered or inferred to be the official position of IEEE or any of its committees and shall not be considered to be, nor be relied upon as, a formal position of IEEE. At lectures, symposia, seminars, or educational courses, an individual presenting information on IEEE standards shall make it clear that the presenter's views should be considered the personal views of that individual rather than the formal position of IEEE, IEEE SA, the Standards Committee, or the Working Group. Statements made by volunteers may not represent the formal position of their employer(s) or affiliation(s).

## Comments on standards

Comments for revision of IEEE Standards documents are welcome from any interested party, regardless of membership affiliation with IEEE or IEEE SA. However, **IEEE does not provide interpretations, consulting information, or advice pertaining to IEEE Standards documents.**

Suggestions for changes in documents should be in the form of a proposed change of text, together with appropriate supporting comments. Since IEEE standards represent a consensus of concerned interests, it is important that any responses to comments and questions also receive the concurrence of a balance of interests. For this reason, IEEE and the members of its Societies and subcommittees of the IEEE SA Board of Governors are not able to provide an instant response to comments, or questions except in those cases where the matter has previously been addressed. For the same reason, IEEE does not respond to interpretation requests. Any person who would like to participate in evaluating comments or in revisions to an IEEE standard is welcome to join the relevant IEEE working group. You can indicate interest in a working group using the Interests tab in the Manage Profile & Interests area of the [IEEE SA myProject system](#).<sup>1</sup> An IEEE Account is needed to access the application.

Comments on standards should be submitted using the [Contact Us](#) form.<sup>2</sup>

## Laws and regulations

Users of IEEE Standards documents should consult all applicable laws and regulations. Compliance with the provisions of any IEEE Standards document does not constitute compliance to any applicable regulatory requirements. Implementers of the standard are responsible for observing or referring to the applicable

<sup>1</sup> Available at: <https://development-standards.ieee.org/myproject-web/public/view.html#landing>.

<sup>2</sup> Available at: <https://standards.ieee.org/content/ieee-standards/en/about/contact/index.html>

regulatory requirements. IEEE does not, by the publication of its standards, intend to urge action that is not in compliance with applicable laws, and these documents may not be construed as doing so.

## Data privacy

Users of IEEE Standards documents should evaluate the standards for considerations of data privacy and data ownership in the context of assessing and using the standards in compliance with applicable laws and regulations.

### Copyrighthts

IEEE draft and approved standards are copyrighted by IEEE under U.S. and international copyright laws. They are made available by IEEE and are adopted for a wide variety of both public and private uses. These include both use, by reference, in laws and regulations, and use in private self-regulation, standardization, and the promotion of engineering practices and methods. By making these documents available for use and adoption by public authorities and private users, neither IEEE nor its licensors waive any rights in copyright to the documents.

### Photocopies

Subject to payment of the appropriate licensing fees, IEEE will grant users a limited, non-exclusive license to photocopy portions of any individual standard for company or organizational internal use or individual, non-commercial use only. To arrange for payment of licensing fees, please contact Copyright Clearance Center, Customer Service, 222 Rosewood Drive, Danvers, MA 01923 USA; +1 978 750 8400; <https://www.copyright.com/>. Permission to photocopy portions of any individual standard for educational classroom use can also be obtained through the Copyright Clearance Center.

### Updating of IEEE Standards documents

Users of IEEE Standards documents should be aware that these documents may be superseded at any time by the issuance of new editions or may be amended from time to time through the issuance of amendments, corrigenda, or errata. An official IEEE document at any point in time consists of the current edition of the document together with any amendments, corrigenda, or errata then in effect.

Every IEEE standard is subjected to review at least every 10 years. When a document is more than 10 years old and has not undergone a revision process, it is reasonable to conclude that its contents, although still of some value, do not wholly reflect the present state of the art. Users are cautioned to check to determine that they have the latest edition of any IEEE standard.

In order to determine whether a given document is the current edition and whether it has been amended through the issuance of amendments, corrigenda, or errata, visit [IEEE Xplore](https://ieeexplore.ieee.org) or [contact.IEEE@ieee.org](mailto:contact.IEEE@ieee.org).<sup>3</sup> For more information about the IEEE SA or IEEE's standards development process, visit the IEEE SA Website.

### Errata

Errata, if any, for all IEEE standards can be accessed on the [IEEE SA Website](https://ieee.sa.ieee.org).<sup>4</sup> Search for standard number and year of approval to access the web page of the published standard. Errata links are located under the

<sup>3</sup> Available at: <https://ieeexplore.ieee.org/browse/standards/collection/ieee>

<sup>4</sup> Available at: <https://standards.ieee.org/standard/index.html>

Additional Resources Details section. Errata are also available in [IEEE Xplore](#). Users are encouraged to periodically check for errata.

### Patents

IEEE standards are developed in compliance with the [IEEE SA Patent Policy](#).<sup>5</sup>

Attention is called to the possibility that implementation of this standard may require use of subject matter covered by patent rights. By publication of this standard, no position is taken by the IEEE with respect to the existence or validity of any patent rights in connection therewith. If a patent holder or patent applicant has filed a statement of assurance via an Accepted Letter of Assurance, then the statement is listed on the IEEE SA Website at <https://standards.ieee.org/about/sasb/patcom/patents.html>. Letters of Assurance may indicate whether the Submitter is willing or unwilling to grant licenses under patent rights without compensation or under reasonable rates, with reasonable terms and conditions that are demonstrably free of any unfair discrimination to applicants desiring to obtain such licenses.

Essential Patent Claims may exist for which a Letter of Assurance has not been received. The IEEE is not responsible for identifying Essential Patent Claims for which a license may be required, for conducting inquiries into the legal validity or scope of Patents Claims, or determining whether any licensing terms or conditions provided in connection with submission of a Letter of Assurance, if any, or in any licensing agreements are reasonable or non-discriminatory. Users of this standard are expressly advised that determination of the validity of any patent rights, and the risk of infringement of such rights, is entirely their own responsibility. Further information may be obtained from the IEEE Standards Association.

## IMPORTANT NOTICE

Technologies, application of technologies, and recommended procedures in various industries evolve over time. The IEEE standards development process allows participants to review developments in industries, technologies, and practices, and to determine what, if any, updates should be made to the IEEE standard. During this evolution, the technologies and recommendations in IEEE standards may be implemented in ways not foreseen during the standard's development. IEEE standards development activities consider research and information presented to the standards development group in developing any safety recommendations. Other information about safety practices, changes in technology or technology implementation, or impact by peripheral systems also may be pertinent to safety considerations during implementation of the standard. Implementers and users of IEEE Standards documents are responsible for determining and complying with all appropriate safety, security, environmental, health, and interference protection practices and all applicable laws and regulations.

<sup>5</sup> Available at: <https://standards.ieee.org/about/sasb/patcom/materials.html>.

## Participants

At the time this amendment was sent to sponsor ballot, the IEEE 802.11 Working Group (WG) had the following officers:

**Robert Stacey, Chair**  
**Jon Walter Rosdahl, 1<sup>st</sup> Vice Chair**  
**Stephen McCann, 2<sup>nd</sup> Vice Chair**  
**Volker Jungnickel, Secretary**

The officers of the WG Task Group be and the members of the WG ballot group for this amendment are as follows:

**Alfred Asterjadhi, Chair**  
**Laurent Cariou, 1<sup>st</sup> Vice Chair**  
**Matthew Fischer, 2<sup>nd</sup> Vice Chair**  
**Yuchen Guo, Secretary**  
**Edward Au, Technical Editor**

Rana Abdelaal  
Mohamed Abouelseoud  
Osama S. Aboulmagd  
Tomoko Adachi  
Olubukola Adakeja  
Shubhodeep Adhikari  
Peyush Agarwal  
Kosuke Aio  
Abdel Karim Ajami  
Dmitry Akhmetov  
Carlos Aldana  
Vamsi Amalladinne  
Song-Haur An  
Amelia Andersotter  
Diego Arlandis  
Antonio Arregui  
Yusuke Asai  
Alfred Asterjadhi  
Kwok Shum Au  
Oscar Au  
Ziv Avital  
Geert Awater  
Mehmet Aygul  
Agustin Badenes  
SunHae Baek  
Eugene Baik  
Gabor Bajko  
Hari Ram Balakrishnan  
Subharthi Banerjee  
Dmitry Bankov  
Stéphane Baron  
David Barr  
Anuj Batra  
Tuncer Baykas  
Chris Beg  
Firouz Behnamfar  
Jianwei Bei  
Yaron Ben Arie  
Friedbert Berens  
Christian Berger  
Alan Berkema  
Harry Bims

Andreas Bluschke  
Lennert Bober  
David Boldy  
Daniel Borges  
Daniel Bravo  
Albert Bredewoud  
Frank Burkhardt  
Radhakrishna Canchi  
Rui Cao  
Laurent Cariou  
William Carney  
Edward Carter  
Dave Cavalcanti  
Gurkan Cepni  
Chen-Yi Chang  
Clint F. Chaplin  
Matthew Chappell  
Kirill Chemrov  
Cheng Chen  
Evelyn Chen  
Xiaogang Chen  
You-Wei Chen  
Paul Cheng  
Phoebe Cheng  
Xilin Cheng  
George Cherian  
James Chiang  
Rojan Chittrakar  
Lin-Kai Chiu  
Shi Baw Chng  
Hangyu Cho  
Jinsoo Choi  
Seungho Choo  
Liwen Chu  
Jinyoung Chun  
Bruce Chung  
Chulho Chung  
Dana Ciochina

John Coffey  
Carlos Cordeiro  
Diana Cortes  
Claudio da Silva  
Dibakar Das  
Subir Das  
Debashis Dash  
Leonard Dauphinee  
Rolf J de Vegt  
Antonio DeLaOlivaDelgado  
Thomas Derham  
Patrice Desmoulin  
Rocco Di Taranto  
Yanyi Ding  
Ali Dogukan  
Mingjie Dong  
Xiadong Dong  
Rui Du  
Zhenguo Du  
Peter Ecclesine  
Richard Edgar  
Alecsander Eitan  
Ahmed ElSherif  
Marc Emmelmann  
Vinko Erceg  
Serhat Erkucuk  
Shuang Fan  
Juan Fang  
Yonggang Fang  
Shuling Feng  
David Ferruz  
Ming Gan  
Trivikram Gangur  
Ning Gao  
Lalit Garg  
Thomas Gee  
Alireza Ghaderipoor  
Chittabratra Ghosh  
James Gilb  
Sachin Godbole  
Tim Codfrey

Bo Gong  
Hemamali Gorthi  
Fumihide Goto  
Niranjan Grandhe  
Michael Grigat  
Xiangxin Gu  
Romain Guignard  
Jing Guo  
Yuchen Guo  
Binita Gupta  
Raghvendra Gupta  
Luis Gutierrez  
Muhammad Kumail Haider  
David Halasz  
Mark Hamilton  
Xiao Han  
Zhiqiang Han  
Thomas Handte  
Vlado Handziski  
Christopher Hansen  
Daniel Harkins  
Edward Harrison  
Brian Hart  
Victor Hayes  
Chuanfeng He  
Jerome Henry  
Marco Hernandez  
Lili Hervieu  
Guido R. Hiertz  
Ryuichi Hirata  
Duncan Ho  
Oliver Holland  
Ching-Wen Hsiao  
Hung-Tao Hsieh  
Chien-Fang Hsu  
Ostrovsky Hsu  
Chunyu Hu  
Mengshi Hu  
Shengquan Hu  
Chihan Huang  
Guogang Huang  
Lei Huang  
Po-Kai Huang  
Qisheng Huang  
Kazi Mohammed Saidul Huq  
Sung Hyun Hwang  
Ahmed Ibrahim  
Tetsushi Ikegami  
Hirohiko Inohiza  
Salvador Iranzo  
Insun Jang  
Timothy Jeffries  
Eunsung Jeon  
Chenhe Ji  
Jia Jia  
Feng Jiang  
Jinjing Jiang  
Hanjin Joh  
Alan Jones  
Vincent Knowles Jones IV  
Jorge Juarez  
Volker Jungnickel  
Ishaque Ashar Kadampot  
Carl Kain

Naveen Kakani  
Manoj Kamath  
Mahmoud Kamel  
Sundeep Kancherla  
Srinivas Kandala  
HaoHua Kang  
Sugbong Kang  
Sudhir Kasargod  
Assaf Y. Kasher  
Oren Kedem  
Richard H. Kennedy  
John Kenney  
Stuart J. Kerry  
Naseem Khan  
Evgeny Khorov  
Jeongki Kim  
Myeong-Jin Kim  
Sang Gook Kim  
Sanghyun Kim  
Yongho Kim  
Youhan Kim  
Akira Kishida  
Shoichi Kitazawa  
Arik Klein  
Andrey Klimakov  
Jarkko Kneckt  
Geonjung Ko  
Prashant Kotta  
Michail Koundourakis  
Aleksandra Kozarev  
Bruce P. Kraemer  
Chung-Ta Ku  
Manish Kumar  
Warren Kumari  
Chih-Chun Kuo  
Aleksey Kureev  
Massinissa Lalam  
Zhou Lan  
Leonardo Lanante  
James Lansford  
Brice Le Houerou  
Hong Won Lee  
Hyeong Ho Lee  
Nancy Lee  
Wookbong Lee  
Chris Levesque  
Ilya Levitsky  
Joseph Levy  
Bo Li  
Jialing Li  
Qinghua Li  
Yan Li  
Yapu Li  
Yiqing Li  
Yumbo Li  
Dong Guk Lim  
Hsin-De Lin  
Wei Lin  
Yousi Lin  
Zinan Lin  
Erik Lindsbog  
Chenchen Liu  
Der-Zheng Liu  
Jianhan Liu

Ying Liu  
Yong Liu  
Zhiqun Liu  
Vyacheslav Loginov  
Miguel Lopez  
Mikael Lorgeoux  
Hanqing Lou  
Hui-Ling Lou  
Kaiying Lu  
Liuming Lu  
Kurt Lumbatis  
Chaoming Lou  
Lily Lv  
Mikhail Lyakh  
Li Ma  
Mengyao Ma  
Dimitrii Malichenko  
Jouni Malinen  
Hiroshi Mano  
Roger Marks  
Marcos Martinez Vazquez  
Sebastian Max  
Stephen McCann  
Daniele Medda  
Morteza Mehrnoush  
Ezer Melzer  
Ebbekir Memisoglu  
Apurva Mody  
Dignus-Jan Moelker  
Bibhu Mohanty  
Pooya Monajemi  
Michael Montemurro  
Leo Montreuil  
Juscong Moon  
Hitoshi Morioka  
Hiroyuki Motozuka  
Robert Mueller  
Lakshmi Narayana Mukkapati  
Okan Mutgan  
Andrew Myles  
Kengo Nagata  
Gaurang Naik  
Hiroki Nakano  
Junyoung Nam  
Vamadevan Namboodiri  
Nima Namvar  
Sai Shankar Nandagopalan  
Narengerile Narengerile  
Sharan Naribole  
Karim Nassiri Toussi  
Peshal Nayak  
Patrice Nezou  
Boon Loong Ng  
An Nguyen  
Paul Nikolich  
Yujiin Noh  
Hiraku Okada  
Hasan Omar  
Stephen Orr  
Masatomo Ouchi  
Satoshi Oyama  
Basak Ozbaklis  
Saju Palayur  
Stephen Palm

Sheetal Pandey  
Thomas Pare  
Eunsung Park  
Minyoung Park  
Sungjin Park  
Glenn Parsons  
Abhishek Patil  
Gaurav Patwardhan  
Lan Peng  
Ronny Peng  
Eldad Perahia  
James Petranovich  
Albert Petrick  
Brian Petry  
Charlie Petterson  
Ron Porat  
Clinton Powell  
Dinakar Prabhakaran  
Henry Ptasinski  
Srinath Puducher  
Rethnakaran Pulikkoonattu  
Rajat Pushkarna  
Emily H. Qi  
Saira Rafique  
Kapil Rai  
Alireza Raissinia  
Enrico-Henrik Rantala  
Vishnu Ratnam  
Oded Redlich  
Kiran Rege  
Dror Regev  
Mor Reich  
Meriam Rezk  
Maximilian Riegel  
Mark Rison  
Joerg Robert  
Craig Rodine  
Benjamin Rolfe  
Jon Walter Rosdahl  
Sayak Roy  
Kiseon Ryu  
Anirudha Sahoo  
Mohamed Salem  
Hanadi Salman  
Sam Sambasivan  
Stephan Sand  
Ioannis Sarris  
Naotaka Sato  
Takuiro Sato  
Sigurd Schelstraete  
Martin Schmidhammer  
Benedikt Schweizer  
Andy Scott  
Jonathan Segev  
Sangho Seo  
Joseph Seok  
Yongho Seok  
Nikola Serafimovski  
Ankit Sethi  
Julien Sevin  
Rubayet Shafin  
Amit Shaw

Stephen J Shellhammer  
Andy Shen  
Xiaoman Shen  
Ian Sherlock  
Shimi Shilo  
Atsushi Shirakawa  
Tongxin Shu  
Ulrich Sinn  
Graham K Smith  
Luther Smith  
Ju-Hyung Son  
Hao Song  
Ayush Sood  
Robert Sosack  
Sudhir Srinivasa  
Veena Srivatsa  
Dorothy Stanley  
Robert Stacey  
Adrian P. Stephens  
Noel Stott  
Paul Strauch  
Hang Su  
Hongjia Su  
Jung Hoon H. Suh  
Takenori Sumi  
Bo Sun  
Li-Hsiang Sun  
Sheng Sun  
Yanjun Sun  
Dennis Sundman  
Frank Suraci  
Szymon Szott  
Shivkumar Tadahal  
Mineo Takai  
Danny Tan  
Yusuke Tanaka  
Rakesh Taori  
Darshak Thakore  
Sidharth Thakur  
Sri Rama Thota  
Francesco Thomy  
Bin Tian  
Alexander Tolpin  
Alejandro Torrijo  
Solomon B Trainin  
Tzung-Han Tsai  
Genadiy Tsodik  
Yuki Tsujimaru  
Chunjiang Tu  
Halise Turkmen  
Kiran Uln  
Paul Unterhuber  
Yoshio Urabe  
Richard D. Van Nee  
Allert Van Zelst  
Prabodh Varshney  
Daniel Verenzuela  
Lochan Verma  
Sindhu Verma  
Sameer Vermani  
Santiago Vicent Colonques  
Pascal Viger

Chao Chun Wang  
Hao Wang  
Hejun Wang  
Huizhao Wang  
Lei Wang  
Qi Wang  
Shukun Wang  
Steven Qi Wang  
Xiaofei Wang  
Zisheng Wang  
Roy Want  
Lisa Ward  
Dong Wei  
Matthias Wendt  
Menzo M Wentink  
Leif Wilhelmsson  
Hao Wu  
Kanke Wu  
Tianyu Wu  
Wayne Wu  
John Wullert  
Qing Xia  
Bo Xiao  
Liangxiao Xin  
Yan Xin  
Fangxin Xu  
Weijie Xu  
Yanchao Xu  
Hassan Yaghoobi  
Ryota Yamada  
Aiguo Yan  
Zhongjiang Yan  
Bo Yang  
Jay Yang  
Lin Yang  
Mao Yang  
Rui Yang  
Steve TS Yang  
Xun Yang  
Kazuto Yano  
James Yee  
Peter Yee  
Yongjiang Yi  
Takahiro Yokoyama  
Su Khiong K Yong  
Homin Yoo  
Jeonghwan Yoon  
Yuki Yoshikawa  
Christopher Young  
Jian Yu  
Fangchao Yuan  
Salah Eddine Zegrar  
Ruochen Zeng  
Hongyuan Zhang  
Jiayi Zhang  
Jiayin Zhang  
Yan Zhang  
Lei Zhou  
Pei Zhou  
Renlong Zho  
Juan Carlos Zuniga  
Zhisong Zuo

The following members of the individual balloting committee voted on this revision. Balloters may have voted for approval, disapproval, or abstention.

Osama Aboulmagd  
Tomoko Adachi  
Abdel Karim Ajami  
Thomas Alexander  
Boon Chong Ang  
Carol Ansley  
Butch Anton  
Alfred Asterjadhi  
Kwok Shum Au  
Stefan Aust  
Madhusudan Banavara  
Stephane Baron  
Tuncer Baykas  
Harry Bims  
Vern Brethour  
William Carney  
Juan Carreon  
Clark Carty  
Pin Chang  
Cheng Chen  
David Chen  
Giovanni Chisci  
Paul Chiuchio  
Baw Chng  
Claudio da Silva  
Subir Das  
Hendricus De Ruijter  
Xiandong Dong  
Donald Dunn  
Alessander Eitan  
Marc Emmelmann  
Joseph Epstein  
Serhat Erkuçuk  
Michael Fischer  
Avraham Freedman  
Sho Furuichi  
Xiangxin Gu  
Binita Gupta  
Muhammad Kumail Haider  
David Halasz  
Mark Hamilton  
Brian Hart  
Jerome Henry  
Marco Hernandez  
Lili Hervieu  
Guido R. Hiertz  
Ryuichi Hirata  
Werner Hoelzl  
Oliver Holland  
Xiaokun Hu  
Kazi Mohammed Saidul Huq  
Tetsushi Ikegami  
Raj Jain  
SangKwon Jeong  
Vincent Knowles Jones IV  
Joe Natharoj Juisei  
Volker Jungnickel  
Lokesh Kabra  
Naveen Kakani

Srinivas Kandala  
Ruslan Karmanov  
Piotr Karocki  
John Kenney  
Stuart Kerry  
Myeong-Jin Kim  
Yongbum Kim  
Yongho Kim  
Youhan Kim  
Ryota Kimura  
Shoichi Kitazawa  
Jarkko Kneek  
Takashi Kuramochi  
Gavin Lai  
Massinissa Lalam  
Leonardo Lanante  
Hyeong Ho Lee  
Richard Lee  
James Lepp  
Joseph Levy  
Jialing Li  
Qinghua Li  
Wei Yi Li  
Yong Liu  
Haiying Lu  
Greg Luri  
V. Yongsen Ma  
Valerie Maguire  
Jouni Malinen  
Christophe Mangin  
William Rogelio Marchand Nino  
Roger Marks  
Stephen McCann  
Brett McClellan  
Jonathon McLendon  
Pooya Monajemi  
Michael Montemurro  
Juseong Moon  
Hiroyuki Motozuka  
Ronald Murias  
Rick Murphy  
Rajesh Murthy  
Gaurang Naik  
Paul Nikolich  
Stephen Orr  
Satoshi Oyama  
Glenn Parsons  
Bansi Patel  
Abhishek Patil  
Gaurav Patwardhan  
Arumugam Paventhan  
Eldad Perahia  
Clinton Powell  
Venkatesha Prasad  
Josh Redmore  
Maximilian Riegel  
Craig Rodine  
Stephen Rodriguez

Benjamin Rolfe  
Jon Walter Rosdahl  
Shigenobu Sasaki  
Naotaka Sato  
Sigurd Schelstraete  
Jhony Sembiring  
Yongho Seok  
Ian Sherlock  
Matthew Shoemake  
Di Dieter Smely  
Robert Sosack  
Robert Stacey  
Dorothy Stanley  
Owen Steinbacher Jr  
Noel Stott  
Walter Struppler  
Mark Sturza  
Jung Hoon Suh  
Bo Sun  
Li-Hsiang Sun  
Yanjun Sun  
Salvatore Talarico  
Yusuke Tanaka  
Rakesh Taori  
David Tepen  
Payam Torab Jahromi  
Solomon Trainin  
Maulik Vaidya  
Allert Van Zelst  
Prabodh Varshney  
John Vergis  
Pascal Viger  
Harry Wang  
Hejun Wang  
Lei Wang  
Qi Wang  
Xiaofei Wang  
Xiaohui Wang  
Yi-Hsiu Wang  
Lisa Ward  
Stephen Webb  
Dong Wei  
Hung-Yu Wei  
Matthias Wendt  
Menzo Wentink  
Andreas Wolf  
Tianyu Wu  
John Wullert  
Qing Xia  
Fangxin Xu  
Peng Yan  
Jay Yang  
Kazuto Yano  
James Yee  
Yu Yuan  
Oren Yuen  
Jiayi Zhang  
lihua zhu  
Jun Carlos Zuniga

When the IEEE SA Standards Board approved this recommended practice on 26 September 2024, it had the following membership:

**David J. Law, Chair**  
**Jon Walter Rosdahl, Vice Chair**  
**Gary Hoffman, Past Chair**  
**Alpesh Shah, Secretary**

Sara R. Biyabani  
Ted Burse  
Stephen Dukes  
Doug Edwards  
J. Travis Griffith  
Guido R. Hiertz  
Ronald W. Hotchkiss  
Hao Hu

Yousef Kimiagar  
Joseph L. Koepfinger\*  
Howard Li  
Xiaohui Liu  
John Haiying Lu  
Kevin W. Lu  
Hiroshi Mano

Paul Nikolich  
Robby Robson  
Mark Siira  
Lei Wang  
F. Keith Waters  
Sha Wei  
Philip B. Winston  
Don Wright

\*Member Emeritus

# Introduction

This introduction is not part of IEEE Std 802.11be-2024, IEEE Standard for Information Technology—Telecommunications and Information Exchange between Systems—Local and Metropolitan Area Networks—Specific Requirements—Part 11: Wireless LAN Medium Access Control (MAC) and Physical Layer (PHY) Specifications—Amendment 2: Enhancements for Extremely High Throughput.

This amendment defines standardized modifications to both the IEEE Std 802.11 physical layers (PHY) and the Medium Access Control Layer (MAC) that enable at least one mode of operation capable of supporting a maximum throughput of at least 30 Gbit/s, as measured at the MAC data service access point (SAP), with carrier frequency operation between 1 and 7.250 GHz while ensuring backward compatibility and coexistence with legacy IEEE Std 802.11 compliant devices operating in the 2.4 GHz, 5 GHz, and 6 GHz bands. This amendment defines at least one mode of operation capable of improved worst case latency and jitter.

# Contents

| 1.        | Overview                                                  | 53 |
|-----------|-----------------------------------------------------------|----|
| 1.4       | Word Usage                                                | 53 |
| 1.5       | Terminology for mathematical, logical, and bit operations | 53 |
| 2.        | Normative references                                      | 54 |
| 3.        | Definitions, acronyms, and abbreviations                  | 55 |
| 3.1       | Definitions                                               | 55 |
| 3.2       | Definitions specific to IEEE 802.11                       | 56 |
| 3.4       | Abbreviations and acronyms                                | 64 |
| 4.        | General description                                       | 65 |
| 4.3       | Components of the IEEE Std 802.11 architecture            | 65 |
| 4.3.5     | Distribution system (DS) concepts                         | 65 |
| 4.3.5.2   | Extended service set (ESS): the large coverage network    | 65 |
| 4.3.8     | Robust security network association (RSNA)                | 65 |
| 4.3.16a   | Extremely high throughput (EHT) STA                       | 66 |
| 4.3.22    | Wireless network management                               | 67 |
| 4.3.22.2  | BSS max idle period management                            | 67 |
| 4.3.22.2a | MLD max idle period management                            | 68 |
| 4.3.22.23 | WNM sleep mode                                            | 68 |
| 4.5       | Overview of the services                                  | 68 |
| 4.5.3     | Connectivity-related services                             | 68 |
| 4.5.3.1   | General                                                   | 68 |
| 4.5.3.2   | Mobility types                                            | 68 |
| 4.5.3.3   | Association                                               | 69 |
| 4.5.3.4   | Reassociation                                             | 70 |
| 4.5.3.5   | Disassociation                                            | 71 |
| 4.5.4     | Access control and data confidentiality services          | 71 |
| 4.5.4.10  | MAC privacy enhancements                                  | 71 |
| 4.5.6     | Traffic differentiation and QoS support                   | 72 |
| 4.5.6.3   | Support for predictable latency                           | 72 |
| 4.5.13    | EPCS priority access                                      | 72 |
| 4.9       | Reference model                                           | 73 |
| 4.9.4     | Reference model for multi-band operation                  | 73 |
| 4.9.6     | Reference model for multi-link operation (MLO)            | 73 |
| 5.        | MAC service definition                                    | 78 |
| 5.1       | Overview of MAC services                                  | 78 |
| 5.1.5     | MAC data service architecture                             | 78 |
| 5.1.5.1   | General                                                   | 78 |
| 5.1.5.1a  | MLD MAC sublayer functions                                | 81 |
| 5.1.5.10  | Non-AP MLD role                                           | 82 |
| 5.1.5.11  | AP MLD role                                               | 82 |
| 5.2       | MAC data service specification                            | 83 |
| 5.2.4     | MA-UNITDATA.request                                       | 83 |
| 5.2.4.2   | Semantics of the service primitive                        | 83 |

| 6.        | Layer management                   | 84 |
|-----------|------------------------------------|----|
| 6.1       | Overview of management model       | 84 |
| 6.3       | MLME SAP interface                 | 84 |
| 6.3.1     | Introduction                       | 84 |
| 6.4       | Table of MLME SAP interfaces       | 84 |
| 6.5       | MLME SAP primitives                | 85 |
| 6.5.3     | Scan                               | 85 |
| 6.5.3.2   | MLME-SCAN.request                  | 85 |
| 6.5.3.2.2 | Semantics of the service primitive | 85 |
| 6.5.3.3   | MLME-SCAN.confirm                  | 86 |
| 6.5.3.2   | Semantics of the service primitive | 86 |
| 6.5.4     | Synchronization                    | 87 |
| 6.5.4.2   | MLME-JOIN.request                  | 87 |
| 6.5.4.2.2 | Semantics of the service primitive | 87 |
| 6.5.5     | Authenticate                       | 88 |
| 6.5.5.1   | Introduction                       | 88 |
| 6.5.5.2   | MLME-AUTHENTICATE.request          | 88 |
| 6.5.5.2.2 | Semantics of the service primitive | 88 |
| 6.5.5.2.3 | When generated                     | 88 |
| 6.5.5.2.4 | Effect of receipt                  | 89 |
| 6.5.5.3   | MLME-AUTHENTICATE.confirm          | 89 |
| 6.5.5.3.2 | Semantics of the service primitive | 89 |
| 6.5.5.4   | MLME-AUTHENTICATE.indication       | 89 |
| 6.5.5.4.1 | Function                           | 89 |
| 6.5.5.4.2 | Semantics of the service primitive | 89 |
| 6.5.5.5   | MLME-AUTHENTICATE.response         | 90 |
| 6.5.5.5.1 | Function                           | 90 |
| 6.5.5.5.2 | Semantics of the service primitive | 90 |
| 6.5.5.5.3 | When generated                     | 90 |
| 6.5.6     | Deauthenticate                     | 91 |
| 6.5.6.2   | MLME-DEAUTHENTICATE.request        | 91 |
| 6.5.6.2.3 | When generated                     | 91 |
| 6.5.7     | Associate                          | 91 |
| 6.5.7.1   | Introduction                       | 91 |
| 6.5.7.2   | MLME-ASSOCIATE.request             | 91 |
| 6.5.7.2.1 | Function                           | 91 |
| 6.5.7.2.2 | Semantics of the service primitive | 92 |
| 6.5.7.2.3 | When generated                     | 93 |
| 6.5.7.2.4 | Effect of receipt                  | 93 |
| 6.5.7.3   | MLME-ASSOCIATE.confirm             | 93 |
| 6.5.7.3.1 | Function                           | 93 |
| 6.5.7.3.2 | Semantics of the service primitive | 93 |
| 6.5.7.3.3 | When generated                     | 94 |
| 6.5.7.4   | MLME-ASSOCIATE.indication          | 95 |
| 6.5.7.4.1 | Function                           | 95 |
| 6.5.7.4.2 | Semantics of the service primitive | 95 |
| 6.5.7.5   | MLME-ASSOCIATE.response            | 96 |
| 6.5.7.5.1 | Function                           | 96 |
| 6.5.7.5.2 | Semantics of the service primitive | 96 |
| 6.5.7.5.3 | When generated                     | 97 |
| 6.5.8     | Reassociate                        | 97 |
| 6.5.8.1   | Introduction                       | 97 |
| 6.5.8.2   | MLME-REASSOCIATE.request           | 97 |

| 6.5.8.2.1 Function                            | 97  |
|-----------------------------------------------|-----|
| 6.5.8.2.2 Semantics of the service primitive  | 97  |
| 6.5.8.2.3 When generated                      | 98  |
| 6.5.8.2.4 Effect of receipt                   | 98  |
| 6.5.8.3 MLME-REASSOCIATE.confirm              | 98  |
| 6.5.8.3.1 Function                            | 98  |
| 6.5.8.3.2 Semantics of the service primitive  | 99  |
| 6.5.8.3.3 When generated                      | 100 |
| 6.5.8.4 MLME-REASSOCIATE.indication           | 100 |
| 6.5.8.4.2 Semantics of the service primitive  | 100 |
| 6.5.8.5 MLME-REASSOCIATE.response             | 101 |
| 6.5.8.5.1 Function                            | 101 |
| 6.5.8.5.2 Semantics of the service primitive  | 101 |
| 6.5.8.5.3 When generated                      | 102 |
| 6.5.9 Disassociate                            | 102 |
| 6.5.9.1 MLME-DISASSOCIATE.request             | 102 |
| 6.5.9.1.3 When generated                      | 102 |
| 6.5.11 Start                                  | 102 |
| 6.5.11.2 MLME-START.request                   | 102 |
| 6.5.11.2.2 Semantics of the service primitive | 102 |
| 6.5.11.2.3 When generated                     | 103 |
| 6.5.12 Stop                                   | 103 |
| 6.5.12.2 MLME-Stop.request                    | 103 |
| 6.5.12.2.3 When generated                     | 103 |
| 6.5.30 Link disable                           | 103 |
| 6.5.30.1 Introduction                         | 103 |
| 6.5.30.2 MLME-BSS-LINK-DISABLE.request        | 104 |
| 6.5.30.2.1 Function                           | 104 |
| 6.5.30.2.2 Semantics of the service primitive | 104 |
| 6.5.30.2.3 When generated                     | 104 |
| 6.5.30.2.4 Effect of receipt                  | 104 |
| 6.5.30.3 MLME-BSS-LINK-DISABLE.confirm        | 104 |
| 6.5.30.3.1 Function                           | 104 |
| 6.5.30.3.2 Semantics of the service primitive | 104 |
| 6.5.30.3.3 When generated                     | 105 |
| 6.5.30.3.4 Effect of receipt                  | 105 |
| 6.5.31 Link enable                            | 105 |
| 6.5.31.1 Introduction                         | 105 |
| 6.5.31.2 MLME-BSS-LINK-ENABLE.request         | 105 |
| 6.5.31.2.1 Function                           | 105 |
| 6.5.31.2.2 Semantics of the service primitive | 105 |
| 6.5.31.2.3 When generated                     | 105 |
| 6.5.31.2.4 Effect of receipt                  | 106 |
| 6.5.31.3 MLME-BSS-LINK-ENABLE.confirm         | 106 |
| 6.5.31.3.1 Function                           | 106 |
| 6.5.31.3.2 Semantics of the service primitive | 106 |
| 6.5.31.3.3 When generated                     | 106 |
| 6.5.31.3.4 Effect of receipt                  | 106 |
| 6.5.32 AP removal                             | 106 |
| 6.5.32.1 Introduction                         | 106 |
| 6.5.32.2 MLME-BSS-AP-REMOVAL.request          | 106 |
| 6.5.32.2.1 Function                           | 106 |
| 6.5.32.2.2 Semantics of the service primitive | 106 |
| 6.5.32.2.3 When generated                     | 107 |

| 6.5.32.2.4 Effect of receipt                                                                        | 107 |
|-----------------------------------------------------------------------------------------------------|-----|
| 6.5.32.3 MLME-BSS-AP-REMOVAL confirm                                                                | 107 |
| 6.5.32.3.1 Function                                                                                 | 107 |
| 6.5.32.3.2 Semantics of the service primitive                                                       | 107 |
| 6.5.32.3.3 When generated                                                                           | 107 |
| 6.5.32.3.4 Effect of receipt                                                                        | 107 |
| 7. DS SAP specification                                                                             | 108 |
| 7.1 Introduction                                                                                    | 108 |
| 7.2 SAP primitives                                                                                  | 109 |
| 7.2.3 Mapping updates                                                                               | 109 |
| 7.2.3.1 General                                                                                     | 109 |
| 7.2.3.2 DS-STA-NOTIFY.request                                                                       | 110 |
| 7.2.3.2.2 Semantics of the service primitive                                                        | 110 |
| 7.2.3.2.3 When generated                                                                            | 110 |
| 7.2.3.2.4 Effect of receipt                                                                         | 110 |
| 8. PHY service specification                                                                        | 111 |
| 8.3 Detailed PHY service specifications                                                             | 111 |
| 8.3.5 PHY SAP detailed service specification                                                        | 111 |
| 8.3.5.12 PHY-CCA.indication                                                                         | 111 |
| 8.3.5.12.2 Semantics of the service primitive                                                       | 111 |
| 8.3.5.12.3 When generated                                                                           | 111 |
| 9. Frame formats                                                                                    | 113 |
| 9.1 General requirements                                                                            | 113 |
| 9.2 MAC frame formats                                                                               | 113 |
| 9.2.4 Frame fields                                                                                  | 113 |
| 9.2.4.1 Frame Control field                                                                         | 113 |
| 9.2.4.1.3Type and Subtype subfields                                                                 | 113 |
| 9.2.4.1.8More Data subfield                                                                         | 113 |
| 9.2.4.3 Address field                                                                               | 114 |
| 9.2.4.3.8TA field                                                                                   | 114 |
| 9.2.4.5 QoS Control field                                                                           | 114 |
| 9.2.4.5.4 Ack Policy Indicator subfield                                                             | 114 |
| 9.2.4.5.6 Queue Size subfield                                                                       | 115 |
| 9.2.4.6 HT Control field                                                                            | 115 |
| 9.2.4.6.1 General                                                                                   | 115 |
| 9.2.4.6.4 HE variant                                                                                | 116 |
| 9.2.4.7 Control subfield variants of an A-Control subfield                                          | 117 |
| 9.2.4.7.1 TRS Control                                                                               | 117 |
| 9.2.4.7.6 BQR Control                                                                               | 118 |
| 9.2.4.7.8 EHT OM Control                                                                            | 119 |
| 9.2.4.7.9 SRS Control                                                                               | 121 |
| 9.2.4.7.10 AAR Control                                                                              | 121 |
| 9.2.4.7.11 ELA Control                                                                              | 122 |
| 9.2.4.8 Frame Body field                                                                            | 126 |
| 9.2.4.8.1 General                                                                                   | 126 |
| 9.2.5 Duration/ID field (QoS STA)                                                                   | 127 |
| 9.2.5.2 Setting for single and multiple protection under enhanced distributed channel access (EDCA) | 127 |

| 9.3         | Format of individual frame types               | 128 |
|-------------|------------------------------------------------|-----|
| 9.3.1       | Control frames                                 | 128 |
| 9.3.1.2     | RTS frame format                               | 128 |
| 9.3.1.5     | PS-Poll frame format                           | 128 |
| 9.3.1.5.1   | General                                        | 128 |
| 9.3.1.6     | CF-End frame format                            | 128 |
| 9.3.1.7     | BlockAckReq frame format                       | 129 |
| 9.3.1.7.1   | Overview                                       | 129 |
| 9.3.1.8     | BlockAck frame format                          | 129 |
| 9.3.1.8.2   | Compressed BlockAck variant                    | 129 |
| 9.3.1.8.6   | Multi-STA BlockAck variant                     | 130 |
| 9.3.1.19    | VHT/HE/Ranging NDP Announcement frame format   | 132 |
| 9.3.1.19.1  | General description                            | 132 |
| 9.3.1.19.2  | VHT NDP Announcement frame format              | 134 |
| 9.3.1.19.3  | HE NDP Announcement frame format               | 135 |
| 9.3.1.19.4  | Ranging NDP Announcement frame format          | 138 |
| 9.3.1.19.5  | EHT NDP Announcement frame format              | 141 |
| 9.3.1.22    | Trigger frame format                           | 144 |
| 9.3.1.22.1  | General                                        | 144 |
| 9.3.1.22.2  | Common Info field                              | 146 |
| 9.3.1.22.3  | Special User Info field                        | 152 |
| 9.3.1.22.4  | HE variant User Info field                     | 155 |
| 9.3.1.22.5  | EHT variant User Info field                    | 159 |
| 9.3.1.22.6  | Basic Trigger frame format                     | 166 |
| 9.3.1.22.7  | BFRP Trigger frame format                      | 166 |
| 9.3.1.22.8  | MU-BAR Trigger frame format                    | 166 |
| 9.3.1.22.9  | MU-RTS Trigger frame format                    | 167 |
| 9.3.1.22.10 | BSRP Trigger frame format                      | 169 |
| 9.3.1.22.11 | GCR MU-BAR Trigger frame format                | 170 |
| 9.3.1.22.12 | BQRP Trigger frame format                      | 170 |
| 9.3.1.22.13 | NFRP Trigger frame format                      | 170 |
| 9.3.1.22.14 | Ranging Trigger frame format                   | 170 |
| 9.3.2       | Data frames                                    | 170 |
| 9.3.2.1     | Format of Data frames                          | 170 |
| 9.3.2.1.2   | Address and BSSID fields                       | 170 |
| 9.3.3       | (PV0) Management frames                        | 171 |
| 9.3.3.1     | Format of (PV0) Management frames              | 171 |
| 9.3.3.2     | Beacon frame format                            | 172 |
| 9.3.3.5     | Association Request frame format               | 172 |
| 9.3.3.6     | Association Response frame format              | 173 |
| 9.3.3.7     | Reassociation Request frame format             | 174 |
| 9.3.3.8     | Reassociation Response frame format            | 174 |
| 9.3.3.9     | Probe Request frame format                     | 175 |
| 9.3.3.10    | Probe Response frame format                    | 178 |
| 9.3.3.11    | Authentication frame format                    | 179 |
| 9.3.3.13    | Action frame format                            | 179 |
| 9.4         | Management and Extension frame body components | 180 |
| 9.4.1       | Fields that are not elements                   | 180 |
| 9.4.1.4     | Capability Information field                   | 180 |
| 9.4.1.5     | Current AP Address field                       | 181 |
| 9.4.1.6     | Listen Interval field                          | 181 |
| 9.4.1.8     | AID field                                      | 182 |
| 9.4.1.9     | Status Code field                              | 182 |
| 9.4.1.11    | Action field                                   | 183 |

| 9.4.1.40    | Finite Cyclic Group field                            | 183 |
|-------------|------------------------------------------------------|-----|
| 9.4.1.51    | Operating Mode field                                 | 184 |
| 9.4.1.72    | EHT MIMO Control field                               | 185 |
| 9.4.1.73    | EHT Compressed Beamforming Report field              | 188 |
| 9.4.1.74    | EHT MU Exclusive Beamforming Report field            | 191 |
| 9.4.1.75    | EHT CQI Report field                                 | 192 |
| 9.4.1.76    | EML Control field                                    | 193 |
| 9.4.1.77    | Link ID Info field                                   | 197 |
| 9.4.1.78    | EMLSR Parameter Update field                         | 197 |
| 9.4.1.79    | EHT Compressed Beamforming/CQI Report field          | 198 |
| 9.4.1.80    | EHT Sounding Feedback Segment field                  | 198 |
| 9.4.2       | Elements                                             | 199 |
| 9.4.2.1     | General                                              | 199 |
| 9.4.2.3     | Supported Rates and BSS Membership Selectors element | 199 |
| 9.4.2.5     | TIM element                                          | 200 |
| 9.4.2.5.1   | General                                              | 200 |
| 9.4.2.19    | Measurement Request element                          | 201 |
| 9.4.2.19.5  | Channel Load request                                 | 201 |
| 9.4.2.19.6  | Noise Histogram request                              | 201 |
| 9.4.2.19.7  | Beacon request                                       | 202 |
| 9.4.2.19.8  | Frame request                                        | 203 |
| 9.4.2.20    | Measurement Report element                           | 203 |
| 9.4.2.20.5  | Channel Load report                                  | 203 |
| 9.4.2.20.6  | Noise Histogram report                               | 204 |
| 9.4.2.20.7  | Beacon report                                        | 205 |
| 9.4.2.20.8  | Frame report                                         | 206 |
| 9.4.2.21    | Quiet element                                        | 206 |
| 9.4.2.25    | Extended Capabilities element                        | 207 |
| 9.4.2.35    | Neighbor Report element                              | 208 |
| 9.4.2.44    | Multiple BSSID element                               | 210 |
| 9.4.2.46    | FTE                                                  | 210 |
| 9.4.2.49    | RIC Descriptor element                               | 212 |
| 9.4.2.60    | Link Identifier element                              | 212 |
| 9.4.2.70    | Nontransmitted BSSID Capability element              | 213 |
| 9.4.2.72    | Multiple BSSID-Index element                         | 213 |
| 9.4.2.77    | BSS Max Idle Period element                          | 213 |
| 9.4.2.120   | SCS Descriptor element                               | 214 |
| 9.4.2.138   | ADDBA Extension element                              | 214 |
| 9.4.2.156   | VHT Capabilities element                             | 215 |
| 9.4.2.156.3 | Supported VHT-MCS and NSS Set field                  | 215 |
| 9.4.2.160   | Transmit Power Envelope element                      | 215 |
| 9.4.2.161   | Channel Switch Wrapper element                       | 217 |
| 9.4.2.162   | AID element                                          | 217 |
| 9.4.2.163   | Quiet Channel element                                | 218 |
| 9.4.2.169   | Reduced Neighbor Report element                      | 218 |
| 9.4.2.169.2 | Neighbor AP Information field                        | 218 |
| 9.4.2.176   | FILS Request Parameters element                      | 220 |
| 9.4.2.198   | TWT element                                          | 221 |
| 9.4.2.216   | Max Channel Switch Time element                      | 226 |
| 9.4.2.235   | OCI element                                          | 226 |
| 9.4.2.239   | Non-Inheritance element                              | 226 |
| 9.4.2.247   | HE Capabilities element                              | 227 |
| 9.4.2.247.4 | Supported HE-MCS And NSS Set field                   | 227 |
| 9.4.2.312   | Diffie-Hellman Parameter element                     | 227 |

| 9.4.2.316 Device ID element                               | 227 |
|-----------------------------------------------------------|-----|
| 9.4.2.317 IRM element                                     | 228 |
| 9.4.2.321 EHT Operation element                           | 228 |
| 9.4.2.322 Multi-Link element                              | 230 |
| 9.4.2.322.1 General                                       | 230 |
| 9.4.2.322.2 Basic Multi-Link element                      | 232 |
| 9.4.2.322.3 Probe Request Multi-Link element              | 244 |
| 9.4.2.322.4 Reconfiguration Multi-Link element            | 246 |
| 9.4.2.322.5 TDLS Multi-Link element                       | 250 |
| 9.4.2.322.6 EPCS Priority Access Multi-Link element       | 250 |
| 9.4.2.323 EHT Capabilities element                        | 251 |
| 9.4.2.323.1 General                                       | 251 |
| 9.4.2.323.2 EHT MAC Capabilities Information field        | 252 |
| 9.4.2.323.3 EHT PHY Capabilities Information field        | 252 |
| 9.4.2.323.4 Supported EHT-MCS And NSS Set field           | 267 |
| 9.4.2.323.5 EHT PPE Thresholds field                      | 273 |
| 9.4.2.324 TID-To-Link Mapping element                     | 275 |
| 9.4.2.325 Multi-Link Traffic Indication element           | 276 |
| 9.4.2.326 QoS Characteristics element                     | 278 |
| 9.4.2.327 MLO Link Info element                           | 283 |
| 9.4.2.328 AID Bitmap element                              | 283 |
| 9.4.2.329 Bandwidth Indication element                    | 284 |
| 9.4.2.330 TWT Information Extension element               | 284 |
| 9.6 Action frame format details                           | 285 |
| 9.6.2 Spectrum Management Action frame details            | 285 |
| 9.6.2.6 Channel Switch Announcement frame format          | 285 |
| 9.6.7 Public Action frame details                         | 286 |
| 9.6.7.3 Measurement Pilot frame format                    | 286 |
| 9.6.7.7 Extended Channel Switch Announcement frame format | 286 |
| 9.6.7.17 TDLS Discovery Response frame format             | 287 |
| 9.6.7.36 FILS Discovery frame format                      | 287 |
| 9.6.8 FT Action frame details                             | 289 |
| 9.6.8.1 FT Action field                                   | 289 |
| 9.6.8.2 FT Request frame                                  | 289 |
| 9.6.8.3 FT Response frame                                 | 290 |
| 9.6.8.4 FT Confirm frame                                  | 290 |
| 9.6.8.5 FT Ack frame                                      | 291 |
| 9.6.12 TDLS Action field formats                          | 292 |
| 9.6.12.1 TDLS Action field                                | 292 |
| 9.6.12.2 TDLS Setup Request Action field format           | 292 |
| 9.6.12.3 TDLS Setup Response Action field format          | 293 |
| 9.6.12.4 TDLS Setup Confirm Action field format           | 293 |
| 9.6.12.7 TDLS Channel Switch Request Action field format  | 294 |
| 9.6.12.12 TDLS Discovery Request Action field format      | 294 |
| 9.6.12.13 TDLS Broadcast TWT Request Action field format  | 294 |
| 9.6.12.14 TDLS Broadcast TWT Response Action field format | 295 |
| 9.6.13 WNM Action details                                 | 295 |
| 9.6.13.8 BSS Transition Management Query frame format     | 295 |
| 9.6.13.9 BSS Transition Management Request frame format   | 295 |
| 9.6.13.10 BSS Transition Management Response frame format | 298 |
| 9.6.13.20 WNM Sleep Mode Response frame format            | 299 |
| 9.6.15 Self-protected Action frame details                | 301 |
| 9.6.15.2 Mesh Peering Open frame format                   | 301 |
| 9.6.15.2.2 Mesh Peering Open frame details                | 301 |

| 9.6.15.3 Mesh Peering Confirm frame format                   | 301 |
|--------------------------------------------------------------|-----|
| 9.6.15.3.2 Mesh Peering Confirm frame details                | 301 |
| 9.6.18 Robust AV Streaming Action frame details              | 301 |
| 9.6.18.3 SCS Response frame format                           | 301 |
| 9.6.24 Unprotected SIG Action frame detail                   | 302 |
| 9.6.24.8 TWT Setup frame format                              | 302 |
| 9.6.37 EHT Action frame details                              | 302 |
| 9.6.37.1 EHT Action field                                    | 302 |
| 9.6.37.2 EHT Compressed Beamforming/CQI frame format         | 303 |
| 9.6.38 Protected EHT Action frame details                    | 303 |
| 9.6.38.1 Protected EHT Action field                          | 303 |
| 9.6.38.2 TID-To-Link Mapping Request frame format            | 304 |
| 9.6.38.3 TID-To-Link Mapping Response frame format           | 304 |
| 9.6.38.4 TID-To-Link Mapping Teardown frame format           | 305 |
| 9.6.38.5 EPCS Priority Access Enable Request frame format    | 306 |
| 9.6.38.6 EPCS Priority Access Enable Response frame format   | 306 |
| 9.6.38.7 EPCS Priority Access Teardown frame details         | 307 |
| 9.6.38.8 EML Operating Mode Notification frame details       | 307 |
| 9.6.38.9 Link Recommendation frame format                    | 308 |
| 9.6.38.10 Multi-Link Operation Update Request frame format   | 309 |
| 9.6.38.11 Multi-Link Operation Update Response frame format  | 309 |
| 9.6.38.12 Link Reconfiguration Notify frame format           | 310 |
| 9.6.38.13 Link Reconfiguration Request frame format          | 310 |
| 9.6.38.14 Link Reconfiguration Response frame format         | 311 |
| 9.7 Aggregate MPDU (A-MPDU)                                  | 313 |
| 9.7.1 A-MPDU format                                          | 313 |
| 9.7.3 A-MPDU contents                                        | 314 |
| 10. MAC sublayer functional description                      | 318 |
| 10.1 Introduction                                            | 318 |
| 10.2 MAC architecture                                        | 318 |
| 10.2.1 General                                               | 318 |
| 10.3 DCF                                                     | 319 |
| 10.3.1 General                                               | 319 |
| 10.3.2 Procedures common to the DCF and EDCAF                | 319 |
| 10.3.2.7 VHT, HE, and SIG RTS procedure                      | 319 |
| 10.3.2.9 CTS and DMG CTS procedure                           | 320 |
| 10.3.2.11 Acknowledgment procedure                           | 321 |
| 10.3.2.14 Duplicate detection and recovery                   | 321 |
| 10.3.2.14.2 Transmitter requirements                         | 321 |
| 10.3.2.14.3 Receiver requirements                            | 323 |
| 10.6 Multirate support                                       | 327 |
| 10.6.1 Overview                                              | 327 |
| 10.6.6 Rate selection for Control frames                     | 327 |
| 10.6.6.1 General rules for rate selection for Control frames | 327 |
| 10.6.6.6 Channel Width selection for Control frames          | 327 |
| 10.6.10 Modulation classes                                   | 328 |
| 10.6.11 Non-HT basic rate calculation                        | 331 |
| 10.8 HT Control field operation                              | 332 |
| 10.11 A-MSDU operation                                       | 333 |
| 10.12 A-MPDU operation                                       | 334 |
| 10.12.2 A-MPDU length limit rules                            | 334 |
| 10.12.3 Minimum MPDU start spacing rules                     | 337 |

| 10.12.4 A-MPDU aggregation of group addressed Data frames        | 337 |
|------------------------------------------------------------------|-----|
| 10.12.6 A-MPDU padding for VHT, HE, EHT or SIG PPDU              | 339 |
| 10.12.7 Setting the EOF/Tag field of the MPDU delimiter          | 339 |
| 10.13 PPDU duration constraint                                   | 339 |
| 10.15 Low-density parity check code (LDPC) operation             | 339 |
| 10.23 HCF                                                        | 339 |
| 10.23.2 HCF contention based channel access (EDCA)               | 339 |
| 10.23.2.2 EDCA backoff procedure                                 | 339 |
| 10.23.2.5 EDCA channel access in a VHT, HE, EHT or TVHT BSS      | 340 |
| 10.23.2.9 TXOP limits                                            | 340 |
| 10.25 Block acknowledgment (block ack)                           | 341 |
| 10.25.1 Introduction                                             | 341 |
| 10.25.2 Setup and modification of the block ack parameters       | 341 |
| 10.25.7 Protected block ack agreement                            | 342 |
| 10.27 Protection mechanisms                                      | 342 |
| 10.27.6 Protection rules for HE STAs                             | 342 |
| 10.27.8 Protection rules for EHT STAs                            | 342 |
| 10.28 MAC frame processing                                       | 343 |
| 10.28.5 Operation of the Dialog Token field                      | 343 |
| 10.29 Reverse direction protocol                                 | 343 |
| 10.29.4 Rules for RD responder                                   | 343 |
| 10.46 Target wake time (TWT)                                     | 343 |
| 10.46.1 TWT overview                                             | 343 |
| 11. MLME                                                         | 344 |
| 11.1 Synchronization                                             | 344 |
| 11.1.3 Maintaining synchronization                               | 344 |
| 11.1.3.8 Multiple BSSID procedure                                | 344 |
| 11.1.3.8.4 Inheritance of element values                         | 344 |
| 11.1.4 Acquiring synchronization, scanning                       | 344 |
| 11.1.4.3 Active scanning and probing procedures                  | 344 |
| 11.1.4.3.4 Criteria for sending a response                       | 344 |
| 11.1.4.3.9 Contents of a probe response                          | 344 |
| 11.2 Power management                                            | 345 |
| 11.2.2 Bufferable MMPDUs                                         | 345 |
| 11.2.3 Power management in a non-DMG infrastructure network      | 345 |
| 11.2.3.1 General                                                 | 345 |
| 11.2.3.6 AP operation                                            | 345 |
| 11.2.3.7 Receive operation for STAs in PS mode                   | 346 |
| 11.2.3.9 STAs operating in active mode                           | 346 |
| 11.2.3.10 AP and AP MLD aging function                           | 346 |
| 11.2.3.14 TIM Broadcast                                          | 346 |
| 11.2.3.15 WNM sleep mode                                         | 347 |
| 11.2.3.15.1 WNM sleep mode capability                            | 347 |
| 11.2.3.15.2 WNM sleep mode non-AP STA operation                  | 348 |
| 11.2.3.15.3 WNM sleep mode AP operation                          | 348 |
| 11.3 STA authentication/Authentication and association           | 349 |
| 11.3.1 State variables                                           | 349 |
| 11.3.2 State transition diagram for nonmesh STAs or nonmesh MLDs | 349 |
| 11.3.3 Frame filtering based on STA or MLD state                 | 350 |
| 11.3.4 Authentication and deauthentication                       | 352 |
| 11.3.4.1 General                                                 | 352 |
| 11.3.4.2 Authentication—originating STA or MLD                   | 352 |

| 11.3.4.3     | Authentication—destination STA or MLD                                                                                                          | 353 |
|--------------|------------------------------------------------------------------------------------------------------------------------------------------------|-----|
| 11.3.4.4     | Deauthentication—originating STA or MLD                                                                                                        | 354 |
| 11.3.4.5     | Deauthentication—destination STA or MLD                                                                                                        | 355 |
| 11.3.5       | Association, reassociation, and disassociation                                                                                                 | 355 |
| 11.3.5.1     | General                                                                                                                                        | 355 |
| 11.3.5.2     | Non-AP STA, non-AP MLD, and non-PCP STA association initiation procedures                                                                      | 356 |
| 11.3.5.3     | AP, AP MLD, or PCP association receipt procedures                                                                                              | 358 |
| 11.3.5.4     | Non-AP STA, non-AP MLD, and non-PCP STA reassociation initiation procedures                                                                    | 361 |
| 11.3.5.5     | AP, AP MLD, or PCP reassociation receipt procedures                                                                                            | 364 |
| 11.3.5.6     | Non-AP STA, non-AP MLD, and non-PCP STA disassociation initiation procedures                                                                   | 367 |
| 11.3.5.7     | Non-AP STA, non-AP MLD, and non-PCP STA disassociation receipt procedure                                                                       | 367 |
| 11.3.5.8     | AP, AP MLD, or PCP disassociation initiation procedure                                                                                         | 368 |
| 11.3.5.8.1   | General                                                                                                                                        | 368 |
| 11.3.5.8.2   | AP or PCP disassociation initiation detailed procedure                                                                                         | 368 |
| 11.3.5.9     | AP, AP MLD, or PCP disassociation receipt procedure                                                                                            | 369 |
| 11.8         | DFS procedures                                                                                                                                 | 369 |
| 11.8.3       | Quieting channels for testing                                                                                                                  | 369 |
| 11.10        | Radio measurement procedures                                                                                                                   | 370 |
| 11.10.9      | Specific measurement usage                                                                                                                     | 370 |
| 11.10.9.1    | Beacon report                                                                                                                                  | 370 |
| 11.10.9.1.1  | General                                                                                                                                        | 370 |
| 11.10.9.2    | Frame report                                                                                                                                   | 370 |
| 11.10.9.3    | Channel load report                                                                                                                            | 370 |
| 11.10.9.4    | Noise Histogram report                                                                                                                         | 370 |
| 11.10.15     | Measurement Pilot frame generation and usage                                                                                                   | 371 |
| 11.10.15.2   | Measurement Pilot frame generation by an AP                                                                                                    | 371 |
| 11.13        | SA Query procedures                                                                                                                            | 371 |
| 11.20        | Tunneled direct link setup                                                                                                                     | 372 |
| 11.20.1      | General                                                                                                                                        | 372 |
| 11.20.6      | TDLS channel switching                                                                                                                         | 373 |
| 11.20.6.5    | Setting up a wide bandwidth off-channel TDLS direct link                                                                                       | 373 |
| 11.20.6.5.1  | General                                                                                                                                        | 373 |
| 11.20.6.5.2  | Basic wideband functionality                                                                                                                   | 374 |
| 11.20.6.5.5  | CCA sensing and NAV assertion in a 20 MHz, 40 MHz, 80 MHz, 160 MHz, 320 MHz, 80+80 MHz, 1 MHz, 2 MHz, 4 MHz, 8 MHz, or 16 MHz TDLS direct link | 374 |
| 11.21        | Wireless network management procedures                                                                                                         | 374 |
| 11.21.2      | Event request and report procedures                                                                                                            | 374 |
| 11.21.2.2    | Transition event request and report                                                                                                            | 374 |
| 11.21.2.3    | RSNA event request and report                                                                                                                  | 375 |
| 11.21.2.5    | WNM log event request and report                                                                                                               | 375 |
| 11.21.13     | BSS max idle period management                                                                                                                 | 375 |
| 11.21.14     | Proxy ARP service                                                                                                                              | 375 |
| 11.21.15     | Channel usage procedures                                                                                                                       | 377 |
| 11.22        | WLAN interworking with external networks procedures                                                                                            | 379 |
| 11.22.2      | Interworking capabilities and information                                                                                                      | 379 |
| 11.22.3      | Interworking procedures: generic advertisement service (GAS)                                                                                   | 380 |
| 11.22.3.3    | ANQP procedures                                                                                                                                | 380 |
| 11.22.3.3.10 | TDLS Capability procedure                                                                                                                      | 380 |
| 11.24        | Quality-of-service Management frame (QM)                                                                                                       | 380 |

| 11.24.1 General                                                               | 380 |
|-------------------------------------------------------------------------------|-----|
| 11.24.1.2 Default QMF policy                                                  | 380 |
| 11.25 Robust AV streaming                                                     | 380 |
| 11.25.2 SCS procedures                                                        | 380 |
| 11.45 Fast Initial Link Setup (FILS) procedures                               | 381 |
| 11.45.2 FILS Discovery frame generation and usage                             | 381 |
| 11.45.2.1 FILS Discovery frame transmission                                   | 381 |
| 11.49 Reduced neighbor report                                                 | 381 |
| 11.52 Beacon protection procedures                                            | 383 |
| 12. Security                                                                  | 384 |
| 12.1 Conventions                                                              | 384 |
| 12.2 Framework                                                                | 384 |
| 12.2.4 RSNA establishment                                                     | 384 |
| 12.2.10 Requirements for Operating Channel Validation                         | 384 |
| 12.2.11 Requirements for support of MAC privacy enhancements                  | 385 |
| 12.2.13 Identifying a non-AP STA or a non-AP MLD with changing MAC address    | 386 |
| 12.2.13.1 Device ID                                                           | 387 |
| 12.2.13.2 Identifiable random MAC address (IRM)                               | 390 |
| 12.3 Pre-RSNA security methods                                                | 394 |
| 12.3.3 Pre-RSNA authentication                                                | 394 |
| 12.3.3.1 Overview                                                             | 394 |
| 12.3.3.2 Open System authentication                                           | 394 |
| 12.3.3.2.1 General                                                            | 394 |
| 12.3.3.2.2 Open System authentication (first frame)                           | 395 |
| 12.3.3.2.3 Open System authentication (final frame)                           | 395 |
| 12.4 Authentication using a password                                          | 395 |
| 12.4.1 SAE overview                                                           | 395 |
| 12.4.3 Representation of a password                                           | 396 |
| 12.4.4 Finite cyclic groups                                                   | 397 |
| 12.4.4.1 General                                                              | 397 |
| 12.4.4.2 Elliptic curve cryptography (ECC) groups                             | 397 |
| 12.4.4.2.2 Generation of the password element with ECC groups by looping      | 397 |
| 12.4.4.2.3 Hash-to-element generation of the password element with ECC groups | 398 |
| 12.4.4.3 Finite field cryptography (FFC) groups                               | 398 |
| 12.4.4.3.2 Generation of the password element with FFC groups by looping      | 398 |
| 12.4.4.3.3 Direct Generation of the password element with FFC groups          | 398 |
| 12.4.5 SAE protocol                                                           | 398 |
| 12.4.5.2 PWE and secret generation                                            | 398 |
| 12.4.5.4 Processing of a peer's SAE Commit message                            | 399 |
| 12.4.6 Anti-clogging tokens                                                   | 400 |
| 12.4.8 SAE finite state machine                                               | 400 |
| 12.4.8.3 Events and output                                                    | 400 |
| 12.4.8.3.1 Parent process events and output                                   | 400 |
| 12.5 RSNA confidentiality and integrity protocols                             | 400 |
| 12.5.2 CTR with CBC-MAC protocol (CCMP)                                       | 400 |
| 12.5.2.3 CCMP cryptographic encapsulation                                     | 400 |
| 12.5.2.3.1 General                                                            | 400 |
| 12.5.2.3.2 PN processing                                                      | 402 |
| 12.5.2.3.3 Construct AAD                                                      | 402 |

| 12.5.2.3.4 Construct CCM nonce                        | 403 |
|-------------------------------------------------------|-----|
| 12.5.2.3.7 CCM originator processing                  | 403 |
| 12.5.2.4 CCM decapsulation                            | 403 |
| 12.5.2.4.1 General                                    | 403 |
| 12.5.2.4.4 PN and replay detection                    | 404 |
| 12.5.4 GCM protocol (GCMp)                            | 405 |
| 12.5.4.1 GCMp overview                                | 405 |
| 12.5.4.3 GCMp cryptographic encapsulation             | 405 |
| 12.5.4.3.1 General                                    | 405 |
| 12.5.4.3.2 PN processing                              | 406 |
| 12.5.4.3.4 Construct GCM nonce                        | 406 |
| 12.5.4.3.6 GCMp originator processing                 | 406 |
| 12.5.4.4 GCMp decapsulation                           | 406 |
| 12.5.4.4.1 General                                    | 406 |
| 12.5.4.4.4 PN and replay detection                    | 407 |
| 12.6 RSNA security association management             | 407 |
| 12.6.1 Security associations                          | 407 |
| 12.6.1.1 Security association definitions             | 407 |
| 12.6.1.1.2 PMKSA                                      | 407 |
| 12.6.1.1.6 PTKSA                                      | 408 |
| 12.6.1.1.8 GTKSA                                      | 409 |
| 12.6.1.1.9I GTKSA                                     | 409 |
| 12.6.1.1.11 BIGTKSA                                   | 410 |
| 12.6.2 RSNA selection                                 | 410 |
| 12.6.3 RSNA policy selection in an infrastructure BSS | 410 |
| 12.6.3.1 General                                      | 410 |
| 12.6.3.2 RSNA policy selection for MLO                | 411 |
| 12.6.8 RSNA establishment in an infrastructure BSS    | 411 |
| 12.6.8.2 Preauthentication and RSNA key management    | 411 |
| 12.6.12 RSNA key management in an infrastructure BSS  | 412 |
| 12.6.19 RSNA rekeying                                 | 412 |
| 12.7 Keys and key distribution                        | 412 |
| 12.7.1 Key hierarchy                                  | 412 |
| 12.7.1.1 General                                      | 412 |
| 12.7.1.4 Group key hierarchy                          | 413 |
| 12.7.1.6 FT key hierarchy                             | 413 |
| 12.7.1.6.5PTK                                         | 413 |
| 12.7.2 EAPOL-Key frames                               | 413 |
| 12.7.4 EAPOL-Key PDU notation                         | 417 |
| 12.7.5 Nonce generation                               | 418 |
| 12.7.6 4-way handshake                                | 418 |
| 12.7.6.1 General                                      | 418 |
| 12.7.6.2 4-way handshake message 1                    | 419 |
| 12.7.6.3 4-way handshake message 2                    | 420 |
| 12.7.6.4 4-way handshake message 3                    | 422 |
| 12.7.6.5 4-way handshake message 4                    | 425 |
| 12.7.7 Group key handshake                            | 426 |
| 12.7.7.1 General                                      | 426 |
| 12.7.7.2 Group key handshake message 1                | 426 |
| 12.7.8 TDLS PeerKey (TPK) security protocol           | 428 |
| 12.7.8.2 TPK handshake                                | 428 |
| 12.7.8.4 TPK Security Protocol handshake messages     | 429 |
| 12.7.8.4.3 TPK handshake message 2                    | 429 |
| 12.7.8.4.4 TPK handshake message 3                    | 430 |

| 12.10 AP PeerKey support                                         | 430 |
|------------------------------------------------------------------|-----|
| 12.10.2 AP PeerKey protocol                                      | 430 |
| 12.11 Authentication for FILS                                    | 431 |
| 12.11.1 General                                                  | 431 |
| 12.11.2 FILS authentication protocol                             | 431 |
| 12.11.2.1 General                                                | 431 |
| 12.11.2.2 Discovery of a FILS AP                                 | 432 |
| 12.11.2.3 Key establishment with FILS Shared Key authentication  | 432 |
| 12.11.2.3.1 Overview                                             | 432 |
| 12.11.2.3.2 Non-AP STAFILSO construction of Authentication frame | 433 |
| 12.11.2.3.3 APFILSR processing of Authentication frame           | 434 |
| 12.11.2.3.4 APFILSR construction of Authentication frame         | 435 |
| 12.11.2.3.5 Non-AP STAFILSO processing of Authentication frame   | 435 |
| 12.11.2.4 Key establishment with FILS Public Key authentication  | 436 |
| 12.11.2.4.1 General                                              | 436 |
| 12.11.2.4.2 Prior to exchange                                    | 436 |
| 12.11.2.4.3 Processing after receipt                             | 437 |
| 12.11.2.4.4 Post processing                                      | 437 |
| 12.11.2.4.5 Upon receipt                                         | 438 |
| 12.11.2.5 Key establishment with FILS authentication             | 438 |
| 12.11.2.5.2 PMKSA key derivation with FILS authentication        | 438 |
| 12.11.2.5.3 PTKSA Key derivation with FILS authentication        | 439 |
| 12.11.2.6 Key confirmation with FILS authentication              | 440 |
| 12.11.2.6.2 (Re)Association Request for FILS key confirmation    | 440 |
| 12.11.2.6.3 (Re)Association Response for FILS key confirmation   | 442 |
| 12.12 Constraints on allowed security parameters                 | 444 |
| 12.12.9 Security constraints for EHT                             | 445 |
| 13. Fast BSS transition                                          | 446 |
| 13.1 Overview                                                    | 446 |
| 13.2 Key holders                                                 | 446 |
| 13.2.1 Introduction                                              | 446 |
| 13.2.2 Authenticator key holders                                 | 447 |
| 13.2.3 Supplicant key holders                                    | 447 |
| 13.3 Capability and policy advertisement                         | 447 |
| 13.4 FT initial mobility domain association                      | 447 |
| 13.4.1 Overview                                                  | 447 |
| 13.4.2 FT initial mobility domain association in an RSN          | 448 |
| 13.4.3 FT initial mobility domain association in a non-RSN       | 450 |
| 13.5 FT protocol                                                 | 451 |
| 13.5.1 Overview                                                  | 451 |
| 13.5.2 Over-the-air FT protocol authentication in an RSN         | 452 |
| 13.5.3 Over-the-DS FT protocol in an RSN                         | 454 |
| 13.6 FT resource request protocol                                | 456 |
| 13.6.1 Overview                                                  | 456 |
| 13.6.2 Over-the-air fast BSS transition with resource request    | 457 |
| 13.6.3 Over-the-DS fast BSS transition with resource request     | 459 |
| 13.7 FT reassociation                                            | 460 |
| 13.7.1 FT reassociation in an RSN                                | 460 |
| 13.8 FT authentication sequence                                  | 463 |
| 13.8.1 Overview                                                  | 463 |
| 13.8.2 FT authentication sequence: contents of first message     | 465 |
| 13.8.3 FT authentication sequence: contents of second message    | 465 |

| 13.8.4 FT authentication sequence: contents of third message                  | 465 |
|-------------------------------------------------------------------------------|-----|
| 13.8.5 FT authentication sequence: contents of fourth message                 | 466 |
| 13.9 FT security architecture state machines                                  | 467 |
| 13.9.1 Introduction                                                           | 467 |
| 13.9.5 S1KH state machine                                                     | 467 |
| 13.9.5.3 S1KH state machine variables                                         | 467 |
| 13.10 Remote request broker (RRB) communication                               | 468 |
| 13.10.1 Overview                                                              | 468 |
| 13.10.2 Remote request broker (RRB)                                           | 468 |
| 13.10.3 Remote Request/Response frame definition                              | 469 |
| 13.11 Resource request procedures                                             | 470 |
| 13.11.1 General                                                               | 470 |
| 13.11.2 Resource information container (RIC)                                  | 470 |
| 13.11.3 Creation and handling of a resource request                           | 471 |
| 13.11.3.1 FTO procedures                                                      | 471 |
| 13.11.3.2 APFTR procedures                                                    | 471 |
| 17. Orthogonal frequency division multiplexing (OFDM) PHY specification       | 473 |
| 17.2 OFDM PHY specific service parameter list                                 | 473 |
| 17.2.2 TXVECTOR parameters                                                    | 473 |
| 17.2.3 RXVECTOR parameters                                                    | 474 |
| 17.3 OFDM PHY                                                                 | 474 |
| 17.3.5 DATA field                                                             | 474 |
| 17.3.5.2 SERVICE field                                                        | 474 |
| 17.3.5.5 PHY DATA scrambler and descrambler                                   | 475 |
| 26. High efficiency (HE) MAC specification                                    | 478 |
| 26.2 HE channel access                                                        | 478 |
| 26.2.6 MU-RTS Trigger/CTS frame exchange sequence procedure                   | 478 |
| 26.2.6.3 CTS frame sent in response to an MU-RTS Trigger frame                | 478 |
| 26.5 MU operation                                                             | 478 |
| 26.5.1 HE DL MU operation                                                     | 478 |
| 26.5.1.1 General                                                              | 478 |
| 26.5.1.1a Additional rules on an HE MU PPDU                                   | 478 |
| 26.5.1.3 RU allocation in an HE MU PPDU                                       | 479 |
| 26.5.1.3a Minimum RU allocation in an HE MU PPDU                              | 479 |
| 26.5.2 UL MU operation                                                        | 479 |
| 26.5.2.1 General                                                              | 479 |
| 26.5.2.2 Rules for soliciting UL MU frames                                    | 479 |
| 26.5.2.2.1 General                                                            | 479 |
| 26.5.2.2.1a Additional rules for soliciting UL MU frames                      | 480 |
| 26.5.2.2.3 Padding for a triggering frame                                     | 480 |
| 26.5.2.3 Non-AP STA behavior for UL MU operation                              | 480 |
| 26.5.2.3.1 General                                                            | 480 |
| 26.5.2.3.4TXVECTOR parameters for HE TB PPDU response to TRS Control subfield | 481 |
| 26.8 TWT operation                                                            | 481 |
| 26.8.3 Broadcast TWT operation                                                | 481 |
| 26.8.3.2 Rules for TWT scheduling AP                                          | 481 |
| 26.8.3.3 Rules for TWT scheduled STA                                          | 481 |
| 26.10 HE spatial reuse operation                                              | 481 |
| 26.10.2 OBSS PD-based spatial reuse operation                                 | 481 |

| 26.10.2.2 General operation with non-SRG OBSS PD level                                                                                 | 481 |
|----------------------------------------------------------------------------------------------------------------------------------------|-----|
| 26.10.2.3 General operation with SRG OBSS PD level                                                                                     | 482 |
| 26.17 HE BSS operation                                                                                                                 | 483 |
| 26.17.2 HE BSS operation in the 6 GHz band                                                                                             | 483 |
| 26.17.2.1 General                                                                                                                      | 483 |
| 35. Extremely high throughput (EHT) MAC specification                                                                                  | 484 |
| 35.1 Introduction                                                                                                                      | 484 |
| 35.2 EHT channel access                                                                                                                | 484 |
| 35.2.1 TXOP                                                                                                                            | 484 |
| 35.2.1.1 Bandwidth signaling                                                                                                           | 484 |
| 35.2.1.2 Triggered TXOP sharing (TXS) procedure                                                                                        | 484 |
| 35.2.1.2.1 General                                                                                                                     | 484 |
| 35.2.1.2.2 AP behavior                                                                                                                 | 485 |
| 35.2.1.2.3 Non-AP STA behavior                                                                                                         | 487 |
| 35.2.2 MU-RTS Trigger/CTS frame exchange procedure for EHT STAs                                                                        | 488 |
| 35.2.2.1 MU-RTS Trigger frame transmission                                                                                             | 488 |
| 35.2.2.2 CTS frame response to an MU-RTS Trigger frame                                                                                 | 489 |
| 35.2.3 Intra-BSS and inter-BSS PPDU classification for EHT STA                                                                         | 489 |
| 35.3 Multi-link operation (MLO)                                                                                                        | 490 |
| 35.3.1 General                                                                                                                         | 490 |
| 35.3.2 MLD addressing                                                                                                                  | 491 |
| 35.3.3 Advertisement of ML information in Multi-Link element                                                                           | 492 |
| 35.3.3.1 General                                                                                                                       | 492 |
| 35.3.3.2 Link ID                                                                                                                       | 493 |
| 35.3.3.3 Advertisement of complete or partial per-link information                                                                     | 493 |
| 35.3.3.4 Fields and elements not carried in a Per-STA Profile subelement                                                               | 494 |
| 35.3.3.5 Inheritance in a Per-STA Profile subelement                                                                                   | 495 |
| 35.3.3.5.1 Inheritance in the Per-STA Profile subelement of Basic Multi-Link element                                                   | 495 |
| 35.3.3.5.2 Inheritance in the Per-STA Profile subelement of Probe Request Multi-Link element                                           | 496 |
| 35.3.3.6 Processing of Per-STA Profile subelement of Multi-Link element                                                                | 497 |
| 35.3.3.7 Subelement fragmentation in the Link Info field of a Multi-Link element                                                       | 498 |
| 35.3.4 Discovery of an AP MLD                                                                                                          | 499 |
| 35.3.4.1 AP behavior                                                                                                                   | 499 |
| 35.3.4.2 Use of multi-link probe request and response                                                                                  | 500 |
| 35.3.4.3 Non-AP MLD behavior                                                                                                           | 503 |
| 35.3.4.4 Multi-Link element usage in the context of discovery                                                                          | 503 |
| 35.3.4.5 Probe Request frame content for a non-AP EHT STA                                                                              | 504 |
| 35.3.4.6 Frame exchange sequences during MLO discovery and ML setup                                                                    | 505 |
| 35.3.5 ML (re)setup                                                                                                                    | 508 |
| 35.3.5.1 ML (re)setup procedure                                                                                                        | 508 |
| 35.3.5.2 ML security                                                                                                                   | 511 |
| 35.3.5.3 ML tear down procedure                                                                                                        | 511 |
| 35.3.5.4 Basic Multi-Link element usage in the context of ML (Re)Setup, Authentication, and FT Action frame exchanges between two MLDs | 511 |
| 35.3.6 ML reconfiguration                                                                                                              | 513 |
| 35.3.6.1 General                                                                                                                       | 513 |
| 35.3.6.2 Adding affiliated AP(s)                                                                                                       | 513 |
| 35.3.6.3 Removing affiliated AP(s)                                                                                                     | 514 |
| 35.3.6.4 Link reconfiguration to the setup links                                                                                       | 517 |
| 35.3.6.5 AP MLD recommendation for link reconfiguration                                                                                | 522 |

| 35.3.6.6    | Non-AP MLD operation parameter update                                  | 523 |
|-------------|------------------------------------------------------------------------|-----|
| 35.3.7      | Link management                                                        | 524 |
| 35.3.7.1    | General                                                                | 524 |
| 35.3.7.2    | TID-To-Link Mapping (TTLM)                                             | 525 |
| 35.3.7.2.1  | General                                                                | 525 |
| 35.3.7.2.2  | Default mapping mode                                                   | 527 |
| 35.3.7.2.3  | Negotiation of TTLM                                                    | 527 |
| 35.3.7.2.4  | Advertised TTLM in Beacon and Probe Response frames                    | 529 |
| 35.3.7.3    | Dynamic link transitions                                               | 531 |
| 35.3.7.4    | Link recommendation                                                    | 531 |
| 35.3.7.5    | Affiliated AP link disablement and enablement                          | 532 |
| 35.3.7.5.1  | General                                                                | 532 |
| 35.3.7.5.2  | Affiliated AP link disablement                                         | 532 |
| 35.3.7.5.3  | Affiliated AP link enablement                                          | 534 |
| 35.3.8      | Block ack procedures in MLO                                            | 535 |
| 35.3.9      | Fragmentation in MLO                                                   | 537 |
| 35.3.10     | BSS parameter critical update procedure                                | 537 |
| 35.3.11     | ML procedures for (extended) channel switching and channel quieting    | 540 |
| 35.3.12     | ML power management                                                    | 543 |
| 35.3.12.1   | General                                                                | 543 |
| 35.3.12.2   | Basic BSS operation                                                    | 543 |
| 35.3.12.3   | MLD max idle period management                                         | 544 |
| 35.3.12.4   | Traffic indication                                                     | 544 |
| 35.3.12.5   | WNM sleep mode in MLO                                                  | 547 |
| 35.3.12.6   | Operation for MLD listen interval                                      | 547 |
| 35.3.12.7   | Power state after link enablement                                      | 548 |
| 35.3.12.8   | Power state and TWT schedules after link disablement                   | 548 |
| 35.3.12.9   | Use of More Data subfield by an MLD                                    | 549 |
| 35.3.13     | MLD individually addressed data delivery without block ack negotiation | 549 |
| 35.3.14     | MLD individually addressed Management frame delivery                   | 550 |
| 35.3.14.1   | General                                                                | 550 |
| 35.3.14.2   | QMF                                                                    | 552 |
| 35.3.14.3   | Identification of the intended STA                                     | 553 |
| 35.3.15     | MLO group addressed frames                                             | 554 |
| 35.3.15.1   | AP MLD operation for group addressed frames                            | 554 |
| 35.3.15.2   | Non-AP MLD receive operation for group addressed frames                | 556 |
| 35.3.16     | ML channel access                                                      | 556 |
| 35.3.16.1   | General                                                                | 556 |
| 35.3.16.2   | MLD capability and operation signaling                                 | 556 |
| 35.3.16.3   | Simultaneous transmit and receive (STR) operation                      | 558 |
| 35.3.16.4   | Nonsimultaneous transmit and receive (NSTR) operation                  | 558 |
| 35.3.16.5   | PPDU end time alignment on an NSTR link pair                           | 559 |
| 35.3.16.5.1 | General                                                                | 559 |
| 35.3.16.5.2 | End time alignment of response PPDUUs using SRS Control subfield       | 561 |
| 35.3.16.6   | Start time sync PPDUUs medium access                                   | 562 |
| 35.3.16.7   | Error recovery on an NSTR link pair within PIFS                        | 562 |
| 35.3.16.8   | Medium access recovery procedure                                       | 563 |
| 35.3.16.8.1 | General                                                                | 563 |
| 35.3.16.8.2 | MediumSyncDelay OFDM ED based recovery procedure                       | 564 |
| 35.3.16.8.3 | AP assisted medium synchronization recovery procedure                  | 565 |
| 35.3.16.9   | ML retransmit procedures                                               | 566 |
| 35.3.17     | Enhanced multi-link single-radio (EMLSR) operation                     | 566 |
| 35.3.18     | Enhanced multi-link multi-radio (EMLMR) operation                      | 571 |

| 35.3.19 NSTR mobile AP MLD operation                                                             | 574 |
|--------------------------------------------------------------------------------------------------|-----|
| 35.3.19.1 General                                                                                | 574 |
| 35.3.19.2 Discovery of an NSTR mobile AP MLD                                                     | 576 |
| 35.3.19.3 NSTR mobile AP MLD ML procedures for (extended) channel switching and channel quitting | 576 |
| 35.3.20 MLO in a multiple BSSID set or co-hosted BSSID set                                       | 577 |
| 35.3.21 TDLS procedure in MLO                                                                    | 579 |
| 35.3.21.1 General                                                                                | 579 |
| 35.3.21.2 TDLS direct link over a single link                                                    | 579 |
| 35.3.22 Proxy ARP service in AP MLDs                                                             | 581 |
| 35.3.23 BSS transition management for MLDs                                                       | 581 |
| 35.3.24 MLD TWT operation                                                                        | 582 |
| 35.3.24.1 Individual TWT agreements                                                              | 582 |
| 35.3.24.1.1 General                                                                              | 582 |
| 35.3.24.1.2 Alignment of TWT agreements across multiple links                                    | 583 |
| 35.3.24.2 Broadcast TWT operation                                                                | 584 |
| 35.3.24.3 Flexible wake time operation                                                           | 585 |
| 35.3.25 MLD synchronization service                                                              | 585 |
| 35.3.26 Operation of MAC MIBs in an MLD                                                          | 585 |
| 35.4 EHT acknowledgment procedure                                                                | 586 |
| 35.4.1 Overview                                                                                  | 586 |
| 35.4.2 Block ack procedures                                                                      | 587 |
| 35.5 MU operation                                                                                | 588 |
| 35.5.1 EHT DL MU operation                                                                       | 588 |
| 35.5.1.1 General                                                                                 | 588 |
| 35.5.1.2 RU allocation in an EHT MU PPDU                                                         | 588 |
| 35.5.2 EHT UL MU operation                                                                       | 589 |
| 35.5.2.1 General                                                                                 | 589 |
| 35.5.2.2 Rules for soliciting UL MU frames                                                       | 590 |
| 35.5.2.2.1 General                                                                               | 590 |
| 35.5.2.2.2 Requirements for allocating resources                                                 | 590 |
| 35.5.2.2.3 Padding for a Trigger frame                                                           | 590 |
| 35.5.2.2.4 Allowed settings of the Trigger frame fields and TRS Control subfield                 | 591 |
| 35.5.2.2.5 AP access procedures for UL MU operation                                              | 592 |
| 35.5.2.3 Non-AP STA behavior for UL MU operation                                                 | 592 |
| 35.5.2.3.1 General                                                                               | 592 |
| 35.5.2.3.2TXVECTOR parameters for EHT TB PPDU response to Trigger frame                          | 593 |
| 35.5.2.3.3TXVECTOR parameters for EHT TB PPDU response to TRS Control subfield                   | 593 |
| 35.5.2.3.4 Conditions for not responding with a TB PPDU                                          | 595 |
| 35.5.2.4 UL MU CS mechanism for EHT STAs                                                         | 595 |
| 35.5.3 Operation of the two BQR Control subfields                                                | 595 |
| 35.6 A-MPDU operation in an EHT PPDU                                                             | 596 |
| 35.7 EHT sounding operation                                                                      | 597 |
| 35.7.1 General                                                                                   | 597 |
| 35.7.2 EHT sounding protocol                                                                     | 597 |
| 35.7.3 Rules for EHT sounding protocol sequences                                                 | 611 |
| 35.7.4 Rules for generating segmented feedback                                                   | 615 |
| 35.7.5 EHT sounding NDP transmission                                                             | 616 |
| 35.8 Restricted TWT (R-TWT)                                                                      | 616 |
| 35.8.1 General                                                                                   | 616 |
| 35.8.2 R-TWT membership setup                                                                    | 617 |

| 35.8.3 R-TWT announcement                                                                                                                          | 618 |
|----------------------------------------------------------------------------------------------------------------------------------------------------|-----|
| 35.8.3.1 Rules for R-TWT scheduling AP                                                                                                             | 618 |
| 35.8.3.2 Rules for R-TWT scheduled STA                                                                                                             | 619 |
| 35.8.4 Channel access rules for R-TWT SPs                                                                                                          | 619 |
| 35.8.4.1 TXOP and backoff procedure rules for R-TWT SPs                                                                                            | 619 |
| 35.8.4.2 Quiet STAs during R-TWT SPs                                                                                                               | 620 |
| 35.8.5 Traffic delivery                                                                                                                            | 620 |
| 35.9 Operating mode indication                                                                                                                     | 621 |
| 35.10 EHT Spatial reuse operation                                                                                                                  | 622 |
| 35.10.1 General                                                                                                                                    | 622 |
| 35.10.2 OBSS PD-based spatial reuse operation                                                                                                      | 622 |
| 35.10.3 EHT PSR-based spatial reuse operation                                                                                                      | 623 |
| 35.10.3.1 EHT PSR-based spatial reuse initiation                                                                                                   | 623 |
| 35.10.3.2 EHT Spatial Reuse subfields of Trigger frame                                                                                             | 623 |
| 35.11 Rules related to the PHY interface of an EHT STA                                                                                             | 624 |
| 35.11.1 Setting TXVECTOR parameters for an EHT PPDU                                                                                                | 624 |
| 35.11.1.1 STA_ID                                                                                                                                   | 624 |
| 35.11.1.2 POWER_BOOST_FACTOR                                                                                                                       | 624 |
| 35.11.1.3 UPLINK_FLAG                                                                                                                              | 624 |
| 35.11.1.4 BSS_COLOR                                                                                                                                | 624 |
| 35.11.1.5 TXOP_DURATION                                                                                                                            | 625 |
| 35.11.1.6 TRIGGER_RESPONDING                                                                                                                       | 625 |
| 35.11.2 SPATIAL_REUSE                                                                                                                              | 625 |
| 35.11.3 Contents of the EHT PHY Capabilities Information field and Supported EHT-MCS And NSS Set field                                             | 627 |
| 35.11.4 CENTER_FREQUENCY_SEGMENT                                                                                                                   | 628 |
| 35.11.5 INACTIVE_SUBCHANNELS                                                                                                                       | 629 |
| 35.12 Intra-PPDU power save for non-AP EHT STAs                                                                                                    | 629 |
| 35.13 Nominal packet padding values selection rules                                                                                                | 629 |
| 35.13.1 General                                                                                                                                    | 629 |
| 35.13.2 PPET not present in both HE and EHT                                                                                                        | 630 |
| 35.13.3 PPET not present in EHT but present in HE                                                                                                  | 631 |
| 35.13.4 PPET present in EHT                                                                                                                        | 632 |
| 35.13.5 STA behavior related to nominal packet padding                                                                                             | 634 |
| 35.14 PPDU format, BW, MCS, NSS, and DCM selection rules                                                                                           | 634 |
| 35.14.1 General                                                                                                                                    | 634 |
| 35.14.2 PPDU format selection                                                                                                                      | 635 |
| 35.14.3 MCS, NSS, BW selection                                                                                                                     | 636 |
| 35.14.4 Rate selection constraints for EHT STAs                                                                                                    | 637 |
| 35.14.4.1 Receive EHT-MCS and NSS Set                                                                                                              | 637 |
| 35.14.4.2 Transmit EHT-MCS and NSS Set                                                                                                             | 637 |
| 35.14.4.3 Additional rate selection constraints for EHT PPDU                                                                                       | 638 |
| 35.14.5 Additional rules for group addressed frames except Beacon frame                                                                            | 638 |
| 35.14.6 Additional rules for group addressed frames in an EHT MU PPDU with the TXVECTOR parameter EHT_PPDU_TYPE not equal to 1 except Beacon frame | 638 |
| 35.15 EHT BSS operation                                                                                                                            | 639 |
| 35.15.1 Basic EHT BSS operation                                                                                                                    | 639 |
| 35.15.2 Preamble puncturing operation                                                                                                              | 643 |
| 35.15.3 Channel switching methods for an EHT BSS                                                                                                   | 644 |
| 35.15.4 EHT operation with the Transmit Power Envelope element                                                                                     | 645 |
| 35.16 EPCS priority access                                                                                                                         | 646 |
| 35.16.1 General                                                                                                                                    | 646 |
| 35.16.2 EPCS priority access operation                                                                                                             | 646 |
| 35.16.2.1 General                                                                                                                                  | 646 |

| 35.16.2.2 Setup procedures for EPCS priority access                              | 647 |
|----------------------------------------------------------------------------------|-----|
| 35.16.2.2.1 General                                                              | 647 |
| 35.16.2.2.2 Procedures at the initiating EPCS non-AP MLD                         | 647 |
| 35.16.2.2.3 Procedures at the initiating EPCS AP MLD                             | 648 |
| 35.16.2.2.4 Procedure at the receiving AP MLD                                    | 649 |
| 35.16.2.2.5 Procedures at the receiving non-AP MLD                               | 650 |
| 35.16.3 EPCS priority access procedure                                           | 650 |
| 35.16.3.1 General                                                                | 650 |
| 35.16.3.2 EDCA operation using EPCS EDCA parameters                              | 650 |
| 35.16.3.3 Maintenance procedures for EPCS priority access                        | 652 |
| 35.16.3.3.1 Procedures at the initiating EPCS AP MLD                             | 652 |
| 35.16.3.3.2 Procedures at the receiving EPCS non-AP MLD                          | 652 |
| 35.17 EHT SCS procedure                                                          | 652 |
| 35.18 EHT MSCS procedure                                                         | 655 |
| 35.19 EHT link adaptation using ELA Control subfield                             | 655 |
| 35.20 EHT TWT operation                                                          | 657 |
| 36. Extremely high throughput (EHT) PHY specification                            | 658 |
| 36.1 Introduction                                                                | 658 |
| 36.1.1 Introduction to the EHT PHY                                               | 658 |
| 36.1.2 Scope                                                                     | 663 |
| 36.1.3 EHT PHY functions                                                         | 663 |
| 36.1.3.1 General                                                                 | 663 |
| 36.1.3.2 PHY management entity (PLME)                                            | 663 |
| 36.1.3.3 Service specification method                                            | 663 |
| 36.1.4 PPDU formats                                                              | 664 |
| 36.2 EHT PHY service interface                                                   | 664 |
| 36.2.1 Introduction                                                              | 664 |
| 36.2.2 TXVECTOR and RXVECTOR parameters                                          | 664 |
| 36.2.3 TRIGVECTOR parameters                                                     | 679 |
| 36.2.4 PHYCONFIG VECTOR                                                          | 680 |
| 36.2.5 Effect of CH_BANDWIDTH parameter on PPDU format                           | 681 |
| 36.2.6 Support for non-HT, HT, VHT, and HE formats                               | 682 |
| 36.2.6.1 General                                                                 | 682 |
| 36.2.6.2 Support for non-HT format                                               | 684 |
| 36.2.6.3 Support for HT format                                                   | 685 |
| 36.2.6.4 Support for VHT format                                                  | 685 |
| 36.2.6.5 Support for HE format                                                   | 686 |
| 36.3 EHT PHY                                                                     | 686 |
| 36.3.1 Introduction                                                              | 686 |
| 36.3.2 Subcarrier and resource allocation                                        | 686 |
| 36.3.2.1 Subcarriers and resource allocation in EHT PPDU                         | 686 |
| 36.3.2.2 Subcarriers and resource allocation for multiple RUs                    | 694 |
| 36.3.2.2.1 General                                                               | 694 |
| 36.3.2.2.2 Small size MRUs                                                       | 694 |
| 36.3.2.2.3 Large size MRUs                                                       | 703 |
| 36.3.2.3 Null subcarriers                                                        | 713 |
| 36.3.2.4 Pilot subcarriers                                                       | 714 |
| 36.3.2.5 20 MHz operating non-AP EHT STAs participating in wider bandwidth OFDMA | 714 |
| 36.3.2.6 RU and MRU restrictions for 20 MHz operation                            | 715 |
| 36.3.2.7 80 MHz operating non-AP EHT STAs participating in wider bandwidth OFDMA | 716 |

| 36.3.2.8    | 160 MHz operating non-AP EHT STAs participating in wider bandwidth OFDMA | 717 |
|-------------|--------------------------------------------------------------------------|-----|
| 36.3.3      | MU-MIMO                                                                  | 717 |
| 36.3.3.1    | DL MU-MIMO                                                               | 717 |
| 36.3.3.1.1  | Supported RU or MRU sizes in DL MU-MIMO                                  | 717 |
| 36.3.3.1.2  | Maximum number of spatial streams in an EHT MU PPDU                      | 718 |
| 36.3.3.2    | UL MU-MIMO                                                               | 719 |
| 36.3.3.2.1  | Introduction                                                             | 719 |
| 36.3.3.2.2  | Supported RU or MRU sizes in UL MU-MIMO                                  | 719 |
| 36.3.3.2.3  | UL MU-MIMO EHT-LTF mode                                                  | 719 |
| 36.3.3.2.4  | Maximum number of spatial streams in UL MU-MIMO                          | 720 |
| 36.3.3.3    | Maximum number of users in MU-MIMO                                       | 720 |
| 36.3.4      | EHT PPDU formats                                                         | 720 |
| 36.3.5      | EHT DUP transmission                                                     | 722 |
| 36.3.6      | Transmitter block diagram                                                | 722 |
| 36.3.7      | Overview of the PPDU encoding process                                    | 730 |
| 36.3.7.1    | General                                                                  | 730 |
| 36.3.7.2    | Construction of L-STF                                                    | 730 |
| 36.3.7.3    | Construction of L-LTF                                                    | 730 |
| 36.3.7.4    | Construction of L-SIG                                                    | 731 |
| 36.3.7.5    | Construction of RL-SIG                                                   | 731 |
| 36.3.7.6    | Construction of U-SIG                                                    | 732 |
| 36.3.7.7    | Construction of EHT-SIG                                                  | 732 |
| 36.3.7.8    | Construction of EHT-STF                                                  | 733 |
| 36.3.7.9    | Construction of EHT-LTF                                                  | 733 |
| 36.3.7.10   | Construction of Data field in an EHT PPDU                                | 734 |
| 36.3.8      | EHT modulation and coding schemes (EHT-MCSs)                             | 735 |
| 36.3.9      | EHT-SIG modulation and coding schemes (EHT-SIG-MCSs)                     | 735 |
| 36.3.10     | Timing-related parameters                                                | 735 |
| 36.3.11     | Mathematical description of signals                                      | 740 |
| 36.3.11.1   | Notation                                                                 | 740 |
| 36.3.11.2   | Subcarrier indices in use                                                | 741 |
| 36.3.11.3   | Channel frequencies                                                      | 741 |
| 36.3.11.4   | Transmitted signal                                                       | 743 |
| 36.3.12     | EHT preamble                                                             | 750 |
| 36.3.12.1   | Introduction                                                             | 750 |
| 36.3.12.2   | Cyclic shift                                                             | 750 |
| 36.3.12.2.1 | Cyclic shift for pre-EHT modulated fields                                | 750 |
| 36.3.12.2.2 | Cyclic shift for EHT modulated fields                                    | 750 |
| 36.3.12.3   | L-STF                                                                    | 750 |
| 36.3.12.4   | L-LTF                                                                    | 751 |
| 36.3.12.5   | L-SIG                                                                    | 752 |
| 36.3.12.6   | RL-SIG                                                                   | 753 |
| 36.3.12.7   | U-SIG                                                                    | 754 |
| 36.3.12.7.1 | General                                                                  | 754 |
| 36.3.12.7.2 | Content                                                                  | 754 |
| 36.3.12.7.3 | Encoding and modulation                                                  | 766 |
| 36.3.12.8   | EHT-SIG                                                                  | 769 |
| 36.3.12.8.1 | General                                                                  | 769 |
| 36.3.12.8.2 | EHT-SIG content channels                                                 | 770 |
| 36.3.12.8.3 | Common field for OFDMA transmission                                      | 772 |
| 36.3.12.8.4 | Common field for non-OFDMA transmission                                  | 783 |
| 36.3.12.8.5 | User Specific field                                                      | 786 |
| 36.3.12.8.6 | Encoding and modulation                                                  | 793 |

| 36.3.12.9 EHT-STF                                                                    | 800 |
|--------------------------------------------------------------------------------------|-----|
| 36.3.12.10 EHT-LTF                                                                   | 804 |
| 36.3.12.11 EHT preamble of preamble punctured EHT MU PPDU                            | 811 |
| 36.3.12.11.1 General                                                                 | 811 |
| 36.3.12.11.2 Preamble puncturing for EHT MU PPDUs in an OFDMA transmission           | 812 |
| 36.3.12.11.3 Preamble puncturing for EHT MU PPDU in a non-OFDMA transmission         | 812 |
| 36.3.12.11.4 Preamble puncturing for EHT TB PPDU                                     | 812 |
| 36.3.13 Data field                                                                   | 813 |
| 36.3.13.1 SERVICE field                                                              | 813 |
| 36.3.13.2 EHT PHY DATA scrambler and descrambler                                     | 813 |
| 36.3.13.3 Coding                                                                     | 814 |
| 36.3.13.3.1 General                                                                  | 814 |
| 36.3.13.3.2 BCC coding                                                               | 814 |
| 36.3.13.3.3 LDPC coding                                                              | 814 |
| 36.3.13.3.4 EHT PPDU padding process                                                 | 815 |
| 36.3.13.3.5 Encoding process for an EHT MU PPDU                                      | 815 |
| 36.3.13.3.6 Encoding process for an EHT TB PPDU                                      | 819 |
| 36.3.13.4 Stream parser                                                              | 820 |
| 36.3.13.5 Segment parser                                                             | 820 |
| 36.3.13.6 BCC interleavers                                                           | 825 |
| 36.3.13.7 Constellation mapping                                                      | 826 |
| 36.3.13.8 LDPC tone mapper                                                           | 828 |
| 36.3.13.9 Segment deparser                                                           | 830 |
| 36.3.13.10 Frequency domain duplication                                              | 831 |
| 36.3.13.11 Pilot subcarriers                                                         | 832 |
| 36.3.13.12 OFDM modulation                                                           | 836 |
| 36.3.13.13 Dual carrier modulation                                                   | 837 |
| 36.3.14 Packet extension                                                             | 837 |
| 36.3.15 Non-HT duplicate transmission                                                | 841 |
| 36.3.16 Transmit requirements for PPDU sent in response to a triggering frame        | 843 |
| 36.3.16.1 Introduction                                                               | 843 |
| 36.3.16.2 Power pre-correction                                                       | 843 |
| 36.3.16.3 Pre-correction accuracy requirements                                       | 844 |
| 36.3.17 Beamforming                                                                  | 845 |
| 36.3.17.1 General                                                                    | 845 |
| 36.3.17.2 EHT beamforming feedback matrix V                                          | 846 |
| 36.3.17.3 EHT CQI feedback                                                           | 846 |
| 36.3.18 EHT sounding NDP                                                             | 847 |
| 36.3.19 EHT SU transmission                                                          | 847 |
| 36.3.20 Transmit specification                                                       | 848 |
| 36.3.20.1 Transmit spectral mask                                                     | 848 |
| 36.3.20.1.1 General                                                                  | 848 |
| 36.3.20.1.2 Additional restrictions for puncturing in EHT PPDU                       | 852 |
| 36.3.20.1.3 Additional restrictions of preamble puncturing for non-HT duplicate PPDU | 857 |
| 36.3.20.2 Spectral flatness                                                          | 860 |
| 36.3.20.3 Transmit center frequency and symbol clock frequency tolerance             | 863 |
| 36.3.20.4 Modulation accuracy                                                        | 864 |
| 36.3.20.4.1 Introduction to modulation accuracy tests                                | 864 |
| 36.3.20.4.2 Transmit center frequency leakage                                        | 864 |
| 36.3.20.4.3 Transmitter constellation error                                          | 864 |
| 36.3.20.4.4 Transmitter modulation accuracy (EVM) test                               | 865 |

| 36.3.21 Receiver specification                                                    | 871 |
|-----------------------------------------------------------------------------------|-----|
| 36.3.21.1 General                                                                 | 871 |
| 36.3.21.2 Receiver minimum input sensitivity                                      | 872 |
| 36.3.21.3 Adjacent channel rejection                                              | 873 |
| 36.3.21.4 Nonadjacent channel rejection                                           | 874 |
| 36.3.21.5 Receiver maximum input level                                            | 874 |
| 36.3.21.6 CCA sensitivity                                                         | 874 |
| 36.3.21.6.1 General                                                               | 874 |
| 36.3.21.6.2 CCA sensitivity for operating classes requiring CCA-ED                | 874 |
| 36.3.21.6.3 CCA sensitivity for the primary 20 MHz channel                        | 875 |
| 36.3.21.6.4 Per 20 MHz CCA sensitivity                                            | 875 |
| 36.3.22 EHT transmit procedure                                                    | 876 |
| 36.3.23 EHT receive procedure                                                     | 880 |
| 36.3.24 Channel numbering and channelization                                      | 885 |
| 36.3.24.1 General                                                                 | 885 |
| 36.3.24.2 Channelization for 320 MHz channel                                      | 885 |
| 36.3.25 Regulatory requirements                                                   | 885 |
| 36.4 EHT PLME                                                                     | 885 |
| 36.4.1 PLME_SAP sublayer management primitives                                    | 885 |
| 36.4.2 PHY MIB                                                                    | 885 |
| 36.4.3 TXTIME and PSDU_LENGTH calculation                                         | 887 |
| 36.4.4 EHT PHY                                                                    | 891 |
| 36.5 Parameters for EHT-MCSs                                                      | 891 |
| 36.5.1 EHT-MCSs for 26-tone RU                                                    | 892 |
| 36.5.2 EHT-MCSs for 52-tone RU                                                    | 892 |
| 36.5.3 EHT-MCSs for 52+26-tone MRU                                                | 894 |
| 36.5.4 EHT-MCSs for 106-tone RU                                                   | 895 |
| 36.5.5 EHT-MCSs for 106+26-tone MRU                                               | 896 |
| 36.5.6 EHT-MCSs for 242-tone RU                                                   | 897 |
| 36.5.7 EHT-MCSs for 484-tone RU                                                   | 898 |
| 36.5.8 EHT-MCSs for 484+242-tone MRU                                              | 899 |
| 36.5.9 EHT-MCSs for 996-tone RU                                                   | 900 |
| 36.5.10 EHT-MCSs for 996+484-tone MRU                                             | 901 |
| 36.5.11 EHT-MCSs for 996+484+242-tone MRU                                         | 902 |
| 36.5.12 EHT-MCSs for 2×996-tone RU                                                | 903 |
| 36.5.13 EHT-MCSs for 2×996+484-tone MRU                                           | 904 |
| 36.5.14 EHT-MCSs for 3×996-tone MRU                                               | 905 |
| 36.5.15 EHT-MCSs for 3×996+484-tone MRU                                           | 906 |
| 36.5.16 EHT-MCSs for 4×996-tone RU                                                | 907 |
| 36.5.17 EHT-MCS 14 for EHT DUP mode                                               | 907 |
| 36.6 Parameters for EHT-SIG MCSs                                                  | 908 |
| Annex B (normative) Protocol Implementation Conformance Statement (PICS) proforma | 909 |
| B.2 Abbreviations and special symbols                                             | 909 |
| B.2.2 General abbreviations for Item and Support columns                          | 909 |
| B.4 PICS proforma—IEEE Std 802.11-2024                                            | 909 |
| B.4.3 IUT configuration                                                           | 909 |
| B.4.4 MAC protocol                                                                | 910 |
| B.4.40 Extremely High Throughput (EHT) features                                   | 912 |
| Annex C (normative) ASN.1 encoding of the MAC and PHY MIB                         | 926 |
| C.1 General                                                                       | 926 |

| C.3 MIB Detail                                                                                          | 926 |
|---------------------------------------------------------------------------------------------------------|-----|
| Annex E (normative) Country elements and operating classes                                              | 960 |
| E.1 Country information and operating classes                                                           | 960 |
| Annex R (informative) Interworking with external networks                                               | 961 |
| R.4 Interworking and SSPN interface support                                                             | 961 |
| R.4.2 SSPN interface parameters                                                                         | 961 |
| Annex Z (informative) HE-SIG-B and EHT-SIG content examples                                             | 962 |
| Z.1 General                                                                                             | 962 |
| Z.2 HE-SIG-B example Example 1                                                                          | 962 |
| Z.3 HE-SIG-B example Example 2                                                                          | 962 |
| Z.4 HE-SIG-B example Example 3                                                                          | 962 |
| Z.5 HE-SIG-B example Example 4                                                                          | 962 |
| Z.6 EHT-SIG example 1                                                                                   | 963 |
| Z.7 EHT-SIG example 2                                                                                   | 964 |
| Z.8 EHT-SIG example 3                                                                                   | 966 |
| Z.9 EHT-SIG example 4                                                                                   | 969 |
| Z.10 EHT-SIG example 5                                                                                  | 973 |
| Z.11 EHT-SIG example 6                                                                                  | 974 |
| Z.12 EHT-SIG example 7                                                                                  | 975 |
| Z.13 EHT-SIG example 8                                                                                  | 977 |
| Annex AA (informative) Multiple BSSID configuration examples                                            | 981 |
| AA.1 Introduction                                                                                       | 981 |
| AA.2 Examples illustrating the relationship between profile periodicity and DTIM interval               | 981 |
| AA.3 Example illustrating the relationship between MLO and multiple BSSID set or co-hosted BSSID set    | 982 |
| Annex AH (informative) Examples of MLO                                                                  | 984 |
| AH.1 Introduction                                                                                       | 984 |
| AH.2 Advertisement of multi-link information                                                            | 984 |
| AH.2.1 Example of a complete profile carried in a Basic Multi-Link element                              | 984 |
| AH.2.2 Examples of inheritance in a Multi-Link element                                                  | 985 |
| AH.2.3 Contents of Management frames during ML reconfiguration affiliated AP removal procedure          | 987 |
| AH.3 Contents of Management frames during MLO discovery and setup                                       | 989 |
| AH.3.1 Management frames originating from an affiliated non-AP STA                                      | 989 |
| AH.3.2 Management frames originating from an affiliated AP that is not a member of a multiple BSSID set | 990 |
| AH.3.3 Management frames originating from an affiliated AP that is a member of a multiple BSSID set     | 992 |
| AH.4 Example of ML setup                                                                                | 994 |
| AH.5 Examples of link reconfiguration to ML setup                                                       | 995 |
| AH.6 Example of TTLM frame exchange                                                                     | 996 |
| AH.7 Example of critical update operation                                                               | 997 |
| AH.8 Example of advertising quieting or channel switching information of a link on another link         | 998 |

| AH.9 ML power-save operation                                                          | 1001 |
|---------------------------------------------------------------------------------------|------|
| AH.9.1 Example of per-link power-save operation                                       | 1001 |
| AH.9.2 Example of dynamic link switch using power states                              | 1002 |
| AH.9.3 Examples of listen interval operation                                          | 1003 |
| AH.10 Example of cross-link group address BU indication                               | 1004 |
| AH.11 Examples of frame exchanges for TDLS discovery and setup involving a non-AP MLD | 1006 |
| AH.12 Example of proxy ARP service provided by an AP MLD                              | 1010 |
| AH.13 Example of TWT agreement negotiation for multiple links                         | 1011 |
| AH.14 Examples of ML channel access                                                   | 1012 |
| AH.14.1 Example of MLD operation over an STR link pair                                | 1012 |
| AH.14.2 Example of PPDU end time alignment on an NSTR link pair                       | 1012 |
| AH.14.3 Example of end time alignment of response PPDU using SRS Control field        | 1013 |
| AH.14.4 Example of AP assisted medium synchronization recovery procedure              | 1013 |
| AH.15 Examples of enhanced multi-link single-radio operation                          | 1014 |
| AH.16 Examples of enhanced multi-link multi-radio operation                           | 1016 |
| AH.17 Example of aligned broadcast TWT schedule operation                             | 1016 |
| AH.18 Example of an R-TWT announcement by an AP belonging to a multiple BSSID set     | 1017 |

## Tables

| Table 6-1   | — MLME SAP interface                                                                                                                                  | 84  |
|-------------|-------------------------------------------------------------------------------------------------------------------------------------------------------|-----|
| Table 8-5   | — The channel-list parameter entries                                                                                                                  | 111 |
| Table 9-1   | — Valid type and subtype combinations                                                                                                                 | 113 |
| Table 9-13  | — Ack policy                                                                                                                                          | 114 |
| Table 9-17  | — RDG/More PPDU subfield values                                                                                                                       | 116 |
| Table 9-25  | — Control ID subfield values                                                                                                                          | 116 |
| Table 9-28  | — UL Target Receive Power subfield in TRS Control field                                                                                               | 118 |
| Table 9-33a | — Encoding of the Rx NSS Extension subfield in the EHT OM Control subfield combined with the Rx NSS subfield in the OM Control subfield               | 120 |
| Table 9-33b | — Encoding of the Channel Width Extension subfield in the EHT OM Control subfield combined with the Channel Width subfield in the OM Control subfield | 120 |
| Table 9-33c | — Encoding of the Tx NSTS Extension subfield in the EHT OM Control subfield combined with the Tx NSTS subfield in the OM Control subfield             | 121 |
| Table 9-33d | — ELA Control subfields                                                                                                                               | 123 |
| Table 9-34  | — Maximum data unit sizes and durations                                                                                                               | 127 |
| Table 9-38  | — Fragment Number subfield encoding for the Compressed BlockAck variant                                                                               | 129 |
| Table 9-40  | — Fragment Number subfield encoding for the Multi-STA BlockAck variant                                                                                | 131 |
| Table 9-42a | — Encoding of the AID11 subfield in an NDP Announcement frame                                                                                         | 133 |
| Table 9-42b | — NDP Announcement frame variant encoding                                                                                                             | 134 |
| Table 9-42c | — STA Info subfields                                                                                                                                  | 135 |
| Table 9-42d | — Feedback Type And Ng subfield and Codebook Size subfield encoding for HE TB sounding                                                                | 137 |
| Table 9-42e | — Feedback Type And Ng subfield and Codebook Size subfield encoding for HE non-TB sounding                                                            | 137 |
| Table 9-42f | — Settings for BW, Partial Bandwidth Info subfield in the EHT NDP Announcement frame                                                                  | 143 |
| Table 9-46a | — Valid combinations of B54 and B55 in the Common Info field, B39 in the User Info field, and solicited TB PPDU format                                | 145 |
| Table 9-46b | — Trigger Type subfield encoding                                                                                                                      | 148 |
| Table 9-46c | — UL BW subfield encoding                                                                                                                             | 149 |
| Table 9-46d | — GI and HE/EHT-LTF Type subfield encoding                                                                                                            | 149 |
| Table 9-46e | — MU-MIMO HE-LTF Mode subfield encoding                                                                                                               | 150 |
| Table 9-46f | — Pre-FEC Padding Factor and PE Disambiguity subfields                                                                                                | 151 |
| Table 9-46g | — UL Bandwidth Extension subfield encoding                                                                                                            | 153 |
| Table 9-46h | — Mapping from Special User Info field to U-SIG-1 and U-SIG-2 fields in the EHT TB PPDU                                                               | 154 |
| Table 9-46i | — AID12 subfield encoding                                                                                                                             | 155 |
| Table 9-46j | — B7-B1 of the RU Allocation subfield in an HE variant User Info field                                                                                | 156 |
| Table 9-46k | — UL Target Receive Power subfield in Trigger frame                                                                                                   | 158 |
| Table 9-46l | — Encoding of the PS160 and RU Allocation subfields in an EHT variant User Info field                                                                 | 160 |
| Table 9-46m | — Lookup table for X1 and N                                                                                                                           | 164 |
| Table 9-46n | — TXS Mode subfield encoding                                                                                                                          | 167 |
| Table 9-60  | — Address field contents for Data frames transmitted by nonmesh STAs                                                                                  | 171 |
| Table 9-62  | — Beacon frame body                                                                                                                                   | 172 |
| Table 9-65  | — Association Response frame body                                                                                                                     | 173 |
| Table 9-64  | — Association Request frame body                                                                                                                      | 173 |
| Table 9-66  | — Reassociation Request frame body                                                                                                                    | 174 |
| Table 9-67  | — Reassociation Response frame body                                                                                                                   | 175 |
| Table 9-68  | — Probe Request frame body                                                                                                                            | 176 |

| Table 9-69—Probe Response frame body                                                                                                                 | 178 |
|------------------------------------------------------------------------------------------------------------------------------------------------------|-----|
| Table 9-70—Authentication frame body                                                                                                                 | 179 |
| Table 9-73—Action frame body and Action No Ack frame body                                                                                            | 179 |
| Table 9-80—Status codes                                                                                                                              | 182 |
| Table 9-81—Category values                                                                                                                           | 183 |
| Table 9-110—Subfield values of the Operating Mode field                                                                                              | 184 |
| Table 9-129a—EHT MIMO Control field encoding                                                                                                         | 186 |
| Table 9-129b—Subcarrier indices when not all bits in Partial BW Info subfield corresponding to the 80 MHz frequency subblock are set to 1            | 189 |
| Table 9-129c—Subcarrier indices when all bits in Partial BW Info subfield corresponding to the 80 MHz frequency subblock are set to 1 for $N_g = 4$  | 190 |
| Table 9-129d—Subcarrier indices when all bits in Partial BW Info subfield corresponding to the 80 MHz frequency subblock are set to 1 for $N_g = 16$ | 190 |
| Table 9-129e—EMLSR Mode subfield and EMLMR Mode subfield                                                                                             | 194 |
| Table 9-129f—Subfields of the EMLMR Supported MCS And NSS Set subfield                                                                               | 196 |
| Table 9-130—Element IDs                                                                                                                              | 199 |
| Table 9-131—BSS membership selector value encoding                                                                                                   | 199 |
| Table 9-137—Optional subelement IDs for Channel Load request                                                                                         | 201 |
| Table 9-142—Optional subelement IDs for Beacon request                                                                                               | 202 |
| Table 9-139—Optional subelement IDs for Noise Histogram request                                                                                      | 202 |
| Table 9-145—Optional subelement IDs for Frame request                                                                                                | 203 |
| Table 9-167—Optional subelement IDs for Noise Histogram report                                                                                       | 204 |
| Table 9-165—Optional subelement IDs for Channel Load report                                                                                          | 204 |
| Table 9-168—Optional subelement IDs for Beacon report                                                                                                | 205 |
| Table 9-169—Optional subelement IDs for Frame report                                                                                                 | 206 |
| Table 9-192—Extended Capabilities field                                                                                                              | 207 |
| Table 9-212—Optional subelement IDs for Neighbor Report                                                                                              | 209 |
| Table 9-221—Subelement IDs                                                                                                                           | 211 |
| Table 9-223—Resource type code in RIC Descriptor element                                                                                             | 212 |
| Table 9-328—TBTT Information field contents if the TBTT Information Field Type subfield is equal to 0                                                | 218 |
| Table 9-337—PHY Support Criterion subfield                                                                                                           | 220 |
| Table 9-347—TWT Setup Command field values                                                                                                           | 222 |
| Table 9-348—Broadcast TWT Recommendation field for a broadcast TWT element                                                                           | 223 |
| Table 9-349a—Restricted TWT Schedule Info subfield values                                                                                            | 224 |
| Table 9-417e—Channel width, CCF50, and CCF51 subfields                                                                                               | 230 |
| Table 9-417f—Type subfield encoding                                                                                                                  | 231 |
| Table 9-417g—Optional subelement IDs for Link Info field of the Multi-Link element                                                                   | 232 |
| Table 9-417h—Medium Synchronization OFDM ED Threshold subfield                                                                                       | 235 |
| Table 9-417j—Encoding of the EMLSR Transition Delay subfield                                                                                         | 236 |
| Table 9-417i—Encoding of the EMLSR Padding Delay subfield                                                                                            | 236 |
| Table 9-417k—Encoding of the EMLMR Padding Delay subfield                                                                                            | 237 |
| Table 9-417l—Encoding of the EMLMR Transition Delay subfield                                                                                         | 237 |
| Table 9-417m—Encoding of the Transition Timeout subfield                                                                                             | 238 |
| Table 9-417n—Subfields of the MLD Capabilities And Operations subfield                                                                               | 239 |
| Table 9-417o—Subfields of the Extended MLD Capabilities And Operations subfield                                                                      | 241 |
| Table 9-417p—Reconfiguration Operation Type subfield encoding                                                                                        | 248 |
| Table 9-417q—Subfields of the EHT MAC Capabilities Information field                                                                                 | 253 |
| Table 9-417r—Subfield of the EHT PHY Capabilities Information field                                                                                  | 257 |
| Table 9-417s—Subfields of the Supported EHT-MCS And NSS Set field                                                                                    | 268 |

| Table 9-417t—Encoding of the maximum number of spatial streams (NSS) for a specified MCS value...                                                                  | 272 |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----|
| Table 9-417u—Constellation index...                                                                                                                                | 274 |
| Table 9-417v—RU allocation index...                                                                                                                                | 275 |
| Table 9-417w—Direction subfield encoding...                                                                                                                        | 279 |
| Table 9-417x—MSDU Delivery Ratio subfield values...                                                                                                                | 282 |
| Table 9-473—Optional subelement IDs for Measurement Pilot frame...                                                                                                 | 286 |
| Table 9-482—TDLs Discovery Response Action field format...                                                                                                         | 287 |
| Table 9-491—FILS Discovery frame format...                                                                                                                         | 287 |
| Table 9-494—PHY Index subfield...                                                                                                                                  | 288 |
| Table 9-495—FILS Minimum Rate...                                                                                                                                   | 288 |
| Table 9-492—BSS Operating Channel Width...                                                                                                                         | 288 |
| Table 9-511—FT Request frame body...                                                                                                                               | 290 |
| Table 9-512—FT Response frame body...                                                                                                                              | 290 |
| Table 9-513—FT Confirm frame body...                                                                                                                               | 291 |
| Table 9-514—FT Ack frame body...                                                                                                                                   | 291 |
| Table 9-524—TDLs Action field values...                                                                                                                            | 292 |
| Table 9-525—Information for TDLs Setup Request Action field...                                                                                                     | 292 |
| Table 9-526—Information for TDLs Setup Response Action field...                                                                                                    | 293 |
| Table 9-527—Information for TDLs Setup Confirm Action field...                                                                                                     | 293 |
| Table 9-530—Information for TDLs Channel Switch Request Action field...                                                                                            | 294 |
| Table 9-535—Information for TDLs Discovery Request Action field...                                                                                                 | 294 |
| Table 9-535a—Information for TDLs Broadcast TWT Request Action field...                                                                                            | 294 |
| Table 9-535b—Information for TDLs Broadcast TWT Response Action field...                                                                                           | 295 |
| Table 9-538a—BSS Termination Included and Link Removal Imminent fields encoding...                                                                                 | 297 |
| Table 9-540—Optional subelement IDs for WNM Sleep Mode parameters...                                                                                               | 299 |
| Table 9-547—Mesh Peering Open frame Action field format...                                                                                                         | 301 |
| Table 9-548—Mesh Peering Confirm frame Action field format...                                                                                                      | 301 |
| Table 9-617—TWT Setup frame Action field format...                                                                                                                 | 302 |
| Table 9-658c—EHT Compressed Beamforming/CQI frame Action field format...                                                                                           | 303 |
| Table 9-658d—Protected EHT Action field values...                                                                                                                  | 303 |
| Table 9-658b—EHT Action field values...                                                                                                                            | 303 |
| Table 9-658e—TID-To-Link Mapping Request frame Action field format...                                                                                              | 304 |
| Table 9-658f—TID-To-Link Mapping Response frame Action field format...                                                                                             | 305 |
| Table 9-658g—TID-To-Link Mapping Teardown frame Action field format...                                                                                             | 305 |
| Table 9-658h—EPCS Priority Access Enable Request frame Action field format...                                                                                      | 306 |
| Table 9-658i—EPCS Priority Access Enable Response frame Action field format...                                                                                     | 306 |
| Table 9-658j—EPCS Priority Access Teardown Action field format...                                                                                                  | 307 |
| Table 9-658l—Link Recommendation frame Action field format...                                                                                                      | 308 |
| Table 9-658k—Protected EML Operating Mode Notification frame Action field format...                                                                                | 308 |
| Table 9-658m—Multi-Link Operation Update Request frame Action field format...                                                                                      | 309 |
| Table 9-658n—Multi-Link Operation Update Response frame Action field format...                                                                                     | 309 |
| Table 9-658o—Link Reconfiguration Notify frame Action field format...                                                                                              | 310 |
| Table 9-658p—Link Reconfiguration Request frame Action field format...                                                                                             | 310 |
| Table 9-658q—Link Reconfiguration Response frame Action field format...                                                                                            | 311 |
| Table 9-659—MPDU delimiter fields...                                                                                                                               | 314 |
| Table 9-660—A-MPDU contexts...                                                                                                                                     | 315 |
| Table 9-663—A-MPDU contents in the control response context...                                                                                                     | 316 |
| Table 9-665—A-MPDU contents in the HE non-ack-enabled single-TID immediate response context or in the EHT non-ack-enabled single-TID immediate response context... | 316 |

| Table 9-666—A-MPDU contents in the HE ack-enabled single-TID immediate response context or in the EHT ack-enabled single-TID immediate response context                                         | 316 |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----|
| Table 9-667—A-MPDU contents in the HE non-ack-enabled multi-TID immediate response context or in the EHT non-ack-enabled multi-TID immediate response context                                   | 317 |
| Table 9-668—A-MPDU contents in the HE ack-enabled multi-TID immediate response context or in the EHT ack-enabled multi-TID immediate response context                                           | 317 |
| Table 10-5—Transmitter sequence number spaces                                                                                                                                                   | 322 |
| Table 10-6—Receiver caches                                                                                                                                                                      | 325 |
| Table 10-9—Modulation classes                                                                                                                                                                   | 329 |
| Table 10-10—Non-HT reference rate                                                                                                                                                               | 331 |
| Table 10-12—Conditions for including Control subfield variants                                                                                                                                  | 332 |
| Table 10-12a—Fields used for calculating the maximum A-MPDU size of various PPDU types in 2.4 GHz, 5 GHz, and 6 GHz bands                                                                       | 334 |
| Table 10-12b—Fields used for calculating the maximum A-MPDU size of various PPDU types in 60 GHz band                                                                                           | 336 |
| Table 11-4—Bufferable/nonbufferable classification of MMPDUs                                                                                                                                    | 345 |
| Table 11-15a—Frame type and their pathway in a TDLS setup                                                                                                                                       | 372 |
| Table 11-22—Default QMF policy                                                                                                                                                                  | 380 |
| Table 12-10—KDE selectors                                                                                                                                                                       | 414 |
| Table 13-1—FT authentication elements                                                                                                                                                           | 464 |
| Table 13-3—Resource types and resource descriptor definitions                                                                                                                                   | 470 |
| Table 17-1—TXVECTOR parameters                                                                                                                                                                  | 473 |
| Table 17-2—RXVECTOR parameters                                                                                                                                                                  | 474 |
| Table 17-7—Contents of the first 7 bits of the scrambling sequence                                                                                                                              | 476 |
| Table 17-10a—RXVECTOR parameter CH_BANDWIDTH_IN_NON_HT values for an EHT STA                                                                                                                    | 477 |
| Table 17-8—TXVECTOR parameter CH_BANDWIDTH_IN_NON_HT values                                                                                                                                     | 477 |
| Table 17-10—RXVECTOR parameter CH_BANDWIDTH_IN_NON_HT values for a VHT or HE STA                                                                                                                | 477 |
| Table 35-1—Negotiated buffer size and Block Ack Bitmap subfield length                                                                                                                          | 587 |
| Table 35-2—PS160 subfield for RU allocation in EHT TRS                                                                                                                                          | 594 |
| Table 35-3—Summary of supported RU or MRU sizes for sounding feedback                                                                                                                           | 606 |
| Table 35-4—EHT nominal packet padding indication when the PPE Thresholds Present subfield is set to 0 in both the EHT and HE Capabilities elements                                              | 630 |
| Table 35-5—EHT nominal packet padding indication for NSS $\le$ NSTS+1 when the PPE Thresholds Present subfield is set to 0 in the EHT Capabilities element and 1 in the HE Capabilities element | 632 |
| Table 35-6—PPE thresholds per PPET8 and PPETmax                                                                                                                                                 | 633 |
| Table 35-7—Indication of supported channel widths by an EHT STA                                                                                                                                 | 642 |
| Table 36-1—TXVECTOR and RXVECTOR parameters                                                                                                                                                     | 665 |
| Table 36-2—TRIGVECTOR parameters                                                                                                                                                                | 679 |
| Table 36-3—Interpretation of FORMAT_NON_HT_MODULATION, and CH_BANDWIDTH parameters                                                                                                              | 681 |
| Table 36-4—Mapping of the EHT PHY parameters for non-HT operation                                                                                                                               | 684 |
| Table 36-5—Data and pilot subcarrier indices for RUs in an 80 MHz EHT PPDU                                                                                                                      | 687 |
| Table 36-6—Data and pilot subcarrier indices for RUs in a 160 MHz EHT PPDU                                                                                                                      | 689 |
| Table 36-7—Data and pilot subcarrier indices for RUs in a 320 MHz EHT PPDU                                                                                                                      | 691 |
| Table 36-9—Indices for small size MRUs in an OFDMA 40 MHz EHT PPDU                                                                                                                              | 697 |
| Table 36-8—Indices for small size MRUs in an OFDMA 20 MHz EHT PPDU                                                                                                                              | 697 |
| Table 36-10—Indices for small size MRUs in an OFDMA 80 MHz EHT PPDU                                                                                                                             | 698 |
| Table 36-11—Indices for small size MRUs in an OFDMA 160 MHz EHT PPDU                                                                                                                            | 699 |
| Table 36-12—Indices for small size MRUs in an OFDMA 320 MHz EHT PPDU                                                                                                                            | 700 |

| Table 36-14—Indices for large size MRUs in an OFDMA 160 MHz EHT PPDU and in a non-OFDMA 160 MHz EHT PPDU                            | 709 |
|-------------------------------------------------------------------------------------------------------------------------------------|-----|
| Table 36-13—Indices for large size MRUs in an OFDMA 80 MHz EHT PPDU and in a non-OFDMA 80 MHz EHT PPDU                              | 709 |
| Table 36-15—Indices for large size MRUs in an OFDMA 320 MHz EHT PPDU and in a non-OFDMA 320 MHz EHT PPDU                            | 711 |
| Table 36-16—Null subcarrier indices for 80 MHz, 160 MHz, and 320 MHz                                                                | 714 |
| Table 36-17—EHT PPDU fields                                                                                                         | 721 |
| Table 36-18—Timing-related constants                                                                                                | 735 |
| Table 36-19—Subcarrier allocation related constants for the EHT-modulated fields in a nonpunctured non-OFDMA EHT PPDU               | 737 |
| Table 36-20—Subcarrier allocation related constants for the EHT-modulated fields in a punctured non-OFDMA EHT PPDU                  | 738 |
| Table 36-21—Subcarrier allocation related constants for RUs in an OFDMA EHT PPDU                                                    | 738 |
| Table 36-22—Subcarrier allocation related constants for MRUs in an OFDMA EHT PPDU                                                   | 739 |
| Table 36-23—Frequently used parameters                                                                                              | 739 |
| Table 36-24—Fields to specify EHT channels                                                                                          | 742 |
| Table 36-25—Center frequency of the transmitted PPDU                                                                                | 743 |
| Table 36-26—Number of modulated subcarriers and guard interval duration values for EHT PPDU fields                                  | 747 |
| Table 36-27—CH_BANDWIDTH/CH_BANDWIDTH_IN_NON_HT and phase rotation for a given bandwidth for pre-EHT modulated fields               | 749 |
| Table 36-28—U-SIG field of an EHT MU PPDU                                                                                           | 755 |
| Table 36-29—Combination of UL/DL and PPDU Type And Compression Mode field                                                           | 758 |
| Table 36-30—Definition of the Punctured Channel Information field in the U-SIG for an EHT MU PPDU using non-OFDMA transmissions     | 759 |
| Table 36-31—U-SIG field of an EHT TB PPDU                                                                                           | 763 |
| Table 36-32—U-SIG field of an ER preamble                                                                                           | 766 |
| Table 36-33—Common field for OFDMA transmission                                                                                     | 772 |
| Table 36-34—RU Allocation subfield                                                                                                  | 776 |
| Table 36-35—RUs or MRUs associated with each RU Allocation subfield for each EHT-SIG content channel and PPDU bandwidth             | 781 |
| Table 36-36—Common field for an EHT SU transmission and non-OFDMA transmission to multiple users                                    | 784 |
| Table 36-37—Common field for EHT sounding NDP                                                                                       | 785 |
| Table 36-39—The user encoding block                                                                                                 | 787 |
| Table 36-38—The common encoding block in an EHT-SIG field for an EHT SU transmission and a non-OFDMA transmission to multiple users | 787 |
| Table 36-40—User field format for a non-MU-MIMO allocation                                                                          | 788 |
| Table 36-41—User field format for an MU-MIMO allocation                                                                             | 790 |
| Table 36-42—Spatial Configuration subfield encoding                                                                                 | 791 |
| Table 36-43—Initial number of EHT-LTFs required for different number of spatial streams                                             | 804 |
| Table 36-44—EHT-LTF type and GI duration combinations for various EHT PPDU formats                                                  | 805 |
| Table 36-45—SERVICE field                                                                                                           | 813 |
| Table 36-46—NSD, short values for EHT-MCS values from 0 to 13 and 15                                                                | 816 |
| Table 36-47—NSD, short values for EHT-MCS 14                                                                                        | 817 |
| Table 36-48—Values of NCBPSS_Lu                                                                                                     | 821 |
| Table 36-49—Segment parser parameters                                                                                               | 823 |
| Table 36-50—Joint BCC interleaver parameters for small size MRUs                                                                    | 825 |
| Table 36-51—4096-QAM encoding table                                                                                                 | 826 |

| Table 36-52—LDPC tone mapping distance for each RU or MRU size within an 80 MHz frequency subblock | 829 |
|----------------------------------------------------------------------------------------------------|-----|
| Table 36-53—Pilot indices for a 26-tone RU transmission                                            | 832 |
| Table 36-54—Pilot indices for a 52-tone RU transmission                                            | 832 |
| Table 36-55—Pilot indices for a 106-tone RU transmission                                           | 833 |
| Table 36-56—Pilot indices for a 242-tone RU transmission                                           | 833 |
| Table 36-58—Pilot indices for a 996-tone RU transmission                                           | 834 |
| Table 36-59—Pilot indices for a 2×996-tone RU transmission                                         | 834 |
| Table 36-57—Pilot indices for a 484-tone RU transmission                                           | 834 |
| Table 36-60—Pilot indices for a 4×996-tone RU transmission                                         | 835 |
| Table 36-61—Nominal TPE values                                                                     | 838 |
| Table 36-62—Transmit power and RSSI measurement accuracy                                           | 844 |
| Table 36-63—Maximum transmit spectral flatness deviations for EHT PPDU                             | 860 |
| Table 36-64—Maximum transmit spectral flatness deviations for non-HT duplicate PPDU                | 861 |
| Table 36-65—Allowed relative constellation error versus constellation size and coding rate         | 864 |
| Table 36-66—iRU26, start for RUs other than a 26-tone RU                                           | 868 |
| Table 36-67—Receiver minimum input level sensitivity                                               | 872 |
| Table 36-68—Minimum required adjacent and nonadjacent channel rejection levels                     | 873 |
| Table 36-69—EHT PHY MIB attributes                                                                 | 886 |
| Table 36-70—EHT PHY characteristics                                                                | 891 |
| Table 36-71—EHT-MCSs for 26-tone RU, NSS,u = 1                                                     | 892 |
| Table 36-72—EHT-MCSs for 52-tone RU, NSS,u = 1                                                     | 893 |
| Table 36-73—EHT-MCSs for 52+26-tone MRU, NSS,u = 1                                                 | 894 |
| Table 36-74—EHT-MCSs for 106-tone RU, NSS,u = 1                                                    | 895 |
| Table 36-75—EHT-MCSs for 106+26-tone MRU, NSS,u = 1                                                | 896 |
| Table 36-76—EHT-MCSs for 242-tone RU, NSS,u = 1                                                    | 897 |
| Table 36-77—EHT-MCSs for 484-tone RU, NSS,u = 1                                                    | 898 |
| Table 36-78—EHT-MCSs for 484+242-tone MRU, NSS,u = 1                                               | 899 |
| Table 36-79—EHT-MCSs for 996-tone RU, NSS,u = 1                                                    | 900 |
| Table 36-80—EHT-MCSs for 996+484-tone MRU, NSS,u = 1                                               | 901 |
| Table 36-81—EHT-MCSs for 996+484+242-tone MRU, NSS,u = 1                                           | 902 |
| Table 36-82—EHT-MCSs for 2×996-tone RU, NSS,u = 1                                                  | 903 |
| Table 36-83—EHT-MCSs for 2×996+484-tone MRU, NSS,u = 1                                             | 904 |
| Table 36-84—EHT-MCSs for 3×996-tone MRU, NSS,u = 1                                                 | 905 |
| Table 36-85—EHT-MCSs for 3×996+484-tone MRU, NSS,u = 1                                             | 906 |
| Table 36-86—EHT-MCSs for 4×996-tone RU, NSS,u = 1                                                  | 907 |
| Table 36-87—EHT-MCS 14 for EHT DUP mode, NSS,u = 1                                                 | 907 |
| Table 36-88—EHT-SIG MCSs                                                                           | 908 |
| Table E-4—Global operating classes                                                                 | 960 |
| Table R-3—SSPN Interface information or permission parameters                                      | 961 |
| Table Z-8—U-SIG overflow example 1                                                                 | 963 |
| Table Z-9—Resource allocation signaling example 1                                                  | 963 |
| Table Z-10—Resource Allocation subfield illustration example 1                                     | 963 |
| Table Z-11—EHT-SIG content for example 1                                                           | 964 |
| Table Z-12—U-SIG overflow example 2                                                                | 964 |
| Table Z-13—Resource allocation signaling example 2                                                 | 965 |
| Table Z-14—Resource Allocation subfield illustration example 2                                     | 965 |
| Table Z-15—EHT-SIG content for example 2                                                           | 966 |
| Table Z-16—U-SIG overflow example 3                                                                | 966 |
| Table Z-17—Resource allocation signaling example 3                                                 | 967 |

| Table Z-18—Resource Allocation subfield illustration for the lower 80 MHz example 3               | 967  |
|---------------------------------------------------------------------------------------------------|------|
| Table Z-19—Resource Allocation subfield illustration for the upper 80 MHz example 3               | 967  |
| Table Z-20—EHT-SIG content in the lower 80 MHz for example 3                                      | 968  |
| Table Z-22—U-SIG overflow example 4                                                               | 969  |
| Table Z-21—EHT-SIG content in the upper 80 MHz for example 3                                      | 969  |
| Table Z-23—Resource allocation signaling example 4                                                | 970  |
| Table Z-24—Resource Allocation subfield illustration for the lower 80 MHz example 4               | 970  |
| Table Z-25—Resource Allocation subfield illustration for the upper 80 MHz example 4               | 970  |
| Table Z-26—EHT-SIG content in the lower 80 MHz for example 4                                      | 971  |
| Table Z-27—EHT-SIG content in the upper 80 MHz for example 4                                      | 972  |
| Table Z-28—U-SIG overflow and number of OFDMA users example 5                                     | 973  |
| Table Z-29—Resource allocation signaling example 5                                                | 973  |
| Table Z-30—EHT-SIG content for example 5                                                          | 974  |
| Table Z-31—U-SIG overflow and number of non-OFDMA users example 6                                 | 974  |
| Table Z-32—Resource allocation signaling example 6                                                | 975  |
| Table Z-33—EHT-SIG content for example 6                                                          | 975  |
| Table Z-34—U-SIG overflow example 7                                                               | 975  |
| Table Z-35—Resource allocation signaling example 7                                                | 976  |
| Table Z-36—RU Allocation subfield illustration for each 80 MHz frequency subblock example 7       | 976  |
| Table Z-37—EHT-SIG content in each 80 MHz frequency subblock for example 7                        | 977  |
| Table Z-38—U-SIG overflow example 8                                                               | 978  |
| Table Z-39—Resource allocation signaling example 8                                                | 978  |
| Table Z-40—RU Allocation subfield illustration for each 80 MHz frequency subblock example 8       | 979  |
| Table Z-41—EHT-SIG content in each 80 MHz frequency subblock for example 8                        | 980  |
| Table AH-1—An example of Management frame contents for an R-TWT announcement transmitted by an AP | 1018 |

## Figures

| Figure 4-33a—Example communication system between two MLDs via their affiliated STAs (for individually addressed MSDUs) | 74  |
|-------------------------------------------------------------------------------------------------------------------------|-----|
| Figure 4-33b—Reference model for an MLD for two links                                                                   | 75  |
| Figure 4-33c—High level structure for AP MLD with affiliated APs                                                        | 76  |
| Figure 4-33d—High level architecture for non-AP MLD with affiliated non-AP STAs                                         | 77  |
| Figure 5-2a—MAC data plane architecture for an MLD exchanging individually addressed Data frames with a peer MLD        | 79  |
| Figure 5-2b—MAC data plane architecture for AP MLD and affiliated APs for individually addressed frames                 | 80  |
| Figure 5-10a—Role-specific behavior block for a non-AP MLD                                                              | 82  |
| Figure 5-10b—Role-specific behavior block for an AP MLD                                                                 | 83  |
| Figure 7-1—DS architecture                                                                                              | 108 |
| Figure 7-2—Example DS access for an AP MLD with two affiliated APs                                                      | 109 |
| Figure 9-26—Control Information subfield format in a TRS Control subfield                                               | 117 |
| Figure 9-33a—Control Information subfield format in an EHT OM Control subfield                                          | 119 |
| Figure 9-33b—Control Information subfield format in an SRS Control subfield                                             | 121 |
| Figure 9-33c—Control Information subfield format in an AAR Control subfield                                             | 122 |
| Figure 9-33d—Control Information subfield format in an ELA Control subfield                                             | 122 |
| Figure 9-33e—MSI/Partial PPDU Parameters subfield format when the Unsolicited MFB subfield is 1                         | 125 |
| Figure 9-54—BA Information field format (Compressed BlockAck)                                                           | 129 |
| Figure 9-60—Per AID TID Info subfield format if the AID11 subfield is not 2045                                          | 130 |
| Figure 9-74a—NDP Announcement frame format                                                                              | 132 |
| Figure 9-74b—Sounding Dialog Token field format                                                                         | 134 |
| Figure 9-74c—VHT NDP Announcement frame format                                                                          | 134 |
| Figure 9-74e—STA Info field format in an S1G STA                                                                        | 135 |
| Figure 9-74d—STA Info field format in a non-S1G STA                                                                     | 135 |
| Figure 9-74g—STA Info field format in an HE NDP Announcement frame if the AID11 subfield is not 2047                    | 136 |
| Figure 9-74h—Partial BW Info subfield format                                                                            | 136 |
| Figure 9-74f—HE NDP Announcement frame format                                                                           | 136 |
| Figure 9-74i—STA Info subfield format in an HE NDP Announcement frame if the AID11 subfield is 2047                     | 138 |
| Figure 9-74j—STA Info field format in a Ranging NDP Announcement frame if the AID11 subfield is less than 2008          | 139 |
| Figure 9-74k—STA Info field format in a Ranging NDP Announcement frame if the AID11 subfield is 2043                    | 140 |
| Figure 9-74l—STA Info field format in a Ranging NDP Announcement frame if the AID11 subfield is equal to 2044           | 140 |
| Figure 9-74m—STA Info field format in a Ranging NDP Announcement frame if the AID11 subfield is equal to 2045           | 140 |
| Figure 9-74n—STA Info field format in an EHT NDP Announcement frame                                                     | 141 |
| Figure 9-74o—Partial BW Info subfield format                                                                            | 141 |
| Figure 9-90a—HE variant Common Info field format                                                                        | 146 |
| Figure 9-90b—EHT variant Common Info field format                                                                       | 147 |
| Figure 9-90c—UL Spatial Reuse subfield format                                                                           | 151 |
| Figure 9-90d—Special User Info field format                                                                             | 153 |
| Figure 9-90e—U-SIG Disregard And Validate subfield format                                                               | 154 |
| Figure 9-90f—HE variant User Info field format                                                                          | 155 |
| Figure 9-90g—SS Allocation subfield format of an HE variant User Info field                                             | 157 |
| Figure 9-90h—RA-RU Information subfield format                                                                          | 158 |
| Figure 9-90i—EHT variant User Info field format                                                                         | 159 |

| Figure 9-90j—SS Allocation subfield format of an EHT variant User Info field                                                                                   | 165 |
|----------------------------------------------------------------------------------------------------------------------------------------------------------------|-----|
| Figure 9-98a—HE variant User Info field format in the MU-RTS TXS Trigger frame                                                                                 | 168 |
| Figure 9-98b—EHT variant User Info field format in the MU-RTS TXS Trigger frame                                                                                | 168 |
| Figure 9-99—UL BW subfield and B7–B1 of RU Allocation subfield in MU-RTS Trigger frame for various bandwidths                                                  | 169 |
| Figure 9-140—Capability Information field format (non-DMG STA)                                                                                                 | 180 |
| Figure 9-207a—EHT MIMO Control field format                                                                                                                    | 185 |
| Figure 9-207b—EML Control field format                                                                                                                         | 193 |
| Figure 9-207c—MCS Map Count Control subfield format                                                                                                            | 193 |
| Figure 9-207d—EMLMR Supported MCS And NSS Set subfield format                                                                                                  | 195 |
| Figure 9-207e—Link ID Info field format                                                                                                                        | 197 |
| Figure 9-207f—EMLSR Parameter Update field format                                                                                                              | 197 |
| Figure 9-207g—EHT Compressed Beamforming/CQI Report field format                                                                                               | 198 |
| Figure 9-207h—EHT Sounding Feedback Segment field format                                                                                                       | 198 |
| Figure 9-417—BSSID Information field format                                                                                                                    | 209 |
| Figure 9-444a—MLO GTK subelement format                                                                                                                        | 211 |
| Figure 9-444b—MLO IGTK subelement format                                                                                                                       | 211 |
| Figure 9-444c—MLO BIGTK subelement format                                                                                                                      | 212 |
| Figure 9-622—SCS Descriptor element format                                                                                                                     | 214 |
| Figure 9-712—Transmit Power Envelope element format                                                                                                            | 215 |
| Figure 9-667—ADDBA Extension element format                                                                                                                    | 215 |
| Figure 9-668—ADDBA Extended Parameter Set Capabilities field format                                                                                            | 215 |
| Figure 9-715a—Extension Maximum Transmit Power field format if the Maximum Transmit Power Interpretation subfield is 0 or 2                                    | 216 |
| Figure 9-715b—Extension Maximum Transmit Power field format if the Maximum Transmit Power Interpretation subfield is 1 or 3                                    | 216 |
| Figure 9-715c—Extension Transmit PSD Information subfield format                                                                                               | 216 |
| Figure 9-716—Channel Switch Wrapper element format                                                                                                             | 217 |
| Figure 9-716a—Bandwidth Indication For Channel Switch subelement format                                                                                        | 217 |
| Figure 9-734—TBTT Information field format                                                                                                                     | 219 |
| Figure 9-734b—TBTT Information field format when the TBTT Information Field Type subfield is equal to 1 and the TBTT Information Length subfield is equal to 3 | 219 |
| Figure 9-734c—MLD Parameters subfield format                                                                                                                   | 219 |
| Figure 9-789—Control field format                                                                                                                              | 221 |
| Figure 9-790—Individual TWT Parameter Set field format                                                                                                         | 221 |
| Figure 9-791—Broadcast TWT Parameter Set field format                                                                                                          | 221 |
| Figure 9-793—Request Type field format in Broadcast TWT Parameter Set field                                                                                    | 222 |
| Figure 9-795—Broadcast TWT Info subfield format                                                                                                                | 224 |
| Figure 9-795a—Restricted TWT Traffic Info field format                                                                                                         | 225 |
| Figure 9-795b—Traffic Info Control field format                                                                                                                | 225 |
| Figure 9-1074i—EHT Operation element format                                                                                                                    | 228 |
| Figure 9-1074j—EHT Operation Parameters field format                                                                                                           | 228 |
| Figure 9-1074k—EHT Operation Information field format                                                                                                          | 229 |
| Figure 9-1074l—Control subfield format                                                                                                                         | 229 |
| Figure 9-1074m—Multi-Link element format                                                                                                                       | 231 |
| Figure 9-1074n—Multi-Link Control field                                                                                                                        | 231 |
| Figure 9-1074o—Presence Bitmap subfield of the Basic Multi-Link element format                                                                                 | 232 |
| Figure 9-1074q—Medium Synchronization Delay Information subfield format                                                                                        | 234 |
| Figure 9-1074p—Common Info field of the Basic Multi-Link element format                                                                                        | 234 |
| Figure 9-1074r—EML Capabilities subfield format                                                                                                                | 235 |
| Figure 9-1074s—MLD Capabilities And Operations subfield format                                                                                                 | 238 |
| Figure 9-1074t—Extended MLD Capabilities And Operations subfield format                                                                                        | 240 |
| Figure 9-1074u—Per-STA Profile subelement format of the Basic Multi-Link element                                                                               | 242 |
| Figure 9-1074v—STA Control field format of the Basic Multi-Link element                                                                                        | 242 |

| Figure 9-1074w—STA Info field format of the Basic Multi-Link element                                                                                     | 243 |
|----------------------------------------------------------------------------------------------------------------------------------------------------------|-----|
| Figure 9-1074y—Presence Bitmap field format of the Probe Request Multi-Link element                                                                      | 244 |
| Figure 9-1074x—DTIM Info subfield format                                                                                                                 | 244 |
| Figure 9-1074aa—Per-STA Profile subelement format of the Probe Request Multi-Link element                                                                | 245 |
| Figure 9-1074ab—STA Control field format of the Probe Request Multi-Link element                                                                         | 245 |
| Figure 9-1074z—Common Info field format of the Probe Request Multi-Link element                                                                          | 245 |
| Figure 9-1074ac—Presence Bitmap subfield format of the Reconfiguration Multi-Link element                                                                | 246 |
| Figure 9-1074ad—Common Info field format of the Reconfiguration Multi-Link element                                                                       | 246 |
| Figure 9-1074ae—Per-STA Profile subelement format for the Reconfiguration Multi-Link element                                                             | 247 |
| Figure 9-1074af—STA Control field format for the Reconfiguration Multi-Link element                                                                      | 247 |
| Figure 9-1074ag—STA Info field format for the Reconfiguration Multi-Link element                                                                         | 248 |
| Figure 9-1074ah—Operation Parameters subfield format                                                                                                     | 249 |
| Figure 9-1074ai—Presence Indication subfield format                                                                                                      | 249 |
| Figure 9-1074aj—Operation Parameter Info subfield format                                                                                                 | 249 |
| Figure 9-1074ak—Format of the Common Info field of the TDLS Multi-Link element                                                                           | 250 |
| Figure 9-1074am—Per-STA Profile subelement format for the EPCS Priority Access Multi-Link element                                                        | 251 |
| Figure 9-1074an—STA Control field format for the EPCS Priority Access Multi-Link element                                                                 | 251 |
| Figure 9-1074al—Common Info field of the EPCS Priority Access Multi-Link element format                                                                  | 251 |
| Figure 9-1074ao—EHT Capabilities element format                                                                                                          | 252 |
| Figure 9-1074ap—EHT MAC Capabilities Information field format                                                                                            | 252 |
| Figure 9-1074aq—EHT PHY Capabilities Information field format                                                                                            | 256 |
| Figure 9-1074ar—Supported EHT-MCS And NSS Set field format                                                                                               | 267 |
| Figure 9-1074as—EHT-MCS Map (20 MHz-Only Non-AP STA) subfield and Basic EHT-MCS And NSS Set field format                                                 | 271 |
| Figure 9-1074at—EHT-MCS Map (BW $\le$ 80 MHz, Except 20 MHz-Only Non-AP STA), EHT-MCS Map (BW = 160 MHz), and EHT-MCS Map (BW = 320 MHz) subfield format | 271 |
| Figure 9-1074au—EHT PPE Thresholds field format                                                                                                          | 273 |
| Figure 9-1074av—PPE Thresholds Info field format                                                                                                         | 274 |
| Figure 9-1074aw—TID-To-Link Mapping element format                                                                                                       | 275 |
| Figure 9-1074ax—TID-To-Link Mapping Control field format                                                                                                 | 275 |
| Figure 9-1074ay—Multi-Link Traffic Indication element format                                                                                             | 276 |
| Figure 9-1074az—Multi-Link Traffic Indication Control field format                                                                                       | 277 |
| Figure 9-1074ba—Per-Link Traffic Indication List field format                                                                                            | 277 |
| Figure 9-1074bb—Per-Link Traffic Indication Bitmap n subfield format                                                                                     | 278 |
| Figure 9-1074bd—Control Info field format                                                                                                                | 279 |
| Figure 9-1074bc—QoS Characteristics element format                                                                                                       | 279 |
| Figure 9-1074be—MSDU Delivery Info field format                                                                                                          | 282 |
| Figure 9-1074bf—MLO Link Info element format                                                                                                             | 283 |
| Figure 9-1074bg—AID Bitmap element format                                                                                                                | 283 |
| Figure 9-1074bh—Bitmap Control field of the AID Bitmap element                                                                                           | 283 |
| Figure 9-1074bi—Bandwidth Indication element format                                                                                                      | 284 |
| Figure 9-1074bj—Bandwidth Indication Parameters field element                                                                                            | 284 |
| Figure 9-1074bk—TWT Information Extension element format                                                                                                 | 284 |
| Figure 9-1074bm—B-TWT Info field format                                                                                                                  | 285 |
| Figure 9-1180—Channel Switch Announcement frame Action field format                                                                                      | 285 |
| Figure 9-1074bl—Control field format                                                                                                                     | 285 |
| Figure 9-1193—Extended Channel Switch Announcement frame Action field format                                                                             | 287 |
| Figure 9-1273—Request Mode field format                                                                                                                  | 296 |
| Figure 9-1290a—WNM Sleep Mode MLO GTK subelement format                                                                                                  | 299 |
| Figure 9-1290c—WNM Sleep Mode MLO BIGTK subelement format                                                                                                | 300 |

| Figure 9-1290b—WNM Sleep Mode MLO IGTK subelement format                                                                                                           | 300 |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----|
| Figure 9-1304—SCS Response frame Action field format                                                                                                               | 301 |
| Figure 9-1322c—Reconfiguration Status Duple subfield format                                                                                                        | 312 |
| Figure 9-1322d—Group Key Data subfield format                                                                                                                      | 312 |
| Figure 10-1—STA MAC architecture (Non-DMG non-CMMG non-S1G)                                                                                                        | 318 |
| Figure 11-23—Relationship between state and services between a given pair of nonmesh STAs or nonmesh MLDs                                                          | 350 |
| Figure 12-17—CCMP encapsulation block diagram                                                                                                                      | 401 |
| Figure 12-22—CCMP encapsulation block diagram                                                                                                                      | 404 |
| Figure 12-29—GCMP encapsulation block diagram                                                                                                                      | 405 |
| Figure 12-31—GCMP encapsulation block diagram                                                                                                                      | 406 |
| Figure 12-50d—MLO GTK KDE format                                                                                                                                   | 415 |
| Figure 12-50f—MLO BIGTK KDE                                                                                                                                        | 416 |
| Figure 12-50g—MLO Link KDE                                                                                                                                         | 416 |
| Figure 12-50h—Link Information field                                                                                                                               | 416 |
| Figure 12-50e—MLO IGTK KDE format                                                                                                                                  | 416 |
| Figure 13-5—Over-the-air FT protocol in an RSN                                                                                                                     | 452 |
| Figure 13-6—Over-the-DS FT protocol in an RSN                                                                                                                      | 454 |
| Figure 13-7—MLME interfaces for over-the-DS FT protocol messages                                                                                                   | 455 |
| Figure 13-10—Over-the-air FT resource request protocol in an RSN                                                                                                   | 457 |
| Figure 13-12—Over-the-DS FT resource request protocol in an RSN                                                                                                    | 459 |
| Figure 13-20—Sample message flow for over-the-DS resource request                                                                                                  | 469 |
| Figure 13-30—Overview of RIC processing at an APa FTR                                                                                                              | 472 |
| Figure 17-6—SERVICE field bit assignment                                                                                                                           | 475 |
| Figure 35-1—Example of an MU-RTS TXS Trigger frame with TXS Mode subfield value equal to 1 soliciting UL PPDU                                                      | 486 |
| Figure 35-2—Example of an MU-RTS TXS Trigger frame with TXS Mode subfield value equal to 2                                                                         | 487 |
| Figure 35-3—Per-STA Profile subelement fragmentation                                                                                                               | 498 |
| Figure 35-4—Per-STA Profile subelement fragmentation within a fragmented Multi-Link element                                                                        | 499 |
| Figure 35-5—Possible frame exchange sequences during MLO discovery and ML setup when the AP operating on the channel does not correspond to a nontransmitted BSSID | 506 |
| Figure 35-6—Possible frame exchange sequences during MLO discovery and ML setup when the AP operating on the channel corresponds to a nontransmitted BSSID         | 507 |
| Figure 35-7—Example of Multi-Link Traffic Indication element construction                                                                                          | 546 |
| Figure 35-8—An illustration of EHT non-TB sounding                                                                                                                 | 611 |
| Figure 35-9—An illustration of EHT TB sounding                                                                                                                     | 612 |
| Figure 36-1—PHY interaction on transmit for various PPDU formats                                                                                                   | 683 |
| Figure 36-2—PHY interaction on receive for various PPDU formats                                                                                                    | 683 |
| Figure 36-3—PHY-CONFIG and CCA interaction with various PPDU formats                                                                                               | 683 |
| Figure 36-4—RU locations in an 80 MHz EHT PPDU                                                                                                                     | 687 |
| Figure 36-5—52+26-tone MRUs in an OFDMA 20 MHz EHT PPDU                                                                                                            | 695 |
| Figure 36-6—52+26-tone MRUs in an OFDMA 40 MHz EHT PPDU                                                                                                            | 695 |
| Figure 36-7—52+26-tone MRUs in each 80 MHz frequency subblock of an OFDMA 80 MHz, 160 MHz, or 320 MHz EHT PPDU                                                     | 695 |
| Figure 36-8—106+26-tone MRUs in an OFDMA 20 MHz EHT PPDU                                                                                                           | 696 |
| Figure 36-9—106+26-tone MRUs in an OFDMA 40 MHz EHT PPDU                                                                                                           | 696 |
| Figure 36-10—106+26-tone MRUs in each 80 MHz frequency subblock of an OFDMA 80 MHz, 160 MHz, or 320 MHz EHT PPDU                                                   | 696 |
| Figure 36-11—Allowed 484+242-tone MRUs in a non-OFDMA 80 MHz EHT PPDU                                                                                              | 703 |
| Figure 36-12—Allowed 996+484-tone MRUs in non-OFDMA 160 MHz EHT PPDU                                                                                               | 704 |
| Figure 36-13—Allowed 996+484+242-tone MRUs in a non-OFDMA 160 MHz EHT PPDU                                                                                         | 705 |
| Figure 36-14—Allowed 2×996+484-tone MRUs in a non-OFDMA 320 MHz EHT PPDU                                                                                           | 706 |
| Figure 36-15—Allowed 3×996-tone MRUs in a non-OFDMA 320 MHz EHT PPDU                                                                                               | 706 |

| Figure 36-16—Allowed 3×996+484-tone MRUs in a non-OFDMA 320 MHz EHT PPDU                                                                                                                     | 707 |
|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----|
| Figure 36-17—EHT MU PPDU format                                                                                                                                                              | 720 |
| Figure 36-18—EHT TB PPDU format                                                                                                                                                              | 721 |
| Figure 36-19—Transmitter block diagram for the L-SIG, RL-SIG, and U-SIG fields for an EHT MU PPDU                                                                                            | 724 |
| Figure 36-20—Transmitter block diagram for the L-SIG, RL-SIG, and U-SIG fields of an EHT TB PPDU                                                                                             | 724 |
| Figure 36-21—Transmitter block diagram for the EHT-SIG field for an EHT MU PPDU                                                                                                              | 725 |
| Figure 36-22—Transmitter block diagram for the UL transmission or DL non-MU-MIMO transmission of a Data field with BCC encoding on an RU or MRU size equal to or smaller than a 242-tone RU  | 725 |
| Figure 36-23—Transmitter block diagram for the UL transmission or DL non-MU-MIMO transmission of a Data field with LDPC encoding on an RU or MRU size equal to or smaller than a 996-tone RU | 726 |
| Figure 36-24—Transmitter block diagram for the DL MU-MIMO transmission of a Data field with BCC encoding on a 242-tone RU                                                                    | 727 |
| Figure 36-25—Transmitter block diagram for the DL MU-MIMO transmission of a Data field with LDPC encoding on a 242-, 484-, 484+242-, or 996-tone RU or MRU                                   | 728 |
| Figure 36-26—Transmitter block diagram for the Data field of an EHT SU transmission in RU or MRU size larger than a 996-tone RU with LDPC encoding                                           | 729 |
| Figure 36-27—Transmitter block diagram for the transmission of a Data field with EHT-MCS 14 in 80 MHz or 160 MHz PPDU                                                                        | 729 |
| Figure 36-28—Transmitter block diagram for the transmission of a Data field with EHT-MCS 14 in 320 MHz PPDU                                                                                  | 730 |
| Figure 36-29—Timing boundaries for EHT PPDU fields                                                                                                                                           | 744 |
| Figure 36-30—Data subcarrier constellation of U-SIG symbols                                                                                                                                  | 769 |
| Figure 36-31—EHT-SIG content channel format for OFDMA transmission if bandwidth is equal to 20/40/80 MHz                                                                                     | 770 |
| Figure 36-32—EHT-SIG content channel format for OFDMA transmission if bandwidth is equal to 160 MHz                                                                                          | 770 |
| Figure 36-33—EHT-SIG content channel format for OFDMA transmission if bandwidth is equal to 320 MHz                                                                                          | 771 |
| Figure 36-34—EHT-SIG content channel format for an EHT SU transmission                                                                                                                       | 771 |
| Figure 36-35—EHT-SIG content channel format for EHT sounding NDP                                                                                                                             | 772 |
| Figure 36-36—EHT-SIG content channel format for non-OFDMA transmission to multiple users                                                                                                     | 772 |
| Figure 36-37—EHT-SIG content channel for a 20 MHz PPDU for OFDMA transmission and non-OFDMA transmission to multiple users                                                                   | 795 |
| Figure 36-38—EHT-SIG content channel for a 40 MHz PPDU for OFDMA transmission and non-OFDMA transmission to multiple users                                                                   | 795 |
| Figure 36-39—EHT-SIG content channels and their duplication in an 80 MHz PPDU for OFDMA transmission and non-OFDMA transmission to multiple users                                            | 795 |
| Figure 36-40—EHT-SIG content channels and their duplication in a 160 MHz PPDU for OFDMA transmission and non-OFDMA transmission to multiple users                                            | 796 |
| Figure 36-41—EHT-SIG content channels and their duplication in a 320 MHz PPDU for OFDMA transmission and non-OFDMA transmission to multiple users                                            | 797 |
| Figure 36-42—EHT-SIG content channel for a 20 MHz EHT SU transmission or EHT sounding NDP                                                                                                    | 798 |
| Figure 36-43—EHT-SIG content channel for a 40 MHz EHT SU transmission or EHT sounding NDP                                                                                                    | 798 |
| Figure 36-44—EHT-SIG content channel for an 80 MHz EHT SU transmission or EHT sounding NDP                                                                                                   | 798 |
| Figure 36-45—EHT-SIG content channel for a 160 MHz EHT SU transmission or EHT sounding NDP                                                                                                   | 799 |
| Figure 36-46—EHT-SIG content channel for a 320 MHz EHT SU transmission or EHT sounding NDP                                                                                                   | 800 |
| Figure 36-47—Generation of EHT-LTF symbols in an EHT MU PPDU and EHT TB PPDU                                                                                                                 | 809 |

| Figure 36-48—Generation of $1 \times$ EHT-LTF symbols                                                                                                                                                                                                        | 810 |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----|
| Figure 36-49—Generation of $2 \times$ EHT-LTF symbols                                                                                                                                                                                                        | 810 |
| Figure 36-50—Data scrambler                                                                                                                                                                                                                                  | 813 |
| Figure 36-51—EHT PPDU padding process in the last OFDM-symbol if $a = 1$ for the $u$ -th                                                                                                                                                                     | 815 |
| Figure 36-52—Illustration of the proportional round robin parser with leftover bits processing for $2 \times 996+484$ -tone MRU                                                                                                                              | 824 |
| Figure 36-53—Illustration of the segment parser for $996+484$ -tone RU                                                                                                                                                                                       | 824 |
| Figure 36-54—Illustration of the segment parser for $996+484+242$ -tone RU                                                                                                                                                                                   | 825 |
| Figure 36-55—PE field duration of an EHT MU PPDU if the maximum value of TXVECTOR parameters NOMINAL_PACKET_PADDING[u] is equal to $8 \mu\text{s}$ and $\text{TPE} = \text{TPE}_{\text{nominal}}$                                                            | 839 |
| Figure 36-56—E field duration of an EHT MU PPDU if the maximum value of TXVECTOR parameters NOMINAL_PACKET_PADDING[u] is equal to $16 \mu\text{s}$ and $\text{TPE} = \text{TPE}_{\text{nominal}}$                                                            | 839 |
| Figure 36-57—PE field duration of an EHT MU PPDU if the maximum value of TXVECTOR parameters NOMINAL_PACKET_PADDING[u] is equal to $20 \mu\text{s}$ and $\text{TPE} = \text{TPE}_{\text{nominal}}$                                                           | 840 |
| Figure 36-58—EHT sounding NDP format                                                                                                                                                                                                                         | 847 |
| Figure 36-59—Example transmit spectral mask for a $20 \text{ MHz}$ mask PPDU                                                                                                                                                                                 | 848 |
| Figure 36-60—Example transmit spectral mask for a $40 \text{ MHz}$ mask PPDU                                                                                                                                                                                 | 849 |
| Figure 36-61—Example transmit spectral mask for an $80 \text{ MHz}$ mask PPDU                                                                                                                                                                                | 850 |
| Figure 36-62—Example transmit spectral mask for a $160 \text{ MHz}$ mask PPDU                                                                                                                                                                                | 851 |
| Figure 36-63—Example transmit spectral mask for a $320 \text{ MHz}$ mask PPDU                                                                                                                                                                                | 851 |
| Figure 36-64—Example transmit spectral mask for a $320 \text{ MHz}$ non-HT duplicate PPDU                                                                                                                                                                    | 852 |
| Figure 36-65—Preamble puncturing mask for preamble puncturing at the edge of the EHT PPDU                                                                                                                                                                    | 853 |
| Figure 36-66—Example for the construction of the overall interim spectral mask for $80 \text{ MHz}$ EHT PPDU with the lowest $20 \text{ MHz}$ subchannel punctured                                                                                           | 854 |
| Figure 36-67—Preamble puncturing mask for preamble puncturing in the EHT PPDU when the bandwidth of the punctured subchannel is equal to or greater than $40 \text{ MHz}$ and the punctured subchannel is not at the edge of the PPDU bandwidth              | 855 |
| Figure 36-68—Example for the construction of the overall interim spectral mask for $160 \text{ MHz}$ EHT PPDU with the second lowest $40 \text{ MHz}$ subchannel punctured                                                                                   | 856 |
| Figure 36-69—Preamble puncturing mask for preamble puncturing in the EHT PPDU when the bandwidth of the punctured subchannel is equal to $20 \text{ MHz}$ and the punctured subchannel is not at the edge of the PPDU bandwidth                              | 856 |
| Figure 36-70—Example for the construction of the overall interim spectral mask for $80 \text{ MHz}$ EHT PPDU with the second lowest $20 \text{ MHz}$ subchannel punctured                                                                                    | 857 |
| Figure 36-71—Preamble puncturing mask for preamble puncturing at the edge of the non-HT duplicate PPDU                                                                                                                                                       | 858 |
| Figure 36-72—Preamble puncturing mask for preamble puncturing in the non-HT duplicate PPDU when the bandwidth of the punctured subchannel is equal to or greater than $40 \text{ MHz}$ and the punctured subchannel is not at the edge of the PPDU bandwidth | 858 |
| Figure 36-73—Preamble puncturing mask for preamble puncturing in the non-HT duplicate PPDU when the bandwidth of the punctured subchannel is equal to $20 \text{ MHz}$ and the punctured subchannel is not at the edge of the PPDU bandwidth                 | 859 |
| Figure 36-74—Example for the construction of the overall interim spectral mask for $320 \text{ MHz}$ non-HT duplicated transmission with the lowest $40 \text{ MHz}$ subchannel punctured                                                                    | 859 |
| Figure 36-75—PHY transmit procedure for an EHT MU PPDU                                                                                                                                                                                                       | 876 |
| Figure 36-76—PHY transmit procedure for an EHT TB PPDU                                                                                                                                                                                                       | 877 |
| Figure 36-77—PHY transmit state machine for an EHT PPDU                                                                                                                                                                                                      | 879 |
| Figure 36-78—PHY receive procedure for an EHT MU PPDU                                                                                                                                                                                                        | 880 |
| Figure 36-79—PHY receive procedure for an EHT TB PPDU                                                                                                                                                                                                        | 880 |
| Figure 36-80—PHY receive state machine                                                                                                                                                                                                                       | 881 |
| Figure AA-6—Example of affiliated APs from different multiple BSSID sets                                                                                                                                                                                     | 982 |
| Figure AA-7—Example of affiliated APs belonging to a multiple BSSID set, a co-hosted BSSID set, and neither of these two cases                                                                                                                               | 983 |
| Figure AH-1—Example of Basic Multi-Link element in an Association Request                                                                                                                                                                                    | 985 |

| Figure AH-2—Example of inheritance in a complete per-STA profile                                                                                                                                                                                                               | 986 |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----|
| Figure AH-3—Example of inheritance in a Request element for multi-link probe request                                                                                                                                                                                           | 987 |
| Figure AH-4—Contents of a Beacon frame or a non-multi-link probe response during ML reconfiguration affiliated AP removal procedure for removing a reported AP (non-multiple BSSID scenario)                                                                                   | 987 |
| Figure AH-5—Contents of a Beacon frame or a non-multi-link probe response during ML reconfiguration affiliated AP removal procedure for removing the transmitting AP (non-multiple BSSID scenario)                                                                             | 988 |
| Figure AH-6—Contents of a Beacon frame or a non-multi-link probe response during ML reconfiguration affiliated AP removal procedure for removing an AP affiliated with the AP MLD of the transmitted BSSID                                                                     | 988 |
| Figure AH-7—Contents of a Beacon frame or a non-multi-link probe response during ML reconfiguration affiliated AP removal procedure for removing an AP affiliated with the AP MLD of a nontransmitted BSSID                                                                    | 988 |
| Figure AH-8—Contents of a multi-link probe response during ML reconfiguration affiliated AP removal procedure for removing an AP affiliated with the AP MLD of the transmitted BSSID, when the soliciting frame was directed to the transmitted BSSID                          | 989 |
| Figure AH-9—Contents of a multi-link probe response during ML reconfiguration affiliated AP removal procedure for removing an AP affiliated with the AP MLD of a nontransmitted BSSID, when the soliciting frame was directed to nontransmitted BSSID corresponding to index 5 | 989 |
| Figure AH-10—Contents of a Probe Request frame that is not a multi-link probe request transmitted by a non-AP STA affiliated with a non-AP MLD during MLO discovery                                                                                                            | 989 |
| Figure AH-11—Contents of a multi-link probe request transmitted by a non-AP STA affiliated with a non-AP MLD during MLO discovery                                                                                                                                              | 990 |
| Figure AH-12—Contents of an Authentic frame transmitted by a non-AP STA affiliated with a non-AP MLD during ML setup                                                                                                                                                           | 990 |
| Figure AH-13—Contents of a (Re)Association Request frame transmitted by a non-AP STA affiliated with a non-AP MLD during ML setup                                                                                                                                              | 990 |
| Figure AH-13—Contents of a (Re)Association Request frame transmitted by a non-AP STA affiliated with a non-AP MLD during ML setup                                                                                                                                              | 990 |
| Figure AH-14—Contents of a Beacon frame or Probe Response frame that is not a multi-link probe response transmitted by an affiliated AP that is not a member of a multiple BSSID set during MLO discovery                                                                      | 991 |
| Figure AH-15—Contents of a multi-link probe response transmitted by an affiliated AP that is not a member of a multiple BSSID set during MLO discovery                                                                                                                         | 991 |
| Figure AH-16—Contents of an Authentication frame transmitted by an affiliated AP that is not a member of a multiple BSSID set during ML setup                                                                                                                                  | 991 |
| Figure AH-17—Contents of a (Re)Association Response frame transmitted by an affiliated AP that is not a member of a multiple BSSID set during MLO discovery                                                                                                                    | 991 |
| Figure AH-18—Contents of a Beacon frame or Probe Response frame that is not a multi-link probe response transmitted by an AP corresponding to the transmitted BSSID during MLO discovery                                                                                       | 993 |
| Figure AH-19—Contents of a multi-link probe response, when soliciting frame was directed to the transmitted BSSID, transmitted by an AP affiliated with an AP MLD that is a member of multiple BSSID set during MLO discovery                                                  | 993 |
| Figure AH-20—Contents of a multi-link probe response, when soliciting frame was directed to nontransmitted BSSID corresponding to index 5, transmitted by an AP affiliated with an AP MLD that is a member of multiple BSSID set during MLO discovery                          | 993 |
| Figure AH-21—Contents of an Authentication frame transmitted by an AP affiliated with an AP MLD that is a member of multiple BSSID set during ML setup                                                                                                                         | 994 |
| Figure AH-22—Contents of a (Re)Association Response frame transmitted by nontransmitted BSSID corresponding to index 5 during ML setup                                                                                                                                         | 994 |
| Figure AH-23—Example of ML setup                                                                                                                                                                                                                                               | 994 |
| Figure AH-24—An example of link reconfiguration to the ML setup for adding a link                                                                                                                                                                                              | 995 |
| Figure AH-25—An example of link reconfiguration to the ML setup for deleting a link and adding a link                                                                                                                                                                          | 996 |

| Figure AH-26—An illustration of an advertised TTLM taking effect on all links                                                                                                                                                                                           | 996  |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------|
| Figure AH-27—Example TTLM frame exchange where the advertised mapping is a subset of a negotiated mapping                                                                                                                                                               | 997  |
| Figure AH-28—Example of TTLM where the negotiated mapping is a subset of an advertised mapping                                                                                                                                                                          | 997  |
| Figure AH-29—An example of critical update operation                                                                                                                                                                                                                    | 998  |
| Figure AH-1—Example of an AP carrying a Quiet element to signal channel quieting on another link                                                                                                                                                                        | 999  |
| Figure AH-2—Example of an AP carrying a Channel Switch Announcement element to signal channel switching on another link                                                                                                                                                 | 1000 |
| Figure AH-3—Example of advertisement duration that includes DTIM beacon on all links                                                                                                                                                                                    | 1001 |
| Figure AH-4—Each non-AP STA affiliated with a non-AP MLD maintains its own power state                                                                                                                                                                                  | 1002 |
| Figure AH-5—Example of link transition operation by a single-radio non-AP MLD using power states                                                                                                                                                                        | 1002 |
| Figure AH-6—Example of operation for MLD listen interval                                                                                                                                                                                                                | 1003 |
| Figure AH-7—Another example of operation for MLD listen interval                                                                                                                                                                                                        | 1004 |
| Figure AH-8—Example of APs affiliated with an AP MLD and each affiliated AP belongs to a multiple BSSID set                                                                                                                                                             | 1005 |
| Figure AH-9—Example of group addressed BU indication in a Partial Virtual Bitmap field sent by an AP affiliated with AP MLD and corresponding to transmitted BSSID in a multiple BBID set                                                                               | 1005 |
| Figure AH-10—Example of a successful TDLS discovery                                                                                                                                                                                                                     | 1006 |
| Figure AH-11—Example of a failed TDLS discovery                                                                                                                                                                                                                         | 1007 |
| Figure AH-12—Example of TDLS discovery initiated by a non-MLD non-AP STA to a non-AP MLD                                                                                                                                                                                | 1007 |
| Figure AH-13—Transmission of TDLS Setup Request frame from one non-AP MLD to another                                                                                                                                                                                    | 1008 |
| Figure AH-14—Transmission of TDLS Setup Response frame from one non-AP MLD to another                                                                                                                                                                                   | 1009 |
| Figure AH-15—TDLS direct link involving a non-AP STA affiliated with a non-AP MLD and a non-MLD non-AP STA                                                                                                                                                              | 1009 |
| Figure AH-16—TDLS direct link involving non-AP STAs affiliated with different non-AP MLDs                                                                                                                                                                               | 1010 |
| Figure AH-17—Example of proxy ARP service by an AP MLD                                                                                                                                                                                                                  | 1010 |
| Figure AH-18—Example of TWT agreements negotiation across multiple links                                                                                                                                                                                                | 1011 |
| Figure AH-19—Channel access of two MLDs over an STR link pair                                                                                                                                                                                                           | 1012 |
| Figure AH-20—PPDU end time alignment timing relationships                                                                                                                                                                                                               | 1013 |
| Figure AH-21—An example of SRS control based timing alignment of the PPDU's carrying control response from AP                                                                                                                                                           | 1013 |
| Figure AH-22—Example of an AP assisted medium synchronization recovery procedure                                                                                                                                                                                        | 1014 |
| Figure AH-23—An example of a frame exchange sequence starting with the MU-RTS                                                                                                                                                                                           | 1014 |
| Trigger frame as the initial Control frame between an AP affiliated with an AP MLD and a non-AP STA affiliated with a non-AP MLD that is in the EMLSR mode                                                                                                              | 1014 |
| Figure AH-24—An example of a frame exchange sequence starting with the BSRP Trigger frame as the initial control frame between an AP (AP 1) affiliated with an AP MLD and n different non-AP STAs affiliated with n different non-AP MLDs that are in the EMLSR mode    | 1015 |
| Figure AH-25—An example of EHT non-TB sounding in the EMLSR operation (the sounding sequence starts with the MU-RTS Trigger frame as the initial control frame)                                                                                                         | 1015 |
| Figure AH-26—An example of EHT TB sounding in the EMLSR operation (beamformee 1 is in the EMLSR mode, the other beamformees are not in the EMLSR mode) and the sounding sequence starts with the MU-RTS Trigger frame as the initial control frame                      | 1015 |
| Figure AH-27—An example of EHT TB sounding in the EMLSR operation (at least one beamformee from 1 to k is in the EMLSR mode, the other beamformees are not in the EMLSR mode) and the sounding sequence starts with the BSRP Trigger frame as the initial control frame | 1016 |
| Figure AH-28—An example of a frame exchange sequence between an AP affiliated with an AP MLD and an EMLMR STA affiliated with a non-AP MLD                                                                                                                              | 1016 |
| Figure AH-29—An example of aligned TWT schedule                                                                                                                                                                                                                         | 1017 |

IEEE Standard for Information Technology—  
Telecommunications and Information Exchange between Systems  
Local and Metropolitan Area Networks—  
Specific Requirements

**Part 11: Wireless LAN Medium Access Control  
(MAC) and Physical Layer (PHY) Specifications**

**Amendment 2: Enhancements for Extremely High  
Throughput (EHT)**

NOTE—The editing instructions contained in this amendment define how to merge the material contained therein into the existing base standard and its amendments to form the comprehensive standard.

The editing instructions are shown in **bold italic**. Four editing instructions are used: change, delete, insert, and replace. **Change** is used to make corrections in existing text or tables. The editing instruction specifies the location of the change and describes what is being changed by using ~~strikethrough~~ (to remove old material) and underscore (to add new material). **Delete** removes existing material. **Insert** adds new material without disturbing the existing material. Insertions may require renumbering. If so, renumbering instructions are given in the editing instruction. **Replace** is used to make changes in figures or equations by removing the existing figure or equation and replacing it with a new one. Editorial instructions, change markings and this NOTE will not be carried over into future editions because the changes will be incorporated into the base standard.

## 1. Overview

### 1.4 Word Usage

*Insert the following paragraph at the end of the subclause:*

Reference in this standard to “STA” without further specification of being affiliated with an MLD or not being affiliated with an MLD means a “STA” that is not affiliated with a multi-link device (MLD). Reference to “AP” means an “AP” that is not affiliated with an MLD. In the context of MLD management (for example, authentication, deauthentication, (re)association, disassociation or 4-way handshake between MLDs), the “SME” is the entity that manages the MLD. A peer MAC entity can be within a STA that is not affiliated with an MLD or an MLD depending on the context. A PeerSTAAddress parameter can be the MAC address of a STA that is not affiliated with an MLD or an MLD MAC address depending on the context.

### 1.5 Terminology for mathematical, logical, and bit operations

*Insert the following terminologies at the end of the subclause:*

$\min(x, y)$  is the lesser of the two values  $x$  and  $y$ .

$\max(x, y)$  is the greater of the two values  $x$  and  $y$ .

## 2. Normative references

*Delete the following normative reference:*

IETF RFC 2409, The Internet Key Exchange (IKE), Harkins, D., and D. Carrel Nov 1998 (status Standard Track).

*Insert the following normative reference after “IETF RFC 6979...”*

IETF RFC 7296, Internet Key Exchange Protocol Version 2 (IKEv2), C. Kaufman, Ed., Oct. 2014.

### 3. Definitions, acronyms, and abbreviations

#### 3.1 Definitions

*Change the following definitions:*

**association:** The service used to establish a mapping between an access point (AP) or personal basic service set (PBSS) control point (PCP), and a station (STA) and enable STA invocation of the distribution system services (DSSs) or to establish a mapping between an access point (AP) multi-link device (AP MLD) and a non-access point (non-AP) MLD (non-AP MLD) and enable non-AP MLD invocation of the DSSs.

**authentication:** The service used to establish the identity of one station (STA) as a member of the set of STAs authorized to associate with another STA or to establish the identity of one multi-link device (MLD) as a member of the set of MLDs authorized to associate with another MLD.

**Authenticator address (AA):** The medium access control (MAC) address of the IEEE 802.1X Authenticator's station (STA) or the IEEE 802.1X Authenticator's multi-link device (MLD).

**basic service set (BSS) transition:** [BSS transition] The Change of association by a station (STA) or non-access point (non-AP) multi-link device (non-AP MLD) from one BSS or access point (AP) multi-link device (AP MLD) to another BSS or AP MLD in the same extended service set (ESS).

**NOTE**—The change might involve modifying the operating mode from non-multi-link operation (non-MLO) to MLO or vice versa. See 4.5.3.2.

**extended service set (ESS) transition:** [ESS transition] Change of association by a station (STA) or a non-access point (non-AP) multi-link device (non-AP MLD) from one basic service set (BSS) or access point (AP) MLD (AP MLD) in one ESS to another BSS or AP MLD in a different ESS.

**fast basic service set (BSS) transition:** [fast BSS transition, FT] Change of association by a station (STA) that is from one BSS in one extended service set (ESS) to another BSS in the same ESS and that minimizes the amount of time that the data connectivity is lost between the STA and the distribution system (DS). A type of BSS transition that minimizes the duration for which data connectivity is lost between the non-access point (non-AP) station (non-AP STA) or non-AP multi-link device (non-AP MLD) and the distribution system (DS).

**multicast-group address:** A medium access control (MAC) address associated by higher level convention with a group of logically related stations (STAs) or non-access point (non-AP) multi-link devices (non-AP MLDs). The group of STAs or non-AP MLDs is referred to as a multicast group.

**service set transition:** A station (STA) movement from one basic service set (BSS) to another BSS, i.e., a change of association that is either a basic service set (BSS) transition or an extended service set (ESS) transition.

**Supplicant address (SPA):** The medium access control (MAC) address of the IEEE 802.1X Supplicant's station (STA) or the IEEE 802.1X Supplicant's multi-link device (MLD).

## 3.2 Definitions specific to IEEE 802.11

*Change the following definitions:*

**20 MHz mask physical layer (PHY) protocol data unit (PPDU):** [20 MHz mask PPDU] One of the following PPDU:s:

1. A Clause 17 PPDU transmitted using the 20 MHz transmit spectral mask defined in Clause 17.
2. A Clause 18 orthogonal frequency division multiplexing (OFDM) PPDU transmitted using the transmit spectral mask defined in Clause 18 (Extended Rate PHY (ERP) specification).
3. A high throughput (HT) PPDU with the TXVECTOR parameter CH\_BANDWIDTH equal to HT\_CBW20 and the CH\_OFFSET parameter equal to CH\_OFF\_20 transmitted using the 20 MHz transmit spectral mask defined in Clause 19.
4. A very high throughput (VHT) PPDU with the TXVECTOR parameter CH\_BANDWIDTH equal to CBW20 transmitted using the 20 MHz transmit spectral mask defined in Clause 21.
5. A Clause 17 PPDU transmitted by a VHT station (STA) using the 20 MHz transmit spectral mask defined in Clause 21.
6. An HT PPDU with the TXVECTOR parameter CH\_BANDWIDTH equal to HT\_CBW20 and the CH\_OFFSET parameter equal to CH\_OFF\_20 transmitted by a VHT STA using the 20 MHz transmit spectral mask defined in Clause 21.
7. A high-efficiency (HE) PPDU with TXVECTOR parameter CH\_BANDWIDTH equal to CBW20 transmitted using the 20 MHz transmit spectral mask defined in Clause 27.
8. A Clause 17 PPDU transmitted by an HE STA using the 20 MHz transmit spectral mask defined in Clause 27.
9. An extremely high throughput (EHT) PPDU with TXVECTOR parameter CH\_BANDWIDTH equal to CBW20 transmitted using the 20 MHz transmit spectral mask defined in Clause 36.

**20 MHz physical layer (PHY) protocol data unit (PPDU):** [20 MHz PPDU] A PPDU that is one of the following:

1. A Clause 15PPDU.
2. A Clause 16 PPDU.
3. A Clause 17 PPDU (when using 20 MHz channel spacing).
4. A Clause 18 orthogonal frequency division multiplexing (OFDM) PPDU.
5. A Clause 19 20 MHz high throughput (HT) PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to HT\_CBW20).
6. A Clause 21 20 MHz very high throughput (VHT) PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to CBW20).
7. A Clause 27 20 MHz high-efficiency (HE) PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to CBW20).
8. A Clause 36 20 MHz extremely high throughput (EHT) PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to CBW20).

**40 MHz mask physical layer (PHY) protocol data unit (PPDU):** [40 MHz mask PPDU] One of the following PPDU:s:

1. A 40 MHz high throughput (HT) PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to HT\_CBW40) transmitted using the 40 MHz transmit spectral mask defined in Clause 19.
2. A 40 MHz non-HT duplicate PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to NON\_HT\_CBW40) transmitted by a non-very high throughput (non-VHT) station (STA) using the 40 MHz transmit spectral mask defined in Clause 19.

c) A 40 MHz non-HT duplicate PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to CBW40) transmitted by a very high throughput (VHT) STA using the 40 MHz transmit spectral mask defined in Clause 21.

d) A 20 MHz HT PPDU with the TXVECTOR parameter CH\_BANDWIDTH equal to HT\_CBW20 and the CH\_OFFSET parameter equal to either CH\_OFF\_20U or CH\_OFF\_20L transmitted using the 40 MHz transmit spectral mask defined in Clause 19.

e) A 20 MHz VHT PPDU with the TXVECTOR parameter CH\_BANDWIDTH equal to CBW20 transmitted using the 40 MHz transmit spectral mask defined in Clause 21.

f) A 40 MHz VHT PPDU with the TXVECTOR parameter CH\_BANDWIDTH equal to CBW40 transmitted using the 40 MHz transmit spectral mask defined in Clause 21.

g) A 40 MHz HT PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to HT\_CBW40) transmitted by a VHT STA using the 40 MHz transmit spectral mask defined in Clause 21.

h) A 20 MHz non-HT PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to CBW20) transmitted using the 40 MHz transmit spectral mask defined in Clause 19.

i) A 20 MHz non-HT PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to CBW20) transmitted by a VHT STA using the 40 MHz transmit spectral mask defined in Clause 21.

j) A 40 MHz high-efficiency (HE) PPDU with TXVECTOR parameter CH\_BANDWIDTH equal to CBW40 transmitted using the 40 MHz transmit spectral mask defined in Clause 27.

k) A 40 MHz VHT PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to CBW40) transmitted by an HE STA using the 40 MHz transmit spectral mask defined in Clause 21.

l) A 40 MHz non-HT duplicate PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to CBW40) transmitted by an HE STA using the 40 MHz transmit spectral mask defined in Clause 19.

m) A 40 MHz extremely high throughput (EHT) PPDU with TXVECTOR parameter CH\_BANDWIDTH equal to CBW40 transmitted using the 40 MHz transmit spectral mask defined in Clause 36.

**40 MHz physical layer (PHY) protocol data unit (PPDU):** [40 MHz PPDU] A PPDU that is one of the following:

a) A 40 MHz high throughput (HT) PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to HT\_CBW40).

b) A 40 MHz non-HT duplicate PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to NON\_HT\_CBW40 or TXVECTOR parameter CH\_BANDWIDTH equal to CBW40).

c) A 40 MHz very high throughput (VHT) PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to CBW40).

d) A Clause 27 40 MHz high-efficiency (HE) PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to CBW40).

e) A Clause 36 40 MHz extremely high throughput (EHT) PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to CBW40).

**80 MHz mask physical layer (PHY) protocol data unit (PPDU):** [80 MHz mask PPDU] One of the following PPDU:

a) An 80 MHz very high throughput (VHT) PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to CBW80) transmitted using the 80 MHz transmit spectral mask defined in Clause 21.

b) An 80 MHz non-high throughput (non-HT) duplicate PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to CBW80) transmitted using the 80 MHz transmit spectral mask defined in Clause 21.

c) A 20 MHz non-HT, high throughput (HT), or VHT PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to CBW20) transmitted using the 80 MHz transmit spectral mask defined in Clause 21.

d) A 40 MHz non-HT duplicate, HT, or VHT PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to CBW40) transmitted using the 80 MHz transmit spectral mask defined in Clause 21.

e) An 80 MHz high-efficiency (HE) PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to CBW80) transmitted using the 80 MHz transmit spectral mask defined in Clause 27.

f) An 80 MHz extremely high throughput (EHT) PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to CBW80) transmitted using the 80 MHz transmit spectral mask defined in Clause 36.

**80 MHz physical layer (PHY) protocol data unit (PPDU):** [80 MHz PPDU] A PPDU that is one of the following:

a) A Clause 21 80 MHz very high throughput (VHT) PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to CBW80).

b) A Clause 21 80 MHz non-high-throughput (non-HT) duplicate PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to CBW80).

c) A Clause 27 80 MHz high-efficiency (HE) PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to CBW80).

d) A Clause 36 80 MHz extremely high throughput (EHT) PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to CBW80).

**160 MHz mask physical layer (PHY) protocol data unit (PPDU):** [160 MHz mask PPDU] One of the following PPDU:

a) A 160 MHz very high throughput (VHT) PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to CBW160) transmitted using the 160 MHz transmit spectral mask defined in Clause 21.

b) A 160 MHz non-high throughput (non-HT) duplicate PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to CBW160) transmitted using the 160 MHz transmit spectral mask defined in Clause 21.

c) A 20 MHz non-HT, high throughput (HT), or VHT PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to CBW20) transmitted using the 160 MHz transmit spectral mask defined in Clause 21.

d) A 40 MHz non-HT duplicate, HT, or VHT PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to CBW40) transmitted using the 160 MHz transmit spectral mask defined in Clause 21.

e) An 80 MHz non-HT duplicate or VHT PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to CBW80) transmitted using the 160 MHz transmit spectral mask defined in Clause 21.

f) A 160 MHz high-efficiency (HE) PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to CBW160) transmitted using the 160 MHz transmit spectral mask defined in Clause 27.

g) A 160 MHz extremely high throughput (EHT) PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to CBW160) transmitted using the 160 MHz transmit spectral mask defined in Clause 36.

**160 MHz physical layer (PHY) protocol data unit (PPDU):** [160 MHz PPDU] A PPDU that is one of the following:

a) A Clause 21 160 MHz very high throughput (VHT) PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to CBW160).

b) A Clause 21 160 MHz non-high-throughput (non-HT) duplicate PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to CBW160).

c) A Clause 27 160 MHz high-efficiency (HE) PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to CBW160).

d) A Clause 36 160 MHz extremely high throughput (EHT) PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to CBW160).

**bandwidth signaling transmitter address (TA):** [bandwidth signaling TA] A TA that is used by a very high throughput (VHT) station (STA), a high-efficiency (HE) STA, or a next generation vehicle-to-everything (NGV) STA, or an extremely high throughput (EHT) STA to indicate the presence of additional signaling related to the bandwidth to be used in a subsequent transmission in an enhanced distributed channel access (EDCA) transmission opportunity (TXOP). It is the individual address of the transmitting STA but with the Individual/Group bit set to 1.

**device identifier (ID):** [device ID] An ID provided by an access point (AP) in an extended service set (ESS) to a non-access point (non-AP) station (STA) or a non-AP multi-link device (non-AP MLD) to allow the non-AP STA or the non-AP MLD to identify itself to that same ESS during association at a future time.

**identifiable random medium access control (MAC) address:** [IRM] A random local MAC address provided by a non-access point (non-AP) station (STA) or a non-AP multi-link device (non-AP MLD) to identify itself to an extended service set (ESS).

**measurement identifier (ID):** [measurement ID] A transient device ID that an extended service set (ESS) can provide to a non-access point (non-AP) station (STA) or a non-AP multi-link device (non-AP MLD) to allow the non-AP STA or a non-AP MLD to identify itself to another access point (AP) or another AP multi-link device (AP MLD) in the same ESS during a beacon report measurement procedure.

**multi-user (MU) physical layer (PHY) protocol data unit (PPDU):** [MU PPDU] A PPDU that carries one or more PHY service data units (PSDUs) for one or more stations (STAs) using the downlink multi-user multiple input, multiple output (DL MU-MIMO) technique, orthogonal frequency division multiple access (DL OFDMA) technique, or a combination of the two techniques, or that carries a PSDU for an AP, a TDLs STA on a direct link or an IBSS STA and is in a high-efficiency (HE) MU PPDU format or an extremely high throughput (EHT) MU PPDU format.

**non-high-throughput (non-HT):** [non-HT] A modifier meaning not high throughput (HT), not very high throughput (VHT), not high efficiency (HE), and not directional multi-gigabit (DMG), and not extremely high throughput (EHT).

**reported access point (AP):** [reported AP] An AP that is described/identified in an element such as a Neighbor Report element or, a Reduced Neighbor Report element, or an AP that is identified in a Per-STA Profile subelement of the Basic Multi-Link element.

**reporting access point (AP):** [reporting AP] An AP that is transmitting an element, such as a Neighbor Report element, or a Reduced Neighbor Report element or Basic Multi-Link element, describing a reported AP.

**resource unit (RU):** A group of 26, 52, 106, 242, 484, 996, or  $2 \times 996$ , or  $4 \times 996$  subcarriers as an allocation of subcarriers for transmission.

**service period (SP):** A period of time during which one or more downlink individually addressed frames are transmitted to a quality-of-service (QoS) station (STA) and/or one or more (portions of) transmission opportunities (TXOPs) are granted or allocated to the same STA. SPs are either scheduled or unscheduled.

**NOTE**—A non-access point (non-AP) STA can have at most one nongroupcast with retries SP (non-GCR-SP) active at any time.

**wireless network management (WNM) sleep mode:** [WNM sleep mode] An extended power save mode for non-access point (non-AP) stations (STAs) and non-AP multi-link devices (non-AP MLDs) whereby a non-AP STA or non-AP STAs affiliated with a non-AP MLD need not listen for every delivery traffic

indication map (DTIM) beacon and does not perform group temporal key/integrity group temporal key/ beacon integrity group temporal key (GTK/IGTK/BIGTK) updates.

*Insert the following definitions (maintaining alphabetical order):*

**20 MHz-only non-access point (non-AP) extremely high throughput station (EHT STA):** [20 MHz-only non-AP EHT STA] A non-AP EHT STA that indicates in the Supported Channel Width Set subfield in the HE PHY Capabilities Information field in the HE Capabilities element that it supports only 20 MHz channel width for the frequency band in which it is operating.

**20 MHz operating non-access point (non-AP) extremely high throughput station (EHT STA):** [20 MHz operating non-AP EHT STA] A non-AP EHT STA that is operating in 20 MHz channel width mode, such as a 20 MHz-only non-AP EHT STA or an EHT STA that has reduced its operating channel width to 20 MHz using operating mode indication (OMI).

**80 MHz operating non-access point (non-AP) extremely high throughput station (EHT STA):** [80 MHz operating non-AP EHT STA] A non-AP EHT STA that is operating in 80 MHz channel width mode, such as a non-AP STA (excluding the 20 MHz-only non-AP EHT STA) that is not capable of 160 MHz operation or a non-AP STA that has reduced its operating channel width to 80 MHz using operating mode indication (OMI).

**160 MHz operating non-access point (non-AP) extremely high throughput station (EHT STA):** [160 MHz operating non-AP EHT STA] A non-AP EHT STA that is operating in 160 MHz channel width mode, such as a non-AP STA (excluding the 20 MHz-only non-AP EHT STA) that is not capable of 320 MHz operation or a non-AP STA that has reduced its operating channel width to 160 MHz using operating mode indication (OMI).

**320 MHz mask physical layer (PHY) protocol data unit (PPDU):** [320 MHz mask PPDU] One of the following PPDU:

1. A 320 MHz non-high-throughput (non-HT) duplicate PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to CBW320) transmitted using the 320 MHz transmit spectral mask defined in Clause 36.
2. A 320 MHz extremely high throughput (EHT) PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to CBW320-1 or CBW320-2) transmitted using the 320 MHz transmit spectral mask defined in Clause 36.

**320 MHz physical layer (PHY) protocol data unit (PPDU):** [320 MHz PPDU] A Clause 36 320 MHz non-high-throughput (non-HT) duplicate PPDU (TXVECTOR parameter CH\_BANDWIDTH equal to CBW320) or a Clause 36 320 MHz extremely high throughput (EHT) PPDU with the TXVECTOR parameter CH\_BANDWIDTH equal to CBW320-1 or CBW320-2.

**access point (AP) multi-link device (MLD):** [AP MLD] An MLD, where each station (STA) affiliated with the MLD is an AP.

**affiliated AP:** An affiliated station (STA) that is an access point (AP) and the corresponding multi-link device (MLD) is an AP multi-link device (AP MLD).

**affiliated non-access point (non-AP) station (STA):** [affiliated non-AP STA] An affiliated STA that is a non-AP STA and the corresponding multi-link device (MLD) is a non-AP multi-link device (non-AP MLD).

**affiliated station (STA):** [affiliated STA] A STA, which can be an access point (AP) or non-access point (non-AP) STA (non-AP STA), that provides link-specific, multi-link device (MLD) lower medium access control (MAC) sublayer and physical layer (PHY) services within an MLD.

**disabled link:** A setup link between an access point (AP) multi-link device (AP MLD) and an associated non-access point (non-AP) multi-link device (non-AP MLD) to which no traffic identifier (TID) is mapped neither in downlink (DL) nor in uplink (UL) as described in 35.3.7.2.

**emergency preparedness communications service (EPCS) priority access:** [EPCS priority access] A dynamically invoked functionality that allows access point (AP) multi-link devices (AP MLDs) to authorize and facilitate non-access point (non-AP) multi-link devices (non-AP MLDs) to communicate EPCS traffic with a higher priority.

**emergency preparedness communications service (EPCS) traffic:** [EPCS traffic] All traffic generated by a non-access point (non-AP) multi-link device (non-AP MLD) or traffic destined for a non-AP MLD when the EPCS priority access is authorized and enabled for that non-AP MLD.

**enabled link:** A setup link between an access point (AP) multi-link device (AP MLD) and an associated non-access point (non-AP) multi-link device (non-AP MLD) to which at least one traffic identifier (TID) is mapped either in downlink or in uplink as described in 35.3.7.2.

**enhanced multi-link multi-radio (EMLMR) operation:** [EMLMR operation] A mode of operation that allows a non-access point (non-AP) multi-link device (non-AP MLD) with multiple receive chains to listen on a set of enabled links when the corresponding non-AP stations (STAs) affiliated with the non-AP MLD are in the awake state for an initial frame sent by an access point (AP) affiliated with an AP multi-link device (AP MLD) to one of the receiving non-AP STAs in a physical layer (PHY) protocol data unit (PPDU) whose number of spatial streams (Nss) satisfies that receiving non-AP STA's receiving capabilities, followed by frame exchanges that satisfy the modulation and coding scheme (MCS) and Nss capabilities indicated in the non-AP MLD's EML Operating Mode Notification frame on the link on which the initial frame was received.

**enhanced multi-link single-radio (EMLSR) operation:** [EMLSR operation] A mode of operation that allows a non-access point (non-AP) multi-link device (non-AP MLD) with multiple receive chains to listen on a set of enabled links when the corresponding stations (STAs) affiliated with the non-AP MLD are in the awake state for an initial control frame sent by an access point (AP) affiliated with an AP multi-link device (AP MLD) in a non-high throughput (non-HT) (duplicate) physical layer (PHY) protocol data unit (non-HT duplicate PPDU) with one spatial stream, followed by frame exchanges on the link on which the initial control frame was received.

**extremely high throughput (EHT) basic service set (BSS):** [EHT BSS] A BSS in which the transmitted Beacon frame includes an EHT Operation element.

**extremely high throughput (EHT) beamformee:** [EHT beamformee] An EHT station (STA) that receives an EHT physical layer (PHY) protocol data unit (EHT PPDU) that was transmitted using a beamforming steering matrix.

**extremely high throughput (EHT) beamformer:** [EHT beamformer] An EHT station (STA) that transmits an EHT physical layer (PHY) protocol data unit (EHT PPDU) using a beamforming steering matrix.

**extremely high throughput (EHT) modulation and coding scheme (MCS):** [EHT-MCS] A specification of the EHT physical layer (PHY) parameters that consists of modulation order (BPSK, QPSK, 16-QAM, 64-QAM, 256-QAM, 1024-QAM, 4096-QAM) and forward error correction (FEC) coding rate (1/2, 2/3, 3/4, 5/6) and that is used in an EHT PHY protocol data unit (EHT PPDU).

**extremely high throughput (EHT) multi-user (MU) physical layer protocol data unit (PPDU):** [EHT MU PPDU] An EHT PPDU format that is used for a transmission that is not a response to a triggering frame. This PPDU carries one or more physical layer service data units (PSDUs).

**extremely high throughput (EHT) physical layer (PHY) protocol data unit (PPDU):** [EHT PPDU] A Clause 36 PPDU.

**extremely high throughput (EHT) single user (SU) transmission:** [EHT SU transmission] A transmission to a single user using the non-orthogonal frequency division multiple access (non-OFDMA) EHT multi-user (MU) physical layer (PHY) protocol data unit (non-OFDMA MU PPDU) format that is not an EHT sounding null data PPDU (EHT sounding NDP). See 36.3.19.

**extremely high throughput (EHT) trigger based (TB) physical layer (PHY) protocol data unit (PPDU):** [EHT TB PPDU] An EHT PPDU format that is used for a transmission that is a response to a triggering frame. This PPDU carries a single physical layer service data unit (PSDU).

**mobile access point (AP):** [mobile AP] An AP that is capable of keeping its Basic Service Set (BSS) operational while its location is changed.

**mobile access point (AP) multi-link device (MLD):** [mobile AP MLD] An AP multi-link device (AP MLD) where all affiliated APs are colocated and are mobile APs.

**multi-link device:** [MLD] A logical entity that is capable of supporting more than one affiliated station (STA) and can operate using one or more affiliated STAs, and that presents one medium access control (MAC) data service and a single MAC service access point (MAC SAP) to the logical link control (LLC) sublayer.

**multi-link device (MLD) max idle period:** [MLD max idle period] A time period during which the access point (AP) multi-link device (AP MLD) does not disassociate a non-access point (non-AP) multi-link device (non-AP MLD) due to nonreceipt of frames from any of the stations (STAs) affiliated with that non-AP MLD.

**multi-link operation:** [MLO] Operations between two multi-link devices (MLDs) as described in 35.3.

**multi-link probe request:** A Probe Request frame that is transmitted by a station (STA) affiliated with a non-access point (non-AP) multi-link device (non-AP MLD) carrying a Probe Request Multi-Link element to solicit information of one or more access points (APs) affiliated with an AP multi-link device (AP MLD) as described in 35.3.4.2.

**multi-link probe response:** A Probe Response frame transmitted by an access point (AP) affiliated with an AP multi-link device (AP MLD) carrying a Basic Multi-Link element in response to a multi-link probe request to provide complete profile or requested information of one or more access points (APs) affiliated with an AP MLD as described in 35.3.4.2.

**multi-radio non-access point (non-AP) multi-link device (MLD):** [multi-radio non-AP MLD] A non-AP MLD that supports reception or transmission of frames on more than one link at a time.

**multiple resource unit (RU):** [MRU] A group of subcarriers that consist of multiple RUs of 26-tone RU, 52-tone RU, 106-tone RU, 242-tone RU, 484-tone RU, 996-tone RU, and 2x996-tone RU.

**non-multi-link device (MLD) non-access point (non-AP) station (STA):** [non-MLD non-AP STA] A STA that is a non-AP STA and that is not affiliated with a MLD.

**nonsimultaneous transmit and receive (NSTR) link pair:** [NSTR link pair] A pair of links corresponding to stations (STAs) affiliated with a multi-link device (MLD) for which the receiver requirements specified in 36.3.21 are not met on one of the links when a STA affiliated with the MLD is transmitting on the other link.

NOTE—If an MLD supports transmission on link 1 concurrently with reception on link 2, but cannot support transmission on link 2 concurrently with reception on link 1, this pair of links is NSTR for that MLD.

**nonisimultaneous transmit and receive (NSTR) mobile access point (AP) multi-link device (MLD):** [NSTR mobile AP MLD] A mobile access point (AP) multi-link device (mobile AP MLD) with one NSTR link pair.

**non-access point (non-AP) multi-link device (MLD):** [non-AP MLD] An MLD, where each station (STA) affiliated with the MLD is a non-access point (non-AP) station (non-AP STA).

**non-multi-link operation:** [non-MLO] Operations that do not involve multi-links between two multi-link devices (MLDs) as described in 35.3.

**non-orthogonal frequency division multiple access (non-OFDMA) extremely high throughput (EHT) physical layer (PHY) protocol data unit (PPDU):** [non-OFDMA EHT PPDU] An EHT PPDU that is transmitted using a single resource unit (RU) or a single multiple resource unit (MRU) that occupies all of the nonpunctured 20 MHz channels within the PPDU bandwidth.

**non-orthogonal frequency division multiple access (non-OFDMA) uplink (UL) multi-user multiple input multiple output (MU-MIMO):** [non-OFDM UL MU-MIMO] A transmission where there are no other resource unit(s) or multiple resource unit(s) (RU(s) or MRU(s)) scheduled other than the one doing UL MU-MIMO.

**non-trigger-based (non-TB) physical layer (PHY) protocol data unit (PPDU):** [non-TB PPDU] A PPDU that is not transmitted using high efficiency (HE) TB PPDU (HE TB PPDU) or extremely high throughput (EHT) TB PPDU (EHT TB PPDU) format.

**orthogonal frequency division multiple access (OFDMA) extremely high throughput (EHT) physical layer (PHY) protocol data unit (PPDU):** [OFDMA EHT PPDU] An EHT PPDU that is transmitted using more than one resource unit (RU) or multiple resource unit (MRU). Each of them is allocated to a different station (STA).

**primary 160 MHz channel:** In a 320 MHz basic service set (BSS), the 160 MHz channel that contains the primary 20 MHz channel.

**reported station (STA):** [reported STA] An access point (AP) or a non-access point (non-AP) station (non-AP STA) that is identified in an element such as a Basic Multi-Link element.

**reporting station (STA):** [reporting STA] An access point (AP) or a non-access point (non-AP) station (non-AP STA) that is transmitting an element, such as a Basic Multi-Link element, describing a reported STA.

**restricted target wake time:** [R-TWT] TWT with enhanced medium access protection and resource reservation for delivery of latency sensitive traffic as described in 35.8.

**restricted target wake time (R-TWT) service period (SP):** [R-TWT SP] A period of time negotiated using R-TWT setup (35.8.2) during which R-TWT member stations (STAs) prioritize delivery of latency sensitive traffic.

**secondary 160 MHz channel:** In a 320 MHz basic service set (BSS), the 160 MHz channel not including the primary 20 MHz channel, which together with the primary 160 MHz channel, forms the 320 MHz channel of the 320 MHz extremely high throughput (EHT) BSS.

### 3.4 Abbreviations and acronyms

*Insert the following acronym definitions (maintaining alphabetical order):*

| AAR   | AP assistance request                         |
|-------|-----------------------------------------------|
| BTM   | BSS transition management                     |
| EHT   | extremely high throughput                     |
| ELA   | EHT link adaptation                           |
| EML   | enhanced multi-link                           |
| EMLMR | enhanced multi-link multi-radio               |
| EMLSR | enhanced multi-link single-radio              |
| EPCS  | emergency preparedness communications service |
| FTR   | fast BSS transition responder                 |
| ML    | multi-link                                    |
| MLD   | multi-link device                             |
| MLO   | multi-link operation                          |
| MRU   | multiple resource unit                        |
| NSTR  | nonsimultaneous transmit and receive          |
| R-TWT | restricted TWT                                |
| SRS   | single response scheduling                    |
| STR   | simultaneous transmit and receive             |
| TTLM  | TID-to-link mapping                           |
| TXS   | triggered TXOP sharing                        |

## 4. General description

### 4.3 Components of the IEEE Std 802.11 architecture

#### 4.3.5 Distribution system (DS) concepts

##### 4.3.5.2 Extended service set (ESS): the large coverage network

*Change the first paragraph as follows:*

The DS and infrastructure BSSs allow IEEE Std 802.11 to create a wireless network of arbitrary size and complexity. IEEE Std 802.11 refers to this type of network as the ESS. An ESS is the union of the infrastructure BSSs with the same SSID connected by a single DS. All BSSs in an ESS have the same SSID. All BSSs created by APs affiliated with an AP MLD have the same SSID and belong to the same ESS. An AP MLD is part of the same ESS as its affiliated APs. The ESS does not include the DS.

##### 4.3.8 Robust security network association (RSNA)

*Change the first paragraph as follows:*

The following features are defined for an RSNA:

- Authentication mechanisms for STAs or MLDs
- Key management algorithms
- Cryptographic key establishment
- Cryptographic mechanisms, such as Counter Mode with cipher-block chaining message authentication code protocol (CCMP) and Galois/Counter Mode protocol (GCMP)
- Fast basic service set (BSS) transition (FT) mechanism
- Cryptographic encapsulation mechanisms for robust Management frames

*Change the third, fourth, and fifth paragraphs as follows:*

The first component is an IEEE 802.1X port access entity (PAE). A PAEs are present on each STAs or each MLD in an RSNA and control the forwarding of data to and from the medium access control (MAC). An AP or an AP MLD always implements the Authenticator PAE and Extensible Authentication Protocol (EAP) Authenticator roles, and a non-AP STA or a non-AP MLD always implements the Supplicant PAE and EAP peer roles. In an IBSS or PBSS, each STA implements both the Authenticator PAE and Supplicant PAE roles and both EAP Authenticator and EAP peer roles.

A second component is the Authentication Server (AS). The AS authenticates the elements of the RSNA itself, i.e., the STAs or MLDs provide material that the RSNA elements use to authenticate each other. The AS communicates through the IEEE 802.1X Authenticator with the IEEE 802.1X Supplicant on each STA or on each MLD, enabling the STA or the MLD to be authenticated to the AS and vice versa. An RSNA depends upon the use of an EAP method that supports mutual authentication of the AS and the STA or mutual authentication of the AS and the MLD, such as those that meet the requirements in IETF RFC 4017. In certain applications, the AS might be integrated into the same physical device as the AP or the AP MLD, or into a STA in an IBSS or PBSS.

In some applications, there is no need for a PAE or AS, and a STA and AP, or a non-AP MLD and AP MLD, or two IBSS STAs, or two mesh STAs in an MBSS, might authenticate each other using a password.

*Insert the following new subclause after 4.3.16 and before 4.3.17 as follows:*

#### 4.3.16a Extremely high throughput (EHT) STA

The IEEE 802.11 EHT STA operates in frequency bands between 1 GHz and 7.250 GHz.

In the 5 GHz and 6 GHz bands, the following apply:

- An EHT STA is also an HE STA
- Support for 20 MHz operating channel width is mandatory in an EHT STA
- Support for 40 MHz and 80 MHz operating channel width is mandatory in an EHT STA that is not a 20 MHz-only non-AP EHT STA
- Support for 160 MHz operating channel width is mandatory in an EHT AP in the 6 GHz band
- Support for 160 MHz operating channel width is optional in an EHT STA in the 5 GHz band
- Support for 160 MHz operating channel width is optional in a non-AP EHT STA 6G
- Support for 320 MHz operating channel width is optional in an EHT STA 6G

In the 2.4 GHz band, the following apply:

- An EHT STA is also an HE STA
- Support for 20 MHz operating channel width is mandatory in an EHT STA
- Support for 40 MHz operating channel width is optional in an EHT STA

The main PHY features in an EHT STA that are not present in HE STA, VHT STA or HT STA are the following:

- Mandatory support for MRU
- Mandatory support for non-OFDMA preamble puncturing with any pattern needed to support mandatory MRU for non-OFDMA
- Mandatory support for non-OFDMA UL MU-MIMO transmission for a non-AP EHT STA
- Mandatory support for single spatial stream EHT-MCSs 8 and 9 for a non-AP EHT STA that is not a 20 MHz-only non-AP EHT STA
- Mandatory support for single spatial stream EHT-MCS 15 in an RU
- Mandatory support for participating in 160 MHz/320 MHz UL/DL OFDMA for an 80 MHz operating non-AP EHT STA
- Mandatory support for participating in 320 MHz UL/DL OFDMA for a 160 MHz operating non-AP EHT STA
- Optional support for EHT-MCSs 12 and 13
- Optional support for single spatial stream EHT-MCS 14 in 6 GHz band
- Optional support for single spatial stream EHT-MCS 15 in an MRU

The main MAC features in an EHT STA that are not present in HE STA or VHT STA or HT STA are the following:

- Mandatory support for GCMP-256
- In an EHT AP, mandatory support for MLO
- In an EHT AP, mandatory support for beacon protection
- In an MLD, mandatory support for ML discovery procedure
- In an MLD, mandatory support for ML (re)setup procedure
- In an MLD, mandatory support for ML BlockAck procedure
- In an MLD, mandatory support for link management procedure with default TTLM

- In an MLD, mandatory support for MLD level sequence number spaces
- In an MLD, mandatory support for MLD level packet number (PN) space
- In an MLD, mandatory support for BSS parameter critical update procedure
- In an MLD, mandatory support for ML power management
- In an AP MLD, mandatory support for serving a single-radio non-AP MLD
- In an AP MLD that is not an NSTR mobile AP MLD, mandatory support for STR operation on each pair of links, if the AP MLD operates with more than one affiliated AP
- In an AP MLD, mandatory support for PPDU end time alignment when the AP-MLD is serving an NSTR non-AP MLD
- In an AP MLD, mandatory support for ML group addressed frame delivery
- In a non-AP MLD, mandatory support for TTLM negotiation with value 1 as described in Table 9-417n
- In a non-AP MLD, optional support for TTLM, wherein all the TIDs can be mapped to a subset of links that are set up, with some TIDs mapped to other links as well
- In a non-AP MLD, optional support for STR operation
- In a non-AP MLD, optional support for NSTR operation
- In an AP MLD, optional support for TTLM negotiation
- In an MLD, optional support for EMLSR mode
- In an MLD, optional support for EMLMR mode
- In an MLD, optional support for start time sync PPDU medium access
- In an MLD, optional support for NSTR mobile AP MLD operation
- In an MLD, optional support for non-AP MLD operation parameter update
- In an MLD, optional support for ML traffic indication
- In an MLD, support for ML reconfiguration procedures
- In an MLD, optional support for alignment of individual TWT agreements across multiple links
- Optional support for EPCS priority access operation
- Optional support for QoS Characteristics element in SCS
- Optional support for BlockAck Bitmap field lengths of 512 and 1024
- Optional support for R-TWT
- Optional support for triggered TXOP sharing (TXS)

#### 4.3.22 Wireless network management

##### 4.3.22.2 BSS max idle period management

*Change the first paragraph as follows:*

For non-MLD, BSS max idle period management enables an AP to indicate a time period during which the AP does not disassociate a STA due to nonreceipt of frames from the STA. This supports improved STA power saving and AP resource management. MLD max idle period management is described in 4.3.22.2a.

*Insert the following new subclause after subclause 4.3.22.2:*

#### 4.3.22.2a MLD max idle period management

For MLO, MLD max idle period management service enables an AP MLD to indicate a time period during which the AP MLD does not disassociate a non-AP MLD due to nonreceipt of frames from the non-AP MLD on at least one of the setup links. This supports improved power saving at the non-AP MLD and resource management at the AP MLD.

#### 4.3.22.23 WNM sleep mode

*Change as follows:*

WNM sleep mode is an extended power save mode for non-AP STAs in which a non-AP STA or all STAs affiliated with a non-AP MLD need not listen for every DTIM beacon, and need not perform GTK/IGTK/BIGTK updates. For non-MLO, WNM sleep mode enables a non-AP STA to signal to an AP that it might sleep for a specified length of time. For MLO, WNM sleep mode enables a non-AP STA affiliated with the non-AP MLD to signal to an AP affiliated with the AP MLD that all the non-AP STAs affiliated with the non-AP MLD might transition to doze state for a specified length of time. This enables a non-AP STA or a non-AP MLD to reduce power consumption and remain associated while the non-AP STA or the non-AP MLD has no traffic to send to or receive from the AP or AP MLD.

### 4.5 Overview of the services

#### 4.5.3 Connectivity-related services

##### 4.5.3.1 General

*Change the first paragraph as follows:*

The primary purpose of a MAC sublayer is to transfer MSDUs between MAC sublayer entities. The information required for the distribution system service to operate is provided by the association services. Before an MSDU can be handled by the distribution system service a STA or an MLD is “associated.”

##### 4.5.3.2 Mobility types

*Change the first three paragraphs as follows:*

The two transition types that are supported within this standard that describe the mobility of non-GLK STAs or MLDs within a network are as follows:

1. **No-transition:** In this type, two subclasses that are usually indistinguishable are identified:
   1. Static—no motion.
   2. Local movement—movement within the PHY range of the communicating STAs, i.e., movement within a basic service area (BSA).
2. **BSS-transition:** This type is defined for a STA or an MLD as follows:
   1. (non-MLO to non-MLO): a Δ STA movement from one BSS in one ESS to another BSS within the same ESS.

NOTE—A nonmobility based transition from a BSS to the same BSS (same AP or PCP) or from one AP MLD to the same AP MLD is also supported. See 11.3.5.4.

1. (MLO to MLO): A non-AP MLD movement from one AP MLD in one ESS, where each non-AP STA affiliated with the non-AP MLD is within one BSS and different non-AP STAs affiliated with the non-AP MLD are within different BSSs, to another AP MLD within the same

ESS, where each non-AP STA affiliated with the non-AP MLD is within another BSS and different non-AP STAs affiliated with the non-AP MLD are within different BSSs.

1. (MLO to non-MLO): A non-AP MLD movement from one AP MLD in one ESS, where each non-AP STA affiliated with the non-AP MLD is within one BSS and different non-AP STAs affiliated with the non-AP MLD are within different BSSs, to another BSS within the same ESS and becoming a non-AP STA, where the MLD MAC address of the non-AP MLD is the same as the MAC address of the non-AP STA.
2. (non-MLO to MLO): A non-AP STA movement from one BSS in one ESS to an AP MLD within the same ESS and becoming a non-AP MLD, where each non-AP STA affiliated with the non-AP MLD is within another BSS, different non-AP STAs affiliated with the non-AP MLD are within different BSSs and the MAC address of the non-AP STA is the same as the MLD MAC address of the non-AP MLD.

A fast BSS transition is a BSS transition that establishes the state necessary for data connectivity before the reassociation rather than after the reassociation.

A third type of transition is STA movement from a BSS in one ESS to a BSS in a different ESS or a non-AP MLD movement from an AP MLD in one ESS to another AP MLD in a different ESS. Maintenance of upper layer connections during transition between ESSs cannot be guaranteed by IEEE Std 802.11; disruption of service is likely to occur.

*Move the following fifth paragraph as the first paragraph of this subclause:*

The different association services support the different categories of non-GLK mobility.

#### 4.5.3.3 Association

*Change the first three paragraphs as follows:*

To deliver an MSDU within an ESS via the DS, the DS needs to know which AP or AP MLD within the ESS to deliver the MSDU to, so that the MSDU might ultimately be delivered to the addressed IEEE 802.11 non-AP STA or non-AP MLD. This information is provided to the DS by the concept of association. Association is necessary, but not sufficient, to support BSS-transition mobility. Association is sufficient to support no-transition mobility. Association is one of the services in the DSS.

Before a non-AP STA is allowed to send deliver an MSDU via an AP, it first becomes associated with the AP. Before a non-AP MLD is allowed to deliver an MSDU via an AP MLD, it first becomes associated with the AP MLD.

For a non-GLK STA that is not affiliated with an MLD, the act of becoming associated with an AP invokes the association service, which provides the STA to AP mapping to the DS. For a non-AP MLD, the act of becoming associated with an AP MLD invokes the association service (see 11.3), which provides the non-AP MLD to AP MLD mapping to the DS. How the information provided by the association service is stored and managed within the DS is not specified by this standard.

*Change the fifth paragraph as follows:*

Within a robust security network (RSN), association is handled differently. In an RSNA, the IEEE 802.1X Port determines when to allow data traffic across an IEEE 802.11 link between two STAs or one or more IEEE 802.11 link(s) between two MLDs. A single IEEE 802.1X Port maps to one association, and each association maps to an IEEE 802.1X Port. An IEEE 802.1X Port consists of an IEEE 802.1X Controlled Port and an IEEE 802.1X Uncontrolled Port. The IEEE 802.1X Controlled Port is blocked from passing general data traffic between two STAs or between two MLDs until an IEEE 802.1X authentication procedure completes successfully over the IEEE 802.1X Uncontrolled Port. Once the AKM completes successfully,

data protection is enabled to prevent unauthorized access, and the IEEE 802.1X Controlled Port unblocks to allow protected data traffic. IEEE 802.1X Supplicants and Authenticators exchange protocol information via the IEEE 802.1X Uncontrolled Port. It is expected that most other protocol exchanges use the IEEE 802.1X Controlled Ports. However, a given protocol might need to bypass the authorization function and make use of the IEEE 802.1X Uncontrolled Port.

*Change the seventh, eighth, and ninth paragraphs as follows:*

At any given instant, a non-AP STA is associated with no more than one AP, and a non-AP MLD is associated with no more than one AP MLD. This allows the DS to determine a unique answer to the questions, “Which AP is serving non-AP STA X?” and “Which AP MLD is serving non-AP MLD Y?” Once an association is completed between a non-AP STA and an AP, a non-AP STA can make full use of a DS (via the AP) to communicate. Similarly, once an association is completed between a non-AP MLD and an AP MLD, a non-AP MLD can make full use of a DS (via the AP MLD) to communicate. Association between a non-AP STA and an AP is always initiated by the non-AP STA, not the AP. Association between a non-AP MLD and an AP MLD is always initiated by the non-AP MLD, not the AP MLD.

An AP might be associated with many non-AP STAs at the same time. Similarly, an AP MLD might be associated with many non-AP MLDs at the same time.

A non-AP STA learns what APs are present and what operational capabilities are available from each of those APs and then invokes the association service to establish an association. Similarly, a non-AP MLD learns what MLDs are present and what operational capabilities are available from each of those AP MLDs and APs affiliated with each AP MLD, and then invokes the association service to establish an association with an AP MLD. A FILS STA is able to discover, authenticate and associate with the AP with a reduced number of frame transmissions. For details of how a STA learns about what APs are present, see 11.1.4.

#### 4.5.3.4 Reassociation

*Change the first paragraph as follows:*

Association is sufficient for no-transition MSDU delivery between IEEE 802.11 STAs or MLDs. Additional functionality is needed to support BSS-transition mobility. The additional required functionality is provided by the reassociation service. Reassociation is one of the services in the DSS.

*Change and split the second paragraph as follows:*

The reassociation service (see 11.3.5) is invoked to “move”:

- a current association (see 4.5.3.3 and 11.3) of a non-AP STA with an AP from one the AP to the same AP or another AP or;
- a current association (see 4.5.3.3 and 11.3) of a non-AP MLD with an AP MLD from the AP MLD to the same AP MLD or another AP MLD or;
- a current association of a non-AP STA with an AP to an association of a non-AP MLD with an AP MLD, where the MLD MAC address of the non-AP MLD is the same as the MAC address of the non-AP STA or;
- a current association of a non-AP MLD with an AP MLD to an association of a non-AP STA with an AP, where the MAC address of the non-AP STA is the same as the MLD MAC address of the non-AP MLD.

In an ESS, the reassociation service informs the DS of the current mapping between AP and non-AP STA or between AP MLD and non-AP MLD as the STA moves from BSS to BSS within the ESS. For a general link in an IEEE 802.1Q network, the reassociation service informs higher layer services how the link is reconfigured, commonly, with which BSS the GLK non-AP STA is a member. The higher layer services

will then destroy, disable, or maintain the existing Internal Sublayer Service SAPs, create or enable new Internal Sublayer Service SAPs, inform the GLK convergence function of the reconfigured general link mapping of the Internal Sublayer Service SAPs, and inform the network routing protocol of the updated general link. The GLK AP and GLK non-AP STA each then establish or maintain a service access point identifier for the reconfigured general link, for their respective MS SAPs. Reassociation also enables changing association attributes of an established association while the non-AP STA or non-AP MLD remains associated with the same AP or the same AP MLD, respectively. Reassociation is always initiated by the non-AP STA or the non-AP MLD.

#### 4.5.3.5 Disassociation

*Change the second paragraph as follows:*

For a non-GLK STA that is not affiliated with an MLD, the act of becoming disassociated invokes the disassociation service, which voids any existing non-AP STA to AP mapping known to the DS, for the disassociating non-AP STA. For a non-AP MLD, the act of becoming disassociated invokes the disassociation service, which voids any existing non-AP MLD to AP MLD mapping known to the DS, for the disassociating non-AP MLD (see 35.3.5.3). How the information provided by the disassociation service is managed within the DS is not specified by this standard. For a general link, disassociation removes or disables the corresponding Internal Sublayer Service SAPs that were configured for the general link. The IEEE 802.1Q bridge uses this information to update bridging for the GLK non-AP STA.

*Change the fourth, fifth, and sixth paragraphs as follows:*

The disassociation service can be invoked by either party in an association between a non-AP STA and an AP (non-AP STA or AP see 4.5.3.3) or an association between a non-AP MLD and an AP MLD. Disassociation is a notification, not a request. Disassociation cannot be refused by the receiving STA or the receiving MLD except when management frame protection is negotiated and the message integrity check fails.

An AP or an AP MLD can disassociate non-AP STAs or non-AP MLDs, respectively, to enable the AP or the AP MLD to be removed from a network for service or for other reasons.

STAs or MLDs attempt to disassociate when they leave a network. However, the MAC protocol does not depend on STAs or MLDs invoking the disassociation service. (MAC management is designed to accommodate loss of communication with an associated STA or an associated MLD.)

#### 4.5.4 Access control and data confidentiality services

##### 4.5.4.10 MAC privacy enhancements

*Change the last paragraph as follows:*

To mitigate traffic analysis and tracking, a non-AP STA or a non-AP MLD can support the ability to periodically and randomly change its MAC addresses and reset counters and seeds prior to association. A non-AP MLD can also change the MAC addresses of its affiliated STAs prior to an association. Such a non-AP STA or a non-AP MLD using the device ID mechanism, upon reconnecting to a network, can provide either a device ID or a PASN ID previously provided by the network. Such a non-AP STA using the identifiable random MAC address (IRM) mechanism, upon reconnecting to the network can provide the IRM that the STA or the non-AP MLD previously provided to the network. Such a non-AP STA can use both device ID and IRM mechanisms concurrently. Such a STA or the non-AP MLD can also use a measurement ID, previously provided by the network, to assist while performing beacon report measurement procedures. These mechanisms allow the network to recognize the STA or the non-AP MLD

while providing protection against third party tracking or traffic analysis. When the network can recognize the STA, it can map already established shared identity state (see 12.2.13) to this STA, which can allow the network to provide network acquisition steering and selection, or allow the network to connect transactional information obtained preassociation or in a prior association to the device that is associating. While discovering networks, a non-AP STA can refrain from gratuitously transmitting Probe Request frames containing SSIDs of favored BSS networks.

#### 4.5.6 Traffic differentiation and QoS support

*Insert the following new subclause at the end of 4.5.6:*

##### 4.5.6.3 Support for predictable latency

Traffic originating from many real time applications has stringent requirements in terms of latency and its jitter along with certain reliability constraints. Such traffic is referred to as latency sensitive traffic. Latency sensitive traffic requires packets to be delivered with predictable latency in terms of both its average and the worst case values over the wireless link. Such traffic typically shows periodic pattern with burst arrival of packets in each interval.

This standard defines mechanism(s) such as R-TWT (35.8) to enable the BSS to use enhanced medium access protection and resource reservation to provide predictable latency with higher reliability for latency sensitive traffic over the wireless link.

*Insert the following new subclause at the end of 4.5:*

#### 4.5.13 EPCS priority access

Existing national security and emergency preparedness communication services<sup>6</sup> in multiple countries provide priority for voice and data exchanges on public networks. EPCS priority access is intended to provide capabilities to support such priority services on IEEE 802.11-based networks.<sup>7</sup>

EPCS priority access provides prioritized access to system resources for authorized devices to increase their probability of successful communication during periods of network congestion. Priority access involves treating the EPCS traffic with a higher priority, as described in 35.16.3, in obtaining channel access and in allocation of network resources. The service is only available to designated, authorized devices that normally represent a small fraction of the overall number of devices associated with a BSS.

An AP MLD that has EPCS priority access activated advertises this capability in Beacon and Probe Response frames. The AP MLD authorizes a non-AP MLD to use EPCS priority access based on locally available information (which can be obtained *a priori* from an NS/EP service provider) or using online information obtained through a service provider's authorization infrastructure, which might be accessed via an SSPN interface (see 11.22.5). The AP MLD might cache authorization information locally to enable subsequent verification and use it to confirm authority during (re)association with a non-AP MLD.

An AP MLD or a non-AP MLD invokes EPCS priority access on-demand when instructed to do so by a higher layer function, such as an authorized user or a managed service provider that detects the need for priority. The process for detecting the need for EPCS priority access by the higher layer function is outside the scope of this standard.

<sup>6</sup>For example, EPCS in the United States is called National Security and Emergency Preparedness (NS/EP) service that includes the Government Emergency Telecommunications Service and the Wireless Priority Service and run on commercial wireline and cellular networks, respectively.

<sup>7</sup>Priority access capabilities to support these services in other types of networks are defined in appropriate international standards, (e.g., the Multimedia Priority Service (MPS) was defined in 3GPP for use in wireless cellular networks).

A non-AP MLD enables EPCS priority access by sending an EPCS Priority Access Enable Request frame (see 9.6.38.5) to an associated AP MLD that advertises the capability. A non-AP MLD can send the request on any available enabled link between the non-AP MLD and the AP MLD. The AP MLD authorizes the non-AP MLD using either locally stored verification information or information obtained from a service provider supporting EPCS via other means, such as the SSPN interface (see 11.22.5) and sends an EPCS Priority Access Enable Response frame (see 9.6.38.6) to the non-AP MLD. If the non-AP MLD is authorized, EPCS priority access will be enabled on all links the non-AP MLD has set up with the AP MLD. Alternatively, the AP MLD can enable EPCS priority access by sending an unsolicited EPCS Priority Access Enable Request frame (see 9.6.38.5) to a non-AP MLD and the non-AP MLD confirms the request by sending an EPCS Priority Access Enable Response frame. An AP MLD can send the request on any available enabled link between the AP MLD and non-AP MLD and EPCS priority access will be enabled on all links within the MLD.

While the EPCS priority access is enabled, all traffic to and from the non-AP MLD is treated with a higher priority, as described in 35.16.3. EPCS priority access is applied individually for each link within an MLD. Either the AP MLD or the non-AP MLD can tear down EPCS priority access by transmitting an EPCS Priority Access Teardown frame (see 9.6.38.7).

## 4.9 Reference model

### 4.9.4 Reference model for multi-band operation

*Change the second paragraph as follows:*

A multi-band capable device can manage operation over more than one frequency band/channel using transparent FST and nontransparent FST. The operation across the different frequency bands/channels using transparent FST and nontransparent FST can be simultaneous or nonsimultaneous.

*Insert the following new subclause at the end of subclause 4.9 (Reference model):*

### 4.9.6 Reference model for multi-link operation (MLO)

MLO defines a set of procedures allowing communication over one or more links between MLDs. An MLD manages such communication over one or more links. Communication over links using different channels on different frequency bands or the same frequency band can occur simultaneously or not depending on the capabilities of both the AP MLD and the non-AP MLD (see 35.3.16.3 and 35.3.16.4).

The MLO procedures (see 35.3) allow a pair of MLDs to discover, synchronize, (de)authenticate, (re)associate, disassociate, and manage links and other resources with each other on any common bands or channels that are supported by both MLDs.

Each MLD has a single MAC-SAP. Each STA affiliated with an MLD has a MAC address different from any other STA affiliated with the same MLD.

An example of an AP MLD with two affiliated APs (Link 1 and Link 2) is shown in Figure 4-33a. The figure shows an AP MLD with MLD MAC address *M* and the MLD lower MAC entities of two affiliated APs (AP1 with MAC address *w* and AP2 with MAC address *x*). The AP MLD is associated with a non-AP MLD with MLD MAC address *P* and the MLD lower MAC entities of two affiliated non-AP STAs (non-AP STA1 with MAC address *y* and non-AP STA2 with MAC address *z*) are shown. Link 1 is established between AP1 and non-AP STA1 and link 2 is established between AP2 and non-AP STA2. In general, the MAC address of an MLD and the MAC addresses of the STAs affiliated with the MLD are all different (e.g., *M*, *P*, *w*, *x*, *y*, and *z* have different values). However, the architecture supports an implementation where *M* could equal either *w* or *x*, and where *P* could equal *y* or *z*.

![](4303ddaf5ad09021ea1c0e0e57c7b82e_img.jpg)

Diagram illustrating the communication system between two MLDs (MLD 1 and MLD 2) via their affiliated STAs (STA 1 and STA 2) for individually addressed MSDUs.

The diagram shows the IEEE 802.1X framework, including the IEEE 802.1X Authenticator or Supplicant and RSNA Key Management, connected to the MAC SAP.

MLD 1 (Left) and MLD 2 (Right) are connected to the SME (Service Management Entity).

MLD 1 components (from top to bottom): MAC SAP, MLD Upper MAC Sublayer (Non-MLD Upper MAC Sublayer), MAC Sublayer Management Entity, MLD Lower MAC Entity, MLME-PLME SAP, PHY SAP, PHY Management Entity, PHY.

MLD 2 components (from top to bottom): MAC SAP, MLD Upper MAC Sublayer (Non-MLD Upper MAC Sublayer), MAC Sublayer Management Entity, MLD Lower MAC Entity, PHY SAP, MLME-PLME SAP, PHY Management Entity, PHY.

Link 1 (STA 1): (i.e., an AP1 affiliated with an AP MLD or a STA1 affiliated with a non-AP MLD (e.g., in 2.4 GHz)).

Link 2 (STA 2): (i.e., an AP2 affiliated with an AP MLD or a STA2 affiliated with a non-AP MLD (e.g., in 5 GHz or 6GHz)).

Figure 4-33a—Example communication system between two MLDs via their affiliated STAs (for individually addressed MSDUs)

The reference model of an MLD (see 35.3) is shown in Figure 4-33b.

NOTE 1—For simplicity, Figure 4-33b depicts the reference model when there are two links.

NOTE 2—The SME boundary top is left open in Figure 4-33b to indicate that the SME can contain other functions that are not defined by this standard.

![Figure 4-33b shows the Reference model for an MLD (Multi-Link Data) for two links. The diagram illustrates two parallel link structures, Link 1 and Link 2, sharing a common MLD Upper MAC Sublayer and MLD Lower MAC Entities. The MLD Upper MAC Sublayer contains the MAC-SAP (MAC Service Access Point). The MLD Lower MAC Entities contain the AP1 (MAC addr=w) and AP2 (MAC addr=x) for Link 1, and Non-AP STA1 (MAC addr=y) and Non-AP STA2 (MAC addr=z) for Link 2. The AP1 and AP2 are associated with the AP MLD (MAC addr=M). The Non-AP STA1 and Non-AP STA2 are associated with the Non-AP MLD (MAC addr=P). The MAC-SAPs are connected to the MLD Lower MAC Entities via Link 1 and Link 2, respectively. The MLD Upper MAC Sublayer is connected to the MLD Lower MAC Entities. The MLD Upper MAC Sublayer is also connected to the DS (Data Stream) via an upward arrow.](e931edfeb30764a64be2a430ccb6f928_img.jpg)

Figure 4-33b shows the Reference model for an MLD (Multi-Link Data) for two links. The diagram illustrates two parallel link structures, Link 1 and Link 2, sharing a common MLD Upper MAC Sublayer and MLD Lower MAC Entities. The MLD Upper MAC Sublayer contains the MAC-SAP (MAC Service Access Point). The MLD Lower MAC Entities contain the AP1 (MAC addr=w) and AP2 (MAC addr=x) for Link 1, and Non-AP STA1 (MAC addr=y) and Non-AP STA2 (MAC addr=z) for Link 2. The AP1 and AP2 are associated with the AP MLD (MAC addr=M). The Non-AP STA1 and Non-AP STA2 are associated with the Non-AP MLD (MAC addr=P). The MAC-SAPs are connected to the MLD Lower MAC Entities via Link 1 and Link 2, respectively. The MLD Upper MAC Sublayer is connected to the MLD Lower MAC Entities. The MLD Upper MAC Sublayer is also connected to the DS (Data Stream) via an upward arrow.

Figure 4-33b—Reference model for an MLD for two links

An MLD supports multiple MAC functions, with synchronization across the MAC functions as needed via the MLD synchronization service (see 35.3.25) and otherwise coordinated by the SME. Each affiliated STA is enumerated with a Link ID (for example, as Link 1 and Link 2 in Figure 4-33b) and MLME primitives are invoked through an MLME SAP.

The SME maintains the authentication and association states. The Authenticator and the MAC-SAP of the AP MLD are identified by the same AP MLD MAC address. The Supplicant and the MAC-SAP of the non-AP MLD are identified by the same non-AP MLD MAC address.

The SME is responsible for coordinating the MLD and each of the affiliated STAs through the MLME, and to maintain an RSNA key management entity and IEEE 802.1X Authenticator or Supplicant, for MLO.

In an MLD, the MAC Sublayer is divided into an MLD upper MAC sublayer and an MLD lower MAC entity. The MLD upper MAC sublayer performs functionalities that are common across all links, and the MLD lower MAC entity (shared with an AP or non-AP STA affiliated with the MLD) performs functionalities that are local to each link. Some of the functionalities require joint processing of both the MLD upper MAC sublayer and the MLD lower MAC entity.

An AP MLD always operates in cooperation with one or more affiliated APs, one for each link. The MLD lower MAC entities implement link specific functions that operate independently of the lower MAC in other affiliated APs. Use of these MLD lower MAC functions is shared by the AP MLD's upper MAC sublayer, and the affiliated AP's upper MAC sublayer (see Figure 4-33c). Some behaviors of MLO require the use of one or more affiliated APs' upper MAC sublayer components. In particular, the affiliated APs' upper MAC sublayer components support group addressed traffic, and any individually addressed traffic to or from any non-MLD non-AP STAs. The high-level structure of an AP MLD along with its affiliated APs is shown in Figure 4-33c.

![](7f4cf6128a3f5c1bae150ec6cbe13d7b_img.jpg)

Figure 4-33 illustrates the high-level structure for AP MLD with affiliated APs. The diagram shows three main components: AP MLD (center), Affiliated AP (left), and Affiliated AP (right).

**AP MLD Structure:**

- MLD upper MAC sublayer (Individually addressed traffic to/from MLD peer STAs; DL group addressed traffic to affiliated APs).
- MLD lower MAC entity.
- PHY 1.
- Link 1 BSS (Mixed (MLD & non-MLD)).

**Affiliated AP Structure (Left):**

- Non-MLD upper MAC sublayer (traffic to/from non-MLD peer STAs and group addressed traffic).
- MLD lower MAC entity.
- PHY 1.
- Link 1 BSS (Mixed (MLD & non-MLD)).

**Affiliated AP Structure (Right):**

- Non-MLD upper MAC sublayer (traffic to/from non-MLD peer STAs and group addressed traffic).
- MLD lower MAC entity.
- PHY n.
- Link n BSS (Mixed (MLD & non-MLD)).

**Interconnections:**

- AP MLD MLD upper MAC sublayer receives Groupcast distribution from both Affiliated AP Non-MLD upper MAC sublayers.
- AP MLD MLD upper MAC sublayer sends Groupcast distribution to both Affiliated AP Non-MLD upper MAC sublayers.
- AP MLD MLD lower MAC entity connects to Affiliated AP MLD lower MAC entities.
- AP MLD PHY 1 connects to Affiliated AP PHY 1.
- AP MLD PHY 1 connects to Affiliated AP PHY n.
- AP MLD Link 1 BSS connects to Affiliated AP Link 1 BSS.
- AP MLD Link 1 BSS connects to Affiliated AP Link n BSS.

**Authentication:**

- AP MLD MLD upper MAC sublayer is associated with IEEE 802.1X Authenticator.
- AP MLD MLD lower MAC entity is associated with IEEE 802.1X Authenticator.
- Left Affiliated AP Non-MLD upper MAC sublayer is associated with IEEE 802.1X Authenticator.
- Right Affiliated AP Non-MLD upper MAC sublayer is associated with IEEE 802.1X Authenticator.

Figure 4-33—High level structure for AP MLD with affiliated APs

NOTE 3—The high-level structure of an NSTR mobile AP MLD operating on an NSTR link pair has an affiliated AP non-MLD upper MAC sublayer (traffic to/from non-MLO peer STAs and group addressed MLD traffic) only for the primary link of the NSTR link pair.

NOTE 4—A more detailed view of the structure of an AP MLD and operation of its SAPs is discussed in 5.1.5.1, in relation to Figure 5-2b.

NOTE 5—The non-MLD upper MAC sublayer of an affiliated AP of the AP MLD is defined in Figure 5-2b.

The non-AP MLD reference model includes the MLD upper MAC sublayer and one or more MLD lower MAC entities (one for each link). The MLD upper MAC sublayer performs functionalities that are common across all links, and each MLD lower MAC entity (corresponding to a STA affiliated with the MLD) performs functionalities that are local to each link. The single upper MAC within a non-AP MLD can operate at any given time as either MLO over one or more lower MAC and PHY pairs for association to an AP MLD, or as a non-MLD non-AP STA using only one lower MAC and PHY pair for association to an AP (which might or might not be affiliated with an AP MLD). A single Supplicant on the non-AP MLD manages the PTKSA, and multiple group key security associations (one set per link). The MLO reference architecture is shown in Figure 4-33d.

NOTE 6—The reference architecture of Figure 4-27 (Portion of the ISO/IEC basic reference model covered in this standard) applies when operating as a non-MLD non-AP STA.

![](d7ce27646f87a7bec81474bed33145ef_img.jpg)

Diagram illustrating the high level architecture for non-AP MLD (Multi-Link Distribution) with affiliated non-AP STAs (Station As).

The diagram shows two main components, both labeled "Affiliated STA":

- **Non-AP MLD:** This component contains the MLD upper MAC sublayer, which handles individually addressed traffic and received group addressed traffic. It also includes an IEEE 802.1X Supplicant and Data frames.
- **MLD lower MAC entities:** These entities are associated with PHY layers (PHY 1, ..., PHY n) and Link BSSs (Link 1 BSS, ..., Link n BSS). The MLD upper MAC sublayer connects to the MLD lower MAC entities.

The MLD lower MAC entities are connected to their respective PHY layers, which are connected to their respective Link BSSs.

Figure 4-33d—High level architecture for non-AP MLD with affiliated non-AP STAs

## 5. MAC service definition

### 5.1 Overview of MAC services

#### 5.1.5 MAC data service architecture

##### 5.1.5.1 General

*Insert the following paragraphs at the end of this subclause:*

For MLO, one or more links are used for communication between the AP MLD and non-AP MLD after MLD (re)setup as described in 35.3.5. The MAC data plane architecture with  $n$  links (i.e., processes that involve transport of all or part of an MSDU) for individually addressed Data frames is shown in Figure 5-2a) for individually addressed Data frames.

During transmission, an MSDU from the MAC SAP goes through the processes shown in the left hand side of Figure 5-2a, then through the TTLM process (see 35.3.7.2) that forwards the MPDU(s) based on the TID of the MPDU(s) down to one or more of the MLD lower MAC entities and then to the corresponding PHY SAP.

During reception, MPDUs originating from different PHY SAPs first go through an MLD lower MAC entity, followed by a merging process (first-in first-out), and then go through the rest of the processes in the right-hand side of Figure 5-2a. Then, one or more MSDUs are delivered to the LLC sublayer via the MAC SAP or to the DS via the DSAP. If an MSDU arrives at a disabled IEEE 802.1X Controlled/Uncontrolled Port and the MSDU does not represent an IEEE 802.1X frame, then the MSDU is discarded.

NOTE 2—Many of the processes shown in Figure 5-2a also apply to MLD-level MMPDU flows for the MAC control plane architecture, and the processes shown at the MLD lower MAC entity also apply to Control and Extension frames.

In MLO, the same security association (PTKSA) is used to encrypt the individually addressed MPDUs and MMPDUs prior to transmission on any of the links. The same security association (PTKSA) is used to decrypt the individually addressed MPDUs and MMPDUs received on any of the links.

For an AP MLD to support group addressed transmissions and also associations from non-MLD non-AP STAs, Figure 5-2a is combined with  $n$  affiliated APs, within a structure as shown in Figure 4-33c. The affiliated APs' upper MAC sublayer components are mostly the same as those for the AP MLD except that

1. The TTLM and link merging functions are not present,
2. The group addressed security associations (GTK, IGTK, and BIGTK) are per link, and
3. The cryptographic encapsulation of the traffic to and from the associated non-AP STAs (not in MLO) uses the pairwise transient keys (PTKs) established using the single link security associations.

The overall structure is as shown in Figure 5-2b.

IEEE Std 802.11be-2024  
IEEE Standard for Information Technology—Local and Metropolitan Area Networks—Specific Requirements  
Part 11: Wireless LAN MAC and PHY Specifications  
Amendment 2: Enhancements for Extremely High Throughput (EHT)

![](a972ca1187ea7285bc4009055bcedd34_img.jpg)

Diagram illustrating the MAC data plane architecture for an MLD exchanging individually addressed Data frames with a peer MLD.

**Legend:**  
(M) – MAC SAP  
(U) – Uncontrolled port  
(C) – Controlled port

**Layers and Entities:**

- Upper Layers: 802.1X PAE, Local Higher Layer Entities.
- LLC sublayer: LPD/EPD, 802.1AC convergence function.
- 802.11 convergence, bridging and related functions.
- Role-specific behavior (For AP role specific behavior this connection is not present).
- IEEE 802.1X Controlled and Uncontrolled Port Filtering (optional):
  - (a) RX/TX MSDU Rate Limiting
  - (b) A-MSDU Aggregation (TX) / De-aggregation (RX)
  - PS Defer Queuing<sup>1</sup> (AP MLD Only)
  - Sequence Number Assignment
  - Packet Number Assignment
  - MPDU Encryption
  - TID-to-Link mapping<sup>2</sup>
  - Link Merging
  - Replay Detection<sup>1</sup> Per PN (optional)
  - Block Ack Buffering and Reordering per SN
  - MPDU Decryption
  - Duplicate Detection per SN
  - Block Ack Scoreboarding
- MSDU Flow - Transmitting
- MSDU Flow - Receiving
- MLD upper MAC sublayer: Common functions
- MLD lower MAC entity: Per-link functions

**Per-link Functions (PHY of Link 1 and PHY of Link n):**

- MPDU Header + CRC Creation
- Block Ack Scoreboarding
- Address 1 address filtering
- MPDU Header + CRC Validation
- A-MPDU Aggregation
- A-MPDU De-aggregation

**PHY SAP:** PHY of Link 1, PHY of Link n

<sup>1</sup>AP MLD buffers an individually addressed frame if all the affiliated non-AP STAs, for which the TID of the MPDU carried in the frame is mapped to, are in the doze state.

<sup>2</sup>TID-to-link mapping controls in which link an MPDU can be transmitted.

Figure 5-2a—MAC data plane architecture for an MLD exchanging individually addressed Data frames with a peer MLD

IEEE Std 802.11be-2024  
IEEE Standard for Information Technology—Local and Metropolitan Area Networks—Specific Requirements  
Part 11: Wireless LAN MAC and PHY Specifications  
Amendment 2: Enhancements for Extremely High Throughput (EHT)

![](a4e0669301c5e0eecbdfc18f319ba1c7_img.jpg)

Legend:  
(M) – MAC SAP  
(U) – Uncontrolled port  
(C) – Controlled port

Diagram illustrating the MAC data plane architecture for AP MLD and affiliated APs for individually addressed frames.

The diagram shows three main entities: Affiliated AP 1, AP MLD, and Affiliated AP n. Each entity connects to its respective IEEE 802.1X PAE (Port Access Entity).

Each PAE connects to a Controlled and Uncontrolled Port Filtering (optional) block, which interfaces with the DS (Distributed System).

The Controlled and Uncontrolled Port Filtering block contains the following functions:

- 802.1X MSDU Rate Limiting
- A-MSDU Aggregation (TX) / De-aggregation (RX)
- PS Defer Queuing
- Sequence Number Assignment
- Packet Number Assignment
- MPDU Encryption
- Block Ack Scoreboarding

These blocks are grouped under the MLD upper MAC sublayer: MLD Common functions.

The MLD upper MAC sublayer also includes:

- MPDU distribution by TA
- CRC Creation
- Block Ack Scoreboarding
- Address 1 address filtering
- MPDU Header + CRC Validation
- A-MPDU Aggregation
- A-MPDU De-aggregation

The MLD lower MAC entity (Per-link functions) is connected to the PHY of Link 1 and PHY of Link n.

Footnotes:

1. AP MLD buffers an individually addressed frame if all the affiliated non-AP STAs, for which the TID of the MPDU carried in the frame is mapped to, are in the doze state.
2. TID-to-link mapping controls in which link an MPDU can be transmitted.
3. The three instances of DS refer to the same DS.

Figure 5-2b—MAC data plane architecture for AP MLD and affiliated APs for individually addressed frames

An additional function is added for data MPDU reception to distribute the MPDUs to the appropriate upper MAC entity based on the type of association with the peer, which is tracked per TA. Individually and group addressed MPDUs received over any link from a non-AP STA affiliated with a non-AP MLD are delivered to the AP MLD upper MAC, and MPDUs from non-MLD non-AP STAs are delivered to the affiliated AP upper MAC for that link.

The DSAF of an affiliated AP discards group addressed MSDUs received from the DS. The AP MLD receives group addressed MSDUs and assigns a sequence number prior to distributing the group addressed

frames to the affiliated APs for transmission. The AP MLD and affiliated APs then coordinate to buffer (if appropriate), assign packet numbers, and encrypt the resulting MPDU in the individual affiliated APs' stacks. The GTK of an affiliated AP is used to encrypt the group addressed MMPDUs and MMPDUs prior to transmission on the link managed by that affiliated AP. Group addressed MMPDUs generated within the AP MLD upper MAC sublayer are distributed to the intended affiliated APs for transmission. On a non-AP STA affiliated with a non-AP MLD, the GTK of the transmitting AP is used to decrypt the group addressed MMPDUs and MMPDUs received from that AP.

NOTE 3—How the AP MLD distributes group addressed frames to the affiliated APs and coordinates the preparation of these frames for transmission is implementation specific.

*Insert the following new subclause at the end of 5.1.5.1:*

#### 5.1.5.1a MLD MAC sublayer functions

The MLD upper MAC sublayer functions include:

- Authentication, association, and reassociation (between an AP MLD and a non-AP MLD)
- Security association (e.g., PMKSA, PTKSA) and distribution of GTK/IGTK/BIGTK
- SN/PN assignment for frames to be encrypted by PTK for individually addressed frames
- SN assignment for group addressed MSDUs
- Power save buffering of individually addressed frames (only on AP MLD)
- Encryption/decryption using PTK for individually addressed frames
- Selection of the MLD lower MAC entity for transmission (TID-to-link mapping (see 35.3.7.2))
- Merging reception of MPDUs from two or more links
- Reordering of packets to ensure in-order delivery per each Block Ack session
- Block Ack scoreboarding for individually addressed frames (in collaboration with the MLD lower MAC entities). Optionally, the MLD upper MAC sublayer delivers successful status records of MPDUs and/or scoreboard context control information on Block Ack scoreboarding at one of the setup links to other setup links (see 35.3.8)
- MLD level management information exchange/indication via the MLD lower MAC entity
- Each affiliated STA selects its own EDCA parameters (for a non-AP STA it comes from the peer AP on that link).

The affiliated (non-MLO) upper MAC sublayer functions (only on AP) include:

- Non-ML peer operations, above the MLD lower MAC entity
- Maintenance of link specific GTK/IGTK/BIGTK (between an AP affiliated with the AP MLD and a non-AP STA affiliated with the non-AP MLD)
- Link specific encryption/decryption/integrity protection and PN assignment using GTK/IGTK/BIGTK (between an AP affiliated with the AP MLD and a non-AP STA affiliated with the non-AP MLD)
- Link-specific management info exchange/indication (e.g., Beacon frame)
- Power save buffering of group addressed frames

The MLD lower MAC entity functions include:

- Link specific control information exchange/indication (RTS/CTS, acknowledgements, NDP, etc.)
- Power save state and mode
- MAC address filtering for frame reception
- Block Ack scoreboarding for individually addressed frames (in collaboration with the MLD upper MAC sublayer). Optionally, the MLD lower MAC entity receives the successful status records of the

MPDUs and/or scoreboard context control information of the Block Ack agreement from the MLD upper MAC sublayer) (see 35.3.8)

**NOTE 3**—The above functionality partitioning is meant for modeling the functionalities of each MAC sublayer and is not meant for describing the MAC sublayer in which the actual implementation of each function should reside.

**NOTE 4**—The Block Ack scoreboard maintenance might be either at the MLD upper MAC sublayer or the MLD lower MAC entity, or both. The maintenance might involve collaboration between the MLD upper MAC sublayer and MLD lower MAC entity.

When MLO is being used, the “Block Ack Scoreboarding” block in the MLD upper MAC sublayer manages the scoreboard context control and may manage the reception status in the setup links where the Block Ack session is established between the two MLDs. The “Block Ack Scoreboarding” block in the MLD lower MAC entity manages at least the Block Ack status of the MPDUs (of this Block Ack session) that are received on this link. The MLD lower MAC entity may convey Block Ack status of the MPDUs received on another link if it obtained such info from the other link. The “Block Ack Scoreboarding” block in the affiliated AP upper MAC sublayer manages the Block Ack status of the successfully received MPDUs from a STA that is not affiliated with a non-AP MLD over the corresponding link. In an implementation, this function may be distributed into the MLD lower MAC entity.

*Insert the following new subclauses at the end of 5.1.5:*

#### 5.1.5.10 Non-AP MLD role

The MAC data plane architecture of a non-AP MLD as shown in Figure 5-2a is completed by replacing the role-specific behavior block with that shown in Figure 5-10a. The function of this block in a non-AP MLD is to perform destination address filtering as described in 10.2.8.

**NOTE**—In implementations, the DA address filtering function might be done “lower in the stack.” It is shown in the role-specific behavior block location for simplicity, and any implementation choice needs to provide equivalent behavior.

![Diagram illustrating the role-specific behavior block for a non-AP MLD. It shows a rectangular block with vertical arrows indicating flow, and a dashed line pointing to the top edge labeled 'DA address filtering'.](385b1a6003e894d2e5fc4ca808487285_img.jpg)

Diagram illustrating the role-specific behavior block for a non-AP MLD. It shows a rectangular block with vertical arrows indicating flow, and a dashed line pointing to the top edge labeled 'DA address filtering'.

Figure 5-10a—Role-specific behavior block for a non-AP MLD

#### 5.1.5.11 AP MLD role

In an AP MLD, the MAC data plane architecture as shown in Figure 5-2a and Figure 5-2b includes Distribution System (DS) access in its role-specific behavior block, as shown in Figure 5-10b. This block provides access to the DS for associated non-AP MLDs as described in 4.5.2.1.

**NOTE**—This behavior block indicates that there is no access through the controlled port to or from the local higher layers (e.g., the LLC sublayer) at an AP MLD. Any such access is logically achieved in the architecture via transition of the DS and Portal to an integrated LAN. In actual implementations, this is likely to be optimized, and Data frames appear to be delivered directly to one or more local LLC sublayer entities on the same physical device as the AP MLD. Such optimization is effectively distributing the functions of the DS and Portal, and it is the responsibility of the implementation to ensure the logical behavior of these entities is maintained.

![](ff0299b306c850173d9aac7783bf1780_img.jpg)

Diagram illustrating the role-specific behavior block for an AP MLD (Multi-Link Distribution).

The diagram shows a flow involving a DSAP (Data Service Access Point) and a DSF (Data Service Function) within a block, connected to a Distribution System (DS) cloud, which is connected to Other APs/Mesh Gates/Portal in the ESS.

Key elements and flow:

- Inside the DSF block, there is a loop between (Q) and (DS SAP).
- The DSF block connects to the DS cloud.
- The DS cloud connects to Other APs/Mesh Gates/Portal in the ESS.
- A note indicates: \* - DSS may conceptually be provided by the "recursive" use of a network stack.

Figure 5-10b—Role-specific behavior block for an AP MLD

## 5.2 MAC data service specification

### 5.2.4 MA-UNITDATA.request

#### 5.2.4.2 Semantics of the service primitive

*Change the primitive parameters as follows (not all existing parameters are shown):*

The parameters of the primitive are as follows:

MA-UNITDATA.request(

```
...  
MSDU format,  
radio environment request vector,  
SCSID  
)
```

*Insert the following paragraph as the last paragraph of the subclause:*

If dot11SCSActivated is equal to true, the SCSID is a nonzero value that identifies the SCS stream to which the MSDU belongs; it is not present otherwise.

## 6. Layer management

### 6.1 Overview of management model

*Insert the following NOTE at the end of the subclause:*

NOTE—The MAC MIBs in an MLD are subject to synchronization requirements as defined in 35.3.26.

### 6.3 MLME SAP interface

#### 6.3.1 Introduction

*Insert the following paragraph as the second last paragraph of the subclause after the paragraph (“The primitives generally include a STA Address or...”):*

For MLO, the MLD SME invokes MLME SAP primitives through an MLME SAP. When a primitive is invoked for an affiliated STA, the affiliated STA can be identified by its Link ID.

### 6.4 Table of MLME SAP interfaces

*Insert the following entries at the end of Table 6-1 (not all entries are shown):*

Table 6-1—MLME SAP interface

| Service Name                       | MLME-XXX                     | Type | References            | Comments                                 |
|------------------------------------|------------------------------|------|-----------------------|------------------------------------------|
| EPCS priority access               | EPCSPRIACCESENABLE           | 1    | 9.6.38.5,<br>9.6.38.6 | See<br>9.4.2.322.6<br>and 35.16          |
|                                    | EPCSPRIACCESSPARAUPDATE      | 3    | 9.6.38.6              |                                          |
|                                    | EPCSPRIACCESSTEARDOWN        | 3    | 9.6.38.7              |                                          |
| TTLM                               | TIDTOLINKMAPPING             | 1    | 9.6.38.2,<br>9.6.38.3 | See<br>9.4.2.322.5<br>and 35.3.7         |
|                                    | TIDTOLINKMAPPINGTEARDO<br>WN | 3    | 9.6.38.4              |                                          |
| EML operating mode<br>notification | EMLOPERATINGMODENOTIF        | 3    | 9.6.38.8              | See 9.4.1.76,<br>35.3.17, and<br>35.3.18 |
| Link disable                       | BSS-LINK-DISABLE             | 4    | 6.5.30                | See 35.3.7.5                             |
| Link enable                        | BSS-LINK-ENABLE              | 4    | 6.5.31                | See 35.3.7.5                             |
| AP removal                         | BSS-AP-REMOVAL               | 4    | 6.5.32                | See 35.3.6.3                             |

## 6.5 MLME SAP primitives

### 6.5.3 Scan

#### 6.5.3.2 MLME-SCAN.request

##### 6.5.3.2.2 Semantics of the service primitive

*Change the primitive parameters as follows (not all existing parameters are shown):*

The primitive parameters are as follows:

```
MLME-SCAN.request(  
    ...,  
    EHTCapabilities,  
    VendorSpecificInfo  
)
```

| Name               | Type                                   | Valid range                                          | Description                                                                                                                                                                                |
|--------------------|----------------------------------------|------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ScanType           | Enumeration                            | ACTIVE, PASSIVE,<br>TDD PASSIVE,<br>MULTI-LINK PROBE | Indicates active, passive, or TDD passive scanning, or multi-link probe.                                                                                                                   |
| EHTCapabilities    | As defined in EHT Capabilities element | As defined in 9.4.2.323                              | Specifies the parameters in the EHT Capabilities element that are supported by the STA or the MLD. The parameter is present if dot11EHTOption-Implemented is true; otherwise, not present. |
| VendorSpecificInfo | A set of elements                      | As defined in 9.4.2.24 (Vendor Specific element)     | Zero or more elements.                                                                                                                                                                     |

### 6.5.3.3 MLME-SCAN.confirm

#### 6.5.3.3.2 Semantics of the service primitive

*Insert the following rows to the end of the untitled IBSS adoption table:*

| Name             | Type                                   | Valid range             | Description                                                                                                                                                                                                                                                                                                                                | IBSS adoption |
|------------------|----------------------------------------|-------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
| EHT Capabilities | As defined in EHT Capabilities element | As defined in 9.4.2.323 | The value from the EHT Capabilities element. The parameter is present if dot11EHTOptionImplemented is true and an EHT Capabilities element was present in the Probe Response or Beacon frame from which the BSSDescription was determined. Otherwise, the parameter is not present.                                                        | Do not adopt  |
| EHT Operation    | As defined in frame format             | As defined in 9.4.2.321 | The value from the EHT Operation element. The parameter is present if dot11EHTOptionImplemented is true and an EHT Operation element was present in the Probe Response or Beacon frame from which the BSSDescriptionSet was determined. Otherwise, the parameter is not present.                                                           | Adopt         |
| MultiLink        | As defined in frame format             | As defined in 9.4.2.322 | The value from the Multi-Link element. The parameter is present if dot11MultiLinkActivated is true, a Basic Multi-Link element was present and a Reconfiguration Multi-Link element was optionally present in the Probe Response or Beacon frame from which the BSSDescriptionSet was determined. Otherwise, the parameter is not present. | Do not adopt  |

| Name                          | Type                       | Valid range             | Description                                                                                                                                                                                                                                                                                                                                              | IBSS adoption |
|-------------------------------|----------------------------|-------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
| Multi-Link Traffic Indication | As defined in frame format | As defined in 9.4.2.325 | The value from the Multi-Link Traffic Indication element. The parameter is present if dot11MultiLinkTrafficIndicationActivated is true and a Multi-Link Traffic Indication element was present in the Probe Response or Beacon frame from which the BSSDescriptionSet was determined. Otherwise, the parameter is not present.                           | Do not adopt  |
| TTLM                          | As defined in frame format | As defined in 9.4.2.324 | The value from the TID-To-Link Mapping element. The parameter is optionally present if dot11MultiLinkActivated is true, dot11TIDtoLinkMappingActivated is true, and one or two TID-To-Link Mapping elements were present in the Probe Response or Beacon frame from which the BSSDescriptionSet was determined. Otherwise, the parameter is not present. | Do not adopt  |

#### 6.5.4 Synchronization

##### 6.5.4.2 MLME-JOIN.request

###### 6.5.4.2.2 Semantics of the service primitive

*Change the primitive parameters as follows (not all existing parameters are shown):*

The primitive parameters are as follows:

MLME-JOIN.request(

```
...  
EHTCapabilities,  
MultiLink,  
VendorSpecificInfo  
)
```

| Name               | Type                                   | Valid range             | Description                                                                                                                                                                    |
|--------------------|----------------------------------------|-------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| EHTCapabilities    | As defined in EHT Capabilities element | As defined in 9.4.2.323 | Specifies the parameters in the EHT Capabilities element that are supported by the STA. The parameter is present if dot11EHTOptionImplemented is true; otherwise, not present. |
| MultiLink          | Basic Multi-Link element               | As defined in 9.4.2.322 | Indicates the ML parameters of the MLD. This parameter is present if dot11MultiLinkActivated is true and is absent otherwise.                                                  |
| VendorSpecificInfo | A set of elements                      | As defined in 9.4.2.24  | Zero or more elements.                                                                                                                                                         |

## 6.5.5 Authenticate

### 6.5.5.1 Introduction

*Insert the following paragraph after the first paragraph ("This mechanism supports..."):*

When related to MLD management, refer to 1.4 for more information.

### 6.5.5.2 MLME-AUTHENTICATE.request

#### 6.5.5.2.2 Semantics of the service primitive

*Change the primitive parameters as follows (not all existing parameters are shown):*

The primitive parameters are as follows:

MLME-AUTHENTICATE.request( ...  
MultiLink,  
Recommended Link,  
VendorSpecificInfo  
)

| Name               | Type                     | Valid range             | Description                                                                                                                                                                                                                                                                                                                                                                                               |
|--------------------|--------------------------|-------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| MultiLink          | Basic Multi-Link element | As defined in 9.4.2.322 | Indicates the ML parameters of the local MLD. This parameter is present if dot11MultiLinkActivated is true and is absent otherwise.                                                                                                                                                                                                                                                                       |
| Recommended Link   | Link ID subfield         | 0-15                    | Indicates a value that uniquely identifies the link upon which the Authentication frame can be transmitted by a non-AP STA affiliated with a non-AP MLD. This parameter is present if dot11MultiLinkActivated is true and if the SME is recommending one of links among those advertised by the APs affiliated with AP MLD on which the Authentication frame can be transmitted. Otherwise, it is absent. |
| VendorSpecificInfo | A set of elements        | As defined in 9.4.2.24  | Zero or more elements.                                                                                                                                                                                                                                                                                                                                                                                    |

#### 6.5.5.2.3 When generated

*Change the first paragraph as follows:*

This primitive is generated by the SME for a STA to establish authentication with a specified peer MAC entity in order to permit Class 2 frames, or mesh peering Management frames for AMPE utilizing SAE authentication, to be exchanged between the two STAs; or for an MLD to establish authentication with a specified peer MAC entity in order to permit Class 2 frames to be exchanged between the two MLDs. During the authentication procedure, the SME might generate additional MLME-AUTHENTICATE.request primitives.

#### 6.5.5.2.4 Effect of receipt

*Change the first paragraph as follows:*

This primitive initiates an authentication procedure. In the case that a response is received from the responder STA or MLD, the MLME subsequently issues an MLME-AUTHENTICATE.confirm primitive that reflects the results.

#### 6.5.5.3 MLME-AUTHENTICATE.confirm

##### 6.5.5.3.2 Semantics of the service primitive

*Change the primitive parameters as follows (not all existing parameters are shown):*

The primitive parameters are as follows:

MLME-AUTHENTICATE.confirm  
...  
MultiLink,  
VendorSpecificInfo  
)

| Name               | Type                     | Valid range             | Description                                                                                                                        |
|--------------------|--------------------------|-------------------------|------------------------------------------------------------------------------------------------------------------------------------|
| MultiLink          | Basic Multi-Link element | As defined in 9.4.2.322 | Indicates the ML parameters of the peer MLD. This parameter is present if dot11MultiLinkActivated is true and is absent otherwise. |
| VendorSpecificInfo | A set of elements        | As defined in 9.4.2.24  | Zero or more elements.                                                                                                             |

#### 6.5.5.4 MLME-AUTHENTICATE.indication

##### 6.5.5.4.1 Function

*Change the first paragraph as follows:*

This primitive indicates receipt of a request from a specific peer MAC entity to establish an authentication relationship with the STA or MLD processing this primitive.

##### 6.5.5.4.2 Semantics of the service primitive

*Change the primitive parameters as follows (not all existing parameters are shown):*

The primitive parameters are as follows:

MLME-AUTHENTICATE.indication  
...  
MultiLink,  
VendorSpecificInfo  
)

| Name               | Type                     | Valid range             | Description                                                                                                                        |
|--------------------|--------------------------|-------------------------|------------------------------------------------------------------------------------------------------------------------------------|
| ...                |                          |                         |                                                                                                                                    |
| MultiLink          | Basic Multi-Link element | As defined in 9.4.2.322 | Indicates the ML parameters of the peer MLD. This parameter is present if dot11MultiLinkActivated is true and is absent otherwise. |
| VendorSpecificInfo | A set of elements        | As defined in 9.4.2.24  | Zero or more elements.                                                                                                             |

#### 6.5.5.5 MLME-AUTHENTICATE.response

##### 6.5.5.5.1 Function

*Change the first paragraph as follows:*

This primitive is used to send a response to a specific peer MAC entity that requested authentication with the STA, or MLD that issued this primitive.

##### 6.5.5.5.2 Semantics of the service primitive

*Change the primitive parameters as follows (not all existing parameters are shown):*

The primitive parameters are as follows:

MLME-AUTHENTICATE.response(

...  
MultiLink,  
VendorSpecificInfo  
)

| Name               | Type                     | Valid range             | Description                                                                                                                         |
|--------------------|--------------------------|-------------------------|-------------------------------------------------------------------------------------------------------------------------------------|
| ...                |                          |                         |                                                                                                                                     |
| MultiLink          | Basic Multi-Link element | As defined in 9.4.2.322 | Indicates the ML parameters of the local MLD. This parameter is present if dot11MultiLinkActivated is true and is absent otherwise. |
| VendorSpecificInfo | A set of elements        | As defined in 9.4.2.24  | Zero or more elements.                                                                                                              |

##### 6.5.5.5.3 When generated

*Change the first paragraph as follows:*

This primitive is generated by the SME of a STA or MLD as a response to an MLME-AUTHENTICATE.indication primitive.

## 6.5.6 Deauthenticate

### 6.5.6.2 MLME-DEAUTHENTICATE.request

#### 6.5.6.2.3 When generated

*Change the first paragraph as follows:*

This primitive is generated by the SME for a STA to invalidate authentication with a specified peer MAC entity in order to prevent the exchange of Class 2 frames, or mesh peering Management frames for AMPE utilizing SAE authentication, between the two STAs; or for an MLD to invalidate authentication with a specified peer MAC entity in order to prevent the exchange of Class 2 frames between the two MLDs. During the deauthentication procedure, the SME might generate additional MLME-DEAUTHENTICATE.request primitives.

## 6.5.7 Associate

### 6.5.7.1 Introduction

*Insert the following paragraph as the first paragraph of the subclause:*

When related to MLD management, refer to 1.4 for more information.

*Change the now-shifted second paragraph as follows:*

The following primitives describe how a STA becomes associated with an AP and how a non-AP MLD becomes associated with an AP MLD.

### 6.5.7.2 MLME-ASSOCIATE.request

#### 6.5.7.2.1 Function

*Change the first paragraph as follows:*

This primitive requests association with a specified peer MAC entity that is within an AP or an AP MLD.

#### 6.5.7.2.2 Semantics of the service primitive

*Change the primitive parameters as follows (not all existing parameters are shown) and insert a NOTE after the primitive:*

The primitive parameters are as follows:

```
MLME-ASSOCIATE.request( ...  
    EHTCapabilities,  
    MultiLink,  
    RecommendedLink,  
    TTLM,  
    VendorSpecificInfo  
)
```

| Name            | Type                                   | Valid range             | Description                                                                                                                                                                                                                                                                                                                                                                                                         |
|-----------------|----------------------------------------|-------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ...             |                                        |                         |                                                                                                                                                                                                                                                                                                                                                                                                                     |
| ListenInterval  | Integer                                | $\ge 0$                 | <p>For non-MLO, specifies how often the STA transitions to the awake state to listen for the next Beacon frame, if it enters power save mode.</p> <p>For MLO, specifies how often at least one STA affiliated with the MLD transitions to the awake state to receive the next Beacon frame, if all STAs affiliated with the MLD enter power save mode.</p>                                                          |
| ...             |                                        |                         |                                                                                                                                                                                                                                                                                                                                                                                                                     |
| EHTCapabilities | As defined in EHT Capabilities element | As defined in 9.4.2.323 | Specifies the parameters in the EHT Capabilities element that are supported by the STA. The parameter is present if dot11EHTOptionImplemented is true; otherwise, not present.                                                                                                                                                                                                                                      |
| MultiLink       | Basic Multi-Link element               | As defined in 9.4.2.322 | Indicates the ML parameters of the local MLD. This parameter is present if dot11MultiLinkActivated is true and is absent otherwise.                                                                                                                                                                                                                                                                                 |
| RecommendedLink | Link ID subfield                       | 0-15                    | Indicates a value that uniquely identifies the link upon which the Association Request frame can be transmitted by a non-AP STA affiliated with a non-AP MLD. This parameter is present if dot11MultiLinkActivated is true and if the SME is recommending one of links among those advertised by the APs affiliated with AP MLD on which the Association Request frame can be transmitted. Otherwise, it is absent. |

| Name               | Type                        | Valid range             | Description                                                                                                                                                                                                                                                                   |
|--------------------|-----------------------------|-------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| TTLM               | TID-To-Link Mapping element | As defined in 9.4.2.324 | Indicates links on which frames belonging to each TID can be exchanged. This parameter is present if dot11MultiLinkActivated is true, and the STA affiliated with an MLID initiates both an association with an AP MLID and a TTLM negotiation. Otherwise, it is not present. |
| VendorSpecificInfo | A set of elements           | As defined in 9.4.2.24  | Zero or more elements.                                                                                                                                                                                                                                                        |

**NOTE**—It is a requirement on the SME that the link identified by the Recommended Link parameter matches the link used in a prior successful MLME-AUTHENTICATE request transaction, and the link is in State 2. See 35.3.5.1.

### 6.5.7.2.3 When generated

*Change the first paragraph as follows:*

This primitive is generated by the SME when a STA wishes to establish association with an AP or PCP, or when a non-AP MLID wishes to establish association with an AP MLID.

### 6.5.7.2.4 Effect of receipt

*Change the first paragraph as follows:*

This primitive initiates an association procedure. In the case that a response is received from the responder STA, or responder MLID, the MLME subsequently issues an MLME-ASSOCIATE.confirm primitive that reflects the results.

## 6.5.7.3 MLME-ASSOCIATE.confirm

### 6.5.7.3.1 Function

*Change the first paragraph as follows:*

This primitive reports the results of an association attempt with a specified peer MAC entity that is in an AP or PCP, or AP MLID.

### 6.5.7.3.2 Semantics of the service primitive

*Change the primitive parameters as follows (not all existing parameters are shown):*

The primitive parameters are as follows:

MLME-ASSOCIATE.confirm(

```
...  
EHTCapabilities,  
EHTOperation,  
MultiLink,  
TTLM,  
VendorSpecificInfo)
```

| Name               | Type                                          | Valid range                                      | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|--------------------|-----------------------------------------------|--------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ...                |                                               |                                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| BSSMaxIdlePeriod   | As defined in BSS Max Idle Period element     | As defined in 9.4.2.77                           | For non- <u>MLD</u> , indicates the BSS max idle period parameters of the AP or PCP. For <u>MLD</u> , indicates the <u>MLD max idle period</u> parameter specified by the AP/MLD to the non-AP/MLD. This parameter is present if <u>dot11WirelessManagementImplemented</u> and <u>dot11BSSMaxIdlePeriodIndicator</u> nByNonAPSTA are true, or <u>dot11S1OptionImplemented</u> is true and the BSS Max Idle Period element was present in the Association Response frame; is not present otherwise. |
| ...                |                                               |                                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| EHTCapabilities    | As defined in <u>EHT Capabilities</u> element | As defined in 9.4.2.323                          | Specifies the parameters in the <u>EHT Capabilities</u> element that are supported by the STA. The parameter is present if <u>dot11EHTOptionImplemented</u> is true; otherwise, not present.                                                                                                                                                                                                                                                                                                       |
| EHTOperation       | <u>EHT Operation</u> element                  | As defined in 9.4.2.321                          | Provides additional information for operating the EHT BSS. This parameter is present if <u>dot11EHTOptionImplemented</u> is true; otherwise, not present.                                                                                                                                                                                                                                                                                                                                          |
| MultiLink          | Basic Multi-Link element                      | As defined in 9.4.2.322                          | Indicates the <u>ML parameters</u> of the peer MLD. This parameter is present if <u>dot11MultiLinkActivated</u> is true and is absent otherwise.                                                                                                                                                                                                                                                                                                                                                   |
| TLTM               | <u>TID-To-Link Mapping</u> element            | As defined in 9.4.2.324                          | Indicates links on which frames belonging to each TID can be exchanged. This parameter is present if <u>dot11MultiLinkActivated</u> is true, <u>dot11TIDtoLinkMappingActivated</u> is true, and the STA affiliated with an MLD initiates both an association with an AP MLD and a <u>TLTM</u> negotiation. Otherwise, it is not present.                                                                                                                                                           |
| VendorSpecificInfo | A set of elements                             | As defined in 9.4.2.24 (Vendor Specific element) | Zero or more elements.                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |

### 6.5.7.3.3 When generated

#### Change the first paragraph as follows:

This primitive is generated by the MLME as a result of an MLME-ASSOCIATE.request primitive or receipt of an Association Response frame from the peer MAC entity to associate with a specified peer MAC entity that is in an AP or PCP, or AP MLD.

#### 6.5.7.4 MLME-ASSOCIATE.indication

##### 6.5.7.4.1 Function

*Change the first paragraph as follows:*

This primitive indicates that a specific peer MAC entity is requesting association with the local MAC entity, which is in an AP or PCP, or AP MLD.

##### 6.5.7.4.2 Semantics of the service primitive

*Change the primitive parameters as follows (not all existing parameters are shown):*

The primitive parameters are as follows:

```
MLME-ASSOCIATE.indication(
    ...
    EHTCapabilities,
    MultiLink,
    TTLM,
    VendorSpecificInfo
)
```

| Name               | Type                                   | Valid range             | Description                                                                                                                                                                                                                                                                                                         |
|--------------------|----------------------------------------|-------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ListenInterval     | Integer                                | ≥ 0                     | For non-MLO, specifies the listen interval provided by the peer MAC entity as part of the association request.<br>For MLO, specifies how often at least one STA affiliated with the MLD transitions to the awake state to receive the next Beacon frame, if all STAs affiliated with the MLD enter power save mode. |
| EHTCapabilities    | As defined in EHT Capabilities element | As defined in 9.4.2.323 | Specifies the parameters in the EHT Capabilities element that are supported by the peer STA. The parameter is present if dot11EH-TOptionImplemented is true and the EHT Capabilities element is present in the Association Request frame received from the STA; otherwise not present.                              |
| MultiLink          | Basic Multi-Link element               | As defined in 9.4.2.322 | Indicates the ML parameters of the peer MLD. This parameter is present if dot11MultiLinkActivated is true and is absent otherwise.                                                                                                                                                                                  |
| TTLM               | TID-To-Link Mapping element            | As defined in 9.4.2.324 | Indicates links on which frames belonging to each TID can be exchanged. This parameter is present if dot11MultiLinkActivated is true, dot11TIDtoLinkMappingActivated is true, and the STA affiliated with an MLD initiates both an association with an AP MLD and a TTLM negotiation. Otherwise, it is not present. |
| VendorSpecificInfo | A set of elements                      | As defined in 9.4.2.24  | Zero or more elements.                                                                                                                                                                                                                                                                                              |

#### 6.5.7.5 MLME-ASSOCIATE.response

##### 6.5.7.5.1 Function

*Change the first paragraph as follows:*

This primitive is used to send a response to a specific peer MAC entity that requested an association with the STA that issued this primitive, which is an AP or PCP, or a response to a specific peer MAC entity that requested an association with the AP MLD that issued this primitive.

##### 6.5.7.5.2 Semantics of the service primitive

*Change the primitive parameters as follows (not all existing parameters are shown):*

The primitive parameters are as follows:

MLME-ASSOCIATE.response(

...

EHTCapabilities,  
EHTOperation,  
MultiLink,  
TTLM,  
VendorSpecificInfo  
)

| Name               | Type                                   | Valid range             | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|--------------------|----------------------------------------|-------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| EHTCapabilities    | As defined in EHT Capabilities element | As defined in 9.4.2.323 | Specifies the parameters in the EHT Capabilities element that are supported by the STA. The parameter is present if dot11EHTOptionImplemented is true; otherwise, not present.                                                                                                                                                                                                                                                                                                                    |
| EHTOperation       | EHT Operation element                  | As defined in 9.4.2.321 | Provides additional information for operating the EHT BSS. This parameter is present if dot11EHTOptionImplemented is true; otherwise, not present.                                                                                                                                                                                                                                                                                                                                                |
| MultiLink          | Basic Multi-Link element               | As defined in 9.4.2.322 | Indicates the ML parameters of the local MLD. This parameter is present if dot11MultiLinkActivated is true and is absent otherwise.                                                                                                                                                                                                                                                                                                                                                               |
| TTLM               | TID-To-Link Mapping element            | As defined in 9.4.2.324 | Indicates links on which frames belonging to each TID can be exchanged. This parameter is present if dot11MultiLinkActivated is true, dot11TIDtoLinkMappingActivated is true, and the STA affiliated with an MLD initiates both an association with an AP MLD and a TTLM negotiation. This parameter is optionally present if dot11MultiLinkActivated is true, dot11TIDtoLinkMappingActivated is true, and the AP has advertised a TTLM as described in 35.3.7.2.4. Otherwise, it is not present. |
| VendorSpecificInfo | A set of elements                      | As defined in 9.4.2.24  | Zero or more elements.                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |

#### 6.5.7.5.3 When generated

*Change the first paragraph as follows:*

This primitive is generated by the SME of a STA that is in an AP or PCP as a response to an MLME-ASSOCIATE.indication primitive, or by the SME of an AP MLD as a response to an MLME-ASSOCIATE.indication primitive.

#### 6.5.8 Reassociate

##### 6.5.8.1 Introduction

*Change the first paragraph as follows:*

The following primitives describe how a STA becomes associated with another AP or PCP, or how a non-AP MLD becomes associated with another AP MLD.

##### 6.5.8.2 MLME-REASSOCIATE.request

###### 6.5.8.2.1 Function

*Change the first paragraph as follows:*

This primitive requests a change in association to a specified new peer MAC entity that is in an AP or PCP, or AP MLD.

###### 6.5.8.2.2 Semantics of the service primitive

*Change the primitive parameters as follows (not all existing parameters are shown):*

The primitive parameters are as follows:

MLME-REASSOCIATE.request(

...  
EHTCapabilities,  
MultiLink,  
Recommended Link,  
ITLM,  
VendorSpecificInfo  
)

| Name           | Type    | Valid range | Description                                                                                                                                                                                                                                                                                                                                     |
|----------------|---------|-------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ...            |         |             |                                                                                                                                                                                                                                                                                                                                                 |
| ListenInterval | Integer | $\ge 0$     | For non-MLQ, specifies how often the STA transitions to the awake state to listen for the next Beacon frame, if it enters power save mode.<br>For MLQ, specifies how often at least one STA affiliated with the MLD transitions to the awake state to receive the next Beacon frame, if all STAs affiliated with the MLD enter power save mode. |
| ...            |         |             |                                                                                                                                                                                                                                                                                                                                                 |

| Name               | Type                                   | Valid range             | Description                                                                                                                                                                                                                                                                                                                                                                                                             |
|--------------------|----------------------------------------|-------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| EHTCapabilities    | As defined in EHT Capabilities element | As defined in 9.4.2.323 | Specifies the parameters in the EHT Capabilities element that are supported by the STA. The parameter is present if dot11EHTOptionImplemented is true; otherwise, not present.                                                                                                                                                                                                                                          |
| MultiLink          | Basic Multi-Link element               | As defined in 9.4.2.322 | Indicates the ML parameters of the local MLD. This parameter is present if dot11MultiLinkActivated is true and is absent otherwise.                                                                                                                                                                                                                                                                                     |
| Recommended Link   | Link ID subfield                       | 0–15                    | Indicates a value that uniquely identifies the link upon which the Reassociation Request frame can be transmitted by a non-AP STA affiliated with a non-AP MLD. This parameter is present if dot11MultiLinkActivated is true and if the SME is recommending one of links among those advertised by the APs affiliated with AP MLD on which the Reassociation Request frame can be transmitted. Otherwise, it is absent. |
| TTLM               | TID-To-Link Mapping element            | As defined in 9.4.2.324 | Indicates links on which frames belonging to each TID can be exchanged. This parameter is present if dot11MultiLinkActivated is true, dot11TIDToLinkMappingActivated is true, and the STA affiliated with an MLD initiates both an association with an AP MLD and a TTLM negotiation. Otherwise, it is not present.                                                                                                     |
| VendorSpecificInfo | A set of elements                      | As defined in 9.4.2.24  | Zero or more elements.                                                                                                                                                                                                                                                                                                                                                                                                  |

#### 6.5.8.2.3 When generated

*Change the first paragraph as follows:*

This primitive is generated by the SME for a STA to change association to a specified new peer MAC entity that is in an AP or PCP, or AP MLD.

#### 6.5.8.2.4 Effect of receipt

*Change the first paragraph as follows:*

This primitive initiates a reassociation procedure. In the case that a response is received from the responder STA or MLD, the MLME subsequently issues an MLME-REASSOCIATE.confirm primitive that reflects the results.

#### 6.5.8.3 MLME-REASSOCIATE.confirm

##### 6.5.8.3.1 Function

*Change the first paragraph as follows:*

This primitive reports the results of a reassociation attempt with a specified peer MAC entity that is in an AP or PCP, or AP MLD.

### 6.5.8.3.2 Semantics of the service primitive

*Change the primitive parameters as follows (not all existing parameters are shown):*

The primitive parameters are as follows:

MLME-REASSOCIATE.confirm(

...  
EHTCapabilities,  
EHTOperation,  
MultiLink,  
TTLM,  
VendorSpecificInfo  
)

| Name               | Type                                   | Valid range             | Description                                                                                                                                                                                                                                                                                                                                                                                     |
|--------------------|----------------------------------------|-------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ...                |                                        |                         |                                                                                                                                                                                                                                                                                                                                                                                                 |
| BSSMaxIdlePeriod   | BSS Max Idle Period element            | As defined in 9.4.2.77  | For non-MLO, indicates the BSS max idle period parameters of the AP or PCP. For MLO, indicates the <u>MLD max idle period parameter specified by the AP MLD to the non-AP MLD</u> . This parameter is present if <u>dot11WirelessManagementImplemented</u> and <u>dot11BSSMaxIdlePeriodIndicationByNo nAPSTA</u> are true or <u>dot11S1GOOptionImplemented</u> is true; otherwise, not present. |
| ...                |                                        |                         |                                                                                                                                                                                                                                                                                                                                                                                                 |
| EHTCapabilities    | As defined in EHT Capabilities element | As defined in 9.4.2.323 | Specifies the parameters in the <u>EHT Capabilities element</u> that are supported by the STA. This parameter is present if <u>dot11EHTOptionImplemented</u> is true; otherwise, not present.                                                                                                                                                                                                   |
| EHTOperation       | EHT Operation element                  | As defined in 9.4.2.321 | Provides additional information for operating the EHT BSS. This parameter is present if <u>dot11EHTOptionImplemented</u> is true; otherwise, not present.                                                                                                                                                                                                                                       |
| MultiLink          | Basic Multi-Link element               | As defined in 9.4.2.322 | Indicates the ML parameters of the peer MLD. This parameter is present if <u>dot11MultiLinkActivated</u> is true and is absent otherwise.                                                                                                                                                                                                                                                       |
| TTLM               | TID-To-Link Mapping element            | As defined in 9.4.2.324 | Indicates links on which frames belonging to each TID can be exchanged. This parameter is present if <u>dot11MultiLinkActivated</u> is true. <u>dot11TIDtoLinkMappingActivated</u> is true, and the STA affiliated with an MLD initiates both an association with an AP MLD and a TTLM negotiation. Otherwise, it is not present.                                                               |
| VendorSpecificInfo | A set of elements                      | As defined in 9.4.2.24  | Zero or more elements.                                                                                                                                                                                                                                                                                                                                                                          |

#### 6.5.8.3.3 When generated

*Change the first paragraph as follows:*

This primitive is generated by the MLME as a result of an MLME-REASSOCIATE.request primitive to reassociate with a specified peer MAC entity that is in an AP or PCP, or AP\_MLD.

#### 6.5.8.4 MLME-REASSOCIATE.indication

##### 6.5.8.4.2 Semantics of the service primitive

*Change the primitive parameters as follows (not all existing parameters are shown):*

The primitive parameters are as follows:

MLME-REASSOCIATE.indication(

```
...  
EHTcapabilities,  
MultiLink,  
TTLM,  
VendorSpecificInfo  
)
```

| Name              | Type                                   | Valid range                  | Description                                                                                                                                                                                                                                                                                                               |
|-------------------|----------------------------------------|------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ...               |                                        |                              |                                                                                                                                                                                                                                                                                                                           |
| CurrentAPAAddress | MAC address                            | Any valid individual address | Specifies the address of the AP or PCP, or MLD with which the peer STA is currently associated.                                                                                                                                                                                                                           |
| ...               |                                        |                              |                                                                                                                                                                                                                                                                                                                           |
| ListenInterval    | Integer                                | $\ge 0$                      | For non-MLO, specifies the listen interval provided by the peer MAC entity as part of the reassociation request.<br>For MLO, specifies how often at least one STA affiliated with the MLD transitions to the awake state to receive for the next Beacon frame, if all STAs affiliated with the MLD enter power save mode. |
| ...               |                                        |                              |                                                                                                                                                                                                                                                                                                                           |
| EHTcapabilities   | As defined in EHT Capabilities element | As defined in 9.4.2.323      | Specifies the parameters in the EHT Capabilities element that are supported by the peer STA. The parameter is present if dot11EHTOptionImplemented is true and the EHT Capabilities element is present in the Reassociation Request frame received from the STA; otherwise, not present.                                  |
| MultiLink         | Basic Multi-Link element               | As defined in 9.4.2.322      | Indicates the ML parameters of the peer MLD. This parameter is present if dot11MultiLinkActivated is true and is absent otherwise.                                                                                                                                                                                        |

| Name               | Type                        | Valid range             | Description                                                                                                                                                                                                                                                                                                          |
|--------------------|-----------------------------|-------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| TTLML              | TID-To-Link Mapping element | As defined in 9.4.2.324 | Indicates links on which frames belonging to each TID can be exchanged. This parameter is present if dot11MultiLinkActivated is true, dot11TIDtoLinkMappingActivated is true, and the STA affiliated with an MLD initiates both an association with an AP MLD and a TTLML negotiation. Otherwise, it is not present. |
| VendorSpecificInfo | A set of elements           | As defined in 9.4.2.24  | Zero or more elements.                                                                                                                                                                                                                                                                                               |

#### 6.5.8.5 MLME-REASSOCIATE.response

##### 6.5.8.5.1 Function

*Change the first paragraph as follows:*

This primitive is used to send a response to a specific peer MAC entity that requested a reassociation with the STA that issued this primitive, which is in an AP or PCP, or AP MLD.

##### 6.5.8.5.2 Semantics of the service primitive

*Change the primitive parameters as follows (not all existing parameters are shown):*

The primitive parameters are as follows:

MLME-REASSOCIATE.response(

```
...  
EHTCapabilities,  
EHTOperation,  
MultiLink,  
TTLML,  
VendorSpecificInfo  
)
```

| Name            | Type                                   | Valid range             | Description                                                                                                                                                                    |
|-----------------|----------------------------------------|-------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ...             |                                        |                         |                                                                                                                                                                                |
| EHTCapabilities | As defined in EHT Capabilities element | As defined in 9.4.2.323 | Specifies the parameters in the EHT Capabilities element that are supported by the STA. The parameter is present if dot11EHTOptionImplemented is true; otherwise, not present. |
| EHTOperation    | EHT Operation element                  | As defined in 9.4.2.321 | Provides additional information for operating the EHT BSS. This parameter is present if dot11EHTOptionImplemented is true; otherwise, not present.                             |
| MultiLink       | Basic Multi-Link element               | As defined in 9.4.2.322 | Indicates the ML parameters of the local MLD. This parameter is present if dot11MultiLinkActivated is true and is absent otherwise.                                            |

| Name               | Type                        | Valid range             | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|--------------------|-----------------------------|-------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| TTLM               | TID-To-Link Mapping element | As defined in 9.4.2.324 | Indicates links on which frames belonging to each TID can be exchanged. This parameter is present if <code>dot11MultiLinkActivated</code> is true, <code>dot11TIDtoLinkMappingActivated</code> is true, and the STA affiliated with an MLD initiates both an association with an AP MLD and a TTLM negotiation. This parameter is optionally present if <code>dot11MultiLinkActivated</code> is true, and the AP has advertised a TTLM as described in 35.3.7.2.4. Otherwise, it is not present. |
| VendorSpecificInfo | A set of elements           | As defined in 9.4.2.24  | Zero or more elements.                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |

#### 6.5.8.5.3 When generated

*Change the first paragraph as follows:*

This primitive is generated by the SME of a STA that is in an AP or PCP, or AP MLD as a response to an MLME-REASSOCIATE.indication primitive.

#### 6.5.9 Disassociate

##### 6.5.9.1 MLME-DISASSOCIATE.request

##### 6.5.9.1.3 When generated

This primitive is generated by the SME for a STA to disassociate from a STA with which it has an association, or by the SME for an MLD to disassociate from an MLD with which it has an association.

#### 6.5.11 Start

##### 6.5.11.2 MLME-START.request

##### 6.5.11.2.2 Semantics of the service primitive

*Change the primitive parameters as follows (not all existing parameters are shown):*

The primitive parameters are as follows:

```
MLME-START.request(  
    ...,  
    EHTCapabilities,  
    EHTOperation,  
    MultiLink,  
    VendorSpecificInfo  
)
```

| Name               | Type                                   | Valid range             | Description                                                                                                                                                                                      |
|--------------------|----------------------------------------|-------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| EHTCapabilities    | As defined in EHT Capabilities element | As defined in 9.4.2.323 | Specifies the parameters in the EHT Capabilities element that are supported by the STA. The parameter is present if dot11EHTOptionImplemented is true, otherwise, this parameter is not present. |
| EHTOperation       | EHT Operation element                  | As defined in 9.4.2.321 | Provides additional information for operating the EHT BSS. This parameter is present if dot11EHTOptionImplemented is true, otherwise, this parameter is not present.                             |
| MultiLink          | Basic Multi-Link element               | As defined in 9.4.2.322 | Indicates the ML parameters of the MLD. This parameter is present if dot11MultiLinkActivated is true and is absent otherwise.                                                                    |
| VendorSpecificInfo | A set of elements                      | As defined in 9.4.2.24  | Zero or more elements.                                                                                                                                                                           |

#### 6.5.11.2.3 When generated

*Change the first paragraph as follows:*

This primitive is generated by the SME to start an infrastructure BSS (with the MAC entity within an AP or within an AP affiliated with an MLD), an IBSS (with the MAC entity acting as the first STA in the IBSS), or an MBSS (with the MAC entity acting as the first mesh STA in the MBSS) or to become a member of an existing MBSS or a PBSS (with the MAC entity within a PCP). In an MBSS, this primitive starts the process of mesh beaconing.

### 6.5.12 Stop

#### 6.5.12.2 MLME-Stop.request

#### 6.5.12.2.3 When generated

*Change the first paragraph as follows:*

This primitive is generated by the SME to terminate an infrastructure BSS (with the MAC entity within an AP or within an AP affiliated with an MLD) or a PBSS (with the MAC entity within the PCP). The MLME-STOP.request primitive shall be generated only after successful use of an MLME-START.confirm primitive.

*Insert the following three new subclauses at the end of subclause 6.5 (MLME SAP interface):*

#### 6.5.30 Link disable

##### 6.5.30.1 Introduction

This mechanism supports the process of advertising that a link on which an AP affiliated with an AP MLD is operating is disabled for all associated non-AP MLDs that have an affiliated non-AP STA operating on that link. An affiliated AP, while operating on a disabled link, does not transmit or receive any frames.

### 6.5.30.2 MLME-BSS-LINK-DISABLE.request

#### 6.5.30.2.1 Function

This primitive requests the AP MLD to temporarily cease the operation of the BSS corresponding to the affiliated AP operating on a link.

#### 6.5.30.2.2 Semantics of the service primitive

The primitive parameters are as follows:

MLME-BSS-LINK-DISABLE.request(

BSSID,  
DisableTimer,  
ExpectedDuration  
)

| Name             | Type        | Valid range                  | Description                                                                                             |
|------------------|-------------|------------------------------|---------------------------------------------------------------------------------------------------------|
| BSSID            | MAC address | Any valid individual address | The BSSID of the AP operating on the link to be disabled.                                               |
| DisableTimer     | Integer     | 0–65 535                     | Specifies the number of TUs until the link on which the AP is operating becomes disabled.               |
| ExpectedDuration | Integer     | 0–16 777 215                 | Indicates the expected duration in TUs for which the requested disablement is expected to be effective. |

#### 6.5.30.2.3 When generated

This primitive is generated by the SME when it decides to disable a link on which an affiliated AP is operating.

#### 6.5.30.2.4 Effect of receipt

The primitive starts the affiliated AP link disablement process in 35.3.7.5.2. All services provided by the AP to an infrastructure BSS, including Beacon and Probe Response frame transmissions and access to the DS, are stopped during the disablement. All associated non-AP MLDs in the BSS will be signaled that no TIDs map to the link on which the AP is operating.

### 6.5.30.3 MLME-BSS-LINK-DISABLE.confirm

#### 6.5.30.3.1 Function

This primitive reports the results of an affiliated AP link disablement procedure.

#### 6.5.30.3.2 Semantics of the service primitive

The primitive parameters are as follows:

MLME-BSS-LINK-DISABLE.confirm(

BSSID

)

| Name  | Type        | Valid range                  | Description                                                                  |
|-------|-------------|------------------------------|------------------------------------------------------------------------------|
| BSSID | MAC address | Any valid individual address | The BSSID of the AP operating on the link that was requested to be disabled. |

#### 6.5.30.3.3 When generated

This primitive is generated by the MLME as a result of an MLME-BSS-LINK-DISABLE.request primitive to disable a link on which an affiliated AP is operating.

#### 6.5.30.3.4 Effect of receipt

The SME is notified of the results of the affiliated AP link disablement procedure.

### 6.5.31 Link enable

#### 6.5.31.1 Introduction

This mechanism supports the process of enabling a link on which an AP affiliated with an AP MLD is operating, i.e., allowing transmission and reception of frames on the BSS on which the affiliated AP was operating before the link was disabled.

#### 6.5.31.2 MLME-BSS-LINK-ENABLE.request

##### 6.5.31.2.1 Function

This primitive requests the AP MLD to reinitiate the operation of the BSS corresponding to the affiliated AP operation on the link that becomes enabled and to indicate the enabling of the link.

##### 6.5.31.2.2 Semantics of the service primitive

The primitive parameters are as follows:

```
MLME-BSS-LINK-ENABLE.request(  
    BSSID,  
    EnableTimer  
)
```

| Name        | Type        | Valid range                  | Description                                                                                         |
|-------------|-------------|------------------------------|-----------------------------------------------------------------------------------------------------|
| BSSID       | MAC address | Any valid individual address | The BSSID of the AP operating on the link to be enabled.                                            |
| EnableTimer | Integer     | 0–65 535                     | Specifies the number of TUs until the link on which the affiliated AP is operating becomes enabled. |

NOTE—Subclause 35.3.7.2.4 describes the rules applicable to the Expected Duration field of an advertised TTLM. If the EnableTimer parameter in the MLME-BSS-LINK-ENABLE.request does not conform to the specified rules when considering the currently advertised Expected Duration, the EnableTimer parameter of this primitive will be ignored.

##### 6.5.31.2.3 When generated

This primitive is generated by the SME when a current AP link disablement is to expire and the BSS corresponding to the AP affiliated with the AP MLD that is operating on that link is to be reinitialized.

#### 6.5.31.2.4 Effect of receipt

The primitive starts the affiliated AP link enablement process in 35.3.7.5.3. All services provided by the AP to an infrastructure BSS, including Beacon and Probe Response frame transmissions and access to the DS, are resumed.

#### 6.5.31.3 MLME-BSS-LINK-ENABLE.confirm

##### 6.5.31.3.1 Function

This primitive reports the results of an affiliated AP link enablement procedure.

##### 6.5.31.3.2 Semantics of the service primitive

The primitive parameters are as follows:

```
MLME-BSS-LINK-ENABLE.confirm(  
    BSSID  
)
```

| Name  | Type        | Valid range                  | Description                                                                 |
|-------|-------------|------------------------------|-----------------------------------------------------------------------------|
| BSSID | MAC address | Any valid individual address | The BSSID of the AP operating on the link that was requested to be enabled. |

##### 6.5.31.3.3 When generated

This primitive is generated by the MLME as a result of an MLME-BSS-LINK-ENABLE.request primitive to enable a link on which an affiliated AP is to operate.

#### 6.5.31.3.4 Effect of receipt

The SME is notified of the results of the affiliated AP link enablement procedure.

#### 6.5.32 AP removal

##### 6.5.32.1 Introduction

This mechanism supports the process of removing an affiliated AP from the AP MLD.

#### 6.5.32.2 MLME-BSS-AP-REMOVAL.request

##### 6.5.32.2.1 Function

This primitive requests the AP MLD to remove an AP affiliated with the AP MLD.

##### 6.5.32.2.2 Semantics of the service primitive

The primitive parameters are as follows:

```
MLME-BSS-AP-REMOVAL.request(  
    BSSID,  
    APRemovalTimer
```

)

| Name           | Type        | Valid range                  | Description                                                                 |
|----------------|-------------|------------------------------|-----------------------------------------------------------------------------|
| BSSID          | MAC address | Any valid individual address | The BSSID of the affiliated AP that is being requested to be removed.       |
| APRemovalTimer | Integer     | 0–65 535                     | Specifies the number of TBTTs of the affiliated AP until the AP is removed. |

#### 6.5.32.2.3 When generated

This primitive is generated by the SME when it decides to remove an AP affiliated with the AP MLD.

#### 6.5.32.2.4 Effect of receipt

The primitive starts the affiliated AP removal procedure in 35.3.6.3.

#### 6.5.32.3 MLME-BSS-AP-REMOVAL.confirm

##### 6.5.32.3.1 Function

This primitive reports the results of an affiliated AP removal procedure.

##### 6.5.32.3.2 Semantics of the service primitive

The primitive parameters are as follows:

MLME-BSS-AP-REMOVAL.confirm( BSSID )

| Name  | Type        | Valid range                  | Description                                                           |
|-------|-------------|------------------------------|-----------------------------------------------------------------------|
| BSSID | MAC address | Any valid individual address | The BSSID of the affiliated AP that is being requested to be removed. |

#### 6.5.32.3.3 When generated

This primitive is generated by the MLME as a result of an MLME-BSS-AP-REMOVAL.request primitive to remove an AP affiliated with the AP MLD.

#### 6.5.32.3.4 Effect of receipt

The SME is notified of the results of the affiliated AP removal procedure.

## 7. DS SAP specification

### 7.1 Introduction

*Change the contents of this subclause, including Figure 7-1, as follows:*

The DS SAP is the interface between the DS SAP service users and the DS SAP service provider. The DS SAP service users are the connected APs, mesh gates, and the portal, and AP MLDs. The DS SAP service provider is the DS. Figure 7-1 (DS architecture) shows the location of the DS in the IEEE 802.11 architecture. The DS SAP is indicated in this Figure by the lines connecting the DS to its service users. In Figure 7-1 (DS architecture), the DS has four multiple users, two APs, a mesh gate, and a portal, and an AP MLD, so the DS is shown behind the MAC/PHY's of the STAs.

![Figure 7-1—DS architecture diagram.](24b08adae8325d6d47100c2949505f87_img.jpg)

Figure 7-1 illustrates the DS architecture within the IEEE 802.11 Medium Access Control (MAC) and Physical (PHY) layers. The DS (Data Service) is located centrally, providing services to four types of users: Non-AP STAs, AP1, AP2, Mesh Gate, Portal, and AP MLD.

The diagram shows the MAC and PHY layers for each component:

- **Non-AP STAs:** MAC and PHY layers connected to the 802.11 Medium.
- **AP1 and AP2:** MAC and PHY layers connected to the 802.11 Medium.
- **Mesh Gate:** MAC and PHY layers connected to the 802.11 Medium.
- **Portal:** MAC and PHY layers connected to the Non-802.11 Medium.
- **AP MLD:** MAC and PHY layers connected to the 802.11 Medium.
- **non-AP MLD:** MAC and PHY layers connected to the 802.11 Medium.

The DS is indicated by a dashed line connecting to the MAC/PHY layers of the service users (Non-AP STAs, AP1, AP2, Mesh Gate, Portal, AP MLD, and non-AP MLD).

Legend:

- DS SAP (represented by a dashed line)
- MUMS = MLD Upper MAC SubLayer
- MLME = MLD Lower MAC Entity

Figure 7-1—DS architecture diagram.

Figure 7-1—DS architecture

The DS SAP interface specification describes the primitives required to get MAC service tuples in and out of the DS and

- update the DS's mapping of STAs to APs or to mesh gates.
- update the DS's mapping of non-AP MLDs to AP MLDs.

Describing the DS itself or the functions thereof is out of scope of this standard.

The DS SAP actions are as follows:

1. Accept MSDUs (as part of MAC service tuples) from APs, mesh gates, and the portal, and AP MLDs.
2. Deliver MSDUs (as part of MAC service tuples) to APs, mesh gates, or the portal, or AP MLDs.
3. Accept STA-to-AP mapping updates from the APs.
4. Accept STA-to-mesh gate mapping updates from the mesh gates.
5. Accept non-AP-MLD-to-AP-MLD mapping updates from the AP MLDs.

**NOTE**—For MLDs, the source address or destination address parameters of the MAC service tuples (see 5.2.3.2 (Semantics of the service primitive)) are set to the MLD MAC address of the non-AP MLD, which is the identity of the non-AP MLD known by the DS.

When the DS delivers the MAC service tuples to an AP, the AP then determines when and how to deliver the MAC service tuples to the AP's MAC (via the MAC SAP). When the DS delivers the MAC service tuples to a mesh gate, the mesh gate then determines when and how to deliver the MAC service tuples to the mesh gate's MAC (via the MAC SAP). When the DS delivers the MAC service tuples to an AP MLD

through DSAP, the AP MLD then determines when and how to deliver the MAC service tuples to the MLD upper MAC sublayer of the AP MLD (via the MAC SAP).

In the case of an AP MLD and its affiliated AP(s) connected to the DS, there are individual DS SAPs for each affiliated AP and one for the AP MLD, as shown in Figure 7-2 (Example DS access for an AP MLD with two affiliated APs). The AP MLD will provide a mapping to its associated non-AP MLDs, by their MLD MAC addresses. The affiliated AP(s) will each provide a mapping to their associated non-MLD non-AP STAs, by their MAC addresses. Thus, the non-AP devices form distinct sets of MAC addresses, and the DS can deliver any service tuples with a one-to-one mapping of destination address to DS SAP.

![Diagram illustrating Example DS access for an AP MLD with two affiliated APs. The diagram shows three DSAPs (Non-MLD upper MAC sublayer, MLD upper MAC sublayer, Non-MLD upper MAC sublayer) connected to a DS. The DS connects to a Portal (MAC, PHY). The DSAPs are connected to MLD lower MAC entities (PHY) via 802.11 Medium. The DS is connected to the Portal via Non-802.11 Medium. A legend indicates that a solid line represents a DS SAP.](572db3880dc9cf651443b610d82ea66b_img.jpg)

Diagram illustrating Example DS access for an AP MLD with two affiliated APs. The diagram shows three DSAPs (Non-MLD upper MAC sublayer, MLD upper MAC sublayer, Non-MLD upper MAC sublayer) connected to a DS. The DS connects to a Portal (MAC, PHY). The DSAPs are connected to MLD lower MAC entities (PHY) via 802.11 Medium. The DS is connected to the Portal via Non-802.11 Medium. A legend indicates that a solid line represents a DS SAP.

Figure 7-2—Example DS access for an AP MLD with two affiliated APs

## 7.2 SAP primitives

### 7.2.3 Mapping updates

#### 7.2.3.1 General

*Change as follows:*

The DS-STA-NOTIFY primitive is used to maintain the STA-to-AP, non-AP MLD-to-AP MLD, and mesh STA-to-mesh gate mapping data of the DS.

### 7.2.3.2 DS-STA-NOTIFY.request

#### 7.2.3.2.2 Semantics of the service primitive

*Change the entry “STAAddress” as follows:*

| Name       | Type        | Valid range                  | Description                                                                                                                                                                                                                                                                                                                                                                                           |
|------------|-------------|------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| STAAddress | MAC address | Any valid individual address | <p>When generated by an AP, specifies the address of the STA whose association status with the AP has changed.</p> <p>When generated by an AP MLD, specifies the MLD MAC address of the non-AP MLD whose association status with the AP MLD has changed.</p> <p>When generated by a mesh gate, specifies the address of the mesh STA whose reachability status through the mesh gate has changed.</p> |
| UpdateType | Enumeration | ADD, MOVE, DELETE            | Specifies the DS mapping update operation to be performed.                                                                                                                                                                                                                                                                                                                                            |

#### 7.2.3.2.3 When generated

*Change as follows:*

This primitive is generated by an AP, AP MLD or mesh gate to update the DS's STA-to-AP map, non-AP MLD-to-AP MLD map, or mesh STA-to-mesh gate map.

#### 7.2.3.2.4 Effect of receipt

*Insert the following paragraph after the first paragraph (“When generated by an AP...”):*

When generated by an AP MLD, this primitive updates the DS's non-AP MLD-to-AP MLD map that controls to which AP MLD the DS delivers MAC service tuples that are destined for a given non-AP MLD.

## 8. PHY service specification

### 8.3 Detailed PHY service specifications

#### 8.3.5 PHY SAP detailed service specification

##### 8.3.5.12 PHY-CCA.indication

###### 8.3.5.12.2 Semantics of the service primitive

*Change the entry “primary” in Table 8-5 as follows:*

Table 8-5—The channel-list parameter entries

| Channel-list parameter entry | Meaning                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| primary                      | In an HT STA that is neither a VHT STA nor an HE STA nor an EHT STA, indicates that the primary channel is busy according to the rules specified in 19.3.19.6.4 (CCA sensitivity in 20 MHz) and 19.3.19.6.59.3.19.6 (CCA sensitivity).<br>In a VHT STA that is neither an HE STA nor an EHT STA, indicates that the primary 20 MHz channel is busy according to the rules specified in 21.3.18.5.3.<br>In a TVHT STA, indicates that the primary channel is busy according to the rules specified in 22.3.18.6.2.<br>In an HE STA that is not an EHT STA, indicates that the primary 20 MHz channel is busy according to the rules specified in 27.3.22.6.3.<br>In an EDMG STA, indicates that the primary 2.16 GHz channel is busy according to the rules specified in 28.3.8.<br>In an EHT STA, indicates that the primary 20 MHz channel is busy according to the rules specified in 36.3.21.6.3. |

*Change the ninth paragraph as follows:*

If the STA is an HE STA or an EHT STA with an operating channel width greater than 20 MHz, then the per20bitmap parameter is present; otherwise, it is absent. If present, the per20bitmap parameter in an HE STA that is not an EHT STA is a bitmap where each bit represents the busy/idle status of a 20 MHz subchannel in the operating channel width as defined in 27.3.22.6.5; the per20bitmap parameter in an EHT STA is a bitmap where each bit represents the busy/idle status of a 20 MHz subchannel in the operating channel width as defined in 36.3.21.6.4.

*Insert the following NOTE as the tenth paragraph of the subclause:*

NOTE—When CCA-Energy Detect is required, the primitive in an HT STA that is neither a VHT STA nor an HE STA nor an EHT STA indicates a medium busy condition as defined in 19.3.19.6.2; the primitive in a VHT STA that is neither an HE STA nor an EHT STA indicates a medium busy as defined in 21.3.18.5.2; the primitive in an HE STA that is not an EHT STA indicates a medium busy as defined in 27.3.22.6.2; the primitive in an EHT STA indicates a medium busy as defined in 36.3.21.6.2.

###### 8.3.5.12.3 When generated

*Change the first paragraph as follows:*

For Clause 15 to Clause 20 PHYs, this primitive is generated within aCCA time of the occurrence of a change in the status of the primary channel from channel idle to channel busy or from channel busy to channel idle or when the entries of the channel-list parameter change. For Clause 21 and Clause 22 PHYs, this primitive is generated when the status of the channel(s) changes from channel idle to channel busy or from channel busy to channel idle or when the entries of the channel-list parameter change. This includes the period of time when the PHY is receiving data. For Clause 27 and Clause 36 PHYs, this primitive is generated when the status of the channel(s) changes from channel idle to channel busy or from channel busy to channel idle, when the entries of the channel-list parameter change, or when the per20bitmap parameter changes. The timing of PHY-CCA indication primitives related to transitions on secondary channel(s) is PHY specific. Refer to specific PHY clauses for details about CCA behavior for a given PHY.

## 9. Frame formats

### 9.1 General requirements

*Insert the following paragraph at the end of the subclause:*

An EHT STA shall not include a status code in a Status Code field unless the corresponding condition described in the meaning column of Table 9-80 is met.

### 9.2 MAC frame formats

#### 9.2.4 Frame fields

##### 9.2.4.1 Frame Control field

###### 9.2.4.1.3 Type and Subtype subfields

*Change the following entry of Table 9-1 (only relevant row shown):*

Table 9-1—Valid type and subtype combinations

| Type value<br>B3 B2 | Type<br>description | Subtype value<br>B7 B6 B5 B4 | Subtype description     |
|---------------------|---------------------|------------------------------|-------------------------|
| 01                  | Control             | 0101                         | VHT/HE-NDP Announcement |

###### 9.2.4.1.8 More Data subfield

*Change the second paragraph as follows:*

A non-DMG and non-S1G STA uses the More Data subfield to indicate to a STA that is not affiliated with a non-AP MLD and in PS mode that more BUs are buffered for that STA at the AP. The More Data subfield is valid in individually addressed Data or Management frames transmitted by ~~an~~ the AP to ~~an~~ that STA in PS mode, otherwise, it is reserved. The More Data subfield is set to 1 to indicate that at least one additional buffered BU is present for the same STA (see 11.2.3.6).

*Insert the following paragraph after the second paragraph:*

For a non-AP MLD, an AP affiliated with an AP MLD uses the More Data subfield to indicate to a non-AP STA in PS mode affiliated with the non-AP MLD that more BUs, corresponding to Data frames with TIDs that are mapped to this link by the most recent DL TTLM (negotiated TTLM or default link mapping, see 35.3.7.2) or bufferable Management frames (see Table 11-4 and 35.3.12.4) are buffered for the non-AP MLD at the AP MLD (see 35.3.12.9). The More Data subfield is valid in individually addressed Data or Management frames transmitted by an AP affiliated with an AP MLD to a non-AP STA affiliated with a non-AP MLD that is in PS mode and in certain control frames as defined in this subclause, otherwise, it is reserved.

*Change the now-shifted fifth paragraph as follows:*

The AP can set the More Data subfield to 1 to indicate that it has a pending transmission for the STA if the AP has received a frame that contains a QoS Info field in which the More Data Ack subfield is equal to 1 from the STA and one of the following conditions is true:

- The STA is in PS mode and has one or more ACs that are delivery enabled (see 11.2.3.6).
- The STA is in PS mode and is a TWT requester or a TWT scheduled STA (see 26.8)

#### 9.2.4.3 Address field

##### 9.2.4.3.8 TA field

*Change the first paragraph as follows:*

The TA field contains a MAC address that identifies the STA that has transmitted, onto the WM, the MPDU contained in the frame body field. If the Individual/Group bit is 0, then the TA field is the individual address of the STA; otherwise, the TA field is a bandwidth signaling TA, indicating that the framePPDU carries additional information in the scrambling sequence (see 9.3.1.2, 9.3.1.5.1, 9.3.1.7.1, 9.3.1.8.1, 9.3.1.19, 9.3.1.20, 10.6.6.6, and 10.6.12) the TXVECTOR parameters CH BANDWIDTH IN NON HT and, in some cases, DYN BANDWIDTH IN NON HT (see 17.2.2).

##### 9.2.4.5 QoS Control field

###### 9.2.4.5.4 Ack Policy Indicator subfield

*Change Table 9-13 (only relevant rows shown) as follows:*

Table 9-13—Ack policy

| Ack policy                 | Bits in QoS Control field |       | Other conditions                                                                                                                                                                                                                                                                                       | Meaning                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|----------------------------|---------------------------|-------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                            | Bit 5                     | Bit 6 |                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| No Explicit Acknowledgment | 0                         | 1     | Bit 6 of the Frame Control field (see 9.2.4.1.3) is equal to 1 and the frame is not carried in either: an HE MU PPDU, HE SU PPDU or HE ER SU PPDU that contains a frame that solicits a response in an HE TB PPDU; or an EHT MU PPDU that contains a frame that solicits a response in an EHT TB PPDU. | There might be a response frame to the frame that is received, but it is neither the Ack frame nor any Data frame of subtype +CF-Ack. This ack policy is used for QoS CF-Poll and QoS CF-Ack +CF-Poll Data frames.<br>NOTE—Bit 6 of the Frame Control field (see 9.2.4.1.3) indicates the absence of a Frame Body field in a QoS Data frame. If equal to 1, the QoS Data frame contains no Frame Body field, and any response is generated in response to a QoS CF-Poll or QoS CF-Ack +CF-Poll frame, but does not signify an acknowledgment of data. |

Table 9-13—Ack policy (continued)

| Ack policy | Bits in QoS Control field |       | Other conditions                                                                                                                                                                                                                                   | Meaning                                                                                                                                                                                                                                                                                                         |
|------------|---------------------------|-------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|            | Bit 5                     | Bit 6 |                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                 |
| HETP Ack   | 0                         | 1     | The frame is carried in <u>either</u> , an HE MU PPDU, HE SU PPDU or HE ER SU PPDU that contains a frame that solicits a response in an HE TB PPDU; or in an <u>EHT MU PPDU that contains a frame that solicits a response in an EHT TB PPDU</u> . | The addressed recipient returns an Ack, Compressed Block-Ack, or Multi-STA BlockAck frame carried in an HE/EHT TB PPDU a SIFS after the PPDU, subject to reception of a triggering frame in the PPDU, as defined in 10.3.2.13.2 (Acknowledgment procedure for DL MU PPDU in MU format), and 26.5.2, and 35.5.2. |

#### 9.2.4.5.6 Queue Size subfield

*Change the second paragraph as follows:*

The Queue Size subfield is present in QoS Data frames with bit 4 of the QoS Control field set to 1 sent by a non-AP STAs and in QoS Null frames with bit 4 of the QoS Control field set to 1 sent by a non-AP HE STA. The AP might use information contained in the Queue Size subfield to determine the TXOP duration assigned to the STA or to determine the UL resources assigned to the non-AP HE STA (see 26.5.2 and 35.5.2).

#### 9.2.4.6 HT Control field

##### 9.2.4.6.1 General

*Change the ninth paragraph as follows:*

The RDG/More PPDU subfield of the HT Control field is interpreted differently depending on whether it is transmitted by an RD initiator, or an RD responder, or by a STA that is the recipient of an MU-RTS TXS Trigger frame as defined in Table 9-17.

*Change Table 9-17 and insert a NOTE after the table as follows:*

Table 9-17—RDG/More PPDU subfield values

| Value | Role of transmitting STA                                                                   | Interpretation of value                                                                                                                                                                                                        |
|-------|--------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 0     | Not Neither an RD responder nor a STA that is the recipient of an MU-RTS TXS Trigger frame | No reverse grant                                                                                                                                                                                                               |
|       | An RD responder                                                                            | The PPDU carrying the frame is the last transmission by the RD responder                                                                                                                                                       |
|       | A STA that is a recipient of an MU-RTS TXS Trigger frame                                   | The PPDU carrying the frame is the last transmission by the STA, which is the recipient of an MU-RTS TXS Trigger frame, within the allocated time signaled in the Allocation Duration subfield of the MU-RTS TXS Trigger frame |
| 1     | An RD initiator                                                                            | An RDG is present                                                                                                                                                                                                              |
|       | An RD responder or the STA that is the recipient of an MU-RTS TXS Trigger frame            | The PPDU carrying the frame is followed by another PPDU                                                                                                                                                                        |

*NOTE 3—RDG/More PPDU subfield is present in the CAS Control subfield (see 9.2.4.7.7) for the STA that is a recipient of an MU-RTS TXS Trigger frame.*

#### 9.2.4.6.4 HE variant

*Change Table 9-25 as follows:*

Table 9-25—Control ID subfield values

| Control ID value | Meaning                                            | Length of the Control Information subfield (bits) | Content of the Control Information subfield                                                                  |
|------------------|----------------------------------------------------|---------------------------------------------------|--------------------------------------------------------------------------------------------------------------|
| 0                | Triggered response scheduling (TRS)                | 26                                                | See 9.2.4.7.1.                                                                                               |
| 1                | Operating mode (OM)                                | 12                                                | See 9.2.4.7.2.                                                                                               |
| 2                | HE link adaptation (HLA)/EHT link adaptation (ELA) | 26                                                | See 9.2.4.7.3 (HLA Control)/<br>9.2.4.7.11. (See 9.2.4.7.11 for disambiguating HLA Control and ELA Control.) |
| 3                | Buffer status report (BSR)                         | 26                                                | See 9.2.4.7.4.                                                                                               |
| 4                | UL power headroom (UPH)                            | 8                                                 | See 9.2.4.7.5.                                                                                               |
| 5                | Bandwidth query report (BQR)                       | 10                                                | See 9.2.4.7.6.                                                                                               |
| 6                | Command and status (CAS)                           | 8                                                 | See 9.2.4.7.7.                                                                                               |
| 7                | EHT operating mode (EHT OM)                        | 6                                                 | See 9.2.4.7.8.                                                                                               |
| 8                | Single response scheduling (SRS)                   | 10                                                | See 9.2.4.7.9.                                                                                               |
| 9                | AP assistance request (AAR)                        | 20                                                | See 9.2.4.7.10.                                                                                              |

Table 9-25—Control ID subfield values (continued)

| Control ID value | Meaning                           | Length of the Control Information subfield (bits) | Content of the Control Information subfield |
|------------------|-----------------------------------|---------------------------------------------------|---------------------------------------------|
| 10–14<br>7–14    | Reserved                          |                                                   |                                             |
| 15               | Ones need expansion surely (ONES) | 26                                                | Set to all 1s.                              |

#### 9.2.4.7 Control subfield variants of an A-Control subfield

##### 9.2.4.7.1 TRS Control

*Change the first four paragraphs and Figure 9-26 as follows:*

The Control Information subfield in a TRS Control subfield contains triggered response scheduling (TRS) information for soliciting an HE TB PPDU that follows an HE MU PPDU, HE SU PPDU, or HE ER SU PPDU carrying the Control subfield (see 26.5.2.2) or for soliciting an EHT TB PPDU that follows an EHT MU PPDU carrying the Control subfield (see 35.5.2.2. See 26.5.2.4 and 35.5.2.3.1 for details on allowed content in an A-MPDU carried in an HE TB PPDU and in an EHT TB PPDU. The format of the subfield is shown in Figure 9-26.

![](5b2d59c1231ce2ff0f97e138727e30a2_img.jpg)

|       | B0              | B4            | B5 | B12         | B13 | B17                     | B18 | B22       | B23 | B24      | B25 |
|-------|-----------------|---------------|----|-------------|-----|-------------------------|-----|-----------|-----|----------|-----|
|       | UL Data Symbols | RU Allocation |    | AP Tx Power |     | UL Target Receive Power |     | UL HE-MCS |     | Reserved |     |
| Bits: | 5               | 8             |    | 5           |     | 5                       |     | 2         |     | 1        |     |

Figure 9-26—Control Information subfield format in a TRS Control subfield

NOTE—A TRS Control subfield is not included in a non-HE-PPDU that is neither an HE PPDU nor an EHT PPDU as described in 35.5.2.2.4.

The UL Data Symbols subfield indicates the number of OFDM symbols in the Data field of either the HE TB PPDU response or the EHT TB PPDU response and is set to the number of OFDM symbols minus 1.

The RU Allocation subfield indicates the resource unit (RU) assigned for transmitting the HE TB PPDU response and the encoding is defined in 9.3.1.22.1.

If the TRS Control subfield is carried in an HE MU PPDU, HE SU PPDU or HE ER SU PPDU then the RU Allocation subfield indicates the RU assigned for transmitting the HE TB PPDU response with the encoding defined in 9.3.1.22.4. If the TRS Control subfield is carried in an EHT MU PPDU then the RU Allocation subfield, together with the PS160 subfield, determined according to Table 35-2, indicate the RU or MRU assigned for transmitting the EHT TB PPDU response, with the encoding defined in 9.3.1.22.5.

*Change the sixth and seventh paragraphs and Table 9-28 as follows:*

The UL Target Receive Power subfield indicates the expected receive signal power, measured at the AP's antenna connector and averaged over the antennas, for the HE portion of the HE TB PPDU or the EHT portion of the EHT TB PPDU transmitted on the assigned RU as defined in Table 9-28.

Table 9-28—UL Target Receive Power subfield in TRS Control field

| UL Target Receive Power subfield | Description                                                                                                                                                                                                                                                    |
|----------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 0–30                             | The expected receive signal power, in units of dBm, is $Target_{pwr} = -90 + 2 \times F_{val}$ where $F_{val}$ is the subfield value                                                                                                                           |
| 31                               | The STA transmits the HE-TB PPDU at the STA's maximum transmit power for the assigned HE-MCS $\text{UL MCS}$ .<br>NOTE—The expected receive signal power is then the STA's maximum transmit power for the assigned HE-MCS $\text{UL MCS}$ minus the path loss. |

When carried in an HE PPDU, the UL HE-MCSMCS subfield indicates the HE-MCS, in the range HE-MCS 0 to 3, to be used by the receiving STA for the HE TB PPDU is set to the HE-MCS index (see 27.5). When carried in an EHT MU PPDU, the UL MCS subfield indicates the EHT-MCS to be used by the receiving STA for the EHT TB PPDU, and it is set to 0 for EHT-MCS 0, it is set to 1 for EHT-MCS 1, it is set to 2 for EHT-MCS 3, and it is set to 3 for EHT-MCS 15.

#### 9.2.4.7.6 BQR Control

*Change the second paragraph, include splitting it into three paragraphs, as follows:*

The Available Channel Bitmap subfield contains a bitmap indicating the subchannels available at the STA transmitting the BQR. When there is one BQR Control subfield in an A-Control subfield, the Available Channel Bitmap subfield is applied to:

- the operating channel width, when the operating channel width is no more than 160 MHz
- the primary 160 MHz, when the operating channel width is 320 MHz

When there are two BQR Control subfields in an A-Control subfield, the Available Channel Bitmap subfield in the first and second BQR Control subfields are applied to the primary 160 MHz and the secondary 160 MHz, respectively.

For a non-EHT non-AP HE STA, or a non-AP EHT STA that is associated with a non-EHT HE AP, each bit in the bitmap corresponds to a 20 MHz subchannel within the operating channel width of the BSS in which the STA is associated, with the LSB corresponding to the lowest numbered operating subchannel of the BSS. The bit in position  $X$  in the bitmap is set to 1 to indicate that the subchannel  $X+1$  is idle; otherwise, it is set to 0 to indicate that the subchannel is busy or unavailable. The availability of each 20 MHz subchannel is based on the ED-based CCA defined in 27.3.22.6.5 (Per-20 MHz CCA sensitivity) PHY-CCA indication primitive (see 27.3.22.6 and 8.3.5.12) and is reported for the 20 MHz subchannels located in the operating channel of the reporting STA, when the WM is idle as defined in 40.3.2.1 and in 26.5.2.5.

*Insert the following paragraph at the end of the subclause:*

For a non-AP EHT STA that is associated with an EHT AP, each bit in the bitmap corresponds to a 20 MHz subchannel within the operating channel width of the BSS in which the STA is associated, with the LSB in

the first BQR Control subfield (or the only BQR Control subfield) corresponding to the lowest numbered operating subchannel of the primary 160 MHz (or of the BSS), and with the LSB in the second BQR Control subfield, if present, corresponding to the lowest numbered operating subchannel of the secondary 160 MHz. The bit in position  $X$  in the bitmap is set to 1 to indicate that the subchannel  $X + 1$  is idle; otherwise, it is set to 0 to indicate that the subchannel is busy or unavailable. The availability of each 20 MHz subchannel is based on the PHY-CCA.indication primitive (see 36.3.21.6 and 8.3.5.12) and is reported for the 20 MHz subchannels located in the operating channel of the reporting STA, when the WM is idle as defined in 35.5.2.4.

*Insert the following new subclauses after 9.2.4.7.7 (CAS Control):*

#### 9.2.4.7.8 EHT OM Control

The Control Information subfield in an EHT OM Control subfield contains information related to the OM changes for bandwidth of 320 MHz, Tx NSTS extension, and Rx NSS extension for the STA transmitting the frame containing this information (see 35.9). The format of the subfield is shown in Figure 9-33a.

![](96b654cdbd1138c5463c69c8f35cd3ed_img.jpg)

|       | B0               | B1                      | B2                | B3            | B4       | B5 |
|-------|------------------|-------------------------|-------------------|---------------|----------|----|
|       | Rx NSS Extension | Channel Width Extension | Tx NSTS Extension | MCS15 Disable | Reserved |    |
| Bits: | 1                | 1                       | 1                 | 1             | 2        |    |

Figure 9-33a—Control Information subfield format in an EHT OM Control subfield

If the operating channel width of the STA is greater than 80 MHz, then the Rx NSS Extension subfield in the EHT OM Control subfield combined with the Rx NSS subfield in the OM Control subfield indicates  $N_{SS} - 1$ , where  $N_{SS}$  is the maximum number of spatial streams that the STA supports in reception for PPDU bandwidths less than or equal to 80 MHz.

If the operating channel width of the STA is less than or equal to 80 MHz, then the Rx NSS Extension subfield in the EHT OM Control subfield combined with the Rx NSS subfield in the OM Control subfield indicates  $N_{SS} - 1$ , where  $N_{SS}$  is the maximum number of spatial streams that the STA supports in reception.

The encoding of the Rx NSS Extension subfield in the EHT OM Control subfield combined with the Rx NSS subfield in the OM Control subfield is described in Table 9-33a.

If the operating channel width of the STA is greater than 80 MHz, then the maximum number of spatial streams that the STA supports in reception for non-EHT PPDU bandwidths greater than 80 MHz is defined in 26.9 (Operating mode indication).

If the operating channel width of the STA is greater than 80 MHz, then the maximum number of spatial streams that the STA supports in reception for EHT PPDU bandwidths greater than 80 MHz is defined in 35.9.

The Channel Width Extension subfield in the EHT OM Control subfield combined with the Channel Width subfield in the OM Control subfield indicates the operating channel width supported by the STA for both reception and transmission.

The encoding of the Channel Width Extension subfield in the EHT OM Control subfield combined with the Channel Width subfield in the OM Control subfield is described in Table 9-33b.

**Table 9-33a—Encoding of the Rx NSS Extension subfield in the EHT OM Control subfield combined with the Rx NSS subfield in the OM Control subfield**

| Rx NSS Extension subfield in the EHT OM Control subfield | Rx NSS subfield in the OM Control subfield | Indication of the $N_{SS}$ |
|----------------------------------------------------------|--------------------------------------------|----------------------------|
| 0                                                        | 0                                          | 1                          |
| 0                                                        | 1                                          | 2                          |
| 0                                                        | 2                                          | 3                          |
| 0                                                        | 3                                          | 4                          |
| 0                                                        | 4                                          | 5                          |
| 0                                                        | 5                                          | 6                          |
| 0                                                        | 6                                          | 7                          |
| 0                                                        | 7                                          | 8                          |
| 1                                                        | 0-7                                        | Reserved                   |

**Table 9-33b—Encoding of the Channel Width Extension subfield in the EHT OM Control subfield combined with the Channel Width subfield in the OM Control subfield**

| Channel Width Extension subfield in the EHT OM Control subfield | Channel Width subfield in the OM Control subfield | Indication of the operating channel width |
|-----------------------------------------------------------------|---------------------------------------------------|-------------------------------------------|
| 0                                                               | 0                                                 | Primary 20 MHz                            |
| 0                                                               | 1                                                 | Primary 40 MHz                            |
| 0                                                               | 2                                                 | Primary 80 MHz                            |
| 0                                                               | 3                                                 | Primary 160 MHz                           |
| 1                                                               | 0                                                 | 320 MHz                                   |
| 1                                                               | 1-3                                               | Reserved                                  |

The Tx NSTS Extension subfield in the EHT OM Control subfield combined with the Tx NSTS subfield in OM Control subfield indicates  $N_{STS} - 1$ , where  $N_{STS}$  is the maximum number of space-time streams that the STA supports in transmission.

NOTE—EHT PHY does not support STBC. The terms “space-time stream” and “spatial stream” are equivalent in EHT.

The encoding of the Tx NSTS Extension subfield in the EHT OM Control subfield combined with the Tx NSTS subfield in the OM Control subfield is described in Table 9-33c.

A non-AP EHT STA sets the MCS15 Disable subfield to 1 to indicate that the reception of an EHT PPDU with EHT-MCS 15 in either the Data field or EHT-SIG field, and the transmission of an EHT TB PPDU with EHT-MCS 15 in the Data field is disabled and to 0 if it is enabled. If the EHT OM Control field is transmitted by an EHT AP, then the MCS 15 Disable subfield is reserved.

**Table 9-33c—Encoding of the Tx NSTS Extension subfield in the EHT OM Control subfield combined with the Tx NSTS subfield in the OM Control subfield**

| Tx NSTS Extension subfield in the EHT OM Control subfield | Tx NSTS subfield in the OM Control subfield | Indication of the $N_{STS}$ |
|-----------------------------------------------------------|---------------------------------------------|-----------------------------|
| 0                                                         | 0                                           | 1                           |
| 0                                                         | 1                                           | 2                           |
| 0                                                         | 2                                           | 3                           |
| 0                                                         | 3                                           | 4                           |
| 0                                                         | 4                                           | 5                           |
| 0                                                         | 5                                           | 6                           |
| 0                                                         | 6                                           | 7                           |
| 0                                                         | 7                                           | 8                           |
| 1                                                         | 0-7                                         | Reserved                    |

#### 9.2.4.7.9 SRS Control

The Control Information subfield in an SRS Control subfield contains scheduling information for the non-TB PPDU containing the control response to the PPDU carrying the MPDU(s) containing the SRS Control subfield (see 35.3.16.5.2). The format of the Control Information subfield is shown in Figure 9-33b.

![](d58ddc0c76684eabc4244486807245fe_img.jpg)

Diagram illustrating the Control Information subfield format in an SRS Control subfield, showing 10 bits (B0 to B9).

| B0                     | B7 | B8       | B9 |
|------------------------|----|----------|----|
| PPDU Response Duration |    | Reserved |    |

Bits: 8 2

**Figure 9-33b—Control Information subfield format in an SRS Control subfield**

The PPDU Response Duration subfield contains the duration of the solicited non-TB PPDU that carries the control response frame that immediately follows the PPDU carrying the SRS Control subfield. The PPDU Response Duration subfield is in units of 4 microseconds and is set as defined in 35.3.16.5.2.

#### 9.2.4.7.10 AAR Control

The Control Information subfield in an AAR Control subfield contains information of the link identifier(s) of the assisting AP(s) affiliated with an AP MLD that are requested to assist a non-AP STA affiliated with a non-AP MLD, belonging to an NSTR link pair, to recover its medium synchronization (35.3.16.8.3).

The format of this subfield is shown in Figure 9-33c.

![](44229cd77a85081f3968b4bf05d232d3_img.jpg)

| B0                          | B15      | B16 | B19 |
|-----------------------------|----------|-----|-----|
| Assisting AP Link ID Bitmap | Reserved |     |     |
| Bits: 16 4                  |          |     |     |

**Figure 9-33c—Control Information subfield format in an AAR Control subfield**

The Assisting AP Link ID Bitmap subfield in the AAR Control subfield indicates the link(s) associated with the link identifier(s) of the assisting AP(s) affiliated with an AP MLD. A value of 1 in bit position  $i$  of the Assisting AP Link ID Bitmap subfield indicates that the AP operating on link ID  $i$  is requested to assist with the recovery of medium synchronization (see 35.3.16.8.3). A value of 0 in bit position  $i$  of the Assisting AP Link ID Bitmap subfield indicates that the AP operating on link ID  $i$  is not requested to assist with the recovery of medium synchronization.

The bit in the Assisting AP Link ID Bitmap subfield that corresponds to the AP to which the frame containing the AAR Control field is addressed, is set to 0.

The bit in position 15 of the Assisting AP Link ID Bitmap subfield is reserved.

#### 9.2.4.7.11 ELA Control

The Control Information subfield in an ELA Control subfield contains information related to the EHT link adaptation (ELA) procedure (see 35.19). The format of the subfield is shown in Figure 9-33d.

![](4ff3b88e9884f3c6c976e6d891fe1ea4_img.jpg)

| B0              | B1                        | B2                             | B4      | B5             | B8            | B9      | B16 |
|-----------------|---------------------------|--------------------------------|---------|----------------|---------------|---------|-----|
| Unsolicited MFB | MRQ/UL EHT TB<br>PPDU MFB | NSS                            | EHT-MCS |                | RU Allocation |         |     |
| Bits: 1 1 3 4 8 |                           |                                |         |                |               |         |     |
| B17             | B18                       | B20                            | B21     | B23            | B24           | B25     |     |
| PS160           | BW                        | MSI/Partial PPDU<br>Parameters |         | Tx Beamforming |               | HLA/ELA |     |
| Bits: 1 3 3 1 1 |                           |                                |         |                |               |         |     |

**Figure 9-33d—Control Information subfield format in an ELA Control subfield**

The ELA Control subfields are defined in Table 9-33d.

Table 9-33d—ELA Control subfields

| Subfield               | Meaning                                                      | Definition                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|------------------------|--------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Unsolicited MFB        | Unsolicited MFB indicator                                    | Set to 1 if the ELA Control subfield is an unsolicited MFB. Set to 0 if the ELA Control subfield is an MRQ or a solicited MFB.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| MRQ/UL EHT TB PPDU MFB | ELA feedback request indicator/UL EHT TB PPDU MFB indication | <p>Set to 1 with the Unsolicited MFB subfield set to 0 to indicate a request for an ELA feedback. Set to 0 with the Unsolicited MFB subfield set to 0 to indicate a response to an ELA request.</p> <p>If the Unsolicited MFB subfield is equal to 1, a value of 1 in this subfield indicates that the NSS, EHT-MCS, BW, PS160, and RU Allocation subfields represent the recommended MFB for subsequent EHT TB PPDU(s) sent by the STA that is issuing this recommendation as defined in 35.19.</p> <p>If the Unsolicited MFB subfield is 1 and MRQ/UL EHT TB PPDU MFB is equal to 0, then the NSS, EHT-MCS, PS160, RU Allocation, and BW subfields represent the recommended values for subsequent EHT MU PPDU(s) sent to the STA that is issuing this recommendation.</p>                                        |
| NSS                    | Recommended number of spatial streams                        | <p>If the Unsolicited MFB subfield is equal to 1 and the MRQ/UL EHT TB PPDU MFB subfield is equal to 0 or if the Unsolicited MFB subfield is equal to 0 and the MRQ/UL EHT TB PPDU MFB subfield is equal to 0, the NSS subfield indicates the recommended number of spatial streams for subsequent EHT MU PPDU(s) sent to the STA that is issuing this recommendation, <math>N_{SS}</math>, and is set to <math>N_{SS} - 1</math>.</p> <p>If the Unsolicited MFB subfield is equal to 1 and the MRQ/UL EHT TB PPDU MFB subfield is equal to 1, the NSS subfield indicates the recommended number of spatial streams for subsequent EHT TB PPDU(s) sent by the STA that is issuing this recommendation, <math>N_{SS}</math>, and is set to <math>N_{SS} - 1</math>.</p> <p>Otherwise, this subfield is reserved.</p> |
| EHT-MCS                | Recommended EHT-MCS                                          | <p>If the Unsolicited MFB subfield is equal to 1 and the MRQ/UL EHT TB PPDU MFB subfield is equal to 0 or if the Unsolicited MFB subfield is equal to 0 and the MRQ/UL EHT TB PPDU MFB subfield is equal to 0, the EHT-MCS subfield indicates the recommended EHT-MCS for subsequent EHT MU PPDU(s) sent to the STA that is issuing this recommendation, and is set to the EHT-MCS index (see 36.5).</p> <p>If the Unsolicited MFB subfield is equal to 1 and the MRQ/UL EHT TB PPDU MFB subfield is equal to 1, the EHT-MCS subfield indicates the recommended EHT-MCS of the EHT TB PPDU sent from the STA, and is set to the EHT-MCS index (see 36.5).</p> <p>Otherwise, this subfield is reserved.</p>                                                                                                          |

Table 9-33d—ELA Control subfields (continued)

| Subfield      | Meaning                                                                                                                                                                                                                                                                                         | Definition                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|---------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| PS160         | Indication of primary 160 MHz channel or second 160 MHz channel that the RU or MRU allocation applies to if the size of RU or MRU is smaller than or equal to $2\times 996$ tones. Otherwise, the PS160 subfield is used to indicate the RU or MRU index along with the RU Allocation subfield. | <p>If the Unsolicited MFB subfield is equal to 1, or the Unsolicited MFB subfield is equal to 0 and the MRQ/UL EHT TB PPDU MFB subfield is equal to 1, the PS160 subfield is set to 0 to indicate the RU or MRU allocation applies to the primary 160 MHz channel and set to 1 to indicate the RU or MRU allocation applies to the secondary 160 MHz channel for an RU or MRU size smaller than or equal to <math>2\times 996</math> tones; the PS160 subfield is used to indicate the RU or MRU index along with the RU Allocation subfield for an RU or MRU size larger than <math>2\times 996</math> tones. Refer to the RU Allocation subfield definition in Table 9-461.</p> <p>Otherwise, this subfield is reserved.</p>                                                                                                                                                                                                                                                  |
| RU Allocation | RU or MRU associated with the recommended EHT-MCS/RU or MRU for which the MFB requester solicits feedback                                                                                                                                                                                       | <p>If the Unsolicited MFB subfield is equal to 1 and the MRQ/UL EHT TB PPDU MFB subfield is equal to 0, the RU Allocation subfield and the PS160 jointly indicate the RU or MRU to which the recommended EHT-MCS applies, as defined in 35.19.</p> <p>If the Unsolicited MFB subfield is equal to 0 and the MRQ/UL EHT TB PPDU MFB subfield is equal to 1, the RU Allocation subfield and the PS160 jointly indicate the RU or MRU for which feedback is requested by the MFB requester.</p> <p>If the Unsolicited MFB subfield is equal to 1 and the MRQ/UL EHT TB PPDU MFB subfield is equal to 1, the RU Allocation subfield and the PS160 jointly indicate the RU or MRU to which the recommended EHT-MCS applies, as defined in 35.19.</p> <p>The RU Allocation subfield and the PS160 subfield are interpreted with the BW subfield to specify the RU or MRU. The RU or MRU index encoding is as defined in Table 9-461.</p> <p>Otherwise, this subfield is reserved.</p> |
| BW            | Bandwidth associated with the recommended EHT-MCS/Bandwidth for which the MFB requester solicits feedback                                                                                                                                                                                       | <p>If the Unsolicited MFB subfield is equal to 1, the BW subfield indicates the bandwidth to which the recommended EHT-MCS applies, as defined in 35.19.</p> <p>If the Unsolicited MFB subfield is equal to 0 and the MRQ/UL EHT TB PPDU MFB subfield is equal to 1, the BW subfield indicates the PPDU bandwidth for which the MFB requester solicits feedback</p> <p>Set to 0 for 20 MHz.<br/>Set to 1 for 40 MHz.<br/>Set to 2 for 80 MHz.<br/>Set to 3 for 160 MHz.<br/>Set to 4 for 320 MHz.<br/>Values 5, 6, and 7 are reserved.</p> <p>Otherwise, this subfield is reserved.</p>                                                                                                                                                                                                                                                                                                                                                                                         |

Table 9-33d—ELA Control subfields (continued)

| Subfield       | Meaning                                                         | Definition                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|----------------|-----------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| MSI/PPDU-Type  | Partial parameters of the measured PPDU/MRQ sequence identifier | If the Unsolicited MFB subfield is equal to 0 and the MRQ/UL EHT TB PPDU MFB subfield is equal to 1, the MSI/Partial PPDU Parameters subfield contains a sequence number in the range 0 to 6 that identifies the specific EHT-MCS feedback request.<br>If the Unsolicited MFB subfield is equal to 0 and the MRQ/UL EHT TB PPDU MFB subfield is equal to 0, the MSI/Partial PPDU Parameters subfield contains a sequence number in the range 0 to 6 that responds to the specific solicited EHT-MCS feedback request.<br>If the Unsolicited MFB subfield is equal to 1, the MSI/Partial PPDU Parameters subfield contains the PPDU Format and Coding Type subfields as shown in Figure 9-33e. |
| Tx Beamforming | Transmission type of the measured PPDU                          | If the Unsolicited MFB subfield is equal to 1 and the MRQ/UL HE TB PPDU MFB subfield is equal to 0, then the Tx Beamforming subfield indicates whether the PPDU from which the unsolicited MFB was estimated is beamformed.<br>Set to 0 for a non-beamformed PPDU.<br>Set to 1 for a beamformed PPDU.<br>Otherwise, this subfield is reserved.                                                                                                                                                                                                                                                                                                                                                |
| HLA/ELA        | HE/EHT link adaptation indication                               | Set to 1 if the Control Information subfield is an ELA Control subfield.<br>Set to 0 if the Control Information subfield is an HLA Control subfield.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |

The format of the MSI/Partial PPDU Parameters subfield is defined in Figure 9-33e.

![](4c20a034ca2df4c039226701035aeecd_img.jpg)

Diagram illustrating the MSI/Partial PPDU Parameters subfield format when the Unsolicited MFB subfield is 1. The subfield is divided into three fields: Reserved, PPDU Format, and Coding Type. The Reserved field is 1 bit, the PPDU Format field is 1 bit, and the Coding Type field is 1 bit.

Figure 9-33e—MSI/Partial PPDU Parameters subfield format when the Unsolicited MFB subfield is 1

The PPDU Format subfield indicates the format of the PPDU from which the unsolicited MFB was estimated:

- Set to 0 for an EHT MU PPDU.
- Set to 1 for an EHT TB PPDU.

The Coding Type subfield contains the coding information of the PPDU from which the unsolicited MFB was estimated:

- Set to 0 for BCC.
- Set to 1 for LDPC.

#### 9.2.4.8 Frame Body field

##### 9.2.4.8.1 General

*Change Table 9-34 (only relevant rows and columns shown) as follows:*

Table 9-34—Maximum data unit sizes and durations

|                                                                                                                                                                                   | ... | HE PPDU                                                                                                                            | EHT PPDU                                                                                                                        | ... |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----|------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------|-----|
| MMPPDU size (in octets)                                                                                                                                                           | ... | 2.4 GHz band: see NOTE 11<br>Otherwise: see NOTE 1                                                                                 | 2.4 GHz band: see NOTE 11<br>Otherwise: see NOTE 1                                                                              | ... |
| MSDU size (in octets)                                                                                                                                                             | ... | 2304                                                                                                                               | 2304                                                                                                                            | ... |
| A-MSDU size (in octets)                                                                                                                                                           | ... | 2.4 GHz band of a non-EHT STA: 3839 or 7935 (see also Table 9-224)<br>Otherwise: see NOTE 3                                        | See NOTE 3                                                                                                                      | ... |
| MPDU size (in octets)                                                                                                                                                             | ... | 2.4 GHz band of a non-EHT STA: see NOTE 5<br>Otherwise: 3895 or 7991 or 11 454 (see also Table 9-313, 9.4.2.262, and Table 9-417a) | 3895 or 7991 or 11 454 (see also Table 9-313, 9.4.2.262, (HE 6 GHz Band Capabilities element), and Table 9-417a)<br>See NOTE 10 | ... |
| PSDU size (in octets)                                                                                                                                                             | ... | See NOTE 7<br>6 500 631 ( $\sim 22.63$ ) (see Table 27-61)                                                                         | 15 523 200 ( $\sim 23.80$ ) (see Table 36-70)                                                                                   | ... |
| PPDU duration (in microseconds)                                                                                                                                                   | ... | 5484 (see Table 27-61)                                                                                                             | 5484 (see Table 36-70)                                                                                                          | ... |
| NOTE 10—The maximum MMPPDU or MPDU size can preclude the use of the corresponding PPDU format for certain sounding feedback configurations. See 10.33, 10.35, and 26.7, and 35.7. |     |                                                                                                                                    |                                                                                                                                 |     |
| ...                                                                                                                                                                               |     |                                                                                                                                    |                                                                                                                                 |     |

### 9.2.5 Duration/ID field (QoS STA)

#### 9.2.5.2 Setting for single and multiple protection under enhanced distributed channel access (EDCA)

*Change the second paragraph as follows:*

The STA selects between single and multiple protection when it transmits the first frame of a TXOP. All subsequent frames transmitted by the STA in the same TXOP use the same class of duration settings. A STA always uses multiple protection in a TXOP that includes one or more of the following:

- Frames that have the RDG/More PPDU subfield equal to 1
- VHT/HE-NDP Announcement frames, Beamforming Report Poll frames or BFRP Trigger frames
- SIG Beacon frames
- Frames transmitted by an SIG STA with the TXVECTOR parameter RESPONSE INDICATION equal to Long Response
- MU-RTS TXS Trigger frame

*Change item a) 2) of the fourth paragraph (not all lines shown) as follows:*

The Duration/ID field is set as follows:

a) Single protection settings.

2) In an MU-RTS Trigger frame that is not an MU-RTS TXS Trigger frame, the Duration/ID field is set to the estimated time, in microseconds, required to transmit the pending frame(s), plus one CTS frame, plus the time to transmit the solicited HE TB PPDU if required, plus the time to transmit the acknowledgment for the solicited HE TB PPDU if required, plus applicable IFSs.

## 9.3 Format of individual frame types

### 9.3.1 Control frames

#### 9.3.1.2 RTS frame format

*Change the third paragraph, including the insertion of a NOTE, as follows:*

The TA field is the address of the STA transmitting the RTS frame or the bandwidth signaling TA of the STA transmitting the RTS frame.

*NOTE—A VHT or HE STA transmitting an RTS frame carried in non-HT or non-HT duplicate format and addressed to a VHT or HE STA sets the TA field to the bandwidth signaling TA (see 9.2.4.3.8 and 10.3.2.7).*

In an RTS frame transmitted by a VHT STA or an HE STA in a non-HT or non-HT duplicate format to another VHT STA or HE STA, the scrambling sequence carries the TXVECTOR parameters CH\_BANDWIDTH\_IN\_NON\_HT and DYN\_BANDWIDTH\_IN\_NON\_HT (see 10.3.2.7) and the TA field is a bandwidth signaling TA.

#### 9.3.1.5 PS-Poll frame format

##### 9.3.1.5.1 General

*Change the second paragraph as follows:*

The BSSID (RA) field is set to the address of the STA contained in the AP. The TA field is the address of the STA transmitting the frame or a bandwidth signaling TA (see 9.2.4.3.8 and 10.6.6.6). In a PS-Poll frame transmitted by a VHT STA or an HE STA in a non-HT or non-HT duplicate format and where the scrambling sequence carries the TXVECTOR parameter CH\_BANDWIDTH\_IN\_NON\_HT, the TA field is a bandwidth signaling TA.

#### 9.3.1.6 CF-End frame format

*Change the last paragraph, include splitting it into four paragraphs, as follows:*

If transmitted by a non-DMG STA, the BSSID (TA) field is the address of the STA contained in the AP except that the Individual/Group bit of the BSSID (TA) field is set to 1 in a CF-End frame transmitted by a VHT STA to a VHT AP or an HE STA to an HE AP (11ax) in a non-HT or non-HT duplicate format to indicate that the scrambling sequence carries the TXVECTOR parameter CH\_BANDWIDTH\_IN\_NON\_HT. If transmitted by a DMG STA, the TA field is the MAC address of the STA transmitting the frame.

If transmitted by a non-DMG non-S1G STA that is not a VHT or HE STA, the BSSID (TA) field is the address of the STA contained in the AP.

If transmitted by a VHT or HE STA, the BSSID (TA) field is the address of the STA contained in the AP with the Individual/Group bit of the BSSID (TA) field set to 0 or 1 as specified in 10.6.6.6.

If transmitted by an S1G STA, the BSSID (TA) field is the address of the STA contained in the AP.

If transmitted by a DMG STA, the TA field is the MAC address of the STA transmitting the frame.

### 9.3.1.7 BlockAckReq frame format

#### 9.3.1.7.1 Overview

*Change the fourth paragraph as follows:*

The TA field is the address of the STA transmitting the BlockAckReq frame or a bandwidth signaling TA (see 9.2.4.3.8 and 10.6.6.6). In a BlockAckReq frame transmitted by a VHT STA or an HE STA in a non-HT or non-HT duplicate format and where the scrambling sequence carries the TXVECTOR parameter CH\_BANDWIDTH\_IN\_NON\_HT, the TA field is a bandwidth signaling TA.

### 9.3.1.8 BlockAck frame format

#### 9.3.1.8.2 Compressed BlockAck variant

*Change Figure 9-54 as follows:*

![](1051d2affacf5856ad9b4c4b560adc25_img.jpg)

| Block Ack Starting Sequence Control | Block Ack Bitmap     |
|-------------------------------------|----------------------|
| Octets: 2                           | 8, or 32, 64, or 128 |

Figure 9-54—BA Information field format (Compressed BlockAck)

*Change Table 9-38 as follows:*

Table 9-38—Fragment Number subfield encoding for the Compressed BlockAck variant

| Fragment Number subfield |       |    | Fragmentation level 3<br>(ON/OFF) | Block Ack<br>Bitmap subfield<br>length (octets) | Maximum number of<br>MSDUs/A-MSDUs<br>that can be<br>acknowledged |
|--------------------------|-------|----|-----------------------------------|-------------------------------------------------|-------------------------------------------------------------------|
| B3                       | B2-B1 | B0 |                                   |                                                 |                                                                   |
| 0                        | 0     | 0  | OFF                               | 8                                               | 64                                                                |
| 0                        | 1     | 0  |                                   | Reserved                                        | Reserved                                                          |
| 0                        | 2     | 0  |                                   | 32                                              | 256                                                               |
| 0                        | 3     | 0  |                                   | Reserved                                        | Reserved                                                          |
| 0                        | 0     | 1  |                                   | 8                                               | 16                                                                |
| 0                        | 1     | 1  | ON                                | Reserved                                        | Reserved                                                          |
| 0                        | 2     | 1  |                                   | 32                                              | 64                                                                |
| 0                        | 3     | 1  |                                   | Reserved                                        | Reserved                                                          |

Table 9-38—Fragment Number subfield encoding for the Compressed BlockAck variant (continued)

| Fragment Number subfield                                                                                                                                                                                                        |        |      | Fragmentation level 3<br>(ON/OFF) | Block Ack<br>Bitmap subfield<br>length (octets) | Maximum number of<br>MSDUs/A-MSDUs<br>that can be<br>acknowledged |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------|------|-----------------------------------|-------------------------------------------------|-------------------------------------------------------------------|
| B3                                                                                                                                                                                                                              | B2-B1  | B0   |                                   |                                                 |                                                                   |
| 1                                                                                                                                                                                                                               | 0      | 0    | OFF                               | 64                                              | 512                                                               |
| 1                                                                                                                                                                                                                               | 1      | 0    |                                   | 128                                             | 1024                                                              |
| 1                                                                                                                                                                                                                               | 2 or 3 | 0    |                                   | Reserved                                        | Reserved                                                          |
| 1                                                                                                                                                                                                                               | Any    | Any1 |                                   | Reserved                                        | Reserved                                                          |
| NOTE—A Compressed BlockAck frame with B0 of the Fragment Number subfield set to 1 is not sent to an HE STA whose Dynamic Fragmentation Support subfield in the HE Capabilities element it transmits is not set to 3 (see 26.3). |        |      |                                   |                                                 |                                                                   |

**Change the third last paragraph as follows:**

If B0 of the Fragment Number subfield is 0 and B3 of the Fragment Number subfield is 0, the Block Ack Bitmap subfield of the BA Information field of the Compressed BlockAck frame indicates the receive status of up to 64 or 256 MSDUs and/or A-MSDUs depending upon the value of B2-B1 in the Fragment Number subfield as shown in Table 9-38. If B0 of the Fragment Number subfield is 0 and B3 of the Fragment Number subfield is 1, the Block Ack Bitmap subfield of the BA Information field of the Compressed BlockAck frame indicates the receive status of up to 512 or 1024 MSDUs and/or A-MSDUs depending upon the value of B2-B1 in the Fragment Number subfield as shown in Table 9-38. Each bit that is equal to 1 in the compressed Block Ack Bitmap subfield acknowledges the reception of a single MSDU or A-MSDU in the order of sequence number, with the first bit of the Block Ack Bitmap subfield corresponding to the MSDU, A-MSDU, or fragment thereof with the sequence number that matches the value of the Starting Sequence Number subfield of the Block Ack Starting Sequence Control subfield.

**Insert the following paragraph after the third last paragraph ("If B0 of the Fragment Number subfield is 0..."):**

The Block Ack Bitmap subfield of the BA Information field of the Compressed BlockAck frame is used to indicate the received status of up to

- 64 MSDUs and/or A-MSDUs for a non-HE STA;
- 256 MSDUs and/or A-MSDUs for a HE STA (see 26.4.3);
- 1024 MSDUs and/or A-MSDUs for an EHT STA (see 35.3.8).

**9.3.1.8.6 Multi-STA BlockAck variant**

**Change Figure 9-60 as follows:**

![](4148428429439aece3d7d03e307900b1_img.jpg)

| AID TID Info | Block Ack Starting Sequence Control | Block Ack Bitmap                   |
|--------------|-------------------------------------|------------------------------------|
| Octets: 2    | 0 or 2                              | 0, 4, 8, 16, $w_{32}$ , 64, or 128 |

Figure 9-60—Per AID TID Info subfield format if the AID11 subfield is not 2045

**Change the 12th paragraph as follows:**

If B0 of the Fragment Number subfield of the Block Ack Starting Sequence Control subfield is 0 and B3 of the Fragment Number subfield of the Block Ack Starting Sequence Control subfield is 0, the BA Information field of the Multi-STA BlockAck frame contains an 8-octet, 16-octet, 32-octet or 4-octet Block Ack Bitmap subfield depending on B2-B1 of the Fragment Number subfield as defined in Table 9-40 indicating the receive status of up to 64, 128, 256 or 32 MSDUs (or fragments thereof) and/or A-MSDUs (or fragments thereof), respectively. If B0 of the Fragment Number subfield of the Block Ack Starting Sequence Control subfield is 0 and B3 of the Fragment Number subfield of the Block Ack Starting Sequence Control subfield is 1, the BA Information field of the Multi-STA BlockAck frame contains a 64-octet, or 128-octet Block Ack Bitmap subfield depending on B2-B1 of the Fragment Number subfield as defined in Table 9-40 indicating the receive status of up to 512 or 1024 MSDUs and/or A-MSDUs, respectively. Each bit that is equal to 1 in the Block Ack Bitmap subfield acknowledges the reception of a single MSDU (or fragment thereof) or A-MSDU (or fragment thereof) in the order of sequence number with the first bit of the Block Ack Bitmap subfield corresponding to the MSDU or A-MSDU with the sequence number that matches the value of the Starting Sequence Number subfield of the Block Ack Starting Sequence Control subfield.

*Insert the following paragraph after the 12th paragraph:*

The Block Ack Bitmap subfield of the BA Information field of the Multi-STA BlockAck frame is used to indicate the received status of up to

- 256 MSDUs and/or A-MSDUs for a HE STA (see 26.4.3);
- 1024 MSDUs and/or A-MSDUs for an EHT STA (see 35.3.8).

*Change Table 9-40 as follows:*

Table 9-40—Fragment Number subfield encoding for the Multi-STA BlockAck variant

| Fragment Number subfield                                                                                                                                                                                                                        |         |     | Fragmentation level 3<br>(ON/OFF) | Block Ack<br>Bitmap subfield<br>length (octets) | Maximum number of<br>MSDUs/A-MSDUs<br>that can be<br>acknowledged |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------|-----|-----------------------------------|-------------------------------------------------|-------------------------------------------------------------------|
| B3                                                                                                                                                                                                                                              | B2-B1   | B0  |                                   |                                                 |                                                                   |
| 0                                                                                                                                                                                                                                               | 0       | 0   | OFF                               | 8                                               | 64                                                                |
| 0                                                                                                                                                                                                                                               | 1       | 0   |                                   | 16                                              | 128                                                               |
| 0                                                                                                                                                                                                                                               | 2       | 0   |                                   | 32                                              | 256                                                               |
| 0                                                                                                                                                                                                                                               | 3       | 0   |                                   | 4                                               | 32                                                                |
| 0                                                                                                                                                                                                                                               | 0       | 1   | ON                                | 8                                               | 16                                                                |
| 0                                                                                                                                                                                                                                               | 1       | 1   |                                   | 16                                              | 32                                                                |
| 0                                                                                                                                                                                                                                               | 2       | 1   |                                   | 32                                              | 64                                                                |
| 0                                                                                                                                                                                                                                               | 3       | 1   |                                   | 4                                               | 8                                                                 |
| 1                                                                                                                                                                                                                                               | 0       | 0   | OFF                               | 64                                              | 512                                                               |
| 1                                                                                                                                                                                                                                               | 1       | 0   |                                   | 128                                             | 1024                                                              |
| 1                                                                                                                                                                                                                                               | 2 and 3 | 0   |                                   | Reserved                                        | Reserved                                                          |
| 1                                                                                                                                                                                                                                               | Any     | Any |                                   | Reserved                                        | Reserved                                                          |
| NOTE—A Multi-STA BlockAck frame with B0 of the Fragment Number subfield set to 1 cannot be sent to an HE STA, unless the HE Capabilities element received from the HE STA has the Dynamic Fragmentation Support subfield equal to 3 (see 26.3). |         |     |                                   |                                                 |                                                                   |

*Change the title of the subclause 9.3.1.19 as follows:*

#### 9.3.1.19 VHT/HE Ranging NDP Announcement frame format

*Delete all the texts, figures, and tables of subclause 9.3.1.19. Restructure this subclause by creating five new child subclauses (9.3.1.19.1 to 9.3.1.19.5) as follows:*

##### 9.3.1.19.1 General description

The NDP Announcement frame has four variants, the NDP Announcement frame, the HE NDP Announcement frame, the Ranging NDP Announcement frame, and the EHT NDP Announcement frame. The four formats are distinguished by the setting of the NDP Announcement Variant subfield in the Sounding Dialog Token field.

The frame format of the NDP Announcement frame is shown in Figure 9-74a.

![](39fcdb487552070b829e49eb0014e36f_img.jpg)

|         | Frame Control | Duration | RA | TA | Sounding Dialog Token | STA Info List                                       | FCS |
|---------|---------------|----------|----|----|-----------------------|-----------------------------------------------------|-----|
| Octets: | 2             | 2        | 6  | 6  | 1                     | $n \times 2$ or $n \times 4$<br>(Variant dependent) | 4   |

Figure 9-74a—NDP Announcement frame format

The Duration field is set as defined in 9.2.5.

An NDP Announcement frame contains at most one STA Info field per STA.

The NDP Announcement frame contains at least one STA Info field with AID11, AID12, or AID13 subfield.

The encoding of the AID11 subfield in the NDP Announcement frame is defined in Table 9-42a.

Table 9-42a—Encoding of the AID11 subfield in an NDP Announcement frame

| AID subfield                                                                                            | Description                                                                                                                                                                                  | NDP Announcement frame variant applicability (see NOTE) |                                 |                |                |
|---------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------|---------------------------------|----------------|----------------|
|                                                                                                         |                                                                                                                                                                                              | VHT                                                     | HE                              | EHT            | Ranging        |
| 0                                                                                                       | STA Info field identifies the associated AP or mesh                                                                                                                                          | Applicable                                              |                                 |                |                |
| 1–2006                                                                                                  | If the NDP Announcement frame is not a Ranging variant, the STA Info field identifies an associated STA whose AID is equal to the value in the AID11 subfield.                               | Applicable                                              |                                 |                |                |
| 2007                                                                                                    | If the NDP Announcement frame is a Ranging variant, the STA Info field identifies an unassociated STA or an associated STA whose RSID/AID is equal to the value in the RSID11/AID11 subfield | Applicable                                              | Applicable (subject to 35.15.1) | Not applicable | Applicable     |
| 2008–2042                                                                                               | N/A                                                                                                                                                                                          | Not applicable                                          |                                 |                |                |
| 2043                                                                                                    | STA Info field contains a Sequence Authentication Code subfield                                                                                                                              | Not applicable                                          | Not applicable                  | Not applicable | Applicable     |
| 2044                                                                                                    | STA Info field contains a Partial TSF subfield                                                                                                                                               | Not applicable                                          | Not applicable                  | Not applicable | Applicable     |
| 2045                                                                                                    | STA Info field contains the I2R NDP Tx Power and R2I NDP Target RSSI subfields if the NDP Announcement frame is a Ranging variant.                                                           | Not applicable                                          | Not applicable                  | Not applicable | Applicable     |
| 2046                                                                                                    | N/A                                                                                                                                                                                          | Not applicable                                          |                                 |                |                |
| 2047                                                                                                    | STA Info field contains a Disallowed Subchannel Bitmap subfield                                                                                                                              | Not applicable                                          | Applicable                      | Not applicable | Not applicable |
| NOTE—Not applicable means that the particular AID11 value is not used for that variant and is reserved. |                                                                                                                                                                                              |                                                         |                                 |                |                |

The encoding of AID12 and AID13 subfields is defined in 9.3.1.19.2.

If the NDP Announcement frame contains only one STA Info field with a value less than 2008 in the AID11, AID12 or AID13 subfield, then in the case of VHT, HE or EHT NDP Announcement frames the RA field is set to the address of the STA addressed in the only STA Info field of this NDP Announcement frame (see 10.35.5.2, 26.7, and 35.7). In the case of Ranging NDP Announcement frame, the RA address is set to the address of the RSTA or ISTA that is the intended recipient of the frame. If the NDP Announcement frame contains more than one STA Info field with a value less than 2008 in the AID11 subfield, then the RA field is set to the broadcast address.

The TA field is set to the address of the STA transmitting the NDP Announcement frame or the bandwidth signaling TA of the STA transmitting the NDP Announcement frame (see 9.2.4.3.8 and 10.6.6.6). In a VHT/HE/Ranging NDP Announcement frame transmitted by a VHT or HE STA in a non-HT or non-HT duplicate

format and where the scrambling sequence carries the TXVECTOR parameter CH\_BANDWIDTH\_IN\_NON\_HT, the TA field is set to a bandwidth signaling TA. If a Ranging NDP Announcement frame is addressed to a set of ISTAs in which at least two ISTAs have a TB ranging measurement exchange with a different BSSID in the Multiple BSSID set of the RSTA, then the TA field is the transmitted BSSID.

The format of the Sounding Dialog Token field is shown in Figure 9-74b.

![](c5616180b57a463028fe4da4a404d4c1_img.jpg)

| B0                           | B1 | B2                           | B7 |
|------------------------------|----|------------------------------|----|
| NDP Announcement TypeVariant |    | Sounding Dialog Token Number |    |
| Bits: 2                      |    | Bits: 6                      |    |

Figure 9-74b—Sounding Dialog Token field format

The NDP Announcement Variant subfield in the Sounding Dialog Token field identifies the NDP Announcement frame variant as defined in Table 9-42b.

Table 9-42b—NDP Announcement frame variant encoding

| NDP Announcement Variant subfield | NDP Announcement frame variant |
|-----------------------------------|--------------------------------|
| 0                                 | VHT NDP Announcement frame     |
| 1                                 | Ranging NDP Announcement frame |
| 2                                 | HE NDP Announcement frame      |
| 3                                 | EHT NDP Announcement frame     |

The Sounding Dialog Token Number subfield in the Sounding Dialog Token field contains a value selected by the beamformer to identify the VHT NDP Announcement frame.

The STA Info List field contains one or more,  $n$ , STA Info fields (see 9.3.1.19.2, 9.3.1.19.3, and 9.3.1.19.5).

### 9.3.1.19.2 VHT NDP Announcement frame format

*Insert the following paragraphs, figures, and table to this subclause:*

The frame format of the VHT NDP Announcement frame is shown in Figure 9-74c.

![](ce66e1645699b62f7cfbc09f0261d363_img.jpg)

| Frame Control | Duration | RA | TA | Sounding Dialog Token | STA Info List | FCS |
|---------------|----------|----|----|-----------------------|---------------|-----|
| Octets: 2     | 2        | 6  | 6  | 1                     | $n \times 2$  | 4   |

Figure 9-74c—VHT NDP Announcement frame format

If the VHT NDP Announcement frame is transmitted by a non-SIG STA, then the format of the STA Info field is shown in Figure 9-74d.

![](4583cafd9cff4e678a52dc54c441e223_img.jpg)

| B0       | B11 | B12           | B13 | B15      |
|----------|-----|---------------|-----|----------|
| AID12    |     | Feedback Type |     | Nc Index |
| Bits: 12 |     | 1             |     | 3        |

Figure 9-74d—STA Info field format in a non-S1G STA

The subfields in the STA Info field are described in Table 9-42c.

Table 9-42c—STA Info subfields

| Subfield      | Description                                                                                                                                                                                                        |
|---------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| AID12         | Contains the 12 least significant bits of the AID of a STA expected to process the following VHT NDP and prepare the sounding feedback. Equal to 0 if the STA is an AP, mesh STA, or IBSS STA.                     |
| Feedback Type | Indicates the type of feedback requested.<br>Set to 0 for SU.<br>Set to 1 for MU.                                                                                                                                  |
| Nc Index      | If the Feedback Type field indicates MU, then Nc Index indicates the number of columns minus 1, ( $N_c - 1$ ), in the compressed beamforming feedback matrix.<br>Reserved if the Feedback Type field indicates SU. |

If the VHT NDP Announcement frame is transmitted in an S1G PPDU, the frame is referred to as an S1G NDP Announcement frame, and the format of the STA Info field is shown in Figure 9-74e. The Feedback Type and Nc Index subfields are defined in Table 9-42c, wherein the Nc Index field does not indicate a value that is more than 4. The AID13 subfield contains the least significant bits of the AID of the STA that could process the following S1G NDP and prepare sounding feedback. The AID13 subfield is equal to 0 if the STA is an AP or is in an IBSS.

![](1cf907ba711d99e5f59ba09a91ba7740_img.jpg)

| B0       | B12 | B13           | B14 | B15      |
|----------|-----|---------------|-----|----------|
| AID13    |     | Feedback Type |     | Nc Index |
| Bits: 13 |     | 1             |     | 2        |

Figure 9-74e—STA Info field format in an S1G STA

### 9.3.1.19.3 HE NDP Announcement frame format

*Insert the following paragraphs, figures, and tables to this subclause:*

The format of the HE NDP Announcement frame is shown in Figure 9-74f.

The Duration, RA, and TA fields are set as in a VHT NDP Announcement frame.

The NDP Announcement Variant subfield is set to 2 to identify the frame as an HE NDP Announcement frame.

The Sounding Dialog Token Number field in the Sounding Dialog Token field contains a value selected by the beamformer to identify the HE NDP Announcement frame.

![](5cca0f4823b6e8de84c0952cc56704ae_img.jpg)

| Field                 | Octets       |
|-----------------------|--------------|
| Frame Control         | 2            |
| Duration              | 2            |
| RA                    | 6            |
| TA                    | 6            |
| Sounding Dialog Token | 1            |
| STA Info List         | $n \times 4$ |
| FCS                   | 4            |

**Figure 9-74f—HE NDP Announcement frame format**

The AID11 subfield encoding in the HE NDP Announcement frame is defined in Table 9-42a in 9.3.1.19.1.

The format of the STA Info field in an HE NDP Announcement Frame if the AID11 subfield is not set to 2047 is defined in Figure 9-74g.

![](552a33cc92a45c25fab3e1c980d379f7_img.jpg)

| Field                | Bits |
|----------------------|------|
| AID11                | 11   |
| Partial BW Info      | 14   |
| Feedback Type And Ng | 2    |
| Disambiguation       | 1    |
| Codebook Size        | 1    |
| Nc                   | 3    |

**Figure 9-74g—STA Info field format in an HE NDP Announcement frame if the AID11 subfield is not 2047**

An HE NDP Announcement frame contains at most 1 STA Info field per STA.

If the AID11 subfield is not 2047, then it contains an identifier of a STA expected to process the following HE sounding NDP and prepare the sounding feedback.

The Partial BW Info subfield is defined in Figure 9-74h.

![](caa75c3f07d6318059c4802105a104d7_img.jpg)

| Field          | Bits |
|----------------|------|
| RU Start Index | 7    |
| RU End Index   | 7    |

**Figure 9-74h—Partial BW Info subfield format**

The RU Start Index subfield in the Partial BW Info subfield indicates the first 26-tone RU for which the HE beamformer is requesting feedback. The RU End Index subfield of the Partial BW Info subfield indicates the last 26-tone RU for which the HE beamformer is requesting feedback. The value of the RU Start Index subfield is less than or equal to the value of the RU End Index subfield. The RU Start Index subfield and RU End Index subfield depend on the bandwidth of the PPDU carrying the HE NDP Announcement frame, which is indicated by the TXVECTOR parameter CH\_BANDWIDTH if the frame is carried in an HE, VHT, or HT PPDU and by the TXVECTOR parameter CH\_BANDWIDTH\_IN\_NON\_HT if the frame is carried in a non-HT duplicate PPDU, and is 20 MHz if the frame is carried in non-HT PPDU. The values of the RU Start Index subfield and RU End Index subfield are each selected from the following:

- Values 0 to 8 if the bandwidth of the PPDU carrying the HE NDP Announcement frame is 20 MHz, where 0 indicates 26-tone RU 1 and 8 indicates 26-tone RU 9. Values 9–127 are reserved. See Table 27-8.
- Values 0 to 17 if the bandwidth of the PPDU carrying the HE NDP Announcement frame is 40 MHz, where 0 indicates 26-tone RU 1 and 17 indicates 26-tone RU 18. Values 18–127 are reserved. See Table 27-9.

- Values 0 to 36 if the bandwidth of the PPDU carrying the HE NDP Announcement frame is 80 MHz, where 0 indicates 26-tone RU 1 and 36 indicates 26-tone RU 37. Values 37–127 are reserved. See Table 27-10.
- Values 0 to 73 if the bandwidth of the PPDU carrying the HE NDP Announcement frame is 160 MHz, where 0 indicates 26-tone RU 1 and 73 indicates 26-tone RU 74. Values 74–127 are reserved.
- Values 0 to 73 if the bandwidth of the PPDU carrying the HE NDP Announcement frame is 80+80 MHz, where 0 indicates 26-tone RU 1 in the lower 80 MHz frequency segment, 36 indicates 26-tone RU 37 in the lower 80 MHz frequency segment, 37 indicates 26-tone RU 1 in the upper 80 MHz frequency segment, and 73 indicates 26-tone RU 37 in the upper 80 MHz frequency segment. Values 74–127 are reserved. For 80+80 MHz, feedback is not requested for the gap between the 80 MHz segments. See Table 27-10.

The Feedback Type And Ng and Codebook Size subfields for HE TB sounding are defined in Table 9-42d.

**Table 9-42d—Feedback Type And Ng subfield and Codebook Size subfield encoding for HE TB sounding**

| Feedback Type And Ng |     | Codebook Size | Description                                                       |
|----------------------|-----|---------------|-------------------------------------------------------------------|
| B25                  | B26 | B28           |                                                                   |
| 0                    | 0   | 0             | SU, Ng = 4, quantization resolution ( $\phi$ , $\psi$ ) = {4, 2}  |
| 0                    | 0   | 1             | SU, Ng = 4, quantization resolution ( $\phi$ , $\psi$ ) = {6, 4}  |
| 0                    | 1   | 0             | SU, Ng = 16, quantization resolution ( $\phi$ , $\psi$ ) = {4, 2} |
| 0                    | 1   | 1             | SU, Ng = 16, quantization resolution ( $\phi$ , $\psi$ ) = {6, 4} |
| 1                    | 0   | 0             | MU, Ng = 4, quantization resolution ( $\phi$ , $\psi$ ) = {7, 5}  |
| 1                    | 0   | 1             | MU, Ng = 4, quantization resolution ( $\phi$ , $\psi$ ) = {9, 7}  |
| 1                    | 1   | 0             | CQI                                                               |
| 1                    | 1   | 1             | MU, Ng = 16, quantization resolution ( $\phi$ , $\psi$ ) = {9, 7} |

The Feedback Type And Ng and Codebook Size subfields for HE non-TB sounding are defined in Table 9-42e.

**Table 9-42e—Feedback Type And Ng subfield and Codebook Size subfield encoding for HE non-TB sounding**

| Feedback Type And Ng |          | Codebook Size | Description |
|----------------------|----------|---------------|-------------|
| B25                  | B26      | B28           |             |
| 0                    | Reserved | Reserved      | SU          |
| 1                    | 1        | 0             | CQI         |

The Disambiguation subfield is set to 1.

NOTE—Setting the Disambiguation subfield to 1 prevents a non-HE VHT STA from wrongly identifying its AID in the HE NDP Announcement frame. The Disambiguation subfield coincides with the MSB of the AID12 subfield of a VHT NDP Announcement frame if the HE NDP Announcement field is parsed as VHT NDP Announcement frame by a non-HE VHT STA. The MSB of the AID12 subfield is always 0 since the maximum AID is 2007.

In an HE NDP Announcement frame that has more than one STA Info field with a value other than 2047 in the AID11 subfield, the RA is a broadcast address and the following applies to each STA Info field with a value other than 2047:

- If the Feedback Type And  $N_g$  subfield indicates SU or MU, the  $N_c$  Index subfield indicates the number of columns in the compressed beamforming feedback matrix minus one,  $N_c - 1$
- If the Feedback Type And  $N_g$  subfield indicates CQI, the  $N_c$  Index subfield indicates the number of space-time streams in the CQI report minus one,  $N_c - 1$

In an HE NDP Announcement frame with a single STA Info field, the RA is an individual address, the AID11 subfield in the STA Info field has a value other than 2047, and the  $N_c$  Index subfield is reserved.

The format of the STA Info field in an HE NDP Announcement frame if the AID11 subfield is set to 2047 is defined in Figure 9-74i.

![](efa1eb7ada52b183d74bd2075c6a1b09_img.jpg)

| B0    | B10                          | B11 | B18      | B19 | B26            | B27 | B28      | B31 |
|-------|------------------------------|-----|----------|-----|----------------|-----|----------|-----|
| AID11 | Disallowed Subchannel Bitmap |     | Reserved |     | Disambiguation |     | Reserved |     |
| Bits: | 11                           | 8   | 8        | 1   | 4              |     |          |     |

Figure 9-74i—STA Info subfield format in an HE NDP Announcement frame if the AID11 subfield is 2047

The Disabled Subchannel Bitmap subfield indicates the 20 MHz subchannels and the 242-tone RUs that are present in HE sounding NDPs announced by the HE NDP Announcement frame and the 242-tone RUs that are to be included in requested sounding feedback. A 20 MHz subchannel is as defined in Clause 17 for the portions of the PPDU that use a tone plan as specified in Clause 17 and a 242-tone RU is as defined in 27.3.2). The lowest numbered bit of the Disabled Subchannel Bitmap subfield corresponds to the 20 MHz subchannel that lies within the BSS bandwidth and that has the lowest frequency of the set of all 20 MHz subchannels within the BSS bandwidth. Each successive bit in the bitmap corresponds to the next higher frequency 20 MHz subchannel. A bit in the bitmap is set to 1 to indicate that for the corresponding 20 MHz subchannel, no energy is present in the HE sounding NDP associated with this HE NDP Announcement frame. For each disallowed 20 MHz subchannel, the 242-tone RU that is most closely aligned in frequency with the 20 MHz subchannel is disallowed for PPDUs that use a tone plan as specified in Clause 27 (High-efficiency (HE) PHY specification). STAs addressed by the HE NDP Announcement frame do not include tones from disallowed 242-tone RUs when determining the average SNR of space time streams 1 to  $N_c$  and when generating requested sounding feedback. If a 20 MHz subchannel and its corresponding 242-tone RU is not disallowed, the corresponding bit in the bitmap is set to 0.

#### 9.3.1.19.4 Ranging NDP Announcement frame format

*Insert the following paragraphs and figures to this subclause:*

The frame format of the Ranging NDP Announcement frame is the same as the HE NDP Announcement frame shown in Figure 9-74f.

The Duration, RA, and TA fields are set as in a VHT NDP Announcement frame.

The NDP Announcement Variant subfield is set to 1 to identify the frame as an Ranging NDP Announcement frame.

The Sounding Dialog Token Number subfield in the Sounding Dialog Token (SDT) field contains a value in the range of 0 to 63, which identifies the Measurement Sounding phase of which this transmitted Ranging NDP Announcement frame is part; see 11.21.6.4.3 and 11.21.6.4.4.

The format of the STA Info field in a Ranging NDP Announcement frame, when the AID11 subfield is equal or less than 2007, is defined in Figure 9-74j.

![](e2d35c018c7ad760df1adcc547cd4112_img.jpg)

|                | B0 | B10 | B11 | B16 | B17 | B19 | B20 | B22 | B23 | B25 | B26 | B27 | B28 | B30 | B31 |
|----------------|----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|
| Bits:          | 11 | 6   | 3   | 3   | 3   | 3   | 3   | 3   | 3   | 1   | 1   | 3   | 1   |     |     |
| AID11          |    |     |     |     |     |     |     |     |     |     |     |     |     |     |     |
| LTF Offset     |    |     |     |     |     |     |     |     |     |     |     |     |     |     |     |
| R2I NSTS       |    |     |     |     |     |     |     |     |     |     |     |     |     |     |     |
| R2I Rep        |    |     |     |     |     |     |     |     |     |     |     |     |     |     |     |
| I2R NSTS       |    |     |     |     |     |     |     |     |     |     |     |     |     |     |     |
| Reserved       |    |     |     |     |     |     |     |     |     |     |     |     |     |     |     |
| Disambiguation |    |     |     |     |     |     |     |     |     |     |     |     |     |     |     |
| I2R Rep        |    |     |     |     |     |     |     |     |     |     |     |     |     |     |     |
| Reserved       |    |     |     |     |     |     |     |     |     |     |     |     |     |     |     |

Figure 9-74j—STA Info field format in a Ranging NDP Announcement frame if the AID11 subfield is less than 2008

A Ranging NDP Announcement frame contains one STA Info field with AID11 subfield equal or less than 2007 per STA that is intended to receive this frame.

In the case of the non-TB ranging measurement exchange (see 11.21.6.4.4), there is always only one intended receiver and the RA field is set to the address of that STA.

In the case of the TB ranging measurement exchange (see 11.21.6.4.3), the RA field is set to the broadcast address if more than one STA is intended to receive this frame; otherwise the RA field is set to the address of the STA that is intended to receive this frame.

If the AID11 subfield is equal or less than 2007, it identifies a STA that is intended to receive this frame and assigns the parameters within this STA Info field to this STA. In case of the TB ranging measurement exchange, see 11.21.6.4.3, the AID11 subfield contains the 11 least significant bits of the AID of an associated STA, or the RSID of an unassociated STA, when it is expected to process the following NDP. In case of the non-TB ranging measurement exchange (see 11.21.6.4.4), the intended receiver is identified by the RA field and the AID11 subfield is set to 0.

When used as part of the TB ranging measurement exchange (see 11.21.6.4.3), the LTF Offset, R2I NSTS, and R2I Rep subfields are used to indicate the following R2I NDP's HE-LTF configuration (see 27.3.19.1); the I2R NSTS and the I2R Rep subfields are reserved.

When used as part of the non-TB ranging measurement exchange, the I2R NSTS and I2R Rep subfields are used to indicate the following I2R NDP's HE-LTF configuration, see 27.3.19.1, while the R2I NSTS and R2I Rep subfields indicate the HE-LTF configuration of the R2I NDP sent in response by the RSTA, see 11.21.6.4.4.

The LTF Offset subfield is used in the TB ranging measurement exchange protocol with secure LTF (see 11.21.6.4.5.2); it indicates the number of HE-LTF to skip when processing the following NDP. The LTF Offset subfield is set to 0 in all other cases.

The R2I NSTS and I2R NSTS subfields indicate the number of spatial streams of the corresponding NDP and is set to the number of spatial streams minus 1.

The R2I Rep and I2R Rep subfields are set to the number of HE-LTF repetitions of the corresponding HE Ranging NDP minus 1; see 27.3.19.1. If the I2R and R2I Rep subfields have a value equal to 0, then there is no HE-LTF repetition in the I2R and R2I NDP respectively.

The Disambiguation subfield is set to 1 as in the STA Info field in an HE NDP Announcement frame regardless of the value of the AID11 subfield.

The format of the STA Info field in a Ranging NDP Announcement frame when the AID is equal to 2043 is shown in Figure 9-74k. It is used in the non-TB ranging measurement exchange with secure LTF to carry the sequence authentication code (SAC).

![](3aa4b7502e8f19d87e2cb8f36ed86c1a_img.jpg)

|       | B0    | B10 | B11 | B26 | B27            | B28      | B31 |
|-------|-------|-----|-----|-----|----------------|----------|-----|
|       | AID11 |     |     | SAC | Disambiguation | Reserved |     |
| Bits: | 11    |     |     | 16  | 1              | 4        |     |

**Figure 9-74k—STA Info field format in a Ranging NDP Announcement frame if the AID11 subfield is 2043**

The SAC subfield contains the 16-bit SAC used in the non-TB ranging measurement exchange with secure LTF; see 11.21.6.4.5.3.

The format of the STA Info field in a Ranging NDP Announcement frame if the AID11 subfield is equal to 2044 as is shown in Figure 9-74l.

![](c77a81eb8eeed17d1c4b588a9251e661_img.jpg)

|       | B0    | B10 | B11 | B26         | B27            | B28      | B29   | B31 |
|-------|-------|-----|-----|-------------|----------------|----------|-------|-----|
|       | AID11 |     |     | Partial TSF | Disambiguation | Reserved | Token |     |
| Bits: | 11    |     |     | 16          | 1              | 1        | 3     |     |

**Figure 9-74l—STA Info field format in a Ranging NDP Announcement frame if the AID11 subfield is equal to 2044**

The STA Info field, with AID11 subfield equal to 2044, is present in Ranging NDP Announcement frames when part of the TB ranging measurement exchange. It is used to carry the Partial TSF subfield. The Partial TSF subfield contains 16 bits of the RSTA's TSF time, TSF[21:6], when the RSTA transmitted the TF Ranging Poll that preceded the Ranging NDP Announcement frame, carrying this STA Info field with AID subfield equal to 2044.

The Token subfield is set to the value of the Token subfield of the TF Ranging Poll whose partial transmission TSF time is carried.

The format of the STA Info field with AID11 subfield equal to 2045 is shown in Figure 9-74m.

![](3a740a72bfd12271423fde6ef4791a7a_img.jpg)

|       | B0    | B10 | B11 | B18              | B19                 | B26            | B27      | B28 | B31 |
|-------|-------|-----|-----|------------------|---------------------|----------------|----------|-----|-----|
|       | AID11 |     |     | I2R NDP Tx Power | R2I NDP Target RSSI | Disambiguation | Reserved |     |     |
| Bits: | 11    |     |     | 8                | 16                  | 1              | 3        |     |     |

**Figure 9-74m—STA Info field format in a Ranging NDP Announcement frame if the AID11 subfield is equal to 2045**

The STA Info field with AID11 subfield equal to 2045 is used in the non-TB ranging measurement exchange, see 11.21.6.4.4 (Non-TB ranging measurement exchange), to carry the I2R NDP Tx Power and R2I NDP Target RSSI subfields.

The I2R NDP Tx Power subfield indicates the combined average power per 20 MHz bandwidth referenced to the antenna connector, of all antennas used to transmit the following I2R NDP. The transmit power is reported with a resolution of 1 dB, with values in the range 0 to 60 representing -20 dBm to 40 dBm, respectively. Values above 60 are reserved.

The R2I NDP Target RSSI subfield indicates the preferred receive signal power, averaged over the ISTA's antenna connectors, for future R2I NDPs to be transmitted by the RSTA. The preferred receive signal power in units of dBm is  $TargetRSSI = -110 + F_{val}$ , where  $F_{val}$  is the value of the R2I NDP Target RSSI subfield, except that values above 90 indicate that the ISTA has no receive signal power preference for the R2I NDPs.

#### 9.3.1.19.5 EHT NDP Announcement frame format

*Insert the following paragraphs, figures, and table to this subclause:*

The frame format of the EHT NDP Announcement frame is the same as the HE NDP Announcement frame shown in Figure 9-74f.

The Duration, RA, and TA fields are set as in a VHT NDP Announcement frame.

The NDP Announcement Variant subfield is set to 3 to identify the frame as an EHT NDP Announcement frame.

The Sounding Dialog Token Number subfield in the Sounding Dialog Token field contains a value selected by the beamformer to identify the EHT NDP Announcement frame.

The format of a STA Info field in an EHT NDP Announcement frame is defined in Figure 9-74n.

![](dc87f0537713e68c4e0dcdcbbd0e417b_img.jpg)

|       | B0    | B10             | B11 | B19      | B20      | B21 | B24                  | B25 | B26            | B27           | B28      | B29      | B31 |
|-------|-------|-----------------|-----|----------|----------|-----|----------------------|-----|----------------|---------------|----------|----------|-----|
|       | AID11 | Partial BW Info |     | Reserved | Nc Index |     | Feedback Type And Ng |     | Disambiguation | Codebook Size | Reserved | Reserved |     |
| Bits: | 11    | 9               | 1   | 4        | 2        | 1   | 1                    | 3   |                |               |          |          |     |

Figure 9-74n—STA Info field format in an EHT NDP Announcement frame

The AID11 subfield contains an identifier of a STA expected to process the following EHT sounding NDP and prepare the sounding feedback.

The Partial BW Info subfield is defined in Figure 9-74o.

![](9db46435113bf3b6840aeb875e65f5a2_img.jpg)

|       | B0         | B1              | B8 |
|-------|------------|-----------------|----|
|       | Resolution | Feedback Bitmap |    |
| Bits: | 1          | 8               |    |

Figure 9-74o—Partial BW Info subfield format

The Resolution subfield in the Partial BW Info subfield indicates the resolution bandwidth for each bit in the Feedback Bitmap subfield.

The Feedback Bitmap subfield indicates whether feedback is requested for each resolution bandwidth and is ordered from lowest frequency to highest frequency, followed by zeros. A bit in the Feedback Bitmap subfield set to 1 indicates that feedback is requested for the corresponding frequency with the resolution bandwidth; and so B1 set to 1 indicates a request for feedback for the lowest frequency at the indicated resolution bandwidth.

When the bandwidth of the PPDU carrying the EHT NDP Announcement frame is less than 320 MHz, the Resolution bit B0 is set to 0 to indicate a resolution of 20 MHz.

- When the bandwidth of the PPDU carrying the EHT NDP Announcement frame is equal to 20 MHz, B1 is set to 1 to indicate the request of feedback on the 242-tone RU. B2–B8 are set to 0.
- When the bandwidth of the PPDU carrying the EHT NDP Announcement frame is equal to 40 MHz, B1 and B2 indicate the request of feedback on each of the two 242-tone RUs from lower frequency to higher frequency. B3–B8 are set to 0.
- When the bandwidth of the PPDU carrying the EHT NDP Announcement frame is equal to 80 MHz, if B1–B4 are all set to 1, it indicates the feedback request on the 996-tone RU, otherwise, B1–B4 indicate the request of feedback on each of the four 242-tone RUs from lower frequency to higher frequency. B5–B8 are set to 0.
- When the bandwidth of the PPDU carrying the EHT NDP Announcement frame is equal to 160 MHz, if B1–B4 are all set to 1, it indicates the feedback request on the lower 996-tone RU, otherwise, B1–B4 indicate the request of feedback on each of four 242-tone RUs from lower frequency to higher frequency in the lower 80 MHz. If B5–B8 are all set to 1, it indicates the feedback request on the upper 996-tone RU, otherwise, B5–B8 indicate the request of feedback on each of the four 242-tone RUs from lower frequency to higher frequency in the upper 80 MHz.

When the bandwidth of the PPDU carrying the EHT NDP Announcement frame is equal to 320 MHz, the Resolution subfield (B0) is set to 1 to indicate a resolution of 40 MHz. If B1 and B2 are both set to 1, it indicates the feedback request on the lowest 996-tone RU, otherwise, B1 and B2 indicate the request of feedback on each of the two 484-tone RUs from lower frequency to higher frequency in the lowest 80 MHz. If B3 and B4 are both set to 1, it indicates the feedback request on the second lowest 996-tone RU, otherwise, B3 and B4 indicate the request of feedback on each of the two 484-tone RUs from lower frequency to higher frequency in the second lowest 80 MHz. If B5 and B6 are both set to 1, it indicates the feedback request on the third lowest 996-tone RU, otherwise, B5 and B6 indicate the request of feedback on each of the two 484-tone RUs from lower frequency to higher frequency in the third lowest 80 MHz. If B7 and B8 are both set to 1, it indicates the feedback request on the highest 996-tone RU, otherwise, B7 and B8 indicate the request of feedback on each of the two 484-tone RUs from lower frequency to higher frequency in the highest 80 MHz. The feedback tone sets for each 484-tone RU is composed of the feedback tone sets of the two 242-tone RUs overlapping with the 484-tone RU.

The Partial BW Info subfield is defined in Table 9-42f. Any values of the Partial BW Info subfield other than the ones defined in Table 9-42f are reserved.

The Feedback Type And Ng and Codebook Size subfields for EHT TB sounding are the same as for HE TB sounding defined in Table 9-42d. The Feedback Type And Ng and Codebook Size subfields for EHT non-TB sounding are the same as for HE non-TB sounding defined in Table 9-42e. The Disambiguation subfield is set to 1.

NOTE—Setting the Disambiguation subfield to 1 prevents a non-EHT VHT STA from incorrectly identifying its AID in the EHT NDP Announcement frame. The Disambiguation subfield coincides with the MSB of the AID12 subfield of a VHT NDP Announcement frame if the EHT NDP Announcement field is parsed as a VHT NDP Announcement frame by a non-EHT VHT STA. The MSB of the AID12 subfield is always 0 since the maximum AID is 2007.

IEEE Standard for Information Technology—Local and Metropolitan Area Networks—Specific Requirements Part 11: Wireless LAN MAC and PHY Specifications

Amendment 2: Enhancements for Extremely High Throughput (EHT)

## **Table 9-42f—Settings for BW, Partial Bandwidth Info subfield in the EHT NDP** **Announcement frame**

| Feedback RU<br>or MRU size | Bandwidth of<br>the PPDU<br>carrying the<br>EHT NDP<br>Announcement<br>frame (MHz) | Partial BW Info subfield values in binary<br>format (B0 B1 B2 B3 B4 B5 B6 B7 B8)                                                         | Operating channel<br>width of the EHT<br>beamformee (MHz) |  |  |
|----------------------------|------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------|--|--|
| 242                        | 20                                                                                 | 010000000                                                                                                                                | 20, 40, 80, 160, 320                                      |  |  |
|                            | 40                                                                                 | 010000000, 001000000                                                                                                                     |                                                           |  |  |
|                            | 80                                                                                 | 010000000, 001000000, 000100000, 000010000                                                                                               | 20, 80, 160, 320                                          |  |  |
|                            | 160                                                                                | 010000000, 001000000, 000100000, 000010000,<br>000001000, 000000100, 000000010, 000000001                                                |                                                           |  |  |
| 484                        | 40                                                                                 | 011000000                                                                                                                                | 40, 80, 160, 320                                          |  |  |
|                            | 80                                                                                 | 011000000, 000110000                                                                                                                     | 80, 160, 320                                              |  |  |
|                            | 160                                                                                | 011000000, 000110000, 000001100, 000000011                                                                                               |                                                           |  |  |
|                            | 320                                                                                | 110000000, 101000000, 100100000, 100010000,<br>100001000, 100000100, 100000010, 100000001                                                |                                                           |  |  |
| 484+242                    | 80<br>011100000, 011010000, 010110000, 001110000                                   |                                                                                                                                          |                                                           |  |  |
| 160                        |                                                                                    | 011100000, 011010000, 010110000, 001110000,<br>000001110, 000001101, 000001011, 000000111                                                |                                                           |  |  |
| 996                        | 80                                                                                 | 011110000                                                                                                                                |                                                           |  |  |
|                            | 160                                                                                | 011110000, 000001111                                                                                                                     |                                                           |  |  |
|                            | 320                                                                                | 111000000, 100110000, 100001100, 100000011                                                                                               |                                                           |  |  |
| 996+484                    | 160                                                                                | 011111100, 011110011, 011001111, 000111111                                                                                               | 160, 320                                                  |  |  |
|                            | 320                                                                                | 111100000, 111010000, 110110000, 101110000,<br>100001110, 100001101, 100001011, 100000111                                                |                                                           |  |  |
| 996+484+242                | 160                                                                                | 011101111, 011011111, 010111111, 001111111,<br>011111110, 011111101, 011111011, 011110111                                                |                                                           |  |  |
| 2×996                      | 160                                                                                | 011111111                                                                                                                                |                                                           |  |  |
|                            | 320                                                                                | 111110000, 100001111                                                                                                                     |                                                           |  |  |
| 2×996+484                  | 320                                                                                | 111111000, 111110100, 111101100, 111011100,<br>110111100, 101111100, 100111110, 100111101,<br>100111011, 100110111, 100101111, 100011111 | 320                                                       |  |  |
| 3×996                      | 320                                                                                | 111111100, 111110011, 111001111, 100111111                                                                                               |                                                           |  |  |
| 3×996+484                  | 320                                                                                | 111111110, 111111101, 111111011, 111110111,<br>111101111, 111011111, 110111111, 101111111                                                |                                                           |  |  |
| 4×996                      | 320                                                                                | 111111111                                                                                                                                |                                                           |  |  |

In an EHT NDP Announcement frame with more than one STA Info field that contains a value less than 2008 in the AID11 subfield, the RA is a broadcast address and the following applies:

- If the Feedback Type And Ng subfield and the Codebook Size subfield indicate SU or MU, the Ng Index subfield indicates the number of columns in the compressed beamforming feedback matrix minus 1,  $Nc - 1$ . Ng Index subfield values above 7 are reserved.
- If the Feedback Type And Ng subfield and the Codebook Size subfield indicate CQI, the Ng Index subfield indicates the number of spatial streams in the CQI report minus 1,  $Nc - 1$ . Ng Index subfield values above 7 are reserved.

In an EHT NDP Announcement frame with a single STA Info field that contains a value less than 2008 in the AID11 subfield, the RA is an individual address and the Ng index subfield is reserved.

### 9.3.1.22 Trigger frame format

#### 9.3.1.22.1 General

*Change the first paragraph as follows:*

A Trigger frame that is not an MU-RTS Trigger frame allocates resources for and solicits one or more HE TB PPDU transmissions. An MU-RTS Trigger frame allocates resources for one or more PPDUUs that are not TB PPDUUs (see 26.2.6, 35.2.1.2, and 35.2.2). The Trigger frame also carries other information required by the responding STA to send an HE TB PPDU (see 26.5.2), an EHT TB PPDU (see 35.5.2), a non-HT PPDU or a non-HT duplicate PPDU (see 26.2.6, 35.2.1.2, and 35.2.2), HE Ranging NDP (see 11.21.6.1.3), or HE TB Ranging NDP (see 11.21.6.4.3) in response to the Trigger frame.

*Change the fourth paragraph as follows:*

The RA field is set as follows:

- For a Trigger frame that is not a GCR MU-BAR, NFRP or MU-RTS Trigger frame, and that has one User Info field that is not a Special User Info field (see 9.3.1.22.3) and the AID12 subfield of the User Info field contains the AID of a non-AP STA, the RA field is set to the address of that STA
- For a Trigger frame that has at least one User Info field with the AID12 subfield that allocates an RA-RU, the RA field is set to the broadcast address
- For a Trigger frame that is not a GCR MU-BAR Trigger frame and that has more than one User Info field that is not a Special User Info field (see 9.3.1.22.3), the RA field is set to the broadcast address
- For a Trigger frame that is an NFRP Trigger frame or MU-RTS Trigger frame, the RA field is set to the broadcast address
- For a Trigger frame that is a GCR MU-BAR Trigger frame, the RA field is set to the MAC address of the group for which reception status is being requested

*Insert the following paragraph after the fifth paragraph ("The TA field is the address of..."):*

The Common Info field is defined in 9.3.1.22.2.

*Delete the paragraphs, figures, and tables that begin from "The Common Info field is defined in Figure 9-91..." to "The Trigger Dependent Common Info subfield in the Common Info field is optionally present..."*

*Insert the following five paragraphs and a table right after the above-mentioned deleted paragraphs:*

There are three variants for the User Info field: Special User Info field (see 9.3.1.22.3), HE variant User Info field (see 9.3.1.22.4), and EHT variant User Info field (see 9.3.1.22.5).

All User Info fields (including the Special User Info field) in the User Info List field of a Trigger frame have the same length unless the Trigger frame is an MU-BAR Trigger frame (see 9.3.1.2.2.8 and 9.3.1.22.3).

A User Info field that is addressed to a non-AP STA is either an HE variant or an EHT variant. The User Info field is an HE variant addressed to a non-AP EHT STA if B39 of the User Info field is set to 0 and B54 of the Common Info field is set to 1 in the Trigger frame; otherwise, it is an EHT variant. B39 of an HE variant User Info field is reserved for a non-EHT HE STA. B39 is set to 0 for an HE variant User Info field by an EHT AP, and is the PS160 subfield for an EHT variant User Info field. Table 9-46a defines valid combinations of B54 and B55 in the Common Info field, B39 in the User Info field, the presence of the Special User Info field in the Trigger frame, the variant of a User Info field, and the corresponding TB PPDU type.

Table 9-46a—Valid combinations of B54 and B55 in the Common Info field, B39 in the User Info field, and solicited TB PPDU format

| Common Info field B54 | Common Info field B55 | User Info field B39 | Presence of Special User Info field | User Info field variant | TB PPDU type |
|-----------------------|-----------------------|---------------------|-------------------------------------|-------------------------|--------------|
| 1                     | 1                     | 0                   | No                                  | HE variant              | HE           |
| 0                     | 0                     | 0                   | Yes                                 | EHT variant             | EHT          |
| 0                     | 0                     | 1                   | Yes                                 | EHT variant             | EHT          |
| 1                     | 0                     | 1                   | Yes                                 | EHT variant             | EHT          |
| 1                     | 0                     | 0                   | Yes                                 | HE variant              | HE           |

NOTE 1—For example, if an EHT AP sends a Trigger frame that intends to solicit an EHT TB PPDU with a 4×996-tone RU from an EHT STA, then the AP sets B54 and B55 of the Common Info field to 0 and sets B39 to 1 in the User Info field addressed to the STA.

NOTE 2—Although the last two rows in Table 9-46a are not used by an EHT AP (see 35.5.2.1), a non-AP EHT STA might respond to a Trigger frame with B54 in the Common Info field equal to 1 and with B55 in the Common Info field equal to 0 based on the two rows.

*Delete the paragraphs, figures, and tables that begin from “The User Info field is defined in Figure 9-93...” to “The Trigger Dependent User Info subfield in...”.*

*Change the last paragraph, include splitting it into two paragraphs, as follows:*

The Padding field is optionally present in a Trigger frame to extend the frame length for the following purposes:

1. To give the recipient STAs enough time to prepare a response for transmission a SIFS after the frame is received.
2. To align the end time of simultaneously transmitted PPDU as described in 35.3.16.5.

The Padding field, if present, is at least two octets in length and is set to all 1s. If the Padding field is present in a Trigger frame, its length is computed as described in 26.5.2.2.3 and 35.5.2.2.3.

*Insert a new child subclause of 9.3.1.22 as follows:*

### 9.3.1.22.2 Common Info field

*Insert the following paragraphs, figures, and tables:*

A non-EHT non-AP HE STA interprets the Common Info field as an HE variant Common Info field. A non-AP EHT STA interprets the Common Info field as an HE variant Common Info field if B54 and B55 in the Common Info field are equal to 1; and interprets the Common Info field as an EHT variant Common Info field otherwise.

The HE variant Common Info field is defined in Figure 9-90a.

![](be340a80845e55d744bd90a4f2c0dd67_img.jpg)

|              | B0 | B3 | B4 B15    | B16     | B17         | B18 B19 | B20                         | B21 | B22                 | B23 | B25                                               |
|--------------|----|----|-----------|---------|-------------|---------|-----------------------------|-----|---------------------|-----|---------------------------------------------------|
| Bits:        | 4  | 12 | 1         | 1       | 1           | 2       | 2                           | 1   | 3                   |     |                                                   |
| Trigger Type |    |    | UL Length | More TF | CS Required | UL BW   | GI And HE-LTF Type/TXS Mode |     | MU-MIMO HE-LTF Mode |     | Number Of HE-LTF Symbols And Midamble Periodicity |

|         | B26 | B27 | B28 B33     | B34 B35                | B36             | B37 B52          | B53     | B54                   | B62 |
|---------|-----|-----|-------------|------------------------|-----------------|------------------|---------|-----------------------|-----|
| Bits:   | 1   | 1   | 6           | 2                      | 1               | 16               | 1       | 9                     |     |
| UL STBC |     |     | AP Tx Power | Pre-FEC Padding Factor | PE Disambiguity | UL Spatial Reuse | Doppler | UL HE-SIG-A2 Reserved |     |

|          | B63                           |
|----------|-------------------------------|
| Bits:    | 1                             |
| Reserved | Trigger Dependent Common Info |

Figure 9-90a—HE variant Common Info field format

The EHT variant Common Info field is defined in Figure 9-90b.

![](877cc2db8b4859a851aebf179fc3b868_img.jpg)

|       | B0           | B3        | B4      | B15         | B16   | B17                             | B18      | B19                          | B20 | B21 | B22 | B23 | B25 |
|-------|--------------|-----------|---------|-------------|-------|---------------------------------|----------|------------------------------|-----|-----|-----|-----|-----|
|       | Trigger Type | UL Length | More TF | CS Required | UL BW | GI And HE/EHT-LTF Type/TXS Mode | Reserved | Number Of HE/EHT-LTF Symbols |     |     |     |     |     |
| Bits: | 4            | 12        | 1       | 1           | 2     | 2                               | 1        | 3                            |     |     |     |     |     |

  

|       | B26      | B27                       | B28         | B33                    | B34             | B35              | B36      | B37         | B52 | B53 | B54 |
|-------|----------|---------------------------|-------------|------------------------|-----------------|------------------|----------|-------------|-----|-----|-----|
|       | Reserved | LDPC Extra Symbol Segment | AP Tx Power | Pre-FEC Padding Factor | PE Disambiguity | UL Spatial Reuse | Reserved | HE/EHT P160 |     |     |     |
| Bits: | 1        | 1                         | 6           | 2                      | 1               | 16               | 1        | 1           |     |     |     |

  

|       | B55                          | B56          | B62      | B63                           |
|-------|------------------------------|--------------|----------|-------------------------------|
|       | Special User Info Field Flag | EHT Reserved | Reserved | Trigger Dependent Common Info |
| Bits: | 1                            | 7            | 1        | variable                      |

Figure 9-90b—EHT variant Common Info field format

NOTE 1—For backward compatibility with HE variant Common Info field, an EHT AP sets B22, B26, B53, and B63 to 0 and sets B56–B62 to 1 in the EHT variant Common Info field.

The HE variant Common Info field and the EHT variant Common Info field use the same encoding method for the Trigger Type, UL Length, More TF, CS Required, LDPC Extra Symbol Segment, AP TX Power, Pre-FEC Padding Factor, PE Disambiguity, and Trigger Dependent Common Info subfields.

The Trigger Type subfield identifies the Trigger frame variant, and its encoding is defined in Table 9-46b.

Table 9-46b—Trigger Type subfield encoding

| Trigger Type subfield value | Trigger frame variant              |
|-----------------------------|------------------------------------|
| 0                           | Basic                              |
| 1                           | Beamforming Report Poll (BFRP)     |
| 2                           | MU-BAR                             |
| 3                           | MU-RTS                             |
| 4                           | Buffer Status Report Poll (BSRP)   |
| 5                           | GCR MU-BAR                         |
| 6                           | Bandwidth Query Report Poll (BQRP) |
| 7                           | NDP Feedback Report Poll (NFRP)    |
| 8                           | Ranging                            |
| 9–15                        | Reserved                           |

The UL Length subfield of the Common Info field indicates the value of the L-SIG LENGTH field of the solicited TB PPDU. The UL Length subfield is set:

- As defined in 26.5.2.2.4 if the solicited PPDU is an HE TB PPDU.
- As defined in 35.5.2.2.4 if the solicited PPDU is an EHT TB PPDU.

The More TF subfield of the Common Info field indicates whether or not a subsequent Trigger frame is scheduled for transmission. The More TF subfield is set as defined in 26.8.2, 26.8.3.2, and 11.21.6.4.3.

The CS Required subfield of the Common Info field is set to 1 to indicate that the STAs identified in the User Info fields are required to use ED to sense the medium and to consider the medium state and the NAV in determining whether or not to respond. The CS Required subfield is set to 0 to indicate that the STAs identified in the User Info fields are not required to consider the medium state or the NAV in determining whether or not to respond. See 26.5.2.3, 26.5.2.5, 35.5.2.3, and 35.5.2.4 for details.

The UL BW subfield of the HE variant Common Info field indicates the bandwidth in the HE-SIG-A of the HE TB PPDU and is defined in Table 9-46c.

**Table 9-46c—UL BW subfield encoding**

| UL BW subfield value | Description          |
|----------------------|----------------------|
| 0                    | 20 MHz               |
| 1                    | 40 MHz               |
| 2                    | 80 MHz               |
| 3                    | 80+80 MHz or 160 MHz |

The UL BW subfield of the EHT variant Common Info field along with the UL BW Extension subfield of the Special User Info field indicates the bandwidth in the U-SIG field of the EHT TB PPDU and is defined in Table 9-46g.

NOTE 2—80+80 MHz is not defined for an EHT TB PPDU (see 36.1).

If the Trigger Type subfield (B0–B3) indicates an MU-RTS Trigger frame, then B20–B21 of the HE or EHT variant Common Info field is the TXS Mode subfield. Otherwise, B20–B21 of the HE variant Common Info field is the GI And HE-LTF Type subfield, and B20–B21 of the EHT variant Common Info field is the GI And HE/EHT-LTF Type subfield. The GI And HE-LTF Type subfield or GI And HE/EHT-LTF Type subfield of the Common Info field indicates the GI and HE/EHT-LTF type of the HE or EHT TB PPDU response. The GI And HE-LTF Type subfield or GI And HE/EHT-LTF Type subfield is present in a Trigger frame that solicits a TB PPDU response and its encoding is defined in Table 9-46d. The encoding of TXS Mode subfield in an HE or EHT variant Common Info field is shown in Table 9-46n. The TXS Mode subfield is defined in 9.3.1.22.9.

**Table 9-46d—GI And HE/EHT-LTF Type subfield encoding**

| GI And HE/EHT-LTF Type subfield value | Description                                       |
|---------------------------------------|---------------------------------------------------|
| 0                                     | $1 \times \text{HE/EHT-LTF} + 1.6 \mu\text{s GI}$ |
| 1                                     | $2 \times \text{HE/EHT-LTF} + 1.6 \mu\text{s GI}$ |
| 2                                     | $4 \times \text{HE/EHT-LTF} + 3.2 \mu\text{s GI}$ |
| 3                                     | Reserved                                          |

The MU-MIMO HE-LTF Mode subfield of the HE variant Common Info field indicates the HE-LTF mode for an HE TB PPDU that has an RU that spans the entire bandwidth and that is assigned to more than one non-AP STA (i.e., for UL MU-MIMO) when the GI And HE-LTF Type subfield of the HE variant Common Info field indicates either  $2 \times \text{HE-LTF} + 1.6 \mu\text{s GI}$  or  $4 \times \text{HE-LTF} + 3.2 \mu\text{s GI}$ , as defined in Table 9-46e.

Otherwise, this subfield is set to indicate HE single stream pilot HE-LTF mode. B22 of the EHT variant Common Info field is reserved and is set to 0.

Table 9-46e—MU-MIMO HE-LTF Mode subfield encoding

| MU-MIMO HE-LTF subfield value | Description                        |
|-------------------------------|------------------------------------|
| 0                             | HE single stream pilot HE-LTF mode |
| 1                             | HE masked HE-LTF sequence mode     |

In an HE variant Common Info field with the Doppler subfield set to 0 or in an EHT variant Common Info field, the Number Of HE-LTF Symbols And Midamble Periodicity subfield of the HE variant Common Info field or the Number Of HE/EHT-LTF Symbols subfield of the EHT variant Common Info field indicates the number of HE-LTF symbols present in the HE TB PPDU or EHT-LTF symbols present in the EHT TB PPDU, respectively, and is encoded as follows:

- 0 for 1 HE-LTF or EHT-LTF symbol
- 1 for 2 HE-LTF or EHT-LTF symbols
- 2 for 4 HE-LTF or EHT-LTF symbols
- 3 for 6 HE-LTF or EHT-LTF symbols
- 4 for 8 HE-LTF or EHT-LTF symbols
- 5–7 is reserved

If the Doppler subfield of the HE variant Common Info field is 1, then the Number Of HE-LTF Symbols And Midamble Periodicity subfield indicates the number of HE-LTF symbols and the periodicity of the midamble and is encoded as follows:

- 0 for 1 HE-LTF symbol and 10 symbol midamble periodicity
- 1 for 2 HE-LTF symbols and 10 symbol midamble periodicity
- 2 for 4 HE-LTF symbols and 10 symbol midamble periodicity
- 4 for 1 HE-LTF symbol and 20 symbol midamble periodicity
- 5 for 2 HE-LTF symbols and 20 symbol midamble periodicity
- 6 for 4 HE-LTF symbols and 20 symbol midamble periodicity
- 3 and 7 are reserved

The UL STBC subfield of the HE variant Common Info field indicates the status of STBC encoding for the solicited HE TB PPDU. It is set to 1 to indicate STBC encoding and set to 0 otherwise.

B26 of the EHT variant Common Info field is reserved and is set to 0.

The LDPC Extra Symbol Segment subfield of the Common Info field indicates the status of the LDPC extra symbol segment. It is set to 1 if the LDPC extra symbol segment is present in the solicited HE or EHT TB PPDU and set to 0 otherwise.

The AP Tx Power subfield of the Common Info field indicates the AP's combined transmit power at the transmit antenna connector of all the antennas used to transmit the triggering PPDU in units of dBm/20 MHz. The transmit power in dBm/20 MHz,  $P_{Tx}$ , is calculated as  $P_{Tx} = -20 + F_{val}$ , where  $F_{val}$  is the value of the AP Tx Power subfield. Values above 60 are reserved for the AP Tx Power subfield.

The Pre-FEC Padding Factor and PE Disambiguity subfields are defined in Table 9-46f and have the same encoding as their respective subfields in HE SIG-A (see Table 27-21) or as in their respective subfields in EHT-SIG (see Table 36-33).

Table 9-46f—Pre-FEC Padding Factor and PE Disambiguity subfields

| Subfield               | Description                          | Encoding                                                                                                                                                                                                                         |
|------------------------|--------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Pre-FEC Padding Factor | Indicates the pre-FEC padding factor | Set to 0 to indicate a pre-FEC padding factor of 4<br>Set to 1 to indicate a pre-FEC padding factor of 1<br>Set to 2 to indicate a pre-FEC padding factor of 2<br>Set to 3 to indicate a pre-FEC padding factor of 3             |
| PE Disambiguity        | Indicates PE disambiguity            | When an HE TB PPDU is solicited, set to 1 if the condition in Equation (27-118) is met; otherwise, it is set to 0<br>When an EHT TB PPDU is solicited, set to 1 if the condition in Equation (36-94) is met; otherwise, set to 0 |

When the Trigger frame solicits an HE TB PPDU, the UL Spatial Reuse subfield of the HE variant Common Info field carries the values to be included in the Spatial Reuse fields in the HE-SIG-A field of the solicited HE TB PPDU. The format of the UL Spatial Reuse subfield is shown in Figure 9-90c, where each Spatial Reuse  $n$  subfield,  $1 \le n \le 4$ , is set to the same value as its corresponding subfield in the HE-SIG-A field of the HE TB PPDU, which are defined in Table 27-22.

![](0f2577d785581b62afd951e7ed9e8d28_img.jpg)

Diagram illustrating the UL Spatial Reuse subfield format, showing 16 bits (B0 to B15) divided into four 4-bit subfields:

| Bit Range | Subfield        |
|-----------|-----------------|
| B0–B3     | Spatial Reuse 1 |
| B4–B7     | Spatial Reuse 2 |
| B8–B11    | Spatial Reuse 3 |
| B12–B15   | Spatial Reuse 4 |

Bits: 4 4 4 4

Figure 9-90c—UL Spatial Reuse subfield format

When the Trigger frame solicits an EHT TB PPDU, each Spatial Reuse  $n$  subfield,  $1 \le n \le 4$ , of the EHT variant Common Info field is determined based on either the EHT Spatial Reuse 1 subfield or the EHT Spatial Reuse 2 subfield of the Special User Info field (see 9.3.1.22.3) as described below.

When the Trigger frame solicits a 20 MHz EHT TB PPDU, each Spatial Reuse  $n$  subfield,  $1 \le n \le 4$ , of the Common Info field is set to the value of the EHT Spatial Reuse 1 subfield of the Special User Info field.

When the Trigger frame solicits a 40 MHz EHT TB PPDU, the Spatial Reuse 1 subfield and the Spatial Reuse 3 subfield of the Common Info field are set to the value of the EHT Spatial Reuse 1 subfield of the Special User Info field and the Spatial Reuse 2 subfield and the Spatial Reuse 4 subfield of the Common Info field are set to the value of the EHT Spatial Reuse 2 subfield of the Special User Info field.

When the Trigger frame solicits an 80 MHz EHT TB PPDU or a 160 MHz EHT TB PPDU, the Spatial Reuse 1 subfield and the Spatial Reuse 2 subfield of the Common Info field are set to the value of the EHT Spatial Reuse 1 subfield of the Special User Info field and the Spatial Reuse 3 subfield and the Spatial Reuse 4 subfield of the Common Info field are set to the value of the EHT Spatial Reuse 2 subfield of the Special User Info field.

When the Trigger frame solicits a 320 MHz EHT TB PPDU, each Spatial Reuse  $n$  subfield,  $1 \le n \le 4$ , of the Common Info field is set to the smaller of the values of the EHT Spatial Reuse 1 subfield and the EHT Spatial Reuse 2 subfield of the Special User Info field.

The Doppler subfield of the HE variant Common Info field is set to 1 to indicate that a midamble is present in the HE TB PPDU and set to 0 otherwise.

B53 of the EHT variant Common Info field is reserved and is set to 0.

The UL HE-SIG-A2 Reserved subfield of the HE variant Common Info field carries the value to be included in the Reserved field in the HE-SIG-A2 subfield of the solicited HE TB PPDUs. A non-EHT HE AP sets the UL HE-SIG-A2 Reserved subfield of the HE variant Common Info field to all 1s.

An HE/EHT P160 subfield of the EHT variant Common Info field is set to 0 to indicate that the solicited TB PPDU in the primary 160 MHz is an EHT TB PPDU. An HE/EHT P160 subfield of the EHT variant Common Info field is set to 1 to indicate that the solicited TB PPDU in the primary 160 MHz is an HE TB PPDU.

The Special User Info Field Flag subfield is always set to 0 in an EHT variant Common Info field, indicating that a Special User Info field is included in the Trigger frame that contains the EHT variant Common Info field.

The Trigger Dependent Common Info subfield in the Common Info field is optionally present based on the value of the Trigger Type field (see 9.3.1.22.6 to 9.3.1.22.13).

***Insert a second new child subclause of 9.3.1.22 as follows:***

#### 9.3.1.22.3 Special User Info field

***Insert the following paragraphs, figures, and tables:***

The Special User Info field is a User Info field that does not carry user specific information but carries extended common information not provided in the Common Info field.

The Special User Info field is identified by an AID12 value of 2007 and is optionally present in a Trigger frame that is generated by an EHT AP.

NOTE 1—An EHT AP does not use the value 2007 as an AID for any STA associated to it (see 35.15.1).

NOTE 2—The length of the Special User Info field is equal to the length of the other User Info fields present in the same Trigger frame, except when the Trigger frame is an MU-BAR Trigger frame (see 9.3.1.22.8).

NOTE 3—The Special User Info field is not included in the Trigger frame unless the Trigger frame includes one or more EHT variant User Info fields (see 35.5.2.1).

The Special User Info field, if present, is located immediately after the Common Info field of the Trigger frame and carries information for the U-SIG field of a solicited EHT TB PPDU.

The format of the Special User Info field is defined in Figure 9-90d.

![](69a3fe7168aeda1c325001cba19f559a_img.jpg)

|  | B0     | B1 | B2                     | B3 | B4                     | B5 | B6                  | B7 | B8                  | B9 | B10                          | B11 | B12      | B13 | B14                         | B15 | B16 | B17 | B18 | B19 | B20 | B21 | B22 | B23 | B24 | B25 | B26 | B27 | B28 | B29 | B30 | B31 | B32 | B33 | B34 | B35 | B36 | B37 | B38 | B39 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
|--|--------|----|------------------------|----|------------------------|----|---------------------|----|---------------------|----|------------------------------|-----|----------|-----|-----------------------------|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|--|
|  | AID/12 |    | PHY Version Identifier |    | UL Bandwidth Extension |    | EHT Spatial Reuse 1 |    | EHT Spatial Reuse 2 |    | U-SIG Disregard And Validate |     | Reserved |     | Trigger Dependent User Info |     |     |     |     |     |     |     |     |     |     |     |     |     |     |     |     |     |     |     |     |     |     |     |     |     |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |

The EHT Spatial Reuse  $n$  subfield,  $1 \le n \le 2$ , carries the values to be included in the corresponding Spatial Reuse  $n$  subfield in the U-SIG field of the EHT TB PPDU. The values for the EHT Spatial Reuse  $n$  subfields are defined in Table 36-31.

The U-SIG Disregard And Validate subfield carries the values to be included in the Disregard and Validate subfields of the U-SIG field of the solicited EHT TB PPDU. The U-SIG Disregard And Validate subfield is further divided into three subfields as shown in Figure 9-90e. The mapping from the subfields in the U-SIG Disregard And Validate subfield to subfields in the U-SIG field for an EHT TB PPDU is defined in Table 9-46h. The Validate In U-SIG-2 subfield is set to 1. The values of the Disregard In U-SIG-1 and Disregard In U-SIG-2 subfields are defined in 35.5.2.2.4.

![](721f77a0bb04a5be8ea5c471508ec249_img.jpg)

| B0                   | B5 | B6                  | B7 | B11                  |
|----------------------|----|---------------------|----|----------------------|
| Disregard In U-SIG-1 |    | Validate In U-SIG-2 |    | Disregard In U-SIG-2 |

Bits: 6 1 5

Figure 9-90e—U-SIG Disregard And Validate subfield format

Table 9-46h—Mapping from Special User Info field to U-SIG-1 and U-SIG-2 fields in the EHT TB PPDU

| Subfields in the Special User Info field | Corresponding subfield of U-SIG field in elicited EHT TB PPDU (see 35.5.2.3.2) |
|------------------------------------------|--------------------------------------------------------------------------------|
| Disregard In U-SIG-1 (B0–B5)             | Disregard subfield of U-SIG-1 field (B20–B25 of U-SIG-1 field)                 |
| Validate In U-SIG-2 (B6)                 | Validate subfield of U-SIG-2 field (B2 of U-SIG-2 field)                       |
| Disregard In U-SIG-2 (B7–B11)            | Disregard subfield of U-SIG-2 field (B11–B15 of U-SIG-2 field)                 |

The presence and length of the Trigger Dependent User Info subfield in the Special User Info field depends on the variant of the Trigger frame. When present, the length and the subfields of the Trigger Dependent User Info subfield are as follows:

- The length is one octet and all the subfields are reserved in a Basic Trigger frame and in a BFRP Trigger frame.
- The length is four octets and all the subfields, except for the BAR Type subfield, are reserved in an MU-BAR Trigger frame. The BAR Type subfield is set to indicate a Compressed BAR in an MU BAR Trigger frame.

The Trigger Dependent User Info subfield is not present in the Special User Info field if the Special User Info field is contained in other Trigger frame variants.

*Insert a third new child subclause of 9.3.1.22 as follows:*

#### 9.3.1.22.4 HE variant User Info field

*Insert the following paragraphs, figures, and tables:*

The HE variant User Info field is defined in Figure 9-90f for all Trigger frame variants except the NFRP Trigger frame, the MU-RTS TXS Trigger frame, and the Ranging Trigger frame, which are defined in 9.3.1.22.13, 9.3.1.22.9, and 9.3.1.22.14, respectively.

![](a0ef559f2bd4147ec203cff042d7369a_img.jpg)

|                                 | B0 | B11 | B12 | B19 | B20 | B21 | B24 | B25 | B26 | B31 | B32 | B38 | B39 |
|---------------------------------|----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|
| AID12                           |    |     |     |     |     |     |     |     |     |     |     |     |     |
| RU Allocation                   |    |     |     |     |     |     |     |     |     |     |     |     |     |
| UL FEC Coding Type              |    |     |     |     |     |     |     |     |     |     |     |     |     |
| UL HE-MCS                       |    |     |     |     |     |     |     |     |     |     |     |     |     |
| UL DCM                          |    |     |     |     |     |     |     |     |     |     |     |     |     |
| SS Allocation/RA-RU Information |    |     |     |     |     |     |     |     |     |     |     |     |     |
| UL Target Receive Power         |    |     |     |     |     |     |     |     |     |     |     |     |     |
| Reserved                        |    |     |     |     |     |     |     |     |     |     |     |     |     |
| Trigger Dependent User Info     |    |     |     |     |     |     |     |     |     |     |     |     |     |

Bits: 12 8 1 4 1 6 7 1 variable

Figure 9-90f—HE variant User Info field format

The AID12 subfield in the User Info field is encoded as defined in Table 9-46i:

Table 9-46i—AID12 subfield encoding

| AID12 subfield                                                                                                                                                                                                                                           | Description                                                                                             |
|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------|
| 0                                                                                                                                                                                                                                                        | User Info field allocates one or more contiguous RA-RUs for associated STAs                             |
| 1–2007                                                                                                                                                                                                                                                   | User Info field is addressed to an associated STA whose AID is equal to the value in the AID12 subfield |
| 2008–2044                                                                                                                                                                                                                                                | Reserved                                                                                                |
| 2045                                                                                                                                                                                                                                                     | User Info field allocates one or more contiguous RA-RUs for unassociated STAs                           |
| 2046                                                                                                                                                                                                                                                     | Unallocated RU                                                                                          |
| 2047–4094                                                                                                                                                                                                                                                | Reserved                                                                                                |
| 4095                                                                                                                                                                                                                                                     | Disallowed in a User Info field as it indicates the start of the Padding field                          |
| NOTE—The Padding field, if present in a Trigger frame, is a field with all padding bits set to 1. The Padding field, if present, has a length of at least two octets and is located between the User Info List field and the FCS field (see 9.3.1.22.1). |                                                                                                         |

NOTE—The value 2007 in the AID12 subfield can be used for an HE variant User Info field if the Trigger frame is generated by a non-EHT HE AP, whereas the value 2007 in the AID12 subfield cannot be used for an HE variant User Info field if the Trigger frame is generated by an EHT AP (see 9.3.1.22.3 for details).

If the AID12 subfield is equal to 2046, then the remaining subfields in the HE variant User Info field are reserved except for the RU Allocation subfield, which indicates the RU location of the unallocated RU.

The RU Allocation subfield in an HE variant User Info field along with the UL BW subfield in the Common Info field identifies the size and the location of the RU. If the UL BW subfield indicates 20 MHz, 40 MHz or 80 MHz, then B0 of the RU Allocation subfield is set to 0. If the UL BW subfield indicates 80+80 MHz or

160 MHz, then B0 of the RU Allocation subfield is set to 0 to indicate that the RU allocation applies to the primary 80 MHz channel and is set to 1 to indicate that the RU allocation applies to the secondary 80 MHz channel. The mapping of B7–B1 of the RU Allocation subfield for a Trigger frame that is not an MU-RTS Trigger frame is defined in Table 9-46j. See 9.3.1.22.9 for the encoding of the RU Allocation subfield in an MU-RTS Trigger frame.

Table 9-46j—B7–B1 of the RU Allocation subfield in an HE variant User Info field

| B7–B1 of the RU Allocation subfield                                                                                                                                                                            | UL BW subfield                               | RU size | RU Index                   |
|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|---------|----------------------------|
| 0–8                                                                                                                                                                                                            | 20 MHz, 40 MHz, 80 MHz, 80+80 MHz or 160 MHz | 26      | RU1 to RU9, respectively   |
| 9–17                                                                                                                                                                                                           | 40 MHz, 80 MHz, 80+80 MHz or 160 MHz         |         | RU10 to RU18, respectively |
| 18–36                                                                                                                                                                                                          | 80 MHz, 80+80 MHz or 160 MHz                 |         | RU19 to RU37, respectively |
| 37–40                                                                                                                                                                                                          | 20 MHz, 40 MHz, 80 MHz, 80+80 MHz or 160 MHz | 52      | RU1 to RU4, respectively   |
| 41–44                                                                                                                                                                                                          | 40 MHz, 80 MHz, 80+80 MHz or 160 MHz         |         | RU5 to RU8, respectively   |
| 45–52                                                                                                                                                                                                          | 80 MHz, 80+80 MHz or 160 MHz                 |         | RU9 to RU16, respectively  |
| 53, 54                                                                                                                                                                                                         | 20 MHz, 40 MHz, 80 MHz, 80+80 MHz or 160 MHz | 106     | RU1 and RU2, respectively  |
| 55, 56                                                                                                                                                                                                         | 40 MHz, 80 MHz, 80+80 MHz or 160 MHz         |         | RU3 and RU4, respectively  |
| 57–60                                                                                                                                                                                                          | 80 MHz, 80+80 MHz or 160 MHz                 |         | RU5 to RU8, respectively   |
| 61                                                                                                                                                                                                             | 20 MHz, 40 MHz, 80 MHz, 80+80 MHz or 160 MHz | 242     | RU1                        |
| 62                                                                                                                                                                                                             | 40 MHz, 80 MHz, 80+80 MHz or 160 MHz         |         | RU2                        |
| 63, 64                                                                                                                                                                                                         | 80 MHz, 80+80 MHz or 160 MHz                 |         | RU3 and RU4, respectively  |
| 65                                                                                                                                                                                                             | 40 MHz, 80 MHz, 80+80 MHz or 160 MHz         | 484     | RU1                        |
| 66                                                                                                                                                                                                             | 80 MHz, 80+80 MHz or 160 MHz                 |         | RU2                        |
| 67                                                                                                                                                                                                             | 80 MHz, 80+80 MHz or 160 MHz                 | 996     | RU1                        |
| 68                                                                                                                                                                                                             | 80+80 MHz or 160 MHz                         | 2×996   | RU1                        |
| NOTE—If the UL BW subfield indicates 80+80 MHz or 160 MHz, the description indicates the RU index for the primary 80 MHz channel or secondary 80 MHz channel as indicated by B0 of the RU Allocation subfield. |                                              |         |                            |

If the UL BW subfield indicates 20 MHz, the mapping of the RU index to RU is defined in Table 27-8 in increasing order.

If the UL BW subfield indicates 40 MHz, the mapping of the RU index to RU is defined in Table 27-9 in increasing order.

If the UL BW subfield indicates 80 MHz, 160 MHz or 80+80 MHz, the mapping of the RU index to RU is defined in Table 27-10 in increasing order.

If the UL BW subfield indicates 160 MHz or 80+80 MHz, B7-B1 of the RU Allocation subfield is set to 68 and B0 is set to 1 to indicate a 2×996-tone RU. A non-AP STA ignores B0 for 2×996-tone RU indication.

If the AID12 subfield is in the range 1 to 2007, then the RU Allocation subfield indicates the RU allocated to the STA identified by the AID12 subfield. If the AID12 subfield is 0 or 2045, then the RU Allocation subfield indicates the starting RU of one or more contiguous RA-RUs allocated by the HE variant User Info field. If the AID12 subfield is 2046, then the RU Allocation subfield indicates an unallocated RU.

If there is more than one RA-RU (i.e., the Number Of RA-RU subfield of this HE variant User Info field has a value greater than 0), then the allocated RUs are contiguous and the RU sizes of all RA-RUs are the same and equal to the size of the first RU. Further, all the remaining subfields of the HE variant User Info field apply to all the RA-RUs.

The UL FEC Coding Type subfield of the HE variant User Info field indicates the code type of the solicited HE TB PPDU. The UL FEC Coding Type subfield is set to 0 to indicate BCC and set to 1 to indicate LDPC.

The UL HE-MCS subfield of the HE variant User Info field indicates the HE-MCS of the solicited HE TB PPDU. The encoding of the UL HE-MCS subfield is defined in 27.3.7.

The UL DCM subfield of the HE variant User Info field indicates DCM of the solicited HE TB PPDU. The UL DCM subfield is set to 1 to indicate that DCM is used in the solicited HE TB PPDU as defined in 27.3.12.15. The UL DCM subfield is set to 0 to indicate that DCM is not used. The UL DCM subfield is set to 0 if the UL STBC subfield of the Common Info field is set to 1.

If the AID12 subfield is either 0 or 2045, then B26-B31 of the HE variant User Info field is the RA-RU Information subfield, otherwise, B26-B31 of the User Info field is the SS Allocation subfield.

The SS Allocation subfield of the HE variant User Info field indicates the spatial streams of the solicited HE TB PPDU and the format is defined in Figure 9-90g.

![](0a5d24e1ee442edb1c5c33ae39f9c424_img.jpg)

|       | B0                      | B2                        | B3 | B5 |
|-------|-------------------------|---------------------------|----|----|
|       | Starting Spatial Stream | Number Of Spatial Streams |    |    |
| Bits: | 3                       | 3                         |    |    |

Figure 9-90g—SS Allocation subfield format of an HE variant User Info field

The Starting Spatial Stream subfield indicates the starting spatial stream and is set to the starting spatial stream minus 1 (see 26.5.2.3.3).

The Number Of Spatial Streams subfield indicates the number of spatial streams, and is set to the number of spatial streams minus 1.

The RA-RU Information subfield of the HE variant User Info field indicates the RA-RU information and the format is defined in Figure 9-90h.

![](ddd6e04bb930e25bc5e3cd367a054516_img.jpg)

| B0              | B4 | B5         |
|-----------------|----|------------|
| Number Of RA-RU |    | More RA-RU |
| Bits: 5         |    | 1          |

Figure 9-90h—RA-RU Information subfield format

The Number Of RA-RU subfield indicates the number of contiguous RUs allocated for UORA. The value of the Number Of RA-RU subfield is equal to the number of contiguous RA-RUs minus 1. A non-AP STA determines whether an RA-RU indicated by the Number Of RA-RU subfield is an eligible RA-RU as defined in 26.5.4.2 (Eligible RA-RUs).

NOTE—The starting spatial stream and the number of spatial streams of the HE TB PPDU transmitted on each RA-RU are 1.

The More RA-RU subfield is set to 1 to indicate that RA-RUs of the type indicated by the AID12 subfield in this HE variant User Info field (see Table 9-46i) are allocated in subsequent Trigger frames that are sent until the end of the TWT SP in which the Trigger frame carrying this field is sent. Otherwise, the subfield is set to 0. The More RA-RU subfield is reserved if the More TF field in the Common Info field is set to 0.

The UL Target Receive Power subfield indicates the expected receive signal power, measured at the AP's antenna connector and averaged over the antennas, for the HE portion of the HE TB PPDU transmitted on the assigned RU and is defined in Table 9-46k.

Table 9-46k—UL Target Receive Power subfield in Trigger frame

| UL Target Receive Power subfield | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|----------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 0–90                             | The expected receive signal power, in units of dBm, is $Target_{pwr} = -110 + F_{val}$ , where $F_{val}$ is the subfield value                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 91–126                           | Reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 127                              | The STA transmits the TB PPDU at the STA's maximum transmit power for the assigned MCS.<br>If the Trigger frame is a Sounding or Passive Sounding Ranging Trigger frame that does not assign an HE-MCS, then the STA's transmit power is that used for HE-MCS 0.<br>If the Trigger frame is a Secured Sounding Ranging Trigger frame that does not assign an HE-MCS, the assigned HE-MCS is assumed to be HE-MCS 6 in terms of setting the STA's transmit power.<br>NOTE—The expected receive signal power is then the STA's maximum transmit power for the assigned MCS minus the path loss. |

The Trigger Dependent User Info subfield in the User Info field is optionally present based on the value of the Trigger Type field (see 9.3.1.22.6 to 9.3.1.22.13).

*Insert a fourth new child subclause of 9.3.1.22 as follows:*

#### 9.3.1.22.5 EHT variant User Info field

*Insert the following paragraphs, figures, and tables:*

The EHT variant User Info field is defined in Figure 9-90i for all Trigger frame variants except the NFRP Trigger frame and the MU-RTS TXS Trigger frame.

![](98b62930d76058dbb3945fc335f36330_img.jpg)

|       | B0    | B11 | B12           | B19 | B20                | B21        | B24 | B25       | B26           | B31 | B32                     | B38   | B39                         |
|-------|-------|-----|---------------|-----|--------------------|------------|-----|-----------|---------------|-----|-------------------------|-------|-----------------------------|
|       | AID12 |     | RU Allocation |     | UL FEC Coding Type | UL EHT-MCS |     | Reserv ed | SS Allocation |     | UL Target Receive Power | PS160 | Trigger Dependent User Info |
| Bits: | 12    |     | 8             |     | 1                  | 4          |     | 1         | 6             |     | 7                       | 1     | variable                    |

Figure 9-90i—EHT variant User Info field format

The AID12 subfield of an EHT variant User Info field is encoded as defined in Table 9-46i and has a value between 1 and 2006.

The RU Allocation subfield in an EHT variant User Info field in a Trigger frame that is not an MU-RTS Trigger frame, along with the UL BW subfield in the Common Info field, the UL BW Extension subfield in the Special User Info field, and the PS160 subfield in the EHT variant User Info field, identifies the size and location of an RU or MRU. The mapping of B7–B1 of the RU Allocation subfield along with the settings of B0 of the RU Allocation subfield and the PS160 subfield in the EHT variant User Info field is defined in Table 9-46l, where the bandwidth is obtained from the combination of the UL BW subfield and UL Bandwidth Extension subfields as defined in Table 9-46l, and  $X$  and  $N$  are obtained from Table 9-46m.

Table 9-461—Encoding of the PS160 and RU Allocation subfields in an EHT variant User Info field

| PS160 subfield                                                               | B0 of the RU Allocation subfield | B7-B1 of the RU Allocation subfield                                         | Bandwidth (MHz)            | RU or MRU size | RU or MRU index               | PHY RU or MRU index |
|------------------------------------------------------------------------------|----------------------------------|-----------------------------------------------------------------------------|----------------------------|----------------|-------------------------------|---------------------|
| 0-3:<br>80 MHz frequency subblock<br>where the RU is located<br>(See NOTE 1) |                                  | 0-8                                                                         | 20, 40, 80,<br>160, or 320 | 26             | RU1 to RU9, respec-<br>tively | 37×N +<br>RU index  |
|                                                                              |                                  | 9-17                                                                        | 40, 80, 160,<br>or 320     |                | RU10 to RU18,<br>respectively |                     |
|                                                                              |                                  | 18                                                                          | 80, 160, or<br>320         |                | Reserved                      |                     |
|                                                                              |                                  | 19-36                                                                       | 80, 160, or<br>320         |                | RU20 to RU37<br>respectively  |                     |
|                                                                              |                                  | 37-40                                                                       | 20, 40, 80,<br>160, or 320 | 52             | RU1 to RU4, respec-<br>tively | 16×N +<br>RU index  |
|                                                                              |                                  | 41-44                                                                       | 40, 80, 160,<br>or 320     |                | RU5 to RU8, respec-<br>tively |                     |
|                                                                              |                                  | 45-52                                                                       | 80, 160, or<br>320         |                | RU9 to RU16,<br>respectively  |                     |
|                                                                              |                                  | 53, 54                                                                      | 20, 40, 80,<br>160, or 320 |                | RU1 and RU2,<br>respectively  |                     |
|                                                                              |                                  | 55, 56                                                                      | 40, 80, 160,<br>or 320     | 106            | RU3 and RU4,<br>respectively  | 8×N +<br>RU index   |
|                                                                              |                                  | 57-60                                                                       | 80, 160, or<br>320         |                | RU5 to RU8, respec-<br>tively |                     |
|                                                                              |                                  | 61                                                                          | 20, 40, 80,<br>160, or 320 | 242            | RU1                           | 4×N +<br>RU index   |
|                                                                              |                                  | 62                                                                          | 40, 80, 160,<br>or 320     |                | RU2                           |                     |
| 63, 64                                                                       | 80, 160, or<br>320               | RU3 and RU4,<br>respectively                                                |                            |                |                               |                     |
|                                                                              |                                  | 65                                                                          | 40, 80, 160,<br>or 320     | 484            | RU1                           | 2×N +<br>RU index   |
|                                                                              |                                  | 66                                                                          | 80, 160, or<br>320         |                | RU2                           |                     |
|                                                                              |                                  | 67                                                                          | 80, 160, or<br>320         | 996            | RU1                           | N +<br>RU index     |
|                                                                              |                                  | 0-1:<br>160 MHz<br>segment<br>where the<br>RU is<br>located (See<br>NOTE 3) | 0                          |                | 20, 40, 80,<br>160, or 320    | Reserved            |
|                                                                              | 1                                | 68                                                                          | 160 or 320                 | 2×996          | RU1                           | X1 +<br>RU index    |

Table 9-461—Encoding of the PS160 and RU Allocation subfields in an EHT variant User Info field (continued)

| PS160 subfield                                                                | B0 of the RU Allocation subfield | B7-B1 of the RU Allocation subfield | Bandwidth (MHz)            | RU or MRU size  | RU or MRU index             | PHY RU or MRU index |
|-------------------------------------------------------------------------------|----------------------------------|-------------------------------------|----------------------------|-----------------|-----------------------------|---------------------|
| 0                                                                             | 0                                | 69                                  | 20, 40, 80, 160, or 320    | Reserved        | Reserved                    | Reserved            |
| 0                                                                             | 1                                |                                     |                            |                 |                             |                     |
| 1                                                                             | 0                                |                                     |                            |                 |                             |                     |
| 1                                                                             | 1                                |                                     | 320                        | 4x996           | RU1                         | RU1                 |
| 0-3:<br>80 MHz frequency subblock<br>where the MRU is located<br>(See NOTE 1) |                                  | 70                                  | 20, 40, 80, 160, or 320    | 52+26           | MRU1                        | 12xN + MRU index    |
|                                                                               |                                  | 71-72                               | 20, 40, 80, 160, or 320    | 52+26           | MRU2 and MRU3, respectively |                     |
|                                                                               |                                  | 73-74                               | 40, 80, 160, or 320        | 52+26           | MRU4 and MRU5, respectively |                     |
|                                                                               |                                  | 75                                  | 40                         | 52+26           | MRU6                        |                     |
|                                                                               |                                  | 76                                  | 80, 160, or 320            | Reserved        | Reserved                    |                     |
|                                                                               |                                  | 77-80                               | 20, 40, 80, 160, or 320    | 52+26           | MRU8 to MRU11, respectively |                     |
|                                                                               |                                  | 81                                  | 20, 40, 80, 160, or 320    | Reserved        | Reserved                    |                     |
|                                                                               |                                  | 82                                  | 20, 40, 80, 160, or 320    | 106+26          | MRU1                        |                     |
|                                                                               |                                  | 83                                  | 20, 40, 80, 160, or 320    | 106+26          | MRU2                        |                     |
|                                                                               |                                  | 84                                  | 40                         | 106+26          | MRU3                        |                     |
|                                                                               |                                  | 85                                  | 80, 160, or 320            | Reserved        | Reserved                    |                     |
|                                                                               |                                  | 86                                  | 40, 80, 160, or 320        | 106+26          | MRU4                        |                     |
| 87-88                                                                         | 80, 160, or 320                  | 106+26                              | MRU5                       |                 |                             |                     |
| 89                                                                            | 20, 40, 80, 160, or 320          | Reserved                            | Reserved                   |                 |                             |                     |
| 90-93                                                                         | 80, 160, or 320                  | 484+242                             | MRU1 to MRU4, respectively | 4xN + MRU index |                             |                     |

Table 9-46I—Encoding of the PS160 and RU Allocation subfields in an EHT variant User Info field (continued)

| PS160 subfield                                                | B0 of the RU Allocation subfield | B7–B1 of the RU Allocation subfield | Bandwidth (MHz)         | RU or MRU size | RU or MRU index             | PHY RU or MRU index |
|---------------------------------------------------------------|----------------------------------|-------------------------------------|-------------------------|----------------|-----------------------------|---------------------|
| 0–1:<br>160 MHz segment where the MRU is located (See NOTE 3) | 0                                | 94, 95                              | 160 or 320              | 996+484        | MRU1 and MRU2, respectively | 4×X1 + MRU index    |
|                                                               | 1                                |                                     |                         |                | MRU3 and MRU4, respectively |                     |
| 0: MRU is located in the primary 160 MHz                      | 0                                | 96–99                               | 160                     | 996+484+242    | MRU1 to MRU4, respectively  | MRU index           |
|                                                               | 1                                |                                     |                         |                | MRU5 to MRU8, respectively  |                     |
| 1                                                             | Any                              |                                     | 20, 40, 80, 160, or 320 | Reserved       | Reserved                    | Reserved            |
| 0                                                             | 0                                | 100–103                             | 320                     | 2×996+484      | MRU1 to MRU4, respectively  | MRU index           |
| 0                                                             | 1                                | 100–101                             |                         |                | MRU5 and MRU6, respectively |                     |
| 0                                                             | 1                                | 102–103                             | 20, 40, 80, 160, or 320 | Reserved       | Reserved                    |                     |
| 1                                                             | 0                                | 100–101                             | 20, 40, 80, 160, or 320 | Reserved       | Reserved                    |                     |
| 1                                                             | 0                                | 102–103                             | 320                     | 2×996+484      | MRU7 and MRU8, respectively |                     |
| 1                                                             | 1                                | 100–103                             |                         |                | MRU9 to MRU12, respectively |                     |
| 0                                                             | 0                                | 104                                 | 320                     | 3×996          | MRU1                        | MRU index           |
|                                                               | 1                                |                                     |                         |                | MRU2                        |                     |
|                                                               | 0                                |                                     |                         |                | MRU3                        |                     |
|                                                               | 1                                |                                     |                         |                | MRU4                        |                     |
| 0                                                             | 0                                | 105, 106                            | 320                     | 3×996+484      | MRU1 and MRU2, respectively | MRU index           |
|                                                               | 1                                |                                     |                         |                | MRU3 and MRU4, respectively |                     |
|                                                               | 0                                |                                     |                         |                | MRU5 and MRU6, respectively |                     |
|                                                               | 1                                |                                     |                         |                | MRU7 and MRU8, respectively |                     |

Table 9-46I—Encoding of the PS160 and RU Allocation subfields in an EHT variant User Info field (continued)

| PS160 subfield | B0 of the RU Allocation subfield | B7–B1 of the RU Allocation subfield | Bandwidth (MHz)         | RU or MRU size | RU or MRU index | PHY RU or MRU index |
|----------------|----------------------------------|-------------------------------------|-------------------------|----------------|-----------------|---------------------|
| Any            | Any                              | 107–127                             | 20, 40, 80, 160, or 320 | Reserved       | Reserved        | Reserved            |

NOTE 1—B0 of the RU Allocation subfield is set to 0 to indicate that the RU or MRU allocation applies to the primary 80 MHz channel and set to 1 to indicate that the RU allocation applies to the secondary 80 MHz channel in the primary 160 MHz, if PS160 subfield is equal to 0 and the RU or MRU size is smaller than or equal to 996 tones. B0 of the RU Allocation subfield is set to 0 to indicate that the RU or MRU allocation applies to the lower 80 MHz in the secondary 160 MHz and is set to 1 to indicate that the RU or MRU allocation applies to upper 80 MHz in the secondary 160 MHz, if PS160 subfield is equal to 1 and the RU or MRU size is smaller than or equal to 996 tones.

NOTE 2—The PHY MRU index of a 52+26-tone MRU is not defined in the case of the MRU index equal to 1, 6, 7, or 12, if the bandwidth indicates 80, 160, or 320 MHz. The PHY MRU index of a 106+26-tone MRU is not defined in the case of the MRU index equal to 2, 3, 6, or 7, if the bandwidth indicates 80, 160, or 320 MHz. Refer to 36.3.2.2.2 for details.

NOTE 3—If the size of RU or MRU is smaller than or equal to 2×996 tone, then the PS160 subfield is set to 0 to indicate the RU or MRU allocation applies to the primary 160 MHz channel and set to 1 to indicate the RU or MRU allocation applies to the secondary 160 MHz channel. Otherwise, the PS160 subfield is used to indicate the RU or MRU index along with the RU Allocation subfield.

NOTE 4—The PHY RU or MRU index in this table indicates the allocated RU or MRU index defined in 36.3.2.

Table 9-46m provides  $N$  for different configurations, which is equal to  $2 \times X1 + X0$ . For a bandwidth less than or equal to 80 MHz, PS160, B0, X0, and X1 are set to 0. For a bandwidth of 160 MHz, PS160 and X1 are set to 0, while X0 is set to 0 to indicate that the RU or MRU allocation applies to the lower 80 MHz frequency subblock and set to 1 to indicate that the RU or MRU allocation applies to the upper 80 MHz frequency subblock. For a bandwidth of 320 MHz, X1 is set to 0 to indicate that the RU or MRU allocation applies to the lower 160 MHz segment and set to 1 to indicate that the RU or MRU allocation applies to the upper 160 MHz segment. Within the indicated 160 MHz segment, X0 is set to 0 to indicate that the RU or MRU allocation applies to the lower 80 MHz frequency subblock and set to 1 to indicate that the RU or MRU allocation applies to the upper 80 MHz frequency subblock. The configuration indicates the frequency order of the primary and secondary 80 MHz and 160 MHz channels. The order from left to right indicates the order from lower frequency to higher frequency. The primary 80 MHz channel is indicated by P80, the secondary 80 MHz channel is indicated by S80, and the secondary 160 MHz channel is indicated by S160.

Table 9-46m—Lookup table for X1 and N

| Bandwidth (MHz) | Inputs         |       |    | Outputs |    |   |
|-----------------|----------------|-------|----|---------|----|---|
|                 | Configuration  | PS160 | B0 | X0      | X1 | N |
| 20/40/80        | [P80]          | 0     | 0  | 0       | 0  | 0 |
|                 | [P80 S80]      | 0     | 0  | 0       | 0  | 0 |
|                 | [S80 P80]      | 0     | 1  | 1       | 0  | 1 |
| 160             | [P80 S80 S160] | 0     | 0  | 0       | 0  | 0 |
|                 |                | 0     | 1  | 1       | 0  | 1 |
|                 |                | 1     | 0  | 0       | 1  | 2 |
|                 | [S80 P80 S160] | 1     | 1  | 1       | 1  | 3 |
|                 |                | 0     | 0  | 1       | 0  | 1 |
|                 |                | 1     | 0  | 0       | 1  | 2 |
|                 | [S160 P80 S80] | 1     | 1  | 1       | 1  | 3 |
|                 |                | 0     | 0  | 0       | 1  | 2 |
|                 |                | 1     | 0  | 0       | 0  | 0 |
|                 | [S160 S80 P80] | 1     | 1  | 1       | 0  | 1 |
|                 |                | 0     | 0  | 1       | 1  | 3 |
|                 |                | 1     | 0  | 0       | 0  | 0 |
| 320             | [S160 S80 P80] | 0     | 1  | 0       | 1  | 2 |
|                 |                | 1     | 0  | 0       | 0  | 0 |
|                 |                | 1     | 1  | 1       | 0  | 1 |

The values of the PS160 subfield and B0 of the RU Allocation subfield indicate the 80 MHz frequency subblock in which the RU or MRU is located for 26-tone RU, 52-tone RU, 106-tone RU, 242-tone RU, 484-tone RU, 996-tone RU, 52+26-tone RU, and 106+26-tone RU. The 80 MHz frequency subblock is derived based on the corresponding PHY RU or MRU index column in Table 9-46f.

The values of PS160 subfield indicates the 160 MHz segment in which the RU or MRU is located for 2x996-tone RU, 996+484-tone MRU, and 996+484+242-tone MRU.

For 4x996-tone RU, 2x996+484-tone MRU, 3x996-tone MRU, and 3x996+484-tone MRU, the description of RU or MRU index is the same as that of the PHY RU or MRU index for the 320 MHz channel.

If the bandwidth indicates 20 MHz, the mapping of the PHY RU index to RU is defined in Table 27-8 in increasing order.

If the bandwidth indicates 40 MHz, the mapping of the PHY RU index to RU is defined in Table 27-9 (Data and pilot subcarrier indices for RUs in a 40 MHz HE PPDU and in a non-OFDMA 40 MHz HE PPDU) in increasing order.

If the bandwidth indicates 80 MHz, the mapping of the PHY RU index to RU is defined in Table 36-5 in increasing order.

If the bandwidth indicates 160 MHz, the mapping of the PHY RU index to RU is defined in Table 36-6 in increasing order.

If the bandwidth indicates 320 MHz, the mapping of the PHY RU index to RU is defined in Table 36-7 in increasing order.

If the bandwidth indicates 20 MHz, the mapping of the PHY MRU index to MRU is defined in Table 36-8 in increasing order.

If the bandwidth indicates 40 MHz, the mapping of the PHY MRU index to MRU is defined in Table 36-9 in increasing order.

If the bandwidth indicates 80 MHz, the mapping of the PHY MRU index to MRU is defined in Table 36-10 and Table 36-13 in increasing order.

If the bandwidth indicates 160 MHz, the mapping of the PHY MRU index to MRU is defined in Table 36-11 and Table 36-14 in increasing order.

If the bandwidth indicates 320 MHz, the mapping of the PHY MRU index to MRU is defined in Table 36-12 and Table 36-15 in increasing order.

The UL FEC Coding Type subfield of the User Info field indicates the code type of the solicited EHT TB PPDU. The UL FEC Coding Type subfield is set to 0 to indicate BCC and set to 1 to indicate LDPC.

The UL EHT-MCS subfield of the User Info field indicates the EHT-MCS of the solicited EHT TB PPDU. In an EHT variant User Info field, the encoding of the UL EHT-MCS subfield is defined in 36.3.8 and is set as defined in 35.5.2.

B25 is reserved in the EHT variant User Info field.

The SS Allocation subfield of the EHT variant User Info field indicates the spatial streams of the solicited EHT TB PPDU and the format is defined in Figure 9-90j.

![](35c7334376d49c61d271212844d45c4c_img.jpg)

|       | B0                      | B3                        | B4 | B5 |
|-------|-------------------------|---------------------------|----|----|
|       | Starting Spatial Stream | Number Of Spatial Streams |    |    |
| Bits: | 4                       | 2                         |    |    |

Figure 9-90j—SS Allocation subfield format of an EHT variant User Info field

The Starting Spatial Stream subfield indicates the starting spatial stream and is set to the starting spatial stream minus 1 (see 35.5.2.3.2) with a maximum value of 7 for the Starting Spatial Stream subfield (see 36.1.1). The Starting Spatial Stream subfield values above 7 are reserved for a STA. The Starting Spatial Stream subfield is set to 0 if the corresponding RU or MRU is not allocated for MU-MIMO.

The Number Of Spatial Streams subfield indicates the number of spatial streams, and is set to the number of spatial streams minus 1 with a maximum value of 3 (see 36.1.1).

The UL Target Receive Power subfield indicates the expected receive signal power, measured at the AP's antenna connector and averaged over the antennas, for the EHT portion of the EHT TB PPDU transmitted on the assigned RU and is defined in Table 9-46k.

If the size of RU or MRU is smaller than or equal to  $2 \times 996$ -tones, then the PS160 subfield is set to 0 to indicate that the RU or MRU allocation applies to the primary 160 MHz channel and set to 1 to indicate that the RU or MRU allocation applies to the secondary 160 MHz channel. Otherwise, the PS160 subfield is used to indicate the RU or MRU index along with the RU Allocation subfield. The PS160 subfield is set as defined in Table 9-46l.

The Trigger Dependent User Info subfield is set as defined in 9.3.1.22.4.

**Change the subclause number of Basic Trigger frame format from 9.3.1.22.2 to 9.3.1.22.6 as follows:**

#### 9.3.1.22.6 Basic Trigger frame format

**Change the subclause number of BFRP Trigger frame format from 9.3.1.22.3 to 9.3.1.22.7 as follows:**

#### 9.3.1.22.7 BFRP Trigger frame format

**Change the second paragraph as follows:**

The Feedback Segment Retransmission Bitmap subfield indicates the requested feedback segments of an HE or EHT compressed beamforming/COI report. If the bit in position  $n$  ( $n = 0$  for LSB and  $n = 7$  for MSB) is 1, then the feedback segment with the Remaining Feedback Segments subfield in the HE MIMO Control field equal to  $n$  is requested. If the bit in position  $n$  is 0, then the feedback segment with the Remaining Feedback Segments subfield in the HE MIMO Control field equal to  $n$  is not requested.

**Insert the following paragraph at the end of the subclause:**

If a BFRP Trigger frame solicits an EHT compressed beamforming/COI report, all of the bits in the Feedback Segment Retransmission Bitmap subfield are set to 1.

**Change the subclause number of MU-BAR Trigger frame format from 9.3.1.22.4 to 9.3.1.22.8 as follows:**

#### 9.3.1.22.8 MU-BAR Trigger frame format

**Change the subclause number of MU-RTS Trigger frame format from 9.3.1.22.5 to 9.3.1.22.9 as follows:**

### 9.3.1.22.9 MU-RTS Trigger frame format

*Change the second paragraph, including to split it into three paragraphs, as follows:*

The UL BW subfield in the Common Info field along with the UL BW Extension subfield in the Special User Info field (if present) indicates the bandwidth of the PPDU carrying the MU-RTS Trigger frame and is defined in Table 9-46c and Table 9-46g.

If a non-AP EHT STA is identified by the AID12 subfield of a User Info field in a MU-RTS Trigger frame from an EHT AP and any of the following conditions is met, the User Info field in the MU-RTS Trigger frame is an EHT variant User Info field:

- The bandwidth of the EHT MU PPDU or non-HT duplicate PPDU carrying the MU-RTS Trigger frame is 320 MHz.
- The EHT MU PPDU or non-HT duplicate PPDU carrying the MU-RTS Trigger frame is punctured.

Otherwise, the User Info field might be an HE variant User Info field or an EHT variant User Info field.

*Change the now-shifted fifth paragraph as follows:*

The UL Length, GI and HE-LTF Type, MU-MIMO HE-LTF Mode, Number Of HE-LTF Symbols And Midamble Periodicity, UL STBC, LDPC Extra Symbol Segment, AP Tx Power, Pre-FEC Padding Factor, PE Disambiguity, UL Spatial Reuse, and Doppler and UL HE-SIG-A2 Reserved subfields in the Common Info field are reserved. In the HE variant of the Common Info field, the UL HE-SIG-A2 Reserved subfield is reserved.

*Insert the following paragraphs and table after the now-shifted fifth paragraph:*

If the TXS Mode subfield in the Common Info field of an MU-RTS frame transmitted by an EHT AP is set to a nonzero value, the frame indicates a time allocation within an obtained TXOP to an associated non-AP EHT STA for transmitting one or more non-TB PPDU(s) sequentially (see 35.2.1.2); otherwise, the subfield is set to 0. The encoding of the TXS Mode subfield is defined in Table 9-46n.

Table 9-46n—TXS Mode subfield encoding

| TXS Mode subfield value | Description                                                                                                                                  |
|-------------------------|----------------------------------------------------------------------------------------------------------------------------------------------|
| 0                       | MU-RTS that does not initiate TXS procedure.                                                                                                 |
| 1                       | MU-RTS that initiates TXS procedure wherein a scheduled STA can only transmit MPDU(s) addressed to its associated AP.                        |
| 2                       | MU-RTS that initiates TXS procedure wherein a scheduled STA can transmit MPDU(s) addressed to its associated AP or addressed to another STA. |
| 3                       | Reserved.                                                                                                                                    |

An MU-RTS Trigger frame that has the TXS Mode subfield set to a nonzero value is called an MU-RTS TXS Trigger frame.

The HE variant User Info field in an MU-RTS TXS Trigger frame is defined in Figure 9-98a. The EHT variant User Info field in an MU-RTS TXS Trigger frame with an EHT variant Common Info is defined in Figure 9-98b.

![](98625209e11b104f342bc4be17eb4360_img.jpg)

|       | B0    | B11           | B12 | B19                 | B20 | B28      | B29 | B39 |
|-------|-------|---------------|-----|---------------------|-----|----------|-----|-----|
|       | AID12 | RU Allocation |     | Allocation Duration |     | Reserved |     |     |
| Bits: | 12    | 8             |     | 9                   |     | 11       |     |     |

Figure 9-98a—HE variant User Info field format in the MU-RTS TXS Trigger frame

![](2b767b048e388ae309771bc57d56e136_img.jpg)

|       | B0    | B11           | B12 | B19                 | B20 | B28      | B29 | B38   | B39 |
|-------|-------|---------------|-----|---------------------|-----|----------|-----|-------|-----|
|       | AID12 | RU Allocation |     | Allocation Duration |     | Reserved |     | PS160 |     |
| Bits: | 12    | 8             |     | 9                   |     | 10       |     | 1     |     |

Figure 9-98b—EHT variant User Info field format in the MU-RTS TXS Trigger frame

**Change the now-shifted ninth paragraph, including to split it into two paragraphs, as follows:**

The UL HE-MCS, UL FEC Coding Type, UL DCM, SS Allocation/RA-RU Information and UL Target Receive Power fields in the HE variant User Info field are reserved in an MU-RTS frame that is not an MU-RTS TXS Trigger frame.

The UL EHT-MCS, UL FEC Coding Type, SS Allocation, and UL Target Receive Power fields in the EHT variant User Info field are reserved in an MU-RTS frame that is not an MU-RTS TXS Trigger frame.

**Change the now-shifted 11th paragraph as follows:**

The RU Allocation subfield in the User Info field addressed to the STA indicates whether the CTS frame is transmitted on the primary 20 MHz channel, primary 40 MHz channel, primary 80 MHz channel, primary 160 MHz channel, or 80+80 MHz channel (HE only) or 320 MHz channel.

**Change the now-shifted 12th paragraph, including to split it into two paragraphs, as follows:**

B0 of the RU Allocation subfield is set to 0 to indicate a primary 20 MHz channel, primary 40 MHz channel and primary 80 MHz channel. For a primary 160 MHz and 80+80 MHz and 320 MHz indication, B0 of the RU Allocation subfield is set to 1. A non-AP STA ignores B0 for 160 MHz and 80+80 MHz indication. In an EHT variant User Info field, the PS160 subfield is set to 1 to indicate a 320 MHz channel and set to 0 to indicate a primary 20 MHz channel, primary 40 MHz channel, primary 80 MHz channel, and primary 160 MHz channel.

**NOTE**—A non-AP HE STA ignores B0 for a primary 160 MHz and 80+80 MHz (HE only) indication (see 26.5.2.3.1). A non-AP EHT STA checks B0 for a primary 160 MHz and 320 MHz indication if the non-AP EHT STA is addressed by an EHT variant User Info field (see 35.5.2.1).

**Change the now-shifted 17th paragraph, including to split it into two paragraphs, as follows:**

B7-B1 of the RU Allocation subfield is set to 68 to indicate the primary and secondary 80 MHz channel if the bandwidth of the PPDU that carries the MU-RTS Trigger frame is less than 320 MHz, or to indicate the primary 160 MHz channel if the bandwidth of the PPDU that carries the MU-RTS Trigger frame is 320 MHz.

B7-B1 of the RU Allocation subfield is set to 69 to indicate a 320 MHz channel.

**Change the now-shifted 19th paragraph and Figure 9-99 as follows:**

The settings for B7-B1 of the RU Allocation subfield are illustrated in Figure 9-99.

![Figure 9-99: Diagram illustrating the UL BW subfield and B7-B1 of RU Allocation subfield in MU-RTS Trigger frame for various bandwidths. The diagram shows channel allocation based on bandwidth (320 MHz, 160 MHz, 80 MHz, 40 MHz, 20 MHz). B7-B1 values are shown for different channel widths: 69 (320 MHz), 68 (80-80 MHz or primary 160 MHz), 67 (primary 80 MHz), 66 (primary 40 MHz is the second lowest 40 MHz), 65 (primary 40 MHz is the lowest 40 MHz), 64 (primary 20 MHz is fourth lowest 20 MHz), 63 (primary 20 MHz is third lowest 20 MHz), 62 (primary 20 MHz is second lowest 20 MHz), and 61 (primary 20 MHz is the lowest 20 MHz).](e7ff671f7abf43b4651139e3abc73039_img.jpg)

Figure 9-99: Diagram illustrating the UL BW subfield and B7-B1 of RU Allocation subfield in MU-RTS Trigger frame for various bandwidths. The diagram shows channel allocation based on bandwidth (320 MHz, 160 MHz, 80 MHz, 40 MHz, 20 MHz). B7-B1 values are shown for different channel widths: 69 (320 MHz), 68 (80-80 MHz or primary 160 MHz), 67 (primary 80 MHz), 66 (primary 40 MHz is the second lowest 40 MHz), 65 (primary 40 MHz is the lowest 40 MHz), 64 (primary 20 MHz is fourth lowest 20 MHz), 63 (primary 20 MHz is third lowest 20 MHz), 62 (primary 20 MHz is second lowest 20 MHz), and 61 (primary 20 MHz is the lowest 20 MHz).

Figure 9-99—UL BW subfield and B7-B1 of RU Allocation subfield in MU-RTS Trigger frame, for various bandwidths

**Insert the following paragraph at the end of this subclause:**

The Allocation Duration subfield in the User Info field of the MU-RTS TXS Trigger frame indicates the time allocated to the non-AP STA within the TXOP obtained by the AP, in units of 16  $\mu\text{s}$ .

**Change the subclause number of BSRP Trigger frame format from 9.3.1.22.6 to 9.3.1.22.10 as follows:**

**9.3.1.22.10 BSRP Trigger frame format**

**Change the subclause number of GCR MU-BAR Trigger frame format from 9.3.1.22.7 to 9.3.1.22.11 as follows:**

#### 9.3.1.22.11 GCR MU-BAR Trigger frame format

*Change the subclause number of BQRP Trigger frame format from 9.3.1.22.8 to 9.3.1.22.12 as follows:*

##### 9.3.1.22.12 BQRP Trigger frame format

*Change the subclause number of NFRP Trigger frame format from 9.3.1.22.9 to 9.3.1.22.13 as follows:*

##### 9.3.1.22.13 NFRP Trigger frame format

*Change the subclause number of Ranging Trigger frame format from 9.3.1.22.10 to 9.3.1.22.14 as follows:*

##### 9.3.1.22.14 Ranging Trigger frame format

##### 9.3.2 Data frames

###### 9.3.2.1 Format of Data frames

###### 9.3.2.1.2 Address and BSSID fields

*Change Table 9-60 as follows:*

Table 9-60—Address field contents for Data frames transmitted by nonmesh STAs

| To DS | From DS | Address 1       | Address 2       | Address 3                  |                                      | Address 4                  |                                      |
|-------|---------|-----------------|-----------------|----------------------------|--------------------------------------|----------------------------|--------------------------------------|
|       |         |                 |                 | MSDU and Short A-MSDU case | Basic A-MSDU and Dynamic A-MSDU case | MSDU and Short A-MSDU case | Basic A-MSDU and Dynamic A-MSDU case |
| 0     | 0       | RA = DA         | TA = SA         | BSSID                      | BSSID                                | N/A                        | N/A                                  |
| 0     | 1       | RA (see NOTE 1) | TA = BSSID      | SA                         | BSSID                                | N/A                        | N/A                                  |
| 1     | 0       | RA = BSSID      | TA (see NOTE 2) | DA                         | BSSID                                | N/A                        | N/A                                  |
| 1     | 1       | RA              | TA              | DA                         | BSSID                                | SA                         | BSSID                                |

NOTE 1—The Address 1 field of a frame with the To DS subfield equal to 0 and the From DS subfield equal to 1 is equal to the DA, except when an individually addressed frame is sent on a link between two MLDs (see 35.3.2) or when a frame containing an A-MSDU is used (for DMS, DMG relay or SIG relay the frame is individually addressed; for GCR, it is (group) addressed to the GCR concealment address), in which case the destination address of the MSDU is indicated in the DA or Mesh DA field of the A-MSDU subframe (see 11.21.16, 10.11, 10.44, 10.53, and 10.64). In an MBSS, this is the only combination used for group addressed Data frames, and a combination only used for group addressed Data frames (see Table 9-3, Table 9-4, and Table 9-77).

NOTE 2—The Address 2 field of a frame with the To DS subfield equal to 1 and the From DS subfield equal to 0 is equal to the SA, except when an individually addressed frame is sent on a link between two MLDs (see 35.3.2) or when an individually addressed frame containing an A-MSDU is used in GLK, DMG relay or SIG relay, in which case the source address of the MSDU is indicated in the SA or Mesh SA field of the A-MSDU subframe (see 10.11, 10.44, 10.53, and 10.64). In an MBSS, this combination is not used for Data frames (see Table 9-3 and Table 9-77).

### 9.3.3 (PV0) Management frames

#### 9.3.3.1 Format of (PV0) Management frames

*Change the first paragraph as follows:*

The format of a Management frame is defined in Figure 9-128. The Frame Control, Duration, Address 1, Address 2, Address 3, and Sequence Control fields are present in all management frame subtypes. The maximum size of an MMPDU that is not carried in a VHT or S1G PPDU, or an HE PPDU not sent in the 2.4 GHz band, or an EHT PPDU not sent in the 2.4 GHz band is defined in Table 9-34. The presence of the HT Control field is determined by the setting of the +HTC subfield of the Frame Control field (see 9.2.4.1.10 (+HTC subfield)). The maximum size of an MMPDU that is carried in one or more VHT or S1G PPDU, or an HE PPDU not sent in the 2.4 GHz band, or an EHT PPDU not sent in the 2.4 GHz band (in whole or in part) is:

- if there is one recipient, then the maximum MPDU size supported by the recipient less the shortest Management frame MAC header and FCS, or,
- if there is more than one recipient, then the smallest of the maximum MPDU sizes supported by the recipients less the shortest Management frame MAC header and FCS.

#### 9.3.3.2 Beacon frame format

Update existing orders 12 and 79, and insert five new rows to Table 9-62 (not all lines shown) in numeric order:

Table 9-62—Beacon frame body

| Order | Information                   | Notes                                                                                                                                                                                                                                                             |
|-------|-------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ...   |                               |                                                                                                                                                                                                                                                                   |
| 12    | Quiet                         | The Quiet element is optionally present if dot11SpectrumManagementRequired is true or dot11RadioMeasurementActivated is true or dot11RestrictedTWTOptionImplemented is true.                                                                                      |
| ...   |                               |                                                                                                                                                                                                                                                                   |
| 79    | TWT                           | The TWT element is optionally present if dot11TWTOptionActivated is true. The TWT element is present if dot11Restrict-edTWTOptionImplemented is true and the AP has at least one R-TWT schedule to announce as described in 35.8.3; otherwise, it is not present. |
| ...   |                               |                                                                                                                                                                                                                                                                   |
| 95    | Multi-Link                    | If dot11MultiLinkActivated is true, the Basic Multi-Link element is present and the Reconfiguration Multi-Link element is option-ally present (see 35.3.6.3); otherwise, the Multi-Link element is not present.                                                   |
| 96    | EHT Capabilities              | The EHT Capabilities element is present if dot11EHTOptionIm-plemented is true; otherwise, it is not present.                                                                                                                                                      |
| 97    | EHT Operation                 | The EHT Operation element is present if dot11EHTOptionImple-mented is true; otherwise, it is not present.                                                                                                                                                         |
| 98    | Multi-Link Traffic Indication | The Multi-Link Traffic Indication element is present if dot11MultiLinkTrafficIndicationActivated is true; otherwise, it is not present.                                                                                                                           |
| 99    | TID-To-Link Mapping           | One or two TID-To-Link Mapping elements are optionally present if dot11MultiLinkActivated and dot11TIDToLinkMappingActivated are true; otherwise, none are present.                                                                                               |
| 100   | Channel Usage                 | Zero or more Channel Usage elements are present if dot11ChannelUsageActivated or dot11ChannelUsageGratuitou-sActivated is true.                                                                                                                                   |

#### 9.3.3.5 Association Request frame format

Insert three new rows to Table 9-64 (not all lines shown) in numeric order:

Table 9-64—Association Request frame body

| Order | Information         | Notes                                                                                                                                                                                                                                                                            |
|-------|---------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ...   |                     |                                                                                                                                                                                                                                                                                  |
| 63    | Multi-Link          | The Basic Multi-Link element is present if dot11MultiLinkActivated is true and the Association Request frame is sent to an AP affiliated with an AP MLD; otherwise, it is not present (see 35.3.5.4).                                                                            |
| 64    | EHT Capabilities    | The EHT Capabilities element is present if dot11EHTOptionImplemented is true; otherwise, it is not present.                                                                                                                                                                      |
| 65    | TID-To-Link Mapping | One or two TID-To-Link Mapping elements are present if dot11MultiLinkActivated is true, dot11TIDtoLinkMappingActivated is true, and a non-AP STA affiliated with a non-AP MLD initiates both an association with an AP MLD and a TTLM negotiation. Otherwise, it is not present. |

#### 9.3.3.6 Association Response frame format

*Update existing order 40 and insert six new rows to Table 9-65 (not all lines shown) in numeric order:*

Table 9-65—Association Response frame body

| Order | Information      | Notes                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|-------|------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ...   |                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| 40    | TWT              | <p>The TWT element is present if dot11TWTOptionActivated is true, dot11HEOptionImplemented is not true, and the TWT element is present in the Association Request frame that elicited this Association Response frame.</p> <p>The TWT element is optionally present if dot11TWTOptionActivated is true, dot11HEOptionImplemented is true, and the TWT Requester Support field in the HE Capabilities element in the Association Request frame that elicited this Association Response frame is 1.</p> <p>The TWT element is present if dot11RestrictedTWTOptionImplemented is true and the soliciting Association Request frame is sent by an EHT STA that has the Restricted TWT Support subfield in its transmitted EHT Capabilities element set to 1, and the AP has at least one R-TWT schedule as described in 35.8.3.</p> <p>Otherwise, the TWT element is not present.</p> |
| ...   |                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| 81    | Multi-Link       | The Basic Multi-Link element is present if dot11MultiLinkActivated is true and the Association Response frame is sent to a non-AP STA affiliated with a non-AP MLD; otherwise, it is not present (see 35.3.5.4).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 82    | EHT Capabilities | The EHT Capabilities element is present if dot11EHTOptionImplemented is true; otherwise, it is not present.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 83    | EHT Operation    | The EHT Operation element is present if dot11EHTOptionImplemented is true; otherwise, it is not present.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |

Table 9-65—Association Response frame body (continued)

| Order | Information         | Notes                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|-------|---------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 84    | TID-To-Link Mapping | <p>One or two TID-To-Link Mapping elements are present if <code>dot11MultiLinkActivated</code> is true, <code>dot11TIDToLinkMappingActivated</code> is true, and the AP sends an Association Response frame in response to a received Association Request frame that is initiating both an ML setup and a TTLM negotiation.</p> <p>A TID-To-Link Mapping element is optionally present if <code>dot11MultiLinkActivated</code> is true, <code>dot11TIDToLinkMappingActivated</code> is true, and the AP has advertised a TID-To-Link Mapping as described in 35.3.7.2.4.</p> <p>Otherwise, it is not present.</p> |
| 85    | Country             | The Country element is present if the Channel Usage element is present.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 86    | Channel Usage       | Zero or more Channel Usage elements are present if <code>dot11ChannelUsageActivated</code> or <code>dot11ChannelUsageGratuitousActivated</code> is true.                                                                                                                                                                                                                                                                                                                                                                                                                                                          |

### 9.3.3.7 Reassociation Request frame format

Insert three new rows to Table 9-66 (not all lines shown) in numeric order:

Table 9-66—Reassociation Request frame body

| Order | Information         | Notes                                                                                                                                                                                                                                                                                      |
|-------|---------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ...   |                     |                                                                                                                                                                                                                                                                                            |
| 65    | Multi-Link          | The Basic Multi-Link element is present if <code>dot11MultiLinkActivated</code> is true and the Reassociation Request frame is sent to an AP affiliated with an AP MLD; otherwise, it is not present (see 35.3.5.4).                                                                       |
| 66    | EHT Capabilities    | The EHT Capabilities element is present if <code>dot11EHTOptionImplemented</code> is true; otherwise, it is not present.                                                                                                                                                                   |
| 67    | TID-To-Link Mapping | One or two TID-To-Link Mapping elements are present if <code>dot11MultiLinkActivated</code> is true, <code>dot11TIDToLinkMappingActivated</code> is true, and a non-AP STA affiliated with a non-AP MLD initiates both an ML resetup and a TTLM negotiation. Otherwise, it is not present. |

### 9.3.3.8 Reassociation Response frame format

Update existing order 43 and insert six new rows to Table 9-67 (not all lines shown) in numeric order:

Table 9-67—Reassociation Response frame body

| Order | Information         | Notes                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|-------|---------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ...   |                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 43    | TWT                 | <p>The TWT element is present if <code>dot11TWTOptionActivated</code> is true, <code>dot11HEOptionImplemented</code> is not true, and the TWT element is present in the Reassociation Request frame that elicited this Reassociation Response frame.</p> <p>The TWT element is optionally present if <code>dot11TWTOptionActivated</code> is true, <code>dot11HEOptionImplemented</code> is true, and the TWT Requester Support field in the HE Capabilities element in the Reassociation Request frame that elicited this Reassociation Response frame is 1.</p> <p>The TWT element is present if <code>dot11RestrictedTWTOptionImplemented</code> is true and the soliciting Reassociation Request frame is sent by an EHT STA that has the Restricted TWT Support subfield in its transmitted EHT Capabilities element set to 1, and the AP has at least one R-TWT schedule as described in 35.8.3.</p> <p>Otherwise, the TWT element is not present.</p> |
| ...   |                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 81    | Multi-Link          | <p>The Basic Multi-Link element is present if <code>dot11MultiLinkActivated</code> is true and the Reassociation Response frame is sent to a non-AP STA affiliated with a non-AP MLD; otherwise, it is not present (see 35.3.5.4).</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 82    | EHT Capabilities    | <p>The EHT Capabilities element is present if <code>dot11EHTOptionImplemented</code> is true; otherwise, it is not present.</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 83    | EHT Operation       | <p>The EHT Operation element is present if <code>dot11EHTOptionImplemented</code> is true; otherwise, it is not present.</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 84    | TID-To-Link Mapping | <p>One or two TID-To-Link Mapping elements are present if <code>dot11MultiLinkActivated</code> is true, <code>dot11TIDtoLinkMappingActivated</code> is true, and the AP sends a Reassociation Response frame in response to a received Reassociation Request frame that is initiating both an ML resetup and a TTLM negotiation.</p> <p>A TID-To-Link Mapping element is optionally present if <code>dot11MultiLinkActivated</code> is true, <code>dot11TIDtoLinkMappingActivated</code> is true, and the AP has advertised a TID-To-Link Mapping as described in 35.3.7.2.4.</p> <p>Otherwise, it is not present.</p>                                                                                                                                                                                                                                                                                                                                       |
| 85    | Country             | <p>The Country element is present if the Channel Usage element is present.</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| 86    | Channel Usage       | <p>Zero or more Channel Usage elements are present if <code>dot11ChannelUsageActivated</code> or <code>dot11ChannelUsageGratuitousActivated</code> is true.</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |

#### 9.3.3.9 Probe Request frame format

*Update a few existing orders and insert two new rows to Table 9-68 (not all lines shown) in numeric order:*

Table 9-68—Probe Request frame body

| Order | Information                          | Notes                                                                                                                                                                                                                                                                                                                                |
|-------|--------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ...   |                                      |                                                                                                                                                                                                                                                                                                                                      |
| 6     | Supported Operating Classes          | The Supported Operating Classes element is present if dot11ExtendedChannelSwitchActivated or dot11OperatingClassesRequired is true, except if the STA is an EHT STA in which case the STA follows the rules defined in 35.3.4.5. The Supported Operating Classes element is optionally present if dot11VHTOptionImplemented is true. |
| 7     | HT Capabilities                      | The HT Capabilities element is present when dot11HighThroughputOptionImplemented is true and the STA is not a STA 6G, except if the STA is an EHT STA in which case the STA follows the rules defined in 35.3.4.5.                                                                                                                   |
| 8     | 20/40 BSS Coexistence                | The 20/40 BSS Coexistence element is optionally present when dot112040BSSCoexistenceManagementSupport is true, except if the STA is an EHT STA in which case the STA follows the rules defined in 35.3.4.5.                                                                                                                          |
| 9     | Extended Capabilities                | The Extended Capabilities element is present if any of the fields in this element are nonzero, except if the STA is an EHT STA in which case the STA follows the rules defined in 35.3.4.5.                                                                                                                                          |
| 10    | SSID List                            | The SSID List element is optionally present if dot11SSIDListActivated is true, except if the STA is an EHT STA in which case the STA follows the rules defined in 35.3.4.5.                                                                                                                                                          |
| 11    | Channel Usage                        | One or more Channel Usage elements are optionally present if dot11ChannelUsageActivated is true, except if the STA is an EHT STA in which case the STA follows the rules defined in 35.3.4.5.                                                                                                                                        |
| 12    | Interworking                         | The Interworking element is present if dot11InterworkingServiceActivated is true, except if the STA is an EHT STA in which case the STA follows the rules defined in 35.3.4.5.                                                                                                                                                       |
| ...   |                                      |                                                                                                                                                                                                                                                                                                                                      |
| 17    | VHT Capabilities                     | The VHT Capabilities element is present in the 5 GHz band when dot11VHTOptionImplemented is true except if the STA is an EHT STA in which case the STA follows the rules defined in 35.3.4.5.                                                                                                                                        |
| 18    | Estimated Service Parameters Inbound | The Estimated Service Parameters Inbound element is optionally present if dot11EstimatedServiceParametersInboundOptionImplemented is true, except if the STA is an EHT STA in which case the STA follows the rules defined in 35.3.4.5.                                                                                              |
| ...   |                                      |                                                                                                                                                                                                                                                                                                                                      |
| 20    | FILS Request Parameters              | The FILS Request Parameters element is optionally present if dot11FILSActivated is true, except if the STA is an EHT STA in which case the STA follows the rules defined in 35.3.4.5; otherwise, not present.                                                                                                                        |
| 21    | AP-CSN                               | The AP-CSN element is optionally present if dot11FILSActivated is true, except if the STA is an EHT STA in which case the STA follows the rules defined in 35.3.4.5; otherwise, not present.                                                                                                                                         |
| ...   |                                      |                                                                                                                                                                                                                                                                                                                                      |

Table 9-68—Probe Request frame body (continued)

| Order | Information                           | Notes                                                                                                                                                                                                                                      |
|-------|---------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 30    | Cluster Probe                         | The Cluster Probe element is optionally present if dot11Clusterin gActivated is true, except if the STA is an EHT STA in which case the STA follows the rules defined in 35.3.4.5; otherwise, not present.                                 |
| ...   |                                       |                                                                                                                                                                                                                                            |
| 32    | Estimated Service Parameters Outbound | The Estimated Service Parameters Outbound element is optionally present if dot11EstimatedServiceParametersOutboundOptionIm plemented is true, except if the STA is an EHT STA in which case the STA follows the rules defined in 35.3.4.5. |
| 33    | Supplemental Class 2 Capabilities     | The Supplemental Class 2 Capabilities element is present when dot11Class2CapabilitiesOptionImplemented is true, except if the STA is an EHT STA in which case the STA follows the rules defined in 35.3.4.5; otherwise, not present.       |
| 34    | HE Capabilities                       | The HE Capabilities element is present if dot11HEOptionImpl emented is true, except if the STA is an EHT STA in which case the STA follows the rules defined in 35.3.4.5; otherwise, it is not present.                                    |
| ...   |                                       |                                                                                                                                                                                                                                            |
| 36    | HE 6 GHz Band Capabilities            | The HE 6 GHz Band Capabilities element is present if dot11HE-OptionImplemented and dot11HE6GOptionImplemented are true, except if the STA is an EHT STA in which case the STA follows the rules defined in 35.3.4.5.                       |
| ...   |                                       |                                                                                                                                                                                                                                            |
| 38    | TWT Constraint Parameters             | The TWT Constraint Parameters element is optionally present if dot11TWOtionActivated is true, except if the STA is an EHT STA in which case the STA follows the rules defined in 35.3.4.5; otherwise, it is not present.                   |
| ...   |                                       |                                                                                                                                                                                                                                            |
| 40    | Unsolicited Block Ack Extension       | The Unsolicited Block Ack Extension element is optionally present if dot11UnsolicitedBAActivated is true, except if the STA is an EHT STA in which case the STA follows the rules defined in 35.3.4.5, and is absent otherwise.            |
| 41    | WUR Capabilities                      | The WUR Capabilities element is present when dot11WUROp-tionImplemented is true, except if the STA is an EHT STA in which case the STA follows the rules defined in 35.3.4.5; other-wise, it is not present.                               |
| ...   |                                       |                                                                                                                                                                                                                                            |
| 44    | Multi-Link                            | A single Probe Request Multi-Link element is present if dot11- Multi-linkActivated is true and the Probe Request frame is a multi-link probe request as defined in 35.3.4.2. Otherwise, the Multi-Link element is not present.             |
| 45    | EHT Capabilities                      | The EHT Capabilities element is present if dot11EHTOptionIm plemented is true; otherwise, it is not present.                                                                                                                               |

Insert the following paragraph at the end of the subclause:

A multi-link probe request is a Probe Request frame that includes a Probe Request Multi-Link element. It is used by a non-AP STA affiliated with a non-AP MLD to discover the APs affiliated with an AP MLD as described in 35.3.4.2.

#### 9.3.3.10 Probe Response frame format

*Change existing orders 11 and 96, and insert three new rows to Table 9-69 (not all lines shown) in numeric order:*

Table 9-69—Probe Response frame body

| Order | Information         | Notes                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|-------|---------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ...   |                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| 11    | Quiet               | The Quiet element is optionally present if dot11SpectrumManagementRequired is true or if dot11RadioMeasurementActivated is true or dot11RestrictedTWTOptionImplemented is true.                                                                                                                                                                                                                                                                                                                                               |
| ...   |                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| 96    | TWT                 | The TWT element is optionally present within broadcast Probe Response frames if dot11TWTOptionActivated, dot11HEOptionImplemented and dot11FILS0miReplicateProbeResponses are true; otherwise, it is not present.<br>The TWT element is present if the dot11RestrictedTWTOptionImplemented is true and the AP has at least one R-TWT schedule to announce as described in 35.8.3.<br>Otherwise, the TWT element is not present.<br>If the TWT element is present, then the Negotiation Type subfield of the TWT element is 2. |
| ...   |                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| 114   | Multi-Link          | If dot11MultiLinkActivated is true and dot11MultiBSSIDImplemented is false, then a single Basic Multi-Link element is present and a single Reconfiguration Multi-Link element is optionally present (see 35.3.6.3).<br>If dot11MultiLinkActivated is true and dot11MultiBSSIDImplemented is true, one or more Basic Multi-Link element is (are) present as defined in 35.3.20 and a single Reconfiguration Multi-Link element is optionally present (see 35.3.6.3).<br>Otherwise, the Multi-Link element is not present.      |
| 115   | EHT Capabilities    | The EHT Capabilities element is present if dot11EHTOptionImplemented is true; otherwise, it is not present.                                                                                                                                                                                                                                                                                                                                                                                                                   |
| 116   | EHT Operation       | The EHT Operation element is present if dot11EHTOptionImplemented is true; otherwise, it is not present.                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 117   | TID-To-Link Mapping | One or two TID-To-Link Mapping elements are optionally present if dot11MultiLinkActivated and dot11TIDtoLinkMappingActivated are true; otherwise, none are present.                                                                                                                                                                                                                                                                                                                                                           |

*Insert the following paragraph at the end of the subclause:*

A multi-link probe response is a Probe Response frame that is sent in response to a multi-link probe request, and is used as described in 35.3.4.2.

#### 9.3.3.11 Authentication frame format

*Insert a new row to Table 9-70 (not all lines shown) in numeric order:*

Table 9-70—Authentication frame body

| Order | Information | Notes                                                                                                                                                                              |
|-------|-------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ...   |             |                                                                                                                                                                                    |
| 28    | Multi-Link  | The Basic Multi-Link element is present if dot11MultiLinkActivated is true and the frame exchange is with a peer STA that is affiliated with an MLD. Otherwise, it is not present. |

#### 9.3.3.13 Action frame format

*Change the entry and “Last – 3” and add a new entry “Last – 4” in Table 9-73 (not all lines shown) as follows:*

Table 9-73—Action frame body and Action No Ack frame body

| Order    | Information                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1        | ...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Last – 4 | The MLO Link Info element is present as defined in 35.3.14.3. Otherwise, not present.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| Last – 3 | One or more Vendor Specific elements are optionally present.<br>These elements are absent when the Category subfield of the Action field is Vendor-Specific, Vendor-Specific Protected, or when the Category subfield of the Action field is VHT and the VHT Action subfield of the Action field is VHT Compressed Beamforming, or when the Category subfield of the Action field is HE and the HE Action subfield of the Action field is HE Compressed Beamforming/CQI, or when the Category subfield of the Action field is EHT and the EHT Action subfield of the Action field is EHT Compressed Beamforming/CQI. |
| ...      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |

## 9.4 Management and Extension frame body components

### 9.4.1 Fields that are not elements

#### 9.4.1.4 Capability Information field

*Change Figure 9-140 as follows:*

|      | B0                     | B1   | B2                 | B3       | B4                   | B5             | B6                                     | B7                                                                |
|------|------------------------|------|--------------------|----------|----------------------|----------------|----------------------------------------|-------------------------------------------------------------------|
|      | ESS                    | IBSS | Reserved           | Reserved | Privacy              | Short Preamble | Reserved<br>Critical<br>Update<br>Flag | Reserved<br>Nontransmitted<br>BSSID<br>Critical<br>Update<br>Flag |
| Bits | 1                      | 1    | 1                  | 1        | 1                    | 1              | 1                                      | 1                                                                 |
|      | B8                     | B9   | B10                | B11      | B12                  | B13            | B14                                    | B15                                                               |
|      | Spectrum<br>Management | QoS  | Short Slot<br>Time | APSD     | Radio<br>Measurement | EPD            | Reserved                               | Reserved                                                          |
| Bits | 1                      | 1    | 1                  | 1        | 1                    | 1              | 1                                      | 1                                                                 |

Figure 9-140—Capability Information field format (non-DMG STA)

*Insert the following paragraphs after the 13th paragraph (“An ERP STA sets...”):*

The Critical Update Flag subfield is reserved when the Capability Information field is carried in

- A frame transmitted by a non-AP STA or
- A frame transmitted by an AP that is not affiliated with an AP MLD or
- Frames other than a Beacon frame or a Probe Response frame transmitted by an AP affiliated with an AP MLD or
- A Per-STA Profile subelement contained in a Basic Multi-Link element that includes a complete profile of a reported AP.

Otherwise, the Critical Update Flag subfield is present in the Capability Information field.

An AP affiliated with an AP MLD sets the Critical Update Flag subfield to 1 in the Beacon and Probe Response frame(s) until including its next DTIM beacon based on the conditions described in 35.3.10.

The Nontransmitted BSSID Critical Update Flag subfield is reserved when the Capability Information field is carried in:

- A frame transmitted by a non-AP STA or
- A frame transmitted by an AP that is not affiliated with an AP MLD or
- A frame transmitted by an AP that is affiliated with an AP MLD and does not belong to a multiple BSSID set or
- The Nontransmitted BSSID Capability element contained within the Nontransmitted BSSID Profile subelement of the Multiple BSSID element transmitted by an AP corresponding to the transmitted BSSID in a multiple BSSID set or
- Frames other than a Beacon frame or a Probe Response frame transmitted by an AP affiliated with an AP MLD that corresponds to a transmitted BSSID in a multiple BSSID set or

— A Per-STA Profile subelement contained in a Basic Multi-Link element that includes a complete profile of a reported AP.

Otherwise, the Nontransmitted BSSID Critical Update Flag subfield is present in the Capability Information field.

An AP affiliated with an AP MLD sets the Nontransmitted BSSID Critical Update Flag subfield to 1 if the Critical Update Flag subfield of the Nontransmitted BSSID Capability field (see 9.4.2.70) is set to 1 in at least one Nontransmitted BSSID Profile subelement carried in the Multiple BSSID element in the same frame. Otherwise, the AP sets the Nontransmitted BSSID Critical Update Flag subfield to 0.

#### 9.4.1.5 Current AP Address field

*Change as follows:*

If the current association is between a non-AP STA and an AP, the Current AP Address field is the MAC address of the AP with which the STA is currently associated. If the current association is between a non-AP MLD and an AP MLD, then the Current AP Address field is the MLD MAC address of the AP MLD with which the non-AP MLD is currently associated. The Current AP Address field is shown in Figure 9-142.

#### 9.4.1.6 Listen Interval field

*Change the first paragraph, including to split it into three paragraphs, as follows:*

For non-MLO, the Listen Interval field is used to indicate to the AP how often an SIG STA with dot11NonTIMModeActivated equal to false or a non-SIG STA in power save mode wakes to listen to Beacon frames. It is also used to indicate to an AP the duration during which an SIG STA with dot11NonTIMModeActivated equal to true is required to transmit at least one frame that is addressed to the associated AP. This field is derived from the ListenInterval parameter when present as a parameter of an MLME primitive. The value is in units of beacon interval if dot11ShortBeaconInterval is false and in units of short beacon interval if dot11ShortBeaconInterval is true (see 11.1.3.10.2).

For MLO, the Listen Interval field is used to indicate to the AP MLD how often at least one of the non-AP STAs affiliated with a non-AP MLD wakes to listen to Beacon frames if all STAs affiliated with the non-AP MLD are in power save mode. This field is derived from the ListenInterval parameter when present as a parameter of an MLME primitive. The value of this field is in units of the maximum beacon interval value (with respect to the beacon interval corresponding to each of the links that the non-AP MLD requests for (re)setup in the (Re)Association Request frame) (see 35.3.5.1).

The Listen Interval field is shown in Figure 9-143.

*Change the now-shifted fourth paragraph as follows:*

NOTE—The value 0 might be used by a STA that is not affiliated with an MLD and never enters power save mode or by a non-AP MLD of which all affiliated non-AP STAs that never enters power save mode.

*Change the last paragraph, including to split it into two paragraphs, as follows:*

For non-MLO, an AP uses the listen interval in determining the lifetime of frames that it buffers for a STA.

For MLO, an AP MLD uses the listen interval in determining the lifetime of frames that it buffers for a non-AP MLD.

#### 9.4.1.8 AID field

*Change the first two paragraphs as follows:*

In infrastructure BSS operation, the AID field contains a value assigned by an AP, or PCP or an AP MLD during association. The field represents the 16-bit ID of a STA when assigned by an AP or PCP. The field represents the 16-bit ID of a non-AP MLD when assigned by an AP MLD. In mesh BSS operation, the AID field is a value that represents the 16-bit ID of a neighbor peer mesh STA, assigned during mesh peering. The AID field is shown in Figure 9-146 (AID field format).

The AID field for a non-DMG and non-SIG STA associated to a non-EHT AP is in the range 1 to 2007. The AID field for a STA associated to an EHT AP or for a non-AP MLD associated to an AP MLD is in the range 1 to 2006. This value is placed in the 14 LSBs of the AID field, with the two MSBs of the AID field set to 1.

#### 9.4.1.9 Status Code field

*Change the Status Codes 18 and 39, and insert the following new rows (starting from 130) to Table 9-80 (not all lines shown) while maintaining the numerical order and updating the reserved range:*

Table 9-80—Status codes

| Status code | Name                                                           | Meaning                                                                                                                                                                                                                                                                                                                                                                                   |
|-------------|----------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ...         | ...                                                            | ...                                                                                                                                                                                                                                                                                                                                                                                       |
| 18          | REFUSED_BASIC_RATES_MIS-MATCH                                  | Association denied due to requesting STA not supporting all of the data rates in the BSSBasicRateSet parameter, the Basic HT-MCS Set field of the HT Operation parameter, the Basic VHT-MCS And NSS Set field in the VHT Operation parameter, or the Basic HE-MCS And NSS Set field in the HE Operation parameter, or the Basic EHT-MCS And NSS Set field in the EHT Operation parameter. |
| ...         | ...                                                            | ...                                                                                                                                                                                                                                                                                                                                                                                       |
| 39          | REJECTED_WITH_SUGGEST-ED_CHANGES                               | The allocation or TS or SCS stream has not been created because the request cannot be honored; however, a suggested TSPEC/DMG TSPEC or QoS Characteristics element is provided so that the initiating STA can attempt to set another allocation or TS or SCS stream with the suggested changes to the TSPEC/DMG TSPEC or QoS Characteristics element.                                     |
| ...         | ...                                                            | ...                                                                                                                                                                                                                                                                                                                                                                                       |
| 130-135     | DENIED_STA_AFFILIAT-ED_WITH_MLD_WITH_EXIST-ING_MLD_ASSOCIATION | Reserved Association denied because the requesting STA is affiliated with a non-AP MLD that is associated with the AP MLD.                                                                                                                                                                                                                                                                |
| 131         | EPCS_DENIED_UNAUTHORIZED                                       | EPCS priority access denied because the non-AP MLD is not authorized to use the service.                                                                                                                                                                                                                                                                                                  |
| 132         | EPCS_DENIED                                                    | EPCS priority access denied due to a reason outside the scope of this standard.                                                                                                                                                                                                                                                                                                           |
| 133         | DENIED_TID_TO_LINK_MAPPING                                     | Request denied because the requested TTLM is unacceptable.                                                                                                                                                                                                                                                                                                                                |

Table 9-80—Status codes (continued)

| Status code | Name                                                                                      | Meaning                                                                                                                                                  |
|-------------|-------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------|
| 134         | <u>PREFERRED_TID_TO_LINK_MAPPING_SUGGESTED</u>                                            | Preferred TTLM suggested.                                                                                                                                |
| 135         | <u>DENIED_EHT_NOT_SUPPORTED</u>                                                           | Association denied because the requesting STA does not support EHT features.                                                                             |
| ...         |                                                                                           |                                                                                                                                                          |
| 139–142     | <u>DENIED_LINK_ON WHICH THE (Re)ASSOCIATION REQUEST FRAME IS TRANSMITTED_NOT_ACCEPTED</u> | Reserved(Re)Association denied because the link on which the (Re)Association Request frame is transmitted is not accepted.                               |
| 140         | <u>EPCS_DENIED_VERIFICATION_FAILURE</u>                                                   | EPCS priority access is temporarily denied because the receiving AP MLD is unable to verify that the non-AP MLD is authorized for an unspecified reason. |
| 141         | <u>DENIED_OPERATION_PARAMETER_UPDATE</u>                                                  | Operation parameter update denied because the requested operation parameters or capabilities are not acceptable.                                         |
| 142         | <u>NON_AP_STA_MAC_ADDRESS_IN_USE</u>                                                      | The non-AP STA MAC address is used by an existing associated non-AP STA.                                                                                 |

#### 9.4.1.11 Action field

*Change a few existing rows and insert the following new rows to Table 9-81 (not all lines shown) while maintaining the numerical order and updating the reserved range:*

Table 9-81—Category values

| Code      | Meaning       | See subclause | Robust | Group addressed privacy |
|-----------|---------------|---------------|--------|-------------------------|
| ...       |               |               |        |                         |
| 36        | EHT           | 9.6.37        | No     | No                      |
| 37        | Protected EHT | 9.6.38        | Yes    | No                      |
| ...       |               |               |        |                         |
| 35–40–125 | Reserved      |               |        |                         |

#### 9.4.1.40 Finite Cyclic Group field

*Change the first paragraph as follows:*

The Finite Cyclic Group field is used as specified in Clause 12 to indicate an unsigned integer, from a repository maintained by IANA as “Group Description”Transform Type 4 – Key Exchange Method Transform IDs” attributes for IETF RFC 2409 (IKE)7296 [B14][B29] that specifies the cryptographic group to use in a cryptographic exchange. See Figure 9-182.

#### 9.4.1.51 Operating Mode field

*Change the Rx NSS row in Table 9-110 (not all lines shown) as follows:*

Table 9-110—Subfield values of the Operating Mode field

| Subfield | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Rx NSS   | <p>If the STA that transmits the Operating Mode field (STA1) and the receiver of the Operating Mode field (STA2) are not both HE STAs and if the Rx NSS Type subfield is 0, then this field, combined with other information described in 9.4.2.156.3, indicates the maximum number of spatial streams that STA1 can receive.</p> <p>If the STA that transmits the Operating Mode field (STA1) and the receiver of the Operating Mode field (STA2) are both HE STAs, and if the Rx NSS Type subfield is 0, then the following apply:</p> <ul><li>The value of this field, combined with other information described in 9.4.2.156.3, indicates the maximum number of spatial streams that the HE STA can receive in a VHT PPDU</li><li>The value of this field, combined with other information described in 9.4.2.247.4, indicates the maximum number of spatial streams that STA1 can receive in an HE PPDU.</li><li><u>If both STAs are also EHT STAs, then the value of this field, combined with other information as described in 9.4.2.323.4, indicates the maximum number of spatial streams that STA1 can receive in an EHT PPDU.</u></li></ul> <p>If the Rx NSS Type subfield is 1, this field indicates the maximum number of spatial streams that the STA can receive as a beamformee in an SU PPDU using a beamforming steering matrix derived from a VHT Compressed Beamforming report with Feedback Type subfield indicating MU in the corresponding VHT Compressed Beamforming frame sent by the STA.</p> <p>In a non-SIG STA:</p> <ul><li>Set to 0 for <math>N_{SS} = 1</math></li><li>Set to 1 for <math>N_{SS} = 2</math></li><li>...</li><li>Set to 7 for <math>N_{SS} = 8</math></li></ul> <p>In an SIG STA:</p> <ul><li>Set to 0 for <math>N_{SS} = 1</math></li><li>Set to 1 for <math>N_{SS} = 2</math></li><li>Set to 2 for <math>N_{SS} = 3</math></li><li>Set to 3 for <math>N_{SS} = 4</math></li></ul> <p><b>NOTE</b>—In a STA with dot11VHTExtendedNSSBWCapable equal to true, NSS might be further modified for VHT PPDUs per Table 9-111 (Setting of the Channel Width subfield and 160/80+80 BW subfield at a VHT STA transmitting the Operating Mode field). In an HE STA with dot11VHTExtendedNSSBWCapable equal to true, NSS might be further modified for HE PPDU per Equation (9-5). In an EHT STA with dot11VHTExtendedNSSBWCapable equal to true, NSS might be further modified for EHT PPDU per Equation (9-5a)</p> |

*Insert the following paragraph and NOTE at the end of the subclause:*

The maximum number of spatial streams that the STA supports in reception for a given EHT-MCS as a function of the received EHT PPDU bandwidth at an EHT STA transmitting an Operating Mode field is defined as

$$\lfloor Rx-NSS-from-OMF \times (Max-EHT-NSS-at-BW/Max-EHT-NSS-at-80) \rfloor \quad (9-5a)$$

where

$Rx-NSS-from-OMF$  is  $N_{SS}$  from the Operating Mode field transmitted by the STA.

$Max-EHT-NSS-at-BW$  is the maximum NSS among all EHT-MCS at  $BW$  MHz from the Supported EHT-MCS and NSS Set field transmitted by the STA.

$Max-EHT-NSS-at-80$  is the maximum NSS among all EHT-MCS at 80 MHz from the Supported EHT-MCS and NSS Set field transmitted by the STA.

NOTE 2—For an operating mode between two EHT STAs, the  $Rx$  NSS subfield in the Operating Mode field indicates the maximum number of spatial streams at channel width less than or equal to 80 MHz.

**Insert the following new subclauses at the end of subclause 9.4.1:**

#### 9.4.1.72 EHT MIMO Control field

The EHT MIMO Control field is defined in Figure 9-207a.

|       | B0                          | B3                     | B4              | B7       | B8                           | B10 | B11 | B12                  | B13 | B14 | B16      |
|-------|-----------------------------|------------------------|-----------------|----------|------------------------------|-----|-----|----------------------|-----|-----|----------|
|       | Nc Index                    | Nr Index               | BW              | Grouping |                              |     |     | Feedback Type        |     |     | Reserved |
| Bits: | 4                           | 4                      | 3               | 1        |                              |     |     | 2                    |     |     | 3        |
|       | B17                         | B19                    | B20             | B21      | B29                          | B30 | B35 | B36                  | B37 | B39 |          |
|       | Remaining Feedback Segments | First Feedback Segment | Partial BW Info |          | Sounding Dialog Token Number |     |     | Codebook Information |     |     | Reserved |
| Bits: | 3                           | 1                      | 9               |          | 6                            |     |     | 1                    |     |     | 3        |

Figure 9-207a—EHT MIMO Control field format

The subfields of the EHT MIMO Control field are defined in Table 9-129a.

Table 9-129a—EHT MIMO Control field encoding

| Subfield                    | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|-----------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Nc Index                    | If the Feedback Type subfield indicates SU or MU, the Nc Index subfield indicates the number of columns in the compressed beamforming feedback matrix minus 1, $N_c - 1$ .<br>If the Feedback Type subfield indicates CQI, the Nc Index subfield indicates the number of spatial streams, $N_c$ , in the CQI report and is set to $N_c - 1$ .<br>Nc Index subfield values above 7 are reserved.                                                                                                                                                                                   |
| Nr Index                    | If the Feedback Type subfield indicates SU or MU, the Nr Index subfield indicates the number of rows in the compressed beamforming feedback matrix minus 1, $N_r - 1$ . The values 0 and 8–15 are reserved.<br>If the Feedback Type subfield indicates CQI, then the Nr Index subfield is reserved.                                                                                                                                                                                                                                                                               |
| BW                          | The value of the BW subfield corresponds to the bandwidth of the EHT sounding NDP. The values 5–7 are reserved.<br>Set to 0 for 20 MHz<br>Set to 1 for 40 MHz<br>Set to 2 for 80 MHz<br>Set to 3 for 160 MHz<br>Set to 4 for 320 MHz                                                                                                                                                                                                                                                                                                                                              |
| Grouping                    | If the Feedback Type subfield indicates SU or MU, then the Grouping subfield indicates the subcarrier grouping, $N_g$ , used for the compressed beamforming feedback matrix:<br>Set to 0 for $N_g = 4$<br>Set to 1 for $N_g = 16$<br>If the Feedback Type subfield indicates CQI, then the Grouping subfield is reserved.                                                                                                                                                                                                                                                         |
| Codebook Information        | Indicates the size of the codebook entries.<br>If the Feedback Type subfield indicates SU:<br>Set to 0 for 4 bits for $\phi$ and 2 bits for $\psi$<br>Set to 1 for 6 bits for $\phi$ and 4 bits for $\psi$<br>If the Feedback Type subfield indicates MU:<br>Set to 0 for 7 bits for $\phi$ and 5 bits for $\psi$<br>Set to 1 for 9 bits for $\phi$ and 7 bits for $\psi$<br>If the Feedback Type subfield indicates CQI, then the Codebook Information subfield is reserved.<br>NOTE—The codebook size for MU feedback with $N_g = 16$ is limited to $(\phi, \psi) = \{9, 7\}$ . |
| Feedback Type               | Indicate the feedback type:<br>Set to 0 for SU<br>Set to 1 for MU<br>Set to 2 for CQI<br>3 is reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Remaining Feedback Segments | Indicates the number of remaining feedback segments for the associated EHT Compressed Beamforming/CQI frame:<br>Set to 0 for the last feedback segment of a segmented report or the only feedback segment of an unsegmented report.<br>Set to a value between 1 and 7 for a feedback segment that is not the last feedback segment of a segmented report.                                                                                                                                                                                                                         |

Table 9-129a—EHT MIMO Control field encoding (continued)

| Subfield                     | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| First Feedback Segment       | <p>Set to 1 for the first feedback segment of a segmented report or the only feedback segment of an unsegmented report. Set to 0 if not the first feedback segment or if the EHT Compressed Beamforming Report field and the EHT MU Exclusive Beamforming Report field are not present in the frame.</p> <p>NOTE—The First Feedback Segment subfield is always set to 0 if the Feedback Type subfield indicates CQI because the EHT Compressed Beamforming/CQI Report frame is always less than 11 454 octets in length.</p>                                            |
| Partial BW Info              | <p>This subfield is defined as in Figure 9-74o. The Resolution bit indicates the feedback resolution bandwidth. Set to 0 to indicate a resolution of 20 MHz if the BW subfield is set to 0 to 3. Set to 1 to indicate a resolution of 40 MHz if the BW subfield is set to 4. The Feedback Bitmap subfield indicates each resolution bandwidth for which the beamformer is requesting feedback. Each non-reserved bit in the Feedback Bitmap subfield is set to 1 if the feedback on the corresponding resolution bandwidth is requested, and is set to 0 otherwise.</p> |
| Sounding Dialog Token Number | <p>Set to the same value as the Sounding Dialog Token Number field in the corresponding EHT NDP Announcement frame.</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                 |

#### 9.4.1.73 EHT Compressed Beamforming Report field

The EHT Compressed Beamforming Report field carries the average SNR of each spatial stream and compressed beamforming feedback matrices  $V$  for use by a transmit beamformer to determine steering matrices  $Q$ , as described in 10.33.3 and 19.3.12.3.

The size of the EHT Compressed Beamforming Report field depends on the values in the EHT MIMO Control field. The EHT Compressed Beamforming Report field contains EHT compressed beamforming report information. The EHT Compressed Beamforming Report field is included in the EHT Compressed Beamforming/CQI Report field (see 9.4.1.79) if the Feedback Type subfield in the EHT MIMO Control field indicates SU or MU, and is not included otherwise.

The EHT Compressed Beamforming Report information contains the channel matrix elements indexed, first, by matrix angles in order shown in Table 9-101 (Order of angles in the compressed beamforming feedback matrix when used in a non-SIG band), and second, by data and pilot subcarrier index from the lowest frequency to the highest frequency for all the subcarrier indices that need to be fed back based on the Partial BW Info subfield and determined using Table 9-129b, Table 9-129c, and Table 9-129d. An explanation of how these angles are generated from the beamforming feedback matrix  $V$  is given in 19.3.12.3.6, where is the  $Nc$  is the number of columns in a compressed beamforming feedback matrix determined by the  $Nc$  Index subfield of the EHT MIMO Control field, and  $Nr$  is the number of rows in a compressed beamforming feedback matrix determined by the  $Nr$  Index subfield of the EHT MIMO Control field.

The beamforming feedback matrix  $V$  is formed by the beamformee as follows. The beamformer transmits an EHT sounding NDP with  $N_{SS, NDP}$  spatial streams, where  $N_{SS, NDP}$  takes a value between 2 and 8. Based on this EHT sounding NDP, the beamformee estimates the  $N_{RX,BFEE} \times N_{SS, NDP}$  channel, and based on that channel it determines a  $Nr \times Nc$  orthogonal matrix  $V$ , where  $Nr$  and  $Nc$  satisfy Equation (9-3) (see 9.4.1.47).  $N_{RX,BFEE}$  is the number of receiver chains used to receive the EHT sounding NDP at the beamformee.

Further restrictions on  $Nc$  are described in 36.2. The angles are quantized as defined in Table 9-92 with  $b_\psi$  (bits for  $\psi$ ) and  $b_\phi$  (bits for  $\phi$ ) defined by the Codebook Information field of the EHT MIMO Control field (see 9.4.1.72).

The EHT Compressed Beamforming Report information has the structure and order defined in Table 9-123, where  $Na$  is the number of angles used for the compressed beamforming feedback matrix (see Table 9-101).

In Table 9-123,  $Ns$  is the number of subcarriers for which a compressed beamforming feedback matrix is sent back to the beamformer. A beamformer or beamformee, depending upon which of the two determines the feedback parameters, reduces  $Ns$  by using a method referred to as grouping, in which only a single compressed beamforming feedback matrix is reported for each group of  $Ng$  adjacent subcarriers.  $Ns$  is a function of the BW, Partial BW Info, and Grouping subfields in the EHT MIMO Control field (see 9.4.1.72).

Subcarrier indices  $scidx(i)$ ,  $i = 0, 1, \dots, Ns - 1$ , are a concatenation of the subcarrier indices for each 242-tone RU or 996-tone RU in the frequency order identified by the Partial BW Info subfields together with the BW and Grouping subfields. The subcarrier indices for each 242-tone RU or 996-tone RU are defined in Table 9-129b, Table 9-129c, and Table 9-129d.

NOTE—This implicitly defines  $Ns$ .

Table 1-129b—Subcarrier indices when not all bits in Partial BW Info subfield corresponding to the 80 MHz frequency subblock are set to 1

| 242-tone RU index                                                                                                                 | 20 MHz                                                | 40 MHz          | 80 MHz              | 160 MHz              | 320 MHz               |
|-----------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------|-----------------|---------------------|----------------------|-----------------------|
| 1                                                                                                                                 | $Ng = 4$<br>[-122, -120:4:-4, -2, 2, 4:4:120, 122]    | [-244: $Ng$ :4] | [-500: $Ng$ : -260] | [-1012: $Ng$ : -772] | [-2036: $Ng$ : -1796] |
|                                                                                                                                   | $Ng = 16$<br>[-122, -116:16:-4, -2, 2, 4:16:116, 122] |                 |                     |                      |                       |
| 2                                                                                                                                 |                                                       | [4: $Ng$ :244]  | [-252: $Ng$ :12]    | [-764: $Ng$ : -524]  | [-1788: $Ng$ : -1548] |
| 3                                                                                                                                 |                                                       |                 | [12: $Ng$ :252]     | [-500: $Ng$ : -260]  | [-1524: $Ng$ : -1284] |
| 4                                                                                                                                 |                                                       |                 | [260: $Ng$ :500]    | [-252: $Ng$ :12]     | [-1276: $Ng$ : -1036] |
| 5                                                                                                                                 |                                                       |                 |                     | [12: $Ng$ :252]      | [-1012: $Ng$ : -772]  |
| 6                                                                                                                                 |                                                       |                 |                     | [260: $Ng$ :500]     | [-764: $Ng$ : -524]   |
| 7                                                                                                                                 |                                                       |                 |                     | [524: $Ng$ :764]     | [-500: $Ng$ : -260]   |
| 8                                                                                                                                 |                                                       |                 |                     | [772: $Ng$ :1012]    | [-252: $Ng$ :12]      |
| 9                                                                                                                                 |                                                       |                 |                     |                      | [12: $Ng$ :252]       |
| 10                                                                                                                                |                                                       |                 |                     |                      | [260: $Ng$ :500]      |
| 11                                                                                                                                |                                                       |                 |                     |                      | [524: $Ng$ :764]      |
| 12                                                                                                                                |                                                       |                 |                     |                      | [772: $Ng$ :1012]     |
| 13                                                                                                                                |                                                       |                 |                     |                      | [1036: $Ng$ : 1276]   |
| 14                                                                                                                                |                                                       |                 |                     |                      | [1284: $Ng$ : 1524]   |
| 15                                                                                                                                |                                                       |                 |                     |                      | [1548: $Ng$ : 1788]   |
| 16                                                                                                                                |                                                       |                 |                     |                      | [1796: $Ng$ : 2036]   |
| NOTE: $[x:Ng:y]$ denotes an arithmetic progression from $x$ to $y$ in increments of $Ng$ , i.e., $x, x + Ng, x + 2Ng, \dots, y$ . |                                                       |                 |                     |                      |                       |

**Table 9-129c—Subcarrier indices when all bits in Partial BW Info subfield corresponding to the 80 MHz frequency subblock are set to 1 for  $N_g = 4$**

| 996-tone RU index | 80 MHz                  | 160 MHz                       | 320 MHz                           |
|-------------------|-------------------------|-------------------------------|-----------------------------------|
| 1                 | [-500:4:-4,<br>4:4:500] | [-1012:4:-516,<br>-508:4:-12] | [-2036:4:-1540,<br>-1532:4:-1036] |
| 2                 |                         | [12:4:508,<br>516:4:1012]     | [-1012:4:-516,<br>-508:4:-12]     |
| 3                 |                         |                               | [12:4:508,<br>516:4:1012]         |
| 4                 |                         |                               | [1036:4:1532,<br>1540:4:2036]     |

**Table 9-129d—Subcarrier indices when all bits in Partial BW Info subfield corresponding to the 80 MHz frequency subblock are set to 1 for  $N_g = 16$**

| 996-tone RU index | 80 MHz                                                                | 160 MHz                                                                          | 320 MHz                                                                                    |
|-------------------|-----------------------------------------------------------------------|----------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------|
| 1                 | [-500:16:-260,<br>-252:16:-12,<br>-4, 4,<br>12:16:252,<br>260:16:500] | [-1012:16:-772,<br>-764:16:-524,<br>-516, -508,<br>-500:16:-260,<br>-252:16:-12] | [-2036:16:-1796,<br>-1788:16:-1548,<br>-1540, -1532,<br>-1524:16:-1284,<br>-1276:16:-1036] |
| 2                 |                                                                       | [12:16:252,<br>260:16:500,<br>508, 516,<br>524:16:764,<br>772:16:1012]           | [-1012:16:-772,<br>-764:16:-524,<br>-516, -508,<br>-500:16:-260,<br>-252:16:-12]           |
| 3                 |                                                                       |                                                                                  | [12:16:252,<br>260:16:500,<br>508, 516,<br>524:16:764,<br>772:16:1012]                     |
| 4                 |                                                                       |                                                                                  | [1036:16:1276,<br>1284:16:1524,<br>1532, 1540,<br>1548:16:1788,<br>1796:16:2036]           |

The Partial BW Info subfield values are set according to the bandwidth of the PPDU carrying the EHT NDP Announcement frame and the RU or MRU for which feedback is solicited (see Table 9-42f).

For an EHT NDP Announcement frame carried in a PPDU of bandwidth 20 MHz or 40 MHz, compressed beamforming information related to the subcarrier indices of 242-tone RU for each 20 MHz requested in the Partial BW Info subfield is included in the feedback report.

For an EHT NDP Announcement frame carried in a PPDU of bandwidth larger than or equal to 80 MHz, in each 80 MHz frequency subblock, if the Partial BW Info subfield requests feedback for the entire 80 MHz (i.e., all the bits corresponding to the 80 MHz frequency subblock are set to 1), then compressed beamforming information related to subcarrier indices of the corresponding 996-tone RU is included in the feedback report. If the Partial BW Info subfield in each 80 MHz frequency subblock requests feedback for a subset of the 80 MHz (i.e., some but not all of the bits corresponding to the 80 MHz frequency subblock are set to 1), then:

- Compressed beamforming information related to the subcarrier indices of the 242-tone RU for each 20 MHz requested by Partial BW Info subfield is included in the feedback report if the bandwidth of the EHT sounding NDP is equal to 80 MHz or 160 MHz, and
- Compressed beamforming information related to the subcarrier indices of the 484-tone RU for each 40 MHz requested by Partial BW Info subfield is included in the feedback report if the bandwidth of the EHT sounding NDP is equal to 320 MHz.

The Partial BW Info subfield does not include any RUs or MRUs that are indicated as disabled in the Disabled Subchannel Bitmap subfield of the most recent EHT Operation element.

The Average SNR of Space-Time Stream  $i$  subfield in Table 9-123 is an 8-bit 2s complement integer defined in Table 9-120.

The  $AvgSNR_i$  in Table 9-120 (Average SNR of Space-Time Stream  $i$  subfield) is found by computing the SNR per subcarrier in decibels for the subcarriers identified in Table 9-129b, Table 9-129c, and Table 9-129d, and then computing the arithmetic mean of those values. Each SNR value per subcarrier in stream  $i$  (before being averaged) corresponds to the SNR associated with column  $i$  of the beamforming feedback matrix  $F$  determined at the beamformer. Each SNR corresponds to the predicted SNR at the beamformer when the beamformer applies all columns of the matrix  $F$ .

Padding is not present between angles in the EHT compressed beamforming report information, even if they correspond to different subcarriers. If the size of the unpacked EHT compressed beamforming report information is not an integer multiple of 8 bits, up to seven bits with the value zero are appended to the end of the unpacked EHT compressed report information to make its size an integer multiple of 8 bits.

#### 9.4.1.74 EHT MU Exclusive Beamforming Report field

The EHT MU Exclusive Beamforming Report field carries explicit feedback in the form of delta SNRs. The information in the EHT Compressed Beamforming Report field and the EHT MU Exclusive Beamforming Report field can be used by the transmit MU beamformer to determine the steering matrices  $Q$ , as described in 36.3.3.1.

The size of the EHT MU Exclusive Beamforming Report field depends on the values in the EHT MIMO Control field. The EHT MU Exclusive Beamforming Report field contains EHT MU Exclusive Beamforming Report information. The EHT MU Exclusive Beamforming Report field is included in the EHT Compressed Beamforming/CQI Report field (see 9.4.1.79) (in addition to the EHT Compressed Beamforming Report field) if the Feedback Type subfield in the EHT MIMO Control field indicates MU, and is not included otherwise.

The EHT MU exclusive beamforming report information consists of Delta SNR subfields for each of the spatial streams, 1 to  $N_c$ , of a subset of subcarriers typically spaced  $\Delta g$  apart, where  $N_g$  is signaled in the Grouping subfield of the EHT MIMO Control field. The subset of subcarriers starts from the lowest frequency subcarrier and continues to the highest frequency subcarrier. The subcarrier indices of the feedback for each Delta SNR subfield are identical to the subcarrier indices for the compressed beamforming feedback matrix  $F'$ .

NOTE—The feedback subcarrier spacings are mostly equal to  $N_g$ , but there are a few exceptions, generally around the RU edges and the DC tones, where extra feedback subcarriers are added to improve the channel interpolation/ extrapolation quality.

No padding is present between the  $\Delta SNR_{k,i}$  values in the EHT MU Exclusive Beamforming Report field, even if they correspond to different subcarriers. The subset of subcarriers included is determined by the values of the Partial BW Info and Grouping subfields of the EHT MIMO Control field. For each subcarrier included, the deviation in decibels of the SNR of that subcarrier for each column of  $F'$  relative to the average SNR of the corresponding spatial stream is computed using Equation (9-4) except that  $k$  is the subcarrier index in the range  $scidx(0), \dots, scidx(N_s - 1)$  and  $SNR_i$  is the average SNR of spatial stream  $i$  reported in the Average SNR of Space-Time Stream  $i$  field of the EHT Compressed Beamforming Report Information field.

The EHT MU Exclusive Beamforming Report field has the structure and order defined in Table 9-127 (HE MU Exclusive Beamforming Report information), wherein, for the EHT MU Exclusive Beamforming Report field,  $N_s$  and  $scidx()$  are defined in 9.4.1.73.

#### 9.4.1.75 EHT CQI Report field

The EHT CQI Report field carries the per-RU average SNRs of each spatial stream, where each per-RU average SNR is the arithmetic mean of the SNR in decibels over the subcarriers of a 26-tone RU for which feedback is being requested.

The EHT CQI Report field contains EHT CQI report information. EHT CQI Report information is included in the EHT Compressed Beamforming/CQI Report field (see 9.4.1.79) if the Feedback Type subfield in the EHT MIMO Control field indicates CQI feedback, and is not included otherwise.

The EHT CQI Report field has the structure and order defined in Table 9-128 (HE CQI Report information) wherein, for the EHT CQI Report field,  $N_{CQI}$  is the number of RU indices for which the CQI report is sent back to the beamformer.

$N_{CQI}$  equals 9 multiplied by the total number of bits equal to 1 from B1 to B8 of the Partial BW Info subfield when B0 is 0 and  $N_{CQI}$  equals 18 multiplied by the total number of bits equal to 1 from B1 to B8 of the Partial BW Info subfield when B0 is 1. The 26-tone RU subcarrier indices for 20 MHz, 40 MHz, 80 MHz, 160 MHz, and 320 MHz are defined in Table 27-8 (Data and pilot subcarrier indices for RUs in a 20 MHz HE PPDU and in a non-OFDMA 20 MHz HE PPDU), Table 27-9 (Data and pilot subcarrier indices for RUs in a 40 MHz HE PPDU and in a non-OFDMA 40 MHz HE PPDU), Table 36-5, Table 36-6, and Table 36-7, respectively. 26-tone RUs that are not defined, i.e., RU 19, RU 56, RU 93, and RU 130 (see 36.3.2.1), are not included in the EHT CQI Report field.

The Average SNR of space-time stream  $i$  for the RU index  $k$  subfield in Table 9-128 (HE CQI Report information) is a 6-bit 2s complement integer whose encoding is defined in Table 9-129 (Average SNR of RU with index  $k$  for space-time stream  $i$  subfield).

The  $AvgSNR_{k,i}$  in Table 9-129 (Average SNR of RU index  $k$  for space-time stream  $i$  subfield) is found by computing the arithmetic mean of the SNR per subcarrier in decibels for spatial stream  $i$  over the subcarriers

in RU index  $k$  for which feedback is being requested. The SNR per subcarrier calculation is defined in 9.4.1.73.

Padding is not present between per-RU average SNRs of each spatial stream information, even if they correspond to different RUs and spatial streams. If the size of the unpadded EHT CQI report information is not an integer multiple of 8 bits, up to seven 0s are appended to the end of the unpadded EHT CQI report information to make its size an integer multiple of 8 bits.

#### 9.4.1.76 EML Control field

The EML Control field is defined in Figure 9-207b.

![](c68466afb0a12ea87dc7cf27b72fcd20_img.jpg)

|       | B0         | B1                      | B2                             | B3                               |
|-------|------------|-------------------------|--------------------------------|----------------------------------|
|       | EMLSR Mode | EMLMR Mode              | EMLSR Parameter Update Control | In-Device Coexistence Activities |
| Bits: | 1          | 1                       | 1                              | 1                                |
|       | B4         | B7                      |                                |                                  |
|       | Reserved   | EMLSR/EMLMR Link Bitmap | MCS Map Count Control          | EMLMR Supported MCS And NSS Set  |
| Bits: | 4          | 0 or 16                 | 0 or 8                         | variable                         |

Figure 9-207b—EML Control field format

![](81d5f019ac58207b0538c8672531c2ea_img.jpg)

|       | B0            | B1 | B2 | B7       |
|-------|---------------|----|----|----------|
|       | MCS Map Count |    |    | Reserved |
| Bits: | 2             |    | 6  |          |

Figure 9-207c—MCS Map Count Control subfield format

Table 9-129e—EMLSR Mode subfield and EMLMR Mode subfield

| Subfield   | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| EMLSR Mode | <p>If a non-AP MLD supports enhanced multi-link single-radio operation (see 35.3.17):<br/>Set to 0 to indicate that the EMLSR mode is disabled for the non-AP MLD.<br/>Set to 1 to indicate that the EMLSR mode is enabled for the non-AP MLD.</p> <p>If a non-AP MLD does not support enhanced multi-link single-radio operation (see 35.3.17) or if the EMLMR Mode subfield is equal to 1:<br/>Set to 0.</p> <p>NOTE—An AP MLD with dot11EHTEMPLSROptionActivated equal to true sets the EMLSR Mode subfield to the value obtained from the EMLSR Mode subfield of a received EML Operating Mode Notification frame when responding to that frame (see 35.3.17).</p> |
| EMLMR Mode | <p>If a non-AP MLD supports enhanced multi-link multi-radio operation (see 35.3.18):<br/>Set to 0 to indicate that the EMLMR mode is disabled for the non-AP MLD.<br/>Set to 1 to indicate that the EMLMR mode is enabled for the non-AP MLD.</p> <p>If a non-AP MLD does not support enhanced multi-link multi-radio operation (see 35.3.18) or if the EMLSR Mode subfield is equal to 1:<br/>Set to 0.</p> <p>NOTE—An AP MLD with dot11EHTEMPLMROptionActivated equal to true sets the EMLMR Mode subfield to the value obtained from the EMLMR Mode subfield of a received EML Operating Mode Notification frame when responding to that frame (see 35.3.18).</p>   |

NOTE 1—The EMLSR Mode and EMLMR Mode subfields are used to enable or disable the EMLSR and EMLMR modes, respectively. An EML Operating Mode Notification frame sets either of these subfields to a nonzero value only when the corresponding mode is supported by the receiving MLD. An MLD indicates which mode(s) it supports in the EML Capabilities field of the transmitted Basic Multi-Link element (see 9.4.2.322.2).

When the EMLSR Mode subfield is set to 1, the EMLSR/EMLMR Link Bitmap subfield is the EMLSR Link Bitmap subfield. When the EMLMR Mode subfield is set to 1, the EMLSR/EMLMR Link Bitmap subfield is the EMLMR Link Bitmap subfield. When the EMLSR Mode subfield is set to 0 and the EMLMR Mode subfield is set to 0, the EMLSR/EMLMR Link Bitmap subfield is not present.

The EMLSR Parameter Update Control subfield indicates whether the EMLSR Parameter Update field is present in the EML Operating Mode Notification frame. The EMLSR Parameter Update Control subfield is set to 1 when the EMLSR Mode subfield is equal to 1 and the EMLSR Parameter Update field is present in the EML Operating Mode Notification frame, and set to 0 otherwise. When included in a frame sent by an AP affiliated with an AP MLD, the EMLSR Parameter Update Control subfield is set to 0.

NOTE 2—When the EMLSR Parameter Update Control subfield is set to 1, the EMLSR Link Bitmap subfield of the EML Control field contains a different value than the EMLSR Link Bitmap subfield value contained in a previous EML Operating Mode Notification frame successfully transmitted by the non-AP MLD (see 35.3.17).

The In-Device Co-existence Activities subfield indicates whether the non-AP MLD has in-device coexistence activities on its EMLSR link(s). The subfield is set to 1 to indicate the non-AP MLD has in-device coexistence activities on its EMLSR link(s), and otherwise, is set to 0 to indicate the non-AP MLD has no, or does not know whether it has, in-device coexistence activities on the EMLSR link(s). When included in a frame transmitted by an AP affiliated with an AP MLD, the In-device Coexistence Activities subfield is reserved.

The EMLSR Link Bitmap subfield indicates the subset of the enabled links that is used by the non-AP MLD in the EMLSR mode. The bit position  $i$  of the EMLSR Link Bitmap subfield corresponds to the link with the Link ID subfield equal to  $i$  and is set to 1 to indicate that the link is used by the non-AP MLD for the EMLSR mode and is a member of the EMLSR link(s); otherwise, the bit position is set to 0. An AP MLD with dot11EHTEMLSROptionActivated equal to true sets the EMLSR Link Bitmap subfield to the value obtained from the EMLSR Link Bitmap subfield of the received EML Operating Mode Notification frame. The EMLSR Link Bitmap subfield is present if the EMLSR Mode subfield is equal to 1 and is not present otherwise.

NOTE 3—As an example, when a non-AP MLD enables three links and the first link has Link ID subfield equal to 0, the second link has Link ID subfield equal to 1, and the third link has Link ID equal to 2, and the two links with Link ID subfield equal to 1 and Link ID equal to 2 are used for the EMLSR operation, the second bit and the third bit positions of the EMLSR Link Bitmap subfield are set to 1 and other bit positions are set to 0. This example also applies to the EMLMR operation using the EMLMR Link Bitmap subfield as described below.

The EMLMR Link Bitmap subfield indicates the subset of the enabled link(s) that is used by the non-AP MLD in the EMLMR mode. The bit position  $i$  of the EMLMR Link Bitmap subfield corresponds to the link with the Link ID subfield equal to  $i$  and is set to 1 to indicate that the link is used by the non-AP MLD for the EMLMR mode and is a member of the EMLMR links; otherwise, the bit position is set to 0. An AP MLD with dot11EHTEMLMROptionActivated equal to true sets the EMLMR Link Bitmap subfield to the value obtained from the EMLMR Link Bitmap subfield of the received EML Operating Mode Notification frame. The EMLMR Link Bitmap subfield is present if the EMLMR Mode subfield is equal to 1 and is not present otherwise.

The EMLMR Supported MCS And NSS Set subfield indicates the combinations of MCS and number of spatial streams  $N_{SS}$  that a non-AP MLD supports for reception and transmission on any EMLMR link during the EMLMR operation, and is set to  $N_{SS} - 1$ . The MCS Map Count subfield is set to 0 if the maximum of the supported channel widths for STAs affiliated with the non-AP MLD operating on EMLMR links is smaller than or equal to 80 MHz. The MCS Map Count subfield is set to 1 or 2 if the maximum of the supported channel widths for STAs affiliated with the non-AP MLD operating on EMLMR links is equal to 160 MHz or 320 MHz, respectively, and the value 3 is reserved. The MCS Map Count Control subfield is present if the EMLMR Mode subfield is equal to 1 and is not present otherwise.

The EMLMR Supported MCS And NSS Set subfield is present if the EMLMR Mode subfield is equal to 1; otherwise, it is not present. The format of the EMLMR Supported MCS And NSS Set subfield is shown in Figure 9-207d.

![](d128fedf9c1a02f68acd9b8d64533a53_img.jpg)

|         | MCS Map<br>(BW $\le$ 80 MHz) | MCS Map<br>(BW = 160 MHz) | MCS Map<br>(BW = 320 MHz) |
|---------|------------------------------|---------------------------|---------------------------|
| Octets: | 3                            | 0 or 3                    | 0 or 3                    |

Figure 9-207d—EMLMR Supported MCS And NSS Set subfield format

The subfields of the EMLMR Supported MCS And NSS Set subfield are defined in Table 9-129f.

Table 9-129f—Subfields of the EMLMR Supported MCS And NSS Set subfield

| Subfield                  | Definition                                                                                                                                                                                                                                                                                                                                                                                                                                                     | Encoding                                                                                                |
|---------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------|
| MCS Map (BW $\le$ 80 MHz) | Indicates the maximum number of spatial streams supported for reception and the maximum number of spatial streams that each STA affiliated with the non-AP MLD that is operating in EMLMR mode can transmit after an initial frame exchange on the corresponding EMLMR links, for each MCS value, in a PPDU with a bandwidth of 20 MHz, 40 MHz or 80 MHz.                                                                                                      | The format and encoding of this subfield are defined in Figure 9-1074at and the associated description. |
| MCS Map (BW = 160 MHz)    | If the maximum operating channel width of the non-AP MLD for the EMLMR operation is equal to or greater than 160 MHz, indicates the maximum number of spatial streams supported for reception and the maximum number of spatial streams that each STA affiliated with the non-AP MLD that is operating in EMLMR mode can transmit after an initial frame exchange on the corresponding EMLMR links, for each MCS value, in a PPDU with a bandwidth of 160 MHz. | The format and encoding of this subfield are defined in Figure 9-1074at and the associated description. |
| MCS Map (BW = 320 MHz)    | If the maximum operating channel width of the non-AP MLD for the EMLMR operation is equal to 320 MHz, indicates the maximum number of spatial streams supported for reception and the maximum number of spatial streams that each STA affiliated with the non-AP MLD that is operating in EMLMR mode can transmit after an initial frame exchange on the corresponding EMLMR links, for each MCS value, in a PPDU with a bandwidth of 320 MHz.                 | The format and encoding of this subfield are defined in Figure 9-1074at and the associated description. |

The MCS Map (BW  $\le$  80 MHz), the MCS Map (BW = 160 MHz), and the MCS Map (BW = 320 MHz) subfields follow the format shown in Figure 9-1074at defined in 9.4.2.323.4, respectively.

#### 9.4.1.77 Link ID Info field

The Link ID Info field is defined in Figure 9-207e.

![](f90eb4ab3628ec65f6a9f1bb5024272e_img.jpg)

| B0        | B3       | B4 | B7 |
|-----------|----------|----|----|
| Link ID   | Reserved |    |    |
| Bits: 4 4 |          |    |    |

Figure 9-207e—Link ID Info field format

The Link ID subfield of the Link ID Info field indicates the identifier of the link, which is described in the element carrying the Link ID Info field (see 35.3.3.2).

#### 9.4.1.78 EMLSR Parameter Update field

The EMLSR Parameter Update field is defined in Figure 9-207f.

![](a46fbcd4c22475620d1dacdca37ec3f4_img.jpg)

| B0                  | B2                     | B3 | B5       | B6 | B7 |
|---------------------|------------------------|----|----------|----|----|
| EMLSR Padding Delay | EMLSR Transition Delay |    | Reserved |    |    |
| Bits: 3 3 2         |                        |    |          |    |    |

Figure 9-207f—EMLSR Parameter Update field format

The EMLSR Parameter Update field is optionally included in the EML Operating Mode Notification frame, and the presence of this field is indicated by the EMLSR Parameter Update Control subfield of the EML Control field. The EMLSR Parameter Update field is present if, at the time of the EML Operating Mode Notification frame transmission, the non-AP MLD intends to update the EMLSR Padding Delay subfield or the EMLSR Transition Delay subfield of the non-AP MLD or both from their respective last transmitted value(s) included either in the EML Capabilities subfield in the Common Info field of the Basic Multi-Link element in the (Re)association Request frame that the non-AP MLD transmits, or in the last successfully transmitted EML Operating Mode Notification frame; the EMLSR Parameter Update field is not present otherwise.

The EMLSR Padding Delay subfield is set as defined in Table 9-417i.

The EMLSR Transition Delay subfield is set as defined in Table 9-417j.

#### 9.4.1.79 EHT Compressed Beamforming/CQI Report field

The EHT Compressed Beamforming/CQI Report field carries the EHT compressed beamforming/CQI report (see 35.7) and is defined in Figure 9-207g.

![](6f436eab97b64b012fbe0e92c0d20329_img.jpg)

| EHT Compressed Beamforming Report | EHT MU Exclusive Beamforming Report | EHT CQI Report |
|-----------------------------------|-------------------------------------|----------------|
| Octets: Variable                  | Variable                            | Variable       |

Figure 9-207g—EHT Compressed Beamforming/CQI Report field format

The EHT Compressed Beamforming Report field is defined in 9.4.1.73.

The EHT MU Exclusive Beamforming Report field is defined in 9.4.1.74.

The EHT CQI Report field is defined in 9.4.1.75.

NOTE—The presence of the EHT Compressed Beamforming Report field, EHT MU Exclusive Beamforming Report field, and EHT CQI Report field are dependent on the values of the Feedback Type subfield of the EHT MIMO Control field in the EHT Compressed Beamforming/CQI frame.

#### 9.4.1.80 EHT Sounding Feedback Segment field

The EHT Sounding Feedback Segment field is defined in Figure 9-207h.

![](a3b6a5f4e2bc825be014c61c9c923476_img.jpg)

| Sounding Feedback Segment |
|---------------------------|
| Octets: Variable          |

Figure 9-207h—EHT Sounding Feedback Segment field format

The Sounding Feedback Segment field consists of octets number  $N1$  to  $N2$  (where the first octet is octet 1) of the EHT Compressed Beamforming/CQI Report field, where  $N1$  and  $N2$  are determined by the EHT MIMO Control field of the EHT Compressed Beamforming/CQI frame containing the EHT Sounding Feedback Segment field (see 35.7.4).

## 9.4.2 Elements

### 9.4.2.1 General

Change Table 9-130 (not all lines shown):

Table 9-130—Element IDs

| Element                                       | Element ID | Element ID Extension | Extensible | Fragmentable     |
|-----------------------------------------------|------------|----------------------|------------|------------------|
| ...                                           |            |                      |            |                  |
| FTE (see 9.4.2.46)                            | 55         | N/A                  | No         | No<br>See NOTE 2 |
| ...                                           |            |                      |            |                  |
| EHT Operation (see 9.4.2.321)                 | 255        | 106                  | Yes        | No               |
| Multi-Link (see 9.4.2.322)                    | 255        | 107                  | Yes        | Yes              |
| EHT Capabilities (see 9.4.2.323)              | 255        | 108                  | Yes        | No               |
| TID-To-Link Mapping (see 9.4.2.324)           | 255        | 109                  | Yes        | Yes              |
| Multi-Link Traffic Indication (see 9.4.2.325) | 255        | 110                  | Yes        | Yes              |
| QoS Characteristics (see 9.4.2.326)           | 255        | 113                  | Yes        | Yes              |
| MLD O Link Info (see 9.4.2.327)               | 255        | 133                  | Yes        | No               |
| AID Bitmap (see 9.4.2.328)                    | 255        | 134                  | Yes        | No               |
| Bandwidth Indication (see 9.4.2.329)          | 255        | 135                  | Yes        | No               |
| TWT Information Extension (see 9.4.2.330)     | 255        | 141                  | Yes        | No               |

NOTE 1—See 10.28.6 (Element parsing) on the parsing of elements.

NOTE 2—Yes for a Reassociation Response frame transmitted during ML resetup by an AP affiliated with an AP MLD, in response to a Reassociation Request frame received from a non-AP STA affiliated with a non-AP MLD. No otherwise.

### 9.4.2.3 Supported Rates and BSS Membership Selectors element

Insert the following entry to Table 9-131 (not all lines shown):

Table 9-131—BSS membership selector value encoding

| Value | Feature | Interpretation                                                                                                                                                                                                                                               |
|-------|---------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 121   | EHT PHY | Support for the mandatory features of Clause 36 is required in order to join the BSS that was the source of the Supported Rates and BSS Membership Selectors element or Extended Supported Rates and BSS Membership Selectors element containing this value. |

#### 9.4.2.5 TIM element

##### 9.4.2.5.1 General

*Change the ninth paragraph, including to split it in two paragraphs, as follows:*

When the TIM is carried in a non-SIG PPDU, the traffic indication virtual bitmap, maintained by the AP, or the mesh STA or the AP **MLD** that generates a TIM, consists of 2008 bits, and it is organized into 251 octets such that bit number  $N$  ( $0 \le N \le 2007$ ) in the bitmap corresponds to bit number ( $N \text{ mod } 8$ ) in octet number  $\lfloor N/8 \rfloor$  where the low order bit of each octet is bit number 0, and the high order bit is bit number 7. When the TIM is carried in an SIG PPDU, the traffic-indication virtual bitmap has the hierarchical structure shown in Figure 9-215 (Hierarchical structure of traffic-indication virtual bitmap carried in an SIG PPDU). Each bit in the traffic indication virtual bitmap corresponds to traffic buffered:

- for a specific neighbor peer mesh STA within the MBSS that the mesh STA is prepared to deliver,<sup>8</sup> or
- for a STA that is not affiliated with an MLD within the BSS that the AP is prepared to deliver at the time the Beacon frame is transmitted, or
- for a non-AP MLD that APs affiliated with the AP MLD are prepared to deliver at the time the Beacon frame is transmitted.

Bit number  $N$  indicates the status of buffered, individually addressed MSDUs/MMPDUs for the STA or the non-AP MLD whose AID is  $N$ , or group addressed MSDUs/MMPDUs for the STAs whose group AID is  $N$ . It is set as follows:

- If the STA is not affiliated with an MLD and is not using APSD, and any individually addressed MSDUs/MMPDUs for that STA are buffered and the AP or the mesh STA is prepared to deliver them, then bit number  $N$  in the traffic indication virtual bitmap is 1.
- If the STA is not affiliated with an MLD and is using APSD, and any individually addressed MSDUs/MMPDUs for that STA are buffered in at least one nondelivery-enabled AC (if there exists at least one nondelivery-enabled AC), then bit number  $N$  in the traffic indication virtual bitmap is 1.
- If the STA is not affiliated with an MLD and is using APSD, all ACs are delivery-enabled, and any individually addressed MSDUs/MMPDUs for that STA are buffered in any AC, then bit number  $N$  in the traffic indication virtual bitmap is 1.
- If all STAs affiliated with non-AP MLD are not using APSD and any individually addressed MSDUs/MMPDUs for that non-AP MLD are buffered, then bit number  $N$  in the traffic indication virtual bitmap is 1.
- If all STAs affiliated with non-AP MLD are using APSD and any individually addressed MSDUs/MMPDUs for that non-AP MLD are buffered in at least one nondelivery-enabled AC (if there exists at least one nondelivery-enabled AC in each of the affiliated STAs), then bit number  $N$  in the traffic indication virtual bitmap is 1.
- If all STAs affiliated with non-AP MLD are using APSD whereas all ACs are delivery-enabled per each affiliated STA and any individually addressed MSDUs/MMPDUs for that non-AP MLD are buffered in any AC, then bit number  $N$  in the traffic indication virtual bitmap is 1.
- Otherwise, bit number  $N$  in the traffic indication virtual bitmap is 0.

**NOTE 1**—The existence of individually addressed MSDUs/MMPDUs buffered for that non-AP MLD is based on the rules defined in 35.3.12.4.

**NOTE 2**—A non-AP MLD that uses APSD sets the ACs of the U-APSD Flag subfield as defined in 35.3.12.2.

<sup>8</sup>How the AP or mesh STA determines the traffic it is prepared to deliver is outside the scope of this standard.

#### 9.4.2.19 Measurement Request element

##### 9.4.2.19.5 Channel Load request

*Change Table 9-137 as follows (not all rows shown):*

Table 9-137—Optional subelement IDs for Channel Load request

| Subelement ID | Name                 | Extensible |
|---------------|----------------------|------------|
| ...           |                      |            |
| 164           | Bandwidth Indication | Yes        |
| 164165–220    | Reserved             |            |
| ...           |                      |            |

*Insert the following paragraphs after the tenth paragraph (“The Wide Bandwidth Channel Switch subelement...”)*

For an EHT STA, the Bandwidth Indication subelement is included to indicate an EHT BSS operating channel width wider than 160 MHz or an EHT BSS operating channel width that includes at least one punctured 20 MHz subchannel for which the measurement request applies. The Bandwidth Indication subelement has the same format as the Bandwidth Indication element (see 9.4.2.329). If a Bandwidth Indication subelement is received by an EHT STA, the EHT STA uses the Bandwidth Indication subelement for determining the EHT BSS operating channel bandwidth for which the measurement request applies and ignores the Wide Bandwidth Channel Switch subelement indication.

When the Bandwidth Indication subelement is present along with a Wide Bandwidth Channel Switch subelement,

- the New Channel Width field in the Wide Bandwidth Channel Switch subelement indicates the maximum bandwidth that includes the primary channel and does not cover any punctured 20 MHz subchannel indicated in the Disabled Subchannel Bitmap subfield in the Bandwidth Indication subelement as defined in 35.15.2, and
- the New Channel Width field in the Wide Bandwidth Channel Switch subelement indicates the bandwidth less than the bandwidth in the Bandwidth Indication subelement and does not indicate value 3 (noncontiguous 80+80 MHz channel).

#### 9.4.2.19.6 Noise Histogram request

*Change Table 9-139 as follows (not all rows shown):*

*Insert the following paragraphs after the ninth paragraph (“The Wide Bandwidth Channel Switch subelement...”)*

For an EHT STA, the Bandwidth Indication subelement is included to indicate an EHT BSS operating channel width wider than 160 MHz or an EHT BSS operating channel width that includes at least one punctured 20 MHz subchannel for which the measurement request applies. The Bandwidth Indication subelement has the same format as the Bandwidth Indication element (see 9.4.2.329). If a Bandwidth Indication subelement is received by an EHT STA, the EHT STA uses the Bandwidth Indication subelement

**Table 9-139—Optional subelement IDs for Noise Histogram request**

| Subelement ID | Name                 | Extensible |
|---------------|----------------------|------------|
| ...           |                      |            |
| 164           | Bandwidth Indication | Yes        |
| 164165–220    | Reserved             |            |
| ...           |                      |            |

for determining the EHT BSS operating channel bandwidth for which the measurement request applies and ignores the Wide Bandwidth Channel Switch subelement indication.

When the Bandwidth Indication subelement is present along with a Wide Bandwidth Channel Switch subelement,

- the New Channel Width field in the Wide Bandwidth Channel Switch subelement indicates the maximum bandwidth that includes the primary channel and does not cover any punctured 20 MHz subchannel indicated in the Disabled Subchannel Bitmap subfield in the Bandwidth Indication subelement as defined in 35.15.2, and
- the New Channel Width field in the Wide Bandwidth Channel Switch subelement indicates the bandwidth less than the bandwidth in the Bandwidth Indication subelement and does not indicate value 3 (noncontiguous 80+80 MHz channel).

#### 9.4.2.19.7 Beacon request

*Add a new Subelement ID of 165 to Table 9-142 as follows (not all rows shown):*

**Table 9-142—Optional subelement IDs for Beacon request**

| Subelement ID | Name                 | Extensible |
|---------------|----------------------|------------|
| ...           |                      |            |
| 165           | Bandwidth Indication | Yes        |
| ...           |                      |            |

*Insert the following paragraphs after the 21th paragraph (“If one or more AP Channel Report elements are included…”):*

For an EHT STA, the Bandwidth Indication subelement is included to indicate an EHT BSS operating channel width wider than 160 MHz or an EHT BSS operating channel width that includes at least one punctured 20 MHz subchannel for which the measurement request applies. The Bandwidth Indication subelement has the same format as the Bandwidth Indication element (see 9.4.2.329). If a Bandwidth Indication subelement is received by an EHT STA, the EHT STA uses the Bandwidth Indication subelement for determining the EHT BSS operating channel bandwidth for which the measurement request applies and ignores the Wide Bandwidth Channel Switch subelement indication.

When the Bandwidth Indication subelement is present along with a Wide Bandwidth Channel Switch subelement,

- the New Channel Width field in the Wide Bandwidth Channel Switch subelement indicates the maximum bandwidth that includes the primary channel and does not cover any punctured 20 MHz subchannel indicated in the Disabled Subchannel Bitmap subfield in the Bandwidth Indication subelement as defined in 35.15.2, and
- the New Channel Width field in the Wide Bandwidth Channel Switch subelement indicates the bandwidth less than the bandwidth in the Bandwidth Indication subelement and does not indicate value 3 (noncontiguous 80+80 MHz channel).

#### 9.4.2.19.8 Frame request

*Change Table 9-145 as follows (not all rows shown):*

Table 9-145—Optional subelement IDs for Frame request

| Subelement ID | Name                 | Extensible |
|---------------|----------------------|------------|
| ...           |                      |            |
| 164           | Bandwidth Indication | Yes        |
| 464 65-220    | Reserved             |            |
| ...           |                      |            |

*Insert the following paragraphs after the tenth paragraph (“The Wide Bandwidth Channel Switch subelement…”):*

For an EHT STA, the Bandwidth Indication subelement is included to indicate an EHT BSS operating channel width wider than 160 MHz or an EHT BSS operating channel width that includes at least one punctured 20 MHz subchannel for which the measurement request applies. The Bandwidth Indication subelement has the same format as the Bandwidth Indication element (see 9.4.2.329). If a Bandwidth Indication subelement is received by an EHT STA, the EHT STA uses the Bandwidth Indication subelement for determining the EHT BSS operating channel bandwidth for which the measurement request applies and ignores the Wide Bandwidth Channel Switch subelement indication.

When the Bandwidth Indication subelement is present along with a Wide Bandwidth Channel Switch subelement,

- the New Channel Width field in the Wide Bandwidth Channel Switch subelement indicates the maximum bandwidth that includes the primary channel and does not cover any punctured 20 MHz subchannel indicated in the Disabled Subchannel Bitmap subfield in the Bandwidth Indication subelement as defined in 35.15.2, and
- the New Channel Width field in the Wide Bandwidth Channel Switch subelement indicates the bandwidth less than the bandwidth in the Bandwidth Indication subelement and does not indicate value 3 (noncontiguous 80+80 MHz channel).

#### 9.4.2.20 Measurement Report element

##### 9.4.2.20.5 Channel Load report

*Change Table 9-165 as follows (not all rows shown):*

Table 9-165—Optional subelement IDs for Channel Load report

| Subelement ID | Name                 | Extensible |
|---------------|----------------------|------------|
| ...           |                      |            |
| 164           | Bandwidth Indication | Yes        |
| 464165–220    | Reserved             |            |
| ...           |                      |            |

*Insert the following paragraphs after the tenth paragraph (“The Wide Bandwidth Channel Switch subelement…”):*

For an EHT STA, the Bandwidth Indication subelement is included to indicate an EHT BSS operating channel width wider than 160 MHz or an EHT BSS operating channel width that includes at least one punctured 20 MHz subchannel for which the measurement report applies. The Bandwidth Indication subelement has the same format as the Bandwidth Indication element (see 9.4.2.329). If a Bandwidth Indication subelement is received by an EHT STA, the EHT STA uses the Bandwidth Indication subelement for determining the EHT BSS operating channel bandwidth for which the measurement report applies and ignores the Wide Bandwidth Channel Switch subelement indication.

When the Bandwidth Indication subelement is present along with a Wide Bandwidth Channel Switch subelement,

- the New Channel Width field in the Wide Bandwidth Channel Switch subelement indicates the maximum bandwidth that includes the primary channel and does not cover any punctured 20 MHz subchannel indicated in the Disabled Subchannel Bitmap subfield in the Bandwidth Indication subelement as defined in 35.15.2, and
- the New Channel Width field in the Wide Bandwidth Channel Switch subelement indicates the bandwidth less than the bandwidth in the Bandwidth Indication subelement and does not indicate value 3 (noncontiguous 80+80 MHz channel).

#### 9.4.2.20.6 Noise Histogram report

*Change Table 9-167 as follows (not all rows shown):*

Table 9-167—Optional subelement IDs for Noise Histogram report

| Subelement ID | Name                 | Extensible |
|---------------|----------------------|------------|
| ...           |                      |            |
| 164           | Bandwidth Indication | Yes        |
| 464165–220    | Reserved             |            |
| ...           |                      |            |

*Insert the following paragraph after the 11th paragraph (“The Wide Bandwidth Channel Switch subelement…”):*

For an EHT STA, the Bandwidth Indication subelement is included to indicate an EHT BSS operating channel width wider than 160 MHz or an EHT BSS operating channel width that includes at least one punctured 20 MHz subchannel for which the measurement report applies. The Bandwidth Indication subelement has the same format as the Bandwidth Indication element (see 9.4.2.329). If a Bandwidth Indication subelement is received by an EHT STA, the EHT STA uses the Bandwidth Indication subelement for determining the EHT BSS operating channel bandwidth for which the measurement report applies and ignores the Wide Bandwidth Channel Switch subelement indication.

When the Bandwidth Indication subelement is present along with a Wide Bandwidth Channel Switch subelement,

- the New Channel Width field in the Wide Bandwidth Channel Switch subelement indicates the maximum bandwidth that includes the primary channel and does not cover any punctured 20 MHz subchannel indicated in the Disabled Subchannel Bitmap subfield in the Bandwidth Indication subelement as defined in 35.15.2, and
- the New Channel Width field in the Wide Bandwidth Channel Switch subelement indicates the bandwidth less than the bandwidth in the Bandwidth Indication subelement and does not indicate value 3 (noncontiguous 80+80 MHz channel).

#### 9.4.2.20.7 Beacon report

*Change Table 9-168 as follows (not all rows shown):*

Table 9-168—Optional subelement IDs for Beacon report

| Subelement ID | Name                 | Extensible |
|---------------|----------------------|------------|
| ...           |                      |            |
| 165           | Bandwidth Indication | Yes        |
| 465166–220    | Reserved             |            |
| ...           |                      |            |

*Insert the following paragraphs after the 25th paragraph (“The Last Beacon Report Indication Request subelement…”):*

For an EHT STA, the Bandwidth Indication subelement is included to indicate an EHT BSS operating channel width wider than 160 MHz or an EHT BSS operating channel width that includes at least one punctured 20 MHz subchannel for which the measurement report applies. The Bandwidth Indication subelement has the same format as the Bandwidth Indication element (see 9.4.2.329). If a Bandwidth Indication subelement is received by an EHT STA, the EHT STA uses the Bandwidth Indication subelement for determining the EHT BSS operating channel bandwidth for which the measurement report applies and ignores the Wide Bandwidth Channel Switch subelement indication.

When the Bandwidth Indication subelement is present along with a Wide Bandwidth Channel Switch subelement,

- the New Channel Width field in the Wide Bandwidth Channel Switch subelement indicates the maximum bandwidth that includes the primary channel and does not cover any punctured 20 MHz subchannel indicated in the Disabled Subchannel Bitmap subfield in the Bandwidth Indication subelement as defined in 35.15.2, and

— the New Channel Width field in the Wide Bandwidth Channel Switch subelement indicates the bandwidth less than the bandwidth in the Bandwidth Indication subelement and does not indicate value 3 (noncontiguous 80+80 MHz channel).

#### 9.4.2.20.8 Frame report

*Change Table 9-169 as follows (not all rows shown):*

Table 9-169—Optional subelement IDs for Frame report

| Subelement ID | Name                 | Extensible |
|---------------|----------------------|------------|
| ...           |                      |            |
| 164           | Bandwidth Indication | Yes        |
| 164 165–220   | Reserved             |            |
| ...           |                      |            |

*Insert the following paragraphs after the 20th paragraph (“The Wide Bandwidth Channel Switch subelement…”):*

For an EHT STA, the Bandwidth Indication subelement is included to indicate an EHT BSS operating channel width wider than 160 MHz or an EHT BSS operating channel width that includes at least one punctured 20 MHz subchannel for which the measurement report applies. The Bandwidth Indication subelement has the same format as the Bandwidth Indication element (see 9.4.2.329). If a Bandwidth Indication subelement is received by an EHT STA, the EHT STA uses the Bandwidth Indication subelement for determining the EHT BSS operating channel bandwidth for which the measurement request applies and ignores the Wide Bandwidth Channel Switch subelement indication.

When the Bandwidth Indication subelement is present along with a Wide Bandwidth Channel Switch subelement,

— the New Channel Width field in the Wide Bandwidth Channel Switch subelement indicates the maximum bandwidth that includes the primary channel and does not cover any punctured 20 MHz subchannel indicated in the Disabled Subchannel Bitmap subfield in the Bandwidth Indication subelement as defined in 35.15.2, and  
— the New Channel Width field in the Wide Bandwidth Channel Switch subelement indicates the bandwidth less than the bandwidth in the Bandwidth Indication subelement and does not indicate value 3 (noncontiguous 80+80 MHz channel).

#### 9.4.2.21 Quiet element

*Change the first paragraph as follows:*

The Quiet element defines an interval during which no transmission occurs in the current channel from STAs in the BSS with the exceptions stated in 35.8.4.2. This interval might be used to assist in making channel measurements without interference from other STAs in the BSS, or to protect channel access at the start of R-TWT SPs (see 35.8.4.2). The format of the Quiet element is shown in Figure 9-364 (Quiet element format).

*Change the third paragraph, including to split it in four paragraphs, as follows:*

The field sent by a non-EHT AP, the Quiet Count field is set to the number of TBTTs until the beacon interval during which the next quiet interval starts. If sent by an EHT AP (see 35.3.11):

- the Quiet Count field is set to a value less than or equal to 127 if the Quiet Count field is not carried in the Per-STA Profile subelement of the Basic Multi-Link element; otherwise, the Quiet Count field is set to a value up to 255.
- the Quiet Count field is equal to the number of TBTTs until the beacon interval during which the next quiet interval starts if the field is set to a value less than or equal to 127.
- a Quiet Count field value greater than 127 indicates a quiet interval that has already started. If the Quiet Count field is set to a value greater than 127, the Quiet Count field minus 127 is equal to the number of TBTTs in the past since the beacon interval during which the ongoing quiet interval started.

The value of 0 is reserved.

NOTE 1—A value of 1 indicates the quiet interval starts during the beacon interval starting at the next TBTT.

NOTE 2—An EHT AP cannot advertise a number of TBTTs that is greater than 127 until the beacon interval during which the next quiet interval starts. A Quiet Count field value greater than 127 is used to indicate a quiet interval that has already started and is possible when the Quiet element is carried in a Per-STA Profile subelement in a Basic Multi-Link element (see 35.3.11).

#### 9.4.2.25 Extended Capabilities element

Change the selected entries in Table 9-192 as follows (not all lines shown):

Table 9-192—Extended Capabilities field

| Bit | Information                | Notes                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|-----|----------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ... |                            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 2   | Extended Channel Switching | The AP sets the Extended Channel Switching field to 1 to indicate support for the communication of channel switching information through the transmission and reception of the Extended Channel Switch Announcement element and Management frame, as described in 9.6.7.7. The Extended Channel Switching field is 0 to indicate a lack of support for extended channel switching. All STAs affiliated with an MLD set the Extended Channel Switching field to the same value. |
| ... |                            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 12  | Proxy ARP Service          | The AP sets the Proxy ARP Service field to 1 when dot11ProxyARPActivated is true, and sets it to 0 otherwise. See 11.21.14. A non-AP STA sets the Proxy ARP Service field to 0. All STAs affiliated with an MLD set dot11ProxyARPActivated to the same value (see 35.3.26).                                                                                                                                                                                                    |
| ... |                            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 17  | WNM Sleep Mode             | The STA sets the WNM Sleep Mode field to 1 when dot11WNMSleepModeActivated is true, and sets it to 0 otherwise. All STAs affiliated with an MLD set dot11WNMSleepModeActivated to the same value. See 11.2.3.15 and 35.3.26.                                                                                                                                                                                                                                                   |
| ... |                            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 49  | QMAActivated               | The STA sets the QMAActivated field to 1 when dot11QMAActivated is true and sets it to 0 otherwise. See 11.24. All STAs affiliated with an MLD set dot11QMAActivated to the same value (see 35.3.26).                                                                                                                                                                                                                                                                          |

Table 9-192—Extended Capabilities field (continued)

| Bit | Information                               | Notes                                                                                                                                                                                                                                                                                                                                                         |
|-----|-------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 50  | QMFRconfigurationActivated                | The STA sets the QMFRconfigurationActivated field to 1 when dot11QMFRconfigurationActivated is true and sets it to 0 otherwise. See 11.24. All STAs affiliated with an MLD set dot11QMFRconfigurationActivated to the same value (see 35.3.26).                                                                                                               |
| ... |                                           |                                                                                                                                                                                                                                                                                                                                                               |
| 54  | SCS                                       | The STA sets the SCS field to 1 when dot11SCSActivated is true and sets it to 0 otherwise. See 11.25.2. All STAs affiliated with an MLD set dot11SCSActivated to the same value (see 35.3.26).                                                                                                                                                                |
| ... |                                           |                                                                                                                                                                                                                                                                                                                                                               |
| 81  | SAE Password Identifiers In Use           | The AP sets the SAE Password Identifiers In Use field to 1 when any password in the dot11RSNConfigPasswordValueTable has a password identifier and sets it to 0 otherwise. All APs affiliated with an AP MLD set the SAE Password Identifiers In Use field to the same value. See 12.4.3.                                                                     |
| 82  | SAE Password Identifiers Used Exclusively | The AP sets the SAE Password Identifiers Used Exclusively field to 1 when every password in the dot11RSNConfigPasswordValueTable has a password identifier and sets it to 0 otherwise. All APs affiliated with an AP MLD set the SAE Password Identifiers Used Exclusively field to the same value. See 12.4.3.                                               |
| ... |                                           |                                                                                                                                                                                                                                                                                                                                                               |
| 84  | Beacon Protection Enabled                 | The AP sets the Beacon Protection Enabled field to 1 when dot11BeaconProtectionEnabled is true. Otherwise, it is set to 0. All APs affiliated with an AP MLD set dot11BeaconProtectionEnabled to the same value (see 35.3.26). This field is reserved for a non-AP STA. See 11.52.                                                                            |
| 85  | Mirrored SCS                              | The STA sets the Mirrored SCS field to 1 when dot11MSCSActivated is true and sets it to 0 otherwise. All STAs affiliated with an MLD set dot11MSCSActivated to the same value (see 35.3.26).                                                                                                                                                                  |
| ... |                                           |                                                                                                                                                                                                                                                                                                                                                               |
| 103 | ReservedLocal MAC Address Policy          | All STAs affiliated with an MLD set the Local MAC Address Policy subfield to the same value via the MLD synchronization service.                                                                                                                                                                                                                              |
| ... |                                           |                                                                                                                                                                                                                                                                                                                                                               |
| 109 | ReservedTDLS Broadcast TWT Support        | The non-AP STA sets the TDLS Broadcast TWT Support field to 1 when the non-AP STA sets the Broadcast TWT Support field in the HE Capabilities element it transmits to 1, sets the TDLS Support field in the Extended Capabilities element to 1, and supports TDLS operation with broadcast TWT as specified in 35.3.21.1. The subfield is reserved for an AP. |

#### 9.4.2.35 Neighbor Report element

Change Figure 9-417 as follows:

![](826179af80887bc6f19fbfa70717e485_img.jpg)

|       | B0              | B1           | B2                                 | B3                                         | B4                              | B9                      | B10                                | B11             | B12                  | B13      | B14             |
|-------|-----------------|--------------|------------------------------------|--------------------------------------------|---------------------------------|-------------------------|------------------------------------|-----------------|----------------------|----------|-----------------|
|       | AP Reachability | Security     | Key Scope                          | Capabilities                               |                                 |                         | Mobility Domain                    | High Throughput | Very High Throughput | FTM      | High Efficiency |
| Bits: | 2               | 1            | 1                                  | 6                                          |                                 |                         | 1                                  | 1               | 1                    | 1        | 1               |
|       | B15             | B16          | B17                                | B18                                        | B19                             | B20                     | B21                                | B22             | B23                  | B31      |                 |
|       | ER BSS          | Colocated AP | Unsolicited Probe Responses Active | Members Of ESS With 2.4/5 GHz Colocated AP | OCT Supported With Reporting AP | Colocated With 6 GHz AP | Reserved Extremely High Throughput | DMG Positioning |                      | Reserved |                 |
| Bits: | 1               | 1            | 1                                  | 1                                          | 1                               | 1                       | 1                                  | 1               | 9                    |          |                 |

Figure 9-417—BSSID Information field format

*Insert the following paragraphs after the 20th paragraph (“The Colocated With 6 GHz AP field is...”):*

The Extremely High Throughput subfield is set to 1 to indicate that the AP represented by this BSSID (reported AP) is an EHT AP and that the EHT Capabilities element (or EHT Operation element), if included as a subelement in the report, is identical in content to the EHT Capabilities element (or EHT Operation element) that the reported AP includes in the Beacon frames it transmits. Otherwise, the Extremely High Throughput subfield is set to 0.

When the Extremely High Throughput subfield is set to 1, and when the Basic Multi-Link element is present as a subelement in the report for a reported AP, the fields included in the Basic Multi-Link element are identical in content to the corresponding fields that are present in the Basic Multi-Link element that the AP includes in the Beacon frames that it transmits.

NOTE 2—A Basic Multi-Link subelement included in a Neighbor Report element does not carry the Link Info field as described in 35.3.3, except as described in 35.3.23 or except when the Neighbor Report element is carried in a (Re)Association Response frame.

*Change Table 9-212 (not all lines shown) as follows:*

Table 9-212—Optional subelement IDs for Neighbor Report

| Subelement ID | Name             | Extensible |
|---------------|------------------|------------|
| ...           |                  |            |
| 199           | EHT Capabilities | Yes        |
| 200           | EHT Operation    | Yes        |
| 201           | Basic Multi-Link | Yes        |
| 199202–220    | Reserved         |            |
| ...           |                  |            |

*Insert the following paragraphs after the 62th paragraph (“The SSID subelement has the same format...”):*

The Data field of the EHT Capabilities subelement has the same format as the Information field of the EHT Capabilities element defined in 9.4.2.323.

The Data field of the EHT Operation subelement has the same format as the Information field of the EHT Operation element defined in 9.4.2.321.

The Data field of the Basic Multi-Link subelement has the same format as the Information field of the Basic Multi-Link element defined in 9.4.2.322.2. The Basic Multi-Link subelement is not present if the reported AP is not affiliated with an AP MLD.

NOTE 3—The AP follows the rules defined in 35.3.3 when it includes a Basic Multi-Link subelement in the Neighbor Report element.

#### 9.4.2.44 Multiple BSSID element

**Change the second item of the 11th paragraph (not all items shown) as follows:**

— The Timestamp and Beacon Interval fields, TIM, DSSS Parameter Set, IBSS Parameter Set, Country, Channel Switch Announcement, Extended Channel Switch Announcement, Wide Bandwidth Channel Switch, Transmit Power Envelope, Supported Operating Classes, IBSS DFS, ERP Information, HT Capabilities, HT Operation, VHT Capabilities, and VHT Operation, S1G Beacon Compatibility, Short Beacon Interval, S1G Capabilities, S1G Operation, HE Capabilities, HE 6 GHz Band Capabilities, HE Operation, BSS Color Change Announcement, Spatial Reuse Parameter Set, Max Channel Switch Time, Quiet, Quiet Channel, and Multiple BSSID Configuration, EHT Capabilities, and EHT Operation elements are not included in the Nontransmitted BSSID Profile subelement; the values of these elements for each nontransmitted BSSID are always the same as the corresponding transmitted BSSID element values.

**Change NOTE 5 as follows:**

NOTE 5—A Reduced Neighbor Report element is not carried in the Nontransmitted BSSID Profile subelement neither inherited nor non-inherited as explained in 11.1.3.8.4. When present in the frame, the values of fields in the element, except the Same SSID subfield(s) apply to all the BSSs in the multiple BSSID set.

#### 9.4.2.46 FTE

**Change the fourth paragraph as follows:**

The RSNXE Used subfield of the MIC Control field is used in the third and fourth messages of the FT authentication sequence to indicate whether the STA or the STA affiliated with the MLD transmitting the frame containing the FTE includes an RSNXE in other frames. This subfield is set to 0 in other frames.

**Change the sixth paragraph as follows:**

The Element Count subfield of the MIC Control field contains the number of elements that are included in the message integrity code (MIC) calculation. The Element Count subfield does not include the Fragment element(s) if the FTE is fragmented.

**Change Table 9-221 (not all lines shown) as follows:**

**Change the 20th paragraph as follows:**

When sent by a non-AP STA or a non-AP MLD through an affiliated non-AP STA, the ROKH-ID indicates the ROKH with which the SOKH negotiated the PMK-R0 it is using for this transition. When sent by an AP

**Table 9-221—Subelement IDs**

| Value   | Contents of Data field |
|---------|------------------------|
| ...     |                        |
| 8       | MLO GTK                |
| 9       | MLO IGTK               |
| 10      | MLO BIGTK              |
| §11–255 | Reserved               |

or an AP MLD through an affiliated AP, the R0KH-ID indicates the R0KH that the S0KH will be using to generate a PMK-R0 security association. It is encoded following the conventions from 9.2.2 (Conventions).

*Insert the following paragraphs and figures at the end of the subclause:*

The MLO GTK subelement contains the GTK for a link, which is encrypted (see procedures in 13.8.5) and is defined in Figure 9-444a.

![](3ede9dbb1d7c93991f019fcc18e417bc_img.jpg)

| Subelement ID | Length | Key Info | Link ID Info | Key Length | RSC | Wrapped Key |
|---------------|--------|----------|--------------|------------|-----|-------------|
| 1             | 1      | 2        | 1            | 1          | 8   | 24–40       |

**Figure 9-444a—MLO GTK subelement format**

The Link ID Info field of the MLO GTK subelement is as defined in 9.4.1.77. The Link ID subfield of the Link ID Info field contains the link identifier for the link (see 35.3.3.2).

The definitions of the Key Info, Key Length, RSC, and Wrapped Key fields are the same as in the GTK subelement.

The MLO IGTK subelement contains the IGTK for a link, used for protecting robust Management frames. The MLO IGTK subelement format is shown in Figure 9-444b.

![](e9be29dd36826439795f850a795c4dea_img.jpg)

| Subelement ID | Length | Key ID | IPN | Link ID Info | Key Length | Wrapped Key |
|---------------|--------|--------|-----|--------------|------------|-------------|
| 1             | 1      | 2      | 6   | 1            | 1          | 24–40       |

**Figure 9-444b—MLO IGTK subelement format**

The definitions of the Key ID, IPN, Key Length, and Wrapped Key fields are the same as in the IGTK subelement.

The definition of the Link ID Info field is the same as in the MLO GTK subelement described above.

The MLO BIGTK subelement contains the BIGTK for a link, used for protecting Beacon frames. The MLO BIGTK subelement format is shown in Figure 9-444c.

The definitions of the Key ID, BIPN, Key Length, and Wrapped Key fields are the same as in the BIGTK subelement.

![](90d615c4ef0e23b237cb00606a48511b_img.jpg)

|         | Subelement ID | Length | Key ID | BIPN | Link ID Info | Key Length | Wrapped Key |
|---------|---------------|--------|--------|------|--------------|------------|-------------|
| Octets: | 1             | 1      | 2      | 6    | 1            | 1          | 24-40       |

Figure 9-444c—MLO BIGTK subelement format

The definition of the Link ID Info field is the same as in the MLO GTK subelement described above.

#### 9.4.2.49 RIC Descriptor element

*Change Table 9-223 as follows:*

Table 9-223—Resource type code in RIC Descriptor element

| Resource type value | Meaning             | Variable parameters                                                                                                                                                                                                                                                                                                                     |
|---------------------|---------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1                   | Block Ack           | Block Ack Parameter Set field value as defined in 9.4.1.13 (Block Ack Parameter Set field), Block Ack Timeout Value field value as defined in 9.4.1.14 (Block Ack Timeout Value field), and Block Ack Starting Sequence Control subfield value as defined in 9.3.1.7.                                                                   |
| 2                   | Block Ack Extension | Block Ack Parameter Set field value as defined in 9.4.1.13 (Block Ack Parameter Set field), Block Ack Timeout Value field value as defined in 9.4.1.14 (Block Ack Timeout Value field), Block Ack Starting Sequence Control subfield value as defined in 9.3.1.7, and ADDBA Extended Parameter Set field value as defined in 9.4.2.138. |
| 0, 2–2553–255       | Reserved            |                                                                                                                                                                                                                                                                                                                                         |

#### 9.4.2.60 Link Identifier element

*Change the third and fourth paragraphs as follows:*

The BSSID field is set to the BSSID of the BSS of which the TDLS initiator STA is a member. If the frame carrying the Link Identifier element is transmitted by:

- A non-MLD non-AP STA, then the BSSID field is set to the BSSID of the BSS of which the TDLS initiator is a member.
- A non-AP STA affiliated with a non-AP MLD that intends to establish a single link TDLS direct link, then the BSSID field is set to the BSSID of the AP that is operating on the link where the non-AP MLD intends to establish a single link TDLS direct link, and the AP is affiliated with the AP MLD with whom the non-AP MLD has performed ML setup.

The TDLS initiator STA Address field is set to the TDLS initiator STA's MAC address.

*Insert the following NOTE as the fifth paragraph:*

NOTE 1—When the transmitting non-AP STA is affiliated with a non-AP MLD, the TDLS initiator MAC address is set to the MLD MAC address of the non-AP MLD.

*Change the now-shifted sixth paragraph as follows:*

The TDLS responder STA Address field is set to the TDLS responder-STA's MAC address.

***Insert the following NOTE as the seventh paragraph:***

NOTE 2—When the transmitting non-AP STA is affiliated with a non-AP MLD, the TDLS responder MAC address is set to the MLD MAC address of the non-AP MLD.

**9.4.2.70 Nontransmitted BSSID Capability element**

***Insert the following NOTES after the fifth paragraph ("The Nontransmitted BSSID Capability field has the same format..."):***

NOTE 1—The Critical Update Flag subfield of the Nontransmitted BSSID Capability field is reserved if the frame carrying the Multiple BSSID-Index element is transmitted by an AP that is not affiliated with an AP MLD. An AP affiliated with an AP MLD and corresponding to a nontransmitted BSSID sets the Critical Update Flag subfield to 1 in the Beacon and Probe Response frame(s) until and including the next DTIM beacon of the nontransmitted BSSID based on the conditions described in 35.3.10.

NOTE 2—The Nontransmitted BSSID's Critical Update Flag subfield of the Nontransmitted BSSID Capability field is reserved.

**9.4.2.72 Multiple BSSID-Index element**

***Change the fourth and fifth paragraphs as follows:***

The DTIM Period field indicates the DTIM period for the BSSID. This field is not present when the Multiple BSSID-Index element is included in the Probe Response frame or in the Per-STA Profile subelement of a Basic Multi-Link element that carries a complete profile of the reported AP.

The DTIM Count field indicates the DTIM count for the BSSID. This field is not present when the Multiple BSSID-Index element is included in the Probe Response frame or in the Per-STA Profile subelement of a Basic Multi-Link element that carries complete profile of the reported AP.

***Insert the following NOTE right after the fifth paragraph:***

NOTE—The DTIM Count and DTIM Period information for a reported AP is provided in the STA Info field of the Per-STA Profile subelement of a Basic Multi-Link element that carries a complete profile of a reported AP (see Figure 9-1074v).

***Change the last paragraph as follows:***

The Multiple BSSID-Index element is included in the nontransmitted BSSID profile carried in a Multiple BSSID element, as described in 11.1.3.8. The Multiple BSSID-Index element is included in the Per-STA Profile subelement, corresponding to a reported AP, of a Basic Multi-Link element if the reported AP corresponds to a nontransmitted BSSID and the Complete Profile subfield is set to 1. The use of the Multiple BSSID element and frames is described in Also see 11.10.14.

**9.4.2.77 BSS Max Idle Period element**

***Change the first paragraph, including to split it into two paragraphs, as follows:***

For non-MLO, the BSS Max Idle Period element contains the time period a non-AP STA can refrain from transmitting frames to the AP before the AP might disassociates the STA due to inactivity. The format of the BSS Max Idle Period element is shown in Figure 9-541 (BSS Max Idle Period element format).

For MLO, the BSS Max Idle Period element contains the time period a non-AP MLD can refrain from transmitting frames to the AP MLD on any enabled link before the AP MLD might disassociate the non-AP MLD due to inactivity.

*Change the now-shifted fourth paragraph as follows:*

The Max Idle Period field indicates the BSS max idle period, as described in 11.21.13 and 35.3.12.3. The value of 0 is reserved. In a non-SIG STA, it contains the BSS max idle period in units of 1000 TUs. In an SIG STA, it has the same format as the Listen Interval field (see Figure 9-144), and contains the BSS max idle period as the value of the Unscaled Interval subfield, multiplied by the scaling factor that corresponds to the value indicated in the Unified Scaling Factor subfield, in units of 1000 TUs.

*Change the last paragraph as follows:*

The BSS Max Idle Period element is included in Association Request and Response frames, as described in 9.3.3.5 and 9.3.3.6, and Reassociation Request and Response frames, as described in 9.3.3.7 and 9.3.3.8. The use of the BSS Max Idle Period element and frames is described in 11.21.13 and 35.3.12.3.

#### 9.4.2.120 SCS Descriptor element

*Change Figure 9-622 as follows:*

![](83f888343dec2b7010b40fd9e8c069b6_img.jpg)

|                                                                   | zero or more<br>TCLAS<br>Elements | zero or one<br>QoS<br>Characteris-<br>tics<br>Element(s) |
|-------------------------------------------------------------------|-----------------------------------|----------------------------------------------------------|
| Element ID                                                        | 1                                 |                                                          |
| Length                                                            | 1                                 |                                                          |
| SCSID                                                             | 1                                 |                                                          |
| Request Type                                                      | 1                                 |                                                          |
| Intra-<br>Access<br>Category<br>Priority<br>Element<br>(optional) | 0 or 3                            |                                                          |
| TCLAS<br>Elements<br>(optional)                                   | variable                          |                                                          |
| TCLAS<br>Processing<br>Element<br>(optional)                      | 0 or 3                            |                                                          |
| QoS<br>Characteris-<br>tics<br>Element<br>(optional)              | variable                          |                                                          |
| Optional<br>Subelements                                           |                                   | variable                                                 |

Octets: 1 1 1 1 0 or 3 variable 0 or 3 variable variable

Figure 9-622—SCS Descriptor element format

*Insert the following paragraph after the seventh paragraph (“The TCLAS Processing Element field is present when more than...”):*

The QoS Characteristics Element field contains zero or one QoS Characteristics element to describe the traffic characteristics and QoS expectations of traffic flows that belong to this SCS stream, as defined in 9.4.2.326. Zero or one QoS Characteristics element(s) is present when the Request Type field is equal to “Add” or “Change” and no QoS Characteristics element is present when the Request Type field is equal to “Remove”.

#### 9.4.2.138 ADDBA Extension element

*Change Figure 9-667 as follows:*

*Change the third paragraph and Figure 9-668 as follows:*

The ADDBA Extended Parameter Set Capabilities field is shown in Figure 9-668.

*Insert the following paragraph at the end of the subclause:*

![](0335d834c880adf830a65db2677be516_img.jpg)

| Element ID | Length | ADDBA Extended Parameter Set Capabilities |
|------------|--------|-------------------------------------------|
| Octets: 1  | 1      | 1                                         |

Figure 9-667—ADDBA Extension element format

![](b56fc7a0daaa2656ec92aa93e1b2d0a0_img.jpg)

| B0               | B1                         | B2       | B3 | B74                  | B5 | B7 |
|------------------|----------------------------|----------|----|----------------------|----|----|
| No-Fragmentation | HE Fragmentation Operation | Reserved |    | Extended Buffer Size |    |    |
| Bits: 1          | 2                          | 62       |    | 3                    |    |    |

Figure 9-668—ADDBA Extended Parameter Set Capabilities field format

The Extended Buffer Size field together with the Buffer Size subfield in the Block Ack Parameter Set field indicates the number of buffers available for this particular TID, which is negotiated as defined in 35.3.8 and 35.4.2, where the buffer size is Extended Buffer Size  $\times$  1024 + Buffer Size.

#### 9.4.2.156 VHT Capabilities element

##### 9.4.2.156.3 Supported VHT-MCS and NSS Set field

*Change the second last paragraph as follows:*

The value of Max VHT NSS for a given MCS is equal to the smaller of

- The maximum value of  $n$  for which the Max VHT-MCS for  $n$  SS has a value that indicates support for that MCS or
- The maximum supported  $N_{SS}$  as indicated by the value of the Rx NSS field of the OM Control subfield if an EHT OM Control subfield is not present in the same A-Control field or by the value of the Rx NSS Extension field of the EHT OM Control subfield combined with the value of the Rx NSS field of the OM Control subfield if an EHT OM Control subfield is present in the same A-Control field (and further defined in Table 26-9)

##### 9.4.2.160 Transmit Power Envelope element

*Change Figure 9-712 as follows:*

![](3b8676b5fe3b543fdce2eecb9d28d3fb_img.jpg)

| Element ID | Length | Transmit Power Information | Maximum Transmit Power | Extension Maximum Transmit Power |
|------------|--------|----------------------------|------------------------|----------------------------------|
| Octets: 1  | 1      | 1                          | variable               | variable                         |

Figure 9-712—Transmit Power Envelope element format

*Change the eighth paragraph as follows:*

Maximum Transmit Power For  $X$  MHz fields (where  $X = 20, 40, 80$ , or  $160/80+80$ ) define the local maximum transmit power limit of  $X$  MHz PPDU, except for an HE TB PPDU and for an EHT TB PPDU where  $X$  MHz is the bandwidth of the pre-HE and pre-EHT modulated fields of the HE TB PPDU and EHT TB PPDU transmitted by a STA. Each Maximum Transmit Power For  $X$  MHz field is encoded as an 8-bit 2s complement signed integer in the range  $-64$  dBm to  $63$  dBm with a  $0.5$  dB step. Setting this field to  $63.5$  dBm indicates  $63.5$  dBm or higher (i.e., no local maximum transmit power constraint).

*Insert the following figures and paragraphs at the end of the subclause:*

The format of the Extension Maximum Transmit Power field is defined in Figure 9-715a if the Maximum Transmit Power Interpretation subfield is 0 or 2.

![](870febccb98ab2774dee3ad16c85b0ac_img.jpg)

| Maximum Transmit Power For 320 MHz |
|------------------------------------|
| Octets: 1                          |

**Figure 9-715a—Extension Maximum Transmit Power field format if the Maximum Transmit Power Interpretation subfield is 0 or 2**

The Maximum Transmit Power For 320 MHz field defines the local maximum transmit power limit of 320 MHz PPDU, except for an EHT TB PPDU where 320 MHz is the bandwidth of the pre-EHT modulated fields of the EHT TB PPDU transmitted by a STA. The Maximum Transmit Power For 320 MHz field is encoded as an 8-bit 2s complement signed integer in the range -64 dBm to 63 dBm with a 0.5 dB step. Setting this field to 63.5 dBm indicates 63.5 dBm or higher (i.e., no local maximum transmit power constraint).

The Extension Maximum Transmit Power field is included only if the conditions defined in 35.15.4 are met.

The format of the Extension Maximum Transmit Power field is defined in Figure 9-715b if the Maximum Transmit Power Interpretation subfield is 1 or 3.

![](45f6ef490318427c69f507d3fd26bcc5_img.jpg)

| Extension Transmit PSD Information | Maximum Transmit PSD Values |
|------------------------------------|-----------------------------|
| Octets: 1                          | variable                    |

**Figure 9-715b—Extension Maximum Transmit Power field format if the Maximum Transmit Power Interpretation subfield is 1 or 3**

The format of the Extension Transmit PSD Information subfield is defined in Figure 9-715c. The Extension Count subfield determines the value of an integer  $K$ , which indicates the number of 20 MHz channels for which a maximum transmit PSD is included in the Maximum Transmit PSD Values subfield of the Extension Maximum Transmit Power field. The value of 0 is reserved.

![](904c090a7cb74a170c1bef74638f975d_img.jpg)

| B0              | B3       | B4 | B7 |
|-----------------|----------|----|----|
| Extension Count | Reserved |    |    |
| Bits: 4         | 7        |    |    |

**Figure 9-715c—Extension Transmit PSD Information subfield format**

The format of the Extension Maximum Transmit PSD Values subfield is the same as the Maximum Transmit Power field as defined in Figure 9-715 (Maximum Transmit Power field format if Maximum Transmit Power Interpretation subfield is 1, 3 or 5).

If the Extension Maximum Transmit Power field is included and the Maximum Transmit Power Interpretation subfield is 1 or 3, then:

— If  $N + K$  is equal to 2, 4, 8 or 16 for 40, 80, 160 or 320 MHz EHT BSS bandwidth, respectively, then the indicated bandwidth is the EHT BSS bandwidth.

- If  $N + K$  is less than 4, 8 or 16 for 80, 160 or 320 MHz EHT BSS bandwidth, respectively, then the indicated bandwidth is the primary 40 MHz, primary 80 MHz or primary 160 MHz channel for  $N + K$  equal to 2, 4, 8 respectively.
- If  $N + K$  is greater than 2, 4, 8 or 16 for 40, 80, 160 or 320 MHz EHT BSS bandwidth, respectively, then the indicated bandwidth is wider than the EHT BSS bandwidth.
  - The Maximum Transmit PSD  $1 - M$  subfields correspond to the 20 MHz channels within the EHT BSS bandwidth in the order as described in this subclause, where  $M$  is 4, 8, or 16 for 80, 160 or 320 MHz EHT BSS bandwidth, respectively.
  - The Maximum Transmit PSD  $(M + 1) - (N + K)$  subfields are reserved for future use.

If the Extension Maximum Transmit Power field is not included, the Maximum Transmit Power Interpretation subfield is 1 or 3, and  $N$  is greater and 0, then:

- If  $N$  is less than 2, 4, 8 or 16 for 40, 80, 160 or 320 MHz BSS bandwidth, respectively, then the indicated bandwidth is the primary 20 MHz, 40 MHz, primary 80 MHz channel or primary 160 MHz channel for  $N$  equal to 1, 2, 4, 8 respectively.

#### 9.4.2.161 Channel Switch Wrapper element

Change Figure 9-716 as follows:

| Element ID | Length | New Country subelement (optional) | Wide Bandwidth Channel Switch subelement (optional) | New Transmit Power Envelope subelement (optional) | Bandwidth Indication For Channel Switch subelement (optional) |
|------------|--------|-----------------------------------|-----------------------------------------------------|---------------------------------------------------|---------------------------------------------------------------|
| Octets:    | 1      | 1                                 | variable                                            | variable                                          | variable                                                      |

Figure 9-716—Channel Switch Wrapper element format

*Insert the following paragraph and figure after the eighth paragraph (“Each New Transmit Power Envelope subelement that is present…”):*

The format of the Bandwidth Indication For Channel Switch subelement is shown in Figure 9-716a. The Subelement ID, Length, Subelement ID Extension, Bandwidth Indication Parameters, and Bandwidth Indication Information fields are defined to be the same as the Element ID, Length, Element ID Extension, Bandwidth Indication Parameters, and Bandwidth Indication Information fields of the Bandwidth Indication element, respectively (see 9.4.2.329). This subelement is present for an EHT STA when channel switching or extended channel switching to an EHT BSS operating channel width wider than 160 MHz or to an EHT BSS operating channel width that includes at least one punctured 20 MHz subchannel. Otherwise, the Bandwidth Indication For Channel Switch subelement is not present.

| Subelement ID | Length | Subelement ID Extension | Bandwidth Indication Parameters | Bandwidth Indication Information |
|---------------|--------|-------------------------|---------------------------------|----------------------------------|
| Octets:       | 1      | 1                       | 1                               | 3 to 5                           |

Figure 9-716a—Bandwidth Indication For Channel Switch subelement format

#### 9.4.2.162 AID element

Change the first paragraph as follows:

The AID element contains the AID assigned by an AP or an AP MLD during association (see 11.3). The format of the AID element is shown in Figure 9-717.

#### 9.4.2.163 Quiet Channel element

*Insert the following note at the end of the subclause:*

**NOTE**—An EHT AP cannot advertise a number of TBTTs that is greater than 127 until the beacon interval during which the next quiet interval starts. A Quiet Count field value greater than 127 is used to indicate a quiet interval that has already started and is possible when the Quiet Channel element is carried in a Per-STA Profile subelement in a Basic Multi-Link element (also see 9.4.2.21 and 35.3.11).

#### 9.4.2.169 Reduced Neighbor Report element

##### 9.4.2.169.2 Neighbor AP Information field

*Change the seventh paragraph and Table 9-328 (not all lines shown) as follows:*

The TBTT Information Length subfield indicates the length of each TBTT Information field included in the TBTT Information Set field of the Neighbor AP Information field. If the TBTT Information Field Type subfield is 0, the TBTT Information Length subfield:

- Contains the length in octets of each TBTT Information field that is included in the TBTT Information Set field of the Neighbor AP Information field
- Is set to 1, 2, 5, 6, 7, 8, 11, or 12; other values are reserved.
- Indicates the TBTT Information field contents as shown in Table 9-328.

**Table 9-328**—TBTT Information field contents if the TBTT Information Field Type subfield is equal to 0

| TBTT Information Length subfield value | TBTT Information field contents                                                                                                                                                                                                                                                                                                           |
|----------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ...                                    |                                                                                                                                                                                                                                                                                                                                           |
| 14                                     | Reserved                                                                                                                                                                                                                                                                                                                                  |
| 15                                     | Reserved                                                                                                                                                                                                                                                                                                                                  |
| 16                                     | The Neighbor AP TBTT Offset subfield, the BSSID subfield, the Short-SSID subfield, the BSS Parameters subfield, the 20 MHz PSD subfield and the MLD Parameters subfield                                                                                                                                                                   |
| 1417-255                               | The first 162 octets of the field contain the Neighbor AP TBTT Offset subfield, the BSSID subfield, the Short-SSID subfield and the BSS Parameters subfield, and the 20 MHz PSD subfield and the MLD Parameters subfield (i.e., same contents as when the length of the TBTT Information field is 165). The remaining octets are reserved |

*Change NOTE 1 as follows:*

**NOTE 1**—The Operating Class field and Channel Number tuple indicate the primary channel in order to assist with passive scanning. Selection of the operating class is defined in 11.49.

*Change Figure 9-734 as follows:*

|         | Neighbor AP TBTT Offset | BSSID (optional) | Short SSID (optional) | BSS parameters | 20 MHz PSD | MLD Parameters |
|---------|-------------------------|------------------|-----------------------|----------------|------------|----------------|
| Octets: | 1                       | 0 or 6           | 0 or 4                | 0 or 1         | 0 or 1     | 0 or 3         |

Figure 9-734—TBTT Information field format

*Change the 16th paragraph as follows:*

The value 254 indicates an offset of 254 TUs or higher if the reported AP is not affiliated with an AP MLD and indicates an offset of 254 TUs if the reported AP is affiliated with an AP MLD. The value 255 indicates an unknown offset value (see 35.3.4.1).

*Insert the following NOTE after the 21st paragraph ("The Same SSID subfield is set..."):*

NOTE 2—In a multiple BSSID set the reporting AP is the AP corresponding to the transmitted BSSID.

*Insert the following paragraphs and figures at the end of this subclause:*

If the TBTT Information Field Type subfield is set to 1 and the TBTT Information Length subfield is set to 3, then the TBTT Information field carries the MLD Parameters subfield as shown in Figure 9-734.

![](d17bbd1796447620b6196616144ae854_img.jpg)

| MLD Parameters |
|----------------|
| Octets: 3      |

Figure 9-734b—TBTT Information field format when the TBTT Information Field Type subfield is equal to 1 and the TBTT Information Length subfield is equal to 3

The format of the MLD Parameters subfield is defined in Figure 9-734c.

|       | B0        | B7      | B8 | B11                         | B12 | B19                  | B20 | B21                      | B22      | B23 |
|-------|-----------|---------|----|-----------------------------|-----|----------------------|-----|--------------------------|----------|-----|
| Bits: | 8         | 4       | 4  | 8                           | 8   | 1                    | 1   | 1                        | 2        | 2   |
|       | AP MLD ID | Link ID |    | BSS Parameters Change Count |     | All Updates Included |     | Disabled Link Indication | Reserved |     |

Figure 9-734c—MLD Parameters subfield format

The AP MLD ID subfield indicates the identifier of the AP MLD with which the reported AP is affiliated.

- If the reported AP is affiliated with the same MLD as the reporting AP sending the frame carrying this element, the AP MLD ID subfield is set to 0.
- If the reported AP is affiliated with the same MLD as a nontransmitted BSSID that is in the same multiple BSSID set as the reporting AP (that corresponds to the transmitted BSSID) sending the frame carrying this element, the AP MLD ID subfield is set to the same value as in the BSSID Index field in the Multiple BSSID-Index element in the nontransmitted BSSID profile corresponding to the nontransmitted BSSID.
- If the reported AP is affiliated with an AP MLD that is neither the AP MLD with which the reporting AP is affiliated nor an AP MLD with which a nontransmitted BSSID that is in the same multiple BSSID set as the reporting AP is affiliated, the AP MLD ID subfield is set to a value that is unique for this AP MLD in frames sent by the reporting AP and that is higher than 0 and lower than 255.

if no Multiple BSSID element is carried in the same frame or that is higher than  $2^n - 1$  and lower than 255 if a Multiple BSSID element is carried in the same frame, where  $n$  is the value contained in the MaxBSSID Indicator field in the Multiple BSSID element.

— If the reported AP is not affiliated with an AP MLD, or if the reporting AP does not have information of that MLD. The AP MLD ID subfield is set to 255.

**NOTE 5**—The AP MLD ID is used to identify the list of reported APs affiliated with the same AP MLD, especially when APs from multiple AP MLDs are reported, and is assigned such that it is unique to an AP MLD only in the frames that carry the Reduced Neighbor Report element describing the reported APs affiliated with the AP MLD. Following the rules to set the AP MLD ID field, another AP might use a different AP MLD ID for the same AP MLD.

**NOTE 6**—An AP MLD ID subfield set to 255 does not mean that the reported AP has BSSID index set to 255.

The Link ID subfield indicates the link identifier of the reported AP within the AP MLD with which the reported AP is affiliated. The Link ID subfield is set to 15 if the reported AP is not part of an AP MLD, or if the Link ID of the reported AP is not known to the reporting AP.

**NOTE 7**—The link identifier is unique to an AP affiliated with an AP MLD within this AP MLD (see 35.3.3.2).

The BSS Parameters Change Count subfield is an unsigned integer, initialized to 0, that increments when a critical update to the BSS Parameters of the reported AP occurs. The critical updates are defined in 11.2.3.14. The BSS Parameters Change Count subfield is set to 255 if the reported AP is not part of an AP MLD, or if the reporting AP does not have that information.

The All Updates Included subfield indicates if the updated elements that correspond to the latest critical update that generated a change to the value carried in the BSS Parameters Change Count subfield for the reported AP are included in the frame carrying the Reduced Neighbor Report element. The All Updates Included subfield is set to 1 if all the updated elements are included and set to 0 otherwise.

The Disabled Link Indication subfield is set to 1 if the reported AP is operating on a link that is advertised as disabled for all associated non-AP MLDs and the reported AP is affiliated with the same AP MLD as the reporting AP, or the Co-Located AP bit of the BSS Parameters subfield of the TBTT Information field of the Neighbor AP Information field is set to 1. Otherwise, the Disabled Link Indication subfield is set to 0. Additional rules for associated and unassociated STAs when a link is advertised as disabled for all associated non-AP MLDs are defined in 35.3.7.2.4.

#### 9.4.2.176 FILS Request Parameters element

*Insert a new row to Table 9-337 (not all lines shown) and change the value of the reserved row as follows:*

Table 9-337—PHY Support Criterion subfield

| Value | Explanation                                          |
|-------|------------------------------------------------------|
| ...   |                                                      |
| 4     | Indicates that a responding FILS STA is EHT capable. |
| 45-7  | Reserved                                             |

#### 9.4.2.198 TWT element

Change Figure 9-789 as follows:

|       | B0                                        | B1                | B2               | B3                             | B4                 | B5                     | B6                    | B6 | B7 |
|-------|-------------------------------------------|-------------------|------------------|--------------------------------|--------------------|------------------------|-----------------------|----|----|
|       | NDP Paging Indicator/ Unavailability Mode | Responder PM Mode | Negotiation Type | TWT Information Frame Disabled | Wake Duration Unit | Link ID Bitmap Present | Reserved Ali gned TWT |    |    |
| Bits: | 1                                         | 1                 | 2                | 1                              | 1                  | 1                      | 1                     | 21 |    |

Figure 9-789—Control field format

Change Figure 9-790 as follows:

|         | Request Type | Target Wake Time | TWT Group Assignment | Nominal Minimum TWT Wake Duration | TWT Wake Interval Mantissa |
|---------|--------------|------------------|----------------------|-----------------------------------|----------------------------|
| Octets: | 2            | 0 or 8           | 0, 3 or 9            | 1                                 | 2                          |

|         | TWT Channel | NDP Paging (optional) | Link ID Bitmap | Aligned TWT Link Bitmap |
|---------|-------------|-----------------------|----------------|-------------------------|
| Octets: | 1           | 0 or 4                | 0 or 2         | 0 or 2                  |

Figure 9-790—Individual TWT Parameter Set field format

Change Figure 9-791 as follows:

|         | Request Type | Target Wake Time | Nominal Minimum TWT Wake Duration | TWT Wake Interval Mantissa | Broadcast TWT Info | Restricted TWT Traffic Info (optional) |
|---------|--------------|------------------|-----------------------------------|----------------------------|--------------------|----------------------------------------|
| Octets: | 2            | 2                | 1                                 | 2                          | 2                  | 0 or 3                                 |

Figure 9-791—Broadcast TWT Parameter Set field format

Insert the following three paragraphs after the eighth paragraph (“The Wake Duration Unit subfield indicates the unit...”):

The Link ID Bitmap field is present if the Link ID Bitmap Present field is equal to 1; otherwise, the Link ID Bitmap field is not present.

When the TWT element contains an individual TWT parameter set sent by an MLD, the Aligned TWT field indicates whether an alignment of the individual TWTs across two or more setup links is requested or being provided, where the aligned individual TWTs point to start times that are aligned across these links and have the same TWT parameters. The Aligned TWT Link Bitmap subfield is present if the Aligned TWT field is equal to 1; otherwise, the Aligned TWT Bitmap subfield is not present.

When the TWT element contains one or more broadcast TWT parameter sets, the Aligned TWT field is reserved.

*Change Figure 9-793 as follows:*

![](00b42c17821cc15e4a89366b76365ee9_img.jpg)

|       | B0          | B1B3              | B4      | B5                           | B6        | B7                           | B9                         | B10 | B14              | B15 |
|-------|-------------|-------------------|---------|------------------------------|-----------|------------------------------|----------------------------|-----|------------------|-----|
|       | TWT Request | TWT Setup Command | Trigger | Last Broadcast Parameter Set | Flow Type | Broadcast TWT Recommendation | TWT Wake Interval Exponent |     | Reserved Aligned |     |
| Bits: | 1           | 3                 | 1       | 1                            | 1         | 3                            | 5                          | 1   |                  |     |

Figure 9-793—Request Type field format in Broadcast TWT Parameter Set field

*Insert the following paragraph after the now-shifted 16th paragraph ("The format of the Request Type field..."):*

The Aligned subfield indicates whether one or more of the other links of the AP MLD have broadcast TWT schedule(s) that are aligned with the corresponding schedule. If the subfield is set to 1, it indicates that there is a schedule on other link(s) that is aligned within a 1 TU interval with the schedule identified by the Broadcast TWT Parameter Set field; otherwise, there is no such schedule on the other link(s). The subfield is reserved if the Negotiation Type subfield of the Control field of the broadcast TWT element is set to 3.

*Change the first row and the NOTE of Table 9-347 (not all lines shown) as follows:*

Table 9-347—TWT Setup Command field values

| TWT Setup Command field value                                                                                                                                                                                                                                                                                                                                                                                                                                        | Command name | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 0                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Request TWT  | A TWT requesting or TWT scheduled STA requests to join a TWT without specifying a target wake time except when TWT alignment across links is requested through multiple TWT elements in which case the Target Wake Time field contains a positive unsigned integer corresponding to a TSF time at which the TWT requesting STA requests to wake (see 35.3.24). This command is valid if the TWT Request field is equal to 1; otherwise, the command is not applicable. |
| ...                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | ...          | ...                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| NOTE—TWT Parameters are TWT, Nominal Minimum TWT Wake Duration, TWT Wake Interval, and TWT Channel subfield values indicated in the TWT element. The Trigger subfield value indicated in the TWT element is also a TWT parameter for an HE STA. When the Restricted TWT Traffic Info field is included in a Restricted TWT Parameter Set field in the TWT element, TID(s) indicated in the Restricted TWT Traffic Info field are also TWT parameters for an EHT STA. |              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |

*Change the now-shifted 26th paragraph as follows:*

The Broadcast TWT Recommendation subfield contains a value that indicates recommendations on the types of frames that are transmitted by TWT scheduled STAs and scheduling AP during the broadcast TWT SP, encoded according to the Broadcast TWT Recommendation field for a broadcast TWT element as defined in Table 9-348. The Broadcast TWT Recommendation is reserved if transmitted by a TWT scheduled STA, except when the STA is also an R-TWT scheduled STA and is requesting to setup R-TWT membership, in which case it sets the Broadcast TWT Recommendation field to 4.

*Change Table 9-348 (not all rows shown) and insert two new paragraphs right after the now-shifted 26th paragraph as follows:*

Table 9-348—Broadcast TWT Recommendation field for a broadcast TWT element

| Broadcast TWT Recommendation field value | Description when transmitted in a broadcast TWT element                                                                                                                                                                         |
|------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ...                                      | ...                                                                                                                                                                                                                             |
| 4                                        | The corresponding broadcast TWT SP is referred to as an R-TWT SP.<br>During an R-TWT SP, the AP and member R-TWT scheduled STAs prioritize their transmission of QoS Data frames that are latency sensitive traffic (see 35.8). |
| 45-7                                     | Reserved                                                                                                                                                                                                                        |

A Broadcast TWT Parameter Set field that has the Broadcast TWT Recommendation field value equal to 4 is referred to as a Restricted TWT Parameter Set field.

A broadcast TWT element that contains only Restricted TWT Parameter Set field(s) is also referred to as a restricted TWT element.

*Change the now-shifted 30th paragraph as follows:*

If transmitted by a TWT requesting STA or a TWT scheduled STA and the TWT Setup Command subfield contains a value corresponding to the command “Suggest TWT” or “Demand TWT”, the Target Wake Time field contains a positive and unsigned integer corresponding to a TSF time at which the STA requests to wake. If transmitted by a TWT requesting STA or a TWT scheduled STA and the TWT Setup Command subfield contains the value corresponding to the command “Request TWT”, the Target Wake Time field contains the value 0, except when TWT alignment across links is requested through multiple TWT elements in which case the Target Wake Time field contains a positive unsigned integer corresponding to a TSF time at which the TWT requesting STA requests to wake (see 35.3.24). The Target Wake Time field is 8 octets if the Broadcast field is 0; otherwise, it is 2 octets with the lowest bit of the 2 octets corresponding to bit 10 of the relevant TSF value. If a TWT responding STA with dot11TWTGroupingSupport equal to 0 transmits a TWT element to the TWT requesting STA, the TWT element contains a value in the Target Wake Time field corresponding to a TSF time at which the TWT responding STA requests the TWT requesting STA to wake for the corresponding TWT SP and it does not contain the TWT Group Assignment field.

*Insert the following NOTE after the now-shifted 30th paragraph:*

NOTE 2—If the Broadcast field is set to 1, the Target Wake Time field carries only B10:B25 of the relevant TSF timer, and changes in B26:B63 of the corresponding TSF timer are not communicated to the receiving STA. Hence, an EHT STA must consider when setting up a broadcast TWT schedule the rollover of B26:B63 of the TSF timer that might happen at the receiving STA during the lifetime of the Broadcast TWT schedule (i.e., resulting from the Target Wake Time field and Broadcast TWT Persistence field).

*Change Figure 9-795 as follows and insert the following two paragraphs and table right after the figure:*

![](5c346430c63835cf1d99d2a06c1c856c_img.jpg)

| B0                                     | B9B1                                        | B2 | B3               | B7 | B8                           | B15 |
|----------------------------------------|---------------------------------------------|----|------------------|----|------------------------------|-----|
| Restricted TWT<br>Traffic Info Present | Reserved<br>Restricted TWT<br>Schedule Info |    | Broadcast TWT ID |    | Broadcast TWT<br>Persistence |     |
| Bits: 1                                | 23                                          |    | 5                |    | 8                            |     |

**Figure 9-795—Broadcast TWT Info subfield format**

The Restricted TWT Traffic Info Present subfield of the Restricted TWT Parameter Set field is set to 1 if the Restricted TWT Traffic Info field is present; and set to 0 otherwise. The Restricted TWT Traffic Info Present subfield is reserved for non-EHT STAs.

The Restricted TWT Schedule Info subfield is set as described in Table 9-349a when included in a Restricted TWT Parameter Set field carried in a TWT element with the Negotiation Type subfield set to 2, and the TWT element is transmitted by an EHT AP with dot11RestrictedTWOptionImplemented set to true; otherwise, the subfield is reserved.

**Table 9-349a—Restricted TWT Schedule Info subfield values**

| Restricted TWT<br>Schedule Info<br>subfield value | Description when included in a Restricted TWT Parameter Set field                                                                                                                                                                                                                                                                  |
|---------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 0                                                 | The corresponding R-TWT schedule does not have any member STAs or the schedule is suspended for all the member STAs.<br>Such an R-TWT schedule is referred to as an idle R-TWT schedule.                                                                                                                                           |
| 1                                                 | The corresponding R-TWT schedule has at least one member STA for which the schedule is not suspended.<br>Such an R-TWT schedule is referred to as an active R-TWT schedule.                                                                                                                                                        |
| 2                                                 | Indicates an active R-TWT schedule for which the R-TWT scheduling AP is unlikely to accept a request from a STA in the BSS to establish a new membership.<br>Such an R-TWT schedule is referred to as a full R-TWT schedule (i.e., the AP might not have sufficient resources within this schedule for accepting new memberships). |
| 3                                                 | Indicates that the advertised R-TWT schedule is active and is for an AP corresponding to a nontransmitted BSSID that is a member of the same multiple BSSID set or co-hosted BSSID set as the AP transmitting the Restricted TWT Schedule Info subfield.                                                                           |

*Change the now-shifted 45th paragraph as follows:*

Within a TWT element that includes a TWT setup command value of Request TWT, Suggest TWT or Demand TWT, the Broadcast TWT ID, if present, indicates a specific Broadcast TWT in which the transmitting STA is requesting to participate. Within a TWT element that includes a TWT setup command value of Accept TWT, Alternate TWT, Dictate TWT or Reject TWT, the Broadcast TWT ID, if present, indicates a specific Broadcast TWT for which the transmitting STA is providing TWT parameters. Within a TWT element that includes a TWT setup command value of TWT Grouping, the Broadcast subfield is 0 and the Broadcast TWT ID<sub>2</sub> is not present. The value 0 in the Broadcast TWT ID subfield indicates the broadcast TWT whose membership corresponds to all STAs that are members of the BSS corresponding to the BSSID

of the Management frame carrying the TWT element and that is permitted to contain Trigger frames with RA-RUs for unassociated STAs. The Broadcast TWT ID subfield in a Restricted TWT Parameter Set field is always set to a nonzero value, and is set to 31 when the Restricted TWT Schedule Info subfield is set to 3.

*Insert the following paragraphs and figures after the now-shifted 46th paragraph ("The Broadcast TWT Persistence subfield indicates the number of TBTTs during..."):*

The Link ID Bitmap subfield indicates the links to which the TWT element sent by a STA affiliated with an MLD applies (see 35.3.24.1). A value of 1 in bit position  $i$  of the Link ID Bitmap subfield indicates that the TWT element sent by a STA affiliated with an MLD applies to the link identified by link ID  $i$ . A value of 0 in bit position  $i$  of the Link ID Bitmap subfield indicates that the TWT element sent by a STA affiliated with an MLD does not apply to the link identified by link ID  $i$ .

The Aligned TWT Link Bitmap subfield indicates the link(s) that has the aligned TWT SPs with the link indicated by the Link ID Bitmap Subfield in the TWT element. A value of 1 in bit position  $i$  of the Aligned TWT Link Bitmap subfield means that the link associated with the link ID  $i$  is the link that has the aligned TWT SPs with the link indicated by the Link ID Bitmap Subfield. A value of 0 in bit position  $i$  of the Aligned TWT Link Bitmap subfield means that the link associated with the link ID  $i$  is the link that does not have the aligned TWT SPs with the link indicated by the Link ID Bitmap Subfield. The bit in the Aligned TWT Link Bitmap subfield, that corresponds to the link indicated by the Link ID Bitmap subfield is set to 0.

The Restricted TWT Traffic Info field is present in a Restricted TWT Parameter Set field when the Restricted TWT Traffic Info Present subfield of the Broadcast TWT Info subfield is set to 1. Its format is defined in Figure 9-795a.

![](a3199de1899bc420e2874c17b342de40_img.jpg)

| Traffic Info Control | Restricted TWT DL TID Bitmap | Restricted TWT UL TID Bitmap |
|----------------------|------------------------------|------------------------------|
| 1                    | 1                            | 1                            |

Ocets:

Figure 9-795a—Restricted TWT Traffic Info field format

The Traffic Info Control field is defined in Figure 9-795b.

![](fe40f4511ae5a6202be2b4b248378bc2_img.jpg)

| B0                  | B1                  | B2       | B7 |
|---------------------|---------------------|----------|----|
| DL TID Bitmap Valid | UL TID Bitmap Valid | Reserved |    |
| 1                   | 1                   | 6        |    |

Bits:

Figure 9-795b—Traffic Info Control field format

The DL TID Bitmap Valid subfield is set to 1 to indicate that the Restricted TWT DL TID Bitmap field is valid. The DL TID Bitmap Valid subfield is set to 0 to indicate that the DL traffic of all the TIDs mapped in DL to the link on which the R-TWT membership indicated by the TWT element is being setup is identified as latency sensitive traffic, and the Restricted TWT DL TID Bitmap field is reserved.

The UL TID Bitmap Valid subfield is set to 1 to indicate that the Restricted TWT UL TID Bitmap field is valid. The UL TID Bitmap Valid subfield is set to 0 to indicate that the UL traffic of all the TIDs mapped in UL to the link on which the R-TWT membership indicated by the TWT element is being setup is identified as latency sensitive traffic, and the Restricted TWT UL TID Bitmap field is reserved.

The Restricted TWT DL TID Bitmap and Restricted TWT UL TID Bitmap subfields specify the TID(s) that are identified by the R-TWT scheduling AP or the R-TWT scheduled STA as latency sensitive traffic

streams in the DL and UL direction, respectively. A value of 1 at bit position  $k$  in either bitmap indicates that TID  $k$  is classified as latency sensitive traffic stream for the direction the bitmap corresponds to. A value of 0 at bit position  $k$  in either bitmap indicates that TID  $k$  is not classified as latency sensitive traffic stream for the direction the bitmap corresponds to.

#### 9.4.2.216 Max Channel Switch Time element

*Change the third paragraph, including to split it into two paragraphs, as follows:*

When the Max Channel Switch Time element is carried outside a Basic Multi-Link element, the Switch Time field indicates the maximum time delta between the TBTT of the last Beacon frame transmitted by the AP in the current channel and the TBTT of the first Beacon frame in the new channel, expressed in TUs. When the Max Channel Switch Time element is carried in a Basic Multi-Link element, in the Per-STA Profile subelement corresponding to a reported AP that is not affiliated with an NSTR mobile AP MLD:

- until the last Beacon frame is sent on the current channel of the reported AP, the Switch Time field indicates the maximum time delta between the time the last Beacon frame is transmitted by the reported AP in its current channel and the expected time of the first Beacon frame in its new channel, expressed in TUs.
- after the last Beacon frame is transmitted on the current channel of the reported AP, the Switch Time field indicates the estimated time delta, expressed in TUs, between the time the frame carrying the Basic Multi-Link element containing the Max Channel Switch Time element is transmitted by the reporting AP and the expected time of the first Beacon frame in the new channel by the reported AP (see 35.3.11).

When the Max Channel Switch Time element is carried in a Basic Multi-Link element, in the Per-STA Profile subelement corresponding to a reported AP that is affiliated with an NSTR mobile AP MLD:

- the Switch Time field indicates the estimated time delta, expressed in TUs, between the time the frame carrying the Basic Multi-Link element is transmitted by the reporting AP and the expected time that the reported AP resumes BSS operation on the new channel/class (see 35.3.19.3).

#### 9.4.2.235 OCI element

*Change the fifth paragraph, including to split it into two paragraphs, as follows:*

If the operating class does not indicate a 320 MHz channel width, the Frequency Segment 1 Channel Number field is set to the channel number of the center frequency of the secondary segment (frequency segment 1) being used currently, if operating in an 80+80 MHz operating class or set to 0 otherwise. The value of the Frequency Segment 1 Channel Number field is one of the center frequency indices from the row corresponding to the operating class as defined in Annex E, or 0 if not operating in an 80+80 MHz operating class.

If operating class indicates a 320 MHz channel width, the Frequency Segment 1 Channel Number field is set to the channel number of the center frequency of the channel.

#### 9.4.2.239 Non-Inheritance element

*Insert the following paragraph as the first paragraph of the subclause:*

The Non-Inheritance element can be present as the last element in the Nontransmitted BSSID Profile subelement of a Multiple BSSID element or as the last element in the Per-STA Profile subelement of a Basic Multi-Link element when the profile is complete.

*Insert the following paragraph after the now-shifted second paragraph (“The Non-Inheritance element when present…”):*

When present in the STA Profile field of a Basic Multi-Link element, the Non-Inheritance element identifies one or more elements that are not inherited by the reported STA corresponding to that per-STA profile. Each element identified by the Non-Inheritance element is present in the frame that carries the Basic Multi-Link element and is not present within the STA Profile field that carries the Non-Inheritance element (also see 35.3.3.5.1).

#### 9.4.2.247 HE Capabilities element

##### 9.4.2.247.4 Supported HE-MCS And NSS Set field

*Change the fifth paragraph as follows:*

The maximum receive  $N_{SS}$  for a given HE-MCS is equal to the smaller of

- The maximum value of  $n$  for which the Max HE-MCS For  $n$  SS has a value that indicates support for that HE-MCS or
- The maximum supported  $N_{SS}$  as indicated by the value of the Rx NSS field of the Operating Mode Notification frame or the Operating Mode Notification element if the value of Rx NSS Type is 0, or by the value of the Rx NSS field of the OM Control subfield if an EHT OM Control subfield is not present in the same A-Control field, or by the value of the Rx NSS Extension field of the EHT OM Control subfield combined with the value of the Rx NSS field of the OM Control subfield if an EHT OM Control subfield is present in the same A-Control field.

*Change the second last paragraph as follows:*

The maximum transmit  $N_{SS}$  for a given HE-MCS is equal to the smaller of

- The maximum value of  $n$  for which the Max HE-MCS For  $n$  SS has a value that indicates support for that HE-MCS (0, 1, or 2 for HE-MCS 0–7, 1 or 2 for HE-MCS 8–9, 2 for HE-MCS 10–11) or
- The maximum supported NSTS as indicated by the value of the Tx NSTS field of the OM Control subfield sent by a non-AP STA if an EHT OM Control subfield is not present in the same A-Control field or by the value of the Tx NSTS Extension field of the EHT OM Control subfield combined with the value of the Tx NSTS field of the OM Control subfield sent by a non-AP STA if an EHT OM Control subfield is present in the same A-Control field.

#### 9.4.2.312 Diffie-Hellman Parameter element

*Change the third paragraph as follows:*

The Group field is a 16-bit unsigned integer that maps an identifying number from the “Group Description” “Transform Type 4 – Key Exchange Method Transform IDs” registry maintained by IANA for IETF RFC 2409 (IKE) [7296] to a complete domain parameter set.

#### 9.4.2.316 Device ID element

*Change the fourth paragraph as follows:*

When the element is sent from an AP, or when the element is sent from an AP MLD to a non-AP MLD, the Device ID Status field contains one of the values shown in Table 9-417a.

#### 9.4.2.317 IRM element

*Change the third, fourth, fifth and sixth paragraphs as follows:*

When the element is sent to an AP or an AP MLD, the IRM Status field is not present.

When the element is sent from an AP or an AP MLD, the IRM Status field is defined in Table 9-417b.

The IRM field contains a MAC address when sent from a non-AP STA to an AP, or when sent from a non-AP MLD to an AP MLD.

The IRM field is not present when sent from an AP to a non-AP STA, or when sent from an AP MLD to a non-AP MLD.

*Insert the following new subclauses at the end of subclause 9.4.2:*

#### 9.4.2.321 EHT Operation element

The operation of EHT STAs in an EHT BSS is controlled by the following:

- The HT Operation element, HE Operation element, and EHT Operation element if operating in the 2.4 GHz band
- The HT Operation element, VHT Operation element (if present), HE Operation element, and EHT Operation element if operating in the 5 GHz band
- The HE Operation element and EHT Operation element if operating in the 6 GHz band

The format of the EHT Operation element is shown in Figure 9-1074i.

![](9be5e9e1e5bad01bd424de71f7d74d05_img.jpg)

|         | Element ID | Length | Element ID Extension | EHT Operation Parameters | Basic EHT-MCS And Nss Set | EHT Operation Information |
|---------|------------|--------|----------------------|--------------------------|---------------------------|---------------------------|
| Octets: | 1          | 1      | 1                    | 1                        | 4                         | 0 or 3 or 5               |

Figure 9-1074i—EHT Operation element format

The Element ID, Length, and Element ID Extension fields are defined in 9.4.2.1.

The EHT Operation Parameters field is defined in Figure 9-1074j.

![](7ef3fe28c4a73964e209804fb8d3c64c_img.jpg)

|       | B0                                | B1                                 | B2                     | B3                                  | B4                                     | B5            | B6       | B7 |
|-------|-----------------------------------|------------------------------------|------------------------|-------------------------------------|----------------------------------------|---------------|----------|----|
| Bits: | 1                                 | 1                                  | 1                      | 1                                   | 2                                      | 1             | 1        | 1  |
|       | EHT Operation Information Present | Disabled Subchannel Bitmap Present | EHTDefault PE Duration | Group Addressed BU Indication Limit | Group Addressed BU Indication Exponent | MCS15 Disable | Reserved |    |

Figure 9-1074j—EHT Operation Parameters field format

The EHT Operation Information Present subfield is set to 1 if the EHT Operation Information field is present and set to 0 otherwise. The EHT Operation Information Present subfield is set as described in 35.15.1.

The Disabled Subchannel Bitmap Present subfield is set to 1 if the Disabled Subchannel Bitmap subfield is present and set to 0 otherwise. The Disabled Subchannel Bitmap Present subfield is reserved if the EHT Operation Information Present subfield is equal to 0.

The EHT Default PE Duration subfield is set to 1 to indicate that the PE field duration for an EHT TB PPDU solicited by a TRS Control subfield is 20  $\mu$ s and set to 0 to indicate that the PE field duration for an EHT TB PPDU solicited by a TRS Control subfield is the same as that indicated in the HE Operation Parameters field in the HE Operation element.

The Group Addressed BU Indication Limit subfield indicates whether there is a limit on the number of bits to indicate the presence of buffered group addressed frames of all other APs affiliated with the same AP MLDs as all nontransmitted BSSID in a multiple BSSID set in the TIM element or not.

The Group Addressed BU Indication Limit subfield is set to 0 if one of the conditions is met:

- The AP is not in a multiple BSSID set.
- The AP is in a multiple BSSID set and the total number of bits in the TIM element that is needed to indicate the presence of buffered group addressed frames for all other APs affiliated with the AP MLDs with which all nontransmitted BSSID are affiliated respectively is not greater than 48 bits.

Otherwise, the Group Addressed BU Indication Limit subfield is set to 1.

The Group Addressed BU Indication Exponent subfield contains an exponent based on which the number of bits in the Partial Virtual Bitmap field for an AP MLD is calculated as defined in 35.3.15.1.

The MCS15 Disable subfield indicates whether the reception of an EHT PPDU with EHT-MCS 15 in both the Data field and EHT-SIG field by the AP is disabled or enabled. The MCS15 Disable subfield is set to 1 to indicate that it is disabled and set to 0 to indicate that it is enabled.

The Basic EHT-MCS And NSS Set field indicates the EHT-MCSs for each number of spatial streams in EHT PPDU that are supported by all EHT STAs in the BSS (including IBSS and MBSS) for transmission and reception. The Basic EHT-MCS And NSS Set field is defined in Figure 9-1074as.

The EHT Operation Information field is present if the EHT Operation Information Present subfield is equal to 1; otherwise the EHT Operation Information field is not present. The EHT STA obtains a set of channel configuration parameters from the EHT Operation Information field (if present) that is defined in Figure 9-1074k.

![](d4e67a567b92a65292ea6af545442bb5_img.jpg)

|         | Control | CCFS0 | CCFS1 | Disabled Subchannel Bitmap |
|---------|---------|-------|-------|----------------------------|
| Octets: | 1       | 1     | 1     | 0 or 2                     |

Figure 9-1074k—EHT Operation Information field format

The Control subfield is defined in Figure 9-1074l,

![](e634d2090b0a2d81af3a02dacdfe40e5_img.jpg)

|       | B0            | B2       | B3 | B7 |
|-------|---------------|----------|----|----|
| Bits: | Channel Width | Reserved |    |    |
|       | 3             | 5        |    |    |

Figure 9-1074l—Control subfield format

The Channel Width, CCFS0, and CCFS1 subfields are defined in Table 9-417e.

Table 9-417e—Channel width, CCFS0, and CCFS1 subfields

| Subfield      | Definition                                                                                                                                                                               | Encoding                                                                                                                                                                                                                                                                                                                                                              |
|---------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Channel Width | This subfield defines the EHT BSS bandwidth.                                                                                                                                             | Set to 0 for 20 MHz EHT BSS bandwidth.<br>Set to 1 for 40 MHz EHT BSS bandwidth.<br>Set to 2 for 80 MHz EHT BSS bandwidth.<br>Set to 3 for 160 MHz EHT BSS bandwidth.<br>Set to 4 for 320 MHz EHT BSS bandwidth.<br>Values in the ranges 5 to 7 are reserved.                                                                                                         |
| CCFS0         | This subfield defines the channel center frequency for a 20, 40, 80 MHz EHT BSS; the primary 80 MHz channel for a 160 MHz EHT BSS, or the primary 160 MHz channel for a 320 MHz EHT BSS. | For 20, 40 or 80 MHz BSS bandwidth, indicates the channel center frequency index for the 20, 40 or 80 MHz channel on which the EHT BSS operates.<br>For 160 MHz BSS bandwidth, indicates the channel center frequency index of the primary 80 MHz channel.<br>For 320 MHz BSS bandwidth, indicates the channel center frequency index of the primary 160 MHz channel. |
| CCFS1         | This subfield defines the channel center frequency for a 160 or 320 MHz EHT BSS.                                                                                                         | For a 20, 40 or 80 MHz BSS bandwidth, this subfield is set to 0.<br>For a 160 MHz BSS bandwidth, indicates the channel center frequency index of the 160 MHz channel on which the EHT BSS operates.<br>For a 320 MHz BSS bandwidth, indicates the channel center frequency index of the 320 MHz channel on which the EHT BSS operates.                                |

The Disabled Subchannel Bitmap subfield is present if the Disabled Subchannel Bitmap Present subfield is equal to 1 and provides a list of subchannels that are punctured within the BSS bandwidth; otherwise, the Disabled Subchannel Bitmap subfield is not present.

The Disabled Subchannel Bitmap subfield is a 16-bit bitmap where the lowest numbered bit corresponds to the 20 MHz subchannel that lies within the BSS bandwidth and is the lowest in frequency of the set of all 20 MHz subchannels within the BSS bandwidth. Each successive bit in the bitmap corresponds to the next higher frequency 20 MHz subchannel. A bit in the bitmap and that lies within the BSS bandwidth is set to 1 to indicate that the corresponding 20 MHz subchannel is punctured and is set to 0 to indicate that the corresponding 20 MHz subchannel is not punctured. A bit in the bitmap that falls outside of the BSS bandwidth is reserved.

#### 9.4.2.322 Multi-Link element

##### 9.4.2.322.1 General

The format of the Multi-Link element is defined in Figure 9-1074m. Depending on the variant of this element (indicated by the Type subfield of the Multi-Link Control field), particular field(s) or subfield(s) within a field can be absent. The frames carrying this element and usage of this element are described in 35.3.3.

The Element ID, Length, and Element ID Extension fields are defined in 9.4.2.1.

The format of the Multi-Link Control field is defined in Figure 9-1074n.

![](9e443b8a79796bd02c32b49769f40fa1_img.jpg)

|         | Element ID | Length | Element ID Extension | Multi-Link Control | Common Info | Link Info |
|---------|------------|--------|----------------------|--------------------|-------------|-----------|
| Octets: | 1          | 1      | 1                    | 2                  | variable    | variable  |

Figure 9-1074m—Multi-Link element format

![](1b57a1d2d9020ced61043f5027e34238_img.jpg)

|       | B0 | B2 | B3 | B4 | B15 |
|-------|----|----|----|----|-----|
| Bits: | 3  | 1  | 1  | 12 |     |

|  | Type | Reserved | Presence Bitmap |
|--|------|----------|-----------------|
|--|------|----------|-----------------|

Figure 9-1074n—Multi-Link Control field

The Type subfield is defined in Table 9-417f and is used to differentiate the variants of the Multi-Link element. The format of each variant of the Multi-Link element is defined in the subclauses below.

Table 9-417f—Type subfield encoding

| Type subfield value | Multi-Link element variant name | Variant specific format |
|---------------------|---------------------------------|-------------------------|
| 0                   | Basic                           | See 9.4.2.322.2         |
| 1                   | Probe Request                   | See 9.4.2.322.3         |
| 2                   | Reconfiguration                 | See 9.4.2.322.4         |
| 3                   | TDLS                            | See 9.4.2.322.5         |
| 4                   | Priority Access                 | See 9.4.2.322.6         |
| 5–7                 | Reserved                        |                         |

The Presence Bitmap subfield is used to indicate the presence of various subfields in the Common Info field and the subfield has a different format for the different variants of the Multi-Link element as further defined in the subclauses below.

The Common Info field carries information that is common to all the links except for the Link ID Info subfield and the BSS Parameters Change Count subfield of the Basic Multi-Link element (see 9.4.2.322.2.3).

The Link Info field carries information specific to one or more links and is optionally present. When the Link Info field is present, it contains one or more subelements. The Subelement ID field values for the subelements of the Multi-Link element are shown in Table 9-417g.

**Table 9-417g—Optional subelement IDs for Link Info field of the Multi-Link element**

| Subelement ID | Name            | Extensible     |
|---------------|-----------------|----------------|
| 0             | Per-STA Profile | Yes            |
| 1–220         | Reserved        |                |
| 221           | Vendor Specific | Vendor defined |
| 222–253       | Reserved        |                |
| 254           | Fragment        | No             |
| 255           | Reserved        |                |

One or more Fragment subelements are present if the contents of a subelement exceed 255 octets (see 35.3.3.7). The format of Fragment subelement is the same as that shown in Figure 9-1078 with the Data field carrying a portion of the subelement that is fragmented.

#### 9.4.2.322.2 Basic Multi-Link element

##### 9.4.2.322.2.1 General

The formats of the Presence Bitmap subfield of the Multi-Link Control field, the Common Info field, and the Link Info field of the Basic Multi-Link element are defined in 9.4.2.322.2.2, 9.4.2.322.2.3, and 9.4.2.322.2.4, respectively.

The Basic Multi-link element carries information related to an MLD and its affiliated STAs that is advertised during ML discovery (see 35.3.4) and ML setup (see 35.3.5).

##### 9.4.2.322.2.2 Presence Bitmap subfield of the Multi-Link Control field in a Basic Multi-Link element

The format of the Presence Bitmap subfield of the Multi-Link Control field in a Basic Multi-Link element is defined in Figure 9-1074o.

![](d22714f4ce654cadb11854b42455a412_img.jpg)

|       | B0                                      | B1                                  | B2                                               | B3                       |     |
|-------|-----------------------------------------|-------------------------------------|--------------------------------------------------|--------------------------|-----|
|       | Link ID Info Present                    | BSS Parameters Change Count Present | Medium Synchronization Delay Information Present | EML Capabilities Present |     |
| Bits: | 1                                       | 1                                   | 1                                                | 1                        |     |
|       | B4                                      | B5                                  | B6                                               | B7                       | B11 |
|       | MLD Capabilities And Operations Present | AP MLD ID Present                   | Extended MLD Capabilities And Operations Present | Reserved                 |     |
| Bits: | 1                                       | 1                                   | 1                                                | 5                        |     |

**Figure 9-1074o—Presence Bitmap subfield of the Basic Multi-Link element format**

The Link ID Info Present subfield is set to 1 if the Link ID Info subfield is present in the Common Info field. Otherwise, the Link ID Info Present subfield is set to 0.

The BSS Parameters Change Count Present subfield is set to 1 if the BSS Parameters Change Count subfield is present in the Common Info field. Otherwise, the BSS Parameters Change Count Present subfield is set to 0.

The Link ID Info Present subfield and the BSS Parameters Change Count Present subfield are set to 0 in a Basic Multi-Link element transmitted by a non-AP STA affiliated with a non-AP MLD. The Link ID Info Present subfield and the BSS Parameters Change Count Present subfield are set to 1 in the Basic Multi-Link element transmitted by an AP affiliated with AP MLD, except when the element is carried in an Authentication frame or an FT Action frame (see 9.6.8).

The Medium Synchronization Delay Information Present subfield is set to 1 if the Medium Synchronization Delay Information subfield is present in the Common Info field. Otherwise, the Medium Synchronization Delay Information Present subfield is set to 0. The Medium Synchronization Delay Information Present subfield is set to 0 when the Basic Multi-Link element is transmitted by a non-AP STA affiliated with a non-AP MLD.

The EML Capabilities Present subfield is set to 1 if the EML Capabilities subfield is present in the Common Info field. Otherwise, the EML Capabilities Present subfield is set to 0. An AP affiliated with an NSTR mobile AP MLD sets this subfield to 0.

The MLD Capabilities And Operations Present subfield is set to 1 if the MLD Capabilities And Operations subfield is present in the Common Info field. Otherwise, the MLD Capabilities And Operations Present subfield is set to 0. The MLD Capabilities And Operations Present subfield is set to 1 when the Basic Multi-Link element is carried in Beacon, Probe Response, (Re)Association Request, (Re)Association Response, and Link Reconfiguration Response frames. The MLD Capabilities And Operations Present subfield is set to 0 when Basic Multi-Link element is included in other frames.

The AP MLD ID Present subfield is set to 1 if the AP MLD ID field is present in the Common Info field. Otherwise, the AP MLD ID Present subfield is set to 0. The AP MLD ID Present subfield is set to 0 when the Basic Multi-Link element is transmitted by a non-AP STA affiliated with a non-AP MLD. The AP MLD ID Present subfield is set to 0 when the Basic Multi-Link element is included in a Beacon frame, an (Re)Association Response frame, an Authentication frame, or a Probe Response frame that is not a multi-link probe response.

The Extended MLD Capabilities And Operations Present subfield is set to 1 if the Extended MLD Capabilities And Operations subfield is present in the Common Info field of the Basic Multi-Link element. Otherwise, the Extended MLD Capabilities And Operations Present subfield is set to 0. The Extended MLD Capabilities And Operations Present subfield is set to 1 when the Basic Multi-Link element is included in a Beacon, Probe Response, (Re)Association Request, (Re)Association Response, and Link Reconfiguration Response frames and at least one of the subfields carried within the Extended MLD Capabilities And Operations subfield of the Common Info field is set to a nonzero value. Otherwise, the Extended MLD Capabilities And Operations Present subfield is set to 0.

#### 9.4.2.322.2.3 Common Info field of the Basic Multi-Link element

The format of the Common Info field of the Basic Multi-Link element is defined in Figure 9-1074p.

The Common Info Length subfield indicates the number of octets in the Common Info field, including one octet for the Common Info Length subfield.

The MLD MAC Address subfield specifies the MAC Address of the MLD described by the Basic Multi-Link element.

![](498f471ee99b0291d7d56d79c757f7b8_img.jpg)

| Common Info Length | MLD MAC Address                 | Link ID Info | BSS Parameters Change Count              | Medium Synchronization Delay Information |
|--------------------|---------------------------------|--------------|------------------------------------------|------------------------------------------|
| Octets: 1          | 6                               | 0 or 1       | 0 or 1                                   | 0 or 2                                   |
| EML Capabilities   | MLD Capabilities And Operations | AP MLD ID    | Extended MLD Capabilities And Operations |                                          |
| Octets: 0 or 2     | 0 or 2                          | 0 or 1       | 0 or 2                                   |                                          |

**Figure 9-1074p—Common Info field of the Basic Multi-Link element format**

The format of the Link ID Info subfield is defined in 9.4.1.77. The Link ID subfield of the Link ID Info field indicates the link identifier of the AP that is affiliated with the AP MLD described in the Basic Multi-Link element and satisfies one of the following:

- It is the AP that transmitted the Basic Multi-Link element.
- It is the AP that corresponds to a nontransmitted BSSID that is a member of the same multiple BSSID set as the AP that transmitted the Multiple BSSID element containing the profile for the nontransmitted BSSID that includes the Basic Multi-Link element.

The Link ID Info subfield in the Common Info field is not present if the Basic Multi-Link element is sent by a non-AP STA.

The BSS Parameters Change Count subfield in the Common Info field carries an unsigned integer, initialized to 0. The value carried in the subfield is incremented by 1 (modulo 256 excluding the value 255) when a critical update (as defined in 11.2.3.14 and 35.3.10) occurs to the BSS parameters of the AP that is affiliated with an AP MLD described in the Basic Multi-Link element and satisfies one of the following:

- It is the AP that transmitted the Basic Multi-Link element.
- It is the AP that corresponds to a nontransmitted BSSID that is a member of the same multiple BSSID set as the AP that transmitted the Multiple BSSID element containing the profile for the nontransmitted BSSID that includes the Basic Multi-Link element.

The Link ID Info subfield and the BSS Parameters Change Count subfield are present in the Common Info field of the Basic Multi-Link element, when the element is carried in a Management frame transmitted by an AP, except for the Authentication frame.

When the Basic Multi-Link element is included in a frame sent by an AP, the condition for the presence of the Medium Synchronization Delay Information subfield in the Common Info field is defined in 35.3.16.8. The format of the Medium Synchronization Delay Information subfield is defined in Figure 9-1074q.

![](1e33cd126bfbb9cde5758bac43b888a8_img.jpg)

| B0                              | B7                                       | B8 | B11                                            | B12 | B15 |
|---------------------------------|------------------------------------------|----|------------------------------------------------|-----|-----|
| Medium Synchronization Duration | Medium Synchronization OFDM ED Threshold |    | Medium Synchronization Maximum Number Of TXOPs |     |     |
| Bits: 8                         | 4                                        |    | 4                                              |     |     |

**Figure 9-1074q—Medium Synchronization Delay Information subfield format**

The Medium Synchronization Duration subfield contains the duration value of the MediumSyncDelay timer in units of 32  $\mu$ s (see 35.3.16.8).

The Medium Synchronization OFDM ED Threshold subfield indicates the value of dot11MSDOFDMEDthreshold used by a STA during medium synchronization recovery and is defined in Table 9-417h.

**Table 9-417h—Medium Synchronization OFDM ED Threshold subfield**

| Subfield value | Description                                                                                                                             |
|----------------|-----------------------------------------------------------------------------------------------------------------------------------------|
| 0–10           | The dot11MSDOFDMEDthreshold value, in units of dBm, is $MSDOFDMED_{threshold} = -72 + F_{val}$ , where $F_{val}$ is the subfield value. |
| 11–15          | Reserved                                                                                                                                |

The Medium Synchronization Maximum Number Of TXOPs subfield contains the maximum number of TXOPs (dot11MSDTXOPMax) that a STA is allowed to attempt to initiate while the MediumSyncDelay timer is running at the STA minus 1, except that the value 15 indicates any number of TXOPs as long as the MediumSyncDelay timer is nonzero.

The condition for the presence of the EML Capabilities subfield in the Common Info field is defined in 35.3.17 and 35.3.18.

The format of the EML Capabilities subfield is defined in Figure 9-1074r. The EML Capabilities subfield contains a number of subfields that are used to advertise the capabilities for EMLSR operation and EMLMR operation.

![](e7c228adbaa4e1854275fa0bf2b7383c_img.jpg)

Figure 9-1074r illustrates the EML Capabilities subfield format, which spans 15 bits (B0 to B15). The bits are grouped into subfields:

| Bit Range | Subfield                     | Bit Count |
|-----------|------------------------------|-----------|
| B0        | EMLSR Support                | 1         |
| B1–B3     | EMLSR/EMLMR Padding Delay    | 3         |
| B4–B6     | EMLSR/EMLMR Transition Delay | 3         |
| B7        | EMLMR Support                | 1         |
| B8–B10    | Reserved                     | 3         |
| B11–B14   | Transition Timeout           | 4         |
| B15       | Reserved                     | 1         |

**Figure 9-1074r—EML Capabilities subfield format**

The EMLSR Support subfield indicates whether the MLD described in the Basic Multi-Link element supports EMLSR operation (see 35.3.17). The EMLSR Support subfield is set to 1 if the MLD supports the EMLSR operation; otherwise, it is set to 0. For a non-AP MLD, the EMLSR Support subfield is set to 0 if the EMLMR Support subfield is set to 1. When the EMLSR Support subfield is set to 1, the EMLSR/EMLMR Padding Delay subfield is the EMLSR Padding Delay subfield and the EMLSR/EMLMR Transition Delay subfield is the EMLSR Transition Delay subfield.

The EMLSR Padding Delay subfield indicates the minimum MAC padding duration of the initial Control frame requested by the non-AP MLD as defined in 35.5.2.2.3. When the EMLSR Padding Delay subfield is included in a frame sent by an AP affiliated with an AP MLD, the EMLSR Padding Delay subfield is reserved. The EMLSR Padding Delay subfield is set as defined in Table 9-417i.

**Table 9-417i—Encoding of the EMLSR Padding Delay subfield**

| EMLSR Padding Delay subfield value | EMLSR padding delay |
|------------------------------------|---------------------|
| 0                                  | 0 $\mu$ s           |
| 1                                  | 32 $\mu$ s          |
| 2                                  | 64 $\mu$ s          |
| 3                                  | 128 $\mu$ s         |
| 4                                  | 256 $\mu$ s         |
| 5–7                                | Reserved            |

The EMLSR Transition Delay subfield indicates the transition delay time needed by a non-AP MLD to switch from exchanging PPDU(s) on one of the enabled link(s) to the listening operation on the enabled link(s) (see 35.3.17). When the EMLSR Transition Delay subfield is included in a frame sent by an AP affiliated with an AP MLD, the EMLSR Transition Delay subfield is reserved. The EMLSR Transition Delay subfield when transmitted by a non-AP MLD is set as defined in Table 9-417j.

**Table 9-417j—Encoding of the EMLSR Transition Delay subfield**

| EMLSR Transition Delay subfield value | EMLSR transition delay |
|---------------------------------------|------------------------|
| 0                                     | 0 $\mu$ s              |
| 1                                     | 16 $\mu$ s             |
| 2                                     | 32 $\mu$ s             |
| 3                                     | 64 $\mu$ s             |
| 4                                     | 128 $\mu$ s            |
| 5                                     | 256 $\mu$ s            |
| 6–7                                   | Reserved               |

The EMLMR Support subfield indicates support of the EMLMR operation for an MLD (see 35.3.18). The EMLMR Support subfield is set to 1 if the MLD supports the EMLMR operation; otherwise, it is set to 0. For a non-AP MLD, the EMLMR Support subfield is set to 0 if the EMLSR Support subfield is set to 1. When the EMLMR Mode subfield is set to 1, the EMLSR/EMLMR Padding Delay subfield is the EMLMR Padding Delay subfield and the EMLSR/EMLMR Transition Delay subfield is the EMLMR Transition Delay subfield.

The EMLMR Padding Delay subfield indicates the minimum MAC padding duration of the initial frame requested by the non-AP MLD as defined in 35.5.2.2.3. When the EMLMR Padding Delay subfield is included in a frame sent by an AP affiliated with an AP MLD, the EMLMR Padding Delay subfield is reserved. The EMLSR Padding Delay subfield is set as defined in Table 9-417k.

**Table 9-417k—Encoding of the EMLMR Padding Delay subfield**

| EMLMR Padding Delay subfield value | EMLMR padding delay |
|------------------------------------|---------------------|
| 0                                  | 0 $\mu$ s           |
| 1                                  | 32 $\mu$ s          |
| 2                                  | 64 $\mu$ s          |
| 3                                  | 128 $\mu$ s         |
| 4                                  | 256 $\mu$ s         |
| 5–7                                | Reserved            |

The EMLMR Transition Delay subfield indicates the minimum delay required by a non-AP MLD to switch from exchanging frames on one of the EMLMR links to the listening operation on the EMLMR links when operating in EMLMR mode (see 35.3.18). When the EMLMR Transition Delay subfield is included in a frame sent by a non-AP STA affiliated with a non-AP MLD, the EMLMR Transition Delay subfield is set as defined in Table 9-417l. When the EMLMR Transition Delay subfield is included in a frame sent by an AP affiliated with an AP MLD, the EMLMR Delay subfield is reserved.

**Table 9-417l—Encoding of the EMLMR Transition Delay subfield**

| EMLMR Transition Delay subfield value | EMLMR transition delay |
|---------------------------------------|------------------------|
| 0                                     | 0 $\mu$ s              |
| 1                                     | 32 $\mu$ s             |
| 2                                     | 64 $\mu$ s             |
| 3                                     | 128 $\mu$ s            |
| 4                                     | 256 $\mu$ s            |
| 5–7                                   | Reserved               |

The Transition Timeout subfield indicates the timeout value for EML Operating Mode Notification frame exchange in EMLMR mode (see 35.3.18) and EMLSR mode (see 35.3.17).

When the Transition Timeout subfield is included in a frame sent by an AP affiliated with an AP MLD, the Transition Timeout subfield is set as defined in Table 9-417m. When the Transition Timeout subfield is included in a frame sent by a non-AP STA affiliated with a non-AP MLD, the Transition Timeout subfield is reserved.

Table 9-417m—Encoding of the Transition Timeout subfield

| Transition Timeout subfield value | Transition timeout |
|-----------------------------------|--------------------|
| 0                                 | 0 TUs              |
| 1                                 | 128 $\mu$ s        |
| 2                                 | 256 $\mu$ s        |
| 3                                 | 512 $\mu$ s        |
| 4                                 | 1 TU               |
| 5                                 | 2 TUs              |
| 6                                 | 4 TUs              |
| 7                                 | 8 TUs              |
| 8                                 | 16 TUs             |
| 9                                 | 32 TUs             |
| 10                                | 64 TUs             |
| 11–15                             | Reserved           |

The format of the MLD Capabilities And Operations subfield is defined in Figure 9-1074s.

![](16be81e01ad7b5241323d648972decf0_img.jpg)

|       | B0                                   | B3                                     | B4                                      | B5 | B6                                                  | B7 | B11 |
|-------|--------------------------------------|----------------------------------------|-----------------------------------------|----|-----------------------------------------------------|----|-----|
|       | Maximum Number Of Simultaneous Links | SRS Support                            | TID-To-Link Mapping Negotiation Support |    | Frequency Separation For STR/AP MLD Type Indication |    |     |
| Bits: | 4                                    | 1                                      | 2                                       |    | 5                                                   |    |     |
|       | B12                                  | B13                                    | B14                                     |    | B15                                                 |    |     |
|       | AAR Support                          | Link Reconfiguration Operation Support | Aligned TWT Support                     |    | Reserved                                            |    |     |
| Bits: | 1                                    | 1                                      | 1                                       |    | 1                                                   |    |     |

Figure 9-1074s—MLD Capabilities And Operations subfield format

The subfields of the MLD Capabilities And Operations subfield are defined in Table 9-417n.

Table 9-417n—Subfields of the MLD Capabilities And Operations subfield

| Subfield                                            | Definition                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Encoding                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|-----------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Maximum Number Of Simultaneous Links                | Indicates the maximum number of STAs affiliated with the MLD that support simultaneous transmission or reception of frames on the respective links.                                                                                                                                                                                                                                                                                                                                                                       | Set to a value between 0 and 14, which is the maximum number of affiliated STAs of the MLD that support simultaneous transmission or reception of frames minus 1.<br>The value 15 is reserved.<br>See 35.3.16.2 (MLD capability and operation signaling).                                                                                                                                                                                                                                                                                                                                                             |
| SRS Support                                         | Indicates support for the reception of a frame that carries an SRS Control subfield.                                                                                                                                                                                                                                                                                                                                                                                                                                      | For an AP MLD:<br>Set to 1 to indicate that the AP MLD, with which the AP is affiliated, is capable of receiving frames with an SRS Control subfield. Set to 0 otherwise.<br>For a non-AP MLD:<br>Set to 1 to indicate that a non-AP MLD, with which the non-AP STA is affiliated, is capable of receiving frames with an SRS Control subfield.<br>Set to 0 otherwise.<br>See 35.3.16.5 (PPDU end time alignment on an NSTR link pair).                                                                                                                                                                               |
| TID-To-Link Mapping Negotiation Support             | Indicates support for TTLM negotiation.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Set to 0 if dot11TIDtoLinkMappingActivated is false and TTLM negotiation is not supported by the MLD.<br>Set to 1 if dot11TIDtoLinkMappingActivated is true and the MLD only supports the mapping of all TIDs to the same link set, both for DL and UL.<br>The value 2 is reserved.<br>Set to 3 if dot11TIDtoLinkMappingActivated is true and the MLD supports the mapping of each TID to the same or different link set.<br>See NOTE.<br>(See 35.3.7.2.3)                                                                                                                                                            |
| Frequency Separation For STR/AP MLD Type Indication | <p>When transmitted by a non-AP STA affiliated with a non-AP MLD, the subfield is the Frequency Separation For STR subfield and it indicates the minimum frequency gap between any two links that is recommended by the non-AP MLD for STR operation. The frequency gap is specified as the difference between the nearest frequency edges of the two links.</p> <p>When transmitted by an AP affiliated with an AP MLD, the sub-field is the AP MLD Type Indication subfield and it indicates the type of an AP MLD.</p> | <p>Frequency Separation For STR:<br/>For a non-AP MLD:<br/>When set to a nonzero value <math>n</math>, the Frequency Separation For STR subfield indicates that the STR frequency gap is <math>(n - 1) \times 80</math> MHz. The value 0 indicates no frequency separation information is provided.</p> <p>AP MLD Type Indication:<br/>For an AP MLD:<br/>Set B0 of the AP MLD Type Indication subfield to 1 to indicate that the AP MLD is an NSTR mobile AP MLD; set to 0 otherwise.<br/>B1–B4 of the AP MLD Type Indication subfield are reserved.<br/>See 35.3.16.2 (MLD capability and operation signaling).</p> |

Table 9-417n—Subfields of the MLD Capabilities And Operations subfield (continued)

| Subfield                               | Definition                                                                                                                                                                                                       | Encoding                                                                                                                                                                                                                         |
|----------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| AAR Support                            | An AP MLD indicates support for receiving a frame with an AAR Control subfield                                                                                                                                   | If the +HTC-HE Support subfield is 1:<br>Set to 1 if the AP MLD supports the AAR Control subfield functionality.<br>Set to 0 otherwise.<br>Reserved for non-AP MLD or if the +HTC-HE Support subfield is 0.<br>See 35.3.16.8.3.  |
| Link Reconfiguration Operation Support | Indicates support for ML reconfiguration operations for adding a link and deleting a link to the ML setup of a non-AP MLD and support for recommendation for ML reconfiguration to the ML setup of a non-AP MLD. | Set to 1 if dot11EHTLinkReconfigurationOperationActivated equal to true.<br>Set to 0 otherwise.<br>See 35.3.6.4.                                                                                                                 |
| Aligned TWT Support                    | Indicates support for an alignment or nonalignment of the TWTs across more than one link                                                                                                                         | For an MLD:<br>Set to 1 to indicate that an MLD with which the STA is affiliated is capable of receiving a TWT setup frame that requests an alignment or nonalignment of the TWTs across more than one link. Set to 0 otherwise. |

NOTE—Indicating support for TLLM negotiation by setting the TID-To-Link Mapping Negotiation Support subfield to a nonzero value also indicates support for negotiations applicable to values smaller than the indicated value (for instance, value 3 indicates support for value 3, 1, and 0).

The AP MLD ID subfield indicates the identifier of the AP MLD whose MLD information is carried in the Basic Multi-Link element. The condition for the presence of the AP MLD ID subfield in a multi-link probe response is defined in 35.3.4.2.

The format of the Extended MLD Capabilities And Operations subfield is defined in Figure 9-1074t.

![](debef7c99b0adbf8610bec37541ad508_img.jpg)

|       | B0                                 | B1                                 | B4                         | B5                                    | B6                                              | B7       | B8 | B15 |
|-------|------------------------------------|------------------------------------|----------------------------|---------------------------------------|-------------------------------------------------|----------|----|-----|
|       | Operation Parameter Update Support | Recommended Max Simultaneous Links | NSTR Status Update Support | ENL SR Enablement On One Link Support | BTM MLD Recommendation For Multiple APs Support | Reserved |    |     |
| Bits: | 1                                  | 4                                  | 1                          | 1                                     | 1                                               | 1        | 8  |     |

Figure 9-1074t—Extended MLD Capabilities And Operations subfield format

The subfields of the Extended MLD Capabilities And Operations subfield are defined in Table 9-417o.

**Table 9-417o—Subfields of the Extended MLD Capabilities And Operations subfield**

| Subfield                                        | Definition                                                                                                                                                                                                                                     | Encoding                                                                                                                                                                                                                                                                                                                                                 |
|-------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Operation Parameter Update Support              | Indicates support of operation parameter update negotiation.                                                                                                                                                                                   | Set to 1 if dot11OperationParameterUpdateImplemented is true.<br>Set to 0 otherwise.<br>See 35.3.6.6.                                                                                                                                                                                                                                                    |
| Recommended Max Simultaneous Links              | Recommended maximum number of enabled links that a non-AP MLD can operate on for simultaneous frame exchanges.                                                                                                                                 | Reserved when carried in a frame that is not a Beacon frame or a broadcast Probe Response frame.<br>Indicates the recommended maximum number of enabled links on which a non-AP MLD can operate on for simultaneous frame exchanges. A value of 0 indicates that the AP MLD does not advertise any such limit. The value 1 is reserved.<br>See 35.3.7.1. |
| NSTR Status Update Report                       | Indicates support of NSTR status update procedure.                                                                                                                                                                                             | Set to 1 if dot11NSTRStatusUpdateImplemented is true.<br>Set to 0 otherwise.<br>See 35.3.16.2.                                                                                                                                                                                                                                                           |
| EMLSR Enablement On One Link Support            | Indicates that an AP MLD supports the enablement of the EMLSR operation with a single bit position of the EMLSR Link Bitmap subfield of the EML Operating Mode Notification frame set to 1.                                                    | For an AP MLD:<br>Set to 1 if dot11EHTEMLSREnablementOnOneLinkImplemented is true.<br>Set to 0 otherwise.<br>For a non-AP MLD:<br>Reserved.                                                                                                                                                                                                              |
| BTM MLD Recommendation For Multiple APs Support | Indicates whether or not a non-AP MLD supports receiving a BTM Request frame with a Neighbor Report element with a Basic Multi-Link element that includes one or more Per STA Profile subelement(s) providing recommended links for an AP MLD. | For a non-AP MLD:<br>Set to 1 if dot11EHTBTMMLDRRecommendationForMultipleAPsImplemented is true.<br>Set to 0 otherwise.<br>For an AP MLD:<br>Reserved                                                                                                                                                                                                    |

#### 9.4.2.322.2.4 Link Info field of the Basic Multi-Link element

If the Link Info field is present, it consists of one or more Per-STA Profile subelements along with other optional subelements in Table 9-417g.

The format of the Per-STA Profile subelement is defined in Figure 9-1074u.

![](5c733939d7c666a7f15132677c396069_img.jpg)

|         | Subelement ID | Length | STA Control | STA Info | STA Profile |
|---------|---------------|--------|-------------|----------|-------------|
| Octets: | 1             | 1      | 2           | variable | variable    |

**Figure 9-1074u—Per-STA Profile subelement format of the Basic Multi-Link element**

The format of the STA Control field is defined in Figure 9-1074v.

![](632d97ab47f293569eae4af18cea4017_img.jpg)

|       | B0      | B3               | B4                      | B5                      | B6                 | B7                | B8                    | B9               | B10                                 | B11      | B12 | B15 |
|-------|---------|------------------|-------------------------|-------------------------|--------------------|-------------------|-----------------------|------------------|-------------------------------------|----------|-----|-----|
|       | Link ID | Complete Profile | STA MAC Address Present | Beacon Interval Present | TSF Offset Present | DTIM Info Present | NSTR LinkPair Present | NSTR Bitmap Size | BSS Parameters Change Count Present | Reserved |     |     |
| Bits: | 4       | 1                | 1                       | 1                       | 1                  | 1                 | 1                     | 1                | 1                                   | 1        | 4   |     |

**Figure 9-1074v—STA Control field format of the Basic Multi-Link element**

The Link ID subfield is as defined in 9.4.1.77 and specifies a value that uniquely identifies the link where the reported STA is operating on (see 35.3.3.2).

The Complete Profile subfield is set to 1 when the Per-STA Profile subelement of the Multi-Link element carries the complete profile as defined in 35.3.3.3. Otherwise, the subfield is set to 0.

The STA MAC Address Present subfield indicates the presence of the STA MAC Address subfield in the STA Info field and is set to 1 if the STA MAC Address subfield is present in the STA Info field; and otherwise, it is set to 0. A STA sets the STA MAC Address subfield to 1 when the element carries a complete profile.

The Beacon Interval Present subfield indicates the presence of the Beacon Interval subfield in the STA Info field and is set to 1 if the Beacon Interval subfield is present in the STA Info field; and otherwise, it is set to 0. A non-AP STA sets the Beacon Interval Present subfield to 0 in the transmitted Basic Multi-Link element. An AP affiliated with an AP MLD that is not an NSTR mobile AP MLD sets this subfield to 1 when the element carries a complete profile. The AP affiliated with an NSTR mobile AP MLD operating on the primary link sets this subfield to 0 in the Per-STA Profile subelement corresponding to the AP affiliated with the same NSTR mobile AP MLD that is operating on the nonprimary link.

The TSF Offset Present subfield is set to 1 if the TSF Offset subfield is present in the STA Info field; and otherwise, the TSF Offset Present subfield is set to 0. A non-AP STA sets the TSF Offset Present subfield to 0 in the transmitted Basic Multi-Link element. An AP affiliated with an NSTR Mobile AP MLD sets this subfield to 0. An AP affiliated with an AP MLD that is not an NSTR Mobile AP MLD sets this subfield to 1 when the element carries a complete profile.

The DTIM Info Present subfield indicates the presence of the DTIM Info subfield in the STA Info field and is set to 1 if the DTIM Info subfield is present in the STA Info field; and otherwise, it is set to 0. A non-AP

STA sets the DTIM Info Present subfield to 0 in the transmitted Basic Multi-Link element. An AP affiliated with an AP MLD that is not an NSTR mobile AP MLD sets this subfield to 1 when the element carries a complete profile. The AP affiliated with an NSTR mobile AP MLD operating on the primary link sets this subfield to 0 in the Per-STA Profile subelement corresponding to the AP affiliated with the same NSTR mobile AP MLD that is operating on the nonprimary link.

If the value of the Maximum Number Of Simultaneous Links subfield in the MLD Capabilities And Operations subfield is greater than 0, the NSTR Link Pair Present subfield in the STA Control field indicates if at least one NSTR link pair is present in the MLD that contains the link corresponding to that STA. It is set to 1 if there is at least one NSTR link pair; and otherwise, it is set to 0.

If the Complete Profile subfield is equal to 1 and the NSTR Link Pair Present subfield is equal to 1 in the STA Control field, then the STA Info field contains an NSTR Indication Bitmap subfield whose size is indicated in the NSTR Bitmap Size subfield; otherwise, the NSTR Indication Bitmap subfield is not present in the STA Info field. The NSTR Bitmap Size subfield in a STA Control field is set to 1 if the length of the corresponding NSTR Indication Bitmap subfield is equal to 2 octets and is set to 0 if the length of the corresponding NSTR Indication Bitmap subfield is equal to 1 octet. The NSTR Bitmap Size subfield in the STA Control field is reserved if the NSTR Link Pair Present subfield in that field is 0. The NSTR Link Pair Present subfield is set to 0 if the Complete Profile subfield is equal to 0.

The BSS Parameters Change Count Present subfield indicates the presence of the BSS Parameters Change Count subfield in the STA Info field. It is set to 1 if the BSS Parameters Change Count subfield is present in the STA Info field. Otherwise, it is set to 0. A non-AP STA sets this subfield to 0 in the Basic Multi-Link element that it transmits. An AP sets this subfield to 1 in the Basic Multi-Link element carried in a (Re)Association Response frame and sets it to 0 in other frames.

The format of the STA Info field is defined in Figure 9-1074w.

![](f12a74beeb36d08475e98f1de72ce2e8_img.jpg)

|         | STA Info Length | STA MAC Address | Beacon Interval | TSF Offset | DTIM Info | NSTR Indication Bitmap | BSS Parameters Change Count |
|---------|-----------------|-----------------|-----------------|------------|-----------|------------------------|-----------------------------|
| Octets: | 1               | 0 or 6          | 0 or 2          | 0 or 8     | 0 or 2    | 0 or 1 or 2            | 0 or 1                      |

Figure 9-1074w—STA Info field format of the Basic Multi-Link element

The STA Info Length subfield indicates the number of octets in the STA Info field, including one octet for the STA Info Length subfield.

The STA MAC Address subfield of the STA Info field carries the MAC address of the STA that operates on the link identified by the Link ID subfield and is affiliated with the same MLD as the STA that transmits the Basic Multi-Link element.

The Beacon Interval subfield of the STA Info field is defined in 9.4.1.3 (Beacon Interval field) and carries the beacon interval for the reported AP.

The TSF Offset subfield of the STA Info field indicates the offset ( $T_{offset}$ ) between the TSF timer of the reported AP ( $T_A$ ) and the TSF timer of the reporting AP ( $T_B$ ) and is encoded as a 2s complement signed integer with units of 2  $\mu$ s.  $T_{offset}$  is calculated as  $T_{offset} = \lfloor (T_A - T_B)/2 \rfloor$ .

The DTIM Info subfield of the STA Info field has the format as defined in Figure 9-1074x.

The DTIM Count subfield and the DTIM Period subfield carry the DTIM count and DTIM period, respectively, for the reported AP. If the reported AP does not correspond to a nontransmitted BSSID the

![](f98b8b65a6505cd0ebb9853edb1ee1bd_img.jpg)

| DTIM Count | DTIM Period |
|------------|-------------|
| Octets: 1  | 1           |

**Figure 9-1074x—DTIM Info subfield format**

subfields are as defined in 9.4.2.5. If the reported AP corresponds to a nontransmitted BSSID the subfields are as defined in 9.4.2.72.

Each bit  $B_j$  ( $j \neq i$ ) in the NSTR Indication Bitmap subfield included in the Per-STA Profile subelement with Link ID subfield equal to  $i$  (where  $0 \le i < 15$ ) is set to 1 if the link pair corresponding to Link IDs equal to  $\langle i, j \rangle$  forms an NSTR link pair where  $j$  is the link ID of the STA on which a STA affiliated with the same MLD as the reported STA is operating on; otherwise, the bit  $B_j$  is set to 0. Bit  $B_i$  in the NSTR Indication Bitmap subfield included in the Per-STA Profile subelement with Link ID subfield value equal to  $i$  is reserved.

The BSS Parameters Change Count subfield of the STA Info field is defined in 9.4.2.169.2 and carries the most recent BSS parameters change count corresponding to the reported AP.

The contents of the STA Profile field are determined based on whether the Per-STA Profile subelement carries complete or partial profile. When carrying partial profile, the contents of the STA Profile field are determined based on conditions in 35.3.4.2 or 35.3.11. When carrying a complete profile, the contents of the STA Profile field are subject to the rules defined in 35.3.3.3.

Zero or more Vendor Specific subelements are included in the Link Info field (see Table 9-417g). The Vendor Specific subelements have the same format as their corresponding elements (see 9.4.2.24).

#### 9.4.2.322.3 Probe Request Multi-Link element

The Probe Request Multi-Link element is used to request an AP to provide information of the APs affiliated with an AP MLD. The inclusion of a Probe Request Multi-Link element in a Probe Request frame identifies it as a multi-link probe request (see 35.3.4).

The format of the Presence Bitmap subfield of the Multi-Link Control field in a Probe Request Multi-Link element is defined in Figure 9-1074y.

![](935bc3723f779be8d5414c47959a63eb_img.jpg)

|       | B0                | B1                      | B2       | B11 |
|-------|-------------------|-------------------------|----------|-----|
|       | AP MLD ID Present | MLD MAC Address Present | Reserved |     |
| Bits: | 1                 | 1                       | 10       |     |

**Figure 9-1074y—Presence Bitmap field format of the Probe Request Multi-Link element**

The AP MLD ID Present subfield is set to 1 if the AP MLD ID subfield is present in the Common Info field. Otherwise, the AP MLD ID Present subfield is set to 0.

The MLD MAC Address Present subfield is set to 1 if the MLD MAC Address subfield is present in the Common Info field. Otherwise, the MLD MAC Address Present subfield is set to 0.

The format of the Common Info field of the Probe Request Multi-Link element is defined in Figure 9-1074z.

![](81836d793f255d5aad78f4abd678604c_img.jpg)

|         | Common Info Length | AP MLD ID | MLD MAC Address |
|---------|--------------------|-----------|-----------------|
| Octets: | 1                  | 0 or 1    | 0 or 6          |

**Figure 9-1074z—Common Info field format of the Probe Request Multi-Link element**

The Common Info Length subfield indicates the number of octets in the Common Info field, including the one octet for the Common Info Length subfield.

The AP MLD ID subfield, if present, indicates the identifier of the AP MLD that is targeted by the multi-link probe request, as described in 35.3.4.2.

The MLD MAC Address subfield, if present, includes an IRM for the purpose of identifying the non-AP MLD by the AP MLD in the ESS via the multi-link probe request, as described in 35.3.4.2.

If the Link Info field is present (see 35.3.4.2), then one or more Per-STA Profile subelements are included (see Table 9-417g).

NOTE—The absence of the Link Info field indicates that information is requested for all APs affiliated with the target AP MLD (see 35.3.4.2).

The format of the Per-STA Profile subelement is defined in Figure 9-1074aa.

![](f7a2531dbf9021f33fa08c386bf90ba4_img.jpg)

|         | Subelement ID | Length | STA Control | STA Profile |
|---------|---------------|--------|-------------|-------------|
| Octets: | 1             | 1      | 2           | variable    |

**Figure 9-1074aa—Per-STA Profile subelement format of the Probe Request Multi-Link element**

The format of the STA Control field is defined in Figure 9-1074ab.

![](5628c91867929b2e79629ed3b88ff443_img.jpg)

|       | B0      | B3                         | B4 | B5       | B15 |
|-------|---------|----------------------------|----|----------|-----|
| Bits: | Link ID | Complete Profile Requested |    | Reserved |     |
|       | 4       | 1                          |    | 11       |     |

**Figure 9-1074ab—STA Control field format of the Probe Request Multi-Link element**

The Link ID subfield is as defined in 9.4.1.77 and specifies a value that uniquely identifies the AP whose information is requested.

The Complete Profile Requested subfield is set to 1 when a complete profile of the AP identified by the Link ID subfield is requested as defined in 35.3.4.2. Otherwise, the Complete Profile Requested subfield is set to 0.

If the Complete Profile Requested subfield is set to 0 and the STA Profile field is present in a Per-STA Profile subelement as described in 35.3.4.2 and 35.3.3.5.2, the STA Profile field includes exactly one of the following:

- One Request element (see 9.4.2.8), or
- One Extended Request element (see 9.4.2.9), or
- One Request element and one Extended Request element

If the Complete Profile subfield is set to 0, and if the STA Profile field is not present, the (Extended) Request element for this AP is inherited from the (Extended) Request element included in the Probe Request frame outside the Probe Request Multi-Link element (also see 35.3.4.2 and 35.3.3.5.2).

If the Complete Profile Requested subfield is set to 1, the STA Profile field is not present in a Per-STA Profile subelement.

#### 9.4.2.322.4 Reconfiguration Multi-Link element

The Reconfiguration Multi-Link element is used to announce an ML reconfiguration operation (see 35.3.6) by the AP MLD (see 35.3.6.2 and 35.3.6.3). This element is also used to initiate ML reconfiguration operation for adding or deleting links to its existing ML setup by the non-AP MLD (see 35.3.6.4) and to provide recommendation for ML reconfiguration by the AP MLD to its associated non-AP MLD(s) (see 35.3.6.5).

The format of the Presence Bitmap subfield of the Multi-Link Control field in a Reconfiguration Multi-Link element is defined in Figure 9-1074ac.

![](d68ec722534bfb840aa063756c2032fa_img.jpg)

|       | B0                      | B1                       | B2                                      | B3                                               | B4       | B11 |
|-------|-------------------------|--------------------------|-----------------------------------------|--------------------------------------------------|----------|-----|
|       | MLD MAC Address Present | EML Capabilities Present | MLD Capabilities And Operations Present | Extended MLD Capabilities And Operations Present | Reserved |     |
| Bits: | 1                       | 1                        | 1                                       | 1                                                | 8        |     |

Figure 9-1074ac—Presence Bitmap subfield format of the Reconfiguration Multi-Link element

The MLD MAC Address Present subfield is set to 1 if the MLD MAC Address field is present in the Common Info field. Otherwise, the subfield is set to 0.

The EML Capabilities Present subfield is set to 1 if the EML Capabilities subfield is present in the Common Info field. Otherwise, the EML Capabilities Present subfield is set to 0.

The MLD Capabilities And Operations Present subfield is set to 1 if the MLD Capabilities And Operations subfield is present in the Common Info field. Otherwise, the MLD Capabilities And Operations Present subfield is set to 0.

The Extended MLD Capabilities And Operations Present subfield is set to 1 if the Extended MLD Capabilities And Operations subfield is present in the Common Info field. Otherwise, the Extended MLD Capabilities And Operations Present subfield is set to 0.

The format of the Common Info field of the Reconfiguration Multi-Link element is defined in Figure 9-1074ad.

|        | Common Info Length | MLD MAC Address | EML Capabilities | MLD Capabilities And Operations | Extended MLD Capabilities And Operations |
|--------|--------------------|-----------------|------------------|---------------------------------|------------------------------------------|
| Ocets: | 1                  | 0 or 6          | 0 or 2           | 0 or 2                          | 0 or 2                                   |

Figure 9-1074ad—Common Info field format of the Reconfiguration Multi-Link element

The Common Info Length subfield indicates the number of octets in the Common Info field, including one octet for the Common Info Length subfield.

The MLD MAC Address subfield specifies the MAC Address of the MLD described by the Reconfiguration Multi-Link element.

The EML Capabilities subfield has the same definition as the EML Capabilities subfield of the Common Info field of the Basic Multi-Link element (see Figure 9-1074r).

The MLD Capabilities And Operations subfield has the same definition as the MLD Capabilities And Operations subfield of the Common Info field of the Basic Multi-Link element (see Figure 9-1074s).

The Extended MLD Capabilities And Operations subfield has the same definition as the Extended MLD Capabilities And Operations subfield of the Common Info field of the Basic Multi-Link element (see Figure 9-1074t).

One or more Per-STA Profile subelements are included in the Link Info field (see Table 9-417g).

Each Per-STA Profile subelement includes a STA Control field, followed by a variable number of fields and elements, as defined in Figure 9-1074ae.

![](a3175beb00ace8d65c5cf85530aa7ca2_img.jpg)

|         | Subelement ID | Length | STA Control | STA Info | STA Profile |
|---------|---------------|--------|-------------|----------|-------------|
| Octets: | 1             | 1      | 2           | variable | variable    |

Figure 9-1074ae—Per-STA Profile subelement format for the Reconfiguration Multi-Link element

The format of the STA Control field is defined in Figure 9-1074af.

![](03e45747a2e51325a4124b0ce9c26aaa_img.jpg)

|       | B0                           | B3               | B4                             | B5                       | B6                             | B7 | B10 |
|-------|------------------------------|------------------|--------------------------------|--------------------------|--------------------------------|----|-----|
| Bits: | 4                            | 1                | 1                              | 1                        | 1                              | 4  |     |
|       | Link ID                      | Complete Profile | STA MAC Address Present        | AP Removal Timer Present | Reconfiguration Operation Type |    |     |
|       | B11                          | B12              | B13                            | B14                      | B15                            |    |     |
| Bits: | 1                            | 1                | 1                              | 2                        |                                |    |     |
|       | Operation Parameters Present | NSTR Bitmap Size | NSTR Indication Bitmap Present | Reserved                 |                                |    |     |

Figure 9-1074af—STA Control field format for the Reconfiguration Multi-Link element

The Link ID subfield is as defined in 9.4.1.77. In a Reconfiguration Multi-Link element transmitted by an AP MLD, the Link ID subfield specifies a value that uniquely identifies the link that the reported AP is operating on. In a Reconfiguration Multi-Link element transmitted by a non-AP MLD, the Link ID subfield specifies the link for which a reconfiguration operation is indicated.

The Complete Profile subfield is set to 1 when the Per-STA Profile subelement carries the complete profile as defined in 35.3.6.4, otherwise, this subfield is set to 0.

The STA MAC Address Present subfield indicates the presence of the STA MAC Address subfield in the STA Info field and is set to 1 if the STA MAC Address subfield is present in the STA Info field; otherwise, the STA MAC Address Present subfield is set to 0.

The AP Removal Timer Present subfield is set to 1 to indicate the presence of the AP Removal Timer subfield in the STA Info field, otherwise, it is set to 0.

The Reconfiguration Operation Type subfield is set to indicate the type of MLO update for the link indicated by the Link ID subfield as per Table 9-417p.

**Table 9-417p—Reconfiguration Operation Type subfield encoding**

| Value | Name                       |
|-------|----------------------------|
| 0     | AP Removal                 |
| 1     | Operation Parameter Update |
| 2     | Add Link                   |
| 3     | Delete Link                |
| 4     | NSTR Status Update         |
| 5–15  | Reserved                   |

The Operation Parameters Present subfield is set to 1 to indicate the presence of the Operation Parameters subfield in the STA Info field; and otherwise, it is set to 0.

The NSTR Indication Bitmap Present subfield in the STA Control field is set to 1 if at least one NSTR link pair is present for the non-AP MLD that contains the link corresponding to the Link ID, otherwise, this subfield is set to 0.

If the NSTR Indication Bitmap Present subfield is equal to 1 in the STA Control field, then the STA Info field contains an NSTR Indication Bitmap subfield whose size is indicated in the NSTR Bitmap Size subfield; otherwise, the NSTR Indication Bitmap subfield is not present in the STA Info field. The NSTR Bitmap Size subfield indicates the size of the NSTR Indication Bitmap subfield (if present) in the STA Info field and is set to 1 if the length of the corresponding NSTR Indication Bitmap subfield is equal to 2 octets and is set to 0 if the length of the corresponding NSTR Indication Bitmap subfield is equal to 1 octet. The NSTR Bitmap Size subfield in the STA Control field is reserved if the NSTR Indication Bitmap Present subfield is equal to 0.

The STA Info field consists of fields whose presence is indicated by the subfields of the STA Control field.

The format of the STA Info field is defined in Figure 9-1074ag.

![](3867e3180238b5e2380ea056fccd33dc_img.jpg)

|         | STA Info Length | STA MAC Address | AP Removal Timer | Operation Parameters | NSTR Indication Bitmap |
|---------|-----------------|-----------------|------------------|----------------------|------------------------|
| Octets: | 1               | 0 or 6          | 0 or 2           | 0 or 3               | 0 or 1 or 2            |

**Figure 9-1074ag—STA Info field format for the Reconfiguration Multi-Link element**

The STA Info Length subfield indicates the number of octets in the STA Info field, including one octet for the STA Info Length subfield.

The STA MAC Address subfield of the STA Info field carries the MAC address of the STA that operates on or can operate on the link identified by the Link ID subfield and is affiliated with the same MLD as the STA that transmitted the Reconfiguration Multi-Link element.

The AP Removal Timer subfield indicates the number of TBTTs of the AP corresponding to the Per-STA Profile subelement until the AP is removed. Value 1 for this subfield indicates that the AP removal occurs at the next TBTT. Value 0 is reserved for this subfield. At the TBTT indicated by the AP Removal Timer subfield, the AP MLD follows the procedures defined in 35.3.6.3 to remove the affiliated AP.

NOTE—In an NSTR mobile AP MLD, the TSF timer of the AP operating on the nonprimary link is the same as the AP operating on the primary link and only the AP on the primary link is transmitting beacons (see 35.3.19), so the AP Removal Timer subfield indicates the number of TBTTs corresponding to the AP operating on the primary link until the AP specified in the Per-STA Profile subelement is removed.

The Operation Parameters subfield is defined in Figure 9-1074ah.

![](84936640632796a196b2f7ba28b1d7af_img.jpg)

| Presence Indication | Operation Parameter Info |
|---------------------|--------------------------|
| Octets: 1           | 2                        |

Figure 9-1074ah—Operation Parameters subfield format

The Presence Indication subfield in the Operation Parameters subfield is defined in Figure 9-1074ai.

![](6b44964dfda1e56bf9c9f77eb3dcc445_img.jpg)

| B0                          | B1                            | B2       | B7 |
|-----------------------------|-------------------------------|----------|----|
| Maximum MPDU Length Present | Maximum A-MSDU Length Present | Reserved |    |
| Bits: 1                     | 1                             | 6        |    |

Figure 9-1074ai—Presence Indication subfield format

The Maximum MPDU Length Present subfield is set to 1 if the Maximum MPDU Length subfield is present in the Operation Parameter Info subfield. Otherwise, the Maximum MPDU Length Present subfield is set to 0.

The Maximum A-MSDU Length Present subfield is set to 1 if the Maximum A-MSDU Length subfield is present in the Operation Parameter Info subfield. Otherwise, the Maximum A-MSDU Length Present subfield is set to 0.

The Operation Parameter Info subfield contains operation parameters to be updated and is shown in Figure 9-1074aj.

![](fdc8ff094c9574a15f4b47546095f9c5_img.jpg)

| Maximum MPDU Length | Maximum A-MSDU Length | Pad      |
|---------------------|-----------------------|----------|
| Bits: 0 or 2        | 0 or 1                | Variable |

Figure 9-1074aj—Operation Parameter Info subfield format

The Maximum MPDU Length subfield is defined in Table 9-313.

The Maximum A-MSDU Length subfield is defined in Table 9-224.

The Pad subfield is set to 0. The number of bits in the Pad subfield is the number of bits required to make the length of the Operation Parameter Info subfield 2 octets.

The NSTR Indication Bitmap subfield indicates NSTR link pairs for the non-AP MLD. Each bit  $B_j$  ( $j \neq i$ ) in the NSTR Indication Bitmap subfield included in the Per-STA Profile subelement with Link ID subfield equal to  $i$  (where  $0 \le i < 15$ ) is set to 1 if the link pair corresponding to link IDs equal to  $<i, j>$  is an NSTR link pair; otherwise, bit  $B_j$  is set to 0. Bit  $B_i$  in the NSTR Indication Bitmap subfield included in the Per-STA Profile subelement with Link ID subfield value equal to  $i$  is reserved. The NSTR Indication Bitmap subfield is not included in the Reconfiguration Multi-Link element transmitted by an AP MLD.

If the Complete Profile subfield is set to 1, the STA Profile field includes the complete profile for the STA identified by the STA MAC Address as defined in 35.3.6.4. If the Complete Profile subfield is set to 0, the STA Profile field is not included.

The Vendor Specific subelements have the same format as their corresponding elements (see 9.4.2.24). Zero or more Vendor Specific subelements are included in the list of optional subelements in the Link Info field.

#### 9.4.2.322.5 TDLS Multi-Link element

The usage of the TDLS Multi-Link element is described in 35.3.2.1.

The Presence Bitmap subfield of the Multi-Link Control field is reserved in a TDLS Multi-Link element.

The format of the Common Info field of the TDLS Multi-Link element is defined in Figure 9-1074ak.

![](f264473720d9681a279140f83772f8f8_img.jpg)

| Common Info Length | AP MLD MAC Address |
|--------------------|--------------------|
| 1                  | 6                  |

Figure 9-1074ak—Format of the Common Info field of the TDLS Multi-Link element

The Common Info Length subfield indicates the number of octets in the Common Info field, including one octet for the Common Info Length subfield.

The AP MLD MAC Address subfield carries the MAC address of the AP MLD with which the non-AP MLD, affiliated with the transmitting STA, has performed ML setup.

The Link Info field is not present in a TDLS Multi-Link element.

#### 9.4.2.322.6 EPCS Priority Access Multi-Link element

The EPCS Priority Access Multi-Link element carries EDCA parameter sets used by EPCS priority access (see 35.16).

The Presence Bitmap subfield of the Multi-Link Control field is reserved in the EPCS Priority Access Multi-Link element.

The format of the Common Info field of the EPCS Priority Access Multi-Link element is defined in Figure 9-1074al.

The Common Info Length subfield indicates the number of octets in the Common Info field, including one octet for the Common Info Length subfield.

![](14a33da3c00f85320c581f205f97e257_img.jpg)

| Common Info Length | AP MLD MAC Address |
|--------------------|--------------------|
| Octets: 1          | 6                  |

**Figure 9-1074aI—Common Info field of the EPCS Priority Access Multi-Link element format**

The AP MLD MAC Address subfield specifies the MAC Address of the AP MLD described by the EPCS Priority Access Multi-Link element.

One or more Per-STA Profile subelements are included in the Link Info field (see Table 9-417g).

Each Per-STA Profile subelement includes a STA Control field, followed by a variable number of fields and elements.

The format of the Per-STA Profile subelement is defined in Figure 9-1074am.

![](7c320c137b880b30ff882c610c458aa1_img.jpg)

| Subelement ID | Length | STA Control | STA Profile |
|---------------|--------|-------------|-------------|
| Octets: 1     | 1      | 2           | variable    |

**Figure 9-1074am—Per-STA Profile subelement format for the EPCS Priority Access Multi-Link element**

The format of the STA Control field is defined in Figure 9-1074an.

![](6213e18956ed14b92b70ac60ec280513_img.jpg)

| B0      | B3       | B4 | B15 |
|---------|----------|----|-----|
| Link ID | Reserved |    |     |
| Bits: 4 | 12       |    |     |

**Figure 9-1074an—STA Control field format for the EPCS Priority Access Multi-Link element**

The Link ID subfield is as defined in 9.4.1.77 and specifies a value that uniquely identifies the link that the AP affiliated with the AP MLD is operating on.

The STA Profile subfield optionally (see 35.16 for conditions) contains one or both of the following two elements:

- One EDCA Parameter Set element (see 9.4.2.27) to indicate the EDCA parameter information used for priority access on the link identified by the Link ID in the STA Control field, and
- One MU EDCA Parameter Set element (see 9.4.2.250) to indicate the MU EDCA parameter information used for MU priority access on the link identified by the Link ID in the STA Control field.

Zero or more Vendor Specific subelements are included in the Link Info field (see Table 9-417g). The Vendor Specific subelements have the same format as their corresponding elements (see 9.4.2.24).

### 9.4.2.323 EHT Capabilities element

#### 9.4.2.323.1 General

A STA declares that it is an EHT STA by transmitting the EHT Capabilities element.

The EHT Capabilities element contains a number of fields that are used to advertise the EHT capabilities of an EHT STA. The EHT Capabilities element is defined in Figure 9-1074ao.

![](daf493499797230f37791696e995569f_img.jpg)

|         | Element ID | Length | Element ID Extension | EHT MAC Capabilities Information | EHT PHY Capabilities Information | Supported EHT-MCS And NSS Set | EHT PPE Thresholds (Optional) |
|---------|------------|--------|----------------------|----------------------------------|----------------------------------|-------------------------------|-------------------------------|
| Octets: | 1          | 1      | 1                    | 2                                | 9                                | variable                      | variable                      |

**Figure 9-1074ao—EHT Capabilities element format**

The Element ID, Length, and Element ID Extension fields are defined in 9.4.2.1.

The EHT MAC Capabilities Information, EHT PHY Capabilities Information, Supported EHT-MCS And NSS Set, and EHT PPE Thresholds fields are defined in the subclauses below.

#### 9.4.2.323.2 EHT MAC Capabilities Information field

The format of the EHT MAC Capabilities Information field is defined in Figure 9-1074ap.

![](9a2367287d57e935dd171833836b6347_img.jpg)

|       | B0  | B1  | B2  | B3  | B4  |     |
|-------|-----|-----|-----|-----|-----|-----|
| Bits: | 1   | 1   | 1   | 1   | 1   |     |
|       | B5  | B6  | B7  | B8  | B9  | B10 |
| Bits: | 1   | 2   | 1   | 1   | 1   |     |
|       | B11 | B12 | B13 | B14 | B15 |     |
| Bits: | 1   | 2   | 1   | 1   |     |     |

|       | EPCS Priority Access Support | EHT OM Control Support | TXS Mode 1 Support | TXS Mode 2 Support | Restricted TWT Support |
|-------|------------------------------|------------------------|--------------------|--------------------|------------------------|
| Bits: | 1                            | 1                      | 1                  | 1                  | 1                      |

|       | SCS Traffic Description Support | Maximum MPDU Length | Maximum A-MPDU Length Exponent Extension | EHT TRS Support | TXOP Return Support In TXS Mode 2 |
|-------|---------------------------------|---------------------|------------------------------------------|-----------------|-----------------------------------|
| Bits: | 1                               | 2                   | 1                                        | 1               | 1                                 |

|       | Two BQRs Support | EHT Link Adaptation Support | Unsolicited EPCS Priority Access Parameter Update | Reserved |
|-------|------------------|-----------------------------|---------------------------------------------------|----------|
| Bits: | 1                | 2                           | 1                                                 | 1        |

**Figure 9-1074ap—EHT MAC Capabilities Information field format**

The subfields of the EHT MAC Capabilities Information field are defined in Table 9-417q.

#### 9.4.2.323.3 EHT PHY Capabilities Information field

The format of the EHT PHY Capabilities Information field is defined in Figure 9-1074aq.

Table 9-417q—Subfields of the EHT MAC Capabilities Information field

| Subfield                        | Definition                                                                                                                    | Encoding                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|---------------------------------|-------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| EPCS Priority Access Support    | Indicates whether or not EPCS priority access is supported.                                                                   | Set to 1 if dot11EHTEPCSPriorityAccessActivated is true (see 35.16).<br>Set to 0 otherwise.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| EHT OM Control Support          | Indicates support for receiving a frame with an EHT OM Control subfield.                                                      | For a STA that has set the +HTC-HE Support subfield in the HE Capabilities element to 1:<br>Set to 1 if the STA supports reception of the EHT OM Control subfield.<br>Set to 0 otherwise.<br>Reserved if the +HTC-HE Support subfield in the HE Capabilities element is equal to 0.                                                                                                                                                                                                                                                                                             |
| TXS Mode 1 Support              | Indicates support for transmitting or responding to an MU-RTS TXS Trigger frame with the TXS Mode field equal to 1.           | For an EHT AP:<br>Set to 1 to indicate that the AP is capable of transmitting an MU-RTS TXS Trigger frame that allocates time to a STA to transmit non-TB PPDU to the EHT AP [i.e., with TXS Mode field equal to 1 (see 35.2.1.2)].<br>Set to 0 otherwise.<br>For a non-AP EHT STA:<br>Set to 1 to indicate that the non-AP STA is capable of responding to an MU-RTS TXS Trigger frame that allocates time to the STA to transmit non-TB PPDU to the EHT AP [i.e., with TXS Mode field equal to 1 (see 35.2.1.2)].<br>Set to 0 otherwise.                                      |
| TXS Mode 2 Support              | Indicates support for transmitting or responding to an MU-RTS TXS Trigger frame with the TXS Mode field equal to 2.           | For an EHT AP:<br>Set to 1 to indicate that the AP is capable of transmitting an MU-RTS TXS Trigger frame that allocates time to a STA to transmit non-TB PPDU to other STAs or to the AP [i.e., with TXS Mode field equal to 2 (see 35.2.1.2)].<br>Set to 0 otherwise.<br>For a non-AP EHT STA:<br>Set to 1 to indicate that the non-AP STA is capable of responding to an MU-RTS TXS Trigger frame that allocates time to the STA to transmit non-TB PPDU to other STAs or to its associated AP [i.e., with TXS Mode field equal to 2 (see 35.2.1.2)].<br>Set to 0 otherwise. |
| Restricted TWT Support          | Indicates support for R-TWT operation.                                                                                        | Set to 1 if the STA supports R-TWT operation (see 35.8).<br>Set to 0 otherwise.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| SCS Traffic Description Support | Indicates support for transmission and reception of an SCS Descriptor element that contains a QoS Characteristics subelement. | Set to 1 by an EHT AP that supports transmission of an SCS Response frames containing an SCS Descriptor element that includes a QoS Characteristics element.<br>Set to 1 by a non-AP EHT STA that supports transmission of an SCS Request frame containing an SCS Descriptor element with a QoS Characteristics element.<br>Set to 0 otherwise.                                                                                                                                                                                                                                 |

Table 9-417q—Subfields of the EHT MAC Capabilities Information field (continued)

| Subfield                                 | Definition                                                                                                                                                                                                                                                                                                                      | Encoding                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Maximum MPDU Length                      | Indicates the maximum MPDU length that the STA is capable of receiving (see 10.11), excepting that a higher maximum MPDU length might be required for the certain frames (see Table 9-34). See 26.7.1 for MPDUs carrying an HE Compressed Beamforming/CQI Report frame. See 35.7.1 for an EHT Compressed Beamforming/CQI frame. | Reserved when transmitted in 5 GHz or 6 GHz band (see 35.15.1). Otherwise, set to 0 for 3895 octets. set to 1 for 7991 octets. set to 2 for 11 454 octets. The value 3 is reserved.                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| Maximum A-MPDU Length Exponent Extension | Indicates the exponent extension for the maximum A-MPDU length supported in reception (see 35.6).                                                                                                                                                                                                                               | Set to the maximum A-MPDU exponent extension.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| EHT TRS Support                          | For a non-AP STA, indicates support for transmitting an EHT TB PPDU after receiving a frame with a TRS Control subfield.                                                                                                                                                                                                        | For a non-AP STA that has set the +HTC-HE Support subfield to 1:<br>Set to 1 if the STA supports transmitting an EHT TB PPDU after receiving a frame with a TRS Control subfield.<br>Set to 0 otherwise.<br>Reserved for an AP or if the +HTC-HE Support subfield is 0.                                                                                                                                                                                                                                                                                                                                                                                    |
| TXOP Return Support In TXS Mode 2        | Indicates support for receiving a frame with the RDG/More PPDU subfield in the CAS Control subfield of the HE variant HT Control field from a non-AP STA in TXS Mode 2 (see 35.2.1.2).                                                                                                                                          | For an EHT AP:<br>Set to 1 to indicate that the AP is capable of receiving a QoS Data or QoS Null frame with the RDG/More PPDU subfield in the CAS Control subfield of the HE variant HT Control field from a non-AP STA in TXS Mode 2.<br>Set to 0 otherwise.<br>For a non-AP EHT STA:<br>Reserved.                                                                                                                                                                                                                                                                                                                                                       |
| Two BQRs Support                         | For an AP, indicates support for receiving a frame with two BQR Control subfields.<br>For a non-AP STA, indicates support for generating a frame with two BQR Control subfields.                                                                                                                                                | For an EHT AP:<br>If the +HTC-HE Support subfield in the HE Capabilities element is set to 1:<br>Set to 1 to indicate that the AP is capable of receiving a frame with two BQR Control subfields.<br>Set to 0 otherwise.<br>Reserved if the +HTC-HE Support subfield in the HE Capabilities element is set to 0.<br>For a non-AP EHT STA:<br>If the +HTC-HE Support subfield in the HE Capabilities element is set to 1:<br>Set to 1 to indicate that the non-AP EHT STA is capable of transmitting a frame with two BQR Control subfields.<br>Set to 0 otherwise.<br>Reserved if the +HTC-HE Support subfield in the HE Capabilities element is set to 0. |

Table 9-417q—Subfields of the EHT MAC Capabilities Information field (continued)

| Subfield                                          | Definition                                                                                                                                                             | Encoding                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|---------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| EHT Link Adaptation Support                       | Indicates support for link adaptation using the ELA Control subfield.                                                                                                  | If the +HTC-HE Support subfield in HE MAC Capabilities Information field in HE Capabilities element is set to 1:<br>Set to 0 (No feedback) if the STA does not provide EHT MFB.<br>Set to 2 (Unsolicited) if the STA can receive and provide only unsolicited EHT MFB.<br>Set to 3 (Solicited and unsolicited) if the STA is capable of receiving and providing EHT MFB in response to EHT MRQ and if the STA can receive and provide unsolicited EHT MFB.<br>The value 1 is reserved.<br>NOTE—MFB and MRQ using ELA Control subfield are referred to as EHT MFB and EHT MRQ, respectively.<br>Reserved if the +HTC-HE Support subfield in HE MAC Capabilities Information field in HE Capabilities element is set to 0. |
| Unsolicited EPCS Priority Access Parameter Update | Indicates whether or not a STA that supports EPCS priority access is also capable of supporting the update of EPCS priority access parameters in the unsolicited mode. | Set to 1 if dot11EHTEPCSPriorityAccessActivated is true and dot11EHTEPCSPriorityAccessParamUnsolicitedModeSupport is true. (see 35.16).<br>Set to 0 otherwise.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |

IEEE Std 802.11be-2024  
IEEE Standard for Information Technology—Local and Metropolitan Area Networks—Specific Requirements  
Part 11: Wireless LAN MAC and PHY Specifications  
Amendment 2: Enhancements for Extremely High Throughput (EHT)

| B0                                                  | B1                                          | B2                                                                   | B3                                            | B4                                           | B5                                                                  | B6                                                    |     |     |     |     |     |     |
|-----------------------------------------------------|---------------------------------------------|----------------------------------------------------------------------|-----------------------------------------------|----------------------------------------------|---------------------------------------------------------------------|-------------------------------------------------------|-----|-----|-----|-----|-----|-----|
| Reserved                                            | Support For 320 MHz In 6 GHz                | Support For 2x2x3 RU In BW Wider Than 20 MHz                         | NDP With 4x EHT-LTF And 3.2 $\mu$ s GI        | Partial Bandwidth UL MU-MIMO                 | SU Beamformer                                                       | SU Beamformee                                         |     |     |     |     |     |     |
| Bits: 1                                             | 1                                           | 1                                                                    | 1                                             | 1                                            | 1                                                                   | 1                                                     |     |     |     |     |     |     |
| B7                                                  | B9                                          | B10                                                                  | B12                                           | B13                                          | B15                                                                 | B16                                                   | B18 | B19 | B21 | B22 | B24 | B25 |
| Beamformee SS ( $\le 80$ MHz)                       | Beamformee SS ( $= 160$ MHz)                | Beamformee SS ( $= 320$ MHz)                                         | Number Of Sounding Dimensions ( $\le 80$ MHz) | Number Of Sounding Dimensions ( $= 160$ MHz) | Number Of Sounding Dimensions ( $= 320$ MHz)                        | Ng = 16 SU Feedback                                   |     |     |     |     |     |     |
| Bits 3                                              | 3                                           | 3                                                                    | 3                                             | 3                                            | 3                                                                   | 1                                                     |     |     |     |     |     |     |
| B26                                                 | B27                                         | B28                                                                  | B29                                           | B30                                          | B31                                                                 | B32                                                   |     |     |     |     |     |     |
| Ng = 16 MU Feedback                                 | Codebook Size $(k, w) = (4, 2)$ SU Feedback | Codebook Size $(k, w) = (7, 5)$ MU Feedback                          | Triggered SU Beamforming Feedback             | Triggered MU Beamforming Partial BW Feedback | Triggered CQI Feedback                                              | Partial Bandwidth DL MU-MIMO                          |     |     |     |     |     |     |
| Bits: 1                                             | 1                                           | 1                                                                    | 1                                             | 1                                            | 1                                                                   | 1                                                     |     |     |     |     |     |     |
| B33                                                 | B34                                         | B35                                                                  | B36                                           | B39                                          | B40                                                                 | B41                                                   | B42 |     |     |     |     |     |
| EHT PSR-Based SR Support                            | Power Boost Factor Support                  | EHT MU PPDU With 4x EHT-LTF And 0.8 $\mu$ s GI                       | Max Nc                                        | Non-Triggered CQI Feedback                   | $T_x 1024$ -QAM And 4096-QAM $< 242$ -tone RU Support               | $R_x 1024$ -QAM And 4096-QAM $< 242$ -tone RU Support |     |     |     |     |     |     |
| Bits: 1                                             | 1                                           | 1                                                                    | 4                                             | 1                                            | 1                                                                   | 1                                                     |     |     |     |     |     |     |
| B43                                                 | B44                                         | B45                                                                  | B46                                           | B50                                          | B51                                                                 | B54                                                   | B55 | B56 | B57 |     |     |     |
| PPE Thresholds Present                              | Common Nominal Packet Padding               | Maximum Number Of Supported EHT-LTFs                                 | Support Of EHT- MCS 15 In MRU                 | Support Of EHT DUP (EHT- MCS 14) In 6 GHz    | Support For 20 MHz Operating STA Receiving NDP With Wider Bandwidth | Non-OFDMA UL MU-MIMO (BW $\le 80$ MHz)                |     |     |     |     |     |     |
| Bits: 1                                             | 2                                           | 5                                                                    | 4                                             | 1                                            | 1                                                                   | 1                                                     |     |     |     |     |     |     |
| B58                                                 | B59                                         | B60                                                                  | B61                                           | B62                                          | B63                                                                 | B64                                                   |     |     |     |     |     |     |
| Non-OFDMA UL MU-MIMO (BW $= 160$ MHz)               | Non-OFDMA UL MU-MIMO (BW $= 320$ MHz)       | MU Beamformer (BW $\le 80$ MHz)                                      | MU Beamformer (BW $= 160$ MHz)                | MU Beamformer (BW $= 320$ MHz)               | TB Sounding Feedback Rate Limit                                     | $R_x 1024$ -QAM In Wider Bandwidth DL OFDMA Support   |     |     |     |     |     |     |
| Bits 1                                              | 1                                           | 1                                                                    | 1                                             | 1                                            | 1                                                                   | 1                                                     |     |     |     |     |     |     |
| B65                                                 | B66                                         | B67                                                                  | B68                                           | B69                                          | B71                                                                 |                                                       |     |     |     |     |     |     |
| $R_x 4096$ -QAM In Wider Bandwidth DL OFDMA Support | 20 MHz-Only Limited Capabilities Support    | 20 MHz-Only Triggered MU Beamforming Full BW Feedback And DL MU-MIMO | 20 MHz-Only MRU Support                       | Reserved                                     |                                                                     |                                                       |     |     |     |     |     |     |
| Bits: 1                                             | 1                                           | 1                                                                    | 1                                             | 3                                            |                                                                     |                                                       |     |     |     |     |     |     |

Figure 9-1074aq—EHT PHY Capabilities Information field format

The subfields of the EHT PHY Capabilities Information field are defined in Table 9-417r.

Table 9-417r—Subfield of the EHT PHY Capabilities Information field

| Subfield                                            | Definition                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | Encoding                                                                                                                                                                                                                                                                           |
|-----------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Support For 320 MHz in 6 GHz                        | Indicates support for non-OFDMA 320 MHz PPDU when operating in the 6 GHz frequency band.                                                                                                                                                                                                                                                                                                                                                                                                                                              | If the EHT Capabilities element is indicating capabilities for the 6 GHz band:<br>Set to 0 if not supported.<br>Set to 1 if supported.<br>Reserved if the EHT Capabilities element is indicating capabilities for the 2.4 GHz or 5 GHz bands.                                      |
| Support For 242-tone RU In BW Wider Than 20 MHz     | Indicates support for reception of a 242-tone RU in a PPDU with a bandwidth larger than 20 MHz when the STA is a 20 MHz operating non-AP STA.                                                                                                                                                                                                                                                                                                                                                                                         | For a non-AP STA:<br>Set to 0 if not supported.<br>Set to 1 if supported.<br>Reserved for an AP.                                                                                                                                                                                   |
| NDP With $4\times$ EHT-LTF And $3.2 \mu\text{s}$ GI | For a beamformee, indicates support for receiving an EHT sounding NDP with a $4\times$ EHT-LTF and a $3.2 \mu\text{s}$ guard interval duration.                                                                                                                                                                                                                                                                                                                                                                                       | If the SU Beamformee field is 1:<br>Set to 0 if not supported.<br>Set to 1 if supported.<br>Reserved if the SU Beamformee field is 0.                                                                                                                                              |
| Partial Bandwidth UL MU-MIMO                        | For an AP, indicates support for receiving an EHT TB PPDU on an RU or MRU where MU-MIMO is employed and where the RU or MRU does not span the entire nonpunctured portion of the PPDU bandwidth (UL MU-MIMO within OFDMA).<br>For a non-AP STA, indicates support for transmitting an EHT TB PPDU on an RU or MRU where MU-MIMO is employed and where the RU or MRU does not span the entire nonpunctured portion of the PPDU bandwidth (UL MU-MIMO within OFDMA).<br>NOTE—The RU or MRU is a 242-tone or larger RU (see 36.3.3.2.2). | Set to 0 if not supported.<br>Set to 1 if supported.                                                                                                                                                                                                                               |
| SU Beamformer                                       | Indicates support for operation as an SU beamformer.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Set to 0 if not supported.<br>Set to 1 if supported.<br>NOTE—Set to 1 if any of the following subfields, MU Beamformer ( $\text{BW} \le 80 \text{ MHz}$ ), MU Beamformer ( $\text{BW} = 160 \text{ MHz}$ ), or MU Beamformer ( $\text{BW} = 320 \text{ MHz}$ ), is 1 (see 35.7.2). |

Table 9-417r—Subfield of the EHT PHY Capabilities Information field (continued)

| Subfield                      | Definition                                                                                                                                                                                                                                                                                                                                                                                                                                            | Encoding                                                                                                                                                                                                                                                                                                                                                                                            |
|-------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| SU Beamformee                 | Indicates support for operation as an SU beamformee.                                                                                                                                                                                                                                                                                                                                                                                                  | <p>For an AP:</p> <p>Set to 0 if not supported.<br/>Set to 1 if supported.</p> <p>For a 20 MHz-only non-AP EHT STA with 20 MHz-Only Limited Capabilities Support subfield equal to 1:</p> <p>Set to 0 if not supported.<br/>Set to 1 if supported.</p> <p>Set to 1 for a non-AP STA that is not a 20 MHz-only non-AP EHT STA with 20 MHz-Only Limited Capabilities Support subfield equal to 1.</p> |
| Beamformee SS ( $\le 80$ MHz) | For a PPDU bandwidth less than or equal to 80 MHz, indicates: <ul><li>The maximum number of spatial streams that the STA can receive in an EHT sounding NDP, and</li><li>If the STA supports MU beamformee, the maximum total number of spatial streams, summed over all users on an RU or MRU, that can be sent in a DL MU-MIMO transmission, where the RU or MRU includes that STA and might or might not span the entire PPDU bandwidth.</li></ul> | <p>If the SU Beamformee subfield is 1:</p> <p>Set to the maximum number of spatial streams described in the definition minus 1.</p> <p>NOTE—The minimum value of this field is 3 when the SU Beamformee subfield is 1 (see 35.7.2).</p> <p>Reserved if the SU Beamformee field is 0.</p>                                                                                                            |
| Beamformee SS ( $= 160$ MHz)  | For a PPDU bandwidth of 160 MHz, indicates: <ul><li>The maximum number of spatial streams: that the STA can receive in an EHT sounding NDP, and</li><li>If the STA supports MU beamformee, the maximum total number of spatial streams, summed over all users on an RU or MRU, that can be sent in a DL MU-MIMO transmission, where the RU or MRU includes that STA and might or might not span the entire PPDU bandwidth.</li></ul>                  | <p>If the SU Beamformee subfield is 1:</p> <p>Set to the maximum number of spatial streams described in the definition minus 1.</p> <p>NOTE—The minimum value of this field is 3 when the SU Beamformee subfield is 1 (see 35.7.2).</p> <p>Reserved if the SU Beamformee subfield is 0.</p>                                                                                                         |
| Beamformee SS ( $= 320$ MHz)  | For a PPDU bandwidth of 320 MHz, indicates: <ul><li>The maximum number of spatial streams that the STA can receive in an EHT sounding NDP, and</li><li>If the STA supports MU beamformee, the maximum total number of spatial streams, summed over all users on an RU or MRU, that can be sent in a DL MU-MIMO transmission, where the RU or MRU includes that STA and might or might not span the entire PPDU bandwidth.</li></ul>                   | <p>If the SU Beamformee subfield is 1:</p> <p>Set to the maximum number of spatial streams described in the definition minus 1.</p> <p>NOTE—The minimum value of this field is 3 when the SU Beamformee subfield is 1 (see 35.7.2).</p> <p>Reserved if the SU Beamformee subfield is 0.</p>                                                                                                         |

Table 9-417r—Subfield of the EHT PHY Capabilities Information field (continued)

| Subfield                                            | Definition                                                                                                                                                                                                                                                  | Encoding                                                                                                                                                                                                                                                                                        |
|-----------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Number Of Sounding Dimensions ( $\le 80$ MHz)       | For bandwidth less than or equal to 80 MHz, indicates the maximum value of the TXVECTOR parameter NUM_STS supported by the beamformer for an EHT sounding NDP.                                                                                              | If the SU Beamformer subfield is 1: Set to the supported maximum TXVECTOR parameter NUM_STS value minus 1. Reserved if the SU Beamformer subfield is 0.                                                                                                                                         |
| Number Of Sounding Dimensions ( $= 160$ MHz)        | For bandwidth of 160 MHz, indicates the maximum value of the TXVECTOR parameter NUM_STS supported by the beamformer for an EHT sounding NDP.                                                                                                                | If the SU Beamformer subfield is 1: Set to the supported maximum TXVECTOR parameter NUM_STS value minus 1. Reserved if the SU Beamformer subfield is 0 or the Supported Channel Width Set field does not indicate support for a bandwidth of 160 MHz.                                           |
| Number Of Sounding Dimensions ( $= 320$ MHz)        | For bandwidth of 320 MHz, indicates the maximum value of the TXVECTOR parameter NUM_STS supported by the beamformer for an EHT sounding NDP.                                                                                                                | If the SU Beamformer subfield is 1: Set to the supported maximum TXVECTOR parameter NUM_STS value minus 1. Reserved if the SU Beamformer subfield is 0 or the Support For 320 MHz In 6 GHz subfield in EHT Capabilities Information field does not indicate support for a bandwidth of 320 MHz. |
| $N_g = 16$ SU Feedback                              | Indicates support as an EHT beamformee for a subcarrier grouping of 16 in the EHT Compressed Beamforming Report field for SU feedback as described in 35.7.2.                                                                                               | Set to 0 if not supported. Set to 1 if supported. Reserved if the EHT STA is not an EHT Beamformee.                                                                                                                                                                                             |
| $N_g = 16$ MU Feedback                              | Indicates support as an EHT beamformee for a subcarrier grouping of 16 in the EHT Compressed Beamforming Report field for MU feedback as described in 35.7.2.                                                                                               | Set to 0 if not supported. Set to 1 if supported. Reserved if the EHT STA is not an EHT Beamformee.                                                                                                                                                                                             |
| Codebook Size $(\phi, \psi) = \{4, 2\}$ SU Feedback | Indicates support as an EHT beamformee for a codebook size $(\phi, \psi) = \{4, 2\}$ in the EHT Compressed Beamforming Report field for SU feedback as described in 35.7.2.                                                                                 | Set to 0 if not supported. Set to 1 if supported. Reserved if the EHT STA is not an EHT Beamformee.                                                                                                                                                                                             |
| Codebook Size $(\phi, \psi) = \{7, 5\}$ MU Feedback | Indicates support as an EHT beamformee for a codebook size $(\phi, \psi) = \{7, 5\}$ in the EHT Compressed Beamforming Report field for MU feedback as described in 35.7.2.                                                                                 | Set to 0 if not supported. Set to 1 if supported. Reserved if the EHT STA is not an EHT Beamformee.                                                                                                                                                                                             |
| Triggered SU Beamforming Feedback                   | For an AP, indicates support for the reception of partial and full bandwidth SU feedback in an EHT TB sounding sequence. For a non-AP STA, indicates support for the transmission of partial and full bandwidth SU feedback in an EHT TB sounding sequence. | Set to 0 if not supported. Set to 1 if supported.                                                                                                                                                                                                                                               |

Table 9-417r—Subfield of the EHT PHY Capabilities Information field (continued)

| Subfield                                               | Definition                                                                                                                                                                                                                                                       | Encoding                                                                                                                                                                                                                                                                                                                         |
|--------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Triggered MU Beamforming Partial BW Feedback           | For an AP, indicates support for the reception of partial bandwidth MU feedback in an EHT TB sounding sequence.<br>For a non-AP STA, indicates support for the transmission of partial bandwidth MU feedback in an EHT TB sounding sequence.                     | Set to 0 if not supported.<br>Set to 1 if supported.<br>For a non-AP STA, this field is set to 1 if the Partial Bandwidth DL MU-MIMO subfield is set to 1.                                                                                                                                                                       |
| Triggered CQI Feedback                                 | For an AP, indicates support for the reception of partial and full bandwidth CQI feedback in an EHT TB sounding sequence.<br>For a non-AP STA, indicates support for the transmission of partial and full bandwidth CQI feedback in an EHT TB sounding sequence. | Set to 0 if not supported.<br>Set to 1 if supported.                                                                                                                                                                                                                                                                             |
| Partial Bandwidth DL MU-MIMO                           | For a non-AP STA, indicates support for the reception of a DL MU-MIMO transmission on an RU or MRU in an EHT MU PPDU where the RU or MRU does not span the entire PPDU bandwidth (DL MU-MIMO within OFDMA).                                                      | For a non-AP STA:<br>Set to 0 if not supported.<br>Set to 1 if supported.<br>NOTE—A non-AP STA that sets this field to 0 supports receiving a partial bandwidth RU or MRU allocated to a single user within an EHT MU PPDU where one or more other RU(s) or MRU(s) are employing DL MU-MIMO (see 36.1.1).<br>Reserved for an AP. |
| EHT PSR-based SR Support                               | Indicates support for EHT PSR-based SR operation.                                                                                                                                                                                                                | Set to 0 if not supported.<br>Set to 1 if supported.                                                                                                                                                                                                                                                                             |
| Power Boost Factor Support                             | Indicates the maximum range of power boost factors that a non-AP STA supports for the RUs in a received OFDMA EHT MU PPDU.                                                                                                                                       | Set to 0 to indicate a range of $[1/\sqrt{2}, \sqrt{2}]$<br>Set to 1 to indicate a range of $[0.5, 2]$ .<br>Reserved for an AP.                                                                                                                                                                                                  |
| EHT MU PPDU With 4 $\times$ EHT-LTF And 0.8 $\mu$ s GI | Indicates support for the reception of an EHT MU PPDU with a 4 $\times$ EHT-LTF and a 0.8 $\mu$ s guard interval duration.                                                                                                                                       | Set to 0 if not supported.<br>Set to 1 if supported.                                                                                                                                                                                                                                                                             |
| Max Nc                                                 | Indicates the maximum supported $N_c$ for an EHT compressed beamforming/CQI report.                                                                                                                                                                              | If the SU Beamformee subfield is 1:<br>Set to the maximum supported $N_c$ for an EHT compressed beamforming/CQI report minus 1.<br>The maximum value of this field is 7.<br>Reserved if the SU Beamformee subfield is 0.                                                                                                         |
| Non-Triggered CQI Feedback                             | For an AP, indicates support for the reception of full bandwidth non-triggered CQI feedback.<br>For a non-AP STA, indicates support for the transmission of full bandwidth non-triggered CQI feedback.                                                           | Set to 0 if not supported.<br>Set to 1 if supported.                                                                                                                                                                                                                                                                             |

Table 9-417r—Subfield of the EHT PHY Capabilities Information field (continued)

| Subfield                                                        | Definition                                                                                                                                                                                                                                                                                                                                                                                                            | Encoding                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|-----------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <p><b>Tx 1024-QAM And 4096-QAM &lt; 242-tone RU Support</b></p> | <p>For a non-AP STA, indicates support for the transmission of 1024-QAM and 4096-QAM on a 26-, 52-, and 106-tone RU and on a 52+26-tone and 106+26-tone MRU is the same as indicated in the EHT-MCS Map (20 MHz-Only Non-AP STAs) for 20 MHz-only non-AP STAs, and the EHT-MCS Map (BW <math>\le</math> 80 MHz, Except For 20 MHz-Only Non-AP STA) subfield for non-AP STAs that are not 20 MHz-only non-AP STAs.</p> | <p>For a non-AP STA:<br/>Set to 0 if the transmission of 1024-QAM and 4096-QAM are not supported for RUs or MRUs smaller than 242 tones.<br/>Set to 1 if support of the transmission of 1024-QAM and 4096-QAM is the same as indicated in the EHT-MCS Map (20 MHz-Only Non-AP STA) for 20 MHz-only non-AP STAs, and the EHT-MCS Map (BW <math>\le</math> 80 MHz, Except For 20 MHz-Only Non-AP STA) subfield for non-AP STAs that are not 20 MHz-only non-AP STAs.<br/>Reserved for an AP.</p>                                                                                                                                                                                                                                                                                                                           |
| <p><b>Rx 1024-QAM And 4096-QAM &lt; 242-tone RU Support</b></p> | <p>Indicates support for the reception of 1024-QAM and 4096-QAM on a 26-, 52-, and 106-tone RU and on a 52+26-tone and 106+26-tone MRU is the same as indicated in the EHT-MCS Map (20 MHz-Only Non-AP STA) for 20 MHz-only non-AP STAs, and the EHT-MCS Map (BW <math>\le</math> 80 MHz, Except For 20 MHz-Only Non-AP STA) subfield for non-AP STAs that are not 20 MHz-only non-AP STAs.</p>                       | <p>Set to 0 if the reception of 1024-QAM and 4096-QAM are not supported for RUs or MRUs smaller than 242 tones.<br/>Set to 1 if support of the reception of 1024-QAM and 4096-QAM is the same as indicated in the EHT-MCS Map (20 MHz-Only Non-AP STA) for 20 MHz-only non-AP STAs, and the EHT-MCS Map (BW <math>\le</math> 80 MHz, Except For 20 MHz-Only Non-AP STA) subfield for non-AP STAs that are not 20 MHz-only non-AP STAs.</p>                                                                                                                                                                                                                                                                                                                                                                               |
| <p><b>PPE Thresholds Present</b></p>                            | <p>Indicates whether or not the EHT PPE Thresholds field in the EHT Capabilities element is present.</p>                                                                                                                                                                                                                                                                                                              | <p>Set to 1 if the PPE Thresholds field is present.<br/>Set to 0, otherwise</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| <p><b>Common Nominal Packet Padding</b></p>                     | <p>Indicates the common nominal packet padding to be used for all constellations, <math>N_{SS}</math> and RU or MRU allocations the STA supports if the PPE Thresholds Present subfield is set to 0.</p>                                                                                                                                                                                                              | <p>Set to 0 if the common nominal packet padding is 0 <math>\mu</math>s for all constellations, <math>N_{SS}</math> and RU or MRU allocations the STA supports.<br/>Set to 1 if the common nominal packet padding is 8 <math>\mu</math>s for all constellations, <math>N_{SS}</math> and RU or MRU allocations the STA supports.<br/>Set to 2 if the common nominal packet padding is 16 <math>\mu</math>s for all constellations, <math>N_{SS}</math> and RU or MRU allocations the STA supports.<br/>Set to 3 if the common nominal packet padding is 16 <math>\mu</math>s for all modes with constellation <math>\le</math> 1024 and RU or MRU <math>\le</math> 2<math>\times</math>996, and 20 <math>\mu</math>s for all other modes the STA supports.<br/>Reserved if the PPE Thresholds Present subfield is 1.</p> |

Table 9-417r—Subfield of the EHT PHY Capabilities Information field (continued)

| Subfield                             | Definition                                                                                                                                                                                                                                                                                                                                                                                                                                              | Encoding                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|--------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Maximum Number Of Supported EHT-LTFs | B0 indicates support for reception of extra EHT-LTFs for non-OFDMA transmission in an EHT MU PPDU.<br>B1–B2 indicates the maximum number of EHT-LTFs supported for reception within an EHT SU transmission.<br>B3–B4 indicates the maximum number of EHT-LTFs supported for reception of transmissions to multiple users (OFDMA and non-OFDMA). B3–B4 also indicates the maximum number of EHT-LTFs supported for the reception of an EHT sounding NDP. | B0 is set to 0 if not supported.<br>B0 is set to 1 if supported.<br>A B1–B2 value of 0 indicates a maximum of four EHT-LTFs. A B1–B2 value of 1 indicates a maximum of eight EHT-LTFs. B1–B2 values of 2 and 3 are reserved.<br>If B0 is set to 0, then B1 and B2 are both reserved.<br>A B3–B4 value of 0 indicates a maximum of four EHT-LTFs. A B3–B4 value of 1 indicates a maximum of eight EHT-LTFs. B3–B4 values of 2 and 3 are reserved.<br>If B0 is set to 0, the B3–B4 applies only to OFDMA transmissions.<br>The maximum number of supported EHT-LTFs satisfies the condition defined in 36.3.12.10. |

Table 9-417r—Subfield of the EHT PHY Capabilities Information field (continued)

| Subfield                                                            | Definition                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Encoding                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|---------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Support Of EHT-MCS 15 In MRU                                        | <p>B0 indicates support for the transmission and reception of EHT-MCS 15 in 52+26-tone and 106+26-tone MRUs.</p> <p>B1 indicates support for the transmission and reception of EHT-MCS 15 in a 484+242-tone MRU if 80 MHz is supported.</p> <p>B2 indicates support for the transmission and reception of EHT-MCS 15 in a 996+484-tone MRU and a 996+484+242-tone MRU if 160 MHz is supported.</p> <p>B3 indicates support for the transmission and reception of EHT-MCS 15 in a 3x996-tone MRU if 320 MHz is supported.</p> | <p>B0:<br/>Set to 0 if transmission and reception of EHT-MCS 15 in 52+26-tone and 106+26-tone MRUs is not supported.<br/>Set to 1 if transmission and reception of EHT-MCS 15 in 52+26-tone and 106+26-tone MRUs is supported.</p> <p>B1:<br/>Set to 0 if transmission and reception of EHT-MCS 15 in a 484+242-tone MRU is not supported.<br/>Set to 1 if transmission and reception of EHT-MCS 15 in a 484+242-tone MRU is not supported.</p> <p>B2:<br/>Set to 0 if transmission and reception of EHT-MCS 15 in a 996+484+242-tone MRU is not supported.<br/>Set to 1 if transmission and reception of EHT-MCS 15 in a 996+484+242-tone MRU is supported.</p> <p>B3:<br/>Set to 0 if transmission and reception of EHT-MCS 15 in a 3x996-tone MRU is not supported.<br/>Set to 1 if transmission and reception of EHT-MCS 15 in a 3x996-tone MRU is supported.</p> <p>If 80 MHz is not supported, then B1, B2, and B3 are set to 0.<br/>If 160 MHz is not supported, then B2 and B3 are set to 0.<br/>If 320 MHz is not supported, then B3 is set to 0.</p> |
| Support Of EHT DUP (EHT-MCS 14) In 6 GHz                            | Indicates support for the transmission and reception of EHT DUP in 6 GHz.                                                                                                                                                                                                                                                                                                                                                                                                                                                    | <p>Set to 0 if not supported.<br/>Set to 1 if supported.</p> <p>Set to 0 if the STA does not support operations in the 6 GHz band.</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| Support For 20 MHz Operating STA Receiving NDP With Wider Bandwidth | Indicates support of a 20 MHz-operating STA receiving an NDP with a PPDU bandwidth of 40, 80 or 160 MHz.                                                                                                                                                                                                                                                                                                                                                                                                                     | <p>Set to 0 if not supported.<br/>Set to 1 if supported.</p> <p>Reserved for an AP.</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |

Table 9-417r—Subfield of the EHT PHY Capabilities Information field (continued)

| Subfield                               | Definition                                                                                                                                                                                                                                                                                                                                                               | Encoding                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|----------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Non-OFDMa UL MU-MIMO (BW $\le$ 80 MHz) | For an AP, indicates support for non-OFDMa UL MU-MIMO reception of an EHT TB PPDU, for PPDU bandwidths of 20, 40, and 80 MHz (UL MU-MIMO).<br>For a 20 MHz-only non-AP EHT STA with 20 MHz-Only Limited Capabilities Support subfield equal to 1, indicates support for non-OFDMa UL MU-MIMO transmission of an EHT TB PPDU, for PPDU bandwidths of 20 MHz (UL MU-MIMO). | For an AP STA:<br>Set to 0 if not supported.<br>Set to 1 if supported.<br>If the maximum number of spatial streams indicated for reception, for any MCS, in the EHT-MCS Map (BW $\le$ 80 MHz, Excluding 20 MHz-Only Non-AP STAs) subfield within the Supported MCS and Nss Set field, is greater than or equal to four, then set to 1 (see 36.1.1).<br>For a 20 MHz-only non-AP EHT STA with 20 MHz-Only Limited Capabilities Support subfield equal to 1:<br>Set to 0 if not supported.<br>Set to 1 if supported.<br>Reserved for a non-AP STA that is not a 20 MHz-only non-AP EHT STA with 20 MHz-Only Limited Capabilities Support subfield equal to 1. |
| Non-OFDMa UL MU-MIMO (BW = 160 MHz)    | For an AP, indicates support for non-OFDMa UL MU-MIMO reception of an EHT TB PPDU, for PPDU with bandwidth of 160 MHz (UL MU-MIMO).                                                                                                                                                                                                                                      | For an AP STA:<br>Set to 0 if not supported.<br>Set to 1 if supported.<br>If the maximum number of spatial streams indicated for reception, for any MCS, in the EHT-MCS Map (BW = 160 MHz) subfield within the Supported MCS and Nss Set field, is greater than or equal to four, then set to 1.<br>Reserved for a non-AP STA.                                                                                                                                                                                                                                                                                                                              |
| Non-OFDMa UL MU-MIMO (BW = 320 MHz)    | For an AP, indicates support for non-OFDMa UL MU-MIMO reception of an EHT TB PPDU, for PPDU with bandwidth of 320 MHz (UL MU-MIMO).                                                                                                                                                                                                                                      | For an AP STA:<br>Set to 0 if not supported.<br>Set to 1 if supported.<br>If the maximum number of spatial streams indicated for reception, for any MCS, in the EHT-MCS Map (BW = 320 MHz) subfield within the Supported MCS and Nss Set field, is greater than or equal to four, then set to 1 (see 36.1.1).<br>Reserved for a non-AP STA.                                                                                                                                                                                                                                                                                                                 |

Table 9-417r—Subfield of the EHT PHY Capabilities Information field (continued)

| Subfield                        | Definition                                                                                                                                       | Encoding                                                                                                                                                                                                                                                                                                                                                                                                     |
|---------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| MU Beamformer (BW ≤ 80 MHz)     | For an AP, indicates the support for non-OFDMA DL MU-MIMO transmission and the required MU sounding, for PPDU bandwidths of 20, 40, and 80 MHz.  | For an AP STA:<br>Set to 0 if not supported.<br>Set to 1 if supported.<br>If the maximum number of spatial streams indicated for transmission, for any MCS, in the EHT-MCS Map (BW ≤ 80 MHz), Excluding 20 MHz-Only Non-AP STA) subfield within the Supported MCS and Nss Set field, is greater than or equal to four, then set to 1 (see 36.1.1).<br>Reserved for a non-AP STA.                             |
| MU Beamformer (BW = 160 MHz)    | For an AP, indicates the support for non-OFDMA DL MU-MIMO transmission and the required MU sounding, for PPDU bandwidths of 160 MHz.             | For an AP STA:<br>Set to 0 if not supported.<br>Set to 1 if supported.<br>If the maximum number of spatial streams indicated for transmission, for any MCS, in the EHT-MCS Map (BW = 160 MHz) subfield within the Supported MCS and Nss Set field, is greater than or equal to four, then set to 1 (see 36.1.1).<br>Reserved for a non-AP STA.                                                               |
| MU Beamformer (BW = 320 MHz)    | For an AP, indicates the support for non-OFDMA DL MU-MIMO transmission and the required MU sounding, for PPDU bandwidths of 320 MHz.             | For an AP STA:<br>Set to 0 if not supported.<br>Set to 1 if supported.<br>If the maximum number of spatial streams indicated for transmission, for any MCS, in the EHT-MCS Map (BW = 320 MHz) subfield within the Supported MCS and Nss Set field, is greater than or equal to four, then set to 1 (see 36.1.1).<br>Reserved for a non-AP STA.                                                               |
| TB Sounding Feedback Rate Limit | Indicates the maximum supported data rate of the EHT TB PPDU carrying the EHT compressed beamforming/CQI report in the EHT TB sounding sequence. | For a non-AP EHT STA:<br>Set to 0 to indicate no maximum supported data rate limitation. The same EHT-MCS and Nss are supported as indicated in the Supported EHT-MCS and NSS Set field.<br>Set to 1 to indicate the maximum supported data rate is the lower of the 1500 Mb/s and the maximum supported data rate computed based on the Supported EHT-MCS and NSS Set field.<br>Reserved for an AP EHT STA. |

Table 9-417—Subfield of the EHT PHY Capabilities Information field (continued)

| Subfield                                        | Definition                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | Encoding                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|-------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Rx 1024-QAM In Wider Bandwidth DL OFDMA Support | Indicates support for the reception of 1024-QAM in an EHT DL OFDMA with PPDU bandwidth wider than the operating bandwidth of the non-AP STA.                                                                                                                                                                                                                                                                                                                                                    | Set to 0 if 1024-QAM is not supported regardless of the indication in the Rx EHT-MCS Map subfield.<br>Set to 1 if support of 1024-QAM is the same as that indicated in the EHT-MCS Map (20 MHz-Only Non-AP STA) for a 20 MHz-only non-AP STA, the EHT-MCS Map (BW $\le$ 80 MHz, Except 20 MHz-Only Non-AP STA) for a 20 MHz or 80 MHz operating non-AP STA, and the EHT-MCS Map (BW = 160 MHz) for a 160 MHz operating non-AP STA.<br>Reserved for an AP.                                       |
| Rx 4096-QAM In Wider Bandwidth DL OFDMA Support | Indicates support for the reception of 4096-QAM in an EHT DL OFDMA with PPDU bandwidth wider than the operating bandwidth of the non-AP STA.                                                                                                                                                                                                                                                                                                                                                    | Set to 0 if 4096-QAM is not supported regardless of the indication in the Rx EHT-MCS Map subfield.<br>Set to 1 if support of 4096-QAM is the same as that indicated in the EHT-MCS Map (20 MHz-Only Non-AP STA) for a 20 MHz-only non-AP STA, the EHT-MCS Map (BW $\le$ 80 MHz, Except 20 MHz-Only Non-AP STA) for a 20 MHz or 80 MHz operating non-AP STA, and the EHT-MCS Map (BW = 160 MHz) for a 160 MHz operating non-AP STA.<br>Reserved for an AP.                                       |
| 20 MHz-Only Limited Capabilities Support        | For a 20 MHz-only non-AP STA, indicates whether the STA can announce the optional support of multiple RUs, DL/UL MU-MIMO related capabilities, and SU/MU beamformee related capabilities.<br>For an AP, indicates whether the AP is capable of understanding the optional support of multiple RUs, DL/UL MU-MIMO related capabilities, and SU/MU beamformee related capabilities, indicated by a 20 MHz-only non-AP EHT STA that sets the 20 MHz-Only Limited Capability Support subfield to 1. | For a 20 MHz-only non-AP STA:<br>Set to 1 if the STA can announce the optional support of multiple RUs, DL/UL MU-MIMO related capabilities, and SU/MU beamformee related capabilities.<br>Set to 0 otherwise.<br>For an AP:<br>Set to 1 if the AP is capable of understanding the capabilities of a 20 MHz-only non-AP EHT STA with 20 MHz-Only Limited Capabilities Support subfield equal to 1.<br>Set to 0 otherwise.<br>Reserved for a non-AP STA that is not a 20 MHz-only non-AP EHT STA. |

Table 9-417r—Subfield of the EHT PHY Capabilities Information field (continued)

| Subfield                                                             | Definition                                                                                                                                                                                                                      | Encoding                                                                                                                                                                            |
|----------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 20 MHz-Only Triggered MU Beamforming Full BW Feedback And DL MU-MIMO | Indicates whether or not a 20 MHz-only non-AP EHT STA with 20 MHz-Only Limited Capabilities Support subfield equal to 1 supports the transmission of triggered MU beamforming full BW feedback and the reception of DL MU-MIMO. | For a 20 MHz-only non-AP EHT STA with 20 MHz-Only Limited Capabilities Support subfield equal to 1:<br>Set to 0 if not supported.<br>Set to 1 if supported.<br>Otherwise, reserved. |
| 20 MHz-Only MRU Support                                              | Indicates whether or not a 20 MHz-only non-AP EHT STA with 20 MHz-Only Limited Capabilities Support subfield equal to 1 supports multiple RUs.                                                                                  | For a 20 MHz-only non-AP EHT STA with 20 MHz-Only Limited Capabilities Support subfield equal to 1:<br>Set to 0 if not supported.<br>Set to 1 if supported.<br>Otherwise, reserved. |

#### 9.4.2.323.4 Supported EHT-MCS And NSS Set field

The Supported EHT-MCS And NSS Set field indicates the combinations of EHT-MCS 0–13, and number of spatial streams  $N_{SS}$  that a STA supports for reception and the combinations that it supports for transmission. The format of the field is shown in Figure 9-1074ar. EHT-MCS 14 and 15 can only be combined with a single stream, and support for these EHT-MCSes is indicated in the EHT PHY Capabilities Information field (see 9.4.2.323.3).

![](8e688808a5a49f03662390e281bdbde9_img.jpg)

| EHT-MCS Map<br>(20 MHz-Only Non-AP STA) | EHT-MCS Map<br>(BW $\le$ 80 MHz, Except<br>20 MHz-Only Non-AP STA) | EHT-MCS Map<br>(BW = 160 MHz) | EHT-MCS Map<br>(BW = 320 MHz) |
|-----------------------------------------|--------------------------------------------------------------------|-------------------------------|-------------------------------|
| Octets: 0 or 4                          | 0 or 3                                                             | 0 or 3                        | 0 or 3                        |

Figure 9-1074ar—Supported EHT-MCS And NSS Set field format

The subfields of the Supported EHT-MCS And NSS Set field, and their presence, are defined in Table 9-417s.

Table 9-417s—Subfields of the Supported EHT-MCS and NSS Set field

| Subfield                             | Definition                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | Encoding                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|--------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| EHT-MCS Map (20 MHz-Only Non-AP STA) | For a 20 MHz-only non-AP STA, indicates the maximum number of spatial streams supported for reception and the maximum number of spatial streams that the STA can transmit, for each MCS value in a PPDU with a bandwidth of 20 MHz, 40 MHz, 80 MHz, 160 MHz or 320 MHz with the following additional restrictions: <ul><li>Support for the reception of 1024-QAM in a 40 MHz, 80 MHz, 160 MHz or 320 MHz EHT DL OFDMA is indicated jointly with the Rx 1024-QAM In Wider Bandwidth DL OFDMA Support subfield (see 9.4.2.323.3).</li><li>Support for the reception of 4096-QAM in a 40 MHz, 80 MHz, 160 MHz or 320 MHz EHT DL OFDMA is indicated jointly with the Rx 4096-QAM In Wider Bandwidth DL OFDMA Support subfield (see 9.4.2.323.3).</li><li>Support for the transmission of 1024-QAM and 4096-QAM on a 26-, 52-, and 106-tone RU and on a 52+26-tone and 106+26-tone MRU is indicated jointly with the Tx 1024-QAM And 4096-QAM &lt; 242-tone RU Support subfield (see 9.4.2.323.3).</li><li>Support for the reception of 1024-QAM and 4096-QAM on a 26-, 52-, and 106-tone RU and on a 52+26-tone and 106+26-tone MRU is indicated jointly with the Rx 1024-QAM And 4096-QAM &lt; 242-tone RU Support subfield (see 9.4.2.323.3).</li></ul> | The format and encoding of this subfield are defined in Figure 9-1074as and the associated description.<br>For a non-AP STA:<br>In 5 GHz and 6 GHz, if B1, B2, and B3 of the Supported Channel Width Set field in the HE PHY Capabilities Information field are all 0, then this subfield is present; otherwise, it is not present.<br>In 2.4 GHz, if B0 of the Supported Channel Width Set field in the HE PHY Capabilities Information field is 0, then this subfield is present; otherwise, it is not present.<br>Not present for an AP. |

Table 9-417s—Subfields of the Supported EHT-MCS And NSS Set field (continued)

| Subfield                                                     | Definition                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Encoding                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|--------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| EHT-MCS Map (BW $\le$ 80 MHz, Except 20 MHz-Only Non-AP STA) | <p>Except for a 20 MHz-only non-AP STA, indicates the maximum number of spatial streams supported for reception and the maximum number of spatial streams that the STA can transmit, for each MCS value, in a PPDU with a bandwidth of 20 MHz, 40 MHz, or 80 MHz with the following additional restrictions:</p> <ul><li>Support for the transmission of 1024-QAM and 4096-QAM on a 26-, 52-, and 106-tone RU and on a 52+26-tone and 106+26-tone MRU is indicated jointly with the Tx 1024-QAM And 4096-QAM <math>&lt;</math> 242-tone RU support subfield (see 9.4.2.323.3).</li><li>Support for the reception of 1024-QAM and 4096-QAM on a 26-, 52-, and 106-tone RU and on a 52+26-tone and 106+26-tone MRU is indicated jointly with the Rx 1024-QAM And 4096-QAM <math>&lt;</math> 242-tone RU support subfield (see 9.4.2.323.3).</li></ul> <p>For a 20 MHz or 80 MHz operating non-AP STA, additionally indicates the maximum number of spatial streams supported for reception and the maximum number of spatial streams that the non-AP STA can transmit, for each MCS value, in a PPDU with a bandwidth of 160 MHz or 320 MHz with the following additional restrictions:</p> <ul><li>Support for the transmission of 1024-QAM and 4096-QAM on a 26-, 52-, and 106-tone RU and on a 52+26-tone and 106+26-tone MRU in EHT UL OFDMA is indicated jointly with the Tx 1024-QAM And 4096-QAM <math>&lt;</math> 242-tone RU support subfield (see 9.4.2.323.3).</li><li>Support for the reception of 1024-QAM in a 160 MHz, or 320 MHz EHT DL OFDMA is indicated jointly with the Rx 1024-QAM In Wider Bandwidth DL OFDMA Support subfield, and support for the reception of 1024-QAM on a 26-, 52-, and 106-tone RU and on a 52+26-tone and 106+26-tone MRU in EHT DL OFDMA is additionally jointly indicated with the Rx 1024-QAM And 4096-QAM <math>&lt;</math> 242-tone RU support subfield (see 9.4.2.323.3).</li><li>Support for the reception of 4096-QAM in a 160 MHz, or 320 MHz EHT DL OFDMA is indicated jointly with the Rx 4096-QAM In Wider Bandwidth DL OFDMA Support subfield, and support for the reception of 4096-QAM on a 26-, 52-, and 106-tone RU and on a 52+26-tone and 106+26-tone MRU in EHT DL OFDMA is additionally jointly indicated with the Rx 1024-QAM And 4096-QAM <math>&lt;</math> 242-tone RU support subfield (see 9.4.2.323.3).</li></ul> | <p>The format and encoding of this subfield are defined in Figure 9-1074at and the associated description.</p> <p>For an AP, this subfield is always present.</p> <p>For a non-AP STA:</p> <p>In 5 GHz or 6 GHz, if B1 of the Supported Channel Width Set field in the HE PHY Capabilities Information field is 1, then this subfield is present; otherwise, it is not present.</p> <p>In 2.4 GHz, if B0 of the Supported Channel Width Set field in the HE PHY Capabilities Information field is 1, then this subfield is present; otherwise, it is not present.</p> |

Table 9-417s—Subfields of the Supported EHT-MCS And NSS Set field (continued)

| Subfield                   | Definition                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Encoding                                                                                                                                                                                                                                                                             |
|----------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| EHT-MCS Map (BW = 160 MHz) | <p>If the operating channel width of the STA is greater than or equal to 160 MHz, indicates the maximum number of spatial streams supported for reception and the maximum number of spatial streams that the STA can transmit, for each MCS value, in a PPDU with a bandwidth of 160 MHz with the following additional restrictions:</p> <ul><li>Support for the transmission of 1024-QAM and 4096-QAM on a 26-, 52-, and 106-tone RU and on a 52+26-tone and 106+26-tone MRU is indicated jointly with the EHT-MCS Map (BW <math>\le</math> 80 MHz. Except 20 MHz-Only Non-AP STA) subfield and Tx 1024-QAM and 4096-QAM &lt; 242-tone RU support subfield (see 9.4.2.323.3).</li><li>Support for the reception of 1024-QAM and 4096-QAM on a 26-, 52-, and 106-tone RU and on a 52+26-tone and 106+26-tone MRU is indicated jointly with the EHT-MCS Map (BW <math>\le</math> 80 MHz. Except 20 MHz-Only Non-AP STA) subfield and Rx 1024-QAM and 4096-QAM &lt; 242-tone RU support subfield (see 9.4.2.323.3).</li></ul> <p>For a 160 MHz operating non-AP STA, additionally indicates the maximum number of spatial streams supported for reception and the maximum number of spatial streams that the non-AP STA can transmit, for each MCS value, in a PPDU with a bandwidth of 320 MHz with the following additional restrictions:</p> <ul><li>Support for the transmission of 1024-QAM and 4096-QAM on a 26-, 52-, and 106-tone RU and on a 52+26-tone and 106+26-tone MRU in EHT UL OFDMA is indicated jointly with the EHT-MCS Map (BW <math>\le</math> 80 MHz. Except 20 MHz-Only Non-AP STA) subfield and Tx 1024-QAM and 4096-QAM &lt; 242-tone RU support subfield (see 9.4.2.323.3).</li><li>Support for the reception of 1024-QAM in a 320 MHz EHT DL OFDMA is indicated jointly with the Rx 1024-QAM In Wider Bandwidth DL OFDMA Support subfield, and support for the reception of 1024-QAM on a 26-, 52-, and 106-tone RU and on a 52+26-tone and 106+26-tone MRU in EHT DL OFDMA is additionally jointly indicated with the Rx 1024-QAM And 4096-QAM &lt; 242-tone RU support subfield and the EHT-MCS Map (BW <math>\le</math> 80 MHz. Except 20 MHz-Only Non-AP STA) subfield (see 9.4.2.323.3).</li><li>Support for the reception of 4096-QAM in a 320 MHz EHT DL OFDMA is indicated jointly with the Rx 4096-QAM In Wider Bandwidth DL OFDMA Support subfield, and support for the reception of 4096-QAM on a 26-, 52-, and 106-tone RU and on a 52+26-tone and 106+26-tone MRU in EHT DL OFDMA is additionally jointly indicated with the Rx 1024-QAM And 4096-QAM &lt; 242-tone RU support subfield and the EHT-MCS Map (BW <math>\le</math> 80 MHz. Except 20 MHz-Only Non-AP STA) subfield (see 9.4.2.323.3).</li></ul> | <p>The format and encoding of this subfield are defined in Figure 9-1074at and the associated description.</p> <p>If B2 of the Supported Channel Width Set field in the HE PHY Capabilities Information field is 1, then this subfield is present; otherwise, it is not present.</p> |

Table 9-417s—Subfields of the Supported EHT-MCS And NSS Set field (continued)

| Subfield                   | Definition                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Encoding                                                                                                                                                                                                                                                                  |
|----------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| EHT-MCS Map (BW = 320 MHz) | If the operating channel width of the STA is 320 MHz, indicates the maximum number of spatial streams supported for reception and the maximum number of spatial streams that the STA can transmit, for each MCS value, in a PPDU with a bandwidth of 320 MHz with the following additional restriction: <ul><li>Support for the transmission of 1024-QAM and 4096-QAM on a 26-, 52-, and 106-tone RU and on a 52+26-tone and 106+26-tone MRU is indicated jointly with the EHT-MCS Map (BW <math>\le</math> 80 MHz, Except 20 MHz-Only Non-AP STA) subfield and Tx 1024-QAM And 4096-QAM &lt; 242-tone RU support subfield (see 9.4.2.323.3).</li><li>Support for the reception of 1024-QAM and 4096-QAM on a 26-, 52-, and 106-tone RU and on a 52+26-tone and 106+26-tone MRU is indicated jointly with the EHT-MCS Map (BW <math>\le</math> 80 MHz, Except 20 MHz-Only Non-AP STA) subfield and Rx 1024-QAM And 4096-QAM &lt; 242-tone RU support subfield (see 9.4.2.323.3).</li></ul> | The format and encoding of this subfield are defined in Figure 9-1074at and the associated description.<br>If the Support For 320 MHz In 6 GHz subfield, in the EHT PHY Capabilities Information field is 1, then this subfield is present; otherwise, it is not present. |

The EHT-MCS Map (20 MHz-Only Non-AP STA) subfield and the Basic EHT-MCS And NSS Set field have the format shown in Figure 9-1074as.

![](d87aa3ea04e448edb59e4105bb5173a2_img.jpg)

Figure 9-1074as shows the format of the EHT-MCS Map (20 MHz-Only Non-AP STA) subfield and the Basic EHT-MCS And NSS Set field, structured as a 32-bit field divided into four 4-bit subfields:

| Bits  | B0                                     | B3  | B4                                     | B7  | B8                                     | B11 | B12                                    | B15 |
|-------|----------------------------------------|-----|----------------------------------------|-----|----------------------------------------|-----|----------------------------------------|-----|
|       | Rx Max NSS That Supports EHT-MCS 0-7   |     | Tx Max NSS That Supports EHT-MCS 0-7   |     | Rx Max NSS That Supports EHT-MCS 8-9   |     | Tx Max NSS That Supports EHT-MCS 8-9   |     |
| Bits: | 4                                      | 4   | 4                                      | 4   | 4                                      | 4   | 4                                      | 4   |
| Bits  | B16                                    | B19 | B20                                    | B23 | B24                                    | B27 | B28                                    | B31 |
|       | Rx Max NSS That Supports EHT-MCS 10-11 |     | Tx Max NSS That Supports EHT-MCS 10-11 |     | Rx Max NSS That Supports EHT-MCS 12-13 |     | Tx Max NSS That Supports EHT-MCS 12-13 |     |
| Bits: | 4                                      | 4   | 4                                      | 4   | 4                                      | 4   | 4                                      | 4   |

Figure 9-1074as—EHT-MCS Map (20 MHz-Only Non-AP STA) subfield and Basic EHT-MCS And NSS Set field format

The EHT-MCS Map (BW  $\le$  80 MHz, Except 20 MHz-Only Non-AP STA), EHT-MCS Map (BW = 160 MHz), and EHT-MCS Map (BW = 320 MHz) subfields have the format shown in Figure 9-1074at.

![](27de4d16c8793f6530232734ccc72370_img.jpg)

Figure 9-1074at shows the format of the EHT-MCS Map (BW  $\le$  80 MHz, Except 20 MHz-Only Non-AP STA), EHT-MCS Map (BW = 160 MHz), and EHT-MCS Map (BW = 320 MHz) subfields, structured as a 32-bit field divided into six 4-bit subfields:

| Bits  | B0                                   | B3 | B4                                   | B7 | B8                                     | B11 | B12                                    | B15 | B16                                    | B19 | B20                                    | B23 |
|-------|--------------------------------------|----|--------------------------------------|----|----------------------------------------|-----|----------------------------------------|-----|----------------------------------------|-----|----------------------------------------|-----|
|       | Rx Max NSS That Supports EHT-MCS 0-9 |    | Tx Max NSS That Supports EHT-MCS 0-9 |    | Rx Max NSS That Supports EHT-MCS 10-11 |     | Tx Max NSS That Supports EHT-MCS 10-11 |     | Rx Max NSS That Supports EHT-MCS 12-13 |     | Tx Max NSS That Supports EHT-MCS 12-13 |     |
| Bits: | 4                                    | 4  | 4                                    | 4  | 4                                      | 4   | 4                                      | 4   | 4                                      | 4   | 4                                      | 4   |

Figure 9-1074at—EHT-MCS Map (BW  $\le$  80 MHz, Except 20 MHz-Only Non-AP STA), EHT-MCS Map (BW = 160 MHz), and EHT-MCS Map (BW = 320 MHz) subfield format

The Rx Max NSS That Supports EHT-MCS 0–7 and Tx Max NSS That Supports EHT-MCS 0–7 subfields are encoded according to Table 9-417t.

The Rx Max NSS That Supports EHT-MCS 8–9 and Tx Max NSS That Supports EHT-MCS 8–9 subfields are encoded according to Table 9-417t.

The Rx Max NSS That Supports EHT-MCS 0–9 and Tx Max NSS That Supports EHT-MCS 0–9 subfields are encoded according to Table 9-417t.

The Rx Max NSS That Supports EHT-MCS 10–11 and Tx Max NSS That Supports EHT-MCS 10–11 subfields are encoded according to Table 9-417t.

The Rx Max NSS That Supports EHT-MCS 12–13 and Tx Max NSS That Supports EHT-MCS 12–13 subfields are encoded according to Table 9-417t.

**Table 9-417t—Encoding of the maximum number of spatial streams (NSS) for a specified MCS value**

| Max NSS subfield value | Maximum number of spatial streams that supports the specified MCS set |
|------------------------|-----------------------------------------------------------------------|
| 0                      | Not supported                                                         |
| 1                      | 1                                                                     |
| 2                      | 2                                                                     |
| 3                      | 3                                                                     |
| 4                      | 4                                                                     |
| 5                      | 5                                                                     |
| 6                      | 6                                                                     |
| 7                      | 7                                                                     |
| 8                      | 8                                                                     |
| 9–15                   | Reserved                                                              |

A value that is reserved in Table 9-417t indicates a maximum  $N_{ss}$  of greater than eight spatial streams.

The maximum receive  $N_{ss}$  for a given EHT-MCS is equal to the smaller of:

- The value of the Rx Max NSS That Supports EHT-MCS  $n1$ – $n2$  subfield ( $n1$  and  $n2$  indicate the range of EHT-MCSs to which the subfield applies) for the given EHT-MCS
- The maximum supported  $N_{ss}$  as indicated by the value of the Rx NSS field of the Operating Mode Notification frame or the Operating Mode Notification element if the value of Rx NSS Type is 0, or by the value of the Rx NSS field of the OM Control subfield if an EHT OM Control subfield is not present in the same A-Control field, or by the value of the Rx NSS Extension field of the EHT OM Control subfield combined with the value of the Rx NSS field of the OM Control subfield if an EHT OM Control subfield is present in the same A-Control field

The maximum transmit  $N_{ss}$  for a given EHT-MCS is equal to the smaller of:

- The value of the Tx Max NSS That Supports EHT-MCS  $n1$ – $n2$  subfield ( $n1$  and  $n2$  indicate the range of EHT-MCSs to which the subfield applies) for the given EHT-MCS
- The maximum supported  $Nss$  as indicated by the value of the Tx NSTS field of the OM Control subfield sent by a non-AP STA if an EHT OM Control subfield is not present in the same A-Control field or by the value of the Tx NSTS Extension field of the EHT OM Control subfield combined with the value of the Tx NSTS field of the OM Control subfield sent by a non-AP STA if an EHT OM Control subfield is present in the same A-Control field

#### 9.4.2.323.5 EHT PPE Thresholds field

The EHT PPE Thresholds field determines the nominal packet padding value (see 35.13) for a particular RU or MRU allocation and a particular NSS in an EHT PPDU. The format of the EHT PPE Thresholds field is defined in Figure 9-1074au.

![](308502693341637b978b1afecf7d0665_img.jpg)

|       | B0     | B3               | B4                  | B8      |
|-------|--------|------------------|---------------------|---------|
|       | NSS_PE | RU Index Bitmask | PPE Thresholds Info | PPE Pad |
| Bits: | 4      | 5                | variable            | 0 to 7  |

Figure 9-1074au—EHT PPE Thresholds field format

The NSS\_PE subfield contains an unsigned integer  $NSS\_PE$  indicating the scope of  $NSSn$  for the PPETmax  $NSSn$  RU $b$  subfields and PPET8  $NSSn$  RU $b$  subfields in the PPE Thresholds Info field ( $1 \le n \le (NSS\_PE + 1)$ ). The  $NSS\_PE$  subfield value is less than 8, and a value greater than or equal to 8 is reserved. The scope of RU $b$  for the PPETmax  $NSSn$  RU $b$  subfields and PPET8  $NSSn$  RU $b$  subfields in the PPE Thresholds Info field is given by the RU Index Bitmask subfield.

The RU Index Bitmask subfield contains a bitmask that indicates whether the PPE Thresholds Info field contains PPETmax and PPET8 subfields for the five possible RU allocation indices indicated in Table 9-417v. The PPETmax and PPET8 subfields for RU allocation index  $k$  are present in the PPE Thresholds Info field only if bit  $k$  of the RU Index Bitmask subfield (bit  $4 + k$  of the EHT PPE Thresholds field) is 1. For example, if B0 of the RU Index Bitmask subfield (B4 of the EHT PPE Thresholds field) is 1, the PPETmax and PPET8 subfields are present in the PPE Thresholds Info field for the RU allocation size corresponding to the RU allocation index 0 (242-tone RU). If B0 of the RU Index Bitmask subfield is 0, the PPETmax and PPET8 subfields are not present in the PPE Thresholds Info field for the RU allocation size corresponding to the RU allocation index 0. The RU Index Bitmask subfield contains at least one bit equal to 1. To indicate nominal packet padding values of 0  $\mu$ s for all modes, the PPE Thresholds Present subfield and the Common Nominal Packet Padding subfield are set to 0 in the EHT Capabilities element (see 35.13 for details). If there exists one or more bits equal to 0 after the first bit equal to 1 in the bitmask sequence in the RU Index Bitmask subfield, the PPETmax and PPET8 subfields for each RU allocation index corresponding to these bits equal to 0 are not present, while the PPETmax and PPET8 values of that RU allocation index are the same as the PPETmax and PPET8 values of the closest smaller RU allocation index with the bitmask value equal to 1 in the RU Index Bitmask subfield.

The PPE Thresholds Info field contains  $6 \times (NSS\_PE + 1)$  bits for every bit in the RU Index Bitmask subfield that is nonzero. The format of the PPE Thresholds Info field is defined in Figure 9-1074av.

![](2c34e38fea2319ce5b56ccb7cd92347e_img.jpg)

|       | B0                  | B2                | B3  | B5                  |                   |     |                                  |                                |
|-------|---------------------|-------------------|-----|---------------------|-------------------|-----|----------------------------------|--------------------------------|
|       | PPETmax<br>NSS1 RUy | PPET8 NSS1<br>RUy | ... | PPETmax<br>NSS1 RUm | PPET8 NSS1<br>RUm | ... | PPETmax<br>NSS(NSS_P_E+1)<br>RUm | PPET8<br>NSS(NSS_P_E+1)<br>RUm |
| Bits: | 3                   | 3                 | 3   | 3                   | 3                 | 3   | 3                                | 3                              |

**Figure 9-1074av—PPE Thresholds Info field format**

The PPETmax and PPET8 subfields for various NSS and RU allocation index values appear in increasing NSS value and increasing RU allocation index value order. Lower numbered PPE Thresholds Info field bits contain PPETmax and PPET8 subfields corresponding to lower numbered NSS values. Within a set of PPETmax and PPET8 subfields corresponding to a single value of NSS, lower numbered PPE Thresholds Info field bits contain PPETmax and PPET8 subfields corresponding to lower numbered RU allocation index values. The PPETmax NSSn RUb and PPET8 NSSn RUb subfields are present for all values of  $n$  and  $b$  where  $1 \le n \le (NSS_P_E + 1)$  and where  $b$  belongs to the set of RU allocation indices  $[y, \dots, m]$  equal to the ordered list of bit positions of all bits that are set to 1 in the RU Index Bitmask subfield, with  $y$  being the lowest value.

Each PPETmax NSSn RUb and PPET8 NSSn RUb subfield contains an integer as defined in Table 9-417u that is used to compute the nominal packet padding value (see Table 35-6).

**Table 9-417u—Constellation index**

| Constellation index | Corresponding transmission constellation |
|---------------------|------------------------------------------|
| 0                   | BPSK                                     |
| 1                   | QPSK                                     |
| 2                   | 16-QAM                                   |
| 3                   | 64-QAM                                   |
| 4                   | 256-QAM                                  |
| 5                   | 1024-QAM                                 |
| 6                   | 4096-QAM                                 |
| 7                   | None                                     |

The value of the PPET8 NSSn RUb subfield is always less than the value of the PPETmax NSSn RUb subfield, except if the PPET8 subfield is equal to 7.

The RU allocation index for each RU allocation size is defined in Table 9-417v. For an RU allocation index equal to 2, 3, and 4, more than one RU or MRU shares the same RU allocation index. The RU allocation indices for 80 MHz, 160 MHz, and 320 MHz PPUDs using EHT-MCS 14 are equal to 2, 3, and 4, respectively, before considering the effect of DCM on these RU allocation indices (see 35.13 for details).

**Table 9-417v—RU allocation index**

| RU allocation index | RU allocation size                 |
|---------------------|------------------------------------|
| 0                   | 242                                |
| 1                   | 484                                |
| 2                   | 484+242, 996                       |
| 3                   | 996+484, 996+484+242, 2×996        |
| 4                   | 2×996+484, 3×996, 3×996+484, 4×996 |

The PPE Pad subfield is set to 0. The maximum length of the PPE Pad subfield is seven bits and the length is chosen so that the EHT PPE Thresholds field is an integer multiple of 8 bits.

#### 9.4.2.324 TID-To-Link Mapping element

The TID-To-Link Mapping element indicates links on which frames belonging to each TID can be exchanged. The format of the TID-To-Link Mapping element is shown in Figure 9-1074aw.

![](fd030d897c785b9f3219e40cc7cfc023_img.jpg)

| Element ID | Length | Element ID Extension | TID-To-Link Mapping Control | Mapping Switch Time | Expected Duration | Link Mapping Of TID 0 (Optional) | ... | Link Mapping Of TID 7 (Optional) |
|------------|--------|----------------------|-----------------------------|---------------------|-------------------|----------------------------------|-----|----------------------------------|
| 1          | 1      | 1                    | 1 or 2                      | 0 or 2              | 0 or 3            | 0, 1 or 2                        | ... | 0, 1 or 2                        |

**Figure 9-1074aw—TID-To-Link Mapping element format**

The Element ID, Length, and Element ID Extension fields are defined in 9.4.2.1.

The format of the TID-To-Link Mapping Control field is defined in Figure 9-1074ax.

![](e545bd7a4fe1226cc8a5d111fbf1f864_img.jpg)

| B0        | B1                   | B2                          | B3                        | B4                | B5       | B6                                      | B7 | B8 | B15 |
|-----------|----------------------|-----------------------------|---------------------------|-------------------|----------|-----------------------------------------|----|----|-----|
| Direction | Default Link Mapping | Mapping Switch Time Present | Expected Duration Present | Link Mapping Size | Reserved | Link Mapping Presence Bitmap (Optional) |    |    |     |
| 2         | 1                    | 1                           | 1                         | 1                 | 2        | 0 or 8                                  |    |    |     |

**Figure 9-1074ax—TID-To-Link Mapping Control field format**

The Direction subfield is set to 0 if the TID-To-Link Mapping element provides the TTLM information for frames transmitted on the DL. The subfield is set to 1 if the TID-To-Link Mapping element provides the TTLM information for frames transmitted on the UL. The subfield is set to 2 if the TID-To-Link Mapping element provides the TTLM information for frames transmitted both on the DL and the UL. The value of 3 is reserved.

The Default Link Mapping subfield is set to 1 if the TID-To-Link Mapping element represents the default TTLM. Otherwise, the subfield is set to 0.

The Mapping Switch Time Present subfield is set to 1 if the Mapping Switch Time field is present and 0 otherwise.

The Expected Duration Present subfield is set to 1 if the Expected Duration field is present and 0 otherwise.

The Link Mapping Size subfield is set to 1 if the length of the Link Mapping Of TID  $n$  field is 1 octet and is set to 0 if the length of the Link Mapping Of TID  $n$  field is 2 octets.

The Link Mapping Presence Bitmap subfield indicates which the Link Mapping Of TID  $n$  fields are present in the TID-To-Link Mapping element (i.e., the subfield identifies the TID(s) for which the mapping is provided in the element). A value of 1 in bit position  $n$  of the Link Mapping Presence Bitmap subfield indicates that the Link Mapping Of TID  $n$  field is present in the TID-To-Link Mapping element. Otherwise, the Link Mapping Of TID  $n$  field is not present in the TID-To-Link Mapping element. When the Default Link Mapping subfield is set to 1, this subfield is not present.

The Mapping Switch Time field is present when the TID-To-Link Mapping element is transmitted by an AP affiliated with an AP MLD in a Beacon or Probe Response frame and the indicated TTLM is not yet established; otherwise, the field is not present. The absence of the Mapping Switch Time field in the TID-To-Link Mapping element in a Beacon or Probe Response frame transmitted by an AP affiliated with an AP MLD indicates that the indicated TTLM is already established. The 2 octet Mapping Switch Time field has units of TUs and is set to the time at which the mapping is established, using as a timebase the value of the TSF corresponding to the BSS identified by the BSSID of the frame containing the TID-To-Link Mapping element; i.e., bits 10 to 25 of the TSF.

When the Mapping Switch Time field is present, the Expected Duration field indicates the duration for which the proposed TTLM is expected to be effective, in units of TUs, starting from the mapping's establishment time indicated in the Mapping Switch Time field. When the Mapping Switch Time field is not present, the Expected Duration field indicates the remaining duration for which the established TTLM is expected to be effective, in units of TUs, with the starting point of the remaining duration being the TBTT corresponding to that Beacon if the frame carrying the element is a Beacon frame or the most recent TBTT preceding the transmission of the frame if the frame carrying the element is not a Beacon frame. The Expected Duration field is present if the TID-To-Link Mapping element is carried in a Beacon, Probe Response, or (Re)Association Response frame transmitted by an AP affiliated with an AP MLD, and is not present otherwise.

The Link Mapping Of TID  $n$  field (where  $n = 0, 1, \dots, 7$ ) indicates the link(s) on which frames belonging to TID  $n$  are allowed to be sent (i.e., carries a bitmap of the links to which the TID  $n$  is mapped to). A value of 1 in bit position  $i$  (where  $i = 0, 1, \dots, 7$ ) if the Link Mapping Size subfield is set to 1, and  $i = 0, 1, \dots, 14$  otherwise) of the Link Mapping Of TID  $n$  field indicates that TID  $n$  is mapped to the link associated with the link ID  $i$  for the direction as specified in the Direction subfield. A value of 0 in bit position  $i$  indicates that the TID  $n$  is not mapped to the link associated with the link ID  $i$  for the direction as specified in the Direction subfield. When the Default Link Mapping subfield is set to 1, no Link Mapping Of TID  $n$  field is present.

#### 9.4.2.325 Multi-Link Traffic Indication element

The Multi-Link Traffic Indication element contains a list of per-link traffic indication bitmap(s) for non-AP MLD(s).

The Multi-Link Traffic Indication element is defined in Figure 9-1074ay.

![](301a887a1c116ca685fdb7a053686fdd_img.jpg)

|         | Element ID | Length | Element ID Extension | Multi-Link Traffic Indication Control | Per-Link Traffic Indication List |
|---------|------------|--------|----------------------|---------------------------------------|----------------------------------|
| Octets: | 1          | 1      | 1                    | 2                                     | variable                         |

Figure 9-1074ay—Multi-Link Traffic Indication element format

The Element ID, Length, and Element ID Extension fields are defined in 9.4.2.1.

The Multi-Link Traffic Indication Control field is defined in Figure 9-1074az.

![](c61c22cba36df37a636a6f7f23327cbe_img.jpg)

|       | B0          | B3         | B4 | B14      | B15 |
|-------|-------------|------------|----|----------|-----|
|       | Bitmap Size | AID Offset |    | Reserved |     |
| Bits: | 4           | 11         |    | 1        |     |

**Figure 9-1074az—Multi-Link Traffic Indication Control field format**

The Bitmap Size subfield is set to the size of each Per-Link Traffic Indication Bitmap  $n$  subfield minus 1, in bits. A value of 0 in the Bitmap Size subfield is reserved.

The AID Offset subfield is set to the AID of the non-AP MLD that corresponds to the first Per-Link Traffic Indication Bitmap  $n$  subfield in the Per-Link Traffic Indication List field when the Multi-Link Traffic Indication element is included in a Beacon frame.

The Per-Link Traffic Indication List field is defined in Figure 9-1074ba. The Per-Link Traffic Indication List field contains  $N$  Per-Link Traffic Indication Bitmap  $n$  subfield(s) followed by the Padding subfield, where  $1 \le n \le N$ . The  $N$  Per-Link Traffic Indication Bitmap  $n$  subfield(s) correspond to the AID(s) of the non-AP MLD(s) or a non-MLD non-AP STA(s) that are identified by the corresponding bit(s) that are equal to 1, where  $N$  is the number of bit(s) that are equal to 1, in either

- The Partial Virtual Bitmap subfield of the TIM element in a Beacon frame with the Multi-Link Traffic Indication element counting from the bit position that corresponds to the AID value in the AID Offset subfield of the Multi-Link Traffic Indication element, or
- The Partial AID Bitmap subfield of the AID Bitmap element in a Link Recommendation frame with the Multi-Link Traffic Indication element.

![](dd568ac426b76652b7727ccfdb89dfe1_img.jpg)

|       | Per-Link Traffic Indication Bitmap 1 | ... | Per-Link Traffic Indication Bitmap $n$ | ... | Per-Link Traffic Indication Bitmap $N$ | Padding        |
|-------|--------------------------------------|-----|----------------------------------------|-----|----------------------------------------|----------------|
| Bits: | $m+1$                                |     | $m+1$                                  |     | $m+1$                                  | variable (0–7) |

**Figure 9-1074ba—Per-Link Traffic Indication List field format**

The Per-Link Traffic Indication Bitmap  $n$  subfield is defined in Figure 9-1074bb. When a Multi-Link Traffic Indication element is in a Beacon frame, each Per-Link Traffic Indication Bitmap  $n$  subfield indicates either:

- Per-link traffic indication for a non-AP MLD that does not have all TIDs mapped to all the enabled links or
- Pink recommendation for a non-AP MLD that has all TIDs mapped to all the enabled links.

When a Multi-Link Traffic Indication element is in a Link Recommendation frame, each Per-Link Traffic Indication Bitmap  $n$  subfield indicates link recommendation for a non-AP MLD.

When a Per-Link Traffic Indication Bitmap  $n$  subfield corresponds to an AID of a STA that is not affiliated with a non-AP MLD, the Per-Link Traffic Indication Bitmap  $n$  subfield is reserved.

![](5fef616b90de802c4845d93634a79254_img.jpg)

Diagram illustrating the Per-Link Traffic Indication Bitmap  $n$  subfield format. The bitmap is labeled "Per-Link Traffic Indication Bitmap" and spans  $m+1$  bits. The bit positions are labeled B0 (leftmost) and B $m$  (rightmost).

**Figure 9-1074bb—Per-Link Traffic Indication Bitmap  $n$  subfield format**

Each bit in the Per-Link Traffic Indication Bitmap  $n$  subfield corresponds to a link and the bit position  $i$  of the bitmap,  $B_i$ , corresponds to a link with Link ID subfield equal to  $i$ . A bit position that corresponds to a link that is not a setup link is reserved.

In a Beacon frame when the Per-Link Traffic Indication Bitmap  $n$  subfield corresponds to a non-AP MLD that has successfully negotiated a TTLM or is in the advertised TTLM wherein not all TIDs are mapped to all the enabled links, a value of 1 in the bit position  $i$  in the bitmap that corresponds to a link on which a non-AP STA affiliated with a non-AP MLD is operating indicates that there is buffered BU(s) with TID(s) mapped to the link with the Link ID subfield equal to  $i$  or MMPDU(s); a value of 0 in a bit position in the bitmap indicates that there is no buffered BU(s) with TID(s) mapped to the corresponding link nor MMPDU(s). In a Beacon frame when the Per-Link Traffic Indication Bitmap  $n$  subfield corresponds to a non-AP MLD that is in the default mapping mode or has negotiated a TTLM with an AP MLD and all TIDs are mapped to all the enabled links, a value of 1 in the bit position  $i$  in the bitmap indicates that the link with the Link ID subfield equal to  $i$  is recommended for retrieving buffered BU(s).

In a Link Recommendation frame, when the Per-Link Traffic Indication Bitmap  $n$  subfield corresponds to a non-AP MLD, a value of 1 in the bit position  $i$  in the bitmap indicates that the link with the Link ID subfield equal to  $i$  is recommended for frame exchanges both in DL and in UL, as defined in 35.3.12.4; a value of 0 in the bit position  $i$  in the bitmap indicates that the link with the Link ID subfield equal to  $i$  is not recommended for frame exchanges both in DL and in UL, as defined in 35.3.12.4.

The Padding subfield contains 0–7 padding bits so that the length of the Per-Link Traffic Indication List field is a multiple of 8 bits. The Padding subfield is set to 0.

#### 9.4.2.326 QoS Characteristics element

The QoS Characteristics element contains a set of parameters that define the characteristics and QoS expectations of a traffic flow, in the context of a particular non-AP EHT STA, for use by the EHT AP and the non-AP EHT STA in support of QoS traffic transfer using the procedures defined in 11.25.2 and 35.8.

The QoS Characteristics element format is defined in Figure 9-1074bc.

![](45029d33d8d689f24e1a9652c80c17b3_img.jpg)

| Element ID         | Length            | Element ID Extension | Control Info              | Minimum Service Interval | Maximum Service Interval | Minimum Data Rate |
|--------------------|-------------------|----------------------|---------------------------|--------------------------|--------------------------|-------------------|
| Octets: 1          | 1                 | 1                    | 4                         | 4                        | 4                        | 3                 |
| Delay Bound        | Maximum MSDU Size | Service Start Time   | Service Start Time LinkID | Mean Data Rate           | Delay Bounded Burst Size | MSDU Lifetime     |
| Octets: 3          | 0 or 2            | 0 or 4               | 0 or 1                    | 0 or 3                   | 0 or 4                   | 0 or 2            |
| MSDU Delivery Info | Medium Time       |                      |                           |                          |                          |                   |
| Octets: 0 or 1     | 0 or 2            |                      |                           |                          |                          |                   |

**Figure 9-1074bc—QoS Characteristics element format**

The structure of the Control Info field is defined in Figure 9-1074bd.

![](bb0ce35033e8d9e6086e93d567347ed1_img.jpg)

| B0        | B1  | B2 | B5            | B6 | B8                                       | B9 | B24 | B25 | B28    | B29      | B31 |
|-----------|-----|----|---------------|----|------------------------------------------|----|-----|-----|--------|----------|-----|
| Direction | TID |    | User Priority |    | Presence Bitmap Of Additional Parameters |    |     |     | LinkID | Reserved |     |
| Bits: 2   | 4   |    | 3             |    | 16                                       |    |     |     | 4      | 3        |     |

**Figure 9-1074bd—Control Info field format**

The Element ID, Length, and Extended Element ID fields are defined in 9.4.2.1.

The subfields of the Control Info field are defined as follows:

- The Direction subfield specifies the direction of data described by this element as defined in Table 9-417w.

**Table 9-417w—Direction subfield encoding**

| Direction | Usage                                                                                       |
|-----------|---------------------------------------------------------------------------------------------|
| 0         | Uplink, defined as follows:<br>— MSDUs or A-MSDUs are sent from the non-AP STA to the AP.   |
| 1         | Downlink, defined as follows:<br>— MSDUs or A-MSDUs are sent from the AP to the non-AP STA. |
| 2         | Direct link (MSDUs or A-MSDUs are sent over a peer-to-peer link).                           |
| 3         | Reserved                                                                                    |

- The TID subfield contains the TID value of the data frames that are described by this element. The TID subfield is set to the same value as the User Priority field. The values 8–15 are reserved.
- The User Priority subfield contains the user priority value (0–7) of the data frames that are described by this element. The User Priority subfield is set to the value of the User Priority subfield in the

Intra-Access Category Priority element if the Intra-Access Category Priority element is present in the SCS Descriptor element.

- The Presence Bitmap Of Additional Parameters subfield contains a bitmap where the *i*-th entry of the bitmap is set to 1 if the *i*-th field starting from the Maximum MSDU Size field is present in this element.
- The LinkID subfield contains the link identifier that corresponds to the link for which the direct link transmissions are going to occur. This field is reserved if the Direction subfield is equal to any value but 2 (Direct link).

NOTE 1—The presence of the TID subfield is for any future expansion to enable carrying a TID value that is independent of the User Priority.

The Minimum Service Interval field contains the following:

- If the Direction subfield is set to 0 (Uplink), the Minimum Service Interval field contains an unsigned integer that specifies the minimum interval, in microseconds, between the start of two consecutive SPs that are allocated to the STA for UL frame exchanges and the value 0 is reserved.
- If the Direction subfield is set to 1 (Downlink), the Minimum Service Interval field contains an unsigned integer that specifies the minimum interval, in microseconds, between the start of two consecutive SPs that are allocated for DL frame exchange sequences and the value 0 indicates that this parameter is unspecified.
- If the Direction subfield is set to 2 (Direct link) the Minimum Service Interval field contains an unsigned integer that specifies the minimum interval, in microseconds, between the start of two consecutive SPs that are allocated to the STA for direct link frame exchanges and the value 0 is reserved.

The Maximum Service Interval field contains the following:

- If the Direction subfield is set to 0 (Uplink), the Maximum Service Interval field contains an unsigned integer that specifies the maximum interval, in microseconds, between the start of two consecutive SPs that are allocated to the STA for UL frame exchanges and the value 0 is reserved.
- If the Direction subfield is set to 1 (Downlink), the Maximum Service Interval field contains an unsigned integer that specifies the maximum interval, in microseconds, between the start of two consecutive SPs that are allocated for DL frame exchange sequences and the value 0 indicates that this parameter is unspecified.
- If the Direction subfield is set to 2 (Direct link) the Maximum Service Interval field contains an unsigned integer that specifies the maximum interval, in microseconds, between the start of two consecutive SPs that are allocated to the STA for direct link frame exchanges and the value 0 is reserved.
- The value of this field is greater than or equal to the value of the Minimum Service Interval field.

NOTE 2—Periodic traffic can be indicated by setting the Minimum Service Interval field and Maximum Service Interval field to the same value.

The Minimum Data Rate field contains an unsigned integer that specifies the lowest data rate specified at the MAC SAP, in kilobits per second, for transport of MSDUs or A-MSDUs belonging to the traffic flow described by this element.

- If the Direction subfield is set to 0 (Uplink) or 1 (Downlink), the value 0 is reserved.
- If the Direction subfield is set to 2 (Direct link), the value 0 indicates that this parameter is unspecified.

The Delay Bound field contains an unsigned integer that specifies the maximum amount of time, in microseconds, targeted (see the MSDU Delivery Ratio field for more details on the delay and the targeted delivery ratio) to transport an MSDU or A-MSDU belonging to the traffic flow described by this element, measured between the time marking the arrival of the MSDU, or the first MSDU of the MSDUs constituting an A-MSDU, at the local MAC sublayer from the local MAC SAP and the time of completion of the

successful (re)transmission of the MPDU containing the MSDU to the destination. The completion time of the MSDU or A-MSDU transmission includes the corresponding acknowledgment frame transmission time, if present.

- If the Direction subfield is set to 0 (Uplink) or 2 (Direct link), the value 0 indicates that this parameter is unspecified.
- If the Direction subfield is set to 1 (Downlink), the value 0 is reserved.
- The field is nonzero if the Delay Bounded Burst Size field is present.

The Maximum MSDU Size field contains an unsigned integer that specifies the maximum size, in octets, of an MSDU belonging to the traffic flow described by this element. The value 0 is reserved.

The Service Start Time field contains an unsigned integer that specifies the anticipated time, in microseconds, when the traffic starts for the associated TID. The Service Start Time indicates to the AP the time when the STA expects to exchange frames corresponding to the TID specified in this element. The field represents the four lower order octets of the TSF timer corresponding to the link specified in the Service Start Time LinkID field at the start of the anticipated SP.

NOTE 3—For a UL traffic flow, the STA takes into account when it expects the UL traffic, if known (e.g., a burst of MSDUs from a codec has arrived), for an SP to be ready for transmission.

NOTE 4—If the flow referred to by this element is already ongoing upon the reception of this element, the Service Start Time field indicates the first time when the STA expects to exchange frames corresponding to the TID specified in this element after the reception of this element.

The four LSBs of the Service Start Time LinkID field indicates the link identifier that corresponds to the link for which the TSF timer is used to indicate the Service Start Time. The four MSBs are reserved. This field is present if the Service Start Time field is present and is not present otherwise.

The Mean Data Rate field indicates the average data rate specified at the MAC SAP in units of kilobits per second, for transport of MSDUs or A-MSDUs belonging to the traffic flow described by this element. The value 0 is reserved.

The Delay Bounded Burst Size field is 4 octets long and contains an unsigned integer that specifies the maximum burst, in octets, of the MSDUs or A-MSDUs belonging to the traffic flow that arrive at the MAC SAP within any time duration equal to the value specified in the Delay Bound field. The value 0 is reserved (e.g., if the delay bound is 10 ms and a burst of x octets arrive within the first 1 ms within the SP followed by no more traffic after that within the SP, the STA reports the burst as x).

The MSDU Lifetime field contains an unsigned integer that specifies the maximum amount of time, in milliseconds, since the arrival of the MSDU at the MAC data service interface beyond which the MSDU is not useful even if received by the receiver. Therefore, the sender might consider discarding the MSDU before it is transmitted over-the-air. The amount of time specified in this field is larger than or equal to the amount of time specified in the Delay Bound field, if present. The value 0 is reserved.

The MSDU Delivery Info field contains the MSDU delivery information. The MSDU Delivery Info field contains the MSDU Delivery Ratio subfield and the MSDU Count Exponent subfield that are defined as in Figure 9-1074be:

![](40c8d0a41af210d0bf75b9f390384d23_img.jpg)

| B0                  | B3 | B4                  | B7 |
|---------------------|----|---------------------|----|
| MSDU Delivery Ratio |    | MSDU Count Exponent |    |
| Bits: 4             |    | 4                   |    |

**Figure 9-1074be—MSDU Delivery Info field format**

The MSDU Delivery Ratio subfield specifies the percentage of the MSDUs that are expected to be delivered successfully computed based on the total number of MSDUs indicated by MSDU Count Exponent subfield. The MSDU Delivery Ratio subfield is encoded as defined in Table 9-417x.

**Table 9-417x—MSDU Delivery Ratio subfield values**

| Value | MSDU delivery ratio |
|-------|---------------------|
| 0     | Reserved            |
| 1     | 95%                 |
| 2     | 96%                 |
| 3     | 97%                 |
| 4     | 98%                 |
| 5     | 99%                 |
| 6     | 99.9%               |
| 7     | 99.99%              |
| 8     | 99.999%             |
| 9     | 99.9999%            |
| 10–15 | Reserved            |

If the Delay Bound field included in the QoS Characteristics element is nonzero, an MSDU is considered delivered successfully for the purpose of the computation of the MSDU Delivery Ratio value only if the MSDU is delivered within the indicated delay bound.

NOTE 5—The transmitter might discard an MSDU if the delay bound of the MSDU has been exceeded.

The MSDU Count Exponent subfield contains an unsigned integer that specifies the exponent from which the number of incoming MSDUs used for computing the MSDU delivery ratio is obtained. The number of incoming MSDUs is equal to  $10^{\text{MSDU Count Exponent}}$ .

The Medium Time field contains an unsigned integer that specifies the medium time, in units of 256 microseconds per second, requested by the STA as the average medium time needed in each second. The four MSB of the Medium Time field are reserved. The values 0, 3906 to 4095 are reserved. This field is present only if the Direction subfield is set to 2 (Direct link).

#### 9.4.2.327 MLO Link Info element

The MLO Link Info element is carried in an individually addressed Management frame to identify the link that the intended STA affiliated with the peer MLD is operating on, and the intended STA is the intended recipient of the contents of the Management frame carrying this element (see 35.3.14.3).

The MLO Link Info element is defined in Figure 9-1074bf.

![](aa195955b45c68d763bda782c3fa8f45_img.jpg)

|         | Element ID | Length | Element ID Extension | Link ID Bitmap |
|---------|------------|--------|----------------------|----------------|
| Octets: | 1          | 1      | 1                    | 2              |

Figure 9-1074bf—MLO Link Info element format

The Element ID, Length, and Element ID Extension fields are defined in 9.4.2.1.

The Link ID Bitmap field indicates the link that the intended STA affiliated with the peer MLD is operating on (see 35.3.3.2). A value of 1 in bit position  $i$  of the Link ID Bitmap field indicates link ID  $i$ .

#### 9.4.2.328 AID Bitmap element

The AID Bitmap element is used to signal a list of AIDs in a frame transmitted by an AP. The format of this element is shown in Figure 9-1074bg.

![](a6ceb47d89ac3b60f8c818160bd34535_img.jpg)

|         | Element ID | Length | Element ID Extension | Partial AID Bitmap Length | Bitmap Control | Partial AID Bitmap |
|---------|------------|--------|----------------------|---------------------------|----------------|--------------------|
| Octets: | 1          | 1      | 1                    | 1                         | 1              | 0–251              |

Figure 9-1074bg—AID Bitmap element format

The Element ID, Length, and Element ID Extension fields are defined in 9.4.2.1.

The Partial AID Bitmap Length field is a one octet field and carries the length of the Partial AID Bitmap field.

The Bitmap Control field is defined in Figure 9-1074bh.

![](f98b83a8b1eadb16bdf3ffc3e3b8b029_img.jpg)

|       | B0       | B1            | B7 |
|-------|----------|---------------|----|
| Bits: | Reserved | Bitmap Offset | 7  |

Figure 9-1074bh—Bitmap Control field of the AID Bitmap element

The Bitmap Offset subfield is a bitmap index and is used in the definition of the Partial AID Bitmap field.

An AID bitmap refers to a bitmap consisting of 2008 bits where a bit position  $N$  is set to 1 if AID  $N$  is a member of the signaled list of AIDs and otherwise, it is set to 0. The AID bitmap is organized into 251 octets such that bit number  $N$  ( $0 \le N \le 2007$ ) in the bitmap corresponds to bit number  $(N \bmod 8)$  in octet number  $\lfloor N/8 \rfloor$  where the low order bit of each octet is bit number 0, and the high order bit is bit number 7.

The Partial AID Bitmap field consists of octets numbered  $N_1$  to  $N_2$  of the AID bitmap, where  $N_1$  is the largest even number such that bits numbered  $1$  to  $(N_1 \times 8) - 1$  in the AID bitmap are all  $0$  and  $N_2$  is the smallest number such that bits numbered  $(N_2 + 1) \times 8$  to  $2007$  in the AID bitmap are all  $0$ . The Bitmap Offset subfield value contains the number  $N_1/2$ , and the Partial AID Bitmap Length field is set to  $(N_2 - N_1) + 3$ .

#### 9.4.2.329 Bandwidth Indication element

The Bandwidth Indication element contains channel bandwidth, channel center frequency, and optionally punctured subchannels. The format of the Bandwidth Indication element is shown in Figure 9-1074bi.

![](6c22a723769bb8ac988a15e88ee370b7_img.jpg)

| Element ID | Length | Element ID Extension | Bandwidth Indication Parameters | Bandwidth Indication Information |
|------------|--------|----------------------|---------------------------------|----------------------------------|
| 1          | 1      | 1                    | 1                               | 3 or 5                           |

Figure 9-1074bi—Bandwidth Indication element format

The Element ID, Length, and Element ID Extension fields are defined in 9.4.2.1.

The Bandwidth Indication Parameters field is defined in Figure 9-1074bj.

![](5a3dd360c99f0d1e974ddc13541d481a_img.jpg)

| B0       | B1                                 | B2       | B7 |
|----------|------------------------------------|----------|----|
| Reserved | Disabled Subchannel Bitmap Present | Reserved |    |
| 1        | 1                                  | 6        |    |

Figure 9-1074bj—Bandwidth Indication Parameters field element

The Disabled Subchannel Bitmap Present subfield is set to  $1$  if the Disabled Subchannel Bitmap subfield in the Bandwidth Indication Information field is present and set to  $0$  otherwise.

The Bandwidth Indication Information field has the same definition as the EHT Operation Information field in the EHT Operation element, which is described in 9.4.2.321.

#### 9.4.2.330 TWT Information Extension element

The TWT Information Extension element contains information related to a TWT schedule. The element is defined in Figure 9-1074bk.

![](fdb3721bff62da6820df8c9e4ba42164_img.jpg)

| Element ID | Length | Element ID Extension | Control | B-TWT Info |
|------------|--------|----------------------|---------|------------|
| 1          | 1      | 1                    | 1       | 0 or 1     |

Figure 9-1074bk—TWT Information Extension element format

The Element ID, Length, and Element ID Extension fields are defined in 9.4.2.1.

The format of the Control field is shown in Figure 9-1074bl.

![](95646ff7ae2b302b619aed38c33f8ecb_img.jpg)

|       | B0                 | B1       | B7 |
|-------|--------------------|----------|----|
|       | B-TWT Info Present | Reserved |    |
| Bits: | 1                  | 7        |    |

Figure 9-1074bl—Control field format

The B-TWT Info Present subfield indicates the presence of the B-TWT Info field in the TWT Information Extension element. The B-TWT Info field is present if the subfield is set to 1; otherwise, it is not present.

The format of the B-TWT Info field in the TWT Information Extension element is shown in Figure 9-1074bm.

![](b64fa68a82ea6bb8460bdf9968b0d7bf_img.jpg)

|       | B0               | B4 | B5 | B7       |
|-------|------------------|----|----|----------|
|       | Broadcast TWT ID |    |    | Reserved |
| Bits: | 5                |    | 3  |          |

Figure 9-1074bm—B-TWT Info field format

The Broadcast TWT ID subfield in the B-TWT Info field identifies a broadcast TWT schedule advertised by the AP.

## 9.6 Action frame format details

### 9.6.2 Spectrum Management Action frame details

#### 9.6.2.6 Channel Switch Announcement frame format

*Change Figure 9-1180 as follows:*

|         | Category                              | Spectrum Management Action          | Channel Switch Announcement element | Secondary Channel Offset element | Mesh Channel Switch Parameters element |
|---------|---------------------------------------|-------------------------------------|-------------------------------------|----------------------------------|----------------------------------------|
| Octets: | 1                                     | 1                                   | 5                                   | 0 or 3                           | 0 or 8                                 |
|         | Optional                              | Zero or more                        | Zero or one                         | Optional                         |                                        |
|         | Wide Bandwidth Channel Switch element | New Transmit Power Envelope element | Max Channel Switch Time Element     | Bandwidth Indication element     |                                        |
| Octets: | 0 or 5                                | variable                            | 0 or 6                              | variable                         |                                        |

Figure 9-1180—Channel Switch Announcement frame Action field format

*Insert the following paragraph after the ninth paragraph (“The Max Channel Switch Time element is...”):*

The Bandwidth Indication element is defined in 9.4.2.329. This element is present for EHT STAs when switching to an EHT BSS operating channel width wider than 160 MHz or when switching to an EHT BSS operating channel width including at least one punctured 20 MHz subchannel. Otherwise, the Bandwidth Indication element is not present. The Bandwidth Indication element indicates the EHT BSS operating bandwidth after channel switching (see 35.15.3).

### 9.6.7 Public Action frame details

#### 9.6.7.3 Measurement Pilot frame format

*Change Table 9-473 (not all rows shown) as follows:*

Table 9-473—Optional subelement IDs for Measurement Pilot frame

| Subelement ID | Name                 | Extensible |
|---------------|----------------------|------------|
| ...           |                      |            |
| 164           | Bandwidth Indication | Yes        |
| 464165-220    | Reserved             |            |
| ...           |                      |            |

*Insert the following paragraphs after the 13th paragraph (“The Wide Bandwidth Channel Switch subelement…”):*

For an EHT STA, a Bandwidth Indication subelement is included to indicate an EHT BSS operating channel width wider than 160 MHz or an EHT BSS operating channel width that includes at least one punctured 20 MHz subchannel for which the measurement request applies. The Bandwidth Indication subelement has the same format as the Bandwidth Indication element (see 9.4.2.329). If a Bandwidth Indication subelement is received by an EHT STA, the EHT STA uses the Bandwidth Indication subelement for determining the EHT BSS operating channel bandwidth for which the measurement request applies and ignores the Wide Bandwidth Channel Switch subelement indication.

When a Bandwidth Indication subelement is present along with a Wide Bandwidth Channel Switch subelement,

- the New Channel Width field in the Wide Bandwidth Channel Switch subelement indicates the maximum bandwidth that includes the primary channel and does not cover any punctured 20 MHz subchannel indicated in the Disabled Subchannel Bitmap subfield in the Bandwidth Indication subelement as defined in 35.15.2, and
- the New Channel Width field in the Wide Bandwidth Channel Switch subelement indicates the bandwidth less than the bandwidth in the Bandwidth Indication subelement and does not indicate value 3 (noncontiguous an 80+80 MHz channel).

#### 9.6.7.7 Extended Channel Switch Announcement frame format

*Change Figure 9-1193 as follows:*

*Insert the following paragraph after the ninth paragraph (“The Max Channel Switch Time element is…”):*

| Category                               | Public Action       | Channel Switch Mode                   | New Operating Class                 | New Channel Number              | Channel Switch Count         |
|----------------------------------------|---------------------|---------------------------------------|-------------------------------------|---------------------------------|------------------------------|
| Octets: 1                              | 1                   | 1                                     | 1                                   | 1                               | 1                            |
| Zero or one                            |                     | Zero or one                           |                                     | Zero or one                     |                              |
| Zero or one                            |                     | Zero or one                           |                                     | Zero or one                     |                              |
| Mesh Channel Switch Parameters element | New Country element | Wide Bandwidth Channel Switch element | New Transmit Power Envelope element | Max Channel Switch Time element | Bandwidth Indication element |
| Octets: 0 or 8                         | variable            | variable                              | variable                            | 0 or 6                          | variable                     |

**Figure 9-1193—Extended Channel Switch Announcement frame Action field format**

The Bandwidth Indication element is defined in 9.4.2.329. This element is present for EHT STAs when switching to an EHT BSS operating channel width wider than 160 MHz or when switching to an EHT BSS operating channel width that includes at least one punctured 20 MHz subchannel. Otherwise, the Bandwidth Indication element is not present. The Bandwidth Indication element indicates the EHT BSS operating bandwidth after channel switching (see 35.15.3).

#### 9.6.7.17 TDLS Discovery Response frame format

*Insert the following rows to Table 9-482 (not all lines shown) in numeric order:*

**Table 9-482—TDLS Discovery Response Action field format**

| Order | Information      | Notes                                                                                                                    |
|-------|------------------|--------------------------------------------------------------------------------------------------------------------------|
| ...   |                  |                                                                                                                          |
| 20    | EHT Capabilities | The EHT Capabilities element is present if <code>dot11EHTOptionImplemented</code> is true; otherwise, it is not present. |
| 21    | Multi-Link       | The TDLS Multi-Link element is present if the non-AP STA is affiliated with a non-AP MLD; otherwise, it is not present.  |

#### 9.6.7.36 FILS Discovery frame format

*Change row 4 of Table 9-491 as follows:*

**Table 9-491—FILS Discovery frame format**

| Order | Information                     | Notes                                                                                                                                                                                                                                 |
|-------|---------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 4     | Reduced Neighbor Report element | One or more Reduced Neighbor Report elements are optionally present if <code>dot11FILSActivated</code> or <code>dot11ColocatedRNRImplemented</code> or <code>dot11MultiLinkActivated</code> is true; otherwise, they are not present. |

*Change Table 9-492 as follows:*

Table 9-492—BSS Operating Channel Width

| BSS Operating Channel Width field | HR/DSSS, OFDM, ERP, HT, VHT, or HE BSS operating channel width | EHT BSS operating channel width | TVHT BSS operating channel width |
|-----------------------------------|----------------------------------------------------------------|---------------------------------|----------------------------------|
| 0                                 | 20 MHz or 22 MHz                                               | 20 MHz or 22 MHz                | TVHT_W                           |
| 1                                 | 40 MHz                                                         | 40 MHz                          | TVHT_W+W                         |
| 2                                 | 80 MHz                                                         | 80 MHz                          | TVHT_2W                          |
| 3                                 | 160 MHz or 80+80 MHz                                           | 160 MHz                         | TVHT_4W or TVHT_2W+2W            |
| 4                                 | Reserved                                                       | 320 MHz                         | Reserved                         |
| 45–7                              | Reserved                                                       | Reserved                        | Reserved                         |

Change Table 9-494 (not all lines shown) as follows:

Table 9-494—PHY Index subfield

| PHY Index subfield | PHY                 |
|--------------------|---------------------|
| ...                |                     |
| 5                  | EHT (see Clause 3G) |
| 56–7               | Reserved            |

Insert the following column in Table 9-495:

Table 9-495—FILS Minimum Rate

| FILS Minimum Rate subfield | PHY Index subfield is 0 (HR/DSSS) | PHY Index subfield is 1 (ERP-OFDM) | PHY Index subfield is 2 (HT) | PHY Index subfield is 3 (VHT or TVHT) | PHY Index subfield is 4 (HE) | PHY Index subfield is 5 (EHT) |
|----------------------------|-----------------------------------|------------------------------------|------------------------------|---------------------------------------|------------------------------|-------------------------------|
| 0                          | 1 Mb/s                            | 6 Mb/s                             | HT-MCS 0                     | VHT-MCS 0                             | HE-MCS 0                     | EHT-MCS 0                     |
| 1                          | 2 Mb/s                            | 9 Mb/s                             | HT-MCS 1                     | VHT-MCS 1                             | HE-MCS 1                     | EHT-MCS 1                     |
| 2                          | 5.5 Mb/s                          | 12 Mb/s                            | HT-MCS 2                     | VHT-MCS 2                             | HE-MCS 2                     | EHT-MCS 2                     |
| 3                          | 11 Mb/s                           | 18 Mb/s                            | HT-MCS 3                     | VHT-MCS 3                             | HE-MCS 3                     | EHT-MCS 3                     |
| 4                          | Reserved                          | 24 Mb/s                            | HT-MCS 4                     | VHT-MCS 4                             | HE-MCS 4                     | EHT-MCS 4                     |
| 5–7                        | Reserved                          | Reserved                           | Reserved                     | Reserved                              | Reserved                     | Reserved                      |

Change the 29th and 30th paragraphs as follows:

The Operating Class and Primary Channel subfields are present if the FILS Discovery frame is transmitted in a non-HT duplicate PPDU. Otherwise, the subfields are not present. Selection of the operating class is defined in 11.45.2.1.

When present, the subfields indicate the following:

- If the operating class has a channel spacing other than 80 MHz
  - A minimum possible value for the BSS bandwidth, i.e., the BSS bandwidth is greater than or equals to the channel spacing
  - Center frequency of the primary XX MHz channel on which the BSS operates, where XX is the channel spacing
  - Center frequency of the primary channel

NOTE 3—If the channel spacing is equal to the BSS bandwidth, then the center frequency of the primary XX MHz channel is equal to the center frequency of the channel on which the BSS operates.

- If the operating class has a channel spacing of 80 MHz
  - A minimum possible value for the BSS bandwidth, i.e., the BSS bandwidth is greater than or equal to either 80 MHz, or equal to 80+80 MHz
  - Center frequency of the channel on which the BSS operates, if BSS bandwidth is 80 MHz
  - Center frequency of the primary 80 MHz channel, if BSS bandwidth is 80+80 MHz
  - Center frequency of the primary channel

## 9.6.8 FT Action frame details

### 9.6.8.1 FT Action field

*Change the first paragraph as follows:*

Four Action frame formats are defined to support fast BSS transitions over the DS, which are initiated through the currently associated APfast BSS transition responder (FTR). The FT Action frames are sent over the air between the STAfast BSS transition originator (FTO) and the current APFTR. The Action frame is used as a transport mechanism for data that are destined for the target APFTR. An FT Action field, in the octet immediately after the Category field, differentiates the FT Action frame formats. The FT Action field values associated with each FT Action frame format are defined in Table 9-510.

### 9.6.8.2 FT Request frame

*Change the first paragraph as follows:*

The FT Request frame is sent by the STAFTO to its associated APFTR to initiate an over-the-DS fast BSS transition.

*Change the sixth paragraph as follows:*

The Target AP Address field is set to the BSSID value of the target AP's BSSMAC address of the target FTR.

*Insert the following row to Table 9-511 (not all lines shown):*

Table 9-511—FT Request frame body

| Order | Information              | Notes                                                                 |
|-------|--------------------------|-----------------------------------------------------------------------|
| ...   |                          |                                                                       |
| 5     | Basic Multi-Link element | A Basic Multi-Link element is present if the target FTR is an AP MLD. |

#### 9.6.8.3 FT Response frame

*Change the first paragraph as follows:*

The FT Response frame is transmitted by the currently associated APFTR as a response to the STA's FTO's FT Request frame. Figure 9-1260 (FT Response frame Action field format) shows the format of the FT Response frame Action field.

*Change the fifth paragraph as follows:*

The Target AP Address field is set to the BSSID of the target AP's BSSFTR's MAC address.

*Insert the following row to Table 9-512 (not all lines shown):*

Table 9-512—FT Response frame body

| Order | Information              | Notes                                                                 |
|-------|--------------------------|-----------------------------------------------------------------------|
| ...   |                          |                                                                       |
| 4     | Basic Multi-Link element | A Basic Multi-Link element is present if the target FTR is an AP MLD. |

#### 9.6.8.4 FT Confirm frame

*Change the first paragraph as follows:*

The FT Confirm frame in an RSN is confirmation to the target APFTR of receipt of the ANonce and indicates the liveness of the PTKSA. The FT Confirm frame is optionally used by the FTO to request resources. Figure 9-1261 shows the FT Confirm frame Action field format.

*Change the fifth paragraph as follows:*

The Target AP Address field is set to the BSSID of the target AP's BSSTarget FTR's MAC address.

*Insert a new row in Table 9-513 (not all lines shown) as follows:*

Table 9-513—FT Confirm frame body

| Order | Information              | Notes                                                                 |
|-------|--------------------------|-----------------------------------------------------------------------|
| ...   |                          |                                                                       |
| 5     | Basic Multi-Link element | A Basic Multi-Link element is present if the target FTR is an AP MLD. |

#### 9.6.8.5 FT Ack frame

*Change the first paragraph as follows:*

The FT Ack frame is transmitted by the currently associated APETR as a response to the STAETO's FT Confirm frame. Figure 9-1262 (FT Ack frame Action field format) shows the FT Ack frame Action field format.

*Change the fifth paragraph as follows:*

The Target AP Address field is set to the BSSID of the target AP's BSS/target FTR's MAC address.

*Insert a new row in Table 9-514 (not all lines shown) as follows:*

Table 9-514—FT Ack frame body

| Order | Information              | Notes                                                                 |
|-------|--------------------------|-----------------------------------------------------------------------|
| ...   |                          |                                                                       |
| 6     | Basic Multi-Link element | A Basic Multi-Link element is present if the target FTR is an AP MLD. |

## 9.6.12 TDLS Action field formats

### 9.6.12.1 TDLS Action field

*Change the row “Reserved” and insert two new rows in Table 9-524 (not all lines shown) as follows:*

Table 9-524—TDLS Action field values

| Action field value | Meaning                     |
|--------------------|-----------------------------|
| ...                |                             |
| 11                 | TDLS Broadcast TWT Request  |
| 12                 | TDLS Broadcast TWT Response |
| 443–255            | Reserved                    |

### 9.6.12.2 TDLS Setup Request Action field format

*Change the row “AID” and insert 2 new rows in Table 9-525 (not all lines shown) as follows:*

Table 9-525—Information for TDLS Setup Request Action field

| Order | Information      | Notes                                                                                                                                                                                                                                    |
|-------|------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ...   |                  |                                                                                                                                                                                                                                          |
| 19    | AID              | The AID element containing the AID of the STA or non-AP MLD whose affiliated STA is sending the frame is present if dot11VHTOptionImplemented, dot11HEOptionImplemented, dot11EHTOptionImplemented or dot11S1GOptionImplemented is true. |
| ...   |                  |                                                                                                                                                                                                                                          |
| 26    | EHT Capabilities | The EHT Capabilities element is present if dot11EHTOptionImplemented is true; otherwise, it is not present.                                                                                                                              |
| 27    | Multi-Link       | The TDLS Multi-Link element is present if the non-AP STA is affiliated with a non-AP MLD; otherwise, it is not present.                                                                                                                  |

#### 9.6.12.3 TDLS Setup Response Action field format

*Change the row “AID” and insert two new rows in Table 9-526 (not all lines shown) as follows:*

Table 9-526—Information for TDLS Setup Response Action field

| Order | Information      | Notes                                                                                                                                                                                                                                                                                             |
|-------|------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ...   |                  |                                                                                                                                                                                                                                                                                                   |
| 20    | AID              | The AID element containing the AID of the STA or non-AP MLD whose affiliated STA is sending the frame is present if dot11VHTOptionImplemented, dot11HEOptionImplemented, dot11EHTOptionImplemented or dot11SIGOptionImplemented is true and the status code is SUCCESS and not present otherwise. |
| ...   |                  |                                                                                                                                                                                                                                                                                                   |
| 28    | EHT Capabilities | The EHT Capabilities element is present if dot11EHTOptionImplemented is true; otherwise, it is not present.                                                                                                                                                                                       |
| 29    | Multi-Link       | The TDLS Multi-Link element is present if the non-AP STA is affiliated with a non-AP MLD and the TDLS Setup Request frame soliciting a response carried a TDLS Multi-Link element; otherwise, it is not present.                                                                                  |

#### 9.6.12.4 TDLS Setup Confirm Action field format

*Insert the following rows in Table 9-527 (not all lines shown) as follows:*

Table 9-527—Information for TDLS Setup Confirm Action field

| Order | Information   | Notes                                                                                                                                                                                                                                                              |
|-------|---------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ...   |               |                                                                                                                                                                                                                                                                    |
| 15    | EHT Operation | The EHT Operation element is present when dot11EHTOptionImplemented is true, the TDLS Setup Response frame contained an EHT Capabilities element, and the status code is SUCCESS; otherwise, it is not present. The EHT Operation element is defined in 9.4.2.321. |
| 16    | Multi-Link    | The TDLS Multi-Link element is present if the non-AP STA is affiliated with a non-AP MLD and the preceding TDLS Setup Response frames carried a TDLS Multi-Link element; otherwise, it is not present.                                                             |

#### 9.6.12.7 TDLS Channel Switch Request Action field format

*Insert a new row in Table 9-530 (not all lines shown) as follows:*

Table 9-530—Information for TDLS Channel Switch Request Action field

| Order | Information                  | Notes                                                                                                                                                                                                                                                                             |
|-------|------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ...   |                              |                                                                                                                                                                                                                                                                                   |
| 11    | Bandwidth Indication element | Bandwidth Indication element (optional). For an EHT STA, the Bandwidth Indication element is present when switching to a bandwidth wider than 160 MHz direct link channel or when switching to a bandwidth that includes at least one punctured 20 MHz subchannel. See 9.4.2.329. |

#### 9.6.12.12 TDLS Discovery Request Action field format

*Insert the following row in Table 9-535 (not all lines shown) as follows:*

Table 9-535—Information for TDLS Discovery Request Action field

| Order | Information | Notes                                                                                                                   |
|-------|-------------|-------------------------------------------------------------------------------------------------------------------------|
| ...   |             |                                                                                                                         |
| 6     | Multi-Link  | The TDLS Multi-Link element is present if the non-AP STA is affiliated with a non-AP MLD; otherwise, it is not present. |

*Insert two new subclauses right after the subclause 9.6.12.12:*

#### 9.6.12.13 TDLS Broadcast TWT Request Action field format

The TDLS Broadcast TWT Request Action field contains information shown in Table 9-535a.

Table 9-535a—Information for TDLS Broadcast TWT Request Action field

| Order | Information               | Notes                                                                                                                                                                                                                                      |
|-------|---------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1     | Category                  | The Category field is defined in 9.4.1.11.                                                                                                                                                                                                 |
| 2     | TDLS Action               | The TDLS Action field is defined in 9.6.12.1.                                                                                                                                                                                              |
| 3     | Dialog Token              | The Dialog Token field contains a value that is unique among TDLS Broadcast TWT Request Action fields for which a corresponding TDLS Broadcast TWT Response Action field has not been received. The dialog token is specified in 9.4.1.12. |
| 4     | Link Identifier           | The Link Identifier element is specified in 9.4.2.60.                                                                                                                                                                                      |
| 5     | TWT Information Extension | The TWT Information Extension element is specified in 9.4.2.330.                                                                                                                                                                           |

#### 9.6.12.14 TDLS Broadcast TWT Response Action field format

The TDLS Broadcast TWT Response Action field contains information shown in Table 9-535b.

Table 9-535b—Information for TDLS Broadcast TWT Response Action field

| Order | Information               | Notes                                                                                                                                                       |
|-------|---------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1     | Category                  | The Category field is defined in 9.4.1.11.                                                                                                                  |
| 2     | TDLS Action               | The TDLS Action field is defined in 9.6.12.1.                                                                                                               |
| 3     | Dialog Token              | The Dialog Token field is set to a value contained in the corresponding TDLS Broadcast TWT Request Action field. The dialog token is specified in 9.4.1.12. |
| 4     | Status Code               | The Status Code field is specified in 9.4.1.9.                                                                                                              |
| 5     | Link Identifier           | The Link Identifier element is specified in 9.4.2.60.                                                                                                       |
| 6     | TWT Information Extension | The TWT Information Extension element is specified in 9.4.2.330.                                                                                            |

#### 9.6.13 WNM Action details

##### 9.6.13.8 BSS Transition Management Query frame format

*Change the first paragraph as follows:*

The BSS Transition Management Query frame is transmitted to request or provide information on BSS transition candidate APs or AP MLDs. The format of the BSS Transition Management Query frame Action field is shown in Figure 9-1271.

*Change the last paragraph as follows:*

The BSS Transition Candidate List Entries field contains zero or more Neighbor Report elements, as described in 9.4.2.35. The Neighbor Report elements are collected by the STA or non-AP MLD as part of its scanning procedures and provided to the AP or AP MLD as described in 11.21.7.2 (BSS transition management query) and 35.3.23. The length of the BSS Transition Candidate List Entries field in a BSS Transition Management Query frame is limited by the maximum MMPDU size (see 9.3.3.1).

##### 9.6.13.9 BSS Transition Management Request frame format

*Change the first paragraph as follows:*

The BSS Transition Management Request frame is transmitted by an AP or an AP affiliated with an AP MLD in response to a BSS Transition Management Query frame, or autonomously. The format of the BSS Transition Management Request frame Action field is shown in Figure 9-1272.

*Change the fourth, fifth and sixth paragraphs, including Figure 9-1273, as follows:*

The Dialog Token field is defined in 9.4.1.12 (Dialog Token field). It is the nonzero value received in the BSS Transition Management Query frame if the BSS Transition Management Request frame is being transmitted in response to a BSS Transition Management Query frame. If the BSS Transition Management

Request frame is being transmitted other than in response to a BSS Transition Management Query frame, then the Dialog Token field is a nonzero value chosen by the AP or AP\_MLD sending the BSS Transition Management Request frame to identify the request/response transaction.

The Request Mode field is defined in Figure 9-1273.

| B0                                | B1       | B2                    | B3                       | B4                        | B5                    | B6B7     | B7 |
|-----------------------------------|----------|-----------------------|--------------------------|---------------------------|-----------------------|----------|----|
| Preferred Candidate List Included | Abridged | Dissociation Imminent | BSS Termination Included | BSS Dissociation Imminent | Link Removal Imminent | Reserved |    |
| 1                                 | 1        | 1                     | 1                        | 1                         | 1                     | 02       |    |

Figure 9-1273—Request Mode field format

- The Preferred Candidate List Included (bit 0) field indicates whether the BSS transition candidate list included in this frame is a preferred candidate list or a list of known BSS transition candidates. The Preferred Candidate List Included bit set equal to 0 indicates that the receiving STA or non-AP\_MLD can ignore the BSS Transition Candidate List Entries field (see 11.21.7.3). The Preferred Candidate List Included bit set equal to 1 indicates that the sender expects the receiving STA or non-AP\_MLD to process this frame.
- The Abridged (bit 1) field indicates to the recipient of the frame the intended treatment of all BSSID<sub>0</sub> or AP\_MLD<sub>0</sub> not listed in the BSS Transition Candidate List Entries field. The AP or AP\_MLD sets the Abridged bit in the Request Mode field to 1 when a preference value of 0 is assigned:
  - to all BSSID<sub>0</sub> or
  - AP\_MLD<sub>0</sub> that do not appear in the BSS Transition Candidate List or
  - AP\_MLD<sub>0</sub> with requested links that are not recommended in the BSS Transition Candidate List.The AP or AP\_MLD sets the Abridged bit in the Request Mode field to 0 when the:
  - AP or AP\_MLD has no recommendation for or against any BSSID or
  - AP\_MLD is not present in the BSS Transition Candidate List Entries field or
  - AP\_MLDs with requested links that are not recommended in the BSS Transition Candidate List.
- The Dissociation Imminent (bit 2) field indicates whether the STA or the non-AP\_MLD will be disassociated from the current AP or AP\_MLD. The value 1 in the Dissociation Imminent bit in the Request Mode field indicates that the STA or the non-AP\_MLD is to be disassociated from the current AP or AP\_MLD, while the value 0 indicates that disassociation from the AP or AP\_MLD is not imminent.
- For a non-MLD STA, the BSS Termination Included field indicates whether the BSS Termination Duration field is included and the termination behavior of the BSS. A value of 0 in the BSS Termination Included field in the Request Mode field indicates that no BSS termination duration information is included in the BSS Transition Management Request frame. A value of 1 in the BSS Termination Included field in the Request Mode field indicates all the following:
  - BSS termination duration information is included in the BSS Transition Management Request frame.
  - The corresponding BSS is shutting down.
  - All the non-AP STAs associated with the AP corresponding to this BSS will be disassociated.
- For an MLD STA, the termination of the one or more BSS(s) corresponding to the APs affiliated with the AP\_MLD are defined by the BSS Termination Included field and the Link Removal Imminent field in the Request Mode field as indicated in Table 9-538a.

Table 9-538a—BSS Termination Included and Link Removal Imminent fields encoding

| BSS Termination Included field | Link Removal Imminent field | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Notes          |
|--------------------------------|-----------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------|
| 0                              | 0                           | No BSS termination duration information is included in the BSS Transition Management Request frame.                                                                                                                                                                                                                                                                                                                                                                                                                                |                |
| 0                              | 1                           | No BSS termination duration information is included in the BSS Transition Management Request frame.<br>The link corresponding to the AP that transmits this BSS Transition Management Request frame is being disabled.<br>A non-AP MLD might ignore the imminent disassociation indicated in the received broadcast BTM Request frame.<br>All the non-MLD non-AP STAs associated with the BSS whose AP transmits this BSS Transition Management Request frame (with Disassociation Imminent field set to 1) will be disassociated. | See 35.3.7.5.2 |
| 1                              | 0                           | BSS termination duration information is included in the BSS Transition Management Request frame.<br>The AP MLD and all its corresponding BSSs are shutting down.<br>All the non-AP MLDs associated with the AP MLD will be disassociated.                                                                                                                                                                                                                                                                                          |                |
| 1                              | 1                           | BSS termination duration information is included in the BSS Transition Management Request frame.<br>A BSS whose AP transmits this BSS Transition Management Request frame is shutting down.<br>A non-AP MLD that has set up (with the AP MLD) only the link corresponding to the AP that transmits this BSS Transition Management Request frame will be disassociated.                                                                                                                                                             | See 35.3.6.3   |

- The BSS Termination Included (bit 3) field indicates whether the BSS Termination Duration field is included, the BSS is shutting down and the STA will be disassociated. The AP sets the BSS Termination Included bit in the Request Mode field to 1 to indicate that the BSS is shutting down. The BSS Termination Included bit is 0 if no BSS Termination Duration information is included in the BSS Transition Management Request frame.
- The ESS Disassociation Imminent (bit 4) field indicates that the Session Information URL field is included, and that the STA or non-AP MLD will be disassociated from the ESS. The value 1 in the ESS Disassociation Imminent bit in the Request Mode field indicates that the STA or the non-AP MLD is to be disassociated from the ESS, while the value 0 indicates that disassociation from the ESS is not imminent. When the ESS Disassociation Imminent bit value is equal to 1, a Session Information URL field is included in the BSS Transition Management Request frame.
- The Link Removal Imminent field is reserved if one of the following conditions is met:
  - The transmitting AP is not affiliated with an AP MLD.
  - The transmitting AP is affiliated with an AP MLD that operates with only one affiliated AP.

The Disassociation Timer indicates the time after which the AP issues a Disassociation frame to the STA or the AP affiliated with the AP MLD sends a Disassociation frame to the non-AP STA affiliated with the non-AP MLD. The Disassociation Timer field contains the number of target beacon transmission times (TBTs) until the AP sends a Disassociation frame to the STA or the AP affiliated with the AP MLD sends a Disassociation frame to the non-AP STA affiliated with the non-AP MLD. Setting the field to 0 indicates that the AP has not determined when it will send a Disassociation frame to this STA or the AP affiliated with the AP MLD has not determined when it will send a Disassociation frame to the non-AP STA affiliated with the non-AP MLD. If the Disassociation Imminent field is equal to 0, the Disassociation Timer field is reserved. The format of the Disassociation Timer field is shown in Figure 9-1274 (Disassociation Timer field format).

**Change the eighth paragraph as follows:**

The BSS Termination Duration field contains the BSS Termination Duration subelement (see 9.4.2.35) for the current BSS or AP MLD and is present only when the BSS Termination Included field is equal to 1 in the Request Mode field.

#### 9.6.13.10 BSS Transition Management Response frame format

**Change the first paragraph as follows:**

The BSS Transition Management Response frame is optionally transmitted by a STA or a non-AP STA affiliated with a non-AP MLD in response to a BSS Transition Management Request frame. The format of the BSS Transition Management Response frame Action field is shown in Figure 9-1276 (BSS Transition Management Response frame Action field format).

**Change the fifth paragraph, including the addition of a NOTE, as follows:**

The BTM Status Code field contains the status code in response to a BSS Transition Management Request frame as defined in Table 9-539 (BTM status code definitions). If the STA or non-AP MLD will transition to another BSS or the non-AP MLD will transition to another AP MLD, then the status code is set to 0 (i.e., Accept). If the STA or non-AP MLD intends to retain the association with the current BSS or AP MLD, the status code is set to one of the “Reject” status codes.

**NOTE**—For a non-AP MLD, it can transition from the current AP MLD to either another AP MLD or another AP that is not affiliated with an AP MLD.

**Change the now-shifted seventh to ninth paragraphs as follows:**

The BSS Termination Delay field is the number of minutes that the responding STA or non-AP MLD requests the BSS or AP MLD to delay termination. This field is reserved if the Status code field value is not 5.

The Target BSSID field is the BSSID of the BSS to which the non-AP STA or non-AP MLD or the MLD MAC address of the AP MLD to which the non-AP MLD transitions to. This field is present if the BTM Status Code field is 0, and not present otherwise.

The BSS Transition Candidate List Entries field contains zero or more Neighbor Report elements described in 9.4.2.35. The Neighbor Report elements are collected by the STA or non-AP MLD as part of its scanning procedures and provided to the AP or AP MLD as described in 11.21.7.4 (BSS transition management response) and 35.3.23. The length of the BSS Transition Candidate List Entries field in a BSS Transition Management Response frame is limited by the maximum MMPDU size (see 9.3.3.1).

#### 9.6.13.20 WNM Sleep Mode Response frame format

*Change the sixth paragraph and Table 9-540 as follows:*

The Key Data field contains zero or more subelements that provide the current GTK, IGTK and BIGTK to the STA. The format of these subelements is shown in Figure 9-1288 (WNM Sleep Mode GTK subelement format), Figure 9-1289 (WNM Sleep Mode IGTK subelement format), and Figure 9-1290, Figure 9-1290a, Figure 9-1290b, and Figure 9-1290c. The subelement IDs for these subelements are defined in Table 9-540. When management frame protection was not negotiated for the current association, the Key Data field is not present.

Table 9-540—Optional subelement IDs for WNM Sleep Mode parameters

| Value  | Contents of subelement |
|--------|------------------------|
| 0      | GTK                    |
| 1      | IGTK                   |
| 2      | BIGTK                  |
| 3      | MLO GTK                |
| 4      | MLO IGTK               |
| 5      | MLO BIGTK              |
| 36–255 | Reserved               |

*Insert the following paragraphs after NOTE 2 (“Management frame protection is used to…”):*

The MLO GTK subelement contains the GTK for the AP operating on the link identified by the Link ID Info field carried in the subelement. The format of the MLO GTK subelement is shown in Figure 9-1290a.

![](60280fd2f831431ab8c23aa52d497028_img.jpg)

|        | Subelement ID | Length | Link ID Info | Key Info | Key Length | RSC | Key     |
|--------|---------------|--------|--------------|----------|------------|-----|---------|
| Ocets: | 1             | 1      | 1            | 2        | 1          | 8   | 5 to 32 |

Figure 9-1290a—WNM Sleep Mode MLO GTK subelement format

The Length field is defined in 9.4.3 (Subelements).

The format of the Link ID Info field is as defined in 9.4.1.77.

The Key Info, Key Length, and RSC fields are as defined for the GTK subelement subelement in Figure 9-1288 (WNM Sleep Mode GTK subelement format).

The Key field is the GTK being distributed for the AP operating on the link identified by the Link ID subfield.

The MLO IGTK subelement contains the IGTK for the AP operating on the link identified by the Link ID Info field carried in the subelement. The format of the MLO IGTK subelement is shown in Figure 9-1290b.

![](b6e1da3e7fff771329265a0700ff99d1_img.jpg)

|         | Subelement ID | Length | Link ID Info | Key ID | PN | Key |
|---------|---------------|--------|--------------|--------|----|-----|
| Octets: | 1             | 1      | 1            | 2      | 6  | 16  |

**Figure 9-1290b—WNM Sleep Mode MLO IGTK subelement format**

The Length field is defined in 9.4.3 (Subelements).

The format of the Link ID Info field is as defined in 9.4.1.77.

The Key ID and PN fields are as defined for the IGTK subelement in Figure 9-1287.

The Key field is the IGTK being distributed for the AP operating on the link identified by the Link ID subfield.

The MLO BIGTK subelement contains the BIGTK for the AP operating on the link identified by the Link ID Info field carried in the subelement. The format of the MLO BIGTK subelement is shown in Figure 9-1290c.

![](21da7c3b608907d849cd00617d785bdf_img.jpg)

|         | Subelement ID | Length | Link ID Info | Key ID | BIPN | Key      |
|---------|---------------|--------|--------------|--------|------|----------|
| Octets: | 1             | 1      | 1            | 2      | 6    | 16 or 32 |

**Figure 9-1290c—WNM Sleep Mode MLO BIGTK subelement format**

The Length field is defined in 9.4.3.

The format of the Link ID Info field is as defined in 9.4.1.77.

The Key ID and BIPN fields are as defined for the BIGTK subelement in Figure 9-1290.

The Key field is the BIGTK being distributed for the AP operating on the link identified by the Link ID subfield.

**NOTE 3**—There might be multiple MLO GTK, multiple MLO IGTK, and multiple MLO BIGTK subelements if a group rekeying is in process for one or more links when the non-AP MLD wakes up from WNM sleep mode. The Subelement ID field and Link ID Info field identifies the key type and the link to which the key(s) apply, respectively.

**NOTE 4**—Management frame protection is used to provide confidentiality, replay, and integrity protection for an MLO GTK/IGTK/BIGTK update in WNM Sleep Mode Response frames.

### 9.6.15 Self-protected Action frame details

#### 9.6.15.2 Mesh Peering Open frame format

##### 9.6.15.2.2 Mesh Peering Open frame details

*Insert two new rows in Table 9-547 (not all lines shown) in numeric order as follows:*

Table 9-547—Mesh Peering Open frame Action field format

| Order | Information      | Notes                                                                                                        |
|-------|------------------|--------------------------------------------------------------------------------------------------------------|
| ...   |                  |                                                                                                              |
| 25    | EHT Capabilities | The EHT Capabilities element is present if dot11EHTOption-Implemented is true; otherwise, it is not present. |
| 26    | EHT Operation    | The EHT Capabilities element is present if dot11EHTOption-Implemented is true; otherwise, it is not present. |

### 9.6.15.3 Mesh Peering Confirm frame format

#### 9.6.15.3.2 Mesh Peering Confirm frame details

*Insert two new rows in Table 9-548 (not all lines shown) in numeric order as follows:*

Table 9-548—Mesh Peering Confirm frame Action field format

| Order | Information      | Notes                                                                                                        |
|-------|------------------|--------------------------------------------------------------------------------------------------------------|
| ...   |                  |                                                                                                              |
| 21    | EHT Capabilities | The EHT Capabilities element is present if dot11EHTOption-Implemented is true; otherwise, it is not present. |
| 22    | EHT Operation    | The EHT Capabilities element is present if dot11EHTOption-Implemented is true; otherwise, it is not present. |

### 9.6.18 Robust AV Streaming Action frame details

#### 9.6.18.3 SCS Response frame format

*Change Figure 9-1304 as follows:*

![](ff71eb0fcbe273cca35a73307bbad68e_img.jpg)

|         | Category | Robust Action | Dialog Token | Count | SCS Status List | SCS Descriptor List |
|---------|----------|---------------|--------------|-------|-----------------|---------------------|
| Octets: | 1        | 1             | 1            | 1     | variable        | variable            |

Figure 9-1304—SCS Response frame Action field format

*Insert the following paragraph at the end of the subclause:*

The SCS Descriptor List field is optionally present when the SCS Response frame is sent from a STA affiliated with an MLD to a STA affiliated with another MLD. If present, the SCS Descriptor List field contains zero or more SCS Descriptor elements, as defined in 9.4.2.120. Each SCS Descriptor element contains a QoS Characteristics element to describe the traffic characteristics and QoS expectations of traffic flows that belong to this SCS stream identified by the SCSID field value in the same SCS Descriptor element. For each SCS Status dupe in the SCS Status List field with Status subfield indicating REJECTED\_WITH\_SUGGESTED\_CHANGES, an SCS Descriptor element is present whose SCSID field matches the SCSID subfield in the SCS Status dupe; no SCS Descriptor element is present otherwise.

#### 9.6.24 Unprotected S1G Action frame detail

##### 9.6.24.8 TWT Setup frame format

*Change Table 9-617 as follows:*

Table 9-617—TWT Setup frame Action field format

| Order | Information                     |
|-------|---------------------------------|
| 1     | Category                        |
| 2     | Unprotected S1G Action          |
| 3     | Dialog Token                    |
| 4     | One or two more TWT (9.4.2.198) |

*Change the last paragraph as follows:*

A TWT Setup frame contains only one TWT element, except if used for the establishment of a TWT agreement with a range of TWT parameter values (see 10.47.9 (TWT parameter ranges)) or the setup involves more than one link as described in 35.3.24.1. In this case(s), an additional TWT element(s) is present.

*Insert the following new subclauses at the end of subclause 9.6:*

#### 9.6.37 EHT Action frame details

##### 9.6.37.1 EHT Action field

An EHT Action field, in the octet immediately after the Category field, differentiates the EHT Action frame formats. The EHT Action field values associated with each frame format within the EHT category are defined in Table 9-658b.

**Table 9-658b—EHT Action field values**

| Value | Meaning                        |
|-------|--------------------------------|
| 0     | EHT Compressed Beamforming/CQI |
| 1–255 | Reserved                       |

#### 9.6.37.2 EHT Compressed Beamforming/CQI frame format

The EHT Compressed Beamforming/CQI frame is an Action No Ack frame of category EHT. The Action field of an EHT Compressed Beamforming/CQI frame contains the information shown in Table 9-658c.

**Table 9-658c—EHT Compressed Beamforming/CQI frame Action field format**

| Order | Meaning                                      |
|-------|----------------------------------------------|
| 1     | Category                                     |
| 2     | EHT Action                                   |
| 3     | EHT MIMO Control (see 9.4.1.72)              |
| 4     | EHT Sounding Feedback Segment (see 9.4.1.80) |

The Category field is defined in Table 9-81.

The EHT Action field is defined in Table 9-658b.

A Vendor Specific element is not present in the EHT Compressed Beamforming/CQI frame.

#### 9.6.38 Protected EHT Action frame details

##### 9.6.38.1 Protected EHT Action field

A Protected EHT Action field, in the octet immediately after the Category field, differentiates the Protected EHT Action frame formats. The Protected EHT Action field values associated with each frame format within the EHT category are defined in Table 9-658d.

**Table 9-658d—Protected EHT Action field values**

| Value | Meaning                              | Time priority |
|-------|--------------------------------------|---------------|
| 0     | TID-To-Link Mapping Request          | No            |
| 1     | TID-To-Link Mapping Response         | No            |
| 2     | TID-To-Link Mapping Teardown         | No            |
| 3     | EPCS Priority Access Enable Request  | No            |
| 4     | EPCS Priority Access Enable Response | No            |
| 5     | EPCS Priority Access Teardown        | No            |
| 6     | EML Operating Mode Notification      | No            |

**Table 9-658d—Protected EHT Action field values (continued)**

| Value  | Meaning                              | Time priority |
|--------|--------------------------------------|---------------|
| 7      | Link Recommendation                  | No            |
| 8      | Multi-Link Operation Update Request  | No            |
| 9      | Multi-Link Operation Update Response | No            |
| 10     | Link Reconfiguration Notify          | No            |
| 11     | Link Reconfiguration Request         | No            |
| 12     | Link Reconfiguration Response        | No            |
| 13–255 |                                      |               |

#### 9.6.38.2 TID-To-Link Mapping Request frame format

An MLD uses the TID-To-Link Mapping Request frame to negotiate a TTLM for setup links with a peer MLD. The Action field of the TID-To-Link Mapping Request frame contains the information shown in Table 9-658e.

**Table 9-658e—TID-To-Link Mapping Request frame Action field format**

| Order | Information                         |
|-------|-------------------------------------|
| 1     | Category                            |
| 2     | Protected EHT Action                |
| 3     | Dialog Token                        |
| 4     | TID-To-Link Mapping (see 9.4.2.324) |

The Category field is defined in 9.4.1.11 (Action field).

The Protected EHT Action field is defined in 9.6.38.1 (Protected EHT Action field).

The Dialog Token field is a set to a nonzero value chosen by the STA sending the TID-To-Link Mapping Request frame to identify the request/response transaction.

The TID-To-Link Mapping field contains one or two TID-To-Link Mapping elements, specified in 9.4.2.324 (TID-To-Link Mapping element). When the TID-To-Link Mapping field contains two TID-To-Link Mapping elements, the Direction subfield in one of the TID-To-Link Mapping elements is set to 0 and the Direction subfield in the other element is set to 1.

#### 9.6.38.3 TID-To-Link Mapping Response frame format

The TID-To-Link Mapping Response frame is sent, by a STA affiliated with an MLD in response to a TID-To-Link Mapping Request frame, to accept or reject a proposed TTLM, or sent by a STA affiliated with an MLD to suggest a preferred TTLM. The Action field of the TID-To-Link Mapping Response frame contains the information shown in Table 9-658f.

**Table 9-658f—TID-To-Link Mapping Response frame Action field format**

| Order | Information                         |
|-------|-------------------------------------|
| 1     | Category                            |
| 2     | Protected EHT Action                |
| 3     | Dialog Token                        |
| 4     | Status Code                         |
| 5     | TID-To-Link Mapping (see 9.4.2.324) |

The Category field is defined in 9.4.1.11.

The Protected EHT Action field is defined in 9.6.38.1.

When the TID-To-Link Mapping Response frame is transmitted as a response to a TID-To-Link Mapping Request frame, the Dialog Token field is the value in the corresponding TID-To-Link Mapping Request frame. When the TID-To-Link Mapping Response frame is transmitted as an unsolicited response, then the Dialog token is set to 0.

The Status Code field is defined in 9.4.1.9.

The TID-To-Link Mapping field contains zero, one, or two TID-To-Link Mapping elements as specified in 9.4.2.324.

- The TID-To-Link Mapping field contains one or two TID-To-Link Mapping elements if the Status Code field is set to 134 (PREFERRED\_TID\_TO\_LINK\_MAPPING\_SUGGESTED).
- When it contains two TID-To-Link Mapping elements, the Direction subfield in one of the TID-To-Link Mapping elements is set to 0 (Downlink) and the Direction subfield in the other element is set to 1 (Uplink)
- Otherwise, the TID-To-Link Mapping field does not contain a TID-To-Link Mapping element.

#### 9.6.38.4 TID-To-Link Mapping Teardown frame format

The TID-To-Link Mapping Teardown frame is sent by a STA affiliated with an MLD to request the teardown of an existing TLLM that has been negotiated with the peer MLD. The Action field of the TID-To-Link Mapping Teardown frame contains the information shown in Table 9-658g.

**Table 9-658g—TID-To-Link Mapping Teardown frame Action field format**

| Order | Information          |
|-------|----------------------|
| 0     | Category             |
| 1     | Protected EHT Action |

The Category field is defined in 9.4.1.11 (Action field).

The Protected EHT Action field is defined in 9.6.38.1 (Protected EHT Action field).

#### 9.6.38.5 EPCS Priority Access Enable Request frame format

The EPCS Priority Access Enable Request frame is an Action frame of category Protected EHT. The frame is transmitted by an MLD through an affiliated STA as a request to enable EPCS priority access (see 35.16). The Action field of the EPCS Priority Access Enable Request frame contains the information shown in Table 9-658h.

**Table 9-658h—EPCS Priority Access Enable Request frame Action field format**

| Order | Meaning                                            |
|-------|----------------------------------------------------|
| 1     | Category                                           |
| 2     | Protected EHT Action                               |
| 3     | Dialog Token                                       |
| 4     | EPCS Priority Access Multi-Link element (optional) |

The Category field is defined in 9.4.1.11.

The Protected EHT Action field is defined in 9.6.38.1.

The Dialog Token field is defined in 9.4.1.12 (Dialog Token field) is set to a nonzero value chosen by the MLD sending the EPCS Priority Access Enable Request frame to identify the request/response transaction.

The EPCS Priority Access Multi-Link element is optionally present if the Action frame is sent by an AP MLD and is defined in 9.4.2.322.6 and not present if the Action frame is sent by an EPCS non-AP MLD.

#### 9.6.38.6 EPCS Priority Access Enable Response frame format

The EPCS Priority Access Enable Response frame is an Action frame of category Protected EHT. The frame is transmitted in response to an EPCS Priority Access Enable Request frame (see 35.16). It can also be transmitted in an unsolicited mode by the AP MLD to modify parameters used by a non-AP MLD with EPCS priority access in the enabled state. The Action field of the EPCS Priority Access Enable Response frame contains the information shown in Table 9-658i.

**Table 9-658i—EPCS Priority Access Enable Response frame Action field format**

| Order | Meaning                                            |
|-------|----------------------------------------------------|
| 1     | Category                                           |
| 2     | Protected EHT                                      |
| 3     | Dialog Token                                       |
| 4     | Status Code                                        |
| 5     | EPCS Priority Access Multi-Link element (optional) |

The Category field is defined in 9.4.1.11.

The Protected EHT Action field is defined in 9.6.38.1.

When the EPCS Priority Access Enable Response frame is sent as a response to the EPCS Priority Access Enable Request frame, the Dialog Token field is defined in 9.4.1.12 (Dialog Token field) and is set to the Dialog Token field in the corresponding EPCS Priority Access Enable Request frame. When EPCS Priority Access Enable Response frame is sent in unsolicited mode, the Dialog Token field is set to 0.

The Status Code field is defined in 9.4.1.9. When the EPCS Priority Access Enable Response frame is sent in unsolicited mode, the Status Code field is set to 0 (SUCCESS).

The EPCS Priority Access Multi-Link element is optionally present if the Action frame is sent by an AP MLD and is defined in 9.4.2.322.6 and not present if the Action frame is sent by an EPCS non-AP MLD.

#### 9.6.38.7 EPCS Priority Access Teardown frame details

The EPCS Priority Access Teardown frame is an Action frame of category Protected EHT. The frame is transmitted by an initiating MLD through an affiliated STA to tear down EPCS priority access (see 35.16). The Action field of the EPCS Priority Access Teardown frame contains the information shown in Table 9-658j.

Table 9-658j—EPCS Priority Access Teardown Action field format

| Order | Meaning       |
|-------|---------------|
| 1     | Category      |
| 2     | Protected EHT |

The Category field is defined in 9.4.1.11.

The Protected EHT Action field is defined in 9.6.38.1.

#### 9.6.38.8 EML Operating Mode Notification frame details

The EML Operating Mode Notification frame is used to indicate that a non-AP MLD with which the transmitting STA is affiliated is changing its EML operation (see 35.3.17 and 35.3.18) and is used by an AP affiliated with an AP MLD as a response to the received EML Operating Mode Notification frame from the soliciting non-AP STA affiliated with the non-AP MLD.

The Action field of the EML Operating Mode Notification frame contains the information shown in Table 9-658k.

The Category field is defined in 9.4.1.11.

The Protected EHT Action field is defined in 9.6.38.1.

The Dialog Token field is set by a non-AP MLD to a nonzero value chosen by the non-AP MLD and is set by an AP MLD to the value copied from the corresponding received EML Operating Mode Notification frame.

**Table 9-658k—Protected EML Operating Mode Notification frame Action field format**

| Order | Information                                      |
|-------|--------------------------------------------------|
| 1     | Category                                         |
| 2     | Protected EHT Action                             |
| 3     | Dialog Token                                     |
| 4     | EML Control (see 9.4.1.76)                       |
| 5     | EMLSR Parameter Update (optional) (see 9.4.1.78) |

The EML Control field is defined in 9.4.1.76.

The EMLSR Parameter Update field is optionally present in the EML Operating Mode Notification frame. The EMLSR Parameter Update field is present if the EMLSR Parameter Update Control subfield of the EML Control field is equal to 1 and the EML Operating Mode Notification frame is sent by a non-AP STA affiliated with a non-AP MLD; otherwise, it is not present. The EMLSR Parameter Update field is defined in 9.4.1.78.

#### 9.6.38.9 Link Recommendation frame format

The Link Recommendation frame is an Action No Ack frame of category Protected EHT. The Action field of a Link Recommendation frame contains the information shown in Table 9-658l.

**Table 9-658l—Link Recommendation frame Action field format**

| Order | Meaning                               |
|-------|---------------------------------------|
| 1     | Category                              |
| 2     | Protected EHT Action                  |
| 3     | Reason Code                           |
| 4     | AID Bitmap element                    |
| 5     | Multi-Link Traffic Indication element |

The Category field is defined in Table 9-81. The Protected EHT Action field is defined in Table 9-658d. The Reason Code field is defined in 9.4.1.7 (Reason Code field) and provides the reason why the AP MLD is sending the link recommendation.

The AID Bitmap element is described in 9.4.2.328 and is used to identify the non-AP MLDs for which a link recommendation is provided.

The Multi-Link Traffic Indication element is described in 9.4.2.325 and is used to describe the link recommendations for all the non-AP MLDs that are identified in the AID Bitmap element.

#### 9.6.38.10 Multi-Link Operation Update Request frame format

The Multi-Link Operation Update Request frame is sent by a non-AP STA affiliated with a non-AP MLD to update the status or operation parameters of the non-AP STA(s) affiliated with the non-AP MLD as indicated in the Reconfiguration Operation Type subfield in the Reconfiguration Multi-Link element. The Action field of the Multi-Link Operation Update Request frame contains the information shown in Table 9-658m.

**Table 9-658m—Multi-Link Operation Update Request frame Action field format**

| Order | Meaning                                              |
|-------|------------------------------------------------------|
| 1     | Category                                             |
| 2     | Protected EHT Action                                 |
| 3     | Dialog Token                                         |
| 4     | Reconfiguration Multi-Link element (see 9.4.2.322.4) |

The Category field is defined in 9.4.1.11.

The Protected EHT Action field is defined in 9.6.38.1.

The Dialog Token field is defined in 9.4.1.12. The Dialog Token field is set to a nonzero value chosen by the STA sending the Multi-Link Operation Update Request frame to identify the request/response transaction.

The Reconfiguration Multi-Link element is specified in 9.4.2.322.4 and contains the status or operation parameters to be updated to the STA.

#### 9.6.38.11 Multi-Link Operation Update Response frame format

The Multi-Link Operation Update Response frame is sent by an AP affiliated with an AP MLD in response to a Multi-Link Operation Update Request frame to accept or to reject the request of the status or operation parameter update in the Multi-Link Operation Update Request frame. The Action field of the Multi-Link Operation Update Response frame contains the information shown in Table 9-658n.

**Table 9-658n—Multi-Link Operation Update Response frame Action field format**

| Order | Meaning              |
|-------|----------------------|
| 1     | Category             |
| 2     | Protected EHT Action |
| 3     | Dialog Token         |
| 4     | Status Code          |

The Category field is defined in 9.4.1.11.

The Protected EHT Action field is defined in 9.6.38.1.

The Dialog Token field carries the same value as the Dialog Token field of the corresponding Multi-Link Operation Update Request frame.

The Status Code field is defined in 9.4.1.9 and is set to the value 0 (SUCCESS) or 141 (DENIED\_OPERATION\_PARAMETER\_UPDATE).

#### 9.6.38.12 Link Reconfiguration Notify frame format

The Link Reconfiguration Notify frame is used by an AP MLD to recommend addition and/or deletion of link(s) to the ML setup of its associated non-AP MLD(s).

The Link Reconfiguration Notify frame is an Action frame of category Protected EHT. The Action field of a Link Reconfiguration Notify frame contains the information shown in Table 9-658o.

Table 9-658o—Link Reconfiguration Notify frame Action field format

| Order | Meaning                                              |
|-------|------------------------------------------------------|
| 1     | Category                                             |
| 2     | Protected EHT Action                                 |
| 3     | Dialog Token                                         |
| 4     | Reconfiguration Multi-Link element (see 9.4.2.322.4) |

The Category field is defined in 9.4.1.11 and is set to Protected EHT.

The Protected EHT Action field is defined in 9.6.38.1.

The Dialog Token field is a nonzero value chosen by the transmitting AP MLD to identify a notify/request/response sequence.

One Reconfiguration Multi-Link element is included as defined in 9.4.2.322.4.

#### 9.6.38.13 Link Reconfiguration Request frame format

The Link Reconfiguration Request frame is used by a non-AP MLD to request addition and/or deletion of links to its ML setup.

The Link Reconfiguration Request frame is an Action frame of category Protected EHT. The Action field of a Link Reconfiguration Request frame contains the information shown in Table 9-658p.

Table 9-658p—Link Reconfiguration Request frame Action field format

| Order | Meaning              |
|-------|----------------------|
| 1     | Category             |
| 2     | Protected EHT Action |
| 3     | Dialog Token         |

**Table 9-658p—Link Reconfiguration Request frame Action field format (continued)**

| Order | Meaning                                              |
|-------|------------------------------------------------------|
| 4     | Reconfiguration Multi-Link element (see 9.4.2.322.4) |
| 5     | OCI element (see 9.4.2.235)                          |

The Category field is defined in 9.4.1.11 and is set to Protected EHT.

The Protected EHT Action field is defined in 9.6.38.1.

The Dialog Token field is set to a nonzero value chosen by the non-AP MLD sending the Link Reconfiguration Request frame.

One Reconfiguration Multi-Link element is included as defined in 9.4.2.322.4.

One OCI element field is optionally present and contains an OCI element as defined in 9.4.2.235.

#### 9.6.38.14 Link Reconfiguration Response frame format

The Link Reconfiguration Response frame is sent by an AP MLD in response to a Link Reconfiguration Request frame received from a non-AP MLD to accept or reject request for adding and/or deleting links to the ML setup of the non-AP MLD.

The Link Reconfiguration Response frame is an Action frame of category Protected EHT. The Action field of a Link Reconfiguration Response frame contains the information shown in Table 9-658q.

**Table 9-658q—Link Reconfiguration Response frame Action field format**

| Order | Meaning                                               |
|-------|-------------------------------------------------------|
| 1     | Category                                              |
| 2     | Protected EHT Action                                  |
| 3     | Dialog Token                                          |
| 4     | Count                                                 |
| 5     | Reconfiguration Status List                           |
| 6     | Group Key Data (optional)                             |
| 7     | OCI element (see 9.4.2.235) (optional)                |
| 8     | Basic Multi-Link element (see 9.4.2.322.2) (optional) |

The Category field is defined in 9.4.1.11 and is set to Protected EHT.

The Protected EHT Action field is defined in 9.6.38.1.

The Dialog Token field is set to the value of the Dialog Token field from the corresponding Link Reconfiguration Request frame.

The Count subfield is set to the number of reconfiguration status dupe in the Reconfiguration Status List subfield.

The Reconfiguration Status List subfield contains one or more reconfiguration status dupe as shown in Figure 9-1322c.

![](11f37360e4b91b517c51c68e566c710e_img.jpg)

| Link ID Info | Status |
|--------------|--------|
| Octets: 1    | 2      |

**Figure 9-1322c—Reconfiguration Status Dupe subfield format**

The format of the Link ID Info subfield is defined in Figure 9-207e. The Link ID subfield of the Link ID Info subfield indicates the link identifier of the AP that is indicated for addition to or deletion from the existing ML setup in the corresponding Link Reconfiguration Request frame.

The Status subfield indicates the status of the link reconfiguration operation for the link corresponding to the Link ID subfield, as indicated in Table 9-80 and following the rules defined in 35.3.6.4.

The Group Key Data subfield is optionally present and contains group keys for the links successfully added (Status value equal to SUCCESS) to the ML setup. It is formatted as per Figure 9-1322d. This subfield is not included if no link addition requested in the corresponding Link Reconfiguration Request frame is indicated as SUCCESS in the Link Reconfiguration Response frame.

![](ad17f1a4c29f1e00b10a6d394671feb2_img.jpg)

| Key Data Length | Key Data |
|-----------------|----------|
| Octets: 1       | variable |

**Figure 9-1322d—Group Key Data subfield format**

The Key Data Length subfield is the length of the Key Data subfield.

The Key Data subfield contains one or more MLO KDEs for group keys corresponding to added links. Each MLO KDE is encapsulated using the KDE format shown in Figure 12-37 (KDE format). For each added link, an MLO GTK KDE is included as defined in Figure 12-50d, an MLO IGTK KDE is included as defined in Figure 12-50e, and an MLO BIGTK KDE is included as defined in Figure 12-50f.

NOTE—The MLO KDE format is link specific and includes link ID.

One OCI element subfield is optionally present if the Group Key Data subfield is included and contains an OCI element as defined in 9.4.2.235.

One Basic Multi-Link element is included to provide Per-STA Profile information for one or more APs corresponding to the successfully added links to the ML setup of the non-AP MLD, if at least one link addition was accepted by the AP MLD. Otherwise, Basic Multi-Link element is not included.

## 9.7 Aggregate MPDU (A-MPDU)

### 9.7.1 A-MPDU format

*Change the fourth paragraph as follows:*

The EOF Padding field is shown in Figure 9-1324. This is present only in a VHT, EDMG, S1G, or HE or EHT PPDU.

*Change the sixth paragraph as follows:*

In a VHT, EDMG, S1G, or HE or EHT PPDU, the following padding is present, as determined by the rules in 10.12.6:

- 0–3 octets in the Padding subfield of the final A-MPDU subframe (see Figure 9-1325) before any EOF padding subframes. The content of these octets is unspecified.
- Zero or more EOF padding subframes in the EOF Padding Subframes subfield.
- 0–3 octets in the EOF Padding Octets subfield. The content of these octets is unspecified.

*Change the ninth paragraph as follows:*

The maximum length of an A-MPDU in an HT PPDU is 65 535 octets. The maximum length of an A-MPDU in a DMG PPDU is 262 143 octets. The maximum length of an A-MPDU pre-EOF padding in a VHT PPDU is 1 048 575 octets. The maximum length of an A-MPDU pre-EOF padding in an HE PPDU is 6 500 631 octets. The maximum length of an A-MPDU in an EDMG PPDU is 4 194 303 octets. The maximum length of an A-MPDU pre-EOF padding in an EHT PPDU is 15 523 200 octets. The length of an A-MPDU addressed to a particular STA can be further constrained as described in 10.12.2.

*Change Table 9-659 as follows:*

*Change the 12th paragraph as follows:*

The format of the MPDU Length field when transmitted by a non-DMG STA is shown in Figure 9-1327). The MPDU Length Low subfield contains the 12 low order bits of the MPDU length. In a VHT, or HE or EHT PPDU, the MPDU Length High subfield contains the two high order bits of the MPDU length. In an HT PPDU, the MPDU Length High subfield is reserved.

*Change Equation (9-16) as follows:*

$$L_{MPDU} = \begin{cases} L_{low} + L_{high} \times 4096, & \text{for a VHT and HE PPDU} \\ L_{low}, & \text{for an HT PPDU} \\ L, & \text{for a DMG and EDMG PPDU} \end{cases} \quad (9-16)$$

$$L_{MPDU} = \begin{cases} L_{low} + L_{high} \times 4096, & \text{for a VHT, HE, and EHT PPDU} \\ L_{low}, & \text{for an HT PPDU} \\ L, & \text{for a DMG and EDMG PPDU} \end{cases} \quad (9-16)$$

*Change the 15th paragraph as follows:*

Table 9-659—MPDU delimiter fields

| Field               | Size (bits) | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|---------------------|-------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| EOF/Tag             | 1           | <p>End of frame indication if the MPDU Length field is 0. Set to 1 in an A-MPDU subframe that has 0 in the MPDU Length field and that is used to pad the A-MPDU in a VHT<sub>2</sub> or HE<sub>2</sub> or EHT PPDU as described in 10.12.6. Set to 1 in the MPDU delimiter of an S-MPDU as described in 10.12.7.</p> <p>Tagged/untagged indication if the MPDU Length field is nonzero. Set to 1 in an MPDU delimiter preceding a QoS Data frame or Management frame soliciting an Ack frame or Per AID TID Info field with the Ack Type field set to 1 in a Multi-STA BlockAck frame in a response that is contained in an ack-enabled multi-TID A-MPDU as described in 26.6.3.4 and ack-enabled single-TID A-MPDU as described in 26.6.3.2. Set to 0 otherwise.</p> <p>In a DMG PPDU, this field is reserved. In an EDMG PPDU, it is set to 1 in EOF padding subframes and set to 0 otherwise (see 10.12.7).</p> |
| Reserved            | 1           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| MPDU Length         | 14          | <p>Length of the MPDU in octets. Set to 0 if no MPDU is present. An A-MPDU subframe with 0 in the MPDU Length field is used as defined in 10.12.3 to meet the minimum MPDU start spacing requirement and also to pad the A-MPDU to fill the available octets in a VHT<sub>2</sub> or HE<sub>2</sub> or EHT PPDU as defined in 10.12.6.</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| CRC                 | 8           | <p>8-bit CRC of the preceding 16 bits.</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| Delimiter Signature | 8           | <p>Pattern that can be used to detect an MPDU delimiter when scanning for an MPDU delimiter. The unique pattern is 0x4E, which is the ASCII value of the character “N”.</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |

NOTE 2—The format of the MPDU Length field maintains a common encoding structure for HE, VHT, and HT, VHT, HE, and EHT PPDU. For HT PPDU, only the MPDU Length Low subfield is used, while for VHT<sub>2</sub> and HE, and EHT PPDU, both subfields are used.

### 9.7.3 A-MPDU contents

*Change the first paragraph as follows:*

In a non-DMG PPDU, an A-MPDU is a sequence of A-MPDU subframes carried in a single PPDU with one of the following combinations of RXVECTOR or TXVECTOR parameter values:

- The FORMAT parameter set to VHT
- The FORMAT parameter set to HT\_MF or HT\_GF and the AGGREGATION parameter set to 1
- The FORMAT parameter set to S1G, S1G\_DUP\_1M, or S1G\_DUP\_2M and the AGGREGATION parameter set to 1
- The FORMAT parameter set to HE\_SU, HE\_MU, HE\_TB, or HE\_ER\_SU
- The FORMAT parameter set to NGV
- The FORMAT parameter set to EHT\_MU or EHT\_TB

*Change the sixth paragraph as follows:*

The Duration/ID fields in the MAC headers of all MPDUs in an A-MPDU carry the same value. The Duration/ID fields in the MAC headers of the MPDUs in the A-MPDUs carried in a VHT MU PPDU<sub>2</sub> and an HE MU PPDU<sub>2</sub> and an EHT MU PPDU carry the same value.

**Change the tenth paragraph as follows:**

A VHT MU PPDU, SIG MU PPDU, and HE MU PPDU, and EHT MU PPDU do not carry more than one A-MPDU that contains one or more MPDUs soliciting an immediate response if the immediate response is carried in a PPDU that is neither an HE TB PPDU nor an EHT TB PPDU. An HE MU PPDU and an EHT MU PPDU can carry more than one A-MPDU each of which contains one or more MPDUs soliciting an immediate response if the immediate response is carried in an HE TB PPDU or an EHT TB PPDU.

**Change the 12th paragraph as follows:**

NOTE 4—If a STA supports A-MSDUs of 7935 octets [indicated by the Maximum A-MSDU Length field in the HT Capabilities element or in a Reconfiguration Multi-Link element with Reconfiguration Operation Type subfield in the STA Control field equal to 1 and Maximum A-MSDU Length Present subfield in the STA Info field equal to 1 (see 35.3.6.6)], A-MSDUs transmitted by that TA within an A-MPDU carried in a PPDU with FORMAT HT\_MF or HT\_GF or within an MPDU carried in a non-HT PPDU are constrained so that the length of the QoS Data frame carrying the A-MSDU is no more than 4095 octets. The 4095-octet MPDU length limit does not apply to A-MPDUs carried in VHT, HE, EHT, or DMG PPDUs. The use of A-MSDU within A-MPDU might be further constrained as described in 9.4.1.13 through the operation of the A-MSDU Supported field.

**Change Table 9-660 (only relevant rows shown) as follows:**

Table 9-660—A-MPDU contexts

| Name of Context  | Definition of Context                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | Table defining permitted contents |
|------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|
| ...              | ...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | ...                               |
| Control Response | The A-MPDU is transmitted by a STA that is neither a TXOP holder nor an RD responder, or the A-MPDU is transmitted by an HE AP in response to an HE TB PPDU, or an EHT AP in response to an EHT TB PPDU, and the transmitter also needs to transmit one of the following immediate response frames: <ul><li>Ack frame</li><li>BlockAck frame with a TID for which an HT-immediate block ack agreement exists</li><li>Multi-STA BlockAck frame for acknowledging multi-TID A-MPDU</li></ul> | Table 9-663                       |
| S-MPDU context   | The A-MPDU is transmitted within a VHT PPDU, or an HE PPDU, or an EHT PPDU and contains an S-MPDU.                                                                                                                                                                                                                                                                                                                                                                                         | Table 9-664                       |
| ...              | ...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | ...                               |

*Change Table 9-663 (only relevant rows shown) as follows:*

Table 9-663—A-MPDU contents in the control response context

| MPDU                    | Conditions                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                         |
|-------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Ack                     | Ack frame transmitted in response to an MPDU that requires an Ack frame.                                                                                                                                                                                                                                                                      | One of Ack and compressed BlockAck frame is present at the start of the A-MPDU between two STAs that are not both HE STAs; these are not present other than at the start of the A-MPDU. |
| BlockAck                | Compressed BlockAck frame with a TID that corresponds to an HT-immediate block ack agreement. See NOTE.<br>Multi-STA BlockAck frame if the preceding PPDU is either an HE or EHT_TB PPDU that solicits an immediate response (see 26.4.4.) or an HE or EHT PPDU that carries a multi-TID A-MPDU or ack-enabled multi-TID A-MPDU (see 26.6.3). |                                                                                                                                                                                         |
| EDMG Multi-TID BlockAck | If the preceding PPDU that carried a multi-TID A-MPDU contains an implicit or explicit block ack requests for multiple TIDs for which an HT-immediate block ack agreement exists, one or several copies of the same EDMG Multi-TID BlockAck frame.                                                                                            |                                                                                                                                                                                         |
| ...                     | ...                                                                                                                                                                                                                                                                                                                                           |                                                                                                                                                                                         |

*Change the title of Table 9-665 as follows:*

Table 9-665—A-MPDU contents in the HE non-ack-enabled single-TID immediate response context or in the EHT non-ack-enabled single-TID immediate response context

| MPDU | Conditions |
|------|------------|
|------|------------|

*Change the title of Table 9-666 as follows:*

Table 9-666—A-MPDU contents in the HE ack-enabled single-TID immediate response context or in the EHT ack-enabled single-TID immediate response context

| MPDU | Conditions |
|------|------------|
|------|------------|

*Change the title of Table 9-667 as follows:*

Table 9-667—A-MPDU contents in the HE non-ack-enabled multi-TID immediate response context or in the EHT non-ack-enabled multi-TID immediate response context

| MPDU | Conditions |
|------|------------|
|------|------------|

*Change the title of Table 9-668 as follows:*

Table 9-668—A-MPDU contents in the HE ack-enabled multi-TID immediate response context or in the EHT ack-enabled multi-TID immediate response context

| MPDU | Conditions |
|------|------------|
|------|------------|

## 10. MAC sublayer functional description

### 10.1 Introduction

*Change as follows:*

The MAC functional description is presented in this clause. The architecture of the MAC sublayer, including the distributed coordination function (DCF), the hybrid coordination function (HCF), the mesh coordination function (MCF), the triggered UL access (TUA), and their coexistence in an IEEE 802.11 LAN are introduced in 10.2. These functions are expanded on in 10.3, 10.23, 10.24), and 26.2, 35.2, and 35.3.15. Fragmentation and defragmentation are defined in 10.4 and 10.5. Multirate support is addressed in 10.6. A number of additional restrictions to limit the cases in which MSDUs are reordered or discarded are described in 10.7. Operation across regulatory domains is defined in 10.22. The block ack mechanism is described in 10.25. The No Ack mechanism is described in 10.26. The protection mechanism is described in 10.27. Rules for processing MAC frames are described in 10.28.

### 10.2 MAC architecture

#### 10.2.1 General

*Replace Figure 10-1 as follows:*

![](aa06aed8c24d9a12d731a61f6b98e2b0_img.jpg)

Diagram illustrating the STA MAC architecture (Non-DMG non-CMMG non-S1G).

The MAC extent spans from the Distributed Coordination Function (DCF) down to the PHY layer (DSSS, OFDM, HR/DSSS, ERP, HT, VHT, TVHT, HE, WUR, or EHT PHY).

The MAC extent includes the Hybrid Coordination Function (HCF) and the Mesh Coordination Function (MCF).

Components and their requirements:

- HCF Controlled Access (HCCA): Required for Parameterized QoS Services.
- HCF Contention Access (EDCA): Required for Prioritized QoS Services.
- MCF Controlled Access (MCCA): Required for Controlled Mesh Services.
- Triggered Uplink Access (TUA): Required for Triggered Uplink Access.

The Triggered Uplink Access (TUA) is also noted as being Used for Contention Services, basis for HCF and MCF.

Figure 10-1—STA MAC architecture (Non-DMG non-CMMG non-S1G)

## 10.3 DCF

### 10.3.1 General

*Insert the following two paragraphs at the end of the subclause:*

An STA is NSTR limited if all of the following conditions are true:

- the STA is affiliated with an MLD that has at least one NSTR link pair
- the STA has received an RTS frame on a link that belongs to an NSTR link pair
- another STA affiliated with the same MLD, is a TXOP holder or responder on the other link of the NSTR link pair on which an RTS frame was received

If at least one of the above conditions is false, then the STA is not NSTR limited.

### 10.3.2 Procedures common to the DCF and EDCAF

*Change the title of the subclause as follows:*

#### 10.3.2.7 VHT, HE, and S1G RTS procedure

*Change the first paragraph as follows:*

A VHT or HE STA transmitting an RTS frame carried in non-HT or non-HT duplicate format and addressed to a VHT or HE STA shall set the TA field to a bandwidth signaling TA and shall set the TXVECTOR parameters CH\_BANDWIDTH\_IN\_NON\_HT and CH\_BANDWIDTH to the same value. If the STA sending the RTS frame is capable of dynamic bandwidth operation as the RTS originator (see 10.3.2.9), the STA shall set the TXVECTOR parameter DYN\_BANDWIDTH\_IN\_NON\_HT to Dynamic. Otherwise, the STA shall set the TXVECTOR parameter DYN\_BANDWIDTH\_IN\_NON\_HT to Static.

*Insert the following NOTE as the second paragraph:*

NOTE 1—The TXVECTOR parameter CH\_BANDWIDTH\_IN\_NON\_HT is carried in the scrambling sequence and the SERVICE field. The TXVECTOR parameter DYN\_BANDWIDTH\_IN\_NON\_HT is carried in the scrambling sequence (see 17.3.5.2). The allowed values for these TXVECTOR parameters are also specified in 17.3.5.2.

*Insert the following paragraph after the now-shifted third paragraph (“A VHT STA that initiates a TXOP...”) as the fourth paragraph:*

An HE STA 2G4 that initiates a TXOP by transmitting an RTS frame with the TA field set to a bandwidth signaling TA shall not send an RTS frame to a non-HE STA for the duration of the TXOP.

*Change the NOTE after the fourth paragraph as follows:*

NOTE 2—A non-VHT STA that is neither VHT nor HE considers the bandwidth signaling TA as the address of the TXOP holder. If an RTS frame is sent to a non-VHT STA that is neither VHT nor HE during a TXOP that is initiated by an RTS frame with a bandwidth signaling TA, the non-VHT STA does not recognize the RTS sender as the TXOP holder.

### 10.3.2.9 CTS and DMG CTS procedure

#### *Change the first and second paragraphs as follows:*

A STA that receives an RTS frame addressed to it considers whether the STA is NSTR limited and considers the NAV in determining whether to respond with CTS, unless the NAV was set by a frame originating from the STA sending the RTS frame (see 10.23.2.4). In this subclause for a non-S1G STA, “NAV indicates idle” means that the NAV count is 0 or that the NAV count is nonzero but the nonbandwidth signaling TA obtained from the TA field of the RTS frame matches the saved TXOP holder address. In an S1G STA, “NAV indicates idle” means that both NAV and RID counters are 0 or that either NAV or RID counter is nonzero but the TA field of the RTS frame matches the saved TXOP holder address.

A VHT STA that is not an EHT STA and is addressed by an RTS frame in a non-HT or non-HT duplicate PPDU that has a bandwidth signaling TA and that has the RXVECTOR parameter DYN\_BANDWIDTH\_IN\_NON\_HT equal to Static behaves as follows:

- If the NAV indicates idle and CCA has been idle for all secondary channels (secondary 20 MHz channel, secondary 40 MHz channel, and secondary 80 MHz channel) in the channel width indicated by the RTS frame's RXVECTOR parameter CH\_BANDWIDTH\_IN\_NON\_HT for a PIFS prior to the start of the RTS frame, then the STA shall respond with a CTS frame carried in a non-HT or non-HT duplicate PPDU after a SIFS. The CTS frame's TXVECTOR parameters CH\_BANDWIDTH and CH\_BANDWIDTH\_IN\_NON\_HT shall be set to the same value as the RTS frame's RXVECTOR parameter CH\_BANDWIDTH\_IN\_NON\_HT.
- Otherwise, the STA shall not respond with a CTS frame.

#### *Change the fourth paragraph as follows:*

A VHT STA that is not an EHT STA and is addressed by an RTS frame in a non-HT or non-HT duplicate PPDU that has a bandwidth signaling TA and that has the RXVECTOR parameter DYN\_BANDWIDTH\_IN\_NON\_HT equal to Dynamic behaves as follows:

- If the NAV indicates idle then the STA shall respond with a CTS frame in a non-HT or non-HT duplicate PPDU after a SIFS. The CTS frame's TXVECTOR parameters CH\_BANDWIDTH and CH\_BANDWIDTH\_IN\_NON\_HT shall be set to any channel width for which CCA on all secondary channels has been idle for a PIFS prior to the start of the RTS frame and that is less than or equal to the channel width indicated in the RTS frame's RXVECTOR parameter CH\_BANDWIDTH\_IN\_NON\_HT.
- Otherwise, the STA shall not respond with a CTS frame.

#### *Change the eighth paragraph as follows:*

A non-VHT and non-S1G STA that is not an EHT STA and is addressed by an RTS frame or a VHT STA that is addressed by an RTS frame carried in a non-HT or non-HT duplicate PPDU that has a nonbandwidth signaling TA or a VHT STA that is addressed by an RTS frame in a format other than non-HT or non-HT duplicate behaves as follows:

- If the NAV indicates idle the STA shall respond with a CTS frame after a SIFS.
- Otherwise, the STA shall not respond with a CTS frame.

#### *Insert the following paragraphs at the end of the subclause:*

An EHT STA that is addressed by an RTS frame in a non-HT or non-HT duplicate PPDU that has a bandwidth signaling TA and that has the RXVECTOR parameter DYN\_BANDWIDTH\_IN\_NON\_HT equal to Static behaves as follows:

- If the NAV indicates idle, the STA is not NSTR limited, and CCA has been idle for all nonpunctured nonprimary 20 MHz subchannels based on the rules defined in 36.3.21.6.4 in the channel width indicated by the RTS frame's RXVECTOR parameter CH\_BANDWIDTH\_IN\_NON\_HT for a PIFS prior to the start of the RTS frame, then the STA shall respond with a CTS frame carried in a non-HT or non-HT duplicate PPDU after a SIFS. The CTS frame's TXVECTOR parameters CH\_BANDWIDTH and CH\_BANDWIDTH\_IN\_NON\_HT shall be set to the same value as the RTS frame's RXVECTOR CH\_BANDWIDTH\_IN\_NON\_HT.
- If all of the conditions in the previous paragraph are met, except for the condition “the STA is not NSTR limited”, then the STA may respond with the CTS frame as described in that paragraph.
- Otherwise, the STA shall not respond with a CTS frame.

An EHT STA that is addressed by an RTS frame in a non-HT or non-HT duplicate PPDU that has a bandwidth signaling TA and that has the RXVECTOR DYN\_BANDWIDTH\_IN\_NON\_HT equal to Dynamic behaves as follows:

- If the NAV indicates idle, and the STA is not NSTR limited, then the STA shall respond with a CTS frame in a non-HT or non-HT duplicate PPDU after a SIFS. The CTS frame's TXVECTOR parameters CH\_BANDWIDTH and CH\_BANDWIDTH\_IN\_NOT\_HT shall be set to any channel width for which CCA on all nonpunctured nonprimary 20 MHz subchannels has been idle for a PIFS prior to the start of the RTS frame based on the rules defined in 36.3.21.6.4 and that is less than or equal to the channel width indicated in the RTS frame's RXVECTOR parameter CH\_BANDWIDTH\_IN\_NON\_HT.
- If all of the conditions in the previous paragraphs are met, except for the condition “the STA is not NSTR limited”, then the STA may respond with the CTS frame as described in that paragraph.
- Otherwise, the STA shall not respond with a CTS frame.

NOTE 3—Nonpunctured nonprimary 20 MHz subchannels are based on the value indicated in the most recently exchanged Disabled Subchannel Bitmap subfield in the EHT Operation element for that BSS if an EHT STA is addressed by the RTS frame.

#### 10.3.2.11 Acknowledgment procedure

*Change the fifth paragraph as follows:*

Otherwise, upon reception of a frame that requires immediate acknowledgment and, for an AP, with the To DS subfield equal to 1, a STA that is not NSTR limited shall transmit an Ack or BlockAck frame after a SIFS, without regard to regardless of the busy/idle state of the medium and a STA that is NSTR limited may transmit an Ack or BlockAck frame after a SIFS, regardless of the busy/idle state of the medium. (See Figure 10-12).

#### 10.3.2.14 Duplicate detection and recovery

##### 10.3.2.14.2 Transmitter requirements

*Change the first paragraph as follows:*

A STA maintains one or more sequence number spaces that are used when transmitting a frame to determine the sequence number for the frame. An MLD maintains one or more sequence number spaces that are used when a STA affiliated with the MLD transmits an individually addressed QoS Data frame to a STA affiliated with an associated MLD to determine the sequence number for the frame. If either an MLD1 or an MLD2 is a non-QMF MLD, the MLD1 maintains a single sequence number space that is used when the MLD1 transmits through a STA affiliated with the MLD1 an individually addressed Management frame (except for a frame that is excluded as defined in 35.3.14) to a STA affiliated with another MLD2 to determine the sequence number for the frame. An QMF MLD maintains a single sequence number space for each AC that is used when the MLD transmits through a STA affiliated with the MLD an IQMF (except for a frame that is excluded as

defined in 35.3.14) to a STA affiliated with another QMF MLD to determine the sequence number for the frame. When multiple sequence number spaces are supported, the appropriate sequence number space is determined by information from the MAC control fields of the frame to be transmitted. Except as noted below, each sequence number space is represented by a modulo 4096 counter, starting at 0 and incrementing by 1, for each MSDU (if not in an A-MSDU), A-MSDU or MMPDU transmitted using that sequence number space. If dot1MACPrivacyActivated is true, the counter in each sequence number space shall be set to a random number modulo 4096 when the STA's MAC address is changed.

**Change the fifth paragraph as follows:**

A transmitting STA shall support the applicable sequence number spaces defined in Table 10-5. An MLD shall support the applicable sequence number spaces defined in Table 10-5 with the Status indicated as Mandatory. A STA affiliated with an MLD shall use SNS9 in Table 10-5 maintained by the MLD to determine the sequence number of an individually addressed QoS Data frame that is transmitted to a STA affiliated with another MLD. If either an MLD1 or an MLD2 is a non-QMF MLD, a STA affiliated with the MLD1 shall use SNS10 in Table 10-5 maintained by the MLD1 to determine the sequence number of an individually addressed Management frame (except for a frame that is excluded as defined in 35.3.14) that is transmitted to a STA affiliated with another MLD2. A STA affiliated with a QMF MLD shall use SNS12 in Table 10-5 maintained by the QMF MLD to determine the sequence number of an IQMF (except for a frame that is excluded as defined in 35.3.14) that is transmitted to a STA affiliated with another QMF MLD. An AP MLD shall use SNS11 in Table 10-5 maintained by the MLD to determine the sequence number of a group addressed Data frame that is transmitted by an AP affiliated with the AP MLD so that the same group addressed Data frame transmitted over multiple links by the AP MLD uses the same sequence number for transmission on each link. Applicability is defined by the Applies to column. The Status column indicates the level of support that is required if the Applies to column matches the transmission. The Multiplicity column indicates whether the sequence number space contains a single counter, or multiple counters and in the latter case identifies any indices. The Transmitter requirements column identifies requirements for the operation of this sequence number space. The referenced requirements are defined at the end of the table.

**Change the existing rows SNS2 and SNS4, insert four new rows, and a new footnote after TR3 to Table 10-5:**

Table 10-5—Transmitter sequence number spaces

| Sequence number space identifier | Sequence number space           | Applies to                                                                                                          | Status    | Multiplicity                | Transmitter requirements |
|----------------------------------|---------------------------------|---------------------------------------------------------------------------------------------------------------------|-----------|-----------------------------|--------------------------|
| ...                              |                                 |                                                                                                                     |           |                             |                          |
| SNS2                             | Individually addressed QoS Data | A STA transmitting an individually addressed QoS Data frame, excluding SNS5 and SNS9                                | Mandatory | Indexed by <Address 1, TID> |                          |
| ...                              |                                 |                                                                                                                     |           |                             |                          |
| SNS4                             | QMF                             | A QMF STA transmitting a QMF that is neither a Protected Fine Timing frame nor a Public Action LMR, excluding SNS12 | Mandatory | Indexed by <Address 1, TID> | TR2                      |
| ...                              |                                 |                                                                                                                     |           |                             |                          |

Table 10-5—Transmitter sequence number spaces (continued)

| Sequence number space identifier                                                                                                                                                                                                                                                                                                                                                                                                                                                | Sequence number space                                                                    | Applies to                                                                                                                                                                                                                                       | Status    | Multiplicity                                                                                      | Transmitter requirements |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------|---------------------------------------------------------------------------------------------------|--------------------------|
| SNS9                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | Individually addressed QoS Data frame                                                    | An MLD transmitting through any STA affiliated with the MLD an individually addressed QoS Data frame that is not a QoS(+) Null frame to a STA affiliated with another MLD.                                                                       | Mandatory | Indexed by <MLD MAC Address that the STA identified by Address 1 is affiliated with, TID> per MLD |                          |
| SNS10                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Individually addressed Management frame (except the frames that are excluded in 35.3.14) | If either an MLD1 or an MLD2 is a non-QME MLD, the MLD1 transmitting through any STA affiliated with the MLD1 an individually addressed Management frame (except the frames that are excluded in 35.3.14) to a STA affiliated with another MLD2. | Mandatory | Indexed by <MLD2 MAC Address that the STA identified by Address 1 is affiliated with> per MLD     |                          |
| SNS11                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Group addressed data                                                                     | An AP MLD transmitting through any AP affiliated with the AP MLD a group addressed Data frame                                                                                                                                                    | Mandatory | Single instance per AP MLD                                                                        |                          |
| SNS12                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | IOMF (except the frames that are excluded in 35.3.14)                                    | An OMF MLD transmitting through any STA affiliated with the MLD an IOMF (except the frames that are excluded in 35.3.14) to a STA affiliated with another OMF MLD.                                                                               | Mandatory | Indexed by <MLD MAC Address that the STA identified by Address 1 is affiliated with, AC> per MLD  | TR5                      |
| ...<br>TR5: The MLD shall assign the sequence number from one modulo 1024 counter per <MLD MAC Address that the STA identified by Address 1 is affiliated with, AC> tuple starting at 0 and incrementing by 1 for each MMPDU carried in one or more IOMFs (except the frames that are excluded in 35.3.14) with Address 1 and AC1 fields matching the <MLD MAC Address that the STA identified by Address 1 is affiliated with, AC> tuple values corresponding to that counter. |                                                                                          |                                                                                                                                                                                                                                                  |           |                                                                                                   |                          |

#### 10.3.2.14.3 Receiver requirements

##### Change the first paragraph as follows:

A STA or an MLD maintains one or more duplicate detection caches. Table 10-6 defines the conditions under which a duplication detection cache is supported and the rules followed by the receiver for the cache. When a Data, Management or Extension frame is received, a record of that frame is inserted in an appropriate cache. That record is identified by a sequence number and possibly other information from the MAC control fields of the frame. When a Data, Management or Extension frame is received in which the Retry subfield of the Frame Control field is equal to 1, the appropriate cache, if any, is searched for a matching frame. In DMG, when a group addressed frame is received the appropriate cache is searched for a matching frame. When a PVI Data

frame or PV1 Management frame is received, the appropriate cache, if any, is searched for a matching frame, despite the absence of a Retry subfield in the Frame Control field. If the search is successful, the frame is considered to be a duplicate. Duplicate frames are discarded.

***Change the fourth paragraph as follows:***

A receiving STA shall implement the applicable receiver requirements defined in Table 10-6 with the Status indicated as Mandatory. An MLD shall implement the applicable receiver requirements defined in Table 10-6 with the Status indicated as Mandatory. All STAs affiliated with an MLD shall use RC14 in Table 10-6, where the duplicate detection cache is maintained by the MLD, to assist the MLD in discarding duplicate individually addressed QoS Data frames belonging to a TID without BA negotiation that are transmitted from the STAs affiliated with another MLD. If either an MLD1 or an MLD2 is a non-QMF MLD, all STAs affiliated with the MLD1 shall use RC15 in Table 10-6, where the duplicate detection cache is maintained by the MLD1, to assist the MLD1 in discarding duplicate individually addressed Management frame (except the frames that are excluded in 35.3.14) that are transmitted from the STAs affiliated with another MLD2. All STAs affiliated with an QMF MLD shall use RC17 in Table 10-6, where the duplicate detection cache is maintained by the QMF MLD, to assist the QMF MLD in discarding duplicate IOMF (except the frames that are excluded in 35.3.14) that are transmitted from the STAs affiliated with another QMF MLD. An MLD shall implement RC16 in Table 10-6 maintained by the MLD to discard duplicate group addressed Data frames that are delivered from the associated MLD. A duplicated group addressed Data frame received on any link shall be discarded. The method used to handle the sequence number wrap around for duplicate detection is implementation specific. A receiving STA should implement the applicable receiver requirements defined in Table 10-6 with the Status indicated as Recommended. A receiving STA and a receiving MLD may implement the applicable receiver requirements defined in Table 10-6 with Status indicated as Optional. Applicability is defined by the Applies to column. The Status column indicates the level of support that is required if the Applies to column matches the received frame. The Multiplicity/Cache size column indicates the indices that identify a cache entry and the number of entries that shall be supported. The Receiver requirements column identifies requirements for the operation of this cache. The referenced requirements are defined at the end of the table. The requirements relate to caching information that identifies a cache entry and discarding duplicate MPDUs.

***Change the existing rows RC1, RC2, and RC6, insert four new rows, and two new footnotes after RR6 to Table 10-6:***

Table 10-6—Receiver caches

| Receiver cache identifier | Cache name                      | Applies to                                                                                                                                                                  | Status    | Multiplicity/Cache size                                                                                                                                                                                                                                            | Receiver requirements |
|---------------------------|---------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------|
| RC1                       | Not QoS Data                    | A STA receiving frames (individually or group addressed) that are not QoS Data frames, excluding if applicable: RC4, RC5, RC6, RC7, RC8, RC10, RC15, RC16, RC17             | Mandatory | Indexed by: <Address 2, sequence number, fragment number>.<br>At least the most recent cache entry per <Address 2>.                                                                                                                                                | RR1<br>RR2<br>RR5     |
| RC2                       | QoS Data                        | A STA receiving an (individually or group addressed) QoS Data frame, excluding RC3, and if applicable: RC7, RC8, RC9, and RC10, and RC14                                    | Mandatory | Indexed by: <Address 2, TID, sequence number, fragment number>.<br>At least the most recent cache entry per <Address 2, TID> pair in this cache.                                                                                                                   | RR1<br>RR5            |
| ...                       |                                 |                                                                                                                                                                             |           |                                                                                                                                                                                                                                                                    |                       |
| RC6                       | QMFs                            | A STA receiving an individually addressed QMF that is neither a Protected Fine Timing frame nor a Public Action LMR, excluding RC17                                         | Mandatory | Indexed by: <Address 2, AC, sequence number, fragment number>.<br>The most recent cache entry per <Address 2, AC, sequence-number, fragment-number>.                                                                                                               | RR2<br>RR3<br>RR5     |
| ...                       |                                 |                                                                                                                                                                             |           |                                                                                                                                                                                                                                                                    |                       |
| RC14                      | Individually addressed QoS Data | An MLD receiving, through any STA affiliated with the MLD, an individually addressed QoS Data frame that is not a QoS(+) Null frame from a STA affiliated with another MLD. | Mandatory | Indexed by <MLD MAC address that the STA identified by Address 2 is affiliated with, TID, sequence number> per MLD.<br>At least the most recent cache entry per <MLD MAC address that the STA identified by Address 2 is affiliated with, TID> pair in this cache. | RR7                   |

Table 10-6—Receiver caches (continued)

| Receiver cache identifier                                                                                                                                                                                                                                                                        | Cache name                                                                               | Applies to                                                                                                                                                                                                                                      | Status    | Multiplicity/Cache size                                                                                                                                                                                                                            | Receiver requirements |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------|
| RC15                                                                                                                                                                                                                                                                                             | Individually addressed Management frame (except the frames that are excluded in 35.3.14) | If either an MLD1 or an MLD2 is a non-QMF MLD, the MLD1 receiving through any STA affiliated with the MLD1 an individually addressed Management frame (except the frames that are excluded in 35.3.14) from a STA affiliated with another MLD2. | Mandatory | Indexed by <MLD MAC address that the STA identified by Address 2 is affiliated with, sequence number> per MLD. At least the most recent cache entry per MLD MAC address that the STA identified by Address 2 is affiliated with in this cache.     | RR7                   |
| RC16                                                                                                                                                                                                                                                                                             | Group addressed Data                                                                     | An MLD receiving through any STA affiliated with the MLD a group addressed Data frame                                                                                                                                                           | Mandatory | Indexed by <MLD MAC Address that the STA identified by Address 2 is affiliated with, sequence number> per MLD. At least the most recent cache entry per MLD MAC address that the STA identified by Address 2 is affiliated with in this cache.     | RR8                   |
| RC17                                                                                                                                                                                                                                                                                             | IQMF (except the frames that are excluded in 35.3.14)                                    | A QMF MLD receiving through any STA affiliated with the QMF MLD an IQMF (except the frames that are excluded in 35.3.14) from a STA affiliated with another QMF MLD.                                                                            | Mandatory | Indexed by <MLD MAC address that the STA identified by Address 2 is affiliated with, AC, sequence number> per MLD. At least the most recent cache entry per MLD MAC address that the STA identified by Address 2 is affiliated with in this cache. | RR7                   |
| ...                                                                                                                                                                                                                                                                                              |                                                                                          |                                                                                                                                                                                                                                                 |           |                                                                                                                                                                                                                                                    |                       |
| RR7: The MLD shall discard the frame if the Retry subfield of the Frame Control field is 1 and it matches an entry in the cache.<br>RR8: The MLD shall discard a duplicated frame. The method used to handle the sequence number wrap around for duplicate detection is implementation specific. |                                                                                          |                                                                                                                                                                                                                                                 |           |                                                                                                                                                                                                                                                    |                       |

## 10.6 Multirate support

### 10.6.1 Overview

*Change the fifth and sixth paragraphs as follows:*

For specific PHYs, the value of the Duration/ID field is determined using the PLME-TXTIME.request primitive and the PLME-TXTIME.confirm primitive. These specific PHYs are defined in:

- Clause 16 for HR/DSSS
- Clause 17 for OFDM
- Clause 18 for ERP
- Clause 19 for HT
- Clause 20 for DMG
- Clause 21 for VHT
- Clause 22 for TVHT
- Clause 24 for CDMG
- Clause 25 for CMMG
- Clause 27 for HE
- Clause 36 for EHT

The two PLME-TXTIME primitives are defined in the respective PHY specifications:

- 16.3.4 for HR TXTIME calculation
- 17.4.3 for OFDM TXTIME calculation
- 18.5.3.2 for ERP-OFDM TXTIME calculation
- 19.4.3 for HT TXTIME calculation
- 20.11.3 for DMG PLME TXTIME calculation
- 21.4.3 for VHT PLME TXTIME calculation
- 22.4.3 for TVHT PLME TXTIME calculation
- 25.14.3 for CMMG PLME TXTIME calculation
- 27.4.3 for HE PLME TXTIME calculation
- Clause 36.4.3 for EHT PLME TXTIME calculation

### 10.6.6 Rate selection for Control frames

#### 10.6.6.1 General rules for rate selection for Control frames

*Change the last paragraph as follows:*

An HE STA that transmits a Trigger frame, Multi-STA BlockAck frame or HE/VHT NDP Announcement frame addressed to more than one STA shall use a rate, HT-MCS, <VHT-MCS, NSS> tuple or <HE-MCS, NSS> tuple that is supported by all recipient STAs. An EHT STA shall use an <EHT\_MCS, NSS> tuple that is supported by all recipient STAs if the PPDU carrying any of these frames is an EHT PPDU.

#### 10.6.6.6 Channel Width selection for Control frames

*Change the third paragraph as follows:*

If the TA is a bandwidth signaling TA, the transmitting VHT or HE\_STA shall set the TXVECTOR parameters CH\_BANDWIDTH\_IN\_NON\_HT and CH\_BANDWIDTH to the same value.

***Insert the following NOTE after NOTE 2:***

NOTE 3—The TXVECTOR parameter CH\_BANDWIDTH\_IN\_NON\_HT is carried in the scrambling sequence and the SERVICE field (see 17.3.5.2). The allowed values for these TXVECTOR parameters are also specified in 17.3.5.2.

***Change the now-shifted seventh, eighth, ninth, and tenth paragraphs as follows:***

Channel width selection rules for RTS frames are described in 10.3.2.7–10.3.2.7.

A VHT or HE\_STA that transmits a CF-End frame in a non-HT duplicate PPDU (channel width 40 MHz or wider) addressed to a VHT or HE\_AP shall set the Individual/Group bit in the BSSID(TA) field to 1.

A VHT or HE\_STA that transmits a CF-End frame in a non-HT PPDU (channel width 20 MHz) addressed to a VHT or HE\_AP may set the Individual/Group bit in the BSSID(TA) field to 1.

If the Individual/Group bit in the BSSID(TA) field of the CF-End frame is 1, the transmitting VHT or HE\_STA shall set the TXVECTOR parameters CH\_BANDWIDTH\_IN\_NON\_HT and CH\_BANDWIDTH to the same value.

***Change the 14th paragraph as follows:***

A VHT or HE\_STA that sends a Control frame that is in response to a non-HT or non-HT duplicate format frame with a bandwidth signaling TA and that is not a CTS shall set the channel width indicated by the TXVECTOR parameter CH\_BANDWIDTH to the same value as the channel width indicated by the RXVECTOR parameter CH\_BANDWIDTH\_IN\_NON\_HT for the frame eliciting the response. The RA field of a Control frame that is not a CF-End frame and that is sent in response to a Control frame with a bandwidth signaling TA shall be set to a nonbandwidth signaling TA obtained from the TA field of the immediately previous Control frame. For the channel width selection rules for CTS sent in response to an RTS frame with a bandwidth signaling TA, see 10.3.2.9.

**10.6.10 Modulation classes**

***Change Table 10-9 as follows:***

Table 10-9—Modulation classes

| Description of modulation | Condition that selects this modulation class                                                      |                                                                      |                                                                      |                                                                      |                                                                      |
|---------------------------|---------------------------------------------------------------------------------------------------|----------------------------------------------------------------------|----------------------------------------------------------------------|----------------------------------------------------------------------|----------------------------------------------------------------------|
|                           | Clause 15 to Clause 18 PHYs or Clause 20 PHY, or Clause 24 PHY, or Clause 25 PHY or Clause 28 PHY | Clause 19 PHY                                                        | Clause 21 PHY                                                        | Clause 27 PHY                                                        | Clause 36 PHY                                                        |
| DSSS and HR/DSSS          | Clause 15 or Clause 16 transmission                                                               | FORMAT is NON_HT.<br>NON_HT_-MODULA-TION is ERP-DSSS or ERP-CCK.     | N/A                                                                  | FORMAT is NON_HT.<br>NON_HT_-MODULA-TION is ERP-DSSS or ERP-CCK.     | FORMAT is NON_HT.<br>NON_HT_-MODULA-TION is ERP-DSSS or ERP-CCK.     |
| ERP-OFDM                  | 18.4 transmission                                                                                 | FORMAT is NON_HT.<br>NON_HT_-MODULA-TION is ERP-OFDM.                | N/A                                                                  | FORMAT is NON_HT.<br>NON_HT_-MODULA-TION is ERP-OFDM.                | FORMAT is NON_HT.<br>NON_HT_-MODULA-TION is ERP-OFDM.                |
| OFDM                      | Clause 17 transmission                                                                            | FORMAT is NON_HT.<br>NON_HT_-MODULA-TION is OFDM or NON_HT_DUP_OFDM. | FORMAT is NON_HT.<br>NON_HT_-MODULA-TION is OFDM or NON_HT_DUP_OFDM. | FORMAT is NON_HT.<br>NON_HT_-MODULA-TION is OFDM or NON_HT_DUP_OFDM. | FORMAT is NON_HT.<br>NON_HT_-MODULA-TION is OFDM or NON_HT_DUP_OFDM. |
| HT                        | N/A                                                                                               | FORMAT is HT_MF or HT_GF.                                            | FORMAT is HT_MF or HT_GF.                                            | FORMAT is HT_MF or HT_GF.                                            | FORMAT is HT_MF or HT_GF.                                            |
| DMG Control               | Clause 20 transmission and MCS is 0                                                               | N/A                                                                  | N/A                                                                  | N/A                                                                  | N/A                                                                  |
| DMG SC                    | Clause 20 transmission and $1 \le \text{MCS} \le 12.6$                                            | N/A                                                                  | N/A                                                                  | N/A                                                                  | N/A                                                                  |
| DMG Low-power SC          | Clause 20 transmission and $25 \le \text{MCS} \le 31$                                             | N/A                                                                  | N/A                                                                  | N/A                                                                  | N/A                                                                  |
| VHT                       | N/A                                                                                               | N/A                                                                  | FORMAT is VHT.                                                       | FORMAT is VHT.                                                       | FORMAT is VHT.                                                       |
| CDMG Control              | Clause 24 transmission and MCS is 0                                                               | N/A                                                                  | N/A                                                                  | N/A                                                                  | N/A                                                                  |
| CDMG SC                   | Clause 24 transmission and $1 \le \text{MCS} \le 16$                                              | N/A                                                                  | N/A                                                                  | N/A                                                                  | N/A                                                                  |

Table 10-9—Modulation classes (continued)

| Description of modulation | Condition that selects this modulation class                                                      |               |               |                                           |                                           |
|---------------------------|---------------------------------------------------------------------------------------------------|---------------|---------------|-------------------------------------------|-------------------------------------------|
|                           | Clause 15 to Clause 18 PHYs or Clause 20 PHY, or Clause 24 PHY, or Clause 25 PHY or Clause 28 PHY | Clause 19 PHY | Clause 21 PHY | Clause 27 PHY                             | Clause 36 PHY                             |
| CDMG Low-power SC         | Clause 24 transmission and $17 \le \text{MCS} \le 23$                                             | N/A           | N/A           | N/A                                       | N/A                                       |
| CMMG Control              | Clause 25 transmission and $\text{MCS} = 0$                                                       | N/A           | N/A           | N/A                                       | N/A                                       |
| CMMG SC                   | Clause 25 transmission and $1 \le \text{MCS} \le 8$                                               | N/A           | N/A           | N/A                                       | N/A                                       |
| CMMG OFDM                 | Clause 25 transmission and $9 \le \text{MCS} \le 16$                                              | N/A           | N/A           | N/A                                       | N/A                                       |
| HE                        | N/A                                                                                               | N/A           | N/A           | FORMAT is HE_SU, HE_ER_SU, HE_MU or HE_TB | FORMAT is HE_SU, HE_ER_SU, HE_MU or HE_TB |
| EDMG Control              | Clause 28 transmission<br>FORMAT is EDMG and EDMG MODULATION is EDMG_C_MODE                       | N/A           | N/A           | N/A                                       | N/A                                       |
| EDMG SC                   | Clause 28 transmission<br>FORMAT is EDMG, EDMG - MODULATION is EDMG_SC_MODE                       | N/A           | N/A           | N/A                                       | N/A                                       |
| EDMG OFDM                 | Clause 28 transmission<br>FORMAT is EDMG, EDMG - MODULATION is EDMG_OFDM_MODE                     | N/A           | N/A           | N/A                                       | N/A                                       |

Table 10-9—Modulation classes (continued)

| Description of modulation | Condition that selects this modulation class                                                      |               |               |               |                            |
|---------------------------|---------------------------------------------------------------------------------------------------|---------------|---------------|---------------|----------------------------|
|                           | Clause 15 to Clause 18 PHYs or Clause 20 PHY, or Clause 24 PHY, or Clause 25 PHY or Clause 28 PHY | Clause 19 PHY | Clause 21 PHY | Clause 27 PHY | Clause 36 PHY              |
| EHT                       | N/A                                                                                               | N/A           | N/A           | N/A           | FORMAT is EHT_MU or EHT_TB |

#### 10.6.11 Non-HT basic rate calculation

*Change the first two paragraphs and Table 10-10 as follows:*

This subclause defines how to convert an HT-MCS<sub>a</sub> a VHT-MCS<sub>a</sub> or an HE-MCS<sub>a</sub> or an EHT-MCS<sub>a</sub> to a non-HT basic rate for the purpose of determining the rate of the response frame. It consists of two steps as follows:

1. Use the modulation and coding rate determined from the HT-MCS (defined in 19.5), or VHT-MCS (defined in 21.5), or HE-MCS (defined in 27.5 or EHT-MCS (defined in 36.5) to locate a non-HT reference rate by lookup into Table 10-10.<sup>9</sup> In the case of an MCS with UEQM, the modulation of stream 1 is used.
2. The non-HT basic rate is the highest rate in the BSSBasicRateSet parameter that is less than or equal to this non-HT reference rate.

Table 10-10—Non-HT reference rate

| Modulation | Coding rate (R) | Non-HT reference rate (Mb/s) |
|------------|-----------------|------------------------------|
| BPSK       | 1/2             | 6                            |
| BPSK       | 3/4             | 9                            |
| QPSK       | 1/2             | 12                           |
| QPSK       | 3/4             | 18                           |
| 16-QAM     | 1/2             | 24                           |
| 16-QAM     | 3/4             | 36                           |
| 64-QAM     | 1/2             | 48                           |
| 64-QAM     | 2/3             | 48                           |
| 64-QAM     | 3/4             | 54                           |
| 64-QAM     | 5/6             | 54                           |

<sup>9</sup> For example, if an HT PPDU transmission uses 64-QAM and coding rate of 3/4, the related non-HT reference rate is 54 Mb/s.

Table 10-10—Non-HT reference rate (continued)

| Modulation | Coding rate (R) | Non-HT reference rate (Mb/s) |
|------------|-----------------|------------------------------|
| 256-QAM    | 3/4             | 54                           |
| 256-QAM    | 5/6             | 54                           |
| 1024-QAM   | 3/4             | 54                           |
| 1024-QAM   | 5/6             | 54                           |
| 4096-QAM   | 3/4             | 54                           |
| 4096-QAM   | 5/6             | 54                           |

NOTE 1—The selection of a non-HT basic rate for the frame sent in response to an HE or EHT PPDU is not influenced by DCM encoding in the HE or EHT PPDU.

### 10.8 HT Control field operation

*Change the second paragraph as follows:*

A STA in which at least one of dot11RDResponderOptionImplemented, dot11MCSFeedbackOptionImplemented, and dot11AlternateEDCAActivated is equal to true shall set dot11HTControlFieldSupported or dot11VHTControlFieldOptionImplemented or both equal to true. A STA that has at least one of dot11TRSOptionImplemented, dot11OMIOptionImplemented, dot11HEBSRControlImplemented, dot11HEBQRCControlImplemented, dot11RDResponderOptionImplemented, and dot11SRResponderOptionImplemented equal to true or has at least one of dot11HEMCSFeedbackOptionImplemented and dot11EHTMCSFeedbackOptionImplemented greater than zero shall set dot11HEControlFieldOptionImplemented to true. An HE AP shall set dot11HEControlFieldOptionImplemented to true.

*Change Table 10-12 (only relevant row shown) as follows:*

Table 10-12—Conditions for including Control subfield variants

| Control subfield variant | Condition                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|--------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| TRS                      | The transmitting AP expects an HE TB PPDU that follows the TRS information as described in 26.5.2.2 and the recipient non-AP STA has set the TRS Support subfield in the EHT MAC Capabilities Information field in the HE Capabilities elements #HE recipient non-AP STA transmits to 1.<br>The transmitting AP expects an EHT TB PPDU that follows the TRS information as described in 35.5.2.2 and the recipient non-AP STA has set the EHT TRS Support subfield in the EHT MAC Capabilities Information field in the EHT Capabilities elements #HE recipient non-AP STA transmits to 1. |
| ...                      | ...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| HLA                      | ...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |

Table 10-12—Conditions for including Control subfield variants (continued)

| Control subfield variant | Condition                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|--------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ELA                      | The transmitting STA follows the ELA procedure, as described in 35.19 and the recipient STA has set the EHT Link Adaptation Support subfield in the EHT MAC Capabilities Information field in the EHT Capabilities elements it transmits to a nonzero value.                                                                                                                                                                                                                                                                                                                                                                                      |
| ...                      | ...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| BQR                      | The transmitting non-EHT non-AP HE STA, or non-AP EHT STA that associated with a non-EHT HE AP follows the bandwidth query report procedure, as described in 26.5.26.5.6 and the recipient non-EHT HE AP has set the BQR Support subfield in the HE MAC Capabilities Information field in the HE Capabilities elements it transmits to 1.<br>The transmitting non-AP EHT STA that associated with an EHT AP follows the bandwidth query report procedure, as described in 35.5.3 and the recipient EHT AP has set the Two BQRs Support subfield in the EHT MAC Capabilities Information field in the EHT Capabilities elements it transmits to 1. |
| CAS                      | ...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| EHT OM                   | The transmitting STA changes its operating mode as described in 35.9 and the recipient STA has set the EHT OM Control Support subfield in the EHT MAC Capabilities Information field in the EHT Capabilities element the recipient STA transmits to 1.                                                                                                                                                                                                                                                                                                                                                                                            |
| SRS                      | The transmitting non-AP STA affiliated with a non-AP MLD follows the corresponding procedure for end time alignment of response PPDU as described in 35.3.16.5.2 and the recipient AP affiliated with an AP MLD has set the SRS Support subfield in the Common Info field of the Basic Multi-Link element the recipient AP transmits to 1.                                                                                                                                                                                                                                                                                                        |
| AAR                      | The transmitting non-AP STA affiliated with a non-AP MLD follows the AP assisted medium synchronization recovery procedure as described in 35.3.16.8.3 and the recipient AP affiliated with an AP MLD has set the AAR Support subfield in the MLD Capabilities And Operations subfield in a Basic Multi-Link element the recipient AP transmits to 1.                                                                                                                                                                                                                                                                                             |
| ONES                     | The transmitting STA may include a ONES Control subfield in an MPDU that is not carried in an HE/EHT TB PPDU (see 26.5.2.4) when there is nothing to report in A-Control subfield.<br>NOTE—According to 35.5.2.3.1, a non-AP EHT STA that transmits an EHT TB PPDU follows the same rules defined in 26.5.2.4 where rules related to HE TB PPDU also apply to EHT TB PPDU.                                                                                                                                                                                                                                                                        |

## 10.11 A-MSDU operation

*Change the 22nd paragraph as follows:*

A STA shall not transmit an A-MSDU in an HT PPDU if the A-MSDU length exceeds the value indicated by the Maximum A-MSDU Length field of the HT Capabilities element or in Reconfiguration Multi-Link element with Reconfiguration Operation Type subfield equal to 1 of a successful operation parameter update (see 35.3.6.6) received from the recipient STA.

*Change the 24th paragraph as follows:*

The length of an A-MSDU transmitted in a VHT, PPDU or HE or EHT PPDU is limited by the maximum MPDU size supported by the recipient STA (see 10.12.5).

## 10.12 A-MPDU operation

### 10.12.2 A-MPDU length limit rules

*Change the first paragraph and insert new Table 10a and 10b as follows:*

A STA indicates in the Maximum A-MPDU Length Exponent field in its HT Capabilities element the maximum A-MPDU length that it can receive in an HT PPDU. A STA indicates in the Maximum A-MPDU Length Exponent field in its VHT Capabilities element the maximum length of the A-MPDU pre-EOF padding that it can receive in a VHT PPDU. A STA indicates in the Maximum A-MPDU Length Exponent field in its SIG Capabilities element the maximum length of the A-MPDU pre-EOF padding that it can receive in an SIG PPDU. A STA indicates in the Maximum A-MPDU Length Exponent field in its DMG Capabilities element the maximum A-MPDU length that it can receive in a DMG PPDU. A STA indicates the maximum length of the A-MPDU pre-EOF padding that it can receive in an HE PPDU in the Maximum A-MPDU Length Exponent field in its HT Capabilities, VHT Capabilities, and HE 6 GHz Band Capabilities elements (if present) and in the Maximum A-MPDU Length Exponent Extension field in its HE Capabilities element. A STA indicates in the Maximum A-MPDU Length Exponent field in its EDMG Capabilities element the maximum length of the A-MPDU that it can receive in an EDMG PPDU. A STA indicates the maximum length of the A-MPDU pre-EOF padding that it can receive in an EHT PPDU in the Maximum A-MPDU Length Exponent field in its HT Capabilities, VHT Capabilities, and HE 6 GHz Band Capabilities elements (if present), and in the Maximum A-MPDU Length Exponent Extension field in HE Capabilities and EHT Capabilities elements. Fields used for calculating the maximum A-MPDU size of various PPDU Types in 2.4 GHz, 5 GHz, and 6 GHz bands are specified in Table 10-12a. Fields used for calculating the maximum A-MPDU size of various PPDU Types in 60 GHz bands are specified in Table 10-12b.

Table 10-12a—Fields used for calculating the maximum A-MPDU size of various PPDU types in 2.4 GHz, 5 GHz, and 6 GHz bands

| Maximum A-MPDU per PPDU type and band      | Maximum A-MPDU Length Exponent field in HT Capabilities element | Maximum A-MPDU Length Exponent field in VHT Capabilities element | Maximum A-MPDU Length Exponent Extension field in HE Capabilities element | Maximum A-MPDU Length Exponent field in HE 6G Capabilities element | Maximum A-MPDU Length Exponent field in EHT Capabilities element |
|--------------------------------------------|-----------------------------------------------------------------|------------------------------------------------------------------|---------------------------------------------------------------------------|--------------------------------------------------------------------|------------------------------------------------------------------|
| Maximum A-MPDU in HT PPDU of 2.4 GHz band  | Y                                                               | N                                                                | N                                                                         | N                                                                  | N                                                                |
| Maximum A-MPDU in HE PPDU of 2.4 GHz band  | Y                                                               | N                                                                | Y                                                                         | N                                                                  | N                                                                |
| Maximum A-MPDU in EHT PPDU of 2.4 GHz band | Y                                                               | N                                                                | Y                                                                         | N                                                                  | Y                                                                |

Table 10-12a—Fields used for calculating the maximum A-MPDU size of various PPDU types in 2.4 GHz, 5 GHz, and 6 GHz bands (continued)

| Maximum A-MPDU per PPDU type and band    | Maximum A-MPDU Length Exponent field in HT Capabilities element | Maximum A-MPDU Length Exponent field in VHT Capabilities element | Maximum A-MPDU Length Exponent field in HE Capabilities element | Maximum A-MPDU Length Exponent field in HE 6G Capabilities element | Maximum A-MPDU Length Exponent field in EHT Capabilities element |
|------------------------------------------|-----------------------------------------------------------------|------------------------------------------------------------------|-----------------------------------------------------------------|--------------------------------------------------------------------|------------------------------------------------------------------|
| Maximum A-MPDU in HT PPDU of 5 GHz band  | Y                                                               | N                                                                | N                                                               | N                                                                  | N                                                                |
| Maximum A-MPDU in VHT PPDU of 5 GHz band | N                                                               | Y                                                                | N                                                               | N                                                                  | N                                                                |
| Maximum A-MPDU in HE PPDU of 5 GHz band  | N                                                               | Y                                                                | Y                                                               | N                                                                  | N                                                                |
| Maximum A-MPDU in EHT PPDU of 5 GHz band | N                                                               | Y                                                                | Y                                                               | N                                                                  | Y                                                                |
| Maximum A-MPDU in HE PPDU of 6 GHz band  | N                                                               | N                                                                | Y                                                               | Y                                                                  | N                                                                |
| Maximum A-MPDU in EHT PPDU of 6 GHz band | N                                                               | N                                                                | Y                                                               | Y                                                                  | Y                                                                |

Table 10-12b—Fields used for calculating the maximum A-MPDU size of various PPDU types in 60 GHz band

| Maximum A-MPDU per PPDU type and band | Maximum A-MPDU Length Exponent field in DMG Capabilities element | Maximum A-MPDU Length Exponent field in EDMG Capabilities element |
|---------------------------------------|------------------------------------------------------------------|-------------------------------------------------------------------|
| Maximum A-MPDU in DMG PPDU            | Y                                                                | N                                                                 |
| Maximum A-MPDU in EDMG PPDU           | N                                                                | Y                                                                 |

*Change the third paragraph as follows:*

Using the Maximum A-MPDU Length Exponent fields in the HT Capabilities, VHT Capabilities, and HE 6 GHz Band Capabilities elements (if present) and the Maximum A-MPDU Length Exponent Extension fields in the HE Capabilities and EHT Capabilities elements, the STA establishes at association the maximum length of an A-MPDU pre-EOF padding that can be sent to it. An HT STA shall support receiving A-MPDUs of length up to the value indicated by the Maximum A-MPDU Length Exponent field in its HT Capabilities element. A VHT STA shall support receiving A-MPDUs where the A-MPDU pre-EOF padding length is up to the value indicated by the Maximum A-MPDU Length Exponent field in its VHT Capabilities element. An S1G STA that sets the A-MPDU Supported subfield in the S1G Capabilities element to 1 shall support receiving A-MPDUs where the A-MPDU pre-EOF padding length is up to the value indicated by the Maximum A-MPDU Length Exponent field in its S1G Capabilities element.

*Insert the following paragraph after the fourth paragraph (“An HE STA shall support...”):*

An EHT STA shall support receiving A-MPDUs where A-MPDU pre-EOF padding length is up to the value indicated by the Maximum A-MPDU Length Exponent field in its HT Capabilities and VHT Capabilities elements and the Maximum A-MPDU Length Exponent Extension field in its HE Capabilities and EHT Capabilities elements in the 2.4 GHz or 5 GHz bands. An EHT STA shall support receiving A-MPDUs where the A-MPDU pre-EOF padding length is up to value indicated by the Maximum A-MPDU Length Exponent field in HE 6 GHz Band Capabilities and the Maximum A-MPDU Length Exponent Extension field in the HE Capabilities and EHT Capabilities elements in the 6 GHz band.

*Insert the following paragraph after the now-shifted seventh paragraph (“A STA shall not transmit A-MPDU in an HE PPDU...”):*

A STA shall not transmit an A-MPDU in an EHT PPDU where the A-MPDU pre-EOF padding length is greater than the value indicated by the Maximum A-MPDU Length Exponent field in the HT Capabilities and VHT Capabilities elements and the Maximum A-MPDU Length Exponent Extension field in its HE Capabilities and EHT Capabilities elements received from the intended receiver in the 2.4 GHz or 5 GHz bands. A STA shall not transmit an A-MPDU in EHT PPDU where the A-MPDU pre-EOF padding length is greater than the value indicated by the Maximum A-MPDU Length Exponent field in the HE 6 GHz Band Capabilities element and the Maximum A-MPDU Length Exponent Extension field in the HE Capabilities and EHT Capabilities elements received from the intended receiver in the 6 GHz band.

### 10.12.3 Minimum MPDU start spacing rules

*Change the first paragraph, including Equation (10-12), as follows:*

If the intended receiver is a non-HE STA, a STA shall not start the transmission of more than one MPDU within the time limit described in the Minimum MPDU Start Spacing field declared by the intended receiver. If the intended receiver is an HE STA, an HE STA shall not start the transmission of more than one QoS Data frame, QoS Null frame, or Management frame within the time limit described in the Minimum MPDU Start Spacing field declared by the intended receiver. To satisfy this requirement, the number of octets between the start of two consecutive MPDUs in an A-MPDU,  $N$ , measured at the PHY SAP, shall meet the condition defined by Equation (10-12).

$$N \ge \begin{cases} t_{MSS} \times r/8, & \text{if the A-MPDU is not carried in an HE TB PPDU or EHT TB PPDU} \\ t_{MSS} \times 2^{MMSF} \times r/8, & \text{if the A-MPDU is carried in an HE TB PPDU or EHT TB PPDU} \end{cases} \quad (10-12)$$

where

$t_{MSS}$  is the time (in microseconds) defined in the Encoding column of Table 9-225 for an HT STA, of Table 9-351 for an S1G STA for the value of the Minimum MPDU Start Spacing field, and of Table 9-291 for a DMG STA for the value of the Minimum MPDU Start Spacing field

$MMSF$  is the value of the MPDU MU Spacing Factor subfield of the User Info field addressed to the HE or EHT STA in the Trigger frame soliciting HE TB PPDU or the EHT TB PPDU (see 9.3.1.22)

$r$  is the value of the PHY data rate (in Mb/s) defined in 19.5 for HT PPDUs, in 21.5 for VHT PPDUs, in 23.5 for S1G PPDUs, and in Clause 20 for a DMG STA

### 10.12.4 A-MPDU aggregation of group addressed Data frames

*Change the third paragraph as follows:*

NOTE 2—As a-VHT STAs, and an HE STAs, and EHT STAs are HT STAs, NOTE 1 also applies to VHT APs, VHT mesh STAs, HE APs, and HE mesh STAs, EHT APs, and EHT mesh STAs.

*Change the last paragraph as follows:*

When a STA transmits a PPDU containing at least one A-MPDU that contains MPDUs with an RA that is a group address, the following shall apply:

- If the PPDU is an HT PPDU, the maximum A-MPDU length exponent value is the minimum value in the Maximum A-MPDU Length Exponent subfield of the A-MPDU Parameters field of the HT Capabilities element across all HT STAs associated with the transmitting AP or across all peer HT mesh STAs.
- If the PPDU is a VHT PPDU, the maximum A-MPDU length exponent value is the minimum value in the Maximum A-MPDU Length Exponent subfields of the VHT Capabilities elements across all VHT STAs associated with the transmitting AP or across all peer VHT mesh STAs.
- If the PPDU is an HE PPDU sent in the 2.4 GHz or 5 GHz band, the maximum A-MPDU length exponent value is the minimum value in the Maximum A-MPDU Length Exponent subfield of the VHT Capabilities elements across all HE STAs associated with the transmitting AP or across all peer HE mesh STAs.
- If the PPDU is an HE PPDU sent in the 6 GHz band, the maximum A-MPDU length exponent value is the minimum value in the Maximum A-MPDU Length Exponent subfield of the HE 6 GHz Band

Capabilities elements across all HE STAs associated with the transmitting AP or across all peer HE mesh STAs.

— If the PPDU is an EHT PPDU sent in the 2.4 GHz or 5 GHz band, the maximum A-MPDU length exponent value is the minimum value in the Maximum A-MPDU Length Exponent subfield of the VHT Capabilities elements across all EHT STAs associated with the transmitting AP or across all peer EHT mesh STAs.

— If the PPDU is an EHT PPDU sent in the 6 GHz band, the maximum A-MPDU length exponent value is the minimum value in the Maximum A-MPDU Length Exponent subfield of the HE 6 GHz Band Capabilities elements across all EHT STAs associated with the transmitting AP or across all peer EHT mesh STAs.

— If the PPDU is a VHT PPDU, the minimum MPDU start spacing value is the maximum value in the Minimum MPDU Start Spacing subfields of the A-MPDU Parameters field of the HT Capabilities elements across all VHT STAs associated with the transmitting AP or across all peer VHT mesh STAs.

— If the PPDU is an HT PPDU transmitted by an AP, the minimum MPDU start spacing value is the maximum value in the Minimum MPDU Start Spacing subfield of the A-MPDU Parameters field of the HT Capabilities elements across all HT STAs associated with the transmitting AP or across all peer HT mesh STAs.

— If the PPDU is an HE PPDU sent in the 2.4 GHz or 5 GHz band, the minimum MPDU start spacing value is the maximum value in the Minimum MPDU Start Spacing subfield of the A-MPDU Parameters field of the HT Capabilities elements across all HE STAs associated with the transmitting AP or across all peer HE mesh STAs.

— If the PPDU is an HE PPDU sent in the 6 GHz band, the minimum MPDU start spacing value is the maximum value in the Minimum MPDU Start Spacing subfield of the HE 6 GHz Band Capabilities elements across all HE STAs associated with the transmitting AP or across all peer HE mesh STAs.

— If the PPDU is an EHT PPDU sent in the 2.4 GHz or 5 GHz band, the minimum MPDU start spacing value is the maximum value in the Minimum MPDU Start Spacing subfield of the A-MPDU Parameters field of the HT Capabilities elements across all EHT STAs associated with the transmitting AP or across all peer EHT mesh STAs.

— If the PPDU is an EHT PPDU sent in the 6 GHz band, the minimum MPDU start spacing value is the maximum value in the Minimum MPDU Start Spacing subfield of the HE 6 GHz Band Capabilities elements across all EHT STAs associated with the transmitting AP or across all peer EHT mesh STAs.

— If the PPDU is a DMG PPDU, the maximum A-MPDU length exponent value is the minimum value in the Maximum A-MPDU Length Exponent subfield of the A-MPDU Parameters field of the DMG Capabilities element of all DMG STAs associated with the AP or PCP.

— If the PPDU is a DMG PPDU, the minimum MPDU start spacing value is the maximum value in the Minimum MPDU Start Spacing subfield of the A-MPDU Parameters field of the DMG Capabilities element of all DMG STAs associated with the AP or PCP.

— If the PPDU is an SIG PPDU, the maximum A-MPDU length exponent value is the minimum value in the Maximum A-MPDU Length Exponent subfields of the SIG Capabilities Information field of the SIG Capabilities elements across all SIG STAs associated with the transmitting AP.

— If the PPDU is an SIG PPDU, the minimum MPDU start spacing value is the maximum value in the Minimum MPDU Start Spacing subfields of the SIG Capabilities Information field of the SIG Capabilities elements across all SIG STAs associated with the transmitting AP.

— If the PPDU is an EDMG PPDU, the maximum A-MPDU length exponent value that applies is the minimum value in the Maximum A-MPDU Length Exponent subfield of the A-MPDU Parameters field of the EDMG Capabilities element of all EDMG STAs associated with the AP or PCP.

— If the PPDU is an EDMG PPDU, the minimum MPDU start spacing value that applies is the maximum value in the Minimum MPDU Start Spacing subfield of the A-MPDU Parameters field of the EDMG Capabilities element of all EDMG STAs associated with the AP or PCP.

*Change the title of subclause 10.12.6 as follows:*

#### 10.12.6 A-MPDU padding for VHT, HE, EHT or S1G PPDU

#### 10.12.7 Setting the EOF/Tag field of the MPDU delimiter

*Change the first paragraph as follows:*

The EOF/Tag field may be set to 1 in an A-MPDU subframe carried in a VHT PPDU, HE PPDU, EHT PPDU or S1G PPDU if the subframe's MPDU Length field is nonzero and the subframe is the only subframe that has a nonzero MPDU Length field. The EOF/Tag field of each A-MPDU subframe with an MPDU Length field with a nonzero value that is not the only A-MPDU subframe with MPDU Length field with a nonzero value in the A-MPDU carried in a VHT PPDU or S1G PPDU shall be set to 0. The EOF/Tag field shall be set to 0 in all A-MPDU subframes that are carried in an HT PPDU.

#### 10.13 PPDU duration constraint

*Insert the following paragraph at the end of the subclause:*

An EHT STA shall not transmit an EHT PPDU that has a duration (as determined by the PLME-TXTIME.confirm primitive defined in 6.7.6) that is greater than aPPDUMaxTime defined in Table 36-70.

#### 10.15 Low-density parity check code (LDPC) operation

*Insert the following paragraph at the end of the subclause:*

An EHT STA shall not transmit a frame in an EHT PPDU with TXVECTOR parameter FEC\_CODING set to LDPC\_CODING unless all the following conditions are met:

— The value of dot11HELDPCCodingInPayloadImplemented for the EHT STA is true.  
— The frame is addressed to an EHT STA for which the LDPC Coding In Payload subfield in the HE Capabilities element received from that STA contained a value of 1.

#### 10.23 HCF

##### 10.23.2 HCF contention based channel access (EDCA)

###### 10.23.2.2 EDCA backoff procedure

*Change the fourth and fifth paragraphs as follows:*

The backoff procedure shall be invoked by an EDCAF if any of the following events occurs:

1. An MA-UNITDATA.request primitive is received that causes an MPDU corresponding to the EDCAF's AC to be queued for transmission or the transmit queues associated with that AC have become nonempty due to the conditions in 35.3.16.4 such that all of the following are true:
   1. One of the transmit queues associated with that AC has now become nonempty
   2. Any other transmit queues associated with that AC are empty

1. The backoff counter has a value of 0 for that AC
2. The medium is busy on the primary channel as indicated by any of the following:
   - Physical CS
   - Virtual CS
   - A nonzero TXNAV timer value
   - For a mesh STA that has dot11MCCAActivated true, a nonzero RAV timer value.
3. For the EDCAF that is the TXOP holder, the transmission of the final PPDU transmitted by the TXOP holder during the TXOP has completed, the final PPDU does not solicit an HE TB PPDU, and the TXNAV timer has expired.
4. For the EDCAF that is the TXOP holder, the transmission of an MPDU in the initial PPDU of a TXOP fails, as defined in this subclause, and the initial PPDU does not solicit an HE TB PPDU.
5. A transmission attempt by the EDCAF collides internally with another EDCAF of an AC that has higher priority, that is, two or more EDCAFs in the same STA are granted a TXOP at the same time.
6. The transmission of at least one MPDU in the final PPDU transmitted by the TXOP holder during the TXOP for that AC has completed, the PPDU contains an MPDU that solicits an HE TB PPDU and the TXNAV timer has expired.
7. The transmission of all MPDUs in the initial PPDU of a TXOP fails, as defined in this subclause, and the PPDU contains an MPDU that solicits an HE TB PPDU.
8. If explicitly indicated, such as in 26.17.2.3.3.
9. If explicitly indicated as in 35.3.16.4.
10. The EDCAF is permitted to initiate a TXOP (see 10.23.2.4) but chooses not to.

In addition, the backoff procedure may be invoked by an EDCAF if:

1. For the EDCAF that is the TXOP holder, the transmission by the TXOP holder of an MPDU in a non-initial PPDU of a TXOP fails, as defined in this subclause and an MPDU in the non-initial PPDU does not solicit an HE TB PPDU.
2. For the EDCAF that is the TXOP holder, the transmission by the TXOP holder of all MPDUSMP-DUs in a non-initial PPDU of a TXOP fails, as defined in this subclause, and the PPDU contains an MPDU that solicits an HE TB PPDU.

**Change the title of the subclause 10.23.2.5 as follows:**

#### 10.23.2.5 EDCA channel access in a VHT, HE, EHT or TVHT BSS

**Insert the following items to the fifth paragraph (not all paragraphs and items shown):**

1. Transmit an EHT MU PPDU if all of the 20 MHz subchannels that are not punctured were idle during a PIFS immediately preceding the start of the TXOP.
2. Transmit a punctured non-HT duplicate PPDU if all of the 20 MHz subchannels that are not punctured were idle during a PIFS immediately preceding the start of the TXOP.

#### 10.23.2.9 TXOP limits

**Change item d) of the third paragraph (not all paragraphs and items shown) as follows:**

A TXOP limit of 0 indicates that the TXOP holder may transmit or cause to be transmitted (as responses) the following within the current TXOP:

1. Any frames required for beamforming as specified in 10.30, 10.35.5, 26.7, 35.7, and 10.41.

**Change the last item of the seventh paragraph (not all paragraphs and items shown) as follows:**

The TXOP holder may exceed the TXOP limit only if it does not transmit more than one Data or Management frame in the TXOP, only if it does not transmit a DL MU-MIMO PPDU in the TXOP, and only for the following situations:

- — Transmission of one of the following sequences, provided that the sequence fits within the TXOP limit and it is only the response and the immediately preceding SIFS that causes the TXOP limit to be exceeded:
  - — An HE-NDP Announcement frame and HE sounding NDP
  - — An HE-NDP Announcement frame and HE sounding NDP and BFRP Trigger frame
  - — A BFRP Trigger frame
  - — An NDP Announcement frame and EHT sounding NDP
  - — An NDP Announcement frame and EHT sounding NDP and BFRP Trigger frame

## 10.25 Block acknowledgment (block ack)

### 10.25.1 Introduction

*Insert the following paragraph at the end of the subclause:*

If association is between MLDs (see 11.3 and 35.3.5), then the block ack agreement is established between two MLDs and follows the rules described in 35.3.8. If association is between STAs, then the block ack agreement established is between the two STAs and follows the rules described in 10.25.2.

### 10.25.2 Setup and modification of the block ack parameters

*Insert the following paragraph and NOTE after the tenth paragraph (“For each accepted block ack agreement, the originator...”):*

In a block ack agreement between two EHT STAs, the buffer size is indicated based on the Buffer Size subfield (of the Block Ack Parameter Set field) together with the Extended Buffer Size field (when ADDBA Extension element is included). During a block ack agreement establishment, the buffer size indication is advisory in an ADDBA Request frame.

NOTE 1—The ADDBA Extension element is optionally present in an ADDBA Request or ADDBA Response frame (see 9.6.4). When block ack agreement is negotiated between two EHT STAs, if ADDBA Extension element is present, then the total buffer size is computed as described in 9.4.2.138.

*Change the now-shifted 13th and 14th paragraphs as follows:*

When a block ack agreement is established between two HT STAs, two DMG STAs, or two S1G STAs, the originator may change the size of its transmission window (*WinSize*) such that:

- — The transmission window (*WinSize*) is not greater than the value in the Buffer Size field of the ADDBA Response frame if either STA is a non-EHT STA.
- — The transmission window is not greater than the buffer size indicated in the ADDBA Response frame if both STAs are EHT STAs.
- — The transmission window is not greater than 64 if the sender or receiver of the ADDBA Response frame is a non-HE STA.
- — The transmission window is not greater than 256 if the sender and receiver of the ADDBA Response frame are HE STAs.
- — The transmission window is not greater than 1024 if the sender and receiver of the ADDBA Response frame are EHT STAs.

If the value in the Buffer Size field of the ADDBA Response frame is smaller than the value in the ADDBA Request frame, the originator shall change the size of its transmission window ( $W_{\text{Size}}(e)$ ) so that it meets the following conditions:

- Is not greater than the value in the Buffer Size field of the ADDBA Response frame.
- Is not greater than 64 if the sender or receiver of the ADDBA Response frame is a non-HE STA or if the STAs that establish the block ack agreement are HT STAs or DMG STAs that are not EDMG STAs.
- Is not greater than 256 if the sender and receiver of the ADDBA Response frame are HE STAs.
- Is not greater than 1024 if the STAs that establish the block ack agreement are EDMG STAs or EHT STAs.

#### 10.25.7 Protected block ack agreement

*Change the first paragraph as follows:*

A STA indicates support for protected block ack by setting the MFPC subfield in the RSN Capabilities field to 1 (see 9.4.2.23.4) and the PBAC subfield in the Extended RSN Capabilities field to 1 (see 9.4.2.240). Such a STA is a PBAC STA; otherwise, the STA is a non-PBAC STA. All STAs affiliated with the same MLD advertise the same PBAC capability (see 12.6.2 and 12.6.3.1). An MLD whose affiliated STAs indicate support for protected block ack is a PBAC MLD; otherwise, the MLD is a non-PBAC MLD. A block ack agreement that is negotiated between two PBAC STAs or between two PBAC MLDs is a protected block ack agreement. A block ack agreement that is negotiated between two STAs when either or both of the STAs is not a PBAC STA is a block ack agreement that is not a protected block ack agreement. A block ack agreement that is negotiated between two MLDs when either or both MLDs is non-PBAC MLD is a block ack agreement that is not a protected block ack agreement.

### 10.27 Protection mechanisms

#### 10.27.6 Protection rules for HE STAs

*Change the first two paragraphs as follows:*

An HE STA operating in the 2.4 GHz band is subject to all of the rules for HT STAs that apply to that band, except that a PPDU with the TXVECTOR parameter FORMAT set to HE\_SU, HE\_ER, SU, or HE\_MU $\oplus$  HE\_TB may be substituted for a PPDU with the TXVECTOR parameter FORMAT set to HT\_MF.

An HE STA operating in the 5 GHz band is subject to all of the rules for VHT STAs that apply to that band, except that a PPDU with the TXVECTOR parameter FORMAT set to HE\_SU, HE\_ER, SU, or HE\_MU $\oplus$  HE\_TB may be substituted for a PPDU with the TXVECTOR parameter FORMAT set to VHT.

*Insert the following subclause at the end of 10.27:*

#### 10.27.8 Protection rules for EHT STAs

An EHT STA operating in the 2.4 GHz band is subject to all of the rules for HT STAs that apply to that band, except that a PPDU with the TXVECTOR parameter FORMAT set to EHT\_MU may be substituted for a PPDU with the TXVECTOR parameter FORMAT set to HT\_MF.

An EHT STA operating in the 5 GHz band is subject to all of the rules for VHT STAs that apply to that band, except that a PPDU with the TXVECTOR parameter FORMAT set to EHT\_MU may be substituted for a PPDU with the TXVECTOR parameter FORMAT set to VHT.

## 10.28 MAC frame processing

### 10.28.5 Operation of the Dialog Token field

*Change as follows:*

A dialog token is an integer value that assists a STA or an MLD in grouping Management frames sent or received at different times as part of the same dialog. The algorithm by which the integer value for the dialog is selected is implementation specific, but should be selected in a manner that minimizes the probability of a frame associated with one dialog being incorrectly associated with another dialog between two STAs or two MLDs.

## 10.29 Reverse direction protocol

### 10.29.4 Rules for RD responder

*Insert the following NOTE after the eighth paragraph (“For an EDMG Multi-TID A-MPDU or...”):*

NOTE 2—If the RD responder is affiliated with an MLD and operates with a nondefault TTLM (see 35.3.7.2), it might transmit a Data frame of the AC only if at least one of the corresponding TIDs are mapped to that link in the direction of the RD responder to the RD initiator.

*Change the now-shifted ninth paragraph as follows:*

For a BlockAckReq or BlockAck frame, the AC is determined by examining the TID field. For a Management frame, the AC is AC\_V0. The RD initiator shall not transmit a +HTC or DMG MPDU with the RDG/More PPDU subfield set to 1 from which the AC cannot be determined. If the AC Constraint subfield is equal to 0, the RD responder may transmit Data frames of any TID unless the RD responder is affiliated with an MLD in which case the RD responder may transmit Data frames of any TID that is mapped to that link (see 35.3.7.2).

## 10.46 Target wake time (TWT)

### 10.46.1 TWT overview

*Change the 14th paragraph as follows:*

The result of an exchange of TWT Setup frames between a TWT requesting STA and a TWT responding STA is defined in Table 10-40.

- “Request TWT” indicates that the requesting STA does not provide a set of TWT parameters for a TWT agreement, leaving the choice of parameters to the responding STA except when TWT alignment across links is requested through multiple TWT elements in which case the Target Wake Time field contains a positive unsigned integer corresponding to a TSF time at which the TWT requesting STA requests to wake (see 35.3.24).
- “Suggest TWT” indicates that the requesting STA offers a set of preferred TWT parameters for a TWT agreement but might accept alternative TWT parameters that the responding STA indicates.
- “Demand TWT” indicates that the requesting STA currently accepts only the indicated TWT parameters for a TWT agreement.

## 11. MLME

### 11.1 Synchronization

#### 11.1.3 Maintaining synchronization

##### 11.1.3.8 Multiple BSSID procedure

###### 11.1.3.8.4 Inheritance of element values

*Change the fourth paragraph as follows:*

If an element, except a Reduced Neighbor Report element, identified by Element ID and Element ID Extension fields (if applicable), is carried in a Probe Response frame, Beacon frame, DMG Beacon frame, or S1G Beacon frame transmitted by an AP corresponding to the transmitted BSSID and there is no element having the same Element ID and Element ID Extension (if applicable) present in a nontransmitted BSSID profile, and the element is not listed in the Non-Inheritance element (if included) in the nontransmitted BSSID profile for that BSS, then a non-AP STA receiving the frame shall consider the element to be part of that nontransmitted BSSID's profile and the contents of the Information field shall apply to the nontransmitted BSSID. Otherwise, a non-AP STA receiving the frame shall not consider the element to be part of the nontransmitted BSSID profile. A Reduced Neighbor Report element is neither inherited nor non-inherited. An AP corresponding to the transmitted BSSID shall not include the Reduced Neighbor Report element in the Nontransmitted BSSID Profile subelement in the Multiple BSSID element that it transmits.

*Insert the following NOTE right after the fourth paragraph:*

NOTE 2—A non-AP STA that is associated with an AP corresponding to a nontransmitted BSSID and that receives a Reduced Neighbor Report element interprets the fields in the element as defined in 9.4.2.169.2.

*Insert the following NOTE at the end of the subclause:*

NOTE 3—The inheritance rules described in this subclause do not apply to the Multi-Link element (see 35.3.20).

### 11.1.4 Acquiring synchronization, scanning

#### 11.1.4.3 Active scanning and probing procedures

##### 11.1.4.3.4 Criteria for sending a response

*Insert a new item in the list following item 3) of the fourth paragraph (not all paragraphs and items shown) as follows:*

A FILS STA shall not respond to a Probe Request frame if any of the following criteria is met for a FILS Request Parameters element contained in the Probe Request frame:

...

3a) If the FILS Criteria field is present in the FILS Request Parameters element and the PHY Support Criterion of the FILS Criteria field of the FILS Request Parameters element is 4 and the responding STA is not EHT capable.

##### 11.1.4.3.9 Contents of a probe response

*Change the second paragraph as follows:*

A FILS STA that transmits a Probe Response frame shall either set the Address 1 field to the address of the STA that generated the probe request or to the broadcast address if the STA that generated the probe request indicated FILS Capability. A non-FILS STA that transmits a Probe Response frame shall set the Address 1 field to the address of the STA that generated the probe request, except that a non-FILS EHT AP affiliated with an AP MLD may respond with a multi-link probe response with the Address 1 field of the Probe Response frame set to the broadcast address (see 35.3.4.2).

## 11.2 Power management

### 11.2.2 Bufferable MMPDUs

*Change Table 11-4 as follows:*

Table 11-4—Bufferable/nonbufferable classification of MMPDUs

| Description                                                                                                                                                                                        | Classification |
|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------|
| For non-MLO, an MMDU that is carried in one or more Action frame (except for FTM frame and FTMR frame), Disassociation, or Deauthentication frame.                                                 | Bufferable     |
| For MLO, an MMDU that is carried in one or more Action frame (except for TPC Request frame, Link Measurement Request frame, FTM frame, and FTMR frame), Disassociation, or Deauthentication frame. | Bufferable     |
| An individually addressed MMPDU that is carried in one or more Probe Response frames and that is sent in an IBSS in response to an individually addressed Probe Request frame.                     | Bufferable     |
| All other MMPDUs.                                                                                                                                                                                  | Nonbufferable  |

### 11.2.3 Power management in a non-DMG infrastructure network

#### 11.2.3.1 General

*Change the tenth paragraph as follows:*

WNM sleep mode enables an extended power save mode for non-AP STAs in which a non-AP STA need not listen for every DTIM beacon, and need not perform GTK/IGTK/BIGTK updates. A STAs in WNM sleep mode can transition to awake state as infrequently as once every WNM sleep interval to check whether the corresponding TIM bit is set or group addressed traffic is pending. The WNM sleep interval advertised by a non-AP STA affiliated with a non-AP MLD is applied at the MLD level and the WNM procedures described in this subclause and in 11.2.3.15 are performed at the MLD level and apply to all the STAs affiliated with the MLD.

#### 11.2.3.6 AP operation

*Change item k) in the second paragraph (not all paragraphs and items shown) as follows:*

The following rules describe the operation:

...

k) For non-MLO, an AP may delete buffered BUs for implementation dependent reasons (subject to 11.2.3.10), including the use of an aging function and availability of buffers. The AP may base the aging function on the listen interval indicated by the STA in its (Re)Association Request frame or the WNM sleep interval specified by the non-AP STA in the WNM Sleep Mode Request frame. In addition, the S1G AP may base the aging function on the listen interval indicated by the AP in the (Re)Association Response frame. For MLO, an AP follows the rules defined in 35.3.12.6.

#### 11.2.3.7 Receive operation for STAs in PS mode

*Change item a) in the first paragraph (not all paragraphs and items shown) as follows:*

A STA in PS mode shall operate as follows to receive a BU from the AP:

a) For non-MLO, a STA with dot11NonTIMModeActivated equal to false shall transition to awake state early enough to be able to receive the first Beacon frame scheduled for transmission at the time corresponding to the last TBTT or TSBTT for which the STA was awake plus the time interval indicated by the ListenInterval parameter of the MLME-ASSOCIATE.request or MLME REASSOCIATE.request primitive. A STA with dot11NonTIMModeActivated equal to true is not required to transition to awake state to receive a Beacon frame and shall transmit at least one PS-Poll or trigger frame that is individually addressed to the associated AP every listen interval starting from the last known transition of the S1G STA in non-TIM mode in the doze state unless it follows the TWT or NDP Paging procedure.

For MLO, a STA follows the rules defined in 35.3.12.6.

#### 11.2.3.9 STAs operating in active mode

*Change as follows:*

A STA operating in this mode shall have its receiver activated continuously, unless the STA is allowed to be temporarily unavailable through the opportunistic power save mechanism defined in 26.14.3, or through the intra-PPDU power save mechanism defined in 26.14.1 (Intra-PPDU power save for non-AP HE STAs), or 26.8.4.4, 35.12, through the enhanced multi-link single-radio operation defined in 35.3.17, or through the enhanced multi-link multi-radio operation defined in 35.3.18; such STAs do not need to interpret the TIM elements in Beacon frames.

*Change the title of the subclause 11.2.3.10 as follows:*

#### 11.2.3.10 AP and AP MLD aging function

*Insert the following paragraph as the second paragraph after the first paragraph (“Any AP aging function...”):*

Any AP MLD aging function shall not cause the buffered BU to be discarded after any period that is shorter than that indicated by the non-AP MLD for which the BUs are buffered in the Listen Interval field of its (Re)Association Request frame. The exact specification of the aging function is beyond the scope of this standard.

#### 11.2.3.14 TIM Broadcast

*Change the 14th paragraph by splitting it into two paragraphs and add additional items as follows:*

The AP shall increase the value (modulo 256) of the Check Beacon field in the next transmitted TIM frame(s) when a critical update occurs to any of the elements inside the Beacon or DMG Beacon frame.

The following events about the BSS parameters of the AP shall classify as a critical update:

1. Inclusion of a Channel Switch Announcement element
2. Inclusion of an Extended Channel Switch Announcement element
3. Modification of the EDCA parameters element
4. Inclusion of a Quiet element
5. Modification of the DSSS Parameter Set
6. Modification of the HT Operation element
7. Inclusion of a Wide Bandwidth Channel Switch element
8. Inclusion of a Channel Switch Wrapper element
9. Inclusion of an Operating Mode Notification element
10. Inclusion of a Quiet Channel element
11. Modification of the VHT Operation element
12. Modification of the HE Operation element
13. Insertion of a Broadcast TWT element
14. Insertion or removal of a Broadcast TWT Parameter Set field in a Broadcast TWT element
15. Inclusion of the BSS Color Change Announcement element
16. Modification of the MU EDCA Parameter Set element
17. Modification of the Spatial Reuse Parameter Set element
18. Modification of the UORA Parameter Set element
19. Insertion of an Index Adjustment Factor field in a Multiple BSSID Configuration element
20. Modification of the EHT Operation element
21. Inclusion, modification or removal of a Transmit Power Envelope element, if the AP is an EHT AP.

***Change NOTE 4 as follows:***

NOTE 4—Modification of an element means that at least one field in the element is changed, although not all fields in an element can be changed (e.g., the fields that advertise the basic MCS sets in HT Operation, VHT Operation, and HE Operation elements do not change). Inclusion of an element means that the element is included in a Beacon frame. The insertion of an element means that the element was not present in the previous Beacon frame, is present in the current Beacon frame, and will be carried in the next Beacon frame. Inclusion/modification of an element for a nontransmitted BSSID is done in a Beacon frame transmitted by the AP corresponding to the transmitted BSSID either by including/modifying the element in the nontransmitted BSSID profile of the Multiple BSSID element or by including/modifying the element for the transmitted BSSID if that element is inherited for the nontransmitted BSSID (see 11.1.3.8.4).

***Insert the following paragraph after NOTE 4:***

When the AP belongs to a multiple BSSID set and the critical update occurs for any of the reasons specified in m) and m1) and when the relevant TWT parameter set is a R-TWT parameter set, then this critical update shall also be reported by the transmitted BSSID as a critical update for all the reported nontransmitted BSSID(s).

**11.2.3.15 WNM sleep mode**

**11.2.3.15.1 WNM sleep mode capability**

***Insert the following paragraph and NOTE at the end of the subclause:***

For MLO, WNM sleep mode enables extended power save mode between an AP MLD and a non-AP MLD. The WNM Sleep Mode Request and Response frames are exchanged between the non-AP MLD and AP MLD through their respective affiliated STA and AP over a setup link.

NOTE—Each non-AP STA affiliated with a non-AP MLD maintains its own power save state and power save mode (see 35.3.12).

#### 11.2.3.15.2 WNM sleep mode non-AP STA operation

*Insert the following paragraph at the end of the subclause:*

A non-AP MLD identifies the link to which the GTK/IGTK/BIGTK belongs based on the Link ID subfield carried in the corresponding subelement of the Key Data field.

#### 11.2.3.15.3 WNM sleep mode AP operation

*Change the last two paragraphs as follows:*

For non-MLO, with RSN and a valid PTK is configured for the STA:

- If RSN is used with management frame protection and a valid PTK is configured is negotiated for the STA, the current GTK, IGTK, and BIGTK shall be included in the WNM Sleep Mode Response frame. If a GTK/IGTK/BIGTK update is in progress, the pending GTK, IGTK, and BIGTK shall be included in the WNM Sleep Mode Response frame.
- If RSN is used without management frame protection and a valid PTK is configured is not negotiated for the STA, the current GTK shall be sent to the STA using a group key handshake (see 12.7.7 immediately following the WNM Sleep Mode Response frame. If a GTK update is in progress, the pending GTK shall be sent to the STA using another group key handshake immediately after the current GTK has been sent.

For MLO, with RSN and a valid PTK is configured for the non-AP MLD:

- If management frame protection is negotiated for the MLDs, the current GTK, IGTK when management frame protection is negotiated, and BIGTK when beacon protection is negotiated for each setup link shall be included in the WNM Sleep Mode Response frame using the WNM Sleep Mode MLO GTK/IGTK/BIGTK subelement (see 9.6.13.20). If a GTK/IGTK/BIGTK update is in progress for one or more links, the pending GTK, IGTK when management frame protection is negotiated, and BIGTK when beacon protection is negotiated for each of the affected AP(s) shall be included in the WNM Sleep Mode Response frame using the WNM Sleep Mode MLO GTK/IGTK/BIGTK subelement (see 9.6.13.20). A non-AP MLD identifies the corresponding link to which the GTK/IGTK/BIGTK belongs based on the value of the Link ID subfield included in the subelement of the Key Data field.
- If management frame protection is not negotiated for the MLDs, the current GTK for each setup link shall be sent to the non-AP MLD using a group key handshake (see 12.7.7) immediately following the WNM Sleep Mode Response frame. If a GTK update is in progress for a setup link, the pending GTK for the setup link shall be sent to the STA using another group key handshake immediately after the current GTK of the setup link has been sent.

*Change the title of the 11.3 as follows:*

## 11.3 STA authentication Authentication and association

### 11.3.1 State variables

*Insert the following paragraph after the first paragraph ("A STA (local) for which dot11OCBAActivated..."):*

An MLD (local) keeps an enumerated state variable for each MLD (remote) with which direct communication between two MLDs through one STA affiliated with the local MLD to another STA affiliated with the remote MLD via the WM is needed. In this context, direct communication between two MLDs through one STA affiliated with the local MLD to another STA affiliated with the remote MLD refers to the transmission of any Class 2 or Class 3 frame with an Address 1 field that matches the MAC address of the STA affiliated with the remote MLD and an Address 2 field that matches the MAC address of the STA affiliated with the local MLD.

*Insert the following paragraph after the now-shifted fifth paragraph ("For nonmesh STAs, this state variable..."):*

For MLDs, this state variable expresses the relationship between the local MLD and the remote MLD. It takes on the following values:

- *State 1*: Initial start state for MLDs that perform IEEE 802.11 authentication. Unauthenticated and unassociated.
- *State 2*: Authenticated but unassociated.
- *State 3*: Authenticated and associated (Pending RSNA Authentication). The IEEE 802.1X Controlled Port is blocked.
- *State 4*: Authenticated and associated (RSNA Established or Not Required). The IEEE 802.1X Controlled Port is unblocked, or not present.

*Change the title of the subclause 11.3.2 as follows:*

### 11.3.2 State transition diagram for nonmesh STAs or nonmesh MLDs

*Change the first two paragraphs and replace Figure 11-23 as follows:*

Figure 11-23 shows the state transition diagram for nonmesh STA states or nonmesh MLD states. Note that only events causing state changes are shown. The state of the sending STA or sending MLD given by Figure 11-23 is with respect to the intended receiving STA or the intended receiving MLD, respectively.

**NOTE**—A transition to State 1 might occur for other reasons such as no frames having been received from a STA or an MLD for a period of time.

![](e07ee22c350eb4a473072af47c303b11_img.jpg)

State 1: Unauthenticated, Unassociated (Class 1 Frames)

Transitions from State 1:

- Successful IEEE Std 802.11 PASN authentication → State 1a: Authenticated by PASN, Unassociated (Class 1, and protected Class 2 Frames)
- Successful IEEE Std 802.11 non-PASN or FILS authentication → State 2: Authenticated (except DMG STAs that do not perform IEEE Std 802.11 authentication, which are unauthenticated), Unassociated (Class 1 & 2 Frames)
- Deauthentication (except DMG STAs that did not perform IEEE Std 802.11 authentication) → State 1

State 1a: Authenticated by PASN, Unassociated (Class 1, and protected Class 2 Frames)

Transitions from State 1a:

- Successful (Re)Association that is not an RSNA → State 2
- Successful (Re)Association that is an RSNA → State 3
- Deauthentication → State 1

State 2: Authenticated (except DMG STAs that do not perform IEEE Std 802.11 authentication, which are unauthenticated), Unassociated (Class 1 & 2 Frames)

Transitions from State 2:

- Successful (Re)Association that is an RSNA → State 3
- Successful (Re)Association that is not an RSNA → State 2
- Deauthentication (except DMG STAs that did not perform IEEE Std 802.11 authentication) → State 1

State 3: Authenticated (except DMG STAs that did not perform IEEE Std 802.11 authentication, which are unauthenticated), Associated (Pending RSNA Authentication) (Class 1, 2 & 3 Frames, IEEE 802.1X Controlled Port Blocked)

Transitions from State 3:

- 4-way handshake successful → State 4
- Deauthentication (except DMG STAs that did not perform IEEE Std 802.11 authentication) → State 1

State 4: Authenticated (except DMG STAs that did not perform IEEE Std 802.11 authentication, which are unauthenticated), Associated (RSNA Established or Not Required) (Class 1, 2, & 3 Frames, IEEE 802.1X Controlled Port Unblocked)

Transitions from State 4:

- Successful (Re)Association that is an RSNA → State 3
- Deauthentication (except DMG STAs that did not perform IEEE Std 802.11 authentication) → State 1

Figure 11-23—Relationship between state and services between a given pair of nonmesh STAs or nonmesh MLDs

Change the title of the subclause 11.3.3 as follows:

### 11.3.3 Frame filtering based on STA or MLD state

Change the first paragraph as follows:

The current state existing between the transmitter and receiver STAs determines the IEEE 802.11 frame types that may be exchanged between that pair of STAs (see Clause 9). When the current state is State 1 or State 2, the current state existing between MLDs determines the IEEE 802.11 frame types that may be exchanged through affiliated STAs between the pair of MLDs. When the current state is State 3 or State 4, the

current state existing between MLDs determines the IEEE 802.11 frame types that may be exchanged on any setup links between that pair of MLDs subject to additional constraints (see 35.3.7). A unique state exists for each pair of transmitter and receiver STAs or each pair of MLDs. The allowed frame types are grouped into classes and the classes correspond to the STA state or the MLD state. In State 1, only Class 1 frames are allowed. In State 2, only Class 1 or Class 2 frames are allowed. In State 3 and State 4, all frames are allowed (Classes 1, 2, and 3). In the definition of frame classes, the following terms are used:

- Within an infrastructure BSS: both the transmitting STA and the recipient STA participate in the same infrastructure BSS
- Within a PBSS: both the transmitting STA and the recipient STA participate in the same PBSS
- Within an IBSS: both the transmitting STA and the recipient STA participate in the same IBSS
- dot11RSNAActivated: reference to the setting of dot11RSNAActivated at the STA or the MLD that needs to determine whether a transmission or reception is permitted.

*Change the description of the Data frames and Management frames of Class 3 frame in the sixth paragraph (not all paragraphs and items shown) as follows:*

The frame classes are defined as follows:

...

d) Class 3 frames

1. Data frames
   1. Data frames between STAs in an infrastructure BSS or in an MBSS
   2. Data frames between an AP MLD and a non-AP MLD associated with the AP MLD
2. Management frames
   1. In an infrastructure BSS, an MBSS, or a PBSS, all Action and Action No Ack frames except those that are declared to be Class 1 or Class 2 frames
   2. Between an AP MLD and a non-AP MLD associated with the AP MLD, all Action and Action No Ack frames except those that are declared to be Class 1 or Class 2 frames

*Insert the following paragraph after the eighth paragraph (“A STA shall not transmit Class 2...”):*

A STA affiliated with an MLD shall not transmit Class 2 frames unless the MLD is in State 2 or State 3 or State 4.

*Insert the following paragraph and NOTE after the now-shifted tenth paragraph (“A STA shall not transmit Class 3...”):*

A STA affiliated with an MLD shall not transmit Class 3 frames unless the MLD is in State 3 or State 4.

NOTE 2—Frame transmissions on a link between an AP MLD and a non-AP MLD associated with the AP MLD is subject to additional constraints (see 35.3.7).

### 11.3.4 Authentication and deauthentication

#### 11.3.4.1 General

*Change the second and third paragraphs as follows:*

Successful authentication other than PASN authentication sets a STA's state or a MLD's state to State 2, if it was State 1 or State 1a. Successful PASN authentication sets the STA's state to State 1a. Unsuccessful authentication leaves the STA's state or the MLD's state unchanged.

Deauthentication notification sets the state for a STA or an MLD to State 1. Deauthentication notification when in State 3 or 4 implies disassociation as well. A STA or an MLD may deauthenticate a peer STA or a peer MLD, respectively, at any time, for any reason.

*Insert the following paragraph after the fourth paragraph ("If STA A in an infrastructure BSS receives a Class 2 or Class 3 frame..."):*

If any affiliated STA A of an MLD A receives a (Re)Association Request/Response frame from STA B affiliated with an MLD B that is not authenticated with MLD A (i.e., the state for MLD B is State 1), MLD A shall discard the frame. The MLME of MLD A shall send a Deauthentication frame through the affiliated STA A of MLD A to STA B.

*Change the last paragraph as follows:*

Authentication is optional in an IBSS. Between an AP MLD and a non-AP MLD, authentication is required. In a non-DMG infrastructure BSS, authentication is required. In a DMG infrastructure BSS and PBSS, the Open System authentication algorithm is not used (see 12.3.3.1). APs, AP MLDs, and PCPs do not initiate authentication.

*Change the title of the subclause 11.3.4.2 as follows:*

#### 11.3.4.2 Authentication—originating STA or MLD

*Change the second paragraph as follows:*

Upon receipt of an MLME-AUTHENTICATE.request primitive, the originating STA or MLD shall authenticate with the indicated STA or MLD, respectively, using the following procedure:

1. If the STA is in an IBSS, the SME shall delete any PTKSA, GTKSA, IGTKSA, WIGTKSA, WTKSA, and BIGTKSA (including temporal keys) held for communication with the indicated STA by using the MLME-DELETEKEYS.request primitive (see 12.6.16).
2. The STA or the MLD shall execute one of the following:
   1. For the Open System authentication algorithm, the authentication mechanism described in 12.3.3.2.
   2. For the fast BSS transition (FT) authentication algorithm in an ESS, the authentication mechanism described in 13.5, or, if resource requests are included, 13.6.
   3. For SAE authentication between an AP MLD and a non-AP MLD or in an infrastructure BSS, IBSS, or MBSS, the authentication mechanism described in 12.4.
   4. For FILS authentication, the authentication mechanism described in 12.11. An AP or PCP may provide estimated association response latency to a non-AP and non-PCP STA using the Association Delay Info field in the Association Delay Info element (9.4.2.173). The value of the Association Delay Info field shall be larger than dot11HLPWaitTime.

c) For any authentication protocol that is not PASN, if the authentication was successful within the AuthenticateFailureTimeout, the state for the indicated STA or MLD shall be set to State 2 if it was in State 1 or State 1a; the state shall remain unchanged if it was other than State 1 or State 1a.

d) For PASN authentication, if the authentication was successful within the AuthenticateFailureTimeout, the state for the indicated STA shall be set to State 1a if it was State 1; PASN authentication is disallowed in states other than State 1.

e) The MLME shall issue an MLME-AUTHENTICATE.confirm primitive to inform the SME of the result of the authentication.

**Change the title of the subclause 11.3.4.3 as follows:**

#### **11.3.4.3 Authentication—destination STA or MLD**

**Change the first two paragraphs as follows:**

Upon receipt of an Authentication frame with authentication transaction sequence number equal to 1, the destination STA or MLD shall authenticate with the originating STA or MLD, respectively, using the following procedure:

a) If Open System authentication algorithm is being used, the STA or the MLD shall execute the procedure described in 12.3.3.2 or 12.3.3.3 respectively. These result in the generation of an MLME-AUTHENTICATE.indication primitive to inform the SME of the authentication request.

b) If FT authentication is being used, the MLME shall issue an MLME-AUTHENTICATE.indication primitive to inform the SME of the authentication request, including the FT Authentication Elements, and the SME shall execute the procedure as described in 13.5 or 13.6.

c) If SAE authentication is being used between an AP MLD and a non-AP MLD or in an infrastructure BSS, IBSS, or MBSS, the MLME shall issue an MLME-AUTHENTICATE.indication primitive to inform the SME of the authentication request, including the SAE authentication elements, and the SME shall execute the procedure as described in 12.4.

d) If FILS authentication is being used, the MLME shall issue an MLME-AUTHENTICATE.indication primitive to inform the SME of the authentication request, and the SME shall execute the procedure described in 12.11.

e) If PASN authentication is being used, the MLME shall issue an MLMEAUTHENTICATE.indication primitive to inform the SME of the authentication request, and the SME shall execute the procedure described in 12.13.

f) If the STA is in an IBSS and management frame protection was not negotiated when the PTKSA(s) were created, the SME shall delete any PTKSA, GTKSA, IGTKSA, WIGTKSA, WTKSA, and BIGTKSA (including temporal keys) held for communication with the originating STA by using the MLME-DELETEKEYS.request primitive (see 12.6.16).

g) Upon receipt of an MLME-AUTHENTICATE.response primitive, if the ResultCode is not SUCCESS, the MLME shall transmit an Authentication frame with the corresponding status code, as defined in 9.4.1.9, and the state for the originating STA or MLD shall be left unchanged. The Authentication frame is constructed using the appropriate procedure in 12.3.3.2, 13.5, 13.6 or 12.13.

h) Upon receipt of an MLME-AUTHENTICATE.response primitive, if the ResultCode is SUCCESS, the MLME shall transmit an Authentication frame that is constructed using the appropriate procedure in 12.3.3.2, 13.5, 13.6 or 12.13, with a status code of SUCCESS. The state for the originating STA or MLD shall be set to State 2 if it was State 1 or State 1a when PASN authentication procedure was not used. The state for the originating STA shall be set to State 1a if it was in State 1 and PASN authentication procedure was used. PASN authentication shall be disallowed in states other than State 1.

NOTE—If management frame protection is negotiated, the SME does not change the state for the originating STA or originating MLD and does not delete any of the previously created SAs or temporal keys as a part of this authentication procedure.

*Insert the following paragraph at the end of the subclause:*

For a destination MLD, an Authentication frame that is constructed using the appropriate procedure to complete the authentication procedure shall have the Address 1 field equal to the MAC address of the STA affiliated with the originating MLD that sends the Authentication frame with authentication transaction sequence number equal to 1.

*Change the title of the subclause 11.3.4.4 as follows:*

#### 11.3.4.4 Deauthentication—originating STA or MLD

*Change as follows:*

The originating STA or MLD shall deauthenticate with the indicated STA or MLD, respectively, using the following procedure:

1. The SME shall generate an MLME-DEAUTHENTICATE.request primitive containing the appropriate reason code for the STA or MLD deauthentication, as defined in Table 9-79 of 9.4.1.7.
2. On receipt of the MLME-DEAUTHENTICATE.request primitive, if the state for the indicated STA or MLD is State 1a, State 2, State 3, or State 4, the MLME shall generate a Deauthentication frame to be transmitted to the indicated STA or MLD, respectively.

NOTE—As the Deauthentication frame is a bufferable MMPDU, the transmission of this frame might be delayed by the operation of a power saving protocol. The AID and the PTKSA are maintained (when applicable) until the frame is acknowledged or attempts to transmit the frame are abandoned.

1. The state for the indicated STA or MLD shall be set to State 1.
2. Once the Deauthentication frame is acknowledged or attempts to transmit the frame are abandoned, the MLME shall issue an MLME-DEAUTHENTICATE.confirm primitive to inform the SME of the deauthentication.
3. The SME, upon receipt of an MLME-DEAUTHENTICATE.confirm primitive, shall delete any PTKSA, GTKSA, IGTKSA, BIGTKSA, WIGTKSA, WTKSA, and TPKSA (including temporal keys) held for communication with the indicated STA or MLD by using the MLME-DELETEKEYS.request primitive (see 12.6.16) and by generating an MLME-SETPROTECTION.request(None) primitive.
4. If the STA is contained within an AP or PCP, its SME, upon receipt of an MLME-DEAUTHENTICATE.confirm primitive, shall release the AID assigned for the indicated STA, if the state for the indicated STA was State 3 or State 4.
5. If the MLD is an AP MLD, its SME, upon receipt of an MLME-DEAUTHENTICATE.confirm primitive, shall release the AID assigned for the indicated non-AP MLD, if the state for the indicated MLD was State 3 or State 4.
6. If the STA is contained within an AP, its SME shall inform the DS of the disassociation, if the state for the indicated STA was State 3 or State 4.
7. If the MLD is an AP MLD, its SME shall inform the DS of the disassociation, if the state for the indicated non-AP MLD was State 3 or State 4.
8. If the STA is a mesh STA, its SME shall inform the mesh peering instance controller (see 14.4.4) of the deauthentication.

*Change the title of the subclause 11.3.4.5 as follows:*

#### 11.3.4.5 Deauthentication—destination STA or MLD

*Change the second paragraph as follows:*

Otherwise, upon receipt of a Deauthentication frame from a STA or an MLD for which the state is State 1a, State 2, State 3, or State 4, the destination STA or MLD, respectively, shall deauthenticate with the originating STA or MLD, respectively, using the following procedure:

1. If management frame protection was not negotiated when the PTKSA(s) were created, or if management frame protection was negotiated when the PTKSA(s) were created and the frame is not discarded per management frame protection processing, the MLME shall issue an MLME-DEAUTHENTICATE.indication primitive to inform the SME of the deauthentication, and set the state for the originating STA or the originating MLD to State 1.
2. Upon receiving an MLME-DEAUTHENTICATE.indication primitive, the SME shall
   1. Delete any PTKSA, GTKSA, IGTKSA, BIGTKSA, WIGTKSA, WTKSA and TPKSA (including temporal keys) held for communication with the originating STA or the originating MLD by using the MLME-DELETEKEYS.request primitive (see 12.6.16) and by generating an MLME-SETPROTECTION.request(None) primitive.
   2. If the STA is contained within an AP or PCP, release the AID assigned for the indicated STA.
   3. If the MLD is an AP MLD, release the AID assigned for the indicated MLD.
   4. If the STA is contained within an AP, inform the DS of the disassociation, if the state for the originating STA was State 3 or State 4.
   5. If the MLD is an AP MLD, inform the DS of the disassociation, if the state for the originating non-AP MLD was State 3 or State 4.
   6. If the STA is a mesh STA, inform the mesh peering instance controller (see 14.4.4) of the deauthentication.

#### 11.3.5 Association, reassociation, and disassociation

##### 11.3.5.1 General

*Change the third, fourth, and fifth paragraphs as follows:*

Successful association enables a STA to exchange Class 3 frames. Successful association enables an MLD to exchange Class 3 frames on any setup link subject to additional constraints (see 35.3.7). Successful association sets the state for a non-FILS STA or a non-FILS MLD to State 3 or State 4. Successful association sets the state for FILS STAs to State 4. Association and reassociation are not allowed in State 1 and State 1a. In order to associate or reassociate, a STA in State 1 or State 1a shall perform an IEEE 802.11 non-PASN authentication or FILS authentication and transition to State 2.

Successful reassociation enables a STA or an MLD to exchange Class 3 frames. Unsuccessful reassociation leaves the state for a STA state unchanged (with respect to the AP or PCP that was sent the Reassociation Request (which may be the current STA) or for a non-AP MLD state unchanged (with respect to the AP MLD that was sent the Reassociation Request). Successful reassociation sets the state for a non-FILS STA to State 3 or State 4 (with respect to the AP or PCP that was sent the Reassociation Request frame) or for a non-FILS non-AP MLD to State 3 or State 4 (with respect to the AP MLD that was sent the Reassociation Request frame). Successful reassociation sets the state for a STA to State 2 (with respect to the current AP or PCP, if this is not the AP or PCP that was sent the Reassociation Request frame) or for a non-AP MLD to State 2 (with respect to the current AP MLD, if this is not the AP MLD that was sent the Reassociation Request frame). Successful reassociation sets the state for a FILS STA to State 4 (with respect to the AP or PCP that was sent the Reassociation Request frame). Reassociation shall be performed only if the originating STA or non-AP MLD is already associated in the same ESS.

Dissassociation notification when not in State 1 sets the state for a non-FILS STA or a non-FILS MLD to State 2. Dissassociation notification when not in State 1 sets the state for a FILS STA to State 1. The STA or MLD shall become associated again prior to sending Class 3 frames. A STA or an MLD may disassociate a peer STA or a peer MLD, respectively, at any time, for any reason. The state shall remain unchanged upon disassociation notification in State 1a.

*Insert the following paragraph after the sixth paragraph ("If non-DMG STA A in an infrastructure BSS receives a Class 3 frame..."):*

If any affiliated STA A of an MLD receives a Class 3 frame from STA B that cannot be identified to be affiliated with an associated MLD, the MLD shall discard the frame. If the frame has an individual address of the Address 1 field, the MLME of the MLD shall send a Dissassociation frame through the affiliated STA A of the MLD to STA B.

*Change the last paragraph as follows:*

Association is not applicable in an IBSS. In an infrastructure BSS, association is required to exchange class 3 frames. Between an AP MLD and a non-AP MLD, association is required. In a PBSS, association is optional. APs, AP MLDs, and PCPs do not initiate association.

*Change the title of the subclause 11.3.5.2 as follows:*

**11.3.5.2 Non-AP STA, non-AP MLD, and non-PCP STA association initiation procedures**

*Insert the following paragraph after the first paragraph ("The SME shall delete..."):*

The SME shall delete any PTKSA, GTKSA, IGTKSA, BIGTKSA and temporal keys held for communication with the AP MLD by using MLME-DELETEKEYS.request primitive (see 12.6.16) before invoking MLME-ASSOCIATE.request primitive.

*Insert the following two paragraphs after the now-shifted fifth paragraph ("Upon receipt of an MLME-ASSOCIATE.request primitive that is..."):*

For a non-AP MLD associated with an AP MLD, a non-AP STA affiliated with the non-AP MLD shall not send an Association Request frame without Basic Multi-Link element.

NOTE 1—A non-AP MLD can disassociate from the associated AP MLD to allow a non-AP STA that was affiliated with the non-AP MLD to send an Association Request frame without a Basic Multi-Link element to perform association with an AP.

*Change the now-shifted eighth paragraph as follows:*

Upon receipt of an MLME-ASSOCIATE.request primitive, a non-AP STA, non-AP MLD, and non-PCP STA shall associate with an AP, AP MLD, or PCP, respectively, using the following procedure:

1. If the state for the AP, AP MLD, or PCP is State 1 or State 1a, the MLME shall inform the SME of the failure of the association by issuing an MLME-ASSOCIATE.confirm primitive, and this procedure ends.
2. All the states, agreements and allocations listed in both numbered lists in 11.3.5.4 item c) are deleted or reset to initial values.

c) The MLMEnon-AP STA shall transmit an Association Request frame to the AP or PCP, or a non-AP STA affiliated with the non-AP MLD shall transmit an Association Request frame with Basic Multi-Link element to an AP affiliated with the AP MLD. The non-AP STA affiliated with a non-AP MLD may initiate the transmission of the Association Request frame on the recommended link included in the MLME-ASSOCIATE.request primitive, unless specified otherwise (see 35.3.5.1). The RSNE contained in the MLME-ASSOCIATE.request primitive shall be included in the Association Request frame. The RSNE shall specify exactly one pairwise cipher suite and exactly one AKM suite. If the MLME-ASSOCIATE.request primitive contained the EmergencyServices parameter equal to true, an Interworking element with the USEA field set to 1 shall be included in the Association Request frame.

d) If an Association Response frame is received with a status code of SUCCESS, a DMG STA shall write to each of the following MIB attributes the corresponding subfield of the DMG BSS Parameter Configuration field of the DMG Operation element received from the AP or PCP to which it requested association:

1. dot11PSRequestSuspensionInterval from the PSRequestSuspensionInterval subfield
2. dot11MinBHDIDuration from the MinBHDIDuration subfield
3. dot11BroadcastSTAInfoDuration from the BroadcastSTAInfoDuration subfield
4. dot11AssocRespConfirmTime from the AssocRespConfirmTime subfield
5. dot11MinPPDDuration from the MinPPDDuration subfield
6. dot11SPIdleTimeout from the SPIdleTimeout subfield
7. dot11MaxLostBeacons from the MaxLostBeacons subfield

e) If an Association Response frame is received with a status code of SUCCESS, the state for the AP<sub>AP MLD</sub>, or PCP shall be set to State 4 or, if dot11RSNAActivated is true, State 3. The state for any other AP<sub>AP MLD</sub>, or PCP wherethat is State 3 or State 4 prior to the association request shall be set to State 2, and the MLME shall issue an MLME-ASSOCIATE.confirm primitive to inform the SME of the successful completion of the association.

f) If an Association Response frame is received with a status code of SUCCESS at an MM-SME coordinated STA and the Single AID field within the MMS element is equal to 1, then

- For each of its MAC entities advertised within the MMS element and for which dot11RSNAActivated is true, the state is set to State 3. Progress from State 3 to State 4 occurs independently in each such MAC entity.
- For each of its MAC entities advertised within the MMS element and for which dot11RSNAActivated is false, the state is set to State 4.
- For each of its MAC entities advertised within the MMS element the state for any other AP or PCP wherethat is State 3 or State 4 prior to the association request shall be set to State 2.

g) If an Association Response frame is received with a status code other than SUCCESS or the association fails to complete within dot11AssociationResponseTimeout the state for the AP<sub>AP MLD</sub>, or PCP shall be set to State 2, and the MLME shall issue an MLME-ASSOCIATE.confirm primitive to inform the SME of the failure of the association. The status code returned in the Association Response frame indicates the cause of the failed association attempt. Any misconfiguration or parameter mismatch, e.g., data rates required as basic rates that the STA or a non-AP STA affiliated with the non-AP MLD did not indicate as supported in the STA's Supported Rates and BSS Membership Selectors element, shall be corrected before the SME issues an MLME-ASSOCIATE.request primitive for the same AP<sub>AP MLD</sub>, or PCP. If the status code indicates the association failed because of a reason that is not related to configuration (e.g., the AP<sub>AP MLD</sub>, or PCP is unable to support additional associations) and the Association Response frame does not include a TIE with Timeout Interval Type field equal to 3 the SME shall not issue an MLME-ASSOCIATE.request primitive for the AP<sub>AP MLD</sub>, or PCP until a period of at least 2s has

elapsed. If the status code indicates the association failed and the Association Response frame contains a TIE with Timeout Interval Type field equal to 3, the SME shall not issue an MLME-ASSOCIATE.request primitive for the same AP, AP\_MLD, or PCP until the period specified in the TIE has elapsed.

1. If an MLME-ASSOCIATE.confirm primitive is received with a ResultCode of SUCCESS, and RSNA is required, and FILS authentication was not used, then the SME shall perform a 4-way handshake to establish an RSNA with the STA or the AP\_MLD. As a part of a successful 4-way handshake, the SME shall enable protection by generating an MLME-SETPROTECTION.request(Rx\_Tx) primitive. If an MLME-ASSOCIATE.confirm primitive is received with a ResultCode of SUCCESS, and FILS authentication was used, then the SME shall enable protection by generating an MLME-SETPROTECTION.request(Rx\_Tx) primitive.
2. Upon receipt of the MLME-SETPROTECTION.request(Rx\_Tx) primitive, the MLME shall set the state of the STA or the AP\_MLD to State 4.

*Change the title of the subclause 11.3.5.3 as follows:*

#### 11.3.5.3 AP, AP\_MLD, or PCP association receipt procedures

*Insert the following paragraph as the first paragraph of the subclause:*

For a non-AP MLD associated with an AP MLD, if an AP affiliated with the AP MLD receives an Association Request frame without a Basic Multi-Link element from a non-AP STA affiliated with the non-AP MLD, then the AP shall reject the association request with a status code of DENIED\_STA\_AFFILIATED\_WITH\_MLD\_WITH\_EXISTING\_MLD\_ASSOCIATION.

*Change the remaining paragraphs of the subclause as follows:*

The following procedure shall be used by an AP or PCP upon receipt of an Association Request frame from a STA the AP or PCP shall use the following procedure or by an AP\_MLD after an AP affiliated with the AP\_MLD receives an Association Request frame with Basic Multi-Link element from a non-AP STA affiliated with a non-AP MLD:

1. The MLME shall issue an MLME-ASSOCIATE.indication primitive to inform the SME of the association request. The SME shall issue an MLME-ASSOCIATE.response primitive addressed to the STA or MLD identified by the PeerSTAAddress parameter of the MLME-ASSOCIATE.indication primitive. If the association is not successful, the SME shall indicate a specific reason for the failure to associate in the ResultCode parameter. Upon receipt of the MLME-ASSOCIATE.response primitive, the MLME shall transmit an Association Response frame.
2. If the state for the STA is State 1 and the STA is a non-DMG STA or the state of the non-AP MLD is State 1, the SME shall refuse the association request by issuing an MLME-ASSOCIATE.response primitive with ResultCode NOT\_AUTHENTICATED. If the state for the STA is State 1a and the STA is a non-DMG STA, the SME shall refuse the association request by issuing an MLME-ASSOCIATE.response primitive with ResultCode PASN\_NOT\_AUTHORIZED.
3. AP with dot1lInterworkingServiceActivated true only: If the MLME-ASSOCIATE.indication primitive has the EmergencyServices parameter set to true and the RSN parameter does not include an RSNE, the SME shall not reject the association request on the basis that dot1lRSNAActivated is true, thereby granting access, using unprotected frames (see 9.2.4.1.9), to the network for emergency services purposes.
4. Otherwise, in an RSNA the SME shall check the values received in the RSN parameter to see whether the values received match the security policy. If they do not, the SME shall refuse the association by issuing an MLME-ASSOCIATE.response primitive with a ResultCode indicating the security policy mismatch.

c) Otherwise, if the state for the STA or the non-AP MLD is State 4, the STA or the non-AP MLD has a valid security association, the STA or the non-AP MLD has negotiated management frame protection, the STA or the non-AP MLD has not performed a successful SAE authentication after the current association was established, the STA did not include a valid Known STA Identification element (see 11.13), and there has been no earlier, timed out SA Query procedure with the STA or the non-AP MLD (which would have allowed a new association process to be started, without an additional SA Query procedure):

1. The SME shall refuse the association request by issuing an MLME-ASSOCIATE.response primitive with ResultCode REFUSED\_TEMPORARILY and TimeoutInterval containing a TIe with the Timeout Interval Type field set to 3 (association comeback time). If the SME is in an ongoing SA Query with the STA or the non-AP MLD, the Timeout Interval Value field shall be set to the remaining SA Query period, otherwise, it shall be set to dot11AssociationSAQueryMaximumTimeout or dot11MLDAssociationSAQueryMaximumTimeout.
2. The state for the STA or the non-AP MLD shall be left unchanged.
3. Following this, if the SME is not in an ongoing SA Query with the STA or the non-AP MLD, the SME shall issue one MLME-SA-QUERY.request primitive addressed to the STA or the non-AP MLD every dot11AssociationSAQueryRetryTimeout TUs until an MLME-SA-QUERY.confirm primitive for the STA or the non-AP MLD is received or dot11AssociationSAQueryMaximumTimeout TUs or dot11MLDAssociationSAQueryMaximumTimeout TUs from the beginning of the SA Query procedure have passed. The SME shall increment the TransactionIdentifier by 1 for each MLME-SA-QUERY.request primitive, rolling it over to 0 after the maximum allowed value is reached.
4. If no MLME-SA-QUERY.confirm primitive for the STA or the non-AP MLD is received within the dot11AssociationSAQueryMaximumTimeout period or the dot11MLDAssociationSAQueryMaximumTimeout period, the SME shall allow a subsequent association process with the STA or the non-AP MLD to be started without starting an additional SA Query procedure, except that the SME may deny a subsequent association process with the STA or the non-AP MLD if an MSDU was received from the STA or any non-AP STA affiliated with the non-AP MLD within this period.

NOTE 1—Reception of an MSDU implies reception of a valid protected frame, which obviates the need for the SA Query procedure.

f) The SME shall refuse an association request from a STA that does not support all of the rates in the BSSBasicRateSet parameter and all of the membership selectors in the BSSMembershipSelectorSet parameter in the MLME-START.request primitive.

g) The SME shall refuse an association request from an HT STA that does not support all of the MCSs in the Basic HT-MCS Set field of the HT Operation parameter in the MLME-START.request primitive.

h) The SME shall refuse an association request from a VHT STA that does not support all of the <VHT-MCS, NSS> tuples indicated by the Basic VHT-MCS And NSS Set field of the VHT Operation parameter in the MLME-START.request primitive.

i) The SME shall refuse an association request from a HE STA that does not support all of the <HE-MCS, NSS> tuples indicated by the Basic HE-MCS And NSS Set field of the HE Operation parameter in the MLME-START.request primitive.

ii) The AP affiliated with an AP MLD shall refuse an association request from a non-AP STA 1 that is not affiliated with a non-AP MLD if the MAC address of the non-AP STA 1 is the same as a non-AP STA associated with the AP and affiliated with a non-AP MLD 1, and the MAC address of the non-AP STA 1 is not the same as the MLD MAC address of the non-AP MLD 1.

j) An AP or PCP may refuse GLK association based on local policy and, if so, shall return the GLK\_NOT\_AUTHORIZED ResultCode.

NOTE 2—For example, there might be a list of authorized GLK peers or clients or a limit on the number of GLK peers or clients and the peer or client is not on that list or its acceptance would exceed the limit.

k) The SME shall generate an MLME-ASSOCIATE.response primitive with the PeerSTAAddress parameter set to the MAC address of the STA or the non-AP\_MLD identified by the PeerSTAAddress parameter of the MLME-ASSOCIATE.indication primitive. If the ResultCode in the MLME-ASSOCIATE.response primitive is SUCCESS, the SME has an existing SA with the STA or the non-AP\_MLD, and an SA Query procedure with that STA or that non-AP\_MLD has failed to receive a valid response, (i.e., has not received an MLME-SA-QUERY confirm primitive within the dot11AssociationSAQueryMaximumTimeout period, or the dot11MLDAssociationSAQueryMaximumTimeout period), the SME shall issue an MLME-DISSASSOCIATE.request primitive addressed to the STA or the non-AP\_MLD with ReasonCode INVALID\_AUTHENTICATION.

NOTE 3—This MLME-DISSASSOCIATE.request primitive generates a protected Dissassociation frame. If the association request was genuine, the STA has deleted the PTKSA by this point and so the protected Dissassociation frame is discarded. The purpose is to inform a STA that has for some reason failed to respond to an SA Query procedure triggered by a forged association request.

l) If the ResultCode in the MLME-ASSOCIATE.response primitive is SUCCESS, all the states, agreements and allocations pertaining to the associating STA or the associating non-AP\_MLD and listed in both numbered lists in 11.3.5.4 item c) are deleted or reset to initial values.

m) If the ResultCode in the MLME-ASSOCIATE.response primitive is SUCCESS, the SME shall delete any PTKSA, GTKSA, IGTKSA, BIGTKSA, WIGTKSA, WTKSA, and TPKSA (including temporal keys) held for communication with the STA or non-AP\_MLD by using the MLME-DELETEKEYS.request primitive (see 12.6.16).

n) If the MLME-ASSOCIATE.indication primitive includes an MMS parameter, the AP or PCP shall generate the MLME-ASSOCIATE.response primitive directed to the MLME of the STA identified by the PeerSTAAddress parameter of the MLME-ASSOCIATE.request primitive and take the following additional action, as appropriate:

1. If the Single AID field in the MMS parameter of the MLME-ASSOCIATE.indication primitive is equal to 1, the AP or PCP may allocate a single AID for all of the STAs included in the MMS element. If the AP or PCP allocates the same AID to each STA whose MAC address was included in the MMS element, it shall include the MMS element received from the MM-SME coordinated STA in the MLME-ASSOCIATE.response primitive.
2. If the Single AID field is 0, the AP or PCP shall allocate a distinct AID for each STA specified in the MMS element.

NOTE 4—When the Single AID field is 0, a separate association request/response exchange is performed for each STA specified in the MMS element, and this assigns the multiple AIDs for the STAs.

o) If an Association Response frame with a status code of SUCCESS is acknowledged by the STA or the non-AP\_MLD, the state for the STA or for the non-AP\_MLD shall be set to State 4 or, if dot11RSNAActivated is true, State 3.

p) If the ResultCode in the MLME-ASSOCIATE.response primitive is not SUCCESS and management frame protection was negotiated for the existing association the state for the STA or for the non-AP\_MLD shall be left unchanged. If the ResultCode is not SUCCESS and management frame protection is not in use the state for the STA or for the non-AP\_MLD shall be set to State 3 if it was State 4.

NOTE 5—Any MSDU fragments from the STA, and if management frame protection was negotiated for the existing association, any MMPDU fragments from the STA, are discarded at this point (see 12.6.12), since fragments are required to be encrypted with the same key (see 10.5).

q) If the ResultCode in the MLME-ASSOCIATE.request primitive is SUCCESS and RSNA establishment is required, and FILS authentication was not used, the SME shall attempt a 4-way handshake with the STA or with the non-AP MLD. Upon a successful completion of the 4-way handshake, the SME shall enable protection by issuing an MLME-SETPROTECTION.request(Rx\_Tx) primitive. If FILS authentication was used, the SME shall enable protection by generating an MLME-SETPROTECTION.request(Rx\_Tx) primitive. In either case, upon receipt of the MLME-SETPROTECTION.request(Rx\_Tx) primitive, the MLME shall set the state for the STA or with the non-AP MLD to State 4.

r) AP or AP MLD only: The SME shall inform the DS of any changes in the state of the STA or of the non-AP MLD.

*Change the title of the subclause 11.3.5.4 as follows:*

#### 11.3.5.4 Non-AP STA, non-AP MLD, and non-PCP STA reassociation initiation procedures

*Change the first paragraph as follows:*

Except when the association is part of a fast BSS transition, the SME shall delete any PTKSA, GTKSA, IGTKSA, BIGTKSA, WIGTKSA, WTKSA, and TPKSA (including temporal keys) held for communication with the AP, AP MLD, or PCP by using the MLME-DELETEKEYS.request primitive (see 12.6.16) before invoking an MLME-REASSOCIATE.request primitive.

*Insert the following paragraph after the fourth paragraph (“Upon receipt of an MLME-REASSOCIATE.request primitive that is...”):*

For a non-AP MLD associated with an AP MLD, a non-AP STA that is affiliated with the non-AP MLD and has MAC address not equal to the MLD MAC address of the non-AP MLD shall not send a Reassociation Request frame without Basic Multi-Link element to any AP affiliated with that AP MLD.

*Change the now-shifted sixth paragraph as follows:*

Upon receipt of an MLME-REASSOCIATE.request primitive, a non-AP STA, non-AP MLD, and non-PCP STA shall reassociate with an AP, AP MLD, or PCP, respectively, using the following procedure:

a) If the STA (with respect to the AP or PCP) or non-AP MLD (with respect to the AP MLD) is not associated in the same ESS or the state for the new AP, AP MLD, or PCP is State 1 or State 1a, the MLME shall inform the SME of the failure of the reassociation by issuing an MLME-REASSOCIATE.confirm primitive, and this procedure ends.

b) The MLME non-AP STA shall transmit a Reassociation Request frame to the new AP or PCP, or a non-AP STA affiliated with the non-AP MLD shall transmit a Reassociation Request frame with Basic Multi-Link element in the Reassociation Request frame to an AP affiliated with the new AP MLD. The non-AP STA affiliated with a non-AP MLD may initiate the transmission of the Reassociation Request frame on the recommended link included in the MLME-REASSOCIATE.request primitive, unless specified otherwise (see 35.3.5.1). The RSNE contained in the MLME-ASSOCIATE.request primitive shall be included in the Reassociation Request frame. The RSNE shall specify exactly one pairwise cipher suite and exactly one AKM suite. If the MLME-REASSOCIATE.request primitive contained the EmergencyServices parameter equal to true, an Interworking element with the UESA field set to 1 shall be included in the Reassociation Request frame.

c) If a Reassociation Response frame is received with a status code of SUCCESS, the state variable for the new AP, AP\_MLD, or PCP shall be set to State 4 or to State 3 if dot11RSNAActivated is true and the FT protocol is not used with respect to the new AP, AP\_MLD, or PCP and, unless the old AP, AP\_MLD, or PCP and new AP, AP\_MLD, or PCP, respectively, are the same, to State 2 with respect to the old AP, AP\_MLD, or PCP, and the MLME shall issue an MLME-REASSOCIATE.confirm primitive to inform the SME of the successful completion of the reassociation.

If the MLME-REASSOCIATION.request primitive has the new AP's, AP\_MLD's, or PCP's MAC address in the CurrentAPAddress parameter (reassociation to the same AP, AP\_MLD, or PCP), the following states, agreements and allocations shall be deleted or reset to initial values:

1. All EDCAF state
2. Any block ack agreements that are not GCR agreements
3. Sequence number
4. Duplicate detection caches
5. Anything queued for transmission
6. Fragmentation and reassembly buffers
7. Power management mode
8. WNM sleep mode
9. TDLS agreements
10. TPKSAs established with any peers
11. TSPECs
12. DMG TSPECs
13. GLK-GCR agreement
14. MSCS
15. SCS
16. TWT

If the reassociation is to the same AP (as described above) and the existing association is not between MLDs, the following states, agreements, and allocations (if it exists) are not affected by the reassociation procedure:

1. Enablement/Deenablement
2. GDD enablement
3. MMSLs
4. GCR agreements that are not GLK-GCR agreements
5. DMS agreements
6. TFS agreements
7. FMS agreements
8. Triggered autonomous reporting agreements
9. FTM sessions
10. DMG SP and CBAP allocations
11. PTP TSPECs.

In the case of reassociation to a different AP, AP\_MLD, or PCP (the CurrentAPAddress parameter is not the new AP's or PCP's MAC address or the new AP MLD's MAC address) or in the case of reassociation to an AP, where the new AP address is same as the value in the CurrentAPAddress parameter, and the existing association is between MLDs or in the case of reassociation to an AP MLD, where the new AP MLD address is same as the value in the CurrentAPAddress parameter, and the existing association is not between MLDs, all the states, agreements, and allocations listed above are deleted or reset to initial values.

d) If a Reassociation Response frame is received with a status code of SUCCESS, a DMG STA shall write to each of the following MIB attributes the corresponding subfield of the DMG BSS Parameter Configuration field of the DMG Operation element received from the AP or PCP to which it requested reassociation:

1. dot11PSRequestSuspensionInterval from the PSRequestSuspensionInterval subfield
2. dot11MinBHDIDuration from the MinBHDIDuration subfield
3. dot11BroadcastSTAInfoDuration from the BroadcastSTAInfoDuration subfield
4. dot11AssocRespConfirmTime from the AssocRespConfirmTime subfield
5. dot11MinPPDuration from the MinPPDuration subfield
6. dot11SPIdleTimeout from the SPIdleTimeout subfield
7. dot11MaxLostBeacons from the MaxLostBeacons subfield

e) If an Association Response frame is received with a status code of SUCCESS at an MM-SME coordinated STA and the Single AID field within the MMS element is equal to 1, then

- For each of its MAC entities advertised within the MMS element and for which dot11RSNAActivated is true, the state is set to State 3. Progress from State 3 to State 4 occurs independently in each such MAC entity.
- For each of its MAC entities advertised within the MMS element and for which dot11RSNAActivated is false, the state is set to State 4.
- For each of its MAC entities advertised within the MMS element the state for any other AP or PCP wherethat is State 3 or State 4 prior to the association request shall be set to State 2.

f) If a Reassociation Response frame is received with a status code other than SUCCESS or the reassociation fails to complete within dot11AssociationResponseTimeout:

1. Except when the association is part of a fast BSS transition, the state for the AP, AP\_MLD, or PCP shall be set to State 2 with respect to the new AP, AP\_MLD, or PCP.

NOTE—This means the STA is disassociated in case of failure of reassociation to the same AP.

2) The MLME shall issue an MLME-REASSOCIATE.confirm primitive to inform the SME of the failure of the reassociation. The ResultCode returned in the MLME-REASSOCIATE.confirm primitive indicates the cause of the failed reassociation attempt. Any misconfiguration or parameter mismatch, e.g., data rates required as basic rates that the STA did not indicate as supported in the STA's Supported Rates and BSS Membership Selectors element, shall be corrected before the SME issues an MLME-REASSOCIATE.request primitive for the same AP, AP\_MLD, or PCP. If the status code indicates the reassociation failed because of a reason that is not related to configuration (e.g., the AP or PCP is unable to support additional associations) and the Reassociation Response frame does not include a TIE with Timeout Interval Type field equal to 3 the SME shall not issue an MLME-REASSOCIATE.request primitive for the same AP, AP\_MLD, or PCP until a period of at least 2s has elapsed. If the status code indicates the reassociation failed and the Reassociation Response frame contains a TIE with Timeout Interval Type field equal to 3, the SME shall not issue an MLME-REASSOCIATE.request primitive for the same AP, AP\_MLD, or PCP until the period specified in the TIE has elapsed.

g) If an MLME-REASSOCIATE.confirm primitive is received with a ResultCode of SUCCESS, and RSNA is required, and FILS authentication was not used, and the STA or the non-AP\_MLD is in State 3, then the SME shall perform a 4-way handshake to establish an RSNA with the STA or the AP\_MLD. As a part of a successful 4-way handshake, the SME shall enable protection by generating an MLME-SETPROTECTION.request(Rx\_Tx) primitive. If an MLME-REASSOCIATE.confirm primitive is received with a ResultCode of SUCCESS, and FILS authentication was used, and the STA is in State 3, then the SME shall enable protection by generating an MLME-SETPROTECTION.request(Rx\_Tx) primitive.

h) Upon receipt of the MLME-SETPROTECTION.request(Rx\_Tx) primitive, the MLME shall set the state of the STA or of the AP\_MLD to State 4.

*Change the title of the subclause 11.3.5.5 as follows:*

**11.3.5.5 AP, AP\_MLD, or PCP reassociation receipt procedures**

*Insert the following paragraph as the first paragraph of the subclause:*

For a non-AP\_MLD associated with an AP\_MLD, if an AP affiliated with the AP\_MLD receives a Reassociation Request frame without Basic Multi-Link element from a non-AP\_STA that is affiliated with the non-AP\_MLD and has MAC address not equal to the MLD\_MAC address of the non-AP\_MLD, then the AP shall reject the reassociation request with a status code of DENIED\_STA\_AFFILIATED\_WITH\_MLD\_WITH\_EXISTING\_MLD\_ASSOCIATION.

*Change the remaining paragraphs of the subclause as follows:*

The following procedure shall be used by an AP or PCP upon receipt of a Reassociation Request frame from a STA-the AP or PCP shall use the following procedure or by an AP affiliated with an AP\_MLD upon receipt of a Reassociation Request frame with Basic Multi-Link element from a non-AP\_STA affiliated with a non-AP\_MLD:

1. The MLME shall issue an MLME-REASSOCIATE.indication primitive to inform the SME of the reassociation request. The SME shall issue an MLME-REASSOCIATE.response primitive addressed to the STA or the non-AP\_MLD identified by the PeerSTAAddress parameter of the MLME-REASSOCIATE.indication primitive. If the reassociation is not successful, the SME shall indicate a specific reason for the failure to reassociate in the ResultCode parameter. Upon receipt of the MLME-REASSOCIATE.response primitive, the MLME shall transmit a Reassociation Response frame.
2. If the state for the STA is State 1 or State 1a and the STA is a non-DMG\_STA or the state for the non-AP\_MLD is State 1, the SME shall refuse the reassociation request by issuing an MLME-REASSOCIATE.response primitive with ResultCode NOT\_AUTHENTICATED. If the state for the STA is State 1a and the STA is a non-DMG\_STA, the SME shall refuse the reassociation request by issuing an MLME-REASSOCIATE.response primitive with ResultCode PASN\_NOT\_AUTHORIZED.
3. AP with dot1lInterworkingServiceActivated true only: If the MLME-REASSOCIATE.indication primitive has the EmergencyServices parameter set to true and the RSN parameter does not include an RSNE, the SME shall not reject the reassociation request on the basis that dot1lRSNAActivated is true thereby granting access, using unprotected frames (see 9.2.4.1.9), to the network for emergency services purposes.
4. Otherwise, in an RSNA the SME shall check the values received in the RSN parameter to see whether the values received match the security policy. If they do not, SME shall refuse the reassociation by issuing an MLME-REASSOCIATE.response primitive with a ResultCode indicating the security policy mismatch.
5. Otherwise, if the state for the STA or the non-AP\_MLD is State 4, the STA or the non-AP\_MLD has a valid security association, the STA or the non-AP\_MLD has negotiated management frame protection, the reassociation is not a part of a fast BSS transition, the STA or the non-AP\_MLD has not performed a successful SAE authentication after the current association was established, the STA did not include a valid Known STA Identification element (see 11.13), and there has been no earlier, timed out SA Query procedure with the STA or the non-AP\_MLD (which would have allowed a new reassociation process to be started, without an additional SA Query procedure):
   1. The SME shall refuse the reassociation request by issuing an MLME-REASSOCIATE.response primitive with ResultCode REFUSED\_TEMPORARILY and TimeoutInterval

containing a TIE with the Timeout Interval Type field set to 3 (association comeback time). If the SME is in an ongoing SA Query with the STA or the non-AP MLD, the Timeout Interval Value field shall be set to the remaining SA Query period, otherwise, it shall be set to dot11AssociationSAQueryMaximumTimeout or dot11MLDAssociationSAQueryMaximumTimeout.

1. The state for the STA or the non-AP MLD shall be left unchanged.
2. Following this, if the SME is not in an ongoing SA Query with the STA or the non-AP MLD, the SME shall issue one MLME-SA-QUERY.request primitive addressed to the STA or the non-AP MLD every dot11AssociationSAQueryRetryTimeout TUs until an MLME-SA-QUERY.confirm primitive for the STA or the non-AP MLD is received or dot11AssociationSAQueryMaximumTimeout TUs or dot11MLDAssociationSAQueryMaximumTimeout TUs from the beginning of the SA Query procedure have passed. The SME shall increment the TransactionIdentifier by 1 for each MLME-SA-QUERY.request primitive, rolling it over to 0 after the maximum allowed value is reached.
3. If no MLME-SA-QUERY.confirm primitive for the STA or the non-AP MLD is received within the dot11AssociationSAQueryMaximumTimeout period or the dot11MLDAssociationSAQueryMaximumTimeout period, the SME shall allow a subsequent reassociation process to be started without starting an additional SA Query procedure, except that the SME may deny a subsequent reassociation process with the STA or the non-AP MLD if an MSDU was received from the STA or any non-AP STA affiliated with the non-AP MLD within this period.

NOTE 1—Reception of an MSDU implies reception of a valid protected frame, which obviates the need for the SA Query procedure.

1. The SME shall refuse a reassociation request from a STA that does not support all the rates in the BSSBasicRateSet parameter and all of the membership selectors in the BSSMembershipSelectorSet parameter in the MLME-START.request primitive.
2. The SME shall refuse a reassociation request from an HT STA that does not support all of the MCSs in the Basic HT-MCS Set field of the HT Operation parameter in the MLME-START.request primitive.
3. The SME shall refuse a reassociation request from a VHT STA that does not support all of the <VHT-MCS, NSS> tuples indicated by the Basic VHT-MCS And NSS Set field of the VHT Operation parameter in the MLME-START.request primitive.
4. The SME shall refuse a reassociation request from a HE STA that does not support all of the <HE-MCS, NSS> tuples indicated by the Basic HE-MCS And NSS Set field of the HE Operation parameter in the MLME-START.request primitive.
5. The AP affiliated with an AP MLD shall refuse a reassociation request from a non-AP STA 1 that is not affiliated with a non-AP MLD if the MAC address of the non-AP STA 1 is the same as a non-AP STA associated with the AP and affiliated with a non-AP MLD 1, and the MAC address of the non-AP STA 1 is not the same as the MLD MAC address of the non-AP MLD 1.
6. If the ResultCode in the MLME-REASSOCIATE.response primitive is SUCCESS, the SME has an existing SA with the STA or the non-AP MLD, and an SA Query procedure with that STA or the non-AP MLD has failed to receive a valid response (i.e., has not received an MLME-SA-QUERY.confirm primitive within the dot11AssociationSAQueryMaximumTimeout period or the dot11MLDAssociationSAQueryMaximumTimeout period), the SME shall issue an MLME-DISASSOCIATE.request primitive addressed to the STA or the non-AP MLD with ReasonCode INVALID\_AUTHENTICATION.

NOTE 2—This MLME-DISASSOCIATE.request primitive generates a protected Disassociation frame. If the reassociation request was genuine, the STA or the non-AP MLD has deleted the PTKSA by this point and so the protected Disassociation frame is ignored. The purpose is to inform a STA that has for some reason failed to respond to an SA Query procedure triggered by a forged reassociation request.

k) If management frame protection was not negotiated for the existing association, or the ResultCode in the MLME-REASSOCIATE.response primitive is SUCCESS and the reassociation is not part of a fast BSS transition, the SME shall delete any PTKSA, GTKSA, IGTKSA, BIGTKSA, WIGTKSA, WTKSA, and TPKSA (including temporal keys) held for communication with the STA or the non-AP MLD by using the MLME-DELETEKEYS.request primitive (see 12.6.16).

l) If the MLME-REASSOCIATE.indication primitive includes an MMS parameter, the AP or PCP shall take the following additional action, as appropriate:

1. If the Single AID field in the MMS parameter of the MLME-REASSOCIATE.indication primitive is equal to 1, the AP or PCP may allocate a single AID for all of the STAs included in the MMS element. If the AP or PCP allocates the same AID to all STAs whose MAC address was included in the MMS element, it shall include the MMS element received from the MM-SME coordinated STA in the MLME-REASSOCIATE.response primitive.
2. If the Single AID field is 0, the AP or PCP shall allocate a distinct AID for each STA specified in the MMS element.

NOTE 3—When the Single AID field is 0, a separate reassociation request/response frame exchange is performed for each STA specified in the MMS element, and this assigns the multiple AIDs for the STAs.

m) If a Reassociation Response frame with a status code of SUCCESS is acknowledged by the STA or a non-AP STA affiliated with the non-AP MLD, the state for the STA or the non-AP MLD shall be set to State 4, or to State 3 if dot11RSNAActivated is true and the reassociation is not part of a fast BSS transition.

n) If the ResultCode in the MLME-REASSOCIATE.response primitive is not SUCCESS and management frame protection was negotiated for the existing association the state for the STA or the non-AP MLD shall be left unchanged. If the ResultCode is not SUCCESS, management frame protection was not negotiated for the existing association, and the reassociation is part of a fast BSS transition, the state for the STA or the non-AP MLD shall be left unchanged. If the ResultCode is not SUCCESS, management frame protection was not negotiated for the existing association, and the reassociation is not part of a fast BSS transition, the state for the STA or the non-AP MLD was State 3 or State 4, the state for the STA or the non-AP MLD shall be set to State 2 if the reassociation is for the same AP, or to State 3 otherwise.

o) If the ResultCode in the MLME-REASSOCIATE.response primitive is SUCCESS, RSNA establishment is required, and the reassociation is not part of a fast BSS transition, and FILS is not in use, the SME shall attempt a 4-way handshake with the STA or with the non-AP MLD. Upon a successful completion of a 4-way handshake, the SME shall enable protection by issuing an MLME-SET-PROTECTION.request(Rx\_Tx) primitive. If FILS authentication was used, the SME shall enable protection by generating an MLME-SETPROTECTION.request(Rx\_Tx) primitive. In either case, upon receipt of the MLME-SETPROTECTION.request(Rx\_Tx) primitive, the MLME shall set the state for the STA or the non-AP MLD to State 4.

p) AP or AP MLD only: The SME shall inform the DS of any changes in the state of the STA or the non-AP MLD.

q) If the ResultCode in the MLME-REASSOCIATE.response primitive is SUCCESS and the CurrentAPAddress parameter in the MLME-REASSOCIATION.indication primitive is this AP's or PCP's MAC address (reassociation to the same AP or PCP), the AP or PCP shall match the non-AP STA's treatment of the listed agreements and allocations as described in 11.3.5.4 item c). The AP or PCP deletes or resets to initial values those items that the non-AP STA is required in 11.3.5.4 item c) to delete or reset to initial values, and the AP or PCP does not modify the states, agreements and allocations that are listed as not affected by the reassociation procedure.

q1) If the ResultCode in the MLME-REASSOCIATE.response primitive is SUCCESS and the CurrentAPAddress parameter in the MLME-REASSOCIATION.indication primitive is this AP MLD's MLD MAC address (reassociation to the same AP MLD), the AP MLD shall match the non-AP MLD's treatment of the listed agreements and allocations as described in 11.3.5.4 item c). The AP

MLD deletes or resets to initial values those items that the non-AP MLD is required in 11.3.5.4 item c) to delete or reset to initial values, and the AP MLD does not modify the states, agreements and allocations that are listed as not affected by the reassociation procedure.

r) If the ResultCode in the MLME-REASSOCIATE.response primitive is SUCCESS and the CurrentAPAddress parameter in the MLME-REASSOCIATION.indication primitive is not this AP's or PCP's MAC address (reassociation to a different AP or PCP), all the states, agreements and allocations pertaining to the associating STA and listed in both numbered lists in 11.3.5.4 item c) are deleted or reset to initial values.

r1) If the ResultCode in the MLME-REASSOCIATE.response primitive is SUCCESS and the CurrentAPAddress parameter in the MLME-REASSOCIATION.indication primitive is not this AP MLD's MAC address, all the states, agreements and allocations pertaining to the associating non-AP MLD and listed in both numbered lists in 11.3.5.4 item c) are deleted or reset to initial values.

NOTE 4—Per 11.3.5.4 item 6) in the first list under c) any MSDU fragments in the reassembly buffers, and if management frame protection was negotiated for the existing association, any MMPDU fragments, have been discarded. This is important since fragments are required to be encrypted with the same key (see 10.5, and MMPDU defragmentation).

**Change the title of the subclause 11.3.5.6 as follows:**

#### 11.3.5.6 Non-AP STA, non-AP MLD, and non-PCP STA disassociation initiation procedures

**Change the second paragraph as follows:**

Upon receipt of an MLME-DISASSOCIATE.request primitive, a non-AP STA, non-AP MLD, and non-PCP STA's MLME shall disassociate from an AP, AP MLD, or PCP, respectively, using the following procedure:

a) If the state for the AP, AP MLD, or PCP is State 3 or State 4, the MLME shall transmit a Disassociation frame to the AP, AP MLD, or PCP.

b) The state for the AP, AP MLD, or PCP shall be set to State 2 if it was not State 1 or State 1a. In the case of an MM-SME coordinated STA, the MLME shall perform this for each STA whose address was included in the MMS parameter of the MLME-ASSOCIATE.request or MLME-REASSOCIATE.request primitive that established the association.

c) The MLME shall issue an MLME-DISASSOCIATE.confirm primitive to inform the SME of the successful completion of the disassociation.

d) Upon receiving an MLME-DISASSOCIATE.confirm primitive, the SME shall delete any PTKSA, GTKSA, IGTKSA, BIGTKSA, WIGTKSA, WTKSA, and TPKSA (including temporal keys) held for communication with the AP, AP MLD, or PCP by using the MLME-DELETEKEYS.request primitive (see 12.6.16) and by invoking an MLME-SETPROTECTION.request (None) primitive. In the case of an MM-SME coordinated STA, the MLME shall perform this for each STA whose address was included in the MMS parameter of the MLME-ASSOCIATE.request or MLME-REASSOCIATE.request primitive that established the association.

**Change the title of the subclause 11.3.5.7 as follows:**

#### 11.3.5.7 Non-AP STA, non-AP MLD, and non-PCP STA disassociation receipt procedure

**Change as follows:**

Upon receipt of a Disassociation frame from an AP, AP MLD, or PCP for which the state is State 3 or State 4, if management frame protection was not negotiated when the PTKSA(s) were created, or if management frame protection was negotiated when the PTKSA(s) were created and the frame is not discarded per management

frame protection processing, a non-AP STA, non-AP MLD, and non-PCP STA, respectively, shall disassociate from the AP, AP MLD, or PCP using the following procedure:

1. The state for the AP, AP MLD, or PCP shall be set to State 2.
2. The MLME shall issue an MLME-DISASSOCIATE.indication primitive to inform the SME of the disassociation.
3. Upon receiving the MLME-DISASSOCIATE.indication primitive, the SME shall delete any PTKSA, GTKSA, IGTKSA, BIGTKSA, WIGTKSA, WTKSA, and TPKSA (including temporal keys) held for communication with the AP, AP MLD, or PCP by using the MLME-DELETE-KEYS.request primitive (see 12.6.16) and by invoking an MLME-SETPROTECTION.request(None) primitive. The MM-SME shall perform this process for each STA whose address was included in the MMS parameter of the MLME-ASSOCIATE.request or MLME-REASSOCIATE.request primitive that established the association.
4. If the reason code indicates a configuration or parameter mismatch as the cause of the disassociation, the SME shall not attempt to associate or reassociate with the AP, AP MLD, or PCP until the configuration or parameter mismatch has been corrected.
5. If the reason code indicates the STA (with respect to AP or PCP) or non-AP MLD (with respect to the AP MLD), was disassociated for a reason other than configuration or parameter mismatch, the SME shall not attempt to associate or reassociate with the AP, AP MLD, or PCP until a period of 2s has elapsed.

*Change the title of the subclause 11.3.5.8 as follows:*

#### 11.3.5.8 AP, AP MLD, or PCP disassociation initiation procedure

*Add the following subclause at the beginning:*

##### 11.3.5.8.1 General

The SME shall issue an MLME-DISASSOCIATE.request primitive that includes an appropriate Reason Code as defined Table 9-79 of 9.4.1.7.

*Change the second paragraph as follows:*

Upon receipt of an MLME-DISASSOCIATE.request primitive, an AP, AP MLD, or PCP shall disassociate a STA (with respect to the AP or PCP) or a non-AP MLD (with respect to the AP MLD) using the following procedure:

##### 11.3.5.8.2 AP or PCP disassociation initiation detailed procedure

The detailed procedure is shown as follows:

1. If the state for the STA or the non-AP MLD is State 3 or State 4, the AP or PCP (with respect to the STA) or AP MLD (with respect to the non-AP MLD) shall generate a Disassociation frame to be transmitted to the indicated STA or an non-AP STA affiliated with the non-AP MLD.

NOTE—As the Disassociation frame is a bufferable MMPDU, the transmission of this frame might be delayed by the operation of a power saving protocol. The AID and the PTKSA are maintained (when applicable) until the frame is acknowledged or attempts to transmit the frame are abandoned.

1. The state for the STA or the non-AP MLD shall be set to State 2, if it was not State 1 or State 1a. The MM-SME shall perform this process for each STA whose address was included in the MMS parameter of the MLME-ASSOCIATE.request or MLME-REASSOCIATE.request primitive that established the association.

c) Once the Disassociation frame is acknowledged or attempts to transmit the frame are abandoned, the MLME shall issue an MLME-DISASSOCIATE.confirm primitive to inform the SME of the disassociation.

d) Upon receiving an MLME-DISASSOCIATE.confirm primitive, the SME shall delete any PTKSA, GTKSA, IGTKSA, BIGTKSA, WIGTKSA, WTKSA, and TPKSA (including temporal keys) held for communication with the STA or the non-AP MLD by using the MLME-DELETEKEYS.request primitive (see 12.6.16) and by invoking an MLME-SETPROTECTION.request(None) primitive. The MM-SME shall perform this process for each STA whose address was included in the MMS parameter of the MLME-ASSOCIATE.request or MLME-REASSOCIATE.request primitive that established the association.

e) Upon receiving an MLME-DISASSOCIATE.confirm primitive, the SME shall release the AID assigned for the indicated STA or the indicated non-AP MLD, if the state for the indicated STA or the indicated non-AP MLD was State 3 or State 4.

f) AP or AP MLD only: The SME shall inform the DS of the disassociation.

*Change the title of the subclause 11.3.5.9 as follows:*

#### 11.3.5.9 AP, AP MLD, or PCP disassociation receipt procedure

*Change as follows:*

Upon receipt of a Disassociation frame from a STA or a non-AP MLD for which the state is State 3 or State 4, if management frame protection was not negotiated when the PTKSA(s) were created, or if management frame protection was negotiated when the PTKSA(s) were created and the frame is not discarded per management frame protection processing, the AP or PCP (with respect to the STA) or AP MLD (with respect to the non-AP MLD) shall disassociate the STA or the non-AP MLD using the following procedure:

a) The state for the STA or the non-AP MLD shall be set to State 2. The MM-SME shall perform this process for each STA whose address was included in the MMS parameter of the MLME-ASSOCIATE.request or MLME-REASSOCIATE.request primitive that established the association.

b) The MLME shall issue an MLME-DISASSOCIATE.indication primitive to inform the SME of the disassociation.

c) Upon receiving an MLME-DISASSOCIATE.indication primitive the SME shall delete any PTKSA, GTKSA, IGTKSA, BIGTKSA, WIGTKSA, WTKSA, and TPKSA (including temporal keys) held for communication with the STA or the non-AP MLD by using the MLME-DELETEKEYS.request primitive (see 12.6.16) and by invoking an MLME-SETPROTECTION.request(None) primitive. The MM-SME shall perform this process for each STA whose address was included in the MMS parameter of the MLME-ASSOCIATE.request or MLME-REASSOCIATE.request primitive that established the association.

d) AP or AP MLD only: The SME shall inform the DS of the disassociation.

e) The SME shall release the AID assigned for the indicated STA or the indicated non-AP MLD.

### 11.8 DFS procedures

#### 11.8.3 Quieting channels for testing

*Insert the following paragraph and NOTE at the end of the subclause:*

An EHT AP shall not schedule quiet intervals that would require a value higher than 127 in the Quiet Count field of the Quiet element and the Quiet Channel element.

NOTE 2—The Quiet element or the Quiet Channel element carried in a per-STA profile of the Basic Multi-Link element corresponding to a reported AP can have the Quiet Count field set to a value higher than 127 to indicate a quiet interval that the reported AP has started in the past on the link on which the reported AP operates. The number of TBTTs in the past is computed as defined in 9.4.2.11.

## 11.10 Radio measurement procedures

### 11.10.9 Specific measurement usage

#### 11.10.9.1 Beacon report

##### 11.10.9.1.1 General

*Change the 19th paragraph as follows:*

A STA that is not extended spectrum management capable shall not include a Wide Bandwidth Channel Switch subelement or *Bandwidth Indication subelement* in a Beacon request or Beacon report. A STA shall not include a Wide Bandwidth Channel Switch subelement or *Bandwidth Indication subelement* in a Beacon request or Beacon report sent to a STA that is not extended spectrum management capable. If the Wide Bandwidth Channel Switch subelement is included in a Beacon request or Beacon report, then the Operating Class shall indicate a 40 MHz channel spacing.

##### 11.10.9.2 Frame report

*Change the last paragraph as follows:*

A STA that is not extended spectrum management capable shall not include a Wide Bandwidth Channel Switch subelement or *Bandwidth Indication subelement* in a Frame request or Frame report. A STA shall not include a Wide Bandwidth Channel Switch subelement or *Bandwidth Indication subelement* in a Frame request or Frame report sent to a STA that is not extended spectrum management capable. If the Wide Bandwidth Channel Switch subelement is included in a Frame request or Frame report, then the Operating Class shall include a 40 MHz channel spacing.

##### 11.10.9.3 Channel load report

*Change the last paragraph as follows:*

A STA that is not extended spectrum management capable shall not include a Wide Bandwidth Channel Switch subelement or *Bandwidth Indication subelement* in a Channel Load request or Channel Load report. A STA shall not include a Wide Bandwidth Channel Switch subelement or *Bandwidth Indication subelement* in a Channel Load request or Channel Load report sent to a STA that is not extended spectrum management capable. If the Wide Bandwidth Channel Switch subelement is included in a Channel Load request or a Channel Load report, then the Operating Class shall indicate a 40 MHz channel spacing.

##### 11.10.9.4 Noise Histogram report

*Change the last paragraph as follows:*

A STA that is not extended spectrum management capable shall not include a Wide Bandwidth Channel Switch subelement or *Bandwidth Indication subelement* in a Noise Histogram request or Noise Histogram report. A STA shall not include a Wide Bandwidth Channel Switch subelement or *Bandwidth Indication subelement* in a Noise Histogram request or Noise Histogram report sent to a STA that is not extended spectrum management capable. If the Wide Bandwidth Channel Switch subelement is included in a Noise

Histogram request or a Noise Histogram report, then the Operating Class shall indicate a 40 MHz channel spacing.

#### 11.10.15 Measurement Pilot frame generation and usage

##### 11.10.15.2 Measurement Pilot frame generation by an AP

*Change the last paragraph as follows:*

An AP that is not extended spectrum management capable shall not include a Wide Bandwidth Channel Switch subelement or Bandwidth Indication subelement in a Measurement Pilot frame. If the Wide Bandwidth Channel Switch subelement is included in a Measurement Pilot frame, then the Operating Class shall include a 40 MHz channel spacing.

#### 11.13 SA Query procedures

*Change the first three paragraphs follows:*

If a STA and its peer negotiate management frame protection, then the STA or MLD shall support the SA Query procedure.

To send an SA Query Request or SA Query Response frame to a peer STA or a peer MLD, the SME shall issue an MLME-SA-QUERY.request or MLME-SA-QUERY.response primitive respectively. Reception of an SA Query Request or SA Query Response frame is signaled to the SME with an MLME-SA-QUERY.indication or MLME-SA-QUERY.confirm primitive respectively.

A STA or an MLD that supports the SA Query procedure and receives an SA Query Request frame shall respond with an SA Query Response frame if none of the following are true:

- The STA or the non-AP MLD is not currently associated to the STA or the AP MLD that sent the SA Query Request frame and there is no PTKSA established by PASN authentication.
- The SA Query Request frame was sent to a group address.
- The STA has sent a (Re)Association Request frame within dot11AssociationResponseTimeout but has not received a corresponding (Re)Association Response frame
- dot11RSNAOperatingChannelValidationActivated is true and the sending STA had indicated OCVC in its association and either:
  - OCI element is not present in the request
  - Operating channel information indicated does not match the current channel information (see 12.2.10)

*Change the ninth paragraph follows:*

If a non-AP and non-PCP STA that has an SA security association with its AP or PCP for an association that negotiated management frame protection receives an individually addressed unprotected Deauthentication or Disassociation frame with reason code INVALID\_CLASS2\_FRAME or INVALID\_CLASS3\_FRAME from the AP or PCP, the non-AP and non-PCP STA may use this as an indication that there might be a mismatch in the association state between itself and the AP or PCP. In such a case, the non-AP and non-PCP STA's SME may initiate the SA Query procedure with the AP or PCP to verify the validity of the SA security association by issuing one MLME-SA-QUERY.request primitive every dot11AssociationSAQueryRetryTimeout TUs until a matching MLME-SA-QUERY.confirm primitive is received or dot11AssociationSAQueryMaximumTimeout TUs from the beginning of the SA Query procedure has passed. If the AP or PCP responds to the SA Query request with a valid SA Query response,

the non-AP STA should continue to use the SA security association. If no valid SA Query response is received, the non-AP and non-PCP STA's SME may delete the SA security association (and temporal keys) held for communication with the STA by issuing an MLME-DELETEKEYS.request primitive and the non-AP and non-PCP STA may move into State 1 (or State 2, for a DMG STA) with the AP.

***Insert the following paragraph after the ninth paragraph:***

If a non-AP STA affiliated with a non-AP MLD that has a security association with its AP MLD for an association that negotiated management frame protection receives an unprotected Deauthentication or Disassociation frame with reason code INVALID\_CLASS2\_FRAME or INVALID\_CLASS3\_FRAME from the corresponding AP affiliated with the AP MLD in a setup link, the non-AP MLD may use this as an indication that there might be a mismatch in the association state between itself and the AP MLD. In such a case, the SME may initiate the SA Query procedure with the AP MLD to verify the validity of the security association by issuing one MLME-SA-QUERY.request primitive every dot11AssociationSAQueryRetryTimeout TUs until a matching MLME-SA-QUERY.confirm primitive is received or dot11MLDAssociationSAQueryMaximumTimeout TUs from the beginning of the SA Query procedure has passed. If the AP MLD responds to the SA Query request with a valid SA Query response, the non-AP MLD should continue to use the security association. If no valid SA Query response is received, the SME may delete the security association and temporal keys held for communication with the AP MLD by issuing an MLME-DELETEKEYS.request primitive and the non-AP MLD may move into State 1 with the AP MLD.

## 11.20 Tunnelered direct link setup

### 11.20.1 General

***Change the 15th paragraph, including the addition of Table 11-15a, as follows:***

TDLS payloads (which are transmitted in one or more TDLS frames) shall use the formatting as specified in 11.20.2 when they are transmitted through the AP and when they are transmitted over the TDLS direct link. A STA shall not transmit a TDLS Action field in a frame with the Type field of the frame set to Management. Table 11-15a shows the frame that can be exchanged between the TDLS peer STAs and the path taken by each of them.

**Table 11-15a—Frame type and their pathway in a TDLS setup**

| Frame                                                                             | Pathway (link)   | Frame type                             | Description                                                                                    |
|-----------------------------------------------------------------------------------|------------------|----------------------------------------|------------------------------------------------------------------------------------------------|
| TDLS Discovery Request frame                                                      | Via AP           | Data frame                             | See 11.20.3.                                                                                   |
| TDLS Discovery Response frame                                                     | Direct           | Public Action frame (Management frame) | Can be sent unsolicited (i.e., without receiving a TDLS Discovery Request frame). See 11.20.3. |
| TDLS Setup Request frame<br>TDLS Setup Response frame<br>TDLS Setup Confirm frame | Via AP           | Data frame                             | See 11.20.4.                                                                                   |
| TDLS Teardown frame                                                               | Direct or via AP | Data frame                             | The frame is sent via the AP if the TDLS peer is not reachable. See 11.20.5.                   |

Table 11-15a—Frame type and their pathway in a TDLS setup (continued)

| Frame                                           | Pathway (link)   | Frame type                             | Description                                                                      |
|-------------------------------------------------|------------------|----------------------------------------|----------------------------------------------------------------------------------|
| TDLS Channel Switch Request frame               | Direct           | Data frame                             | See 11.20.6.                                                                     |
| TDLS Channel Switch Response frame              |                  |                                        |                                                                                  |
| TDLS Peer PSM Request frame                     | Direct or via AP | Data frame                             | See 11.2.3.11.                                                                   |
| TDLS Peer PSM Response frame                    | Direct           |                                        |                                                                                  |
| TDLS Peer Traffic Indication frame              | Via AP           | Data frame                             | See 11.2.3.12.                                                                   |
| TDLS Peer Traffic Response frame                | Direct           |                                        |                                                                                  |
| Data frame or Control frame                     | Direct           |                                        | Data and Control frames exchange after TDLS session is successfully established. |
| GAS frame carrying TDLS Capability ANQP-element | Direct           | Public Action frame (Management frame) | Discovery of TDLS peer STAs. See 11.22.3.3.10.                                   |

*Insert the following paragraphs as the last paragraph of the subclause:*

The EHT Operation element shall be present in a TDLS Setup Confirm frame when both STAs are EHT capable.

When a STA receives a TDLS Setup Request frame or TDLS Setup Response frame from a peer STA that includes one or more elements among the HT Capabilities, VHT Capabilities, HE Capabilities, HE 6 GHz Band Capabilities, S1G Capabilities, or EHT Capabilities element, it shall ignore the fields that do not apply to the TDLS direct link with the peer STA.

## 11.20.6 TDLS channel switching

### 11.20.6.5 Setting up a wide bandwidth off-channel TDLS direct link

#### 11.20.6.5.1 General

*Change the first three paragraphs as follows:*

A wideband TDLS-off-channel TDLS direct link is a 40 MHz, 80 MHz, 160 MHz, or 320 MHz off-channel TDLS direct link for EHT STAs, a 40 MHz, 80 MHz, 160 MHz, or 80+80 MHz off-channel TDLS direct link for VHT and HE STAs or 40 MHz off-channel TDLS direct link for HT STAs or a 2 MHz, 4 MHz, 8 MHz, or 16 MHz off-channel TDLS direct link for S1G STAs.

A wideband off-channel TDLS direct link may be started if both TDLS peer STAs indicated wideband support in the EHT Capabilities element, wideband support in the VHT Capabilities element, HT Capabilities element or S1G Capabilities element included in the TDLS Setup Request frame or the TDLS Setup Response frame.

Switching to a wideband off-channel TDLS direct link is achieved by including any of the following information in the TDLS Channel Switch Request frame:

- An Operating Class element indicating 40 MHz Channel spacing and a Secondary Channel Offset element indicating SCA or SCB for HT STAs

- A Wide Bandwidth Channel Switch element indicating 80 MHz or 160 MHz channel width for EHT STAs.
- A Bandwidth Indication element indicating wider than 160 MHz channel width or switching to a punctured channel for EHT STAs
- A Wide Bandwidth Channel Switch element indicating 80 MHz, 160 MHz, or 80+80 MHz channel width for VHT STAs
- A Wide Bandwidth Channel Switch element indicating 4 MHz, 8 MHz, or 16 MHz channel width for S1G STAs

#### 11.20.6.5.2 Basic wideband functionality

*Change the first two paragraphs as follows:*

TDLS peer STAs may transmit up to 40 MHz, 80 MHz, 160 MHz, or 80+80 MHz, or 320 MHz PPDU's on a 40 MHz, 80 MHz, 160 MHz, or 80+80 MHz, or 320 MHz TDLS direct link, respectively. A TDLS peer STA shall not transmit a 20 MHz PPDU in the nonprimary channel of its 80 MHz, 160 MHz, or 80+80 MHz, or 320 MHz TDLS direct link.

A TDLS peer STA shall not transmit a 40 MHz PPDU that does not use the primary 40 MHz channel of its 80 MHz, 160 MHz, or 80+80 MHz, or 320 MHz TDLS direct link. A TDLS peer STA shall not transmit an 80 MHz PPDU that does not use the primary 80 MHz channel of its 160 MHz, or 80+80 MHz, or 320 MHz TDLS direct link. A TDLS peer STA shall not transmit a 160 MHz PPDU that does not use the primary 160 MHz channel of its 320 MHz TDLS direct link.

*Change the title of the subclause 11.20.6.5 as follows:*

**11.20.6.5.5 CCA sensing and NAV assertion in a 20 MHz, 40 MHz, 80 MHz, 160 MHz, 320 MHz, 80+80 MHz, 1 MHz, 2 MHz, 4 MHz, 8 MHz, or 16 MHz TDLS direct link**

#### 11.21 Wireless network management procedures

##### 11.21.2 Event request and report procedures

###### 11.21.2.2 Transition event request and report

*Change the first three paragraphs as follows:*

The Transition Event report provides information on the previous transition events for a given non-AP STA (for non-MLO) or non-AP MLD. The Transition Event request and report are only permitted in the infrastructure BSS.

Each STA supporting the Transition Event shall log up to the last five Transition events occurring since the STA (for non-MLO) or the MLD, with which the STA is affiliated, associated to the ESS. A STA may log more than five of the most recent Transition events.

Upon receipt of an Event Request frame containing an Event Request element including a Transition Event request, the non-AP STA shall respond with an Event Report frame that includes available Event Report elements within the ESS of which the transmitting STA (for non-MLO) or the MLD, with which the transmitting STA is affiliated, is a member for the Transition event type.

### 11.21.2.3 RSNA event request and report

*Change the first three paragraphs as follows:*

The RSNA Event Report provides authentication events for a given non-AP STA (for non-MLD or non-AP MLD). The RSNA Event Request and Report are only permitted in an infrastructure BSS.

Each STA supporting the RSNA Event shall log up to the last five RSNA events occurring since the STA (for non-MLD) or the MLD, with which the STA is affiliated, associated to the ESS. A STA may log more than five of the most recent RSNA events.

Upon receipt of an Event Request frame containing an Event Request element including an RSNA Event request, the non-AP STA shall respond with an Event Report frame that includes available Event Report elements within the ESS of which the transmitting STA (for non-MLD) or the MLD, with which the transmitting STA is affiliated, is a member for the RSNA event type.

### 11.21.2.5 WNM log event request and report

*Change the third paragraph as follows:*

A non-AP STA that supports event reporting may be queried at any time for its current set of WNM log messages. The WNM log messages returned by the non-AP STA may provide insight into the trouble being experienced by the non-AP STA (for non-MLD) or the non-AP MLD (for MLD), with which the non-AP STA is affiliated.

### 11.21.13 BSS max idle period management

*Change the first paragraph, including splitting it into three paragraphs, as follows:*

If dot11BssMaxIdlePeriod is nonzero, an AP shall include the BSS Max Idle Period element in the (Re)Association Response frame. Otherwise, the AP shall not include the BSS Max Idle Period element in the (Re)Association Response frame.

For MLD, the values carried in the BSS Max Idle Period element apply at the MLD level and the associated MLDs follow the MLD max idle period procedure defined in 35.3.12.3. The rest of this subclause defines the procedure for the BSS max idle period for non-MLD.

A non-SIG STA may send protected or unprotected keepalive frames, as indicated in the Idle Options field.

### 11.21.14 Proxy ARP service

*Change the second to 12th paragraphs as follows:*

When the AP sets the Proxy ARP field to 1 in the Extended Capabilities element, the AP shall maintain a Hardware Address to Internet Address mapping for each associated STA and for each IPv4 and IPv6 address of the STA, and shall update the mapping when one of the addresses of the associated STA changes. When an AP MLD supports proxy ARP (see 35.3.22), the AP MLD shall maintain an MLD MAC address to Internet address mapping for each associated non-AP MLD and for each IPv4 and IPv6 address of the non-AP MLD, and shall update the mapping when one of the addresses of the associated non-AP MLD changes. A Proxy ARP service receives and processes three types of messages: IPv4 ARP requests, IPv6 ND address lookups, and IPv6 ND duplicate address detection (DAD) messages. These messages are all received as group addressed. If the target address is not known, the Proxy ARP service does not forward the request to the BSS. If the target address is known, the Proxy ARP service can either respond directly on behalf of a STA or forward

the request as an individually addressed frame to the intended STA. For fixed devices in the doze state, a direct response is preferable. Otherwise, forwarding as an individually addressed frame is recommended, to avoid responding with misleading information.

For IPv4, when the address being resolved in the ARP request (IETF RFC 826) is used by a non-AP STA currently associated to the BSS, the proxy ARP service shall either respond on behalf of the STA to an ARP request or an ARP probe (IETF RFC 5227) or preferably turn the ARP request into an individually addressed frame sent to that STA. When the IPv4 address being resolved in the ARP request (IETF RFC 826) is used by a non-AP MLD currently associated with the AP MLD, the proxy ARP service shall either respond on behalf of the non-AP MLD to an ARP request or ARP probe (IETF RFC 5227) or preferably turn the ARP request into an individually addressed frame sent to that non-AP MLD.

When an AP receives an IPv4 ARP request from one associated STA or from the DS with a target IPv4 address that corresponds to a second associated STA, the AP that decides to form a proxy ARP response frame shall insert the second STA MAC address as the sender's MAC address in the ARP response. When an AP affiliated with an AP MLD receives an IPv4 ARP request from one associated STA, or from a non-AP STA affiliated with a non-AP MLD that is associated with the AP MLD, or from the DS, with a target IPv4 address that corresponds to a second associated STA, the AP shall insert the second STA MAC address as the Sender's MAC Address in the ARP response packet. When an AP MLD receives an IPv4 ARP request from a STA associated with an affiliated AP, or from one associated non-AP MLD via any affiliated AP, or from the DS, with a target IPv4 address that corresponds to a second associated non-AP MLD, the AP MLD that decides to form a proxy ARP response shall insert the MLD MAC address of the second non-AP MLD as the Sender's MAC Address in the ARP response packet.

In contrast to IPv4, Stateless Address Autoconfiguration (SLAAC), which is part of IPv6 Neighbor Discovery (ND), enables a node to form multiple addresses, some of them temporary and with a particular attention paid to privacy. SLAAC addresses may be formed and deprecated asynchronously to the association. Even if the knowledge of IPv6 addresses used by a STA (or a non-AP MLD) can be obtained by snooping protocols such as IPv6 ND and DHCPv6, or by observing data traffic sourced at the STA, such methods provide only an imperfect knowledge of the state of the STA at the AP (or of the non-AP MD at the AP MLD), in particular when SLAAC is enabled. Running a Proxy ARP service on an incomplete set of addresses may result in a loss of connectivity, in particular for addresses rarely used and in situations of mobility.

This nondeterministic representation of IPv6 address location and binding may also result in undesirable state persistence in the AP when a STA (or in the AP MLD when a non-AP MLD) ceases to use an IPv6 address. It follows that protocol snooping is not a recommended technique and that snooping should only be used as last resort. IETF RFC 8505 defines an address registration mechanism that enables the AP to maintain a deterministic knowledge of all the IPv6 addresses of all the associated STAs. IETF RFC 8929 defines a proxy ND service that leverages the address registration to maintain an accurate proxy state that follows the movements of the STAs (or the non-AP MLDs), while IETF RFC 8928 protects the address ownership against impersonation attacks and address spoofing.

The proxy ARP function for IPv4 and IPv6 shall support snooping of DHCPv4, DHCPv6, and IPv6 ND to discover the IPv4 and IPv6 addresses owned by the STA (or the non-AP MLDs).

For IPv6, since the state obtained by snooping SLAAC is unreliable, the proxy ARP function shall support the backbone router function defined in IETF RFC 8929, which creates a binding state based on an IETF RFC 8505 registration by the STA (or the non-AP MLDs). The proxy ARP function should support IETF RFC 8928 to protect the ownership of the addresses. The non-AP STA and the non-AP MLD shall support the address registration mechanism defined in IETF RFC 8505 and should support the address protection mechanism defined in IETF RFC 8928.

IPv6 ND uses IP layer multicast Internet Control Message Protocol version 6 (ICMPv6) Neighbor Solicitation (NS) messages (section 4.3 of IETF RFC 4861) for address resolution (section 7.2 of IETF RFC 4861), which

is the equivalent of ARP request, and for duplicate address detection (DAD). The proxy ARP function shall discard those messages if the target IP address does not correspond to an associated STA (or an associated non-AP MLD). NS messages are sent as IP layer unicast for neighbor unreachability detection (NUD) (section 7 of IETF RFC 4861). The proxy ARP function shall not operate on IP layer unicast NS messages.

With the IPv6 ND proxy operation defined in IETF RFC 8929, the backbone router function at the AP typically operates as a bridging proxy though operation as a routing proxy is also possible. As a bridging proxy, the NS lookups are replied with the MAC address of the STA (or the non-AP MLD), and the packets to the STA (or the non-AP MLD) are bridged normally; as a routing proxy, the backbone router function replies to lookups from the wired backbone with its own MAC address and then routes to the STA (or the non-AP MLD) at the IP layer. The routing proxy isolates the layer-2 domains and hides the MAC address of the STA (or the non-AP MLD) in the wired backbone, for a better stability and scalability of the bridged domain. The Proxy ARP function shall support the bridging proxy and may support the routing proxy operation.

When the target IPv6 address of a IP layer multicast NS message corresponds to an associated STA, the Proxy ARP service may respond on behalf of an associated low-power STA with a neighbor advertisement (NA) message (section 4.4 of IETF RFC 4861) with the override flag set to zero, to conserve energy. Preferably, though, the Proxy ARP service should transmit the IP layer multicast NS message as an individually addressed frame to the STA and let the STA respond, as recommended in IETF RFC 8929. When MAC address mappings change, the AP may send unsolicited Neighbor Advertisement messages on behalf of a STA if the IPv6 Neighbor Discovery function at the STA failed to do so. When the target IPv6 address of an IP layer multicast NS message corresponds to an associated non-AP MLD, the Proxy ARP service may respond on behalf of the non-AP MLD with a neighbor advertisement (NA) message (section 4.4 of IETF RFC 4861) with the override flag set to zero. Preferably, though, the Proxy ARP service should transmit the IP layer multicast NS message as an individually addressed frame to the non-AP MLD and let the non-AP MLD respond, as recommended in IETF RFC 8929. When MAC address mappings change, the AP MLD may send unsolicited Neighbor Advertisement messages on behalf of a non-AP MLD if the IPv6 Neighbor Discovery function at the non-AP MLD failed to do so.

The IPv6 ND function at the STA and the non-AP MLD shall register all of the IPv6 addresses on the interface (see section 10 of IETF RFC 8929) to the proxy ARP service at the AP (or the AP MLD) to ensure that the proxy ARP service is aware of all those addresses and will proxy for them. The proxy ND operation may support address mobility (section 6 of IETF RFC 8929) to transfer a role of ND proxy for this STA to the AP with which the STA is associated (or for the non-AP MLD to the AP MLD with which the non-AP MLD is associated) following a mobility event.

#### 11.21.15 Channel usage procedures

*Change the first paragraph as follows:*

The channel usage procedures may be used to assist

- the STA that operates a channel-usage-aidable BSS or an off-channel TDLs direct link to better coexist with a set of channel-usage-aiding BSSs by
  - exchanging Channel Usage Request and Channel Usage Response frames with an AP of the channel-usage-aiding BSS set or or receiving an unsolicited Channel Usage Response frame from the AP, or
  - receiving a Beacon frame containing gratuitous Channel Usage element(s) from an associated AP, or
  - exchanging Probe Request and Probe Response frames containing Channel Usage element(s), or
  - receiving a Beacon frame or a (Re)Association Response frame containing gratuitous Channel Usage element(s) from an unassociated AP.

The first two mechanisms provide trusted channel usage; the final two mechanisms provide untrusted channel usage. The term channel usage signifies trusted and untrusted channel usage. The second and fourth mechanisms provide gratuitous channel usage.

**NOTE 1**—An unsolicited Channel Usage Response frame is sent to update channel usage that was previously requested, as described below, whereas gratuitous channel usage elements are sent without a prior request for channel usage.

- for a STA to request a channel switch by sending a Channel Usage Request frame to the AP of a channel-usage-aidable BSS, or
- for a STA to notify its associated AP of its capability by exchanging Channel Usage Request and Response frames with its associated AP.

**Insert the following paragraph after the now-shifted fourth paragraph ("Implementation of channel usage."):**

Implementation of gratuitous channel usage is optional. A STA that implements gratuitous channel usage has dot11ChannelUsageGratuitousImplemented equal to true. If dot11ChannelUsageImplemented is true, dot11ChannelUsageGratuitousImplemented shall be true. A STA with dot11ChannelUsageGratuitousActivated or dot11ChannelUsageActivated equal to true shall support gratuitous channel usage.

**Insert the following paragraph and NOTE after the now-shifted 28th paragraph ("When the Channel Usage element in a received Probe Request."):**

An AP may also include one or more gratuitous Channel Usage elements in Beacon frames and (Re)Association Response frames. Such gratuitous elements:

- Do not establish a peer-to-peer TWT agreement, and
- May provide partial channel usage information and/or may not be individualized for the recipient's traffic.

**NOTE 9**—An AP that transmits a Channel Usage element with Usage Mode field equal to 0, 1 or 2 is advised to incorporate current or recently determined measurements as part of the recommendation.

**Change the now-shifted 31st and 32nd paragraphs as follows:**

The AP may send an unsolicited group addressed or individually addressed Channel Usage Response frame to the STAs that have requested channel usage information if the corresponding channel usage information needs to be updated. The Country element shall be included in the unsolicited and/or group addressed Channel Usage Response frame. The AP may include the Power Constraint information and EDCA Parameter in the Channel Usage Response frame. The values of the fields in the Power Constraint and EDCA Parameter Set elements included in the Channel Usage Response frame shall be the same values of the fields in the Power Constraint and EDCA Parameter Set elements that are transmitted by the AP. The Country element shall be included in a (Re)Association Response frame that contains gratuitous Channel Usage element(s).

**In trusted channel usage, upon** receipt of a Channel Usage element with the Channel Usage field set to 0, 1, or 2 (see Table 9-268) in the Probe Response Beacon frame from the associated AP or upon receipt of a Channel Usage element in a Channel Usage Response frame, the receiving STA may use the following:

- The channel usage information as part of channel selection processing
- when starting a channel-usage-aidable BSS or an off-channel TDLS direct link, or
- when switching the channel of an existing channel-usage-aidable BSS or off-channel TDLS direct link

- The Power Constraint element or the Transmit Power Envelope element, if present, as part of determining its maximum transmit power for transmissions for the channel-usage-aidable BSS or an off-channel TDLS direct link
- The EDCA Parameter Set element, if present, as part of determining its EDCA parameters for transmissions for the channel-usage-aidable BSS or an off-channel TDLS direct link
- The QMF Policy element, if present and dot11QMFActivated is true, as part of determining its classification of Management frames for transmissions for the channel-usage-aidable BSS or an off-channel TDLS direct link

***Insert the following two paragraphs after the now-shifted 32nd paragraph:***

In untrusted channel usage, upon receipt of a Channel Usage element with the Channel Usage field set to 0, 1, or 2 (see Table 9-268) in a Beacon frame from an unassociated AP, a (Re)Association Response frame or upon receipt of a Channel Usage element in a Probe Response frame, the receiving STA may use the following:

- The channel usage information as part of channel selection processing
  - when starting a channel-usage-aidable BSS or an off-channel TDLS direct link, or
  - when switching the channel of an existing channel-usage-aidable BSS or off-channel TDLS direct link
- The Power Constraint element or the Transmit Power Envelope element, if present, as part of determining its maximum transmit power for transmissions for channel-usage-aidable BSS or an off-channel TDLS direct link
- The EDCA Parameter Set element, if present, as part of determining its EDCA parameters for transmissions for channel-usage-aidable BSS or an off-channel TDLS direct link
- The QMF Policy element, if present and dot11QMFActivated is true, as part of determining its classification of Management frames for transmissions for channel-usage-aidable BSS or an off-channel TDLS direct link

NOTE 10—Receiving STAs are advised to perform validation checks on the channel usage information and other parameters, particularly untrusted channel usage information, before use.

***Change the last paragraph as follows:***

If either a recommended operating class, or a recommended channel, or both are not supported or understood by the recipient, or if the operating country of the sender is unknown, the recipient shall discard the corresponding channel usage recommendation. A STA that has not requested channel usage information shall discard an unsolicited group addressed Channel Usage Response frame. While a STA's most recently received individually addressed and broadcast channel usage recommendations from the STA's associated AP differ, the STA should give higher priority to the individually addressed channel usage recommendation. A STA that performs both trusted and untrusted channel usage should give higher priority to the trusted channel usage information.

## 11.22 WLAN interworking with external networks procedures

### 11.22.2 Interworking capabilities and information

***Insert the following paragraph at the end of the subclause:***

All STAs affiliated with an MLD shall advertise the same capability for an interworking service.

### 11.22.3 Interworking procedures: generic advertisement service (GAS)

#### 11.22.3.3 ANQP procedures

##### 11.22.3.3.10 TDLS Capability procedure

*Insert the following NOTE at the end of the subclause:*

NOTE—The TA field of the frame carrying a TDLS Capability ANQP-element is the non-AP MLD's MAC address (see 35.3.21.2) when the STA transmitting the frame is affiliated with a non-AP MLD.

### 11.24 Quality-of-service Management frame (QMF)

#### 11.24.1 General

##### 11.24.1.2 Default QMF policy

*Insert a new row to the end of Table 11-22 (not all lines shown) as follows:*

Table 11-22—Default QMF policy

| Description          | Management Frame Subtype value from Table 9-1 | Category value from Table 9-81 | Action field | QMF access category |
|----------------------|-----------------------------------------------|--------------------------------|--------------|---------------------|
| EPCS Priority Access | 1101                                          | 37                             | 3-5          | AC_VO               |

### 11.25 Robust AV streaming

#### 11.25.2 SCS procedures

*Insert the following NOTE as the second paragraph of the subclause after the first paragraph (“The stream classification service…”):*

NOTE—EHT STAs follow additional SCS rules and restrictions as defined in 35.17.

*Change the now-shifted sixth and seventh paragraphs as follows:*

Each SCS stream is identified by an SCSID. ThisThe SCSID is used by a non-AP STA to request creation, modification, or deletion of an SCS stream. The SCSID is used by an AP to identify an SCS stream in SCS responses.

Upon receipt of an SCS Request frame from an associated non-AP STA, the AP shall respond with a corresponding SCS Response frame. A value of SUCCESS shall be set in the corresponding Status field of the SCS Status dupe in the SCS Response frame when the AP accepts the SCS request for the requested SCSID. A value of REQUEST\_DECLINED, REQUESTED\_TCLAS\_NOT\_SUPPORTED\_BY\_AP, or INSUFFICIENT\_TCLAS\_PROCESSING\_RESOURCES shall be set in the corresponding SCS Status field of the SCS Status dupe in the SCS Response frame when the non-EHT AP denies the SCS request for the requested SCSID.

*Change the now-shifted ninth paragraph as follows:*

If the requested SCS is accepted by the non-EHT AP, the AP shall process subsequent incoming individually addressed MSDUs from the DS or WM that match the TCLAS elements and optional TCLAS Processing element classifier specified in the SCS Descriptor element.

***Insert the following paragraph after the now-shifted ninth paragraph:***

An SCS Response frame transmitted by a non-EHT STA does not contain any SCS Descriptor List field.

## 11.45 Fast Initial Link Setup (FILS) procedures

### 11.45.2 FILS Discovery frame generation and usage

#### 11.45.2.1 FILS Discovery frame transmission

***Change the second paragraph, including to split it into two paragraphs, as follows:***

An AP may transmit a FILS Discovery frame as a non-HT duplicate PPDU. When a FILS Discovery frame is transmitted as a non-HT duplicate PPDU, its operating class and primary channel shall be indicated by its Operating Class and Primary Channel fields, respectively. The operating class is one of the values in Table E-4 for which all the following are true:

- The operating class has the same Channel starting frequency (per Table E-4) as the primary channel, and
- The operating class's Channel set or Channel center frequency index set contain a channel that fully encompasses the primary channel, and
- The operating class's Channel spacing is equal to or less than the BSS bandwidth of the AP

If there are multiple operating classes in Table E-4 for which all the above are true, the AP should select (one of) the operating class(es) that is expected to be understood by all STAs that might intend to connect to the AP, even if the channel spacing of that operating class is less than the BSS bandwidth of the AP.

***Insert the following NOTE after the third paragraph ("If there are multiple operating classes..."):***

NOTE 1—STAs conformant with an earlier revision of this standard might not understand all the operating classes defined in Table E-4. The above recommendation is intended to maximize backward compatibility. For example, if an AP that is operating a BSS with 320 MHz bandwidth in 6 GHz band using operating class 137, and is transmitting FILS Discovery frames in non-HT duplicate format, it is recommended that the AP indicates operating class 131, 132, 133, or 134 in this frame, since these are expected to be understood by all STAs that can connect to the AP.

## 11.49 Reduced neighbor report

***Change the seventh paragraph, including to split it into four paragraphs, as follows:***

The Reduced Neighbor Report element contains a list of operating classes and primary channels along with TBTT information for the reported neighbor APs or colocated APs on each operating class and primary channel.

The primary channel is a value from the Channel set column of Table E-4 that indicates the primary channel of the reported APs in the Neighbor AP Information field.

The operating class is selected from one of the values in Table E-4 filtered by the requirement that, together with the Channel Number field, the primary channel be identifiable for which all the following are true:

- The operating class has the same Channel starting frequency (per Table E-4) as the primary channel, and
- The operating class's Channel set or Channel center frequency index set contain a channel that fully encompasses the primary channel, and
- The operating class's Channel spacing is equal to or less than the BSS bandwidth of all the reported APs in the Neighbor AP Information field

If there are multiple operating classes in Table E-4 for which all the above are true, the AP should select (one of) the operating class(es) that is expected to be understood by all STAs that might intend to connect to the reported AP, even if the channel spacing of that operating class is less than the BSS bandwidth of all the reported APs in the Neighbor AP Information field.

**Change NOTE 2 as follows:**

NOTE 2—For instance, this excludes operating class 128–130STAs conformant with an earlier revision of this standard might not understand all the operating classes defined in Table E-4. The above recommendation is intended to maximize backward compatibility. For example, if an AP reports an EHT AP that is operating a BSS with 320 MHz bandwidth in 6 GHz band using operating class 137, it is recommended that the operating class selected by the AP in the Reduced Neighbor Report element is operating class 131, 132, 133 or 134, since these are expected to be understood by all STAs that can connect to the reported 6 GHz AP.

**Insert the following new paragraph after NOTE 2:**

The center frequency of the primary channel is determined from the Channel starting frequency identified by the Operating Class field, together with the Channel Number field.

**Change the now-shifted 20th and 21st paragraphs as follows:**

A STA that receives a Neighbor AP Information field with a recognized TBTT Information Field Type subfield set to 0 but an unrecognized TBTT Information Length subfield has two the following possible ways of processing the received information:

1. Ignore that Neighbor AP Information field and continue to process the subsequent Neighbor AP Information fields, or
2. Process the first 13 octets of each TBTT Information field of the Neighbor AP Information field as if the TBTT Information Length subfield had value 13, ignore the remaining TBTT Information Length field value minus 13 octets of each TBTT Information field of the Neighbor AP Information field, and continue to process the subsequent Neighbor AP Information fields, or
3. Process the first 16 octets of each TBTT Information field of the Neighbor AP Information field as if the TBTT Information Length subfield had value 16, ignore the remaining TBTT Information Length field value minus 16 octets of each TBTT Information field of the Neighbor AP Information field, and continue to process the subsequent Neighbor AP Information fields.

If the unrecognized TBTT Information Length value is less than or equal to 13, the STA shall follow alternative a). If the unrecognized TBTT Information Length value is greater than 13, an HE STA shall follow alternative b) and a non-HE STA shall follow either alternative a) or b). If the unrecognized TBTT Information Length value is greater than 16, an EHT STA shall follow alternative (c) and a non-EHT STA shall follow any of the above three alternatives.

**Insert the following paragraphs at the end of this subclause:**

A STA that receives a Neighbor AP Information field with a recognized TBTT Information Field Type subfield set to 1 but an unrecognized TBTT Information Length subfield that is set to a value larger than 3 shall process the first 3 octets of each TBTT Information field of the Neighbor AP Information field as if the

TBTT Information Length subfield had value 3, ignore the remaining TBTT information length minus 3 octets of each TBTT Information field of the Neighbor AP Information field, and continue to process the subsequent Neighbor AP Information fields.

An EHT AP shall follow the procedure defined in 35.3.4 for including a Reduced Neighbor Report element in Beacon and Probe Response frames.

An AP that reports in a Reduced Neighbor Report element multiple APs operating on the same operating class/channel, among which at least one AP is affiliated with an AP MLD and at least one AP is not affiliated with an AP MLD should include two Neighbor AP Information fields for the same operating class/channel, one for the set of APs that are affiliated with an AP MLD (for which the MLD Parameters subfield is included in the TBTT Information field of a reported AP) and one for the set of APs that are not affiliated with an AP MLD (for which the MLD Parameters subfield is not included in the TBTT Information field of a reported AP).

### 11.52 Beacon protection procedures

**Change the third paragraph as follows:**

If dot11BeaconProtectionEnabled for a non-AP STA is true and the non-AP STA receives a BIGTK from the AP with which it is associated, the non-AP STA shall enable beacon protection. Otherwise, beacon protection is not enabled at the non-AP STA.

**Change the seventh paragraph as follows:**

For non-MLD, if OCV is not present in a non-AP STA or if the current AP does not advertise OCV, but beacon protection is enabled, the non-AP STA shall verify that the operating channel information in the first received Beacon frame that has been validated using BIP matches the current operating channel parameters. If there is a mismatch, the non-AP STA shall disassociate from the AP.

**Insert the following paragraphs at the end of this subclause:**

For MLD, if OCV is not present in a non-AP MLD or if all AP(s) affiliated with the current AP MLD do not advertise OCV, but beacon protection is enabled, the non-AP MLD shall verify that the operating channel information for each setup link in the first received Beacon frame that has been validated using BIP matches the current operating channel parameters of each setup link. If there is a mismatch, the non-AP MLD shall disassociate from the AP MLD.

NOTE 3—All APs affiliated with an AP MLD advertise the same RSNE and RSNXE if included with the exception of the AKM Suite List field and the MFPK subfield of the RSN Capabilities field (see 12.6.2).

NOTE 4—For non-AP MLD, there is only one RSNE and RSNXE inserted into the (Re)Association Request frame initiated by the non-AP MLD (see 12.6.3).

## 12. Security

### 12.1 Conventions

*Insert the following paragraph at the end of the subclause:*

For MLO, security associations are negotiated between peer MLDs. The use of the term “STA or MLD” refers to requirements on a STA when peer STAs establish a security association, or requirements on an MLD when peer MLDs establish a security association. In the case where MLDs negotiate a security association, the “SME” is the entity that manages the MLD.

### 12.2 Framework

#### 12.2.4 RSNA establishment

*Insert the following paragraphs and NOTE at the end of the subclause:*

When an RSNA is established between peer MLD SMEs, the MAC address that appears in the frame body of authentication and association frames (see 9.4.2.322) and within EAPOL-Key frames (see 12.7.2) shall be the MLD MAC address.

NOTE 4—The MLD MAC address included in the frame body identifies an MLD while the frames are transmitted by a STA affiliated with the MLD.

For MLO, when an EAPOL PDU is sent from a Supplicant to an Authenticator, the SA shall be the MLD MAC address of the Supplicant, and the DA shall be the MLD MAC address of the Authenticator. Conversely, when an EAPOL PDU is sent from an Authenticator to a Supplicant, the SA shall be the MLD MAC address of the Authenticator, and the DA shall be the MLD MAC address of the Supplicant.

#### 12.2.10 Requirements for Operating Channel Validation

*Change the first paragraph as follows:*

When OCVC is present, a STA or a MLD shall advertise this capability in the RSNE and shall include operating channel information and validate the Operating Channel Information (OCI) received from an OCVC peer in certain protected messages used for key establishment and confirmation. The MLD advertises this capability through all of its affiliated STAs.

*Insert the following two paragraphs after the first paragraph (“When OCVC is present...”):*

NOTE—When OCVC is present in an MLD, each STA affiliated with the MLD advertises OCVC in the RSNE.

A STA with OCVC determines channel information from received OCI. An MLD with OCVC determines operating channel information from received OCI on the link used for the establishment of a security association (for example, the 4-way handshake). After a security association has been established, an MLD with OCVC determines operating channel information from the receipt of the channel information included in the Supported Operating Classes element of protected Beacon frames on each setup link.

*Change the now-shifted fourth paragraph as follows:*

A STA or STA affiliated with an MLD with OCVC validates that the channel information in received OCI matches its current operating channel parameters by:

- Verifying that the maximum bandwidth used by the STA to transmit or receive PPDU(s) to/from the peer STA from which the **OEchannel information** was received is no greater than the bandwidth of the operating class specified in the Operating Class field of the received **OEchannel information**
- Verifying that the primary channel used by the STA to transmit or receive PPDU(s) to/from the peer STA from which the **OEchannel information** was received is equal to the Primary Channel Number field (for the corresponding operating class)
- Verifying that, when 40 MHz bandwidth is used by the STA to transmit or receive PPDU(s) to/from the peer STA from which the **OEchannel information** was received, the nonprimary 20 MHz used matches the operating class (i.e., upper/lower behavior) specified in the Operating Class field of the received **OEchannel information**
- Verifying that, if operating an 80+80 MHz operating class, the frequency segment 1 channel number used by the STA to transmit or receive PPDU(s) to/from the peer STA from which the **OEchannel information** was received is equal to the Frequency Segment 1 Channel Number field of the **OEchannel information**.

**Change the now-shifted sixth paragraph as follows:**

If a STA or STA affiliated with an MLD with OCVC receives a frame from a peer STA that is not on the same channel used by the STA to receive PPDU(s) from the peer STA, or has bandwidth that exceeds the maximum bandwidth used by the STA to receive PPDU(s) from the peer STA, the frame is discarded.

#### 12.2.11 Requirements for support of MAC privacy enhancements

**Insert the following paragraphs and NOTE at the end of the subclause:**

MAC privacy enhancements are enabled on a non-AP MLD when dot11MACPrivacyActivated is set to true. When enabled, the non-AP MLD shall adhere to the above requirements for a non-AP STA (that is not affiliated with an AP MLD) in selecting an MLD MAC address, including sequence number space and scrambler requirements. The above requirements defined for a non-AP STA in managing its MAC address during association or establishing transaction state with an AP shall apply to the non-AP MLD in managing its MLD MAC address during association or establishing transaction state with an AP MLD.

When a non-AP MLD with MAC privacy enhancements enabled becomes a non-AP STA for the purpose of BSS transition to an AP, the non-AP STA shall adhere to the requirements above and 35.3.1 for managing and selecting the MLD MAC address. Similarly, when a non-AP STA becomes a non-AP MLD for the purpose of BSS transition to an AP MLD, the non-AP MLD shall adhere to the requirements above and 35.3.1 for managing the MLD MAC address.

NOTE—The non-AP STA MAC address is the MLD MAC address when a non-AP MLD transitions to an AP. See 35.3.1.

When MAC privacy enhancements are enabled on a non-AP MLD, the SME of the non-AP MLD manages the MAC addresses for each of the affiliated non-AP STAs. The randomized MAC address for an affiliated non-AP STA shall be selected according to IEEE Std 802-2014 and IEEE Std 802c-2017. Every time an affiliated STA MAC address is changed to a new random value, counters in all sequence number spaces used to identify each MMPDU shall be reset (see 10.3.2.14.2) and the STA shall set the TXVECTOR parameter SCRAMBLER, RESET to RESET, SCRAMBLER on the next transmitted PPDU.

A non-AP MLD connecting to an AP MLD shall not change the affiliated non-AP STA MAC address(es) for the duration of its association to the AP MLD. An affiliated non-AP STA MAC address may be changed subject to the requirements above when performing BSS transition or ESS transition. A non-AP MLD may change its affiliated STA MAC address when performing association or reassociation to the AP MLD that it is currently associated.

**Change the title of the subclause 12.2.13 as follows:**

#### 12.2.13 Identifying a non-AP STA or a non-AP MLD with changing MAC address

**Change the first two paragraphs as follows:**

To mitigate tracking and traffic analysis by third parties, a non-MLD non-AP STA can randomly change its MAC address while not associated. A non-AP MLD may randomly change any of its affiliated non-AP STA MAC Address(es) or its MLD MAC Address while not associated (see 4.5.4.10).

This presents a problem for the network in that it is unable to identify a non-AP STA or a non-AP MLD that previously associated and is not able to apply cached information (shared identity state) from the previous association to the current association (see 12.2.11). Similarly, this presents a problem for the non-AP STA or a non-AP MLD in that it cannot assume the network can recognize the STA or the non-AP MLD as correlated to any cached information from previous association(s). Two mechanisms are defined to alleviate these problems.

**Change the third paragraph, including to split it into four paragraphs, as follows:**

The first mechanism is referred to as the device ID mechanism, where the AP provides an identifier to the non-AP STA during association-way handshake. FILS authentication or PASN authentication that the non-AP STA then reports back to the AP during a future association. FILS authentication or PASN authentication as defined in 12.2.13.1.

For MLO using the device ID mechanism, the AP MLD provides an identifier to the non-AP MLD during the 4-way handshake or the FILS authentication that the non-AP MLD may then report back to the AP MLD during a future association as defined in 12.2.13.1.

The second mechanism is referred to as the IRM mechanism, where the non-AP STA provides a random MAC address (different from the address it is currently using as the TA for its transmissions) to the AP during association-way handshake. FILS authentication or PASN authentication and then use that MAC address as the TA for its own transmissions for identification of the STA during its next pre-association exchanges, next PASN authentication, and/or next authentication and association and next associated exchanges with that AP as defined in 12.2.13.2.

For MLO using the IRM mechanism, the non-AP MLD provides a random MLD MAC address (that differs from the current MLD MAC address) to the AP MLD during the 4-way handshake or the FILS authentication and then uses the new MLD MAC address to identify the non-AP MLD, during its next preassociation exchanges, and/or authentication and association exchanges with that AP MLD as defined in 12.2.13.2.

**Change the now-shifted seventh paragraph as follows:**

The device ID mechanism and the IRM mechanism require that the non-AP-STA supports the MAC privacy enhancements in 12.2.11. A non-AP-STA shall set dot11PrivacyActivated equal to true to use either of these mechanisms. The two mechanisms allow the network to recognize the STA or the non-AP MLD while mitigating the abilities of third parties to do traffic analysis and tracking of the non-AP STA or the non-AP MLD. When the STA receives an indication that it is successfully recognized by the network, it can proceed knowing that its prior shared identity state is established and reused by its applications, higher-layer control plane (such as the network allowing access to the LAN and WAN, etc.), and also for layer 2 control plane (pre-/non-association identity for access and steering, etc.). Alternatively, when the STA fails to be successfully recognized, it knows that where such shared identity state is needed/desired, it will have to be re-established through additional protocol exchanges. Both mechanisms also provide for the non-AP STA to

opt-in (typically under user control) to participating in the recognition mechanism, so that sensitive user information can be kept confidential unless the network is trusted.

**Change the now-shifted tenth paragraph as follows:**

NOTE 1—The IRM mechanism and the device ID mechanism are independent. The IRM mechanism allows an AP or an AP MLID to recognize a non-AP STA or a non-AP MLID, respectively, prior to association and while it is associated. The Device ID mechanism allows an AP or an AP MLID to identify a non-AP STA or a non-AP MLID, respectively, while it is associated. A device ID is allocated by an AP or an AP MLID, and an IRM is selected by a non-AP STA or a non-AP MLID. If both an AP and a non-AP STA have both advertised that the IRM and device ID mechanisms are activated, the non-AP STA might provide both an IRM and a device ID during association or PASN authentication. For MLO, if an AP MLID and a non-AP MLID both advertise that both the IRM and the device ID mechanisms are activated, the non-AP MLID might provide both an IRM and a device ID during association.

**12.2.13.1 Device ID**

**Change the first two paragraphs as follows:**

For non-MLO, an AP that has dot11DeviceIDActivated equal to true advertises support for the device ID mechanism by setting the Device ID Support field to 1 in the Extended RSN Capabilities field in the RSNEXE (see 9.4.2.240) in Beacon and Probe Response frames. A non-AP STA that has dot11MACPrivacyActivated and dot11DeviceIDActivated equal to true sets the Device ID Support field to 1 in the Extended RSN Capabilities field in the RSNEXE to indicate that the device ID mechanism is supported. The RSNEXE with the Device ID Support field equal to 1 is present in either (Re)Association Request frames or the first PASN frame that is sent to an AP that advertises support for the device ID mechanism.

For MLO, an AP MLID that has dot11DeviceIDActivated equal to true advertises support for the device ID mechanism by setting the Device ID Support field to 1 in the Extended RSN Capabilities field in the RSNEXE (see 9.4.2.240) in Beacon and Probe Response frames transmitted by each of its affiliated AP(s). A non-AP MLID that has dot11DeviceIDActivated equal to true sets the Device ID Support field to 1 in the Extended RSN Capabilities field in the RSNEXE to indicate that the device ID mechanism is supported. The RSNEXE with the Device ID Support field equal to 1 is present in (Re)Association Request frame that is sent to an affiliated non-AP STA that advertises support for the device ID mechanism.

**Change the fifth paragraph, including to split it to two paragraphs as follows:**

For non-MLO, an AP that has dot11DeviceIDActivated equal to true and that receives a (Re)Association Request frame or the first PASN frame that includes an Extended RSN Capabilities field with the Device ID Support field equal to 1, shall include an Extended RSN Capabilities field in either the (Re)Association Response frame or the second PASN frame, respectively, with the Device ID Support field set to 1, do one of the following:

- include an Extended RSN Capabilities element in the (Re)Association Response frame with the Device ID Support field set to 1;
- include an Extended RSN Capabilities element in the second PASN frame with the Device ID Support field set to 1.

For MLO, an AP MLID that has dot11DeviceIDActivated equal to true and receives an (Re)Association Request frame that includes an Extended RSN Capabilities field with the Device ID Support field equal to 1, through an affiliated AP, shall include an Extended RSN Capabilities element in the (Re)Association Response frame with the Device ID Support field set to 1.

**Change the now-shifted seventh paragraph as follows:**

For correct operation of the device ID mechanism, all AP MLDs and all APs in an ESS need to have dot11DeviceIDActivated set to true.

**Change the now-shifted ninth paragraph as follows:**

A STA or an MLD should not send a frame containing a Device ID element or a PASN ID element to any STA or MLD unless the receiving STA or the receiving STA affiliated with the MLD has set the Device ID Support field to 1 in the Extended RSN Capabilities field.

**Change the now-shifted 11th paragraph as follows:**

¶For non-MLD, if an AP with dot11DeviceIDActivated equal to true receives an Association Request frame that includes an Extended RSN Capabilities field with the Device ID Support field equal to 1 from a non-AP STA, the AP may provide both a device ID and, if dot11PASNActivated is true, a PASN ID using the procedure described below:

1. When using FILS authentication and the non-AP STA did not provide a device ID in the Device ID element in the Association Request frame, the AP may provide a device ID in the Device ID setting the Device ID Status field to 2 to indicate Not Applicable and, if dot11PASNActivated is true, a PASN ID in the PASN ID element setting the PASN ID Status field to 2 to indicate Not Applicable in the Association Response frame.
2. When not using PASN or FILS authentication and the non-AP STA did not provide a device ID in the Device ID KDE in message 2 of the 4-way handshake, the AP may provide a device ID in the Device ID KDE setting the Device ID Status field to 2 to indicate Not Applicable and, if dot11PASNActivated is true, a PASN ID in the PASN ID KDE setting the PASN ID Status field to 2 to indicate Not Applicable in message 3 of the 4-way handshake.

**Change the now-shifted 13th paragraph as follows:**

¶For non-MLD, if an AP with dot11DeviceIDActivated equal to true receives from a non-AP STA a first PASN frame that includes an Extended RSN Capabilities field with the Device ID Support field equal to 1 but no PASN ID element, the AP shall provide a device ID in the Robust Device ID element and a PASN ID in the Robust PASN ID element in the second PASN frame.

**Insert the following new paragraph after the now-shifted 14th paragraph:**

For MLD, an AP MLD shall provide a device ID to a non-AP MLD using the following procedures:

1. When using 4-way handshake, in the Device ID KDE in message 3 of the 4-way handshake.
2. When using FILS authentication, in the Device ID element in the Association Response frame.

**Change the now-shifted 15th paragraph, including to split it to two paragraphs, as follows:**

¶For non-MLD, if a non-AP STA has been provided a device ID by an AP in an ESS, then the non-AP STA may provide that device ID subsequently to the APs in the same ESS when returning to that ESS. ¶The non-AP STA provides the device ID as follows:

1. When using FILS authentication, in a Device ID element in the Association Request frame.
2. When not using PASN or FILS authentication, in a Device ID KDE in message 2 of the 4-way handshake.

For MLD, if a non-AP MLD has been provided a device ID by an AP MLD, then it may provide that device ID subsequently to the AP MLD(s) in the same ESS. When it provides the device ID, the non-AP MLD shall follow the procedures below to provide the device ID:

1. When using 4-way handshake, in a Device ID KDE in message 2 of the 4-way handshake.
2. When using FILS authentication, in a Device ID element in the Association Request frame.

**Change the now-shifted 19th and 20th paragraphs as follows:**

After non-MLD, a STA may delete either or both of a stored device ID and a stored PASN ID at any point in time for implementation specific reasons.

When For non-MLD, when a non-AP STA sends a device ID or a PASN ID to an AP, it shall use the device ID or the PASN ID most recently received from any AP belonging to the same ESS.

**Insert the following two new paragraphs after the now-shifted 20th paragraph:**

For MLD, an MLD may delete either or both of a stored device ID at any point in time for implementation specific reasons.

For MLD, when a non-AP STA sends a device ID to an AP, it shall use the device ID most recently received from any AP belonging to the same ESS.

**Change the now-shifted 23rd paragraph as follows:**

When an AP or an AP MLD with dot11DeviceIDActivated equal to true receives an Association Request frame or message 2 of the 4-way handshake, containing a device ID from a non-AP STA or a non-AP MLD and the AP or the AP MLD recognizes the received device ID, the AP or the AP MLD shall perform one of the following actions:

1. Set the Device ID Status field of the Device ID KDE or Device ID element to 0 to indicate that the AP recognizes the non-AP STA and set the Device ID field to zero length (indicating the current device ID is maintained) in an Association Response frame of message 3 of the 4-way handshake.
2. Assign a new device ID value in the Device ID field and set the Device ID Status field of the Device ID KDE or Device ID element to 0 and, if dot11PASNActivated is true, assign a new PASN ID value in the PASN ID field and set the PASN ID status field of the PASN ID KDE or PASN ID element to 2, in an Association Response frame or message 3 of the 4-way handshake.

**Change the now-shifted 25th paragraph, including to split it to two paragraphs, as follows:**

When For non-MLD, when a non-AP STA receives a frame that contains a Device ID Status field in the Device ID KDE or Device ID element equal to 0, or a PASN ID Status field in the Robust PASN ID element equal to 0, indicating Recognized, it proceeds with the assumption that the shared identity state of the non-AP STA with the AP or the ESS (as per the concepts of 12.2.13) is now bound to the MAC address in the Address 2 field in the Association Request frame or the first PASN frame most recently transmitted by the non-AP STA.

For MLD, when a non-AP MLD receives a frame that contains a Device ID Status field in the Device ID KDE or Device ID element equal to 0, indicating Recognized, it proceeds with the assumption that the shared identity state of the non-AP MLD with the AP MLD or the ESS (as per the concepts of 12.2.13) is now bound to the MLD MAC Address in the Basic Multi-Link element in the Association Request frame most recently transmitted by an affiliated non-AP STA of the non-AP MLD.

**Change the now-shifted 27th paragraph as follows:**

After non-MLD, if an AP provides a Robust Device ID element or Device ID KDE with the Device ID Status field set to 1, indicating Not Recognized, then the AP may also provide in that same Robust Device

ID element or Device ID KDE a new device ID and, in a Robust PASN ID element or PASN ID KDE, a new PASN ID, thus establishing a new shared identity state. An AP shall set a Device ID Status field to 1 indicating Not Recognized if the AP cannot unequivocally identify the non-AP STA shared identity state.

***Insert the following new paragraph after the now-shifted 27th paragraph:***

For MLO, if an AP MLD has a Robust Device ID element or Device ID KDE with the Device ID Status field set to 1, indicating Not Recognized, then the AP MLD may also provide in that same Robust Device ID element or Device ID KDE a new device ID, thus establishing a new shared identity state. An AP MLD shall set a Device ID Status field to 1 indicating Not Recognized if the AP MLD cannot unequivocally identify the non-AP MLD shared identity state.

***Change the now-shifted 31st paragraph as follows:***

**WhenFor non-MLO, when** a non-AP STA receives a frame that contains a Device ID Status field in a Device ID KDE or Robust Device ID element equal to 1, or a PASN ID status field in a PASN Status field in a Robust PASN ID element equal to 1, indicating Not Recognized, it shall assume that no shared identity state exists with the AP or the ESS (as per the concepts of 12.2.13.

***Insert the following paragraph after the now-shifted 31st paragraph:***

For MLO, when a non-AP MLD receives a frame that contains a Device ID Status field in a Device ID KDE or Robust Device ID element equal to 1, indicating Not Recognized, it shall assume that no shared identity state exists with the AP MLD or the ESS (as per the concepts of 12.2.13).

A non-AP MLD that stores a device ID received from an AP MLD in an ESS and later becomes a non-AP STA for the purpose of communicating with an AP in the same ESS, may provide that device ID in a frame following the procedures defined in this subclause for the non-AP STA. Similarly, a non-AP STA that stores a device ID received from an AP in an ESS and later becomes a non-AP MLD for the purpose of communicating with an AP MLD in the same ESS, may provide that device ID in a frame following the procedures defined in this subclause for the non-AP MLD.

**12.2.13.2 Identifiable random MAC address (IRM)**

***Change the first two paragraphs as follows:***

**For non-MLO, an AP** that has dot1IRMActivated equal to true advertises support for the IRM mechanism by setting the IRM Support field to 1 in the Extended RSN Capabilities field in the RSNXIE (see 9.4.2.240) in Beacon and Probe Response frames. A non-AP STA that has dot1IRMAcPrivacyActivated and dot1IRMActivated equal to true indicates that the IRM mechanism is supported by setting the IRM Support field to 1 in the Extended RSN Capabilities field in the RSNXIE in either the (Re)Association Request frames or the first PASN frame that it sends to an AP that advertises support for the IRM mechanism.

**For MLO, an AP MLD** that has dot1IRMActivated equal to true advertises support for the IRM mechanism by setting the IRM Support field to 1 in the Extended RSN Capabilities field in the RSNXIE (see 9.4.2.240) in Beacon and Probe Response frames transmitted by each of its affiliated AP(s). A non-AP MLD that has dot1IRMActivated equal to true indicates that the IRM mechanism is supported by setting the IRM Support field to 1 in the Extended RSN Capabilities field in the RSNXIE in the (Re)Association Request frames that an affiliated STA sends to an AP MLD that advertises support for the IRM mechanism.

***Change the third paragraph, including to split it to two paragraphs as follows:***

For non-MLD, an AP that has dot11IRMActivated equal to true and that receives a (Re)Association Request frame or the first PASN frame that includes an Extended RSN Capabilities field with the IRM Support field equal to 1 shall include an Extended RSN Capabilities element in either the (Re)Association Response frame or the second PASN frame, respectively, with the IRM Support field set to 1, do one of the following:

- include an Extended RSN Capabilities element in the (Re)Association Response frame with the IRM Support field set to 1.
- include an Extended RSN Capabilities element in the second PASN frame with the IRM Support field set to 1.

For MLO, an AP MLD that has dot11IRMActivated equal to true, and that receives a (Re)Association Request frame that includes an Extended RSN Capabilities field with the IRM Support field equal to 1 through an affiliated AP, shall include an Extended RSN Capabilities element in the (Re)Association Response frame with the IRM Support field set to 1.

**Change the now-shifted seventh paragraph as follows:**

Correct operation of the IRM mechanism depends on all APs not affiliated with AP MLDs and all AP MLDs in the ESS being configured with dot11IRMActivated set to true. Activation of the IRM mechanism needs to be advertised by all APs and AP MLDs through affiliated APs in an ESS in Beacons and Probe Response frames.

**Change the now-shifted ninth paragraph as follows:**

An IRM is a random MAC address that is constructed from the locally administered address space. A non-AP STA or a non-AP MLD shall construct randomized IRMs according to IEEE Std 802-2014 and IEEE Std 802e-2017.

**Change the now-shifted tenth paragraph, including to split it to three paragraphs as follows:**

When For non-MLD, when associating for the first time or authenticating using PASN for the first time to an AP in an ESS, the non-AP STA may use any local MAC address or its universal MAC address. Each time the non-AP STA associates with an AP in an ESS, it may provide a new IRM to the AP during association the 4-way handshake or FILS authentication. That IRM may be shared with all of the APs and AP MLDs in the ESS. The non-AP STA may then use that IRM as its TA the next time it associates with any AP in that same ESS. The non-AP STA shall also use that IRM as its TA for any Probe Request frames, directed or broadcast, public Action frames, Authentication frames, and (Re)Association frames that it transmits when it intends to be identified.

For MLO, when associating with an AP MLD for the first time in an ESS, the non-AP MLD may use any MLD MAC address. Each time a non-AP MLD associates with an AP MLD in an ESS, it may provide an IRM to the AP MLD during the 4-way handshake or FILS authentication. That IRM may be shared with all of the AP MLDs and APs in the ESS. The non-AP MLD may set the MLD MAC Address field to the IRM in the Probe Request Multi-Link element of a multi-link probe request, and it may set MLD MAC Address field to the IRM in the Basic Multi-Link element of Authentication and Association frames that it transmits when it intends to be identified.

A non-AP MLD shall only include the MLD MAC Address field in the Probe Request Multi-Link element of a multi-link probe request sent to an AP MLD, if the AP MLD advertises the activation of the IRM mechanism with IRM Support field set to 1 in the Extended RSN Capabilities field in Beacon and Probe Response frames transmitted by its affiliated AP(s), otherwise the non-AP MLD shall not include the MLD MAC Address field in the Probe Request Multi-Link element of a multi-link probe request.

**Change the now-shifted 13th and 14th paragraphs as follows:**

When **For non-MLO**, when associating to an AP that advertises activation of the IRM mechanism, the non-AP STA may provide a new IRM to the AP by including an IRM KDE in message 4 of the 4-way handshake or, when using FILS authentication, including the IRM element in the Association Request frame. When using PASN, the non-AP STA may provide a new IRM to the AP by including the IRM element in the third PASN frame. If a newly provided IRM is already in use by any STA in the ESS, or is identical to an IRM stored by the AP for another STA, then, after association or authentication using PASN, the AP should send a Duplicate IRM frame (see 9.6.36.2) to the non-AP STA that provided the new IRM indicating that the provided IRM is a duplicate. The non-AP STA may then respond with a New IRM frame (see 9.6.36.3), to provide a new IRM to the AP.

For MLO, when associating to an AP MLD that advertises activation of the IRM mechanism, the non-AP MLD may provide a new IRM to the AP MLD by including an IRM KDE in message 4 of the 4-way handshake. If a newly provided IRM from a non-AP MLD is already in use by any non-AP MLD or non-AP STA in the ESS, or is identical to an IRM stored by the AP MLD for another non-AP MLD or non-AP STA, then, after association and the 4-way handshake, the AP MLD should send a Duplicate IRM frame (see 9.6.36.2) to the non-AP MLD through an affiliated STA that provided the new IRM indicating that the provided IRM is a duplicate. The non-AP MLD may then respond with a New IRM frame (see 9.6.36.3), to provide a new IRM to the AP MLD.

**Change the now-shifted 15th paragraph, including to split it to two paragraphs as follows:**

The **For non-MLO**, the non-AP STA should store the newly allocated IRM as an identifier for use with the AP(s) in that ESS and the AP(s) in that ESS should store the IRM as an identifier for that non-AP STA. The non-AP STA then should use that allocated IRM as its TA when it next associates or uses PASN to preassociate with that same AP or another AP in the same ESS.

For MLO, the non-AP MLD should store the newly allocated IRM as an identifier for use with the AP MLDs in that ESS. The AP MLDs in the ESS should store the IRM as an identifier for that non-AP MLD. The non-AP MLD should then use that allocated IRM as its MLD MAC address when it next associates with an AP MLD in the same ESS.

**Change the now-shifted 17th, 18th, and 19th paragraphs as follows:**

A non-AP STA indicates the IRM mechanism is activated in a (Re)Association Request frame or in the first PASN frame and the AP indicates the IRM mechanism is activated in the corresponding (Re)Association Response frame or in the second PASN frame. A non-AP STA may indicate the IRM mechanism is activated in an Association Request frame as part of an initial mobility domain association. If **For non-MLO**, if a non-AP STA indicates the IRM mechanism is activated in an Association Request frame or first PASN frame and the AP indicates the IRM mechanism is activated in the corresponding Association Response frame or second PASN frame, then the AP shall support the following options:

- if executing a 4-way handshake, the AP shall include an IRM KDE in message 3 of the 4-way handshake if executing a 4-way handshake.
- if using FILS authentication, the AP shall include a Robust IRM element in the Association Response frame if using FILS authentication.
- if using PASN authentication, the AP shall include a Robust IRM element in the second PASN frame if using PASN authentication.

If **For non-MLO**, if the AP recognizes the IRM used as the TA in the received frame(s) from the non-AP STA, the AP shall set the IRM Status field of the IRM KDE or IRM element to Recognized. If the AP does not recognize the IRM, the AP shall set the IRM Status field of the IRM KDE or IRM element to Not

Recognized and the IRM field is not present. An AP shall set the IRM Status field to 1 indicating Not Recognized if the AP cannot unequivocally identify the non-AP STA shared identity state.

The non-AP STA for non-ML0, on receipt of an IRM Status field equal to 1, indicating that the AP has not recognized the IRM, the non-AP STA shall either:

- continue to associate or authenticate using PASN to the AP and if executing a 4-way handshake, optionally provide a new IRM in an IRM KDE in message 4 of the 4-way handshake, or;
- when using FILS authentication optionally provide an IRM element in the Association Request frame, or when if using PASN authentication, optionally provide an IRM element in the third PASN frame,
- else disassociate/deauthenticate otherwise, disassociate or deauthenticate.

*Insert the following paragraphs after the now-shifted 20th paragraph ("When associating for..."):*

For MLO, if a non-AP MLD indicates the IRM mechanism is activated in an Association Request frame and an AP MLD indicates the IRM mechanism is activated in the corresponding Association Response frame, then the AP MLD shall support the following options:

- if executing a 4-way handshake, the AP MLD shall include an IRM KDE in message 3 of the 4-way handshake.
- if using FILS authentication, the AP MLD shall include an IRM element in the Association Response frame.

For MLO, if an AP MLD recognizes the IRM in a received frame from a non-AP MLD, the AP MLD shall set the IRM Status field of the IRM KDE to Recognized and the IRM field is not present. If the AP MLD does not recognize the IRM, the AP MLD shall set the IRM Status field of the IRM KDE to Not Recognized and the IRM field is not present. On receipt of a frame with IRM Status field equal to 1, indicating that the AP MLD has not recognized the IRM, the non-AP MLD may either:

- if executing a 4-way handshake, optionally provide a new IRM in an IRM KDE in message 4 of the 4-way handshake, or
- disassociate or deauthenticate.

An AP MLD may set an IRM status field to 1 indicating Not Recognized if the AP MLD cannot unequivocally identify the non-AP MLD shared identity state.

*Change the now-shifted 25th paragraph as follows:*

If for non-ML0, if a non-AP STA has previously provided an IRM to an AP in an ESS, the APs in the ESS have retained the information, and the non-AP STA sends an Authentication frame using that IRM as the TA to any AP in the ESS, then the AP receiving the Authentication frame can identify the non-AP STA before association is started or completed. A non-AP STA may use that address the previously provided IRM as TA when actively scanning for any AP(s) in that the same ESS, such that the AP(s) in that ESS may can identify the non-AP STA. A non-AP STA that has provided an IRM to any AP in an ESS may use that address the previously provided IRM as TA in a Public Action frame (e.g., a GAS frame) such that AP(s) in that ESS may can identify the non-AP STA.

*Insert the following paragraphs after the now-shifted 25th paragraph:*

For MLO, if a non-AP MLD has previously provided an IRM to an AP MLD in an ESS and the non-AP MLD sends an Authentication frame using that IRM as the MLD MAC address to any AP MLD in the ESS,

then the AP MLD receiving the Authentication frame is able to identify the corresponding non-AP MLD before association is started or completed.

A non-AP MLD that stores a newly allocated IRM that it previously provided to an AP MLD in an ESS and later becomes a non-AP STA for the purpose of communicating with an AP in the same ESS, may provide that IRM as its MAC address in the TA field of a frame following the procedures defined in this subclause for the non-AP STA. Similarly, a non-AP STA that stores a newly allocated IRM that it previously provided to an AP in an ESS and later becomes a non-AP MLD for the purpose of communicating with an AP MLD in the same ESS, may provide that IRM as its MLD MAC address in a frame following the procedures defined in this subclause for the non-AP MLD.

NOTE 3—A non-AP MLD becomes a non-AP STA for the purpose of communicating with an AP when sending regular Probe Request frames, directed or broadcast, and public Action frames.

***Change the now-shifted 29th paragraph as follows:***

A non-AP STA should change the IRM for each association or PASN authentication. For MLO, a non-AP MLD should change its IRM in each association and should use randomized MAC addresses for its affiliated non-AP STAs.

## 12.3 Pre-RSNA security methods

### 12.3.3 Pre-RSNA authentication

#### 12.3.3.1 Overview

***Change as follows:***

In an infrastructure BSS, a non-DMG STA shall complete an IEEE 802.11 authentication exchange prior to association. For MLO, a non-AP MLD and AP MLD shall complete IEEE 802.11 authentication exchange prior to association. The Authentication frames for MLO are transmitted between the non-AP MLD and AP MLD through an affiliated STA and affiliated AP, respectively. A DMG STA not in an IBSS shall complete an IEEE 802.11 authentication exchange prior to association when an authentication algorithm other than the Open System authentication algorithm is requested. A DMG STA shall not perform an IEEE 802.11 authentication exchange using the Open System authentication algorithm. An IEEE 802.11 authentication exchange is optional in an IBSS.

All Authentication frames shall be individually addressed, as IEEE 802.11 authentication is performed between pairs of STAs or MLDs, i.e., group addressed authentication is not allowed. Deauthentication frames are advisory and may be sent as group addressed frames.

#### 12.3.3.2 Open System authentication

##### 12.3.3.2.1 General

***Change the second, third, and fourth paragraphs as follows:***

Any non-DMG STA or MLD requesting Open System authentication can be authenticated if dot11AuthenticationAlgorithmsTable at the peer STA or MLD, respectively, includes an entry with dot11AuthenticationAlgorithm equal to openSystem and dot11AuthenticationAlgorithmActivated equal to true.

A STA or an MLD may decline to authenticate with another requesting STA or requesting MLD. Open System authentication is the default authentication algorithm for a pre-RSNA STA or MLD.

Open System authentication utilizes a two-message authentication transaction sequence. The first message asserts identity and requests authentication. The second message returns the authentication result. If the result is "successful," the STAs or MLDs shall be declared mutually authenticated.

**Change the fifth paragraph, including the addition of a NOTE and the split of the paragraph into two as follows:**

In the description in 12.3.3.2.2 and 12.3.3.2.3, the STA or MLD initiating the authentication exchange is referred to as the *requester*, and the STA or the MLD, respectively, to which the initial frame in the exchange is addressed is referred to as the *responder*.

**NOTE**—Open system authentication between the requester MLD and the responder MLD is completed through frame exchanges between STAs affiliated with the MLDs, respectively. The MLD includes its MLD MAC address in the MLD MAC Address field of the Basic Multi-link element in the frame body of the Authentication frame.

The specific items in each of the messages described in the following subclauses are defined in 9.3.3.11, Table 9-70, and Table 9-71.

#### 12.3.3.2.2 Open System authentication (first frame)

**Insert the following paragraph after the first paragraph ("Upon receipt of an Open..."):**

If the requester is a non-AP MLD, it may initiate the transmission of the Authentication frame by the affiliated STA operating on the recommended link included in the MLME-AUTHENTICATE.request primitive.

#### 12.3.3.2.3 Open System authentication (final frame)

**Insert the following paragraph after the first paragraph ("Upon receipt of an Authentication..."):**

An AP MLD shall reject an authentication request from a non-AP STA with the Status Code field set to REQUEST\_DECLINED and an AP should reject an authentication request from a non-AP MLD with the Status Code field set to REQUEST\_DECLINED.

### 12.4 Authentication using a password

#### 12.4.1 SAE overview

**Change the first paragraph, include splitting it into two paragraphs as follows:**

Two SAE entities STAs, both AP STAs and non-AP STAs, may authenticate each other by proving possession of a password.

Authentication protocols that employ passwords need to be resistant to off-line dictionary attacks.

**Change the now-shifted third paragraph as follows:**

Simultaneous authentication of equals (SAE) is a variant of *Dragonfly*, a password-authenticated key exchange based on a zero-knowledge proof. SAE is used by STAs SAE entities to authenticate with a password; it has the following security properties:

- The successful termination of the protocol results in a PMK shared between the two SAE entities STAs.
- An attacker is unable to determine either the password or the resulting PMK by passively observing an exchange or by interposing itself into the exchange by faithfully relaying messages between the two SAE entities STAs.
- An attacker is unable to determine either the password or the resulting shared key by modifying, forging, or replaying frames to an honest, uncorrupted SAE entity STA.
- An attacker is unable to make more than one guess at the password per attack. This implies that the attacker cannot make one attack and then go offline and make repeated guesses at the password until successful. In other words, SAE is resistant to dictionary attack.
- Compromise of a PMK from a previous run of the protocol does not provide any advantage to an adversary attempting to determine the password or the shared key from any other instance.
- Compromise of the password does not provide any advantage to an adversary in attempting to determine the PMK from the previous instance.

**Change the now-shifted fifth paragraph as follows:**

The parties SAE entities involved in SAE authentication are identified by their MAC addresses, called STA-A and STA-B denoted as A-MAC and B-MAC in 12.4.4. Between two STAs, the SAE entities are identified by their STA MAC addresses. Between two MLDs, the SAE entities are identified by their MLD MAC addresses. STA-A MAC and STA-B MAC, respectively. STAs An SAE entity begin the protocol when they it discovers a peercandidate SAE entity by receiving a Beacon or Probe Response frame(s), or when they receive an Authentication frame indicating SAE authentication from a peercandidate SAE entity.

#### 12.4.3 Representation of a password

**Change the first two paragraphs as follows:**

Passwords are used in SAE to deterministically compute a secret element in the negotiated group, called a password element. The input to this process needs to be in the form of a binary string. For the protocol to successfully terminate, it is necessary for each side to produce identical binary strings for a given password, even if that password is in character format. There is no canonical binary representation of a character and ambiguity exists when the password is a character string. To eliminate this ambiguity, an SAE entity a STA shall represent a character-based password as a UTF-8 string that is processed according to the OpaqueString profile of IETF RFC 8265, the output of which is an octet string. The octet string representation of the password, after being processed, is stored in the dot11RSNAConfigPasswordValueTable. When a “password” is called for in the description of SAE that follows the credential from the dot11RSNAConfigPasswordValueTable is used.

Similarly, to address ambiguity when identifying passwords, an SAE entity a STA shall represent a password identifier as a UTF-8 string that is processed according to the UsernameCasePreserved profile of IETF RFC 8265, the output of which is an octet string that is stored in the dot11RSNAConfigPasswordValueTable. When a “password identifier” is called for in the description of SAE that follows, the identifier from the dot11RSNAConfigPasswordValueTable is used. A mesh STA shall not use a password identifier.

## 12.4.4 Finite cyclic groups

### 12.4.4.1 General

*Change the first two paragraphs as follows:*

SAE uses discrete logarithm cryptography to achieve authentication and key agreement. Each party to the exchange derives ephemeral public and private keys with respect to a particular set of domain parameters that define a finite cyclic group. Groups may be based on either finite field cryptography (FFC) or on elliptic curve cryptography (ECC). Each component of a group is referred to as an *element*. Groups are negotiated using an identifying number from a repository maintained by IANA as “Group Description” “Transform Type 4 – Key Exchange Method Transform IDs” attributes for IETF RFC 2409 (IKE) 7296 [B14] [B29]. The repository maps an identifying number to a complete set of domain parameters for the particular group. Not all groups defined in this repository are suitable. Only FFC groups whose prime is at least 3072 bits and ECC groups defined over a prime field whose prime is at least 256 bits are suitable for use with SAE. ECC groups defined over a characteristic 2 finite field or ECC groups with a co-factor greater than 1 shall not be used with SAE (see NIST Special Publication 800-57). For the purpose of interoperability, an SAE entity + STA shall implement support for group 19, an ECC group defined over a 256-bit prime order field.

More than one group may be configured on an SAE entity + STA for use with SAE by using the dot11RSNAConfigDLCGroupTable. Configured groups are prioritized in ascending order of preference. If only one group is configured, it is, by definition, the most preferred group.

### 12.4.4.2 Elliptic curve cryptography (ECC) groups

#### 12.4.4.2.2 Generation of the password element with ECC groups by looping

*Change the fourth paragraph as follows:*

In order to minimize the possibility of side-channel attacks that attempt to determine the number of interactions of the “hunting-and-pecking” loop required for a given <password, STA-A-MAC, STA-B-MAC> tuple, implementations should perform at least  $k$  iterations regardless of whether PWE is discovered or not. The value  $k$  may be set to any non-negative value and should be set to a sufficiently large number to effectively guarantee the discovery of PWE in less than  $k$  iterations. If PWE is discovered in less than  $k$  iterations a random “password” can be used in subsequent iterations to further obfuscate the true cost of discovering PWE.

*Change the sixth paragraph (not all texts are shown) as follows:*

Algorithmically this process is described as follows:

```
found = 0;  
counter = 1  
Length = len(p)  
base = password  
do {  
    pwd-seed = H(MAX(STA-A-MAC, STA-B-MAC) || MIN(STA-A-MAC, STA-B-MAC),  
    base || counter)  
    ...  
}
```

#### 12.4.4.2.3 Hash-to-element generation of the password element with ECC groups

*Change the first paragraph as follows:*

An SAE entity peer, e.g. a mesh STA or an AP, indicates support for the hash-to-element method to obtain an ECC password element by setting the SAE Hash-to-element bit to 1 in the Extended RSN Capabilities field in all Beacon and Probe Response frames. An SAE entity A-STA that uses a password identifier shall use the hash-to-element method. An SAE initiator that has identified a peer that supports this method (through receipt of Beacon or Probe Response frames) shall derive a secret element, PT, according to the following method and indicate this by setting the status code in the SAE Commit message to SAE\_HASH\_TO\_ELEMENT. An SAE initiator shall not indicate support for this form of element derivation unless its peer has already signaled support for this method. If an SAE Commit message is received with status code equal to SAE\_HASH\_TO\_ELEMENT the peer shall generate the PWE using the following method and reply with its own SAE Commit message with status code set to SAE\_HASH\_TO\_ELEMENT.

#### 12.4.4.3 Finite field cryptography (FFC) groups

##### 12.4.4.3.2 Generation of the password element with FFC groups by looping

*Change the fourth paragraph (not all texts are shown) as follows:*

Algorithmically this process is described as follows:

```
found = 0;  
counter = 1  
Length = len(p)  
do {  
    pwd-seed = H(MAX(STA-A-MAC, STA-B-MAC) || MIN(STA-A-MAC, STA-B-MAC),  
    password || counter)  
    ...  
}
```

##### 12.4.4.3.3 Direct Generation of the password element with FFC groups

*Change the first paragraph as follows:*

An SAE peer indicates support for the hash-to-element method to obtain the FFC password element by setting the SAE Hash-to-element bit to 1 in the Extended RSN Capabilities field in all Beacon and Probe Response frames. An SAE entity A-STA that uses a password identifier shall use the hash-to-element method. An SAE initiator that has identified a peer that supports the following technique (through receipt of Beacon or Probe Response frames) shall derive PT according to the following method and indicate this by setting the status code in the SAE Commit message to SAE\_HASH\_TO\_ELEMENT. An SAE initiator shall not indicate support for this form of PWE derivation unless its peer has already signaled support. If an SAE Commit message is received with status code equal to SAE\_HASH\_TO\_ELEMENT the peer shall generate the PWE using the following method and reply with its own SAE Commit message with status code set to SAE\_HASH\_TO\_ELEMENT.

#### 12.4.5 SAE protocol

##### 12.4.5.2 PWE and secret generation

*Change the second paragraph as follows:*

When an SAE entity a STA supports the hash-to-element method (according to 12.4.4.2.3 or 12.4.4.3.3) it computes a secret element, PT, offline at provisioning time for all groups it wishes to support with that password. Prior to initiating SAE to an SAE entity a STA that also supports the direct form of hashing to a group element, or upon receipt of an SAE Commit message indicating it was generated using a direct form of hashing to a group element, it shall generate the PWE by hashing the two peer MAC addresses to produce a digest, reducing the digest modulo the order of the particular group,  $r$ , interpreting the reduced digest as an integer and using it with the secret element to generate the PWE:

$$\begin{aligned}\text{val} &= H(0^{\text{len}}, \text{MAX}(\text{STA-A-MAC}, \text{STA-B-MAC}) || \text{MIN}(\text{STA-A-MAC}, \text{STA-B-MAC})) \\ \text{val} &= \text{val modulo } (r - 1) + 1 \\ \text{PWE} &= \text{scalar-op}(\text{val}, \text{PT})\end{aligned}$$

where  $0^{\text{len}}$  is a salt of all 0s whose length equals the length of the digest from the hash function used to instantiate  $H()$  (see Table 12-1).

**Change the fourth paragraph as follows:**

After generation of the PWE, each SAE entity STA shall generate a secret value, *rand*, and a temporary secret value, *mask*, each of which shall be chosen randomly such that  $1 < \text{rand} < r$  and  $1 < \text{mask} < r$  and  $(\text{rand} + \text{mask}) \bmod r$  is greater than 1, where  $r$  is the (prime) order of the group. If their sum modulo  $r$  is not greater than 1, they shall both be irretrievably deleted and new values shall be randomly generated. The values *rand* and *mask* shall be random numbers produced from a quality random number drawn from a uniform distribution generator. These values shall never be reused on distinct protocol runs.

**12.4.5.4 Processing of a peer's SAE Commit message**

**Change the first two paragraphs as follows:**

If the peer's SAE Commit message contains a Password Identifier element, the identifier in that element shall be used in construction of the PWE for this exchange. If a password identifier is present in the peer's SAE Commit message and there is no password with the given identifier an SAE entity a STA shall fail authentication.

If the peer's SAE Commit message contains a Rejected Groups element, the list of rejected groups shall be checked to ensure that all of the groups in the list are groups that would be rejected. If any groups in the list would not be rejected then processing of the SAE Commit message terminates and the SAE entity STA shall reject the peer's authentication. While the rejected groups are appended to the Rejected Groups element as they are rejected (see 12.4.7.3) there is no inherent order to the groups in the list. The order in which they are sent and received shall be retained when deriving keys.

**Change the seventh and eighth paragraphs as follows:**

If either scalar validation or element validation fails, the SAE entity STA shall reject the peer's authentication. If both the scalar and element from the peer's SAE Commit message are successfully validated, a shared secret element,  $K$ , shall be derived using the scalar and element (*peer-commit-scalar* and *PEER-COMMIT-ELEMENT*, respectively) from the peer's SAE Commit message and the SAE entity's STA's secret value.

$$K = \text{scalar-op}(\text{rand}, (\text{elem-op}(\text{scalar-op}(\text{peer-commit-scalar}, \text{PWE}), \text{PEER-COMMIT-ELEMENT})))$$

If the shared secret element,  $K$ , is the identity element for the negotiated group (the value one for an FFC group or the point-at-infinity for an ECC group) the SAE entity STA shall reject the peer's authentication. Otherwise, a secret value,  $k$ , shall be computed as:

$$k = F(K)$$

#### 12.4.6 Anti-clogging tokens

*Change the first paragraph as follows:*

An SAE entity A-STA is required to do a considerable amount of work upon receipt of an SAE Commit message. This opens up the possibility of a distributed denial-of-service attack by flooding an SAE entity A-STA with bogus SAE Commit messages from forged MAC addresses. To prevent this from happening, an SAE entity A-STA shall maintain an *Open* counter in its SAE state machine indicating the number of open and unfinished protocol instances (see 12.4.5.1). When that counter hits or exceeds dot11RSNASEAntiCloggingThreshold, the SAE entity STA shall respond to each SAE Commit message with a rejection that includes an Anti-Clogging Token field statelessly bound to the sender of the SAE Commit message. The sender of the SAE Commit message shall then include the Anti-Clogging Token field in a subsequent SAE Commit message.

#### 12.4.8 SAE finite state machine

##### 12.4.8.3 Events and output

###### 12.4.8.3.1 Parent process events and output

*Change the fourth paragraph as follows:*

Receipt of frames containing SAE messages signals the following events to the SAE parent process:

- *Authentication frame with Transaction Sequence number 1.* This event indicates that an SAE Commit message has been received from a peer-STA.
- *Authentication frame with Transaction Sequence number 2.* This event indicates that an SAE Confirm message has been received from a peer-STA.

#### 12.5 RSNA confidentiality and integrity protocols

##### 12.5.2 CTR with CBC-MAC protocol (CCMP)

###### 12.5.2.3 CCMP cryptographic encapsulation

###### 12.5.2.3.1 General

*Change part a) of the first paragraph and replace Figure 12-17 as follows:*

The CCMP cryptographic encapsulation process is depicted in Figure 12-17.

![Figure 12-17—CCMP encapsulation block diagram. The diagram shows the process of CCMP encapsulation. Inputs include Plaintext MPDU, MLD MAC Address, TK, PN, and Key ID. The MLD MAC Address, TK, and Key ID feed into an 'Increment PN' block. The output of 'Increment PN' feeds into 'Construct CCMP header'. The Plaintext MPDU is split into A2, Priority, and Data fields. A2, Priority, and Data feed into 'Construct nonce'. The output of 'Construct nonce' feeds into 'CCM encryption'. The output of 'Construct AAD' also feeds into 'CCM encryption'. The output of 'CCM encryption' is Data, MIC. The Data, MIC, and the original MAC header are combined to form the Encrypted MPDU.](f67b35257fd3c04332ec2c03d71f1b33_img.jpg)

Figure 12-17—CCMP encapsulation block diagram. The diagram shows the process of CCMP encapsulation. Inputs include Plaintext MPDU, MLD MAC Address, TK, PN, and Key ID. The MLD MAC Address, TK, and Key ID feed into an 'Increment PN' block. The output of 'Increment PN' feeds into 'Construct CCMP header'. The Plaintext MPDU is split into A2, Priority, and Data fields. A2, Priority, and Data feed into 'Construct nonce'. The output of 'Construct nonce' feeds into 'CCM encryption'. The output of 'Construct AAD' also feeds into 'CCM encryption'. The output of 'CCM encryption' is Data, MIC. The Data, MIC, and the original MAC header are combined to form the Encrypted MPDU.

Figure 12-17—CCMP encapsulation block diagram

a) For secure PV0 MPDUs, CCMP encrypts the Frame Body field of a plaintext MPDU and encapsulates the resulting cipher text using the following steps:

1. Increment the PN, to obtain a fresh nonzero PN for each MPDU, so that the PN never repeats for the same temporal key.

NOTE 1—The frame body of the retransmitted MPDU is not modified on retransmission. For MLO, MPDUs are encapsulated with the same PN when retransmitted on another link.

1. Use the fields in the MPDU header to construct the additional authentication data (AAD) for CCM. The CCM algorithm provides integrity protection for the fields included in the AAD. MPDU header fields that might change when retransmitted are muted by being masked out or being set to a known value when calculating the AAD as described in 12.5.2.3.3.
2. In case of a secure PV0 MPDU that is an individually addressed Data frame to be encrypted by an MLD, construct the CCM nonce block as defined in 12.5.2.3.4 from the PN, transmitting MLD MAC address, and the priority value of the MPDU. Otherwise, construct the CCM nonce as defined in 12.5.2.3.4 from the PN, A2, and the priority value of the MPDU where A2 is MPDU Address 2. If the Type field of the Frame Control field is 10 (Data frame) and there is a QoS Control field present in the MPDU header, the priority value of the MPDU is equal to the value of the TID subfield of the QoS Control field (bits 0 to 3 of the QoS Control field). If the Type field of the Frame Control field is 00 (Management frame) and the frame is a QMF, the priority value of the MPDU is equal to the value in the ACI subfield of the Sequence Number field. Otherwise, the priority value of the MPDU is equal to 0.

NOTE 2—For MLO, AAD and CCM Nonce construction for Management frames follows 12.5.2.3.4 and uses the MPDU header fields to be transmitted over the affiliated STA link.

1. Construct the CCMP header as defined in 12.5.2.3.5.
2. Use the temporal key, AAD, nonce, and MPDU data to form the cipher text and the encrypted MIC. This step is known as CCM originator processing.
3. Form the encrypted MPDU by combining the original MPDU header, the CCMP header, the encrypted data and the encrypted MIC, as described in 12.5.2.2.

### 12.5.2.3.2 PN processing

*Insert the following paragraph after the first paragraph ("The PN is incremented by..."):*

If the individually addressed MPDU is to be transmitted by an MLD to a receiving MLD through an affiliated STA, a single PN space for the PTKSA shall be maintained for transmissions through all affiliated STAs.

### 12.5.2.3.3 Construct AAD

*Change part a) of the first paragraph as follows:*

The AAD is constructed as follows:

1. For PV0 MPDUs, the format of the AAD is shown in Figure 12-18. The length of the AAD for PV0 varies depending on the presence or absence of the QC and A4 fields and is shown in Table 12-3. The AAD is constructed from the MPDU header. The AAD includes neither the Duration/ID field nor the HT Control field because the contents of these fields might change during normal operation (e.g., due to a rate change preceding retransmission). The HT Control field might also be inserted or removed during normal operation (e.g., retransmission of an A-MPDU where the original A-MPDU included an MRQ that has already generated a response). For similar reasons, several subfields in the Frame Control field are masked out. For PV0 MPDUs, AAD construction is performed as follows:
   1. FC – MPDU Frame Control field, with:
      1. The 3 LSBs of the Subtype subfield (bits 4 5 6) in a Data frame masked out. Bit 7 is not modified
      2. Retry subfield (bit 11) masked out
      3. Power Management subfield (bit 12) masked out
      4. More Data subfield (bit 13) masked out
      5. Protected Frame subfield (bit 14) not modified (left as 1)
      6. +HTC subfield (bit 15) as follows:
         - Masked out in all Data frames containing a QoS Control field
         - Not modified otherwise
      7. No modification to other subfields
   2. A1 – MPDU Address 1 field: A1 is determined as follows:
      - If the MPDU is an individually addressed Data frame between an AP MLD and a non-AP MLD associated with the AP MLD, then A1 is the MLD MAC address of the intended receiver.
      - Otherwise, A1 is set to the MPDU Address 1 field.
   3. A2 – MPDU Address 2 field: A2 is determined as follows:
      - If the MPDU is an individually addressed Data frame between an AP MLD and a non-AP MLD associated with the AP MLD, then A2 is the MLD MAC address of the transmitting MLD.
      - Otherwise, A2 is the MPDU Address 2 field.
   4. A3 – MPDU Address 3 field: A3 is determined as follows:
      - If the MPDU Address 3 field is the BSSID (see Table 9-60) and the MPDU is an individually addressed Data frame between an AP MLD and a non-AP MLD associated with the AP MLD, then:
        - A3 is the MLD MAC address of the AP MLD.
        - Otherwise, A3 is the MPDU Address 3 field.

5) SC – MPDU Sequence Control field, with bits 0–9 the Sequence Number subfield masked out if the frame is an IQMF and both the STA and its peer set the QMF ACI Subfield Unmask Support subfield to 1 (see 9.4.2.240), and with the entire Sequence Number subfield masked out otherwise.

NOTE—The Fragment Number subfield is not modified. Bits 10–11 of the Sequence Number subfield are not modified if the frame is an IQMF and both the STA and its peer set the QMF ACI Subfield Unmask Support subfield to 1.

6) A4 – MPDU Address field, if present, A4, if present, is determined as follows:

- If the MPDU Address 4 field is a BSSID, and the MPDU is an individually addressed Data frame between an AP MLD and a non-AP MLD associated with the AP MLD, then A4 is the MLD MAC address of the AP MLD.
- Otherwise, A4, if present, is the MPDU Address 4 field.

7) QC – MPDU QoS Control field contains the MSDU priority, if present. The QC TID is used in the construction of the AAD. When in a non-DMG BSS, if both the STA and its peer have their SPP A-MSDU Capable subfields (see 9.4.2.240) equal to 1, the A-MSDU Present field is also used in the construction of the AAD. When in a DMG BSS, the A-MSDU Present field and A-MSDU Type field are also used in the construction of the AAD. The remaining QC fields are not used and are masked out for the AAD calculation (for a non-DMG BSS, bits 4 to 6, bits 8 to 15, and bit 7 when either the STA or its peer has the SPP A-MSDU Capable field equal to 0; for DMG BSS, bits 4 to 6 and bits 9 to 15). When in a DMG BSS, the A-MSDU Present bit 7 and A-MSDU Type bit 8 are used in the construction of the AAD, and the remaining QC fields are masked out for the AAD calculation (bits 4 to 6, bits 9 to 15).

#### 12.5.2.3.4 Construct CCMP nonce

*Change the sixth paragraph as follows:*

The MPDU is an individually addressed Data frame between an AP MLD and a non-AP MLD associated with the AP MLD, then the STA MAC address identified by A2 subfield shall contain the MLD MAC address of the transmitting MLD. Otherwise, the STA MAC Address Identified By A2 subfield shall contain the Address 2 field from the MAC header for PVO MPDUs and the MAC address identified by the A2 field in the MAC header for PVI MPDUs (see 9.8.3.2).

#### 12.5.2.3.7 CCMP originator processing

*Change the fifth paragraph as follows:*

The PN values sequentially number each MPDU. Each transmitter STA that is not affiliated with an MLD shall maintain a single PN (48-bit counter) for each PTKSA and GTKSA. Each transmitter STA that is affiliated with an MLD shall use the PN (48-bit counter) that is maintained by the MLD for the PTKSA, or by the STA for GTKSA. The PN shall be implemented as a 48-bit strictly increasing integer, initialized to 0 when the corresponding temporal key is initialized or refreshed (by rekeying).

#### 12.5.2.4 CCMP decapsulation

##### 12.5.2.4.1 General

*Change item a) 1) in the first paragraph and replace Figure 12-22 as follows:*

Figure 12-22 depicts the CCMP decapsulation process and is described as follows:

![Figure 12-22—CCMP decapsulation block diagram. The diagram shows the process of CCMP decapsulation. An Encrypted MPDU is input. The MAC header is extracted. The MAC header, along with MIC, A2, Priority, PN, Data, MLD MAC Address, Key, and Replay counter, are used to construct AAD and nonce. These are input to CCM decryption. The output of CCM decryption is Data, which is processed by a Replay check block. The output of the Replay check block is Plaintext MPDU.](ca22280fa9cb75039529f16fe15569c2_img.jpg)

Figure 12-22—CCMP decapsulation block diagram. The diagram shows the process of CCMP decapsulation. An Encrypted MPDU is input. The MAC header is extracted. The MAC header, along with MIC, A2, Priority, PN, Data, MLD MAC Address, Key, and Replay counter, are used to construct AAD and nonce. These are input to CCM decryption. The output of CCM decryption is Data, which is processed by a Replay check block. The output of the Replay check block is Plaintext MPDU.

Figure 12-22—CCMP decapsulation block diagram

a) For secure PV0 MPDUs, CCMP decrypts the Frame Body field of a cipher text MPDU and decapsulates a plaintext MPDU using the following steps:

1. The encrypted MPDU is parsed to construct the AAD (see 12.5.2.3.3) and nonce (see 12.5.2.3.4) values. In addition, the MPDU is an individually addressed Data frame transmitted by a STA affiliated with an MLD, then the transmitter and receiver MLD MAC addresses are passed to construct the AAD (see 12.5.2.3.3) and nonce (see 12.5.2.3.4) values.

#### 12.5.2.4.4 PN and replay detection

*Change item f) of the third paragraph and insert a new item (not all shown) as follows:*

See 12.5.2.2 for a description of how the PN is encoded in the CCMP header. The following processing rules are used to detect replay:

...

f) The receiver shall discard any Data frame that is received with its PN less than or equal to the value of the replay counter that is associated with the TA, RA (individual or group address; not if TDLS) and priority value of the received MPDU. If the MPDU is an individually addressed Data frame transmitted between an AP MLD and a non-AP MLD associated with the AP MLD through an affiliated STA, the receiver shall discard any Data frame that is received with a PN less than or equal to the value of the replay counter that is associated with the transmitter MLD MAC address, receiver MLD MAC address (individual or group address), and priority value of the received MPDU. The receiver shall discard fragmented MSDUs, A-MSDUs and MMPDUs whose constituent MPDU PN values are not incrementing in steps of 1. If management frame protection is negotiated, the receiver shall set the MFPC bit on a given link to 1, it shall discard any individually addressed robust Management frame that is received with its PN less than or equal to the value of the replay counter associated with the TA, (QMF receiver of an individually addressed robust PV0 Management frame with the To DS subfield equal to 1 only) AC1, and (S1G STA only) Protocol Version subfield of that individually addressed Management frame. For MLO, if MFP is negotiated for a given link, the MLD shall discard any individually addressed robust Management frame that is received with its PN less than or equal to the value of the replay counter associated with the transmitter MLD MAC address, and (QMF receiver of an individually addressed robust PV0 Management frame with the To DS subfield equal to 1 only) AC1.

...

ii) For individually addressed MPDUs received by an affiliated STA from a transmitting MLD, the receiving MLD shall maintain a single set of replay counters for the PTKSA for all affiliated STAs.

## 12.5.4 GCM protocol (GCMP)

### 12.5.4.1 GCMP overview

*Change the first paragraph as follows:*

Subclause 12.5.4 specifies the GCMP, which provides data confidentiality, authentication, integrity, and replay protection. A DMG STA shall support GCMP-128. An EHT RSNA STA shall support GCMP-256.

### 12.5.4.3 GCMP cryptographic encapsulation

#### 12.5.4.3.1 General

*Replace Figure 12-29 as follows:*

![Figure 12-29—GCMP encapsulation block diagram. The diagram shows the process of GCM encryption. Inputs include Plaintext MPDU, MLD MAC Address, TK, PN, and Key ID. The MLD MAC Address, TK, and PN are used to construct the GCMP header. The Plaintext MPDU, MLD MAC Address, and GCMP header are used to construct the AAD (Additional Authentication Data). The Plaintext MPDU, AAD, and GCMP header are used to construct the nonce. The Plaintext MPDU, AAD, and nonce are input to the GCM encryption block, which outputs the Encrypted MPDU. The GCM encryption block also outputs the MAC header.](fd6e9ea3e7b75515c01854a0c4c244a5_img.jpg)

Figure 12-29—GCMP encapsulation block diagram. The diagram shows the process of GCM encryption. Inputs include Plaintext MPDU, MLD MAC Address, TK, PN, and Key ID. The MLD MAC Address, TK, and PN are used to construct the GCMP header. The Plaintext MPDU, MLD MAC Address, and GCMP header are used to construct the AAD (Additional Authentication Data). The Plaintext MPDU, AAD, and GCMP header are used to construct the nonce. The Plaintext MPDU, AAD, and nonce are input to the GCM encryption block, which outputs the Encrypted MPDU. The GCM encryption block also outputs the MAC header.

Figure 12-29—GCMP encapsulation block diagram

*Change the second paragraph as follows:*

GCMP encrypts the Frame Body field of a plaintext MPDU and encapsulates the resulting cipher text using the following steps:

1. Increment the PN, to obtain a fresh nonzero PN for each MPDU, so that the PN never repeats for the same temporal key.

**NOTE 1**—Retransmitted MPDUs are not modified on retransmission—The frame body of the retransmitted MPDU is not modified on retransmission. For MLO, MPDUs are encapsulated with the same PN when retransmitted on another link.

1. Use the fields in the MPDU header to construct the additional authentication data (AAD) for GCM. The GCM algorithm provides integrity protection for the fields included in the AAD. MPDU header fields that might change when retransmitted are muted by being masked out or being set to a known value when calculating the AAD, as described in 12.5.4.3.3.

1. Construct the GCM nonce as defined in 12.5.4.3.4.

**NOTE 2**—For MLO, AAD and GCM Nonce construction for Management frames uses the MPDU header fields to be transmitted over the affiliated STA link.

1. Construct the GCMP header as defined in 12.5.4.3.5.
2. Use the temporal key, AAD, nonce, and MPDU data to form the cipher text and the MIC. This step is known as GCM originator processing.

f) Form the encrypted MPDU by combining the original MPDU header, the GCMP header, the encrypted data and the MIC, as described in 12.5.4.2.

#### 12.5.4.3.2 PN processing

*Insert the following paragraph after the first paragraph ("The PN is incremented by..."):*

If the individually addressed MPDU is to be transmitted by an MLD to a receiving MLD through an affiliated STA, a single PN space for the PTKSA shall be maintained for transmissions through all affiliated STAs.

#### 12.5.4.3.4 Construct GCM nonce

*Change the second paragraph as follows:*

If the MPDU is an individually addressed Data frame between an AP MLD and a non-AP MLD associated with the AP MLD, then the A2 subfield shall contain the MLD MAC address of the transmitting MLD. Otherwise, the A2 subfield shall contain the Address 2 field from the MAC header.

#### 12.5.4.3.6 GCM originator processing

*Change the sixth paragraph as follows:*

The PN values sequentially number each MPDU. Each transmitter STA that is not affiliated with an MLD shall maintain a single PN (48-bit counter) for each PTKSA and GTKSA. Each transmitter STA that is affiliated with an MLD shall use the PN (48-bit counter) that is maintained by the MLD for the PTKSA, or by the STA for GTKSA. The PN shall be implemented as a 48-bit strictly increasing integer, initialized to 0 when the corresponding temporal key is initialized or refreshed (by rekeying).

#### 12.5.4.4 GCMP decapsulation

##### 12.5.4.4.1 General

*Replace Figure 12-31 as follows:*

![](6f6d206cb7bc4803eaa4ca07a1f7fa87_img.jpg)

Figure 12-31 is a block diagram illustrating the GCMP decapsulation process. The input is an Encrypted MPDU, which is split into the MAC header and the Encrypted Data portion. The MAC header contains the MIC, A2, PN, and Data fields. The Encrypted Data portion contains the Data field.

The MAC header fields (MIC, A2, PN, Data) are inputs to two parallel processing blocks: Construct AAD and Construct nonce. The Construct AAD block outputs the AAD (Additional Authentication Data) to the GCM decryption block. The Construct nonce block outputs the GCM nonce to the GCM decryption block.

The GCM decryption block takes the AAD, GCM nonce, and the Data field as inputs. It performs GCM decryption and outputs the Data field. This Data field is then used for the Replay check block. The Replay check block also receives the Replay counter as input. The output of the Replay check block is the Plaintext MPDU.

Figure 12-31—GCMP decapsulation block diagram

***Change item a) of the second paragraph as follows:***

GCMP decrypts the Frame Body field of a cipher text MPDU and decapsulates a plaintext MPDU using the following steps:

a) The encrypted MPDU is parsed to construct the AAD (see 12.5.4.3.3) and nonce (see 12.5.4.3.4) values. If the MPDU is an individually addressed Data frame transmitted between an AP MLD and a non-AP MLD associated with the AP MLD over a link between an affiliated AP and affiliated STA, then the transmitter and receiver MLD MAC addresses are passed to construct the AAD (see 12.5.4.3.3) and nonce (see 12.5.4.3.4) values.

**12.5.4.4.4 PN and replay detection**

***Change item f) of the first paragraph (not all shown) and create a new item as follows:***

To effect replay detection, the receiver extracts the PN from the GCMP header. See 12.5.4.2 for a description of how the PN is encoded in the GCMP header. The following processing rules are used to detect replay:

...

f) The receiver shall discard any Data frame that is received with its PN less than or equal to the value of the replay counter that is associated with the TA, RA (individual or group address; not if TDLS) and priority value of the received MPDU. If the MPDU is an individually addressed Data frame transmitted between an AP MLD and a non-AP MLD associated with the AP MLD through an affiliated STA, the receiver shall discard any Data frame that is received with a PN less than or equal to the value of the replay counter that is associated with the transmitter MLD MAC address, receiver MLD MAC address (individual or group address), and priority value of the received MPDU. The receiver shall discard fragmented MSDUs, A-MSDUs and MMPDUs whose constituent MPDU PN values are not incrementing in steps of 1. If management frame protection is negotiated, the receiver shall set the MFPC bit on a given link to 1, it shall discard any individually addressed robust Management frame that is received with its PN less than or equal to the value of the replay counter associated with the TA and (QMF receiver of an individually addressed robust Management frame with the To DS subfield equal to 1 only) ACI of that individually addressed Management frame. For MLO, if MFP is negotiated for a given link, the MLD shall discard any individually addressed robust Management frame that is received with its PN less than or equal to the value of the replay counter associated with the transmitter MLD MAC address, and (QMF receiver of an individually addressed robust PV0 Management frame with the To DS subfield equal to 1 only) ACI.

...

h1) For individually addressed MPDUs received through any STA affiliated with the receiving MLD from a transmitting MLD, the receiving MLD shall maintain a single set of replay counters for the PTKSA.

**12.6 RSNA security association management**

**12.6.1 Security associations**

**12.6.1.1 Security association definitions**

**12.6.1.1.2 PMKSA**

***Change the third paragraph as follows:***

A PMKSA association is bidirectional. In other words, both parties use the information in the security association for both sending and receiving. The PMKSA is used to create the PTKSA. PMKSAs have a certain lifetime. For a non-AP MLD that is associated with an AP MLD, the PMKSA association is between the AP MLD and the non-AP MLD. The PMKSA consists of the following:

- PMKID, as defined in 12.7.1.3 or 12.7.1.6.3. The PMKID identifies the security association.
- Authenticator's or peer's MAC address. For multi-band RSNA, the MAC address is associated with the operating band in use when the PMKSA is established. For MLO, the Authenticator's MAC address is the MLD MAC address of the AP MLD.
- PMK; or if the PMKSA was established with an AKMP for which the Authentication type column includes FT authentication (see Table 9-190), MPMK (see 12.7.1.6.3).
- Lifetime, as defined in 12.7.1.3 or 12.7.1.6.
- AKMP.
- All authorization parameters specified by the AS or local configuration. This might include parameters such as the STA's authorized SSID.
- Cache Identifier, if advertised by the AP in FILS Indication element.

#### 12.6.1.1.6 PTKSA

*Change the first paragraph as follows:*

The PTKSA results from a successful 4-way handshake, FT 4-way handshake, FT protocol, FT resource request protocol, FILS authentication, or PASN authentication. This security association is also bidirectional. PTKSAs, except those established using PASN authentication, have the same lifetime as the PMKSA or PMK-R1 security Association, whichever comes first. PTKSAs for PASN authentication have a minimum of the lifetime of the PMKSA used and the timeout negotiated, if any, during PASN authentication. Because the PTKSA is tied to the PMKSA or to a PMK-R1 security association, it only has the additional information from the 4-way handshake, or FT Protocol authentication, FILS authentication, or PASN authentication. There shall be only one PTKSA per key ID per band (see 12.6.20) or per MLD setup (see 35.3.5) with the same Supplicant and Authenticator MAC addresses.

*Change the penultimate paragraph as follows:*

The PTKSA consists of the following:

- PTK, where the PTK includes the KDK when WUR frame protection is negotiated
- Pairwise cipher suite selector, and when WUR frame protection is negotiated, the cipher suite selector 00-0F-AC:6 (BIP-CMAC-128) for individually addressed WUR Wake-up frames
- Supplicant MAC address, depending on the negotiated AKMP. For MLO, the Supplicant's MAC address is the MLD MAC address of the non-AP MLD.
- Authenticator MAC address, depending on the negotiated AKMP. For MLO, the Authenticator's MAC address is the MLD MAC address of the AP MLD.
- Key ID
- If FT key hierarchy is used,
  - R1KH-ID
  - S1KH-ID
  - PTKName
- If WUR frame protection is negotiated
  - WTK

#### 12.6.1.1.8 GTKSA

*Change the first paragraph as follows:*

The GTKSA results from a successful 4-way handshake, FT 4-way handshake, FT protocol, FT resource request protocol, group key handshake, or FILS authentication, and is unidirectional. In an infrastructure BSS, there is one GTKSA, used exclusively for encrypting group addressed MPDUs that are transmitted by the AP and for decrypting group addressed transmissions that are received by the STAs. Between an AP MLD and a non-AP MLD that have completed a successful ML (re)setup, for each setup link there is one GTKSA used exclusively for encrypting group addressed MPDUs that are transmitted by the affiliated AP operating on the link and for decrypting group addressed transmissions that are received by the affiliated non-AP STA operating on the link. In an IBSS or in a PBSS, each STA defines its own GTKSA, which is used to encrypt its group addressed transmissions, and stores a separate GTKSA for each peer STA so that encrypted group addressed traffic received from other STAs may be decrypted. An AP affiliated with an AP MLD uses the same GTKSA to encrypt group addressed MPDUs for STAs affiliated with an associated non-AP MLD and for associated non-AP STAs. A GTKSA is created by the Supplicant's SME when message 3 of the 4-way handshake is received, when message 1 of the group key handshake is received, when the Reassociation Response frame of the FT handshake is received, or when the FILS authentication with a status code indicating success is received. The GTKSA is created by the Authenticator's SME when the SME changes the GTK and has sent the GTK to all STAs with which it has a PTKSA. It has the same lifetime as the BSS, unless superseded. An AP MLD's SME creates an GTKSA for each of its links when it establishes or changes the GTK with all non-AP STAs that operate on the link and are affiliated with the non-AP MLDs to which it has a valid PTKSA. A GTKSA consists of the following:

- Direction vector (whether the GTK is used for transmit or receive).
- Group data cipher suite selector.
- GTK.
- Authenticator MAC address
- If dot11MultiLinkActivated is true, the MAC address of the AP operating on the link corresponding to the GTKSA.
- All authorization parameters specified by local configuration. This might include parameters such as the STA's authorized SSID.

#### 12.6.1.1.9 IGTKSA

*Change as follows:*

When management frame protection is negotiated, a non-AP STA's SME creates an IGTKSA when it receives a valid message 3 of the 4-way handshake or FT 4-way handshake, the Reassociation Response frame of the fast BSS transition protocol with a status code indicating success, a Mesh Peering Open Message of the Authenticated Mesh Peering Exchange (AMPE) protocol, a valid message 1 of the group key handshake, or the (Re)Association Response frame of FILS authentication with a status code indicating success. When management frame protection is enabled, a non-AP MLD's SME creates an IGTKSA for each of the setup links when it receives a valid message 3 of the 4-way handshake or FT 4-way handshake, or the Reassociation Response frame of the fast BSS transition protocol with a status code indicating success, or a valid message 1 of the group key handshake. The Authenticator's SME creates an IGTKSA when it establishes or changes the IGTK with all STAs to which it has a valid PTKSA or mesh PTKSA. An AP MLD's SME creates an IGTKSA for each of its links when it establishes or changes the IGTK with all non-AP STAs affiliated with the non-AP MLD associated to the AP MLD, and with all non-AP STAs that are associated with the AP operating on that link. An IGTKSA has the same lifetime as the BSS, unless superseded.

An IGTKSA consists of the following:

- Direction vector (whether the IGTK is used for transmit or receive)
- Key ID
- IGTK
- Authenticator MAC address
- For MLO, the MAC address of the AP operating on the link corresponding to the IGTKSA.

#### 12.6.1.1.11 BIGTKSA

*Change as follows:*

An Authenticator's SME creates a BIGTKSA when dot11BeaconProtectionEnabled is true. An AP MLD's SME creates a BIGTKSA for each of its links when dot11BeaconProtectionEnabled is true. A BIGTKSA has the same lifetime as the BSS, unless superseded.

A Supplicant's SME creates a BIGTKSA when dot11BeaconProtectionEnabled is true, upon receiving a BIGTK from its Authenticator. A non-AP MLD's SME creates a BIGTKSA for each of its setup link when dot11BeaconProtectionEnabled is true, upon receiving a BIGTK for the link from its Authenticator.

A BIGTKSA consists of the following:

- Direction vector (whether the BIGTK is used for transmit or receive)
- Key ID
- BIGTK
- Authenticator MAC address
- For MLO, the MAC address of the AP operating on the link corresponding to the BIGTKSA.

#### 12.6.2 RSNA selection

*Insert the following paragraphs after the third paragraph ("A STA shall advertise the same RSNE..."):*

Via the MLD synchronization service:

- All APs affiliated with an AP MLD shall advertise the same RSNE, and RSNXE if included, with the exception of the AKM Suite List field and the MFPR subfield of the RSN Capabilities field.
- All APs affiliated with an AP MLD shall advertise at least one common AKM suite selector in the AKM Suite List field.

RSNA policy selection for a non-AP MLD is described in 12.6.3.1.

#### 12.6.3 RSNA policy selection in an infrastructure BSS

*Insert a new subclause title (General) before the beginning of the first paragraph ("The requirements in this subclause..."):*

##### 12.6.3.1 General

*Change the fifth paragraph, include splitting it into three paragraphs, as follows:*

An SME initiating an association shall insert an RSNE into its (Re)Association Request frame via the MLME-ASSOCIATE.request or MLME-REASSOCIATE.request primitive, when the targeted AP indicates RSNA support. The initiating STA's RSNE shall include one authentication and pairwise cipher suite from among

those advertised by the targeted AP in its Beacon and Probe Response frames. It shall also specify the group data cipher suite and group management cipher suite (if present) specified by the targeted AP.

For MLO, the initiating non-AP MLD shall include only one RSNE, and RSNNE if present, in the (Re)Association Request frame. The RSNE shall include one AKM suite selector, one pairwise cipher suite selector, and one group cipher suite selector that are common among those advertised by the APs affiliated with the targeted AP MLD. A non-AP MLD determines the appropriate AKM suite selector and pairwise cipher suite selector during MLO discovery by passively or actively scanning for APs affiliated with the AP MLD or by an exchange of Multi-Link Probe Request and Multi-Link Probe Response frames with one or more APs affiliated with the AP MLD. If at least one RSNE field from the AP's RSNE fails to overlap with any value the STA supports, the STA shall decline to associate with that AP. An HT STA shall eliminate TKIP as a choice for the pairwise cipher suite if CCMP-128 or CCMP-256 is advertised by the AP or if the AP included an HT Capabilities element in its Beacon and Probe Response frames. The elimination of TKIP as a choice for the pairwise cipher suite may result in a lack of overlap of the remaining pairwise cipher suite choices, in which case the STA shall decline to create an RSNA with that AP.

**NOTE 1—MFP is mandatory for EHT STAs that use RSNA.**

***Insert two NOTES after the now-shifted eighth paragraph ("If an AP receives a (Re)Association Request frame...") as follows:***

**NOTE 2—**APs affiliated with AP MLD indicate the same pairwise cipher suite list. Hence, any pairwise cipher suite selected from an AP affiliated with the AP MLD will be common among those advertised by the APs affiliated with the targeted AP MLD.

**NOTE 3—**For MLO, (Re)Association Request and Response frames are transmitted between an affiliated STA and affiliated AP, however the association takes place between the non-AP MLD and the AP MLD.

***Insert a new subclause after the end of 12.6.3.1 as follows:***

#### 12.6.3.2 RSNA policy selection for MLO

If an AP MLD Authenticator receives a (Re)Association Request frame that includes an RSNE and if it chooses to accept the association as a secure association, then it shall

- Use the AKM suite and pairwise cipher suite in the (Re)Association Request frame to establish an RSNA with a non-AP MLD.
- Compare the values of the MFPC and MFPR bits in the in the (Re)Association Request frame with the MFPC and MFPR bits in the advertised by each affiliated AP for each requested link, and use Table 12-5 to determine the links that can be accepted.

The AP MLD manages the PTKSA while the affiliated APs manage the GTKSA.

### 12.6.8 RSNA establishment in an infrastructure BSS

#### 12.6.8.2 Preauthentication and RSNA key management

***Insert the following paragraph after the tenth paragraph ("An AP's Authenticator that receives..."):***

For MLO, the non-AP MLD may initiate preauthentication by sending an EAPOL-Start frame with the DA being the address of the AP MLD. The AP MLD Authenticator receives EAPOL-Start frames via the DS and initiates IEEE 802.1X authentication with the non-AP MLD via the DS. The DS forwards the messages between the non-AP MLD and AP MLD.

### 12.6.12 RSNA key management in an infrastructure BSS

*Insert the following paragraph at the end of the subclause:*

For MLO, the AP MLD Authenticator and non-AP MLD Supplicant manage the PMK and pairwise key derivation. Both the 4-way handshake and group key handshake take place between the AP MLD Authenticator and the non-AP MLD Supplicant. The affiliated APs manage the group keys for their respective links. When group key update is triggered, the affiliated AP distributes the group key to non-AP STAs affiliated with a non-AP MLD through a group key handshake between the AP MLD and the non-AP MLD.

### 12.6.19 RSNA rekeying

*Change the first paragraph as follows:*

When a PTKSA is deleted, a non-AP and non-PCP STA may reassociate with the same AP or PCP and/or establish a new PTKSA with the AP or PCP. When a PTKSA is deleted, a non-AP MLD may reassociate with the same AP MLD and/or establish a new RSNA with the AP MLD. If the non-AP and non-PCP STA has cached one or more PMKSAs, it may skip the PMKSA establishment and proceed with the creation of a new PTKSA by using 4-way handshake, FT 4-way handshake, or FILS authentication using the procedures defined in 12.6.8.3. When a GTKSA is deleted, a non-AP and non-PCP STA may create a new GTKSA via a 4-way handshake or group key handshake.

*Insert the following paragraph after the fourth paragraph of the subclause ("The IEEE 802.11 MAC shall issue an..."):*

For MLO, the AP MLD's Authenticator manages packet number assignment for the PTKSA with a non-AP MLD. For a given link, the affiliated AP's Authenticator manages packet number assignment for the IGTKSA, GTKSA, or BIGTKSA. If an IGTKSA, GTKSA, or BIGTKSA update is triggered, the affiliated AP updates group keys for the given link through a group key handshake between the AP MLD and non-AP MLD.

*Change the now-shifted sixth paragraph as follows:*

A PTKSA has a limited lifetime, either in absolute time or due to exhausting the PN space. To maintain an uninterrupted security association, a STA or MLD should establish a new PTKSA prior to the expiration of the old PTKSA.

## 12.7 Keys and key distribution

### 12.7.1 Key hierarchy

#### 12.7.1.1 General

*Change the third paragraph as follows:*

In an infrastructure BSS, the IEEE 802.1X Authenticator MAC address (AA) and the AP's MAC address are the same, and the Supplicant's MAC address (SPA) and the STA's MAC address are equal. Between an AP MLD and a non-AP MLD, the IEEE 802.1X Authenticator MAC address (AA) shall be set to the MLD MAC address of the AP MLD, and the Supplicant's MAC address (SPA) shall be set to the MLD MAC address of the non-AP MLD. For the purposes of comparison in this standard, the MAC address is encoded as 6 octets, taken to represent an unsigned integer. The first octet of the MAC address shall be used as the most significant

octet. The bit numbering conventions in 9.2.2 shall be used within each octet. This results in a sequence of 48 bits represented such that bit 0 is the first transmitted bit (Individual/Group bit) and bit 47 is the last transmitted bit.

***Insert the following paragraph at the end of the subclause:***

An MLD shall support one pairwise key for any <transmitter\_MLD MAC address, receiver\_MLD MAC address> pair for use with enhanced data cryptographic encapsulation mechanisms. The <transmitter\_MLD MAC address, receiver\_MLD MAC address> pair identifies the pairwise key.

**12.7.1.4 Group key hierarchy**

***Change the last paragraph by adding a NOTE after item b) as follows (not all contents shown):***

In this example, the following apply:

1. Group nonce (GNonce) is a random or pseudorandom value contributed by the IEEE 802.1X Authenticator.
2. The GTK is derived from the GMK by GTK = PRF-TK\_bits(GMK, "Group key expansion", AA || GNonce)

**NOTE**—For MLO, AA is replaced with the MAC address of the AP operating on the link.

**12.7.1.6 FT key hierarchy**

**12.7.1.6.5 PTK**

***Change the definition of two variables of the second paragraph (not all lines and items shown) as follows:***

Using the KDF defined in 12.7.1.6.2), the PTK derivation is as follows:

...

where

...

STA-ADDRis the MLD MAC address of the non-AP MLD when the SIKH is a non-AP MLD and the RIKH is an AP MLD; otherwise, is the non-AP STA's MAC address  
BSSIDis the MLD MAC address of the target FTR when the SIKH is a non-AP MLD and the RIKH is an AP MLD; otherwise, is the BSSID of the target AP's BSS

**12.7.2 EAPOL-Key frames**

***Insert the following NOTE as the fourth paragraph after the third paragraph ("The bit and octet convention..."):***

NOTE 1—For MLO, the SA and DA of an MSDU carrying EAPOL-Key PDUs is set to the applicable MLD MAC address. See 12.2.4.

***Change item g) of the now-shifted ninth paragraph (not all items shown) as follows:***

The fields of an EAPOL-Key PDU are as follows:

...

g) **RSC.** This field contains the current receive sequence counter (RSC) for the GTK being installed. It is used in message 3 of the 4-way handshake and message 1 of the group key handshake, where it is used to synchronize the IEEE 802.11 replay state. It may also be used in the Michael MIC Failure Report frame, to report the TSC field value of the frame experiencing a MIC failure. It shall contain 0 in other messages. If the RSC is less than 8 octets in length, it is stored in the first octets and the remaining octets are set to 0. The least significant octet of the RSC is in the first octet of the RSC field. The RSC for TKIP is the TKIP sequence number (TSC); for CCMP and GCMP it is the packet number (PN); see Table 12-9.

For MLO, the RSC field is set to 0 in all messages.

NOTE 11—For MLO, a GTK is installed for each STA affiliated with an MLD. The GTK and the RSC for an affiliated STA are included in the corresponding MLO GTK KDE.

*Insert the following new rows to Table 12-10 while maintaining the numerical order and updating the reserved range:*

Table 12-10—KDE selectors

| OUI      | Data type | Meaning       |
|----------|-----------|---------------|
| ...      | ...       | ...           |
| 00-0F-AC | 16        | MLO GTK KDE   |
| 00-0F-AC | 17        | MLO IGTK KDE  |
| 00-0F-AC | 18        | MLO BIGTK KDE |
| 00-0F-AC | 19        | MLO Link KDE  |
| ...      | ...       | ...           |

*Change the now-shifted 29th paragraph as follows (not all items are shown):*

The following EAPOL-Key PDUs are used to implement the handshakes:

- **4-way handshake message 1** EAPOL-Key PDU with the Key Type subfield equal to 1. The fields and their values in the EAPOL-Key PDU are described in 12.7.2. Use of the Key Data field to indicate a PMKID when a cached PMKSA is being used in this key derivation is defined in 12.6.8.3.
- **4-way handshake message 2** EAPOL-Key PDU with the Key Type subfield equal to 1.

An ESS Supplicant's SME shall insert the RSNE it sent in its (Re)Association Request frame, and shall insert the RSNXE it sent in its (Re)Association Request frame if the RSNXE is present in the (Re)Association Request frame it sent. The RSNE and the RSNXE are included as transmitted in the Management frame. For MLO when more than one link is requested by the non-AP MLD in the (Re)Association Request frame, and the message 2 is used for the initial 4-way handshake, it shall include an MLO Link KDE containing the Link ID field and affiliated STA MAC address corresponding to each link included in the Basic Multi-Link element. For MLO, if the message 2 is used for the rekeying, it shall include an MLO Link KDE containing the LinkID field and affiliated STA MAC address corresponding to each setup link. On receipt of message 2, the Authenticator's SME shall validate the selected security configuration against the RSNE received in the (Re)Association Request frame, and shall validate the RSNXE included in message 2 against the RSNXE received in the (Re)Association Request frame from the Supplicant.

An IBSS Supplicant's SME shall insert an RSNE containing a selected pairwise cipher suite. The Authenticator's SME shall validate that the pairwise cipher suite selected is one of its configured cipher suites and that the group data cipher suite, group management cipher suite (if management frame protection is enabled), and AKM are consistent.

— **4-way handshake message 3** EAPOL-Key PDU with the Key Type subfield equal to 1.

An Authenticator's SME shall insert the RSNE it sent in its Beacon or Probe Response frame, and shall insert the RSNNE it sent in its Beacon or Probe Response frame if the RSNNE is present in the Beacon or Probe Response frame it sent. When this message 3 is part of a fast BSS transition initial mobility domain association or an association started through the FT protocol, the PMKR1Name is added in the PMKID List field of the RSNE. For MLO, for each affiliated AP, the Authenticator's SME shall insert an MLO Link KDE that includes the LinkID field, affiliated AP MAC address, RSNE, and RSNNE (if it was present). The Supplicant's SME shall validate the selected security configuration against the RSNE received in message 3, and shall validate the RSNNE included in message 3 against the RSNNE received in the Beacon or Probe Response frame from the Authenticator. For MLO, the Supplicant's SME shall validate the security configuration for each LinkID field, affiliated AP MAC address, RSNE, and RSNNE (if present) for each affiliated AP included in message 3 against the affiliated AP MAC address, RSNE, and RSNNE (if present) received for each affiliated AP. If the second optional RSNE is present, the STA shall either use that cipher suite with its pairwise key or deauthenticate. In any of these cases, if the values do not match, then the receiver shall consider the RSNE or the RSNNE modified and shall use the MLME-DEAUTHENTICATE.request primitive to break the association. A security error should be logged at this time.

**NOTE 13**—A non-AP MLD obtains the Link ID, AP MAC address, RSNE, and RSNNE (if present) for an AP affiliated with the AP MLD when it receives a Beacon or Probe Response frame from that AP or when it receives a multi-link probe response transmitted by another AP affiliated with the same AP MLD carrying a Basic Multi-Link element containing a complete profile of that AP (see 35.3.4).

It may happen, for example, that a Supplicant selects a pairwise cipher suite which is advertised by an AP, but which policy disallows for this particular STA. An Authenticator may, therefore, insert a second RSNE to overrule the STA's selection. The Pairwise Cipher Suite Count field in the second RSNE included shall be set to 1 and the Pairwise Cipher Suite List field shall contain one of the ciphers advertised by the Authenticator. All other fields in the second RSNE, disregarding the Length field, shall be identical to those in the first RSNE.

— **4-way handshake message 4** EAPOL-Key PDU with the Key Type subfield equal to 1.  
— **Group key handshake message 1** EAPOL-Key PDU with the Key Type subfield equal to 0.  
— **Group key handshake message 2** EAPOL-Key PDU with the Key Type subfield equal to 0.

*Insert the following figures and paragraphs at the end of the subclause:*

The format of the MLO GTK KDE is shown in Figure 12-50d.

![](9c7bd1e79e49177071f75d4305413a0e_img.jpg)

| Key ID | Tx | Reserved | LinkID | PN | GTK      |
|--------|----|----------|--------|----|----------|
| 2      | 1  | 1        | 4      | 48 | variable |

Figure 12-50d—MLO GTK KDE format

The definitions of Key ID, Tx, and GTK fields are the same as in the GTK KDE described above.

The LinkID field contains the link identifier that corresponds to the link this GTK applies.

The PN field contains the packet number and is formatted as described in Table 12-9.

The format of the MLO IGTK KDE is shown in Figure 12-50e.

![](6049d343fcf1dfed9aafaad687369caa_img.jpg)

|       | Key ID | IPN | Reserved | LinkID | IGTK              |
|-------|--------|-----|----------|--------|-------------------|
| Bits: | 16     | 48  | 4        | 4      | (Length – 13) × 8 |

Figure 12-50e—MLO IGTK KDE format

The definitions of Key ID, IPN, and IGTK fields are the same as in the IGTK KDE described above.

The LinkID field contains the link identifier that corresponds to the link this IGTK applies.

The format of the MLO BIGTK KDE is shown in Figure 12-50f.

![](d401e14e7d3126f9f8b8ee74fe481736_img.jpg)

|       | Key ID | BIPN | Reserved | LinkID | BIGTK             |
|-------|--------|------|----------|--------|-------------------|
| Bits: | 16     | 48   | 4        | 4      | (Length – 13) × 8 |

Figure 12-50f—MLO BIGTK KDE

The BIPN corresponds to the BIPN value that was carried in the MME of the last protected Beacon frame corresponding to the LinkID field and it is used by the receiver as the initial value for the BIP replay counter for the BIGTK.

The LinkID field contains the link identifier that corresponds to the link this BIGTK applies.

The format of the MLO Link KDE is shown in Figure 12-50g.

![](3069dd0c72c0b28af1faf8569b087e18_img.jpg)

|         | Link Information | MAC Address | RSNE     | RSNXE    |
|---------|------------------|-------------|----------|----------|
| Octets: | 1                | 6           | variable | variable |

Figure 12-50g—MLO Link KDE

The Link Information field, which contains information identifying the presence of fields in the MLO Link KDE, is shown in Figure 12-50h.

![](2274d7dbaf1dc8037dd74a1ad54c8674_img.jpg)

|       | LinkID | RSNEInfo | RSNXEInfo | Reserved |
|-------|--------|----------|-----------|----------|
| Bits: | 4      | 1        | 1         | 2        |

Figure 12-50h—Link Information field

The LinkID field contains the link identifier for the affiliated STA link.

The RSNEInfo field indicates that the RSNE is present in the MLO Link KDE when its value is equal to 1, otherwise, the RSNE is not present.

The RSNXEInfo field indicates that the RSNXE is present in the MLO Link KDE when its value is set to 1.

The MAC Address field contains the MAC address of the affiliated STA for the link specified in the Link Information field.

The RSNE field contains the RSNE of the affiliated STA for the link specified in the Link Information field. The RSNE is described in 9.4.2.23.

The RSNXE field contains the RSNE of the affiliated STA for the link specified in the Link Information field. The RSNXE is described in 9.4.2.240.

#### 12.7.4 EAPOL-Key PDU notation

##### *Change as follows:*

The following notation is used throughout the remainder of 12.7 and 13.4 to represent EAPOL-Key PDUs:

EAPOL-Key(S, M, A, I, K, Reserved, RSC, ANonce/SNonce, MIC, {Key Data})

where

| S             | is the Secure bit of the Key Information field.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|---------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| M             | means the MIC is available in message. This should be set in all messages except message 1 of a 4-way handshake. This is the Key MIC Present bit of the Key Information field. When using an AEAD cipher, this Key MIC Present bit is set to 0 regardless of the M parameter value.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| A             | means a response is required to this message. This is used when the receiver should respond to this message. This is the Key Ack bit of the Key Information field.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| I             | is the Install bit: indicates whether to install (1) or not install (0) for the pairwise key. This is the Install bit of the Key Information field.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| K             | is the key type: P (Pairwise), G (Group). This is the Key Type bit of the Key Information field                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Reserved      | reserved                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| RSC           | is the RSC. This is the RSC field                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| ANonce/SNonce | is the Authenticator or Supplicant nonce, respectively. This is the Key Nonce field.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| MIC           | is the integrity check, which is generated using the PTK-KCK. This is the Key MIC field. When using an AEAD cipher, this parameter is ignored, and no Key MIC field is included in the EAPOL-Key PDU.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| {Key Data}    | is a sequence of zero or more elements and KDEs, concatenated and contained in the Key Data field, where:<br>RSNE is the RSNE, described in 9.4.2.23<br>RSNE[KeyName] is the RSNE, with the PMKID List field set to KeyName<br>GTK[N] is the GTK KDE, with the Key ID field set to N (The key ID specifies which index is used for this GTK. Indices 0 and 3 shall not be used for GTKs)<br>MAC Address is the MAC address KDE, containing the MAC address of the MLD with which the transmitting STA is affiliated<br>FTE is the FTE, described in 9.4.2.46<br>MDE is the MDE, described in 9.4.2.45<br>TIE[IntervalType] is a TIE of type IntervalType, as described in 9.4.2.47, containing e.g., for type KeyLifetime, the lifetime of the FT key hierarchy<br>IGTK[M] is the IGTK KDE, with the Key ID field set to M<br>IPN is the last IPN, as specified by the IGTK KDE<br>BIGTK[Q] is the BIGTK KDE, with the Key ID field set to Q<br>BIPN is the last BIPN, as provided by the BIGTK KDE<br>WIGTK[R] is the WIGTK KDE, with the Key ID field set to R<br>WIPN is the last WIPN, as provided by the WIGTK KDE<br>PMKID is the PMKID KDE and is the PMK identifier used during 4-way PTK handshake for PMK identification<br>OCI is the OCI KDE<br>Device ID KDE is the Device ID KDE, described in 9.4.2.316<br>IRM KDE is the IRM KDE, described in 9.4.2.317 |

| PASN ID KDE               | is the PASN ID KDE, described in 9.4.2.320.                                                                                         |
|---------------------------|-------------------------------------------------------------------------------------------------------------------------------------|
| RSNXE                     | is the RSNXE, described in 9.4.2.240.                                                                                               |
| PMKID                     | is the PMK identifier for the PMKSA selected by the Authenticator.                                                                  |
| SSID                      | is the SSID element, described in 9.4.2.2.                                                                                          |
| [a]                       | means that a is optionally or conditionally present in {Key Data}                                                                   |
| <u>MLO GTK</u>            | is the GTK for the AP affiliated with the AP MLD for the link specified by the value in the LinkID field.                           |
| <u>MLO IGTK</u>           | is the IGTK for the AP affiliated with the AP MLD for the link specified by the value in the LinkID field.                          |
| <u>MLO BIGTK</u>          | is the BIGTK for the AP affiliated with the AP MLD for the link specified by the value in the LinkID field.                         |
| <u>MLO Link</u>           | is the MAC address, RSNE, and RSNEX, if advertised, for the STA affiliated with the MLD specified by the value in the LinkID field. |
| “ <u>a</u> <sub>n</sub> ” | means that the KDE could occur multiple times in the field for $n$ links.                                                           |

### 12.7.5 Nonce generation

*Change the third paragraph as follows:*

The local MAC address should be AA on the Authenticator and SPA on the Supplicant. When the Authenticator is an AP MLD and the Supplicant is a non-AP MLD, the AA shall be the MLD MAC address of the AP MLD and the SPA shall be the MLD MAC address of the non-AP MLD.

### 12.7.6 4-way handshake

#### 12.7.6.1 General

*Change the first paragraph as follows:*

RSNA defines a protocol using EAPOL-Key PDUs called the *4-way handshake*. The handshake completes the IEEE 802.1X authentication process. The information flow of the 4-way handshake is as follows:

Message 1: Authenticator → Supplicant: OCI(0 or 1, 0, 1, 0, P, 0, 0, ANonce, 0, {PMKID}[MAC Address])

Message 2: Supplicant → Authenticator: EAPOL-Key(0 or 1, 1, 0, 0, P, 0, 0, SNonce, MIC, {RSNE [RSNXE] [OCI][MAC Address.MLO Link<sub>n</sub>][Device ID KDE]})

Message 3: Authenticator→Supplicant: EAPOL-Key(1, 1, 1, 1, P, 0, RSC, ANonce, MIC, {RSNE [RSNXE] [OCI], [GTK[N]] [IGTK(M, IPN)] [BIGTK(Q, BIPN)] [WIGTK(R, WIPN)] [MAC Address.MLO Link<sub>m</sub>.MLO GTK<sub>m</sub>][MLO IGTK<sub>n</sub>][MLO BIGTK<sub>n</sub>][SSID][Device ID KDE][IRM KDE][PASN ID KDE])

Message 4: Supplicant → Authenticator: EAPOL-Key(1, 1, 0, 0, P, 0, 0, 0, MIC, {MAC Address [IRM KDE]}).

*Change the fourth paragraph (not all lines shown) as follows:*

The following apply:

- EAPOL-Key( ) denotes an EAPOL-Key PDU conveying the specified argument list, using the notation introduced in 12.7.4.
- ...
- RSNE represents the appropriate RSNEs. For AP MLD, the RSNE is present in the MLO Link KDE.
- ...

— RSNXE, when included in message 2, contains the RSNXE that the Supplicant sent in its (Re)Association Request frame, and when included in message 3, contains the RSNXE that the Authenticator sent in its Beacon or Probe Response frame. RSNXE is present in message 2 if this element is present in the (Re)Association Request frame that the Supplicant sent, and is present in message 3 if this element is present in the Beacon or Probe Response frame that the Authenticator sent. For AP MLD, the RSNXE is present in the MLO Link KDE.

— ...

— PMKID identifies the PMKSA selected by the Authenticator

— For MLO, each message of the 4-way handshake contains a MAC Address KDE containing the MLD MAC address of the Authenticator or Supplicant that is sending the message.

— For MLO, an MLO Link KDE is included for a STA affiliated with an MLD as follows. When more than one link is requested and included in message 2 for the initial 4-way handshake, an MLO Link KDE is included for each link and contains the LinkId field and corresponding affiliated STA MAC address received in the Basic Multi-Link element by the AP MLD in the (Re)Association Request frame. When included in message 2 for the rekeying, an MLO Link KDE is included for each setup link and contains the LinkId field and corresponding STA MAC address. When included in message 3, an MLO Link KDE is included for each affiliated AP and contains the LinkId field, corresponding affiliated AP MAC address, RSNE, and RSNXE (if present) for each affiliated AP that was sent by the Authenticator.

— “[a]” identifies that element “a” is conditionally present in {Key Data}

**NOTE**—A non-AP MLD obtains the Link ID, AP MAC address, RSNE, and RSNXE (if present) for an AP affiliated with the AP MLD when it receives a Beacon or Probe Response frame from that AP or when it receives a multi-link probe response transmitted by another AP affiliated with the same AP MLD carrying a Basic Multi-Link element containing a complete profile of that AP (see 35.3.4).

— For MLO, if RSNA has not been established, each message of the 4-way handshake shall be sent on the same link used by the latest exchange of successful (Re)Association Request/Response frames.

#### 12.7.6.2 4-way handshake message 1

*Change the first paragraph as follows:*

Message 1 uses the following values for each of the EAPOL-Key PDU fields:

Descriptor Type = N – see 12.7.2

Key Information:

Key Descriptor Version = 1 (ARC4 encryption with HMAC-MD5) or 2 (NIST AES key wrap with HMAC-SHA-1-128) or 3 (NIST AES key wrap with AES-128-CMAC), in all other cases 0

Key Type = 1 (Pairwise)

Reserved = 0

Install = 0

Key Ack = 1

Key MIC Present = 0

Secure = 0 in initial 4-way handshake, or 1 when PTK rekeying (but see 12.7.2)

Error = 0

Request = 0

Encrypted Key Data = 0

Reserved = 0 – unused by this protocol version

Key Length = Cipher suite dependent; see Table 12-8

Key Replay Counter =  $n$  – to allow Authenticator or initiator STA to match the right message 2 from Supplicant or peer STA

Key Nonce = ANonce

EAPOL-Key IV = 0

RSC = 0

Key MIC = 0; not present when using an AEAD cipher

Key Data Length = length of Key Data field in octets

Key Data =

- PMKID for the PMK being used during PTK generation
- Additionally, contains an OCI KDE when dot1RSNAOperatingChannelValidationActivated is true on the Supplicant.
- Additionally, may include a Device ID KDE subject to the conditions at 12.2.12.1.
- The RSNXE that the Supplicant sent in its (Re)Association Request frame, if this element is present in the (Re)Association Request frame that the Supplicant sent.
- For MLO, a MAC Address KDE containing the MLD MAC address of the Authenticator.

#### 12.7.6.3 4-way handshake message 2

*Change the first paragraph as follows:*

Message 2 uses the following values for each of the EAPOL-Key PDU fields:

Descriptor Type = N – see 12.7.2

Key Information:

- Key Descriptor Version = 1 (ARC4 encryption with HMAC-MD5) or 2 (NIST AES key wrap with HMAC-SHA-1-128) or 3 (NIST AES key wrap with AES-128-CMAC), in all other cases 0

Key Type = 1 (Pairwise)

Reserved = 0

Install = 0

Key Ack = 0

Key MIC Present = 0 when using an AEAD cipher or 1 otherwise

Secure = 0 in initial 4-way handshake, or 1 when PTK rekeying (but see 12.7.2)

Error = 0

Request = 0

Encrypted Key Data = 1 when using an AEAD cipher or if the Device ID KDE is included, or 0 otherwise

Reserved = 0 – unused by this protocol version

Key Length = 0

Key Replay Counter =  $n$  – same as message 1, to let the Authenticator or initiator STA know to which message 1 this corresponds

Key Nonce = SNonce

EAPOL-Key IV = 0

RSC = 0

Key MIC = MIC(PTK-KCK, EAPOL); or not present when using an AEAD cipher;

Key Data Length = length of Key Data field in octets

Key Data =

- included RSNE – the sending STA's RSNE for PTK generation or peer RSNE for the current operating band, and when this message 2 is part of a fast BSS transition initial mobility domain association or an association started through the FT protocol, the PMKR1Name calculated by the S1KH according to the procedures of 12.7.1.6.4 is included in the PMKID List field of the RSNE and the FTE and MDE are also included, or;
- The sending STA's Multi-band element for PTK generation for a supported band other than the current operating band if dot11MultibandImplemented is true; or;
- The sending STA's RSNE and Multi-band element(s) for generating a single PTK for all involved bands, if dot11MultibandImplemented is true and both the Authenticator and the Supplicant use the same MAC address in the current operating band and the other supported band(s); or;
- The sending STA's RSNE and Multi-band element(s) for generating a different PTK for each involved band, if dot11MultibandImplemented is true and the Joint Multi-band RSNA subfield of the RSN capabilities field is 1 for both the Authenticator and the Supplicant, and either the Authenticator or the Supplicant uses different MAC addresses for different bands.
- Additionally, contains an OCI KDE when dot11RSNAOperatingChannelValidationActivated is true on the Supplicant.
- Additionally, may include a Device ID KDE subject to the conditions at 12.2.13.1.
- The RSNXE that the Supplicant sent in its (Re)Association Request frame, if this element is present in the (Re)Association Request frame that the Supplicant sent.
- For MLO, a MAC Address KDE containing the MLD MAC address of the Supplicant.
- For MLO, when more than one link is requested and the message 2 is used for the initial 4-way handshake, an MLO Link KDE for each affiliated STA link containing the affiliated STA MAC address included by the non-AP MLD in the Multi-Link element in the (Re)Association Request frame. For MLO, when the message 2 is used for the rekeying, an MLO Link KDE for each affiliated STA of the setup link containing the affiliated STA MAC address.

**Change the last paragraph as follows:**

Otherwise, the Authenticator:

1. Derives PTK.
2. Verifies the message 2 MIC or AEAD decryption operation result.
   1. If the calculated MIC does not match the MIC that the Supplicant included in the EAPOL-Key PDU or the AEAD decryption operation returns failure, the Authenticator shall silently discard message 2.
   2. If the MIC or AEAD decryption is valid and this message 2 is part of a fast BSS transition initial mobility domain association or an association started through the FT protocol, the Authenticator checks that all fields of the RSNE other than the PMKID Count and PMKID List fields and, if present, the RSNXE bitwise matches the fields from the (Re)Association Request frame and that the FTE and MDE are the same as those provided in the AP's (Re)Association Response frame. If the MIC or AEAD decryption is valid and this message 2 is not part of a fast BSS transition initial mobility domain association and this message 2 is not part of an association started through the FT protocol, the Authenticator checks that the RSNE and, if present, the RSNXE bitwise matches that from the (Re)Association Request frame, and the Authenticator checks that the PMKR1Name calculated according to the procedures of 12.7.1.6.4 is included in the PMKID List field of the RSNE. For MLO, if the non-AP MLD includes

requested link(s) in the Basic Multi-Link element in the (Re)Association Request frame and the message 2 is used for the initial 4-way handshake, validates that the affiliated STA MAC addresses are the same for each link included in the Multi-Link element in the (Re)Association Request frame. For MLO, if the message 2 is used for rekeying, validates that the affiliated STA MAC addresses are the same for each setup link.

If all these conditions are met, the Authenticator constructs message 3. Otherwise, the Authenticator uses MLME-DEAUTHENTICATE.request primitive to terminate the association.

c) If management frame protection is being negotiated, the AP initializes the SA Query Transaction Identifier to an implementation specific non-negative integer value, valid for the current pairwise security association.

### 12.7.6.4 4-way handshake message 3

*Change the first paragraph as follows:*

Message 3 uses the following values for each of the EAPOL-Key PDU fields:

Descriptor Type = N – see 12.7.2

Key Information:

Key Descriptor Version = 1 (ARC4 encryption with HMAC-MD5) or 2 (NIST AES key wrap with HMAC-SHA-1-128) or 3 (NIST AES key wrap with AES-128-CMAC), in all other cases 0

Key Type = 1 (Pairwise)

Reserved = 0

Install = 1

Key Ack = 1

Key MIC Present = 0 when using an AEAD cipher or 1 otherwise

Secure = 1 (keys installed)

Error = 0

Request = 0

Encrypted Key Data = 1

Reserved = 0 – unused by this protocol version

Key Length = Cipher suite dependent; see Table 12-8

Key Replay Counter =  $n+l$  – to allow the Authenticator or initiator STA to match the right message 4 from the Supplicant or peer STA

Key Nonce = ANonce – same as message 1

EAPOL-Key IV = 0 (Version 2) or random (Version 1)

RSC = For non-MLO, startingstarting TSC or packet number that the Authenticator's STA uses in MPDUs protected by GTK, 0 for MLO.

Key MIC = MIC(PTK-KCK, EAPOL) or not present when using an AEAD cipher

Key Data Length = length of Key Data field in octets

Key Data =

— For PTK generation for the current operating band, the AP's Beacon/Probe Response frame's RSNE for the current operating band, and, optionally, a second RSNE that is the Authenticator's pairwise cipher suite assignment for the current operating band, and, if a group data cipher has been negotiated, the GTK and the GTK's key ID (see 12.7.2) for the current operating band, and if management frame protection is negotiated, the IGTK KDE, and if beacon protection is enabled, the BIGTK KDE, and if WUR frame protection is negotiated, the WIGTK KDE, and when this message 3 is part of a fast BSS transition

initial mobility domain association or an association started through the FT protocol, the PMKRIName calculated according to the procedures of 12.7.1.6.4 in the PMKID List field of the RSNE and the FTE with the same contents as in the (Re)Association Response frame, the MDE with the same contents as in the (Re)Association Response frame, the reassociation deadline timeout set to the minimum of dot11FTRReassociationDeadline and the key lifetime in the TIE[ReassociationDeadline], and the PTK lifetime in the TIE[KeyLifetime]; or

— For MLO, the MLO GTK KDE for each setup link (see 35.3.5.1). If management frame protection is negotiated, the MLO IGTK KDE for each setup link. If beacon protection is enabled, the MLO BIGTK KDE for each setup link. When this message 3 is part of a fast BSS transition initial mobility domain association or an association started through the FT protocol, the PMKRIName calculated according to the procedures of 12.7.1.6.4 in the PMKID List field of the RSNE and the FTE with the same contents as in the (Re)Association Response frame, the MDE with the same contents as in the (Re)Association Response frame, the reassociation deadline timeout set to the minimum of dot11FTRReassociationDeadline and the key lifetime in the TIE[ReassociationDeadline], and the PTK lifetime in the TIE[KeyLifetime]; or

— For PTK generation for a supported band other than the current operating band, the Authenticator's Beacon/DMG Beacon/Announce/Probe Response/Information Response frame's Multi-band element associated with the supported band, and optionally a second Multi-band element that indicates the Authenticator's pairwise cipher suite assignment for the supported band, and, if group data cipher for the supported band is negotiated, the Multi-band GTK KDE for the supported band if dot11MultibandImplemented is true; or;

— For generating a single PTK for all involved bands, the Authenticator's Beacon/DMG Beacon/Announce/Probe Response/Information Response frame's RSNE and Multi-band element(s), and optionally, additional RSNE and Multi-band element(s) that indicate the Authenticator's assignment of one pairwise cipher suite for all involved bands; if a group data cipher for all involved bands is negotiated, the GTK and the GTK's key ID for all involved bands, if dot11MultibandImplemented is true and both the Authenticator and the Supplicant use the same MAC address in the current operating band and the other supported band(s), or;

— For generating different PTKs for the current operating band and other supported band(s), the Authenticator's Beacon/DMG Beacon/Announce/Probe Response/Information Response frame's RSNE and Multi-band element(s), and optionally, additional RSNE and Multi-band elements that are the Authenticator's pairwise cipher suite assignments for one or more involved bands; if group data ciphers for the involved bands are negotiated, the Multi-band GTK KDEs for the involved bands, if dot11MultibandImplemented is true and the Joint Multi-band RSNA subfield is 1 for both the Authenticator and Supplicant, and either the Authenticator or the Supplicant uses different MAC addresses for different bands.

— Additionally, contains an OCI KDE when dot11RSNAOperatingChannelValidationActivated is true on the Authenticator.

— Additionally, may include a Device ID KDE subject to the conditions in 12.2.13.1.

— Additionally, may include a PASN ID KDE.

— Additionally, may include an IRM KDE subject to the conditions in 12.2.13.2.

— The RSNXE that the Authenticator sent in its Beacon or Probe Response frame, if this element is present in the Beacon or Probe Response frame that the Authenticator sent.

— The SSID element containing the SSID of the BSS when both the Authenticator and the Supplicant have indicated support for SSID protection in the RSNXE.

— For MLO, a MAC Address KDE containing the MLD MAC address of the Authenticator.

— For MLO, an MLO Link KDE for each affiliated AP containing the LinkID field, the affiliated AP MAC address, and the RSNE and RSNXE (if present) sent in Beacon and Probe Response frames by each affiliated AP.

**NOTE 1**—A non-AP MLD obtains the Link ID, AP MAC address, RSNE, and RSNXE (if present) for an AP affiliated with the AP MLD when it receives a Beacon or Probe Response frame from that AP or when it receives a multi-link probe response transmitted by another AP affiliated with the same AP MLD carrying a Basic Multi-Link element containing a complete profile of that AP (see 35.3.4).

**Change the last paragraph as follows:**

The Supplicant shall also:

a) Verify the RSNE and, if present, the RSNXE. If this message 3 is part of a fast BSS transition initial mobility domain association or an association started through the FT protocol, the Supplicant shall verify that the PMKR1Name in the PMKID List field of the RSNE is identical to the value it sent in message 2, that all other fields of the RSNE are identical to the fields in the RSNE present in the Beacon or Probe Response frames and that the FTE and MDE are the same as in the (Re)Association Response frame. Otherwise, the Supplicant shall verify that the RSNE is identical to that the STA received in the Beacon or Probe Response frame. If the RSNXE is present, the Supplicant shall verify that the RSNXE is identical to that the STA received in the Beacon or Probe Response frame. If any of these verification steps indicates a mismatch, the STA shall disassociate or deauthenticate. If a second RSNE is provided in the message, the Supplicant shall use the pairwise cipher suite specified in the second RSNE or deauthenticate.

a1) For MLO, verify that:

— If message 3 is part of a fast BSS transition initial mobility domain association or an association started through the FT protocol, the Supplicant shall verify that the PMKR1Name in the PMKID List field of the RSNE is identical to the value it sent in message 2, that the affiliated AP MAC address and all other fields in the RSNE, and the RSNXE (if present), for each requested link are identical to those received for the corresponding affiliated APs of the AP MLD, and that the FTE and MDE are the same as in the (Re)Association Response frame.

— Otherwise, the Supplicant shall verify that the affiliated AP MAC address and all fields in the RSNE, and the RSNXE (if present), for each requested link are identical to those received for the corresponding affiliated APs of the AP MLD.

— If message 3 is used for rekeying, the Supplicant shall verify that the affiliated AP MAC address and all fields in the RSNE, and the RSNXE (if present), for each setup link are identical to those received for the corresponding affiliated APs of the AP MLD.

— The affiliated AP MAC address and all fields in the RSNE and the RSNXE (if present), of other discovered links (if information is available), are identical to those received for the affiliated APs of the AP MLD.

**NOTE 3**—A non-AP MLD obtains the Link ID, AP MAC address, RSNE, and RSNXE (if present) for an AP affiliated with the AP MLD when it receives a Beacon or Probe Response frame from that AP or when it receives a multi-link probe response transmitted by another AP affiliated with the same AP MLD carrying a Basic Multi-Link element containing a complete profile of that AP (see 35.3.4).

If any of these verification steps indicates a mismatch, the supplicant shall disassociate or deauthenticate. If a second RSNE is provided for any link in the message, the supplicant shall disassociate or deauthenticate.

b) Verify the message 3 MIC or AEAD decryption operation result. If the calculated MIC does not match the MIC that the Authenticator included in the EAPOL-Key PDU or AEAD decryption operation returns failure, the Supplicant shall silently discard message 3.

c) Update the last-seen value of the Key Replay Counter field.

d) If the Extended Key ID for Individually Addressed Frames subfield of the RSN Capabilities field is 1 for both the Authenticator and Supplicant: Use the MLME-SETKEYS.request primitive to configure the IEEE 802.11 MAC to receive individually addressed MPDUs protected by the PTK with the assigned Key ID.

e) Construct message 4.

f) Send message 4 to the Authenticator.

g) Use the MLME-SETKEYS.request primitive to configure the IEEE 802.11 MAC to send and, if the receive key has not yet been installed, to receive individually addressed MPDUs protected by the PTK. The GTK is also configured by using the MLME-SETKEYS primitive. If WUR frame protection is negotiated, the WTK, and if applicable the WIGTK, is also configured by using the MLME-SETKEYS primitive.

#### 12.7.6.5 4-way handshake message 4

*Change the first paragraph as follows:*

Message 4 uses the following values for each of the EAPOL-Key PDU fields:

Descriptor Type = N – see 12.7.2

Key Information:

Key Descriptor Version = 1 (ARC4 encryption with HMAC-MD5) or 2 (NIST AES key wrap with HMAC-SHA-1-128) or 3 (NIST AES key wrap with AES-128-CMAC), in all other cases 0

Key Type = 1 (Pairwise)

Reserved = 0

Install = 0

Key Ack = 0

Key MIC Present = 0 when using an AEAD cipher or 1 otherwise

Secure = 1

Error = 0

Request = 0

Encrypted Key Data = 1 when using an AEAD cipher or 0 otherwise

Reserved = 0 – unused by this protocol version

Key Length = 0

Key Replay Counter =  $n+l$  – same as message 3, to let the Authenticator or initiator STA know to which message 3 this corresponds

Key Nonce = 0 (but see 12.7.2)

EAPOL-Key IV = 0

RSC = 0

Key MIC = MIC(PTK-KCK, EAPOL); or not present when using an AEAD cipher

Key Data Length = length of Key Data field in octets

Key Data = includes an IRM KDE when dot11IRMAActivated is true, otherwise, none required; RSNEs and Multi-band elements shall not be included. For MLO, a MAC Address KDE containing the MLD MAC address of the Supplicant, otherwise, there is no Key Data.

## 12.7.7 Group key handshake

### 12.7.7.1 General

*Change the first two paragraphs as follows:*

The Authenticator uses the Group key handshake to send a new GTK and, if management frame protection is negotiated, a new IGTK, and if beacon protection is enabled, a new BIGTK, and if WUR frame protection is negotiated, a new WIGTK, to the Supplicant. When the Authenticator is an AP MLD and the Supplicant is a non-AP MLD, the Authenticator may also use the Group key handshake to send new GTK(s) for any of the setup links and, if management frame protection is negotiated, new IGTK(s) for any of the setup links, and if beacon protection is enabled, new BIGTK(s) for any of the setup links to the Supplicant.

The Authenticator may initiate the exchange at any time when a Supplicant is disassociated or deauthenticated.

Message 1: Authenticator → Supplicant:

EAPOL-Key(1, 1, 1, 0, G, 0, RSC, 0, MIC, {GTK(N)} [, OCI] [, IGTK(M, IPN)] [, BIGTK(Q, BIPN)] [, WIGTK(R, WIPN)] [, MLO GTK<sub>n</sub>] [, MLO IGTK<sub>n</sub>] [, MLO BIGTK<sub>n</sub>])

Message 2: Supplicant → Authenticator: EAPOL-Key(1, 1, 0, 0, G, 0, 0, 0, MIC, {OCI})

*Change the fourth paragraph as follows:*

The following apply:

- RSC denotes the last TSC or packet number sent using the GTK.
- GTK[N] denotes the GTK with its key ID as encapsulated using the KDE defined in 12.7.2 using the PTK-KEK defined in 12.7.1.3 and associated IV.
- IGTK[M], when present, denotes the IGTK with its key ID as encapsulated using the KDE defined in 12.7.2 using the PTK-KEK defined in 12.7.1.3 and associated IV.
- BIGTK[Q], when present, denotes the BIGTK with its key ID as encapsulated using the KDE as defined in 12.7.2 using the PTK-KEK defined in 12.7.1.3 and associated IV.
- WIGTK[R], when present, denotes the WIGTK with its key ID as encapsulated using the KDE as defined in 12.7.2 using the PTK-KEK defined in 12.7.1.3 and associated IV.
- The MIC is computed over the body of the EAPOL-Key PDU (with the MIC field zeroed for the computation) using the PTK-KCK defined in 12.7.1.3.
- The OCI represents the current operating channel information using which the EAPOL-Key PDU is sent. OCI is included when dot11RSNAOperatingChannelValidationActivated is true on the STA sending the message.
- MLO GTK<sub>n</sub>, when present, denotes the GTK for the AP affiliated with the AP MLD for the link specified by LinkID n as defined in 12.7.2.
- MLO IGTK<sub>n</sub>, when present, denotes the IGTK for the AP affiliated with the AP MLD for the link specified by LinkID n as defined in 12.7.2.
- MLO BIGTK<sub>n</sub>, when present, denotes the BIGTK for the AP affiliated with the AP MLD for the link specified by LinkID n as defined in 12.7.2.

### 12.7.7.2 Group key handshake message 1

*Change the first paragraph as follows:*

Message 1 uses the following values for each of the EAPOL-Key PDU fields:

Descriptor Type = N – see 12.7.2

Key Information:

Key Descriptor Version = 1 (ARC4 encryption with HMAC-MD5) or 2 (NIST AES key wrap with HMAC-SHA-1-128) or 3 (NIST AES key wrap with AES-128-CMAC), in all other cases 0

Key Type = 0 (Group)

Install = 0

Key Ack = 1

Key MIC Present = 0 when using an AEAD cipher or 1 otherwise

Secure = 1

Error = 0

Request = 0

Encrypted Key Data = 1

Reserved = 0

Key Length = 0

Key Replay Counter = *m*, greater than in the last EAPOL-Key PDU transmitted that was not an EAPOL-Key request frame

Key Nonce = 0

EAPOL-Key IV = 0 (Version 2) or random (Version 1)

RSC = last TSC or PN for the GTK, for **non-MLO, 0 for MLO**.

Key MIC = MIC(PTK-KCK, EAPOL); not present when using an AEAD cipher

Key Data Length = length of Key Data field in octets

Key Data =

- For **non-MLO**, GTK and the GTK's key ID (see 12.7.2)
- For **non-MLO, when** present, IGTK, IGTK's key ID, and IPN (see 12.7.2)
- For **non-MLO, when** present, BIGTK, BIGTK's key ID, and BIPN (see 12.7.2)
- For **non-MLO, when** present, WIGTK, WIGTK's key ID, and WIPN (see 12.7.2)
- OCI KDE when dot11RSNAOperatingChannelValidationActivated is true on the Authenticator
- For **MLO, the MLO GTK KDE** (see 12.7.2) for each of the setup links with a new **GTK**
- For **MLO, when** present, the **MLO IGTK KDE** (see 12.7.2) for each of the setup links with a new **IGTK**
- For **MLO, when** present, the **MLO BIGTK KDE** (see 12.7.2) for each of the setup links with a new **BIGTK**

**Change item d) of the third paragraph (not all lines shown) as follows:**

On reception of message 1, the Supplicant:

...

d) When the Supplicant is not an MLD, uses the MLME-SETKEYS request primitive to configure the GTK and, the IGTK when present, and the BIGTK if beacon protection is enabled at the non-AP STA, and the WIGTK if WUR frame protection is negotiated, into the MAC. When the Supplicant is a non-AP MLD, uses the MLME-SETKEYS request primitive to configure the GTK(s) when present and, the IGTK(s) when present, and the BIGTK(s) when present for the indicated link(s) into the MAC of the affiliated non-AP STA(s) operating on the indicated link(s).

## 12.7.8 TDLS PeerKey (TPK) security protocol

### 12.7.8.2 TPK handshake

*Change the fourth paragraph as follows:*

The TDLS initiator STA and the TDLS responder STA perform the following exchange to set up a TPK:

TDLS PMK handshake message 1: TDLS initiator STA → TDLS responder STA:

Link Identifier element, RSNE, TIE, FTE, TDLS Multi-Link element (optionally included if the transmitting STA is affiliated with a non-AP MLD; see 35.3.21)

TDLS PMK handshake message 2: TDLS responder STA → TDLS initiator STA:

Link Identifier element, RSNE, TIE, FTE, TDLS Multi-Link element (optionally included if the transmitting STA is affiliated with a non-AP MLD; see 35.3.21)

TDLS PMK handshake message 3: TDLS initiator STA → TDLS responder STA:

Link Identifier element, RSNE, TIE, FTE, TDLS Multi-Link element (optionally included if the transmitting STA is affiliated with a non-AP MLD; see 35.3.21)

where

TDLS initiator STA Address field of the Link Identifier element  
is the MAC address of the TDLS initiator STA set

TDLS responder STA Address field of the Link Identifier element  
is the MAC address of the TDLS responder STA set

Timeout Interval Type field of the TIE  
is the key lifetime

Pairwise Cipher Suite field of the RSNE  
identifies the cipher suite used to protect the Data frames sent over the TDLS direct link

AKM Suite List field of the RSNE identifies which Authentication Method was used

SNonce field of the FTE is a 256 bit value randomly generated by the TDLS initiator STA

ANonce field of the FTE is a 256 bit value randomly generated by the TDLS responder STA (set to 0 in message 1)

MIC field of the FTE is 0 for message 1 and computed as described in 12.7.8.4.3 and 12.7.8.4.4 for messages 2 and 3, respectively

*Change the eighth paragraph, including adding an equation number (12-1), as follows:*

The TPK transient key shall be derived as follows when the frames transmitted during the TPK handshake by at least one of the STAs do not include a TDLS Multi-Link element:

$$\text{TPK-Key-Input} = \text{Hash}(\min(\text{SNonce}, \text{ANonce}) || \max(\text{SNonce}, \text{ANonce}))$$

$$\text{TPK} = \text{KDF-Hash-Length}(\text{TPK-Key-Input}, \text{"TDLS PMK"}, \min(\text{MAC}_I, \text{MAC}_R) || \max(\text{MAC}_I, \text{MAC}_R) || \text{BSSID}) \quad (12-1)$$

where

*Hash* is the hash algorithm specific to the negotiated AKM (see Table 9-190)

*KDF-Hash-Length* is the key derivation function defined in 12.7.1.6.2)

*Length* is  $\text{TK}_{\text{bits}} + 128$

*TK* bits is cipher suite dependent and specified in Table 12-8

*MAC*\_I and *MAC*\_R are the MAC addresses of the TDLS initiator STA and the TDLS responder STA, respectively

SNonce and ANonce are the nonces generated by the TDLS initiator STA and TDLS responder STA, respectively, for this instance of the TPK handshake. The BSSID is set to the BSSID of the BSS of which the TDLS initiator STA is a member.  
BSSID is the value carried in the BSSID field of the Link Identifier element as described in 9.4.2.60.

***Insert the following paragraph after the eighth paragraph:***

The TPK shall be derived as follows when the frames transmitted during the TPK handshake by both peers include a TDLS Multi-Link element and the setup is for a single link TDLS (see 35.3.21.2):

$$\text{TPK-Key-Input} = \text{Hash}(\min(\text{SNonce}, \text{ANonce}) \parallel \max(\text{SNonce}, \text{ANonce}))$$

$$\text{TPK} = \text{KDF-Hash-Length}(\text{TPK-Key-Input}, \text{"TDLS PMK"}, \min(\text{MAC}_\text{I}, \text{MAC}_\text{R}) \parallel \max(\text{MAC}_\text{I}, \text{MAC}_\text{R}) \parallel \text{BSSID} \parallel \text{AP MLD MAC}) \quad (12-2)$$

where

Hash, KDF-Hash-Length, Length, TK\_bits, MAC\_I, MAC\_R, SNonce, ANonce and BSSID are as defined above.

AP MLD MAC is the MLD MAC address of the AP MLD with which the initiating non-AP MLD has performed ML setup.

## 12.7.8.4 TPK Security Protocol handshake messages

### 12.7.8.4.3 TPK handshake message 2

***Change the first paragraph as follows:***

If the TDLS responder STA validates the TPK handshake message 1 for this TDLS instance, the TDLS responder STA may respond with TPK handshake message 2. To do so, the TDLS responder STA shall add an RSNE, FTE, and TIE to its TDLS Setup Response frame. The elements shall be formatted as follows:

The RSNE shall include the following:

The Version field shall be set to the minimum of the maximum version supported by the TDLS responder STA and the version number received in the RSNE of message 1.

All other RSNE fields shall be same as those received in message 1.

The TIE shall be the same as that received in the TPK handshake message 1.

The FTE shall include the following:

ANonce shall be set to a value chosen randomly by the TDLS responder STA, see 12.7.5 for a recommended procedure.

SNonce shall be same as that received in message 1 of this sequence

The MIC shall be calculated on the concatenation, in the following order, of:

TDLS initiator STA MAC address (6 octets)

TDLS responder STA MAC address (6 octets)

Transaction Sequence number (1 octet) that shall be set to the value 2

Link Identifier element

RSNE

TIE

FTE, with the MIC field of the FTE set to 0.

TDLS Multi-Link element (when present for TDLS setup procedures with MLO, see 35.3.21).

The MIC shall be calculated using the TPK key confirmation key (TPK-KCK) and the AES-128-CMAC algorithm. The output of the AES-128-CMAC shall be 128 bits.

All other fields shall be set to 0.

#### 12.7.8.4.4 TPK handshake message 3

*Change the first paragraph as follows:*

If the TDLS initiator STA responds to message 2 for this TDLS instance, the TDLS initiator STA shall add an RSNE, FTE, and TIE to its TDLS Setup Confirm frame. The elements shall be formatted as follows:

The RSNE shall be the same as the RSNE received in message 2.

The TIE shall be the same as that received in the TPK handshake message 2.

With the exception of the MIC field, the contents of the FTE shall be the same as the FTE received in message 2.

The MIC shall be calculated on the concatenation, in the following order, of:

TDLS initiator STA MAC address (6 octets)

TDLS responder STA MAC address (6 octets)

Transaction Sequence number (1 octet) that shall be set to the value 3

Link Identifier element

RSNE

TIE

FTE, with the MIC field of the FTE set to 0.

TDLS Multi-Link element (when present for TDLS setup procedures with MLO, see 35.3.21).

The MIC shall be calculated using the TPK-KCK and the AES-128-CMAC algorithm. The output of the AES-128-CMAC shall be 128 bits.

All other fields shall be set to 0.

### 12.10 AP PeerKey support

#### 12.10.2 AP PeerKey protocol

*Change the first paragraph as follows:*

AP PeerKey uses the same discrete logarithm cryptography as SAE (as described in 12.4) to achieve key agreement. Each party to the exchange has a public and private key with respect to a particular set of domain parameters that define a finite cyclic group. Groups may be based on elliptic curve cryptography (ECC) or finite field cryptography (FFC). Each component of a group is referred to as an element. Groups are negotiated using an identifying number from a repository maintained by IANA as “Group Description” Transform Type 4 – Key Exchange Method Transform IDs” attributes for IETF RFC 2409 (IKE) [296] [B14] [B29]. The repository maps an identifying number to a complete set of domain parameters for the particular group. For the purpose of interoperability, APs that have dot11ProtectedHCCATXOPNegotiationImplemented true or dot11ProtectedQLoadReportImplemented true shall implement support for group 19, an ECC group defined over a 256-bit prime order field.

## 12.11 Authentication for FILS

### 12.11.1 General

*Change the first paragraph, including to split it into four paragraphs, as follows:*

FILS authentication is an RSNA authentication protocol. The FILS authentication protocol authenticates STAs or MLDs to each other, using either a shared key or a public key.

When FILS authentication is performed between STAs, the non-AP STA is known as the FILS Originator (FILSO) and the AP is known as the FILS Responder (FILSR).

When FILS authentication is performed between MLDs, the non-AP MLD is known as the FILS Originator (FILSO) and the AP MLD is known as the FILS Responder (FILSR).

When FILS Shared Key authentication is used, the authentication exchange can optionally be performed with PFS. When FILS Public Key authentication is used, PFS is always used. When the FILS authentication protocol is performed with PFS, the STA\_FILSO and AP\_FILSR derive ephemeral public and private keys with respect to a particular set of domain parameters that define a finite cyclic group and then exchange public keys. The result of the FILS authentication includes a PTKSA.

*Change the now-shifted five paragraph as follows:*

The security of FILS authentication depends on the following assumptions:

- When FILS Shared Key authentication is used, each STA the FILSO and FILSR shares either a valid rRK as defined in IETF RFC 6696 with a TTP that is capable of being used with EAP-RP, or a PMK cached from a previous authenticated connection.
- When FILS Public Key authentication is used, each STA has the FILSO and FILSR have a means to trust the public key of the other STA\_FILSR and FILSO, respectively.
- When PFS is used, a finite cyclic group is negotiated where solving the discrete logarithm problem is computationally infeasible.
- When PFS is used, both the STA\_FILSO and AP\_FILSR have in common at least one finite cyclic group from the dot11RSNAConfigDLCCGroupTable.

### 12.11.2 FILS authentication protocol

#### 12.11.2.1 General

*Change as follows:*

The STA\_FILSO and AP\_FILSR perform key establishment using Authentication frames and perform key confirmation using (Re)Association Request and (Re)Association Response frames.

After exchanging Authentication frames, the STA\_FILSO and AP\_FILSR derive a shared and secret key used to derive a set of secret keys (as defined in 12.11.2.5.2) that are authenticated after exchanging (Re)Association Request and (Re)Association Response frames.

When a shared key is used for FILS authentication, and if the STA\_FILSO shares a valid rRK with the TTP, then EAPRP as defined in IETF RFC 5295 and IETF RFC 6696 shall be used.

To prevent key reinstallation attacks, the non-AP STA shall maintain a copy of the most recent GTK, most recent IGTK, most recent BIGTK, and most recent WIGTK installed as part of the FILS authentication

protocol as if they were installed as a result of receipt of EAPOL-Key frames (see 12.7.7.4) and shall refuse to update a GTK, IGTK, BIGTK, or WIGTK when the key to be set matches either one of these two keys (see 6.5.14).

### 12.11.2.2 Discovery of a FILS AP

*Change the first paragraph as follows:*

An AP indicates that it is capable of performing FILS authentication by indicating support for an AKM in Table 9-190 for which the Authentication type cell identifies FILS in an RSNE and including it, and the FILS Indication element, in Beacon and Probe Response frames. All APs affiliated with an AP MLID shall advertise the same FILS Indication element, and at least one FILS AKM shall be common across all those APs.

*Change the fourth and fifth paragraphs as follows:*

An AP indicates support for FILS Shared Key authentication without PFS by setting the FILS Shared Key authentication without PFS supported bit to 1 in the FILS Information field of the FILS Indication element. An AP indicates support for FILS Shared Key authentication with PFS by setting the FILS Shared Key authentication with PFS Supported bit to 1 in the FILS Information field of the FILS Indication element. An AP may advertise between zero and seven realms using the Realm Identifier subfield(s) of the FILS Indication element that is part of Beacon, Probe Response, and FILS Discovery frames. If the STA or non-AP MLID believes it shares a valid rRK as defined in IETF RFC 6696 with the AP or AP MLID through, e.g., a hashed domain name that matches an AP advertised realm, a HESSID, or other ANQP information, the STA or non-AP MLID may begin FILS Shared Key authentication with the AP or AP MLID using EAP-RP. Domain name hashing is specified in 11.45.4. If a STA or non-AP MLID discovers a FILS AP or AP MLID and the STA or non-AP MLID believes it shares a PMKSA with the AP or AP MLID, it may begin the FILS authentication protocol with the AP or AP MLID using PMKSA caching.

An AP indicates support for FILS Public Key authentication by setting the FILS Public Key authentication Supported bit to 1 in the FILS Information field of the FILS Indication element. An AP may advertise up to seven public key indicators in the FILS Indication element that is part of Beacon, Probe Response, and FILS Discovery frames. If the STA or non-AP MLID discovers that it trusts the issuer of an AP's X.509v3 certificate, or that it trusts its uncertified public key identified by matching its hash, the STA or non-AP MLID may begin the FILS authentication protocol to the AP or AP MLID and perform mutual authentication using trusted public keys.

### 12.11.2.3 Key establishment with FILS Shared Key authentication

#### 12.11.2.3.1 Overview

*Change the first and second paragraphs as follows:*

This subclause defines the procedure for establishing a shared key between a FILS STA/FILSO and AP/FILSP using FILS Shared Key authentication that uses shared symmetric keys between the STA/FILSO and the TTP.

A STA or non-AP MLID may initiate FILS Shared Key authentication either with a FILS AP or AP MLID that is connected to a TTP that shares a valid key, called an rRK, as defined in IETF RFC 6696 with the STA or non-AP MLID, or with a FILS AP or AP MLID with whom it shares a cached PMKSA. If neither of these cases applies, a full EAP exchange may be performed via IEEE 802.1X authentication to establish rRK as defined in IETF RFC 6696 or another form of FILS authentication may be used to establish a shared

PMKSA. When performing a full EAP exchange using RSNA to establish rRK, the Authentication algorithm number 0 (Open System) is used.

***Change the fourth and fifth paragraphs as follows:***

EAP-RP signaling as defined in IETF RFC 5295 and IETF RFC 6696 is used to validate the mutual possession of rRK between the STA and the TTP. EAP-RP signaling is encapsulated using a Wrapped Data element in the Authentication frame. The AP unwraps the encapsulated EAP-RP packet received from the STA in the Wrapped Data element and forwards the EAP-RP packet to the TTP using a transport that is out of scope of this standard. When the AP receives an EAP-RP packet from the TTP, the AP forwards the packet to the STA by encapsulating the EAP-RP packet in the Wrapped Data element of the Authentication frame.

The message sequence, for the case where the FILSR is an AP and the FILSO is a STA, is depicted in Figure 12-58.

#### 12.11.2.3.2 Non-AP-STA construction of Authentication frame

***Change as follows:***

If the STA or non-AP MLD (i.e., the FILSO) chooses to initiate FILS Shared Key authentication, it shall first choose a random 16-octet nonce and then determine whether to attempt PMKSA caching. If PMKSA caching is attempted, it shall generate a list of PMKSA identifiers. If the STA attempts to initiate EAP-RP, it shall construct an EAP-Initiate/Reauth packet per IETF RFC 6696, with the following clarifications:

- Regarding EAP-RP Flags:
  - The B flag shall be set to 0, indicating that this is not an EAP-RP bootstrap message.
  - The L flag shall be set to 1, indicating that the TTP with whom the STA shares the rRK is to provide the lifetimes of rRK and rMSK in the EAP-Finish/Reauth packet.
- EAP Identifier is set to 0.
- The Cryptosuite field shall not be set to 1.

If PFS is desired, the STA selects a finite cyclic group from the dot11RSNAConfigDLCGroupTable, which comprises identifying number 4 from a repository maintained by IANA as “Group Description” “Transform Type 4 – Key Exchange Method Transform IDs” attributes for IETF RFC 2409 (IKE) [7296] [B14] [B29]. The STA then generates an ephemeral private key, and performs the group’s scalar-op (see 12.4.4.1) with its random ephemeral private key and the generator from the selected finite cyclic group to compute an ephemeral public key.

The STA then constructs an Authentication frame with the Authentication algorithm number set to 4 (FILS Shared Key authentication without PFS) or 5 (FILS Shared Key authentication with PFS) (see 9.4.1.1) depending on whether PFS is used, and the Authentication transaction sequence number set to 1. The random nonce shall be encoded in the FILS Nonce element (see 9.4.2.188). If a list of PMKSA identifiers was generated, it shall be used to construct the PMKID List field in the RSNE. The random FILS Session shall be encoded in the FILS Session element (see 9.4.2.178). The EAP-Initiate/Reauth packet, if generated, shall be copied into the Wrapped Data field (see 9.4.2.186). If PFS is desired, the chosen finite cyclic group shall be encoded in the Finite Cyclic Group field (see 9.4.1.40) and the ephemeral public key shall be encoded in the FFE field (see 9.4.1.38) according to the element to octet string conversion in 12.4.7.2.4.

The STA transmits the Authentication frame to the AP.

### 12.11.2.3.3 **APFILSR** processing of Authentication frame

#### *Change as follows:*

Upon reception of the Authentication frame with the Authentication algorithm number equal to 4 or 5, the **APFILSR** shall perform the following procedure:

1. If Authentication frame includes a Finite Cyclic Group field, then the **APFILSR** shall first determine whether the indicated finite cyclic group in the received FILS Authentication frame is supported.
2. If the indicated finite cyclic group in the received FILS Authentication frame is not supported, the **APFILSR** shall respond with an Authentication frame with the Authentication algorithm number set to 5 (FILS Shared Key authentication with PFS) (see 9.4.1.1) and the Status Code field set to 77 (Authentication is rejected because the offered finite cyclic group is not supported) and shall terminate the exchange.
3. If PFS is being used, the **STA's FILSO's** public key shall be converted from an octet string to an element according to the conversion in 12.4.7.2.5. Then the **APFILSR** shall validate the **STA's FILSO's** public key in a group-specific fashion as described in 5.6.2.3 of NIST Special Publication 800-56A R2. If validation fails, the **APFILSR** shall terminate the exchange.
4. The **APFILSR** shall check whether PMKSA caching is being attempted by the presence of the PMKID List field in the RSNE:
   1. If the PMKID List field is present in the RSNE, the **APFILSR** checks whether any PMKSA identifier offered in the PMKID List matches an identifier for a cached PMKSA. If so, the **APFILSR** selects a PMKID that matches and continues the FILS Shared Key authentication protocol using the PMK from the identified PMKSA.
   2. If a PMKID List field is not present in the RSNE or if no PMKSA identifier offered in the PMKID list matches any identifier for a cached PMKSA, the **APFILSR** checks whether an EAP-Initiate/Reauth packet was included. If not, the **APFILSR** shall respond with an Authentication frame with the Authentication algorithm number set to 4 or 5 depending on whether PFS is used and the Status Code field set to 53 (invalid PMKID) and shall terminate the exchange.
   3. If an EAP-Initiate/Reauth packet is included and PMKSA caching is not used, the **APFILSR** shall extract the data needed from the Wrapped Data field (see 9.4.2.186) and shall forward it to the Authentication Server. When applicable, the **APFILSR** communicates with the Authentication Server using the same protocols it uses when authenticating with EAP. Suitable protocols include, but are not limited to, remote authentication dial-in user service RADIUS (as specified in IETF RFC 2865 [B33]) and Diameter (as specified in IETF RFC 6942).

If PFS is being used, the **APFILSR** shall also generate an ephemeral private key and perform the group's scalar-op (see 12.4.4.1) to produce its own ephemeral public key. The **APFILSR** may delay the generation of its ephemeral public/private key pair until after receiving a response from the Authentication Server, if applicable. The Authentication Server processes the EAP-Initiate/Reauth packet as specified in IETF RFC 6696 and returns an EAP-Finish/Reauth packet to the **APFILSR**. In the case of successful authentication by the Authentication Server, the Authentication Server returns the associated EAP-RP rMSK with the EAP-Finish/Reauth packet. If the Authentication Server responds with a failure indication, then the **APFILSR** shall produce an Authentication frame with the Authentication Algorithm Number field set to 4 (FILS Shared Key authentication without PFS) or 5 (FILS Shared Key authentication with PFS) (see 9.4.1.1), and the Status Code field set to 15 (Authentication rejected because of challenge failure). In the case of successful authentication by the Authentication Server, the Authentication Server returns the associated EAP-RP rMSK with the EAP-Finish/Reauth packet and processing terminates.

The **APFILSR** proceeds by constructing an Authentication frame.

#### 12.11.2.3.4 APFILSR construction of Authentication frame

##### *Change as follows:*

If PMKSA caching is not used and the APFILSR is not connected to, or does not recognize the Authentication Server identified by the STAFILESO using the realm in the key Name-NAI field of the EAP-Initiate/Reauth packet, then the APFILSR shall send Authentication frame with Status Code field set to 113, “Authentication rejected due to unknown Authentication Server” to the non-AP-STAFILESO.

Otherwise, the APFILSR shall generate its own nonce and construct an Authentication frame for the STAFILESO. The APFILSR shall copy the FILS Session element from the Authentication frame sent by the non-AP-STAFILESO to this response Authentication frame. If PMKSA caching is not used, this frame shall contain the wrapped data that encapsulates the EAP-Finish/Reauth packet received from the Authentication Server. In addition, if PFS is used, the FFE field of the Authentication frame sent by the APFILSR contains the APFILSR's ephemeral public key. In this frame, the APFILSR shall set the Authentication algorithm number to 4 or 5 depending on whether PFS is used, and the Authentication sequence number to 2. If PMKSA caching is used, the APFILSR indicates the selected PMKID in the PMKID List.

If PFS is being used for the exchange, the APFILSR shall perform the group's scalar-op (see 12.4.4.1) with the STAFILESO's ephemeral public key and its own ephemeral private key to produce an ephemeral Diffie-Hellman shared secret, DHss.

The APFILSR transmits the Authentication frame to the STAFILESO. Upon transmission of the FILS Authentication frame, the APFILSR proceeds to key establishment per 12.11.2.5.

#### 12.11.2.3.5 Non-AP-STAFILESO processing of Authentication frame

##### *Change as follows:*

The STAFILESO processes the received Authentication frame as follows:

1. The STAFILESO shall abandon FILS authentication if any of the following conditions occur:
   1. The received Authentication frame does not include the Authentication Algorithm Number equal to 4 (FILS Shared Key authentication without PFS) or 5 (FILS Shared Key authentication with PFS) (see 9.4.1.1).
   2. PMKSA caching was attempted and the received Authentication frame includes a PMKID that does not match a PMKID in the Authentication frame sent by the STAFILESO.
   3. The received Authentication frame does not include either a PMKID or an EAP-Finish/Reauth packet.
   4. The received Authentication frame does not include the FILS Session element.
   5. The received FILS Session value does not match the one in the Authentication frame sent by the STAFILESO.
2. If the received Authentication frame includes the Status Code field equal to 15 (Authentication rejected because of challenge failure) or 53 (invalid PMKID), then the STAFILESO shall abandon the FILS authentication.
3. The STAFILESO verifies that the APFILSR transmitted PFS parameters are consistent with the STAFILESO's previous transmissions (indicated by whether or not the STAFILESO transmitted an ephemeral public key):
   1. If the STAFILESO transmitted an ephemeral public key, and the received Authentication frame does not include an ephemeral public key, then the STAFILESO shall abandon the FILS authentication.

2) If the **STA\_FILSO** did not transmit an ephemeral public key, and the received Authentication frame includes an ephemeral public key, then the **STA\_FILSO** shall abandon the FILS authentication.

d) If applicable, the **STA\_FILSO** processes the EAP-Finish/Reauth packet as per IETF RFC 6696:

1. If the R flag = 0, indicating success, then the **STA\_FILSO** shall derive rMSK.
2. If the R flag = 1, indicating failure, then the **STA\_FILSO** shall abandon the FILS authentication.

e) If PFS is being used for the exchange, the **AP\_STA\_FILSR**'s public key shall be converted from an octet string to an element according to the conversion in 12.4.7.2.5. Then the **STA\_FILSO** shall validate the **AP\_STA\_FILSR**'s public key in a group-specific fashion as described in 5.6.2.3 of NIST Special Publication 800-56A R2. If validation fails, the **STA\_FILSO** shall terminate the FILS authentication protocol. Otherwise, the **STA\_FILSO** shall perform the group's scalar-op (see 12.4.4.1) with the **AP\_STA\_FILSR**'s ephemeral public key and its own ephemeral private key to produce an ephemeral Diffie-Hellman shared secret, DHs.

f) The **STA\_FILSO** shall perform key derivation per 12.11.2.5 and key confirmation per 12.11.2.6.

If the **STA\_FILSO** was attempting EAP-RP Authentication and did not receive an Authentication frame, then the **STA\_FILSO** should perform retransmission procedure as defined in IETF RFC 6696, and with implementation specific timeouts as guided by the AuthenticateFailureTimeout parameter in the MLMEAUTHENTICATE request. If the retransmission procedure fails, then the **STA\_FILSO** shall abandon the FILS authentication and should perform full EAP authentication via IEEE 802.1X authentication.

If the **STA\_FILSO** was attempting PMKSA caching and did not receive an Authentication frame from the **AP\_FILSR**, the **STA\_FILSO** may attempt to use an alternate authentication method.

#### 12.11.2.4 Key establishment with FILS Public Key authentication

##### 12.11.2.4.1 General

**Change as follows:**

This subclause defines the procedure for establishing a shared key between a FILS STA or non-AP MLD and AP or AP MLD using FILS Public Key authentication.

When using FILS Public Key authentication, a STA or non-AP MLD shall initiate authentication using either a public key or a cached PMKSA.

##### 12.11.2.4.2 Prior to exchange

**Change as follows:**

FILS Public Key authentication performs key establishment with a Diffie-Hellman exchange. Prior to beginning the exchange, the non-AP STA or non-AP MLD (i.e., the **FILSO**) performs the following:

1. Selects a finite cyclic group from the dot11RSNAConfigDLGGroupTable to perform the Diffie-Hellman exchange.
2. Generates a random 16-octet nonce, generates an ephemeral private key, and uses the selected group's scalar-op (see 12.4.4.1) with its private key to generate its ephemeral public key.
3. Determine whether to attempt PMKSA caching and if so, generates a list of PMKSA identifiers.
4. Constructs an Authentication frame (see 9.3.3.11) as follows:
   1. The Authentication algorithm number shall be set to 6 (FILS Public Key authentication) (see 9.4.1.1) and the Authentication transaction sequence number shall be set to 1.
   2. The random nonce shall be encoded in the FILS Nonce element (see 9.4.2.188).

1. The chosen finite cyclic group shall be encoded in the Finite Cyclic Group field (see 9.4.1.40).
2. The  $\text{STA}^{\text{a}}\text{FILSO}^{\text{a}}$ 's ephemeral public key shall be encoded into the FFE field (see 9.4.1.38) according to the element to octet string conversion in 12.4.7.2.4.
3. The random FILS Session shall be encoded in the FILS Session element (see 9.4.2.178).
4. The Pairwise Cipher Suite Count field in the RSNE shall be set to 1.
5. The AKM Suite Count field in the RSNE shall be set to 1.
6. If a list of PMKSA identifiers was generated, it shall be used to construct the PMKID List field in the RSNE.

The  $\text{STA}^{\text{a}}\text{FILSO}^{\text{a}}$  then transmits the Authentication frame to the  $\text{APEILSR}$ .

#### 12.11.2.4.3 Processing after receipt

##### *Change as follows:*

Upon reception of the Authentication frame with the Authentication algorithm number equal to 6, the  $\text{APEILSR}$  shall perform the following procedure:

1. If the finite cyclic group indicated by the Finite Cyclic Group field is not acceptable, the  $\text{APEILSR}$  shall respond with an Authentication frame with the status code of 77 ("Authentication is rejected because the offered finite cyclic group is not supported") and terminate the FILS authentication protocol.
2. If the finite cyclic group is acceptable, the  $\text{APEILSR}$  shall verify the validity of the  $\text{STA}^{\text{a}}\text{FILSO}^{\text{a}}$ 's ephemeral public key:
   1. The public key is converted from an octet string to an element according to the conversion in 12.4.7.2.5.
   2. The public key, as a group element, is verified in a group-specific fashion as described in 5.6.2.3 of NIST Special Publication 800-56A R2. If verification fails, the  $\text{APEILSR}$  shall terminate the FILS authentication protocol.
3. The  $\text{STA}^{\text{a}}\text{FILSO}^{\text{a}}$ 's nonce and validated ephemeral public key are extracted from the Authentication frame.
4. The  $\text{APEILSR}$  shall check whether PMKSA caching is being attempted by the presence of the PMKSA List field in the RSNE. If the PMKID List field is present in the RSNE, the  $\text{APEILSR}$  checks whether any PMKSA identifier offered in the PMKID List matches an identifier for a cached PMKSA. If so, the  $\text{APEILSR}$  selects a PMKID that matches and shall continue the FILS Public Key authentication protocol using PMKSA caching, otherwise the  $\text{APEILSR}$  shall continue the FILS Public Key authentication protocol using digital signatures.

#### 12.11.2.4.4 Post processing

##### *Change as follows:*

Next, the  $\text{APEILSR}$  shall

1. Generate a random 16-octet nonce and a random ephemeral private key, and then uses the agreed upon group's scalar-op (see 12.4.4.1) with its private key to generate its ephemeral public key.
2. Construct an Authentication frame (see 9.3.3.11) as follows:
   1. The Authentication algorithm number is set to 6 (FILS Public Key authentication) (see 9.4.1.1), and the Authentication transaction sequence number is set to 2.
   2. The random nonce is encoded in the FILS Nonce element (see 9.4.2.188).
   3. The finite cyclic group is encoded in the Finite Cyclic Group field (see 9.4.1.40).

1. The  $\text{AP}^{\text{e}}\text{FILSR}$ 's ephemeral public key is encoded in the FFE field (see 9.4.1.38) according to the element to octet string conversion in 12.4.7.2.4.
2. The  $\text{AP}^{\text{e}}\text{FILSR}$  copies the FILS Session element from the Authentication frame received from the  $\text{STA}^{\text{e}}\text{FILSO}$ .
3. If the PMKSA caching is used, the  $\text{AP}^{\text{e}}\text{FILSR}$  indicates the selected PMKID in the PMKID List.

c) Transmit the Authentication frame to the  $\text{STA}^{\text{e}}\text{FILSO}$ .

d) Compute the Diffie-Hellman shared secret, DHs, based on the  $\text{STA}^{\text{e}}\text{FILSO}$ 's ephemeral public key and its own ephemeral private key with the chosen group's scalar-op.

e) Perform key derivation (see 12.11.2.5).

#### 12.11.2.4.5 Upon receipt

##### *Change as follows:*

The  $\text{STA}^{\text{e}}\text{FILSO}$  processes the received Authentication frame as follows:

1. The  $\text{STA}^{\text{e}}\text{FILSO}$  shall abandon FILS authentication if any of the following conditions occur:
   1. The received Authentication frame does not include the Authentication Algorithm Number equal to 6 (FILS Public Key authentication) (see 9.4.1.1).
   2. PMKSA caching was attempted and the received Authentication frame includes a PMKID that does not match a PMKID in the Authentication frame sent by the  $\text{STA}^{\text{e}}\text{FILSO}$ .
   3. The received Authentication frame does not include the FILS Session element.
2. Verifies that the finite cyclic group in the  $\text{AP}^{\text{e}}\text{FILSR}$ 's response is equal to the group selected by the  $\text{STA}^{\text{e}}\text{FILSO}$  and that the FILS Session element received from the  $\text{AP}^{\text{e}}\text{FILSR}$  is equal to the FILS Session selected by the  $\text{STA}^{\text{e}}\text{FILSO}$ . If these differ, the  $\text{STA}^{\text{e}}\text{FILSO}$  shall terminate the authentication exchange.
3. Verifies the validity of the  $\text{AP}^{\text{e}}\text{FILSR}$ 's ephemeral public key:
   1. The public key is converted from an octet string to an element according to the conversion in 12.4.7.2.5.
   2. The public key, as a group element, is verified in a group-specific fashion according to 5.6.2.3 of NIST Special Publication 800-56A R2. If public key validation fails the  $\text{STA}^{\text{e}}\text{FILSO}$  shall terminate the authentication exchange.
4. Extracts the  $\text{AP}^{\text{e}}\text{FILSR}$ 's nonce and verified ephemeral public key from the Authentication frame.
5. Compute the Diffie-Hellman shared secret, DHs, based on the  $\text{AP}^{\text{e}}\text{FILSR}$ 's ephemeral public key and its own ephemeral private key with the chosen group's scalar-op to derive DHs.
6. Performs key derivation (see 12.11.2.5) and begins key confirmation (see 12.11.2.6).

If the  $\text{STA}^{\text{e}}\text{FILSO}$  was attempting PMKSA caching and did not receive an Authentication frame from the  $\text{AP}^{\text{e}}\text{FILSR}$ , the  $\text{STA}^{\text{e}}\text{FILSO}$  may attempt to use an alternate authentication method.

#### 12.11.2.5 Key establishment with FILS authentication

##### 12.11.2.5.2 PMKSA key derivation with FILS authentication

##### *Change the second paragraph as follows:*

When FILS Public Key authentication is used to generate input keying material, the PMK and PMKID are derived as follows:

PMK = HMAC-Hash(SNonce || ANonce, DHss)

PMKID = Truncate-128(Hash(gSTA || gAP))

where

SNonce is the STA's FILSO nonce and ANonce is the AP's FILSR nonce

rMSK is the shared secret from the EAP-RP exchange

DHss is the shared secret derived from the Diffie-Hellman exchange, when performed; when ECC is used, only the x-coordinate from EDCH is included

Brackets indicate the inclusion of the shared secret when doing a Diffie-Hellman exchange; there is no shared secret to include otherwise

EAP-Initiate/Reauth is the EAP-RP packet sent by the STA during key establishment with FILS Shared Key authentication

gSTA is the STA's FILSO's Diffie-Hellman value

gAP is the AP's FILSR's Diffie-Hellman value

Hash is the hash algorithm specific to the negotiated AKM (see Table 9-190)

#### 12.11.2.5.3 PTKSA Key derivation with FILS authentication

*Change the first paragraph as follows:*

For PTKSA key generation, the inputs to the PRF are the PMK of the PMKSA, a constant label, and a concatenation of the STA's FILSO's MAC address, the AP's BSS's BSSID's FILSR's MAC address, the STA's FILSO's nonce, and the AP's FILSR's nonce. When the negotiated AKM is 00-0F-AC:14 or 00-0F-AC:16, the length of PTK-KEK shall be 256 bits, and the length of the ICK shall be 256 bits. When the negotiated AKM is 00-0F-AC:15 or 00-0F-AC:17, the length of the PTK-KEK shall be 512 bits, and the length of ICK shall be 384 bits. When the negotiated AKM is 00-0F-AC:16, FILS-FT is 256 bits; when the negotiated AKM is 00-0F-AC:17, FILS-FT is 384 bits; otherwise, FILS-FT is not derived; when a KDK is derived, the length of KDK is equal to the value of PMK\_bits (see 12.7.1.3); a KDK shall be derived if any of the following are true:

- WUR frame protection is negotiated
- dot11SecureLTF implemented is true and the peer STA has advertised secure HE-LTF support capability in its RSNXE (see 9.4.2.241)

Otherwise, it shall not be derived.

*Change the fifth paragraph as follows:*

When a KDK is derived while not doing FT initial mobility domain association using FILS authentication,

KDK = ExtractBits(PTK, ICK\_bits + KEK\_bits + TK\_bits, KDK\_bits)

where

ICK\_bits is the length of ICK in bits

KEK\_bits is the length of PTK-KEK in bits

FILS-FT\_bits is the length of FILS-FT in bits when doing FT initial mobility domain association using FILS authentication

KDK\_bits is the length of KDK in bits and is equal to the value of PMK\_bits (see 12.7.1.3).

X is  $512 + TK_{bits} + 768 + TK_{bits}$ ,  $896 + TK_{bits}$ , or  $1280 + TK_{bits}$  from Table 12-8 depending on the negotiated AKM when a KDK is derived; otherwise, X is  $512 + TK_{bits}$ ,  $768 + TK_{bits}$ ,  $896 + TK_{bits}$ , or  $1280 + TK_{bits}$  from Table 12-8 depending on the negotiated AKM

PMK is the PMK from the PMKSA, either created from an initial FILS connection or from a cached PMKSA, when PMKSA caching is used; when doing FT initial mobility domain association using FILS authentication, it is equal to MPMK)

SPA is the STA's FILSO's MAC address (i.e., non-AP STA or, for MLO, non-AP MLD MAC address) and the AA is the AP's BSS's BSSIDFILSR's MAC address (i.e., AP's BSS's BSSID or, for MLO, AP MLD's MAC address)

SNonce is the STA's FILSO's nonce

ANonce is the AP's FILSR's nonce

DHs is the shared secret derived from the Diffie-Hellman exchange, when performed, and PMKSA caching is used

Brackets indicate the inclusion of the shared secret when doing a Diffie-Hellman exchange while using PMKSA caching; there is no shared secret to indicate otherwise

## 12.11.2.6 Key confirmation with FILS authentication

### 12.11.2.6.2 (Re)Association Request for FILS key confirmation

*Change the third and fourth paragraphs as follows:*

For FILS Shared Key authentication and FILS Public Key authentication when using PMKSA caching, the KeyAuth field of the FILS Key Confirmation element is constructed by using the HMAC mode of the negotiated hash algorithm with a key of ICK on a concatenation of the STA's nonce, the AP's nonce, the STA's MAC address, the AP's BSS's BSSID, and conditionally the STA's public Diffie-Hellman value and the AP's public Diffie-Hellman value, in that order:

$$\text{Key-Auth} = \text{HMAC-Hash}(\text{ICK}, \text{SNonce} || \text{ANonce} || \text{STA-MAC} || \text{AP-BSSID} || \text{gSTA} || \text{gAP})$$

where

Hash is the hash algorithm specific to the negotiated AKM (see Table 9-190)

SNonce is the STA's FILSO's nonce

ANonce is the AP's FILSR's nonce

STA-MAC is the MAC address of the STA FILSO (i.e., non-AP STA MAC address or, for MLO, non-AP MLD MAC address) and AP-BSSID is the MAC address of the FILSR (i.e., BSSID of the AP's BSS or, for MLO, AP MLD's MAC address)

gSTA is the STA's FILSO's Diffie-Hellman public value

gAP is the AP's FILSR's Diffie-Hellman public value

Brackets indicate the inclusion of the Diffie-Hellman public values when doing PFS with FILS Shared Key authentication or PMKSA caching with FILS Public Key authentication; there are no Diffie-Hellman public values to include otherwise

For FILS Public Key authentication when PMKSA caching is not used, the KeyAuth field of the FILS Key Confirmation element is a digital signature using the STA's FILSO's private key, of the negotiated hash algorithm on a concatenation of the STA's FILSO's public Diffie-Hellman value, the FILSR's public Diffie-Hellman value, the STA's FILSO's nonce, the FILSR's nonce, the STA's FILSO's MAC address, and the AP's BSS's BSSIDFILSR's MAC address, in that order:

$$\text{Key-Auth} = \text{Sig-STA}(\text{gSTA} || \text{gAP} || \text{SNonce} || \text{ANonce} || \text{STA-MAC} || \text{AP-BSSID})$$

where

$\text{Sig-STA}()$  indicates a digital signature using the STA's private key, analog to the STA's trusted public key

*Change the sixth, seventh, eighth, ninth, tenth, and 11th paragraphs as follows:*

The (Re)Association Request frame shall be encrypted using the AEAD algorithm as defined in 12.11.2.7 with the PTK-KEK as the key. The AAD used with the AEAD algorithm for the Association Request frame consists of the following data passed as separate components in the following order:

- STA's FILSO's MAC address (i.e., non-AP STA MAC address or, for MLO, non-AP MLD MAC address)
- AP's BSS's BSSID/FILSR's MAC address (i.e., BSSID of the AP's BSS or, for MLO, AP MLD's MAC address)
- STA's FILSO's nonce
- AP's FILSR's nonce
- The contents of the (Re)Association Request frame from the Capability Information field (inclusive) to the FILS Session element (inclusive)

The plaintext passed to the AEAD algorithm is the data that would follow the FILS Session element in an unencrypted frame body. The output of the AEAD algorithm becomes the data that follows the FILS Session element in the encrypted and authenticated (Re)Association Request frame. The output of the algorithm is as specified in IETF RFC 5116. The resulting (Re)Association Request frame shall be transmitted to the APFILSR.

The APFILSR compares FILS session of the received (Re)Association Request frame with the FILS session that was used to identify the FILS session in the Authentication frames. If they differ, authentication exchange fails.

If dot11RSNAOperatingChannelValidationActivated is true and the STA's FILSO indicates OCV in the RSNE in the request, APFILSR shall validate the OCI element in the request by ensuring that all of the following are true:

- OCI element is present.
- Channel information in the OCI matches current operating channel parameters (see 12.2.10).

Otherwise, the APFILSR rejects the request by discarding the frame.

The APFILSR decrypts and verifies the received (Re)Association Request frame with the AEAD algorithm as defined in 12.11.2.7 with the PTK-KEK as the key. The AAD is reconstructed as defined above and is passed, along with the cipher text of the received frame, to the AEAD decryption operation.

***Change the 13th, 14th, 15th, 16th, and 17th paragraphs as follows:***

The APFILSR verifies that the RSNE received in the (Re)Association Request frame has identical AKM suite and cipher suites and RSN capabilities as were included in the RSNE in the Authentication frame from the STA's FILSO. If these fields differ, the authentication exchange fails.

For FILS Shared Key authentication, the APFILSR constructs a verifier, Key-Auth', in an identical manner as the STA's FILSO constructed its Key-Auth above.

The APFILSR compares Key-Auth' with the KeyAuth field in the FILS Key Confirmation element of the received frame. If they differ, authentication fails.

For FILS Public Key authentication, the APFILSR uses the STA's FILSO's (certified) public key from the FILS Public Key element to verify that the signature contained in the KeyAuth field corresponds to the purported signature by the STA's FILSO over the concatenation of the following:

- STA's FILSO's public Diffie-Hellman value gSTA
- AP's FILSR's public Diffie-Hellman value gAP

- STA's FILSO's nonce SNonce, the AP's FILSR's nonce ANonce
- STA's FILSO's MAC address STA-MAC (i.e., non-AP STA MAC address or, for MLO, non-AP MLD MAC address)
- AP's BSS's BSSID AP-BSSID FILSR's MAC address (i.e., BSSID of the AP's BSS or, for MLO, AP MLD's MAC address)

in that order, according to the signature scheme used. Furthermore, the APFILSR checks all certificates in the certificate chain, both cryptographically and from a security policy perspective, according to the procedures for checking certificates and certificate chains in IETF RFC 5280. If any of these verifications fail, authentication fails.

If authentication is deemed a failure, ICK, PTK-KEK, TK, and the PTKSA shall be irretrievably deleted and the APFILSR shall return an Authentication frame with a status code set to 112 (Authentication rejected due to FILS authentication failure). If PMKSA caching was not being employed for this failed authentication attempt, the PMKSA shall also be deleted. If PMKSA caching was being employed, the reason for failure might be an impersonation attack. Therefore, when FILS with PMKSA caching fails, the APFILSR may decide to retain the cached PMKSA.

#### 12.11.2.6.3 (Re)Association Response for FILS key confirmation

*Change the first five paragraphs as follows:*

The APFILSR constructs a (Re)Association Response frame for FILS authentication per 9.3.3.6 and 9.3.3.8. As with the (Re)Association Request frame, hash algorithms are used to generate the FILS Key Confirmation element and the specific hash algorithm depends on the negotiated AKM (see 9.4.2.23.3).

The APFILSR constructs a Key Delivery element indicating the current GTK and GTK PN, and the current IGTK and IPN if management frame protection is enabled, and the current BIGTK and BIPN if beacon protection is enabled, and the current WIGTK and WIPN if WUR frame protection is enabled. For non-MLO, the GTK is carried in a GTK KDE. The IGTK and IPN are carried in an IGTK KDE. The BIGTK and BIPN are carried in a BIGTK KDE. The, and the WIGTK and WIPN are carried in a WIGTK KDE. For MLO, the GTKs for all setup links are carried in MLO GTK KDEs, the IGTKs in MLO IGTK KDEs, and the BIGTKs in MLO BIGTK KDEs. The APFILSR puts this element into the (Re)Association Response frame.

If dot1RSNAOperatingChannelValidationActivated is true and STA-FILSO indicates OCVC, the APFILSR shall include an OCI element in the response.

For FILS Shared Key authentication and FILS Public Key authentication when using PMKSA caching, the KeyAuth field of the FILS Key Confirmation element is constructed by using the HMAC mode of the negotiated hash algorithm with a key of ICK on a concatenation of the AP's FILSR's nonce, the STA's FILSO's nonce, the AP's FILSR's MAC address AP-BSS's BSSID, the STA's FILSO's MAC address STA-MAC, and conditionally the AP's FILSR's public Diffie-Hellman value and the STA's public Diffie-Hellman value, in that order:

$$\text{Key-Auth} = \text{HMAC-Hash}(\text{ICK}, \text{ANonce} || \text{SNonce} || \text{AP-BSSID} || \text{STA-MAC} || \text{gAP} || \text{gSTA})$$

where

Hash is the hash algorithm specific to the negotiated AKM (see Table 9-190)

ANonce is the AP's FILSR's nonce

SNonce is the STA's FILSO's nonce

AP-BSSID is the **BSSID** of the AP's **BSSFILSR**'s MAC address (i.e., **BSSID** of the AP's **BSS** or, for **MLQ**, **AP MLD**'s MAC address) and **STA-MAC** is the **FILSO**'s MAC address of the **STA** (i.e., non-AP **STA** MAC address or, for **MLQ**, non-AP **MLD** MAC address)

gAP is the AP's **FILSR**'s Diffie-Hellman public value

gSTA is the **STA**'s **FILSO**'s Diffie-Hellman public value

Brackets indicate the inclusion of the Diffie-Hellman public values when doing PFS with FILS Shared Key authentication; there are no Diffie-Hellman public values to include otherwise

For FILS Public Key authentication when PMKSA caching is not used, the KeyAuth field of the FILS Key Confirmation element is a digital signature using the AP's **FILSR**'s private key of the output from the negotiated hash algorithm on a concatenation of the AP's **FILSR**'s public Diffie-Hellman value, the **STA**'s **FILSO**'s public Diffie-Hellman value, the AP's **FILSR**'s nonce, the **STA**'s **FILSO**'s nonce, AP's **BSS**'s **BSSID** the **FILSR**'s MAC address, and the **STA**'s **FILSO**'s MAC address, in that order. The specific construction of the digital signature depends on the crypto-system of the public/private key pair:

$$\text{Key-Auth} = \text{Sig}_{\text{AP}}(\text{gAP} || \text{gSTA} || \text{ANonce} || \text{SNonce} || \text{AP-BSSID} || \text{STA-MAC})$$

where

$\text{Sig}_{\text{AP}}$  indicates a digital signature using the AP's private key analog to the AP's trusted public key

***Change the seventh, eighth, ninth, tenth, 11th, and 12th paragraphs as follows:***

The (Re)Association Response frame shall be encrypted using the AEAD algorithm as defined in 12.11.2.7 with the PTK-KEK as the key. The AAD used with the AEAD algorithm for the (Re)Association Response frame consists of the following data passed as separate components in the following order:

- AP's **BSS**'s **BSSID** **FILSR**'s MAC address (i.e., **BSSID** of the AP's **BSS** or, for **MLQ**, **AP MLD**'s MAC address)
- **STA**'s **FILSO**'s MAC address (i.e., non-AP **STA** MAC address or, for **MLQ**, non-AP **MLD** MAC address)
- AP's **FILSR**'s nonce
- **STA**'s **FILSO**'s nonce
- The contents of the (Re)Association Response frame from the Capability Information field (inclusive) to the FILS Session element (inclusive)

The plaintext passed to the AEAD algorithm is the data that would follow the FILS Session element in an unencrypted frame body. The output of the AEAD algorithm becomes the data that follows the FILS Session element in the encrypted and authenticated (Re)Association Response frame. The output of the algorithm is as specified in IETF RFC 5116. The resulting (Re)Association Response frame shall be transmitted to the **STA** **FILSO**.

If **dot11RSNAOperatingChannelValidationActivated** is true and the **APFILSR** indicates OCVC in its **RSNE**, the **STA** **FILSO** shall validate the OCI element in the response by ensuring that all of the following are true:

- OCI element is present
- Channel information in the OCI matches current operating channel parameters (see 12.2.10)

Otherwise, the **STA** **FILSO** shall discard the frame.

The **STA** **FILSO** decrypts and verifies the received (Re)Association Response frame with the AEAD algorithm as defined in 12.11.2.5 with the PTK-KEK as the key. The AAD is reconstructed as defined in this subclause above and is passed with the cipher text of the received frame to the AEAD decryption operation.

The **STA-FILSO** compares FILS Session of the received frame with the FILS Session it selected to identify the FILS session. If they differ, authentication fails.

**Change the 14th, 15th, 16th, 17th, 18th, and 19th paragraphs as follows:**

The **STA-FILSO** verifies that the RSNE received in the (Re)Association Response frame has identical AKM suites and cipher suites and RSN capabilities as were included in the RSNE in the Beacon, Probe Response, and Authentication frames from the **AP-FILSR**. If these fields differ, authentication fails.

For FILS Shared Key authentication, the **STA-FILSO** constructs a verifier, Key-Auth', in an identical manner as the **AP-FILSR** constructed its Key-Auth above.

The **STA-FILSO** compares Key-Auth' with the KeyAuth field in the FILS Key Confirmation element of the received frame. If they differ, authentication fails.

For FILS Public Key authentication, the **STA-FILSO** uses the **AP-FILSR's** (certified) public key from the FILS Public Key element to verify that the signature contained in the KeyAuth field corresponds to the purported signature by the **AP-FILSR** over the concatenation of the following:

- **AP-FILSR's** public Diffie-Hellman value gAP
- **STA-FILSO's** public Diffie-Hellman value gSTA
- **AP-FILSR's** nonce ANonce
- **STA-FILSO's** nonce SNonce
- **AP's** BSSID **AP-BSSID-FILSR's** MAC address (i.e., BSSID of the **AP's** BSS or, for MLO, **AP MLD's** MAC address)
- **STA-FILSO's** MAC address **STA-MAC** (i.e., non-**AP** **STA** MAC address or, for MLO, non-**AP** **MLD** MAC address)

in that order, according to the signature scheme used. Furthermore, the **AP-FILSR** checks all certificates in the certificate chain, both cryptographically and from a security policy perspective, according to the procedures for checking certificates and certificate chains in IETF RFC 5280. If any of these verifications fail, authentication is deemed a failure, the ICK, PTK-KEK, PMK, and TK shall be irretrievably deleted and the **STA-FILSO** shall abandon the exchange. Otherwise authentication succeeds and the **STA-FILSO** and **AP-FILSR** shall irretrievably delete the nonpersistent secret keying material that is created by executing the key establishment with FILS Shared Key authentication scheme (12.11.2.3) or the key establishment with FILS Public Key authentication scheme (12.11.2.4). The PTK-KEK and PMK shall be used for subsequent key management as specified in 12.6. If the lifetime of the rMSK is known, the **STA-FILSO** and **AP-FILSR** shall set the lifetime of the PMKSA to the lifetime of the rMSK. Otherwise, the **STA-FILSO** and **AP-FILSR** shall set the lifetime of the PMKSA to the value dot1IRSNACfgPMKLifetime.

Upon successful completion of the FILS authentication procedure, the **STA-FILSO** shall process the Key Delivery element in the (Re)Association Response frame. The **STA-FILSO** installs the GTK and GTK RSC, and IGTK and IGTK RSC if management frame protection is enabled, and BIGTK and BIGTK RSC if present in the Key Delivery element and dot1IRSNWURFrameProtectionActivated is true. For MLO, the FILS installs the GTKs, IGTKs and BIGTKs for each setup link.

## 12.12 Constraints on allowed security parameters

**Insert the following subclause at the end of this subclause:**

**12.12.9 Security constraints for EHT**

An EHT non-AP STA and EHT AP shall have dot11BeaconProtectionEnabled set to 1 when using RSN.

NOTE—An EHT AP has dot11RSNAProtectedManagementFramesActivated set to 1 when using RSN due to the requirement that if dot11RSNAProtectedManagementFramesActivated is false, dot11BeaconProtectionEnabled needs to be set to false (see 11.52).

When an EHT STA performs SAE authentication with a peer EHT STA, it shall set the SAE Hash-to-element field to 1 in the RSNXE and use the SAE hash-to-element method when SAE authentication is negotiated.

An EHT STA shall use the AKM suite selector value of 00-0F-AC:24 or 00-0F-AC:25 while negotiating SAE authentication with another EHT STA.

## 13. Fast BSS transition

### 13.1 Overview

*Change the first four paragraphs as follows:*

Fast BSS transition seeks to reduce the length of time that connectivity is lost between a STA and the DS or between a non-AP MLD and the DS during a BSS transition. The FT protocols are part of the reassociation service and only apply to a STA or an MLD transition to an AP or an AP MLD STA transitions between APs within the same mobility domain within the same ESS (see 4.5.3.2).

The FT protocols require information to be exchanged during the initial association (or a later reassociation) between a STA [known as the *FT Originator (FTO)*] and AP [known as the *FT Responder (FTR)*] or between a non-AP MLD [known as the *FT Originator (FTO)*] and AP MLD [known as the *FT Responder (FTR)*]. The initial exchange is referred to as the *FT initial mobility domain association*. Subsequent reassociations to APs/FTRs within the same mobility domain may make use of the FT protocols.

Two FT protocols are defined:

- *FT protocol*. This protocol is executed when an FTO makes a transition to a target AP/FTR and does not require a resource request prior to its transition.
- *FT resource request protocol*. This protocol is executed when an FTO requires a resource request prior to its transition.

For an FTO to move from its current AP to a target AP/FTR utilizing the FT protocols, the message exchanges are performed using one of two methods:

- *Over-the-Air*. The FTO communicates directly with the target AP/FTR using IEEE 802.11 authentication with the FT authentication algorithm.
- *Over-the-DS*. The FTO communicates with the target AP/FTR via the current AP/FTR. The communication between the FTO and the target AP/FTR is carried in FT Action frames between the FTO and the current AP/FTR. Between the current AP/FTR and target AP/FTR, communication is via an encapsulation method described in 13.10.3. The current AP/FTR converts between the two encapsulations.

### 13.2 Key holders

#### 13.2.1 Introduction

*Change the second paragraph as follows:*

The R0KH and R1KH are part of AP's or AP MLD's SME RSNA key management. The computation of PMK-R0 and PMK-R1, and all of the intermediate results in the computations, shall be restricted to the R0KH. The computation of PTK, and all intermediate results in its computation, shall be restricted to the R1KH.

### 13.2.2 Authenticator key holders

*Change the seventh paragraph as follows:*

The R1KH shall meet the following requirements:

- The R1KH-ID shall be set to a MAC address of the physical entity that stores the PMK-R1 and uses it to generate the PTK. That same MAC address shall be used to advertise the PMK-R1 identity to the STA or non-AP MLD and the R0KH.
- For non-MLO, the R1KH shall derive and distribute the GTK and IGTK to all connected STAs. For MLO, the R1KH shall distribute the GTKs and IGTKs for setup links to all connected non-AP MLDs.
- If WUR frame protection is enabled, the R1KH shall derive and distribute the IWGTK and WIPN to all WUR non-AP STAs with which the R1KH has negotiated WUR frame protection.
- For non-MLO, if beacon protection is enabled, the R1KH shall derive and distribute the BIGTK and BIPN to all connected STAs. For MLO, the R1KH shall derive and distribute the BIGTKs and BIPNs for setup links to all connected non-AP MLDs.
- When the PMK-R1 lifetime expires, the R1KH shall delete the PMK-R1 PMKSA and shall revoke all PTKSAs derived from the PMK-R1 using the MLME-DELETEKEYS primitive.
- The R1KH shall not expose the PMK-R1 to other parties.

### 13.2.3 Supplicant key holders

*Change the second paragraph as follows:*

The S0KH interacts with the IEEE 802.1X functional block (see Figure 4-27 in 4.9) to receive the MSK resulting from an EAP authentication or the FILS-FT resulting from a FILS authentication. The S1KH interacts with the IEEE 802.1X entity to open the Controlled Port. Both the S0KH and S1KH interactions with the IEEE 802.1X entity occur within the SME of a STA or a non-AP MLD.

## 13.3 Capability and policy advertisement

*Insert the following paragraph after the first paragraph (“The FT capability is advertised in...”) as follows:*

Via the MLD synchronization service, all APs affiliated with an AP MLD shall advertise the same MDE and at least one common AKM for which the Authentication type column indicates FT authentication.

## 13.4 FT initial mobility domain association

### 13.4.1 Overview

*Change as follows:*

The FT initial mobility domain association is the first (re)association in the mobility domain, where the SME of the STA or non-AP MLD enables its future use of the FT procedures.

FT initial mobility domain association is typically the first association within the ESS. In addition to Association Request and Response frames, Reassociation Request and Response frames are supported in the initial mobility domain association to enable both FT and non-FT APs or AP MLDs to be present in a single ESS.

NOTE—For MLO, the non-AP MLD and AP MLD include the Basic Multi-Link element in all Authentication and (Re)Association Request/Response frames. The Basic Multi-Link element includes the MLD MAC address for the respective MLD and is used to establish the security association.

#### 13.4.2 FT initial mobility domain association in an RSN

*Change the first two paragraphs as follows (Figure 13-2 not shown):*

A STA or a non-AP MLD indicates its support for the FT procedures by including the MDE in the (Re)Association Request frame and indicates its support of security by including the RSNE. The AP or AP MLD responds by including the FTE, MDE, and RSNE(s) in the (Re)Association Response frame. After a successful IEEE 802.1X authentication (if needed) or SAE authentication, the STA and AP or the non-AP MLD and the AP MLD perform an FT 4-way handshake. At the end of the sequence, the IEEE 802.1X Controlled Port is opened, and the FT key hierarchy has been established. The message flow between a STA and an AP is shown in Figure 13-2.

A non-DMG STA or a non-AP MLD initiates the FT initial mobility domain association procedures by performing an IEEE 802.11 authentication using the Open System authentication algorithm.

STA→AP: Authentication-Request (Open System authentication algorithm)

AP→STA: Authentication-Response (Open System authentication algorithm, Status)

non-AP MLD→AP MLD: Authentication-Request (Open System authentication algorithm, Basic Multi-Link element)

AP MLD→non-AP MLD: Authentication-Response (Open System authentication algorithm, Status, Basic Multi-Link element)

*Change the fourth, fifth, and sixth paragraphs as follows:*

The SME of the STA or non-AP MLD initiates the authentication exchange, through the use of the MLME-AUTHENTICATE.request primitive, and the SME of the AP or AP MLD, respectively, responds with MLME-AUTHENTICATE.response primitive. See 11.3.4.

Upon successful IEEE 802.11 Open System or SAE authentication, if using a suite type for which the Authentication type column indicates FT authentication (see Table 9-190), the STA shall send a (Re)Association Request frame to the AP that includes the MDE or a non-AP MLD shall send a (Re)Association Request frame that includes the MDE through an affiliated non-AP STA to the AP MLD through an affiliated AP. The contents of the MDE shall be the values advertised by the AP or any AP affiliated with the AP MLD in its Beacon or Probe Response frames. Additionally, the STA or non-AP MLD includes its security capabilities in the RSNE.

STA→AP: (Re)Association Request (MDE, RSNE, RSNXE)

AP→STA: (Re)Association Response (MDE, FTE[R1KH-ID, R0KH-ID], RSNXE)

non-AP MLD→AP MLD: (Re)Association Request (MDE, RSNE, RSNXE, Basic Multi-Link element)

AP MLD→non-AP MLD: (Re)Association Response (MDE, FTE[R1KH-ID, R0KH-ID], RSNE, RSNXE, Basic Multi-Link element)

The SME of the STA or non-AP MLD initiates the (re)association through the use of the MLME-ASSOCIATE.request or MLME-REASSOCIATE.request primitive. The SME of the AP or AP MLD responds to the indication with MLME-ASSOCIATE.response or MLME-REASSOCIATE.response primitive. See 11.3.5.

*Insert the following paragraph after the seventh paragraph (“If the contents of the MDE...”):*

For MLO, if the contents of the MDE received by the AP MLD do not match the contents advertised in the Beacon and Probe Response frames of APs affiliated with the AP MLD, the AP MLD shall reject the (Re)Association Request frame with status code STATUS\_INVALID\_MDE. If an MDE is present in the (Re)Association Request frame and the contents of the RSNE do not indicate a negotiated AKM for which the Authentication type column indicates FT authentication (see Table 9-190), the AP MLD shall reject the (Re)Association Request frame with status code STATUS\_INVALID\_AKMP.

*Change the now-shifted ninth, tenth, 11th, and 12th paragraphs as follows:*

The (Re)Association Response frame from the AP shall contain an MDE, with contents as presented in Beacon and Probe Response frames. The (Re)Association Response frame from the AP MLD shall contain an MDE, with contents as presented in Beacon and Probe Response frames of APs affiliated with the AP MLD. The FTE shall include the key holder identities of the AP or the AP MLD, the R0KH-ID and R1KH-ID, set to the values of dot11FTR0KeyHolderID and dot11FTR1KeyHolderID, respectively. The FTE shall have a MIC element count of zero (i.e., no MIC present) and have ANonce, SNonce, and MIC fields set to 0. The RSNNE Used subfield of the MIC Control field shall be set to 0. The RSNNE Used subfield of the MIC Control field shall be set to 0. When the negotiated AKM is 00-0F-AC-25, the MIC Length subfield of the MIC Control field shall be set to indicate the length of the MIC field.

On successful (re)association, the S0KH on the STA or the non-AP MLD and the R0KH on the AP or the AP MLD, respectively, then proceed with an IEEE 802.1X authentication using EAPOL PDUs carried in IEEE 802.11 Data frames if SAE authentication was not performed (i.e., if AKM is not 00-0F-AC-9 or 00-0F-AC-25). The S0KH shall use the value of R0KH-ID as the endpoint identifier of the NAS Client (NAS-Identifier if RADIUS is used) in the exchange as defined in IETF RFC 3748.

If IEEE 802.1X authentication was performed, then upon successful completion of authentication, the R0KH receives the MSK and authorization attributes. If SAE authentication was performed, the R0KH receives the PMK, resulting in the successful completion of SAE. If a key hierarchy already exists for this STA or non-AP MLD belonging to the same mobility domain (i.e., having the same MDID), the R0KH shall delete the existing PMK-R0 security association and PMK-R1 security associations. It then calculates the PMK-R0, PMKR0Name, and PMK-R1 and makes the PMK-R1 available to the R1KH of the AP with which the STA is associated or the AP MLD with which the non-AP MLD is associated.

If the SME of the STA or the non-AP MLD cannot authenticate the AS, then it shall disassociate from an MLME-DISASSOCIATE.request primitive. If the AS signals the Authenticator that the STA or the non-AP MLD cannot be authenticated, then the SME of the AP or the AP MLD, respectively, shall disassociate from an MLME-DISASSOCIATE.request primitive.

*Change the now-shifted 14th paragraph by splitting it into five paragraphs as follows:*

The R1KH and S1KH then perform an FT 4-way handshake. The EAPOL-Key PDU notation is defined in 12.7.4.

*Between a STA and an AP, the FT 4-way handshake is as follows:*

R1KH→S1KH: EAPOL-Key(0, 0, 1, 0, P, 0, 0, ANonce, 0, {})  
S1KH→R1KH: EAPOL-Key(0, 0, 0, P, 0, 0, SNonce, MIC, {RSNE[PMKR1Name]}, RSNNE],  
MDE, FTE [, Device ID KDE])  
R1KH→S1KH: EAPOL-Key(1, 1, 1, P, 0, 0, ANonce, MIC, {RSNE[PMKR1Name]}, RSNNE],  
[, OCI], MDE, FTE, TIE(ReassociationDeadline), TIE(KeyLifetime), GTK(N), [IGTK(M, IPN)] [,  
BIGTK(Q, BIPN)] [, WIGTK(R, WIPN)] [, Device ID KDE] [, IRM KDE] [, PASN ID KDE])

S1KH→R1KH: EAPOL-Key(1, 1, 0, 0, P, 0, 0, 0, MIC, {[IRM KDE]})

Between a non-AP MLD and an AP MLD, the FT 4-way handshake is as follows:

R1KH→S1KH: EAPOL-Key(0, 0, 1, 0, P, 0, 0, ANonce, 0, {MAC Address})

S1KH→R1KH: EAPOL-Key(0, 1, 0, 0, P, 0, 0, SNonce, MIC, {RSNE(PMKR1Name), MDE, FTE, [RSNxE] [, OCI], MAC Address, MLO Link<sub>n</sub>})

R1KH→S1KH: EAPOL-Key(1, 1, 1, 1, P, 0, 0, ANonce, MIC, {MAC Address, MLO Link<sub>n</sub> [RSNE(PMKR1Name)], MLO GTK<sub>n</sub> [, MLO IGTK<sub>n</sub> [, MLO BIGTK<sub>n</sub>], MDE, FTE, TIE(ReassociationDeadline), TIE(KeyLifetime) [, WIGTK(R, WIPN)]])

S1KH→R1KH: EAPOL-Key(1, 1, 0, 0, P, 0, 0, 0, MIC, {[MAC Address]})

where MLO GTK<sub>n</sub>, MLO IGTK<sub>n</sub>, and MLO BIGTK<sub>n</sub> are defined in 12.7.4.

**NOTE 1**—MAC Address KDE is the MLD MAC address of the MLD with which the transmitting STA is affiliated. See 12.7.4.

Between a non-AP MLD and an AP MLD, if RSNA has not been established, each message of the FT 4-way handshake shall be sent on the same link used by the latest exchange of successful (Re)Association Request/Response frame.

**Change the now-shifted 23th paragraph as follows:**

Upon completion of a successful FT 4-way handshake, the IEEE 802.1X Controlled Port shall be opened on both the non-AP STA and the AP or the non-AP MLD and the AP MLD. Subsequent EAPOL-Key PDUs shall use the key replay counter to detect replayed messages.

**Change the last paragraph as follows:**

Once the PTKSA key lifetime expires, as indicated by the TIE[KeyLifetime], to continue its association in the mobility domain the STA or the non-AP MLD shall perform the FT initial mobility domain association procedures. If the AP or the AP MLD sends a Deauthentication or Disassociation frame to the STA or the non-AP MLD, respectively, with reason code INVALID AUTHENTICATION, then to continue its association in the mobility domain, the STA or the non-AP MLD shall perform the FT initial mobility domain association procedures with any AP or any AP MLD, respectively, in the mobility domain. If the Supplicant EAPOL state machines are triggered to send an EAPOL-Start PDU (in one or more EAPOL-Start frames) after a successful initial mobility domain association, the STA or the non-AP MLD shall perform the FT initial mobility domain association procedures.

### 13.4.3 FT initial mobility domain association in a non-RSN

**Change the first 5 paragraphs as follows (Figure 13-3 not shown):**

In this sequence, the STA or non-AP MLD utilizes the FT procedures by including the MDE in the (Re)Association Request frame. The AP or AP MLD responds by including the MDE in the (Re)Association Response frame. The message flow between a STA and an AP is shown in Figure 13-3.

The STA or non-AP MLD initiates the FT initial mobility domain association procedures by performing an IEEE 802.11 authentication using the Open System authentication algorithm.

STA→AP: Authentication-Request (Open System authentication algorithm)

AP→STA: Authentication-Response (Open System authentication algorithm, Status)

non-AP MLD→AP MLD: Authentication-Request (Open System authentication algorithm, Basic Multi-Link element)

AP MLD→non-AP MLD: Authentication-Response (Open System authentication algorithm, Status, Basic Multi-Link element)

The SME of the STA or the non-AP MLD initiates the authentication exchange through the use of the primitive MLME-AUTHENTICATE.request primitive, and the SME of the AP or the AP MLD responds with MLME-AUTHENTICATE.response primitive. See 11.3.4.

Upon successful IEEE 802.11 Open System authentication, the STA shall send a (Re)Association Request frame to the AP and shall include the MDE or a non-AP STA affiliated with the non-AP MLD shall send a (Re)Association Request frame to an AP affiliated with the AP MLD that includes the MDE. The contents of the MDE shall be the values advertised by the AP or any AP affiliated with the AP MLD in its Beacon or Probe Response frames.

STA→AP: (Re)Association Request (MDE)

AP→STA: (Re)Association Response (MDE)

non-AP MLD→AP MLD: (Re)Association Request (MDE, Basic Multi-Link element)

AP MLD→non-AP MLD: (Re)Association Response (MDE, Basic Multi-Link element)

The SME of the STA or the non-AP MLD initiates the (re)association through the use of the MLME-ASSOCIATE.request or MLME-REASSOCIATE.request primitive. The SME of the AP or the AP MLD responds to the indication with MLME-ASSOCIATE.response or MLME-REASSOCIATE.response primitive. See 11.3.5.

*Insert the following two paragraphs after the seventh paragraph ("The (Re)Association Response frame from the AP...") as follows:*

If the contents of the MDE received by the AP MLD do not match the contents advertised in the Beacon and Probe Response frames of APs affiliated with the AP MLD, the AP MLD shall reject the (Re)Association Request frame with status code STATUS\_INVALID\_MDE.

The (Re)Association Response frame from the AP MLD shall contain an MDE, with contents as presented in the Beacon and Probe Response frames of APs affiliated with the AP MLD.

*Change the last paragraph as follows:*

On successful (re)association, the AP and the non-AP STA or the AP MLD and the non-AP MLD shall transition to State 4 (as defined in 11.3) to enable Data frame transmission.

## 13.5 FT protocol

### 13.5.1 Overview

*Change the first paragraph as follows:*

STAs and MLDs with dot11FastBSSTransitionActivated equal to true shall support the FT protocol.

*Change the third and fourth paragraphs as follows:*

A SFAFTO shall not use any authentication algorithm except the FT authentication algorithm when using the FT protocol.

To prevent key reinstallation attacks, the non-AP STA shall maintain a copy of the most recent GTK, IGTK, and BIGTK when present, and WIGTK when present, installed as part of the FT protocol as if they were installed as a result of receipt of EAPOL-Key PDUs (see 12.7.7.4) and shall refuse to update a GTK, an IGTK, a BIGTK or a WIGTK when the key to be set matches *any* one of these two keys (see 6.5.14).

### 13.5.2 Over-the-air FT protocol authentication in an RSN

*Replace Figure 13-5 as follows:*

![](e8ea15ce4effd50616304b588c8b82e7_img.jpg)

Sequence Diagram: Over-the-air FT protocol authentication in an RSN.

Participants: FTO, Current FTR, Target FTR.

1. FTO sends Successful (secure) session & Data transmission to Current FTR.

2. FTO determines it needs to transition to the Target FTR.

3. FTO sends 802.11 Authentication-Request (FTAA, RSNE[PMKR0Name], MDE, FTE[SNonce, R0KH-ID], Basic Multi-Link element) to Target FTR.

4. Target FTR sends 802.11 Authentication-Response (FTAA, RSNE[PMKR0Name], MDE, FTE[ANonce, SNonce, R1KH-ID], R0KH-ID], Basic Multi-Link element) back to FTO.

5. A successful Reassociation occurs only when the time between the Authentication-Request and the Reassociation Request does not exceed the Reassociation Time.

6. Target FTR sends Reassociation Request (RSNE[PMKR1Name], MDE, FTE[MIC, ANonce, SNonce, R1KH-ID, R0KH-ID], RIC-Request, RSNE, Basic Multi-Link element) to FTO.

7. FTO sends Reassociation Response (RSNE[PMKR1Name], MDE, FTE[MIC, ANonce, SNonce, R1KH-ID, R0KH-ID, GTK[N], IGTK[M], BIGTK[Q], MLO GTKn, MLO IGTKn, MLO BIGTKn], RIC-Response, RSNE, Basic Multi-Link element) back to Target FTR.

8. Target FTR sends 802.1X Controlled Port Unblocked, Successful (Secure) Session & Data Transmission back to FTO.

Figure 13-5—Over-the-air FT protocol in an RSN

*Change the second, third, and fourth paragraphs as follows:*

The FTO and AP<sub>Target FTR</sub> use the FT authentication sequence to specify the PMK-R1 security association and to provide values of SNonce and ANonce that enable a liveness proof, replay protection, and PTK separation. This exchange enables a fresh PTK to be computed in advance of reassociation. The PTKSA is used to protect the subsequent reassociation transaction, including the optional RIC-Request.

To perform an over-the-air fast BSS transition to a target AP<sub>FTR</sub>, the FTO and target AP<sub>FTR</sub> shall perform the following exchange:

FTO→Target AP<sub>FTR</sub>: Authentication-Request (FTAA, 0, RSNE[PMKR0Name], MDE, FTE[SNonce, R0KH-ID], Basic Multi-Link element)

Target AP<sub>FTR</sub>→FTO: Authentication-Response (FTAA, Status, RSNE[PMKR0Name], MDE, FTE[ANonce, SNonce, R1KH-ID, R0KH-ID], Basic Multi-Link element)

*where the Basic Multi-Link element is included when the target FTR is an AP MLD.*

The SME of the FTO initiates the authentication exchange, through the use of the MLME-AUTHENTICATE.request primitive, and the SME of the AP<sub>FTR</sub> responds with an MLME-

AUTHENTICATE.response primitive. See 11.3.4. The MLME primitives for Authentication when the FT authentication algorithm is selected use only authentication transaction sequence number values 1 and 2.

**Change the fifth paragraph, including splitting it into two paragraphs, as follows:**

In the Authentication-Request frame that does not include the Basic Multi-Link element, the SA field of the message header shall be set to the MAC address of the FTO, and the DA field of the message header shall be set to the BSSID of the target AP's BSS. In the Authentication-Request frame that includes the Basic Multi-Link element, the Address 1 (RA) field and the Address 2 (TA) field of the message header shall be set as defined in 35.3.2.

The elements in the frame, and their required contents, shall be as given in 13.8.2.

**Change the now-shifted seventh paragraph as follows:**

If the contents of the MDE received by the **APETR** do not match the contents advertised in the Beacon and Probe Response frames if the FTR is an AP or in the Beacon and Probe Response frames of any AP affiliated with the FTR if the FTR is an AP MLD, the **APETR** shall reject the authentication request with status code STATUS\_INVALID\_MDE. If the Authentication-Request frame contains an authentication algorithm equal to FT authentication and the RSNE does not indicate a single AKMP, or the Authentication type column for that AKMP does not indicate FT authentication (see Table 9-190), the **APETR** shall reject the authentication request with status code STATUS\_INVALID\_AKMP. If the FTE in the Authentication-Request frame contains an invalid R0KH-ID, the **APETR** shall reject the Authentication-Request frame with status code STATUS\_INVALID\_FTE. If the RSNE in the Authentication-Request frame contains an invalid PMKR0Name and the **APETR** has determined that it is an invalid PMKR0Name, the **APETR** shall reject the authentication request with status code STATUS\_INVALID PMKID. If the requested R0KH is not reachable, the **APETR** shall respond to the authentication request with status code R0KH\_UNREACHABLE. If the FTO selects a pairwise cipher suite in the RSNE that is different from the ones used in the Initial mobility domain association, then the **APETR** shall reject the authentication request with status code STATUS\_INVALID\_PAIRWISE\_CIPHER. Subsequent to a rejection of an authentication request, the FTO may retry the authentication request.

**Change the now-shifted eighth paragraph, including splitting it into two paragraphs, as follows:**

In the Authentication-Response frame that does not include the Basic Multi-Link element, the SA field of the message header shall be set to the BSSID of the target AP's BSS, and the DA field of the message header shall be set to the MAC address of the FTO. In the Authentication-Response frame that includes the Basic Multi-Link element, the Address 1 (RA) field and the Address 2 (TA) field of the message header shall be set as defined in 35.3.2.

The Status Code field shall be a value from the options listed in 9.4.1.9. The elements in the frame, and their required contents, shall be as given in 13.8.3.

**Change the now-shifted tenth, 11th, and 12th paragraphs as follows:**

The R1KH of the target **APETR** uses the value of PMKR0Name and other information in the frame to calculate PMKR1Name. If the target **APETR** does not have the key identified by PMKR1Name, it may retrieve that key from the R0KH identified by the FTO. See 13.2. Upon receiving a new PMK-R1 for a **STAFTO**, the target **APETR** shall delete the prior PMK-R1 security association and PTKSAs derived from the prior PMK-R1.

The FTO and the target APFTR compute the PTK and PTKName using the PMK-R1, PMKR1Name, ANonce, and SNonce, as specified in 12.7.1.6.5. The PTKSA shall be deleted by the target APFTR if it does not receive a Reassociation Request frame from the FTO within the reassociation deadline timeout value.

If the FTO does not receive a response to the Authentication-Request frame, it may reissue the request following the restrictions given for Authentication frames in 11.3. If the Status Code field value returned by the target APFTR is SUCCESS, the FTO and target APFTR transition to State 2 (as defined in 11.3); the FTO may continue with reassociation (13.7.1). Handling of errors returned in the Status Code field shall be as specified in 11.3.

### 13.5.3 Over-the-DS FT protocol in an RSN

*Change the first paragraph as follows:*

A STAFTQ shall not initiate an over-the-DS FT authentication to a target APFTR whose MDE contains the Fast BSS Transition over DS bit equal to 0.

*Replace Figure 13-6 as follows:*

![](f1fd84a32cc6525019e766e8ed21605d_img.jpg)

Sequence Diagram: Over-the-DS FT protocol in an RSN

Participants: FTO, Current FTR, Target FTR.

1. FTO sends Successful (secure) session & Data transmission to Current FTR.

2. FTO determines it needs to transition to the Target FTR. FTO sends FT Request (FTO, TargetAP, RSNE[PMKR0Name], MDE, FTE[SNonce, R0KH-ID], Basic Multi-Link element) to Target FTR.

3. Target FTR sends FT Response (FTO, TargetAP, RSNE[PMKR0Name], MDE, FTE[ANonce, SNonce, R1KH-ID, R0KH-ID], Basic Multi-Link element) back to FTO.

4. A successful Reassociation occurs only when the time between the FT Request and the Reassociation Request does not exceed the Reassociation Deadline Time.

5. Reassociation Request (RSNE[PMKR1Name], MDE, FTE[MIC, ANonce, SNonce, R1KH-ID, R0KH-ID], RIC-Request, RSNXE, Basic Multi-Link element) is sent from FTO to Target FTR.

6. Reassociation Response (RSNE[PMKR1Name], MDE, FTE[MIC, ANonce, SNonce, R1KH-ID, R0KH-ID, GTK[N], IGTK[M], BIGTK[Q], MLO GTKn, MLO IGTKn, MLO BIGTKn], RIC-Response, RSNXE, Basic Multi-Link element) is sent from Target FTR to FTO.

7. FTO sends 802.1X Controlled Port Unblocked, Successful (Secure) Session & Data Transmission to Target FTR.

Figure 13-6—Over-the-DS FT protocol in an RSN

*Change the third, fourth, and fifth paragraphs as well as replace Figure 13-7 as follows:*

To perform an over-the-DS fast BSS transition to a target APFTR, the FTO and the target APFTR (through the current APFTR) shall perform the following exchange:

FTO→Target APFTR: FT Request (FTO address, TargetAP address, RSNE[PMKR0Name], MDE, FTE[SNonce, R0KH-ID], Basic Multi-Link element)

Target APFTR→FTO: FT Response (FTO address, TargetAP address, Status, RSNE[PMKR0Name], MDE, FTE[ANonce, SNonce, R1KH-ID, R0KH-ID], Basic Multi-Link element)

where the Basic Multi-Link element is included when the target FTR is an AP MLD.

The SME of the FTO initiates the FT Request frame to the target APFTR by issuing an MLME-REMOTEREQUEST.request primitive with parameters including the contents of the FT Request frame (FT Action frame with an FT Action field value indicating FT Request) to be sent. The MAC of the FTO transmits this Action frame. For processing at the current APFTR and target APFTR, see 13.10. When the MAC of the FTO receives the FT Response frame (FT Action frame with an FT Action field value indicating FT Response), it passes it to the SME by use of MLME-REMOTEREQUEST.indication primitive, with parameters including the contents of the received Action frame. The MLME interfaces on the FTO, current APFTR, and the target APFTR for executing the over-the-DS fast BSS transition are shown in Figure 13-7 (MLME interfaces for over-the-DS FT protocol messages).

![](d820d1b6ee0b0417e6a57f3ef2e1c1bc_img.jpg)

Figure 13-7 is a sequence diagram illustrating the MLME interfaces for over-the-DS FT protocol messages between the FTO, Current FTR, and Target FTR.

The diagram shows three participants: FTO, Current FTR, and Target FTR. Each participant has two roles: SME (Software Management Entity) and MAC (Media Access Control).

**FTO to Current FTR (FT Request):**

- FTO (SME) sends MLME-REMOTEREQUEST.request (FT Action Request (elements)) to Current FTR (MAC).

**Current FTR to Target FTR (FT Request):**

- Current FTR (MAC) sends MLME-REMOTEREQUEST.indication to Target FTR (MAC).
- Target FTR (MAC) sends RemoteRequest (elements) to Current FTR (MAC).

**Target FTR to Current FTR (FT Response):**

- Target FTR (MAC) sends RemoteResponse (elements) to Current FTR (MAC).

**Current FTR to FTO (FT Response):**

- Current FTR (MAC) sends FT Action Response (elements) to FTO (MAC).

**FTO to Current FTR (Reassociation Request):**

- FTO (SME) sends MLME-REMOTEREQUEST.indication to Current FTR (MAC).
- FTO (MAC) sends MLME-REASSOCIATE.request to Current FTR (MAC).

**Current FTR to Target FTR (Reassociation Request):**

- Current FTR (MAC) sends Reassociation Request (elements) to Target FTR (MAC).

**Target FTR to Current FTR (Reassociation Response):**

- Target FTR (MAC) sends MLME-REASSOCIATE.indication to Current FTR (MAC).
- Target FTR (MAC) sends MLME-REASSOCIATE.response to Current FTR (MAC).

**Current FTR to FTO (Reassociation Confirm):**

- Current FTR (MAC) sends Reassociation Response (elements) to FTO (MAC).
- Current FTR (MAC) sends MLME-REASSOCIATE.confirm to FTO (MAC).

Figure 13-7—MLME interfaces for over-the-DS FT protocol messages

The STA Address field of the FT Request frame shall be set to the MAC address of the FTO, and the Target AP Address field of the FT Request frame shall be set to the BSSID of the target AP's BSSMAC address of the target FTR. The elements in the FT Request frame, and their required contents, shall be as given in 13.8.2.

*Insert the following NOTE as the sixth paragraph as follows:*

NOTE—The MAC address of the FTO is the MLD MAC address of a non-AP MLD if the FTO is the non-AP MLD and is the MAC address of a non-AP STA if the FTO is the non-AP STA. The MAC address of the target FTR is the MLD MAC address of an AP MLD if the target FTR is the AP MLD and is the MAC address of an AP if the target FTR is the AP.

***Change the now-shifted seventh, eighth, ninth, tenth, and 11th paragraphs as follows:***

If the contents of the MDE received by the target **APETR** do not match the contents advertised in the Beacon and Probe Response frames if the FTR is an AP or in the Beacon and Probe Response frames of any AP affiliated with the FTR if the FTR is an AP MLD, the target **APETR** shall reject the FT Request frame with status code **STATUS\_INVALID\_MDE**. If the RSNE does not indicate a single AKMP, or the Authentication type column for that AKMP does not indicate FT authentication (see Table 9-190), the **APtarget\_FTR** shall reject the FT Request frame with status code **STATUS\_INVALID\_AKMP**. If the FTE in the FT Request frame contains an invalid R0KH-ID, the **APtarget\_FTR** shall reject the FT Request frame with status code **STATUS\_INVALID\_FTE**. If the RSNE in the FT Request frame contains an invalid PMKR0Name, and the **APtarget\_FTR** has determined that it is an invalid PMKR0Name, the **APtarget\_FTR** shall reject the authentication request with status code **STATUS\_INVALID\_PMKID**. If the requested R0KH is not reachable, the **APtarget\_FTR** shall respond to the FT Request frame with status code **R0KH\_UNREACHABLE**. The **APtarget\_FTR** may reject the FT Request frame for limiting the FTO's reassociation to this **APtarget\_FTR** by using the status code **REQUEST\_DECLINED**. If the FTO selects a pairwise cipher suite in the RSNE that is different from the ones used in the initial mobility domain association, then the **APtarget\_FTR** shall reject the FT Request frame with status code **STATUS\_INVALID\_PAIRWISE\_CIPHER**.

The STA Address field of the FT Response frame shall be set to the MAC address of the FTO, and the Target AP Address field of the FT Response frame shall be set to the **BSSID** of the target AP's **BSSMAC** address of the target FTR. The elements in the FT Response frame, and their required contents, shall be as given in 13.8.3. The Status Code field shall be a value from the options listed in 9.4.1.9.

The R1KH of the target **APETR** uses the value of PMKR0Name and other information from the frame to calculate PMKR1Name. If the target **APETR** does not have the key identified by PMKR1Name, it may retrieve that key from the R0KH identified by the **STAETO**. See 13.2. Upon receiving a new PMK-R1 for a **STAETO**, the target **APETR** shall delete the prior PMK-R1 security association and **PTKSA**s derived from the prior PMK-R1.

The FTO and the target **APETR** compute the **PTK** and **PTKName** using the PMK-R1, PMKR1Name, ANonce, and SNonce, as specified in 12.7.1.6.5. The **PTKSA** shall be deleted by the target **APETR** if it does not receive a Reassociation Request frame from the FTO within the reassociation deadline timeout value.

If the FTO does not receive a response to the FT Request frame, it may reissue the request following the restrictions given for Authentication frames in 11.3. If the Status Code field value returned by the target **APETR** is **SUCCESS**, the FTO and target **APETR** transition to State 2 (as defined in 11.3); the FTO may continue with reassociation (13.7.1). Handling of errors returned in the Status Code field shall be as specified for Authentication frames in 11.3.

## 13.6 FT resource request protocol

### 13.6.1 Overview

***Change the second and third paragraphs as follows:***

**APtarget\_FTRs** capable of fast BSS transition may allow FTOs to request resources prior to reassociation. Availability of the FT resource request protocol is advertised by the target **APETR** in the MDE. If the

Resource Request Protocol Capability subfield is 0, then the FTO shall not send an Authentication-Confirm nor FT Confirm frame to the APFTR. An APFTR that receives an Authentication-Confirm or FT Confirm frame from a STAFTQ and does not support the FT resource request protocol shall respond with status code INVALID\_PARAMETERS.

The additional message exchange for the FT resource request protocol shall be performed using the same method (over-the-air or over-the-DS) as was used for the Authentication-Request/Response frame or FT Request/Response frame. An APA\_FTR that receives an FT Confirm frame that did not previously receive an FT Request frame from the same STAFTQ shall reject the request with status code STATUS\_INVALID\_FT\_ACTION\_FRAME\_COUNT. An APA\_FTR that receives an Authentication-Confirm frame that did not previously receive an Authentication-Request frame from the same STAFTQ shall reject the request with status code TRANSACTION\_SEQUENCE\_ERROR.

### 13.6.2 Over-the-air fast BSS transition with resource request

*Replace Figure 13-10 as follows:*

![](57e6c56ea7d335d6848408d0ff2b0e31_img.jpg)

Sequence Diagram: Over-the-air FT resource request protocol in an RSN.

Participants: FTO, Current FTR, Target FTR.

1. FTO sends Successful (secure) session & Data transmission to Current FTR.

2. FTO determines it needs to transition to the Target FTR.

3. FTO sends 802.11 Authentication-Request (FTAA, RSNE[PMKR0Name], MDE, FTE[SNonce, R0KH-ID], Basic Multi-Link element) to Target FTR.

4. Target FTR sends 802.11 Authentication-Response (FTAA, RSNE[PMKR0Name], MDE, FTE[ANonce, SNonce, R1KH-ID, R0KH-ID], Basic Multi-Link element) to FTO.

5. FTO sends 802.11 Authentication-Confirm (FTAA, RSNE[PMKR1Name], MDE, FTE[MIC, ANonce, SNonce, R1KH-ID, R0KH-ID], RIC-Request, Basic Multi-Link element) to Target FTR.

6. Target FTR sends 802.11 Authentication-Ack (FTAA, RSNE[PMKR1Name], MDE, FTE[MIC, ANonce, SNonce, R1KH-ID, R0KH-ID], RIC-Response, Basic Multi-Link element) to FTO.

7. A successful Reassociation occurs only when the time between the Authentication-Request and the Reassociation Request does not exceed the Reassociation Deadline Time.

8. Target FTR sends Reassociation Request (RSNE[PMKR1Name], MDE, FTE[MIC, ANonce, SNonce, R1KH-ID, R0KH-ID], RSNXE, Basic Multi-Link element) to FTO.

9. FTO sends Reassociation Response (RSNE[PMKR1Name], MDE, FTE[MIC, ANonce, SNonce, R1KH-ID, R0KH-ID, GTK[N], IGTK[M], BIGTK[Q], MLO GTKn, MLO IGTKn, MLO BIGTKn], RSNXE, Basic Multi-Link element) to Target FTR.

10. Target FTR sends 802.1X Controlled Port Unblocked, Successful (Secure) Session & Data Transmission to FTO.

Figure 13-10—Over-the-air FT resource request protocol in an RSN

*Change the third to eighth paragraphs as follows:*

To perform an over-the-air FT resource request protocol to a target APFTR, after completing the Authentication-Request/Response frame exchange given in 13.5.2 or 13.5.4, the FTO and target APFTR shall perform the following exchange:

FTO→Target APFTR: Authentication-Confirm (FTAA, 0, RSNE[PMKR1Name], MDE, FTE[MIC, ANonce, SNonce, R1KH-ID, R0KH-ID], RIC-Request, Basic Multi-Link element)

Target **APETR**→FTO: Authentication-Ack (FTA), Status, RSNE[PMKR|Name], MDE, FTE[MIC, ANonce, SNonce, R1KH-ID, R0KH-ID], RIC-Response, Basic Multi-Link element)

where the Basic Multi-Link element is included when the target FTR is an AP MLD.

The SME of the FTO initiates the resource request exchange through the use of the primitive MLMERESOURCEREQUEST.request primitive, and the SME of the **APETR** responds with MLME-RESOURCEREQUEST.response primitive.

In the Authentication-Confirm frame that does not include the Basic Multi-Link element, the SA field of the message header shall be set to the MAC address of the FTO, and the DA field of the message header shall be set to the BSSID of the target AP's BSS. In the Authentication-Confirm frame that includes the Basic Multi-Link element, the Address 1 (RA) field and the Address 2 (TA) field of the message header shall be set as defined in 35.3.2. In a non-RSN, the FTE and RSNE shall not be present. The elements in the frame, the element contents, and MIC calculation shall be as given in 13.8.4.

If the contents of the MDE received by the target **APETR** do not match the contents advertised in the Beacon and Probe Response frames if the FTR is an AP or in the Beacon and Probe Response frames of any AP affiliated with the FTR if the FTR is an AP MLD, the target **APETR** shall reject the Authentication-Confirm frame with status code STATUS\_INVALID\_MDE.

In an RSN, the R1KH of the target **APETR** verifies the MIC in the FTE in the Authentication-Confirm frame and shall discard the request if it is incorrect. If the FTE in the Authentication-Confirm frame contains a different R0KH-ID, R1KH-ID, ANonce, or SNonce, the **APETR** shall reject the Authentication-Confirm frame with status code STATUS\_INVALID\_FTE. If the RSNE in the Authentication-Confirm frame contains an invalid PMKR|Name, the **APETR** shall reject the Authentication-Confirm frame with status code STATUS\_INVALID\_PMKID.

In the Authentication-Ack frame that does not include the Basic Multi-Link element, the SA field of the message header shall be set to the BSSID of the target AP's BSS, and the DA field of the message header shall be set to the MAC address of the FTO. In the Authentication-Ack frame that includes the Basic Multi-Link element, the Address 1 (RA) field and the Address 2 (TA) field of the message header shall be set as defined in 35.3.2. In a non-RSN, the FTE and RSNE shall not be present. The Status Code field shall be a value from the options listed in 9.4.1.9. The elements in the frame, the element contents, and MIC calculation shall be as given in 13.8.5.

#### Change the 11th and 12th paragraphs as follows:

If the value of the Status Code field returned by the target **APETR** in the Authentication-Ack frame is not SUCCESS, then the FTO shall abandon this transition attempt.

In an RSN, on successful completion of the FT authentication exchange of the FT resource request protocol, the PTKSA has been established and proven live. The key replay counter shall be initialized to 0, and the subsequent EAPOL-Key PDUs (e.g., GTK, IGTK, BIGTK, and WIGTK updates) shall use the key replay counter to detect and discard replays. The PTKSA shall be deleted by the target **APETR** if it does not receive a Reassociation Request frame from the FTO within the reassociation deadline timeout value.

#### Change the last paragraph as follows:

The exchange between the FTO and the target **APETR** may continue with reassociation (13.7.1 or 13.7.2).

### 13.6.3 Over-the-DS fast BSS transition with resource request

Replace Figure 13-12 as follows:

![](d91c2bd069447215c0adf592b452be0a_img.jpg)

Sequence Diagram: Over-the-DS FT resource request protocol in an RSN.

Participants: FTO, Current FTR, Target FTR.

1. FTO sends a message to Current FTR: Successful (secure) session & Data transmission.

2. FTO determines it needs to transition to the Target FTR.

3. FTO sends FT Request (FTO, TargetAP, RSNE[PMKR0Name], MDE, FTE[SNonce, R0KH-ID], Basic Multi-Link element) to Target FTR.

4. Target FTR sends FT Response (FTO, TargetAP, RSNE[PMKR0Name], MDE, FTE[ANonce, SNonce, R1KH-ID, R0KH-ID], Basic Multi-Link element) back to FTO.

5. FTO sends FT Confirm (FTO, TargetAP, RSNE[PMKR1Name], MDE, FTE[MIC, ANonce, SNonce, R1KH-ID, R0KH-ID], RIC-Request, Basic Multi-Link element) to Target FTR.

6. Target FTR sends FT ACK (FTO, TargetAP, RSNE[PMKR1Name], MDE, FTE[MIC, ANonce, SNonce, R1KH-ID, R0KH-ID], TIE[ReassociationDeadline], RIC-Response, Basic Multi-Link element) back to FTO.

7. A successful Reassociation occurs only when the time between the FT Request and the Reassociation Request does not exceed the Reassociation Deadline Time.

8. Target FTR sends Reassociation Request (RSNE[PMKR1Name], MDE, FTE[MIC, ANonce, SNonce, R1KH-ID, R0KH-ID], RSNXE, Basic Multi-link Element) to FTO.

9. FTO sends Reassociation Response (RSNE[PMKR1Name], MDE, FTE[MIC, ANonce, SNonce, R1KH-ID, R0KH-ID, GTK[N], BIGTK[Q], MLO GTKn, MLO IGTKn, MLO BIGTKn], RSNXE, Basic Multi-link Element) back to Target FTR.

10. FTO sends 802.1X Controlled Port Unblocked, Successful (Secure) Session & Data Transmission to Target FTR.

Figure 13-12—Over-the-DS FT resource request protocol in an RSN

*Change the third to eighth paragraphs as follows:*

To perform an Over-the-DS FT resource request protocol to a target APFTR, after completing the FT Request/Response frame exchange given in 13.5.3 or 13.5.5, the FTO and target APFTR (through the current APFTR) shall perform the following exchange, using the mechanism described in 13.10:

FTO→Target APFTR: FT Confirm (FTO, TargetAP, RSNE[PMKR1Name], MDE, FTE[MIC, ANonce, SNonce, R1KH-ID, R0KH-ID], RIC-Request, Basic Multi-Link element)

Target APFTR→FTO: FT Ack (FTO, TargetAP, Status, RSNE[PMKR1Name], MDE, FTE[MIC, ANonce, SNonce, R1KH-ID, R0KH-ID], TIE[ReassociationDeadline], RIC-Response, Basic Multi-Link element)

where the Basic Multi-Link element is included when the target FTR is an AP MLD.

The SME of the FTO initiates the FT Confirm frame to the target APFTR by issuing an MLME-REMOTEREQUEST.request primitive with parameters including the contents of the FT Confirm frame (FT Action frame with an FT Action field value indicating FT Confirm) to be sent. The MAC of the FTO

transmits this Action frame. For processing at the current **APETR** and target **APETR**, see 13.10. When the MAC of the FTO receives the FT Ack frame (FT Action frame with an FT Action field value indicating FT Ack), it passes it to the SME by use of an MLME-REMOTEREQUEST.indication primitive, with parameters including the contents of the received Action frame.

The STA Address field of the FT Confirm frame shall be set to the MAC address of the FTO, and the Target AP Address field of the FT Confirm frame shall be set to the **BSSID** of the target AP's **BSSMAC** address of the **target FTR**. The elements in the FT Confirm frame, the element contents, and the MIC calculation shall be as given in 13.8.4. In a non-RSN, the FTE and RSNE shall not be present.

If the contents of the MDE received by the target **APETR** do not match the contents advertised in the Beacon and Probe Response frames if the **FTR** is an AP or in the Beacon and Probe Response frames of any AP affiliated with the **FTR** if the **FTR** is an AP MLD, the target **APETR** shall reject the FT Confirm frame with status code **STATUS\_INVALID\_MDE**.

In an RSN, the R1KH of the target **APETR** verifies the MIC in the FTE and shall discard the request if it is incorrect. If the FTE in the FT Confirm frame contains a different R0KH-ID, R1KH-ID, ANonce, or SNonce from the values sent in the FT Response frame, the AP shall reject the FT Confirm frame with status code **STATUS\_INVALID\_FTE**. If the RSNE in the FT Confirm frame contains an invalid PMKR1Name, the **APETR** shall reject the FT Confirm frame with status code **STATUS\_INVALID\_PMKID**.

The STA Address field of the FT Ack frame shall be set to the MAC address of the FTO, and the Target AP Address field of the FT Ack frame shall be set to the **BSSID** of the target AP's **BSSMAC** address of the **target FTR**. The elements in the FT Ack frame, the element contents, and the MIC calculation shall be as given in 13.8.5. In a non-RSN, the FTE and RSNE shall not be present. The Status Code field value shall be a value from the options listed in 9.4.1.9, and a TIE may appear.

#### *Change the 11th and 12th paragraphs as follows:*

In order to recover from over-the-DS frame losses, the FTO may retransmit the FT Confirm frame until the reassociation deadline time is reached. If the FTO does not receive a response to the FT Confirm frame or if the value of the Status Code field returned by the target **APETR** in the FT Ack frame is not SUCCESS, then the FTO shall abandon this transition attempt.

In an RSN, on successful completion of the FT Confirm/Acknowledgment frame exchange, the **PTKSA** has been established and proven live. The key replay counter shall be initialized to 0, and the subsequent EAPOL-Key frames (e.g., GTK, IGTK, BIGTK, and WIGTK updates) shall use the key replay counter to detect and discard replays. The **PTKSA** shall be deleted by the target **APETR** if it does not receive a Reassociation Request frame from the FTO within the reassociation deadline timeout value. Resource request procedures are specified in 13.11.

#### *Change the last paragraph as follows:*

The exchange between the FTO and the target **APETR** may continue with reassociation (13.7.1 or 13.7.2).

### 13.7 FT reassociation

#### 13.7.1 FT reassociation in an RSN

#### *Change the first three paragraphs as follows:*

If the FTO does not send a Reassociation Request frame to the target **APETR** within the reassociation deadline interval received during the FT initial mobility domain association, the target **APETR** may delete the PTKSA, and the FTO shall abandon this transition attempt.

The FTO shall perform a reassociation directly with the target **APETR** via the following exchange:

FTO→Target **APETR**: Reassociation Request(RSNE[PMKR1Name], MDE, FTE[MIC, ANonce, SNonce, R1KH-ID, R0KH-ID], RIC-Request, RSNXE, Basic Multi-Link element)

Target **APETR**→FTO: Reassociation Response(RSNE[PMKR1Name], MDE, FTE[MIC, ANonce, SNonce, R1KH-ID, R0KH-ID, GTK[N], IGTK[M], BIGTK[Q], WIGTK[R], MLO GTK<sub>m</sub>, MLO IGTK<sub>m</sub>, MLO BIGTK<sub>m</sub>], RIC-Response, RSNXE, Basic Multi-Link element)

where,

- **MLO GTK** is the **MLO GTK** subelement for the AP affiliated with the AP MLD for the link specified by the value in the Link ID field.
- **MLO IGTK** is the **MLO IGTK** subelement for the AP affiliated with the AP MLD for the link specified by the value in the Link ID field.
- **MLO BIGTK** is the **MLO BIGTK** subelement for the AP affiliated with the AP MLD for the link specified by the value in the Link ID field.
- The **GTK[N]**, **IGTK[M]**, and **BIGTK[Q]** are present when the FTR is an AP.
- The **MLO GTK<sub>m</sub>**, **MLO IGTK<sub>m</sub>**, **MLO BIGTK<sub>m</sub>**, and the Basic Multi-Link element are present when the FTR is an AP MLD.

The SME of the FTO initiates the reassociation through the use of the MLME-REASSOCIATE.request primitive. The SME of the **APETR** responds to the indication with MLME-REASSOCIATE.response primitive. See 11.3.5.

**Change the fourth paragraph, including splitting it into two paragraphs as follows:**

In the Reassociation Request frame that does not include the Basic Multi-Link element, the SA field of the message header shall be set to the MAC address of the FTO, and the DA field of the message header shall be set to the BSSID of the target AP's BSS. In the Reassociation Request frame that includes the Basic Multi-Link element, the Address 1 (RA) field and the Address 2 (TA) field of the message header shall be set as defined in 35.3.2.

The elements in the frame, the element contents, and the MIC calculation shall be as given in 13.8.4.

**Change the now-shifted sixth, seventh, eighth, ninth, and tenth paragraphs as follows:**

The R1KH of the target **APETR** verifies the MIC in the FTE in the Reassociation Request frame and shall discard the request if the MIC is incorrect.

If the target **APETR** is an AP that includes an RSNXE in its Beacon and Probe Response frames and the RSNXE Used subfield of the MIC Control field of the FTE is 1 or if the target FTR is an AP MLD and any AP affiliated with the AP MLD includes an RSNXE in its Beacon and Probe Response frames and the RSNXE Used subfield of the MIC Control field of the FTE is set to 1, but the Reassociation Request frame does not include an RSNXE, the R1KH of the target **APETR** shall discard the request.

If dot11RSNAOperatingChannelValidationActivated is true and the FTO indicates OCVC, the target **APETR** shall ensure that OCI subelement of the FTE matches by ensuring that all of the following are true:

- OCI subelement is present

— Channel information in the OCI matches the current operating channel parameters of the link where the (Re)Association Request/Response frames are exchanged (see 12.2.11)

Otherwise, the **APtarget\_FTR** shall reject the Reassociation Request frame with status code STATUS\_INVALID\_FTE.

If the contents of the MDE received by the target **APETR** do not match the contents advertised in the Beacon and Probe Response frames if the FTR is an AP or in the Beacon and Probe Response frames of any APs affiliated with the FTR if the FTR is an AP MLD, the target **APETR** shall reject the Reassociation Request frame with status code STATUS\_INVALID\_MDE. If the FTE in the Reassociation Request frame contains a different R0KH-ID, R1KH-ID, ANonce, or SNonce, the **APETR** shall reject the Reassociation Request frame with status code STATUS\_INVALID\_FTE. If the RSNE in the Reassociation Request frame contains an invalid PMKR1Name, the **APETR** shall reject the Reassociation Request frame with status code STATUS\_INVALID\_PMKID.

***Change the now-shifted 11th paragraph, including splitting it into two paragraphs as follows:***

In the Reassociation Response frame that does not include the Basic Multi-Link element, the SA field of the message header shall be set to the BSSID of the target AP's BSS, and the DA field of the message header shall be set to the MAC address of the FTO. In the Reassociation Response frame that includes the Basic Multi-Link element, the Address 1 (RA) field and the Address 2 (TA) field of the message header shall be set as defined in 35.3.2.

The Status Code field shall be a value from the options listed in 9.4.1.9. The elements in the frame, the element contents, and the MIC calculation shall be as given in 13.8.5.

***Change the now-shifted 14th, 15th, and 16th paragraphs as follows:***

If in the Reassociation Response frame the RSNE fields other than the PMKID Count field and the PMKID List field are not identical to the corresponding RSNE fields in the Beacon and Probe Response frames received from the target **APETR** if the target FTR is an AP or if in the Reassociation Response frame the RSNE fields other than the PMKID Count field and the PMKID List field corresponding to each link are not identical to the corresponding RSNE fields of the link in the Beacon and Probe Response frames received from the corresponding AP affiliated with the target FTR or in the multi-link probe response received from the target FTR if the target FTR is an AP MLD, the SIKH of the FTO shall discard the response. If the PMKID List field does not include the correct PMKR1Name value, the SIKH of the FTO shall discard the response.

If the Beacon and Probe Response frames received from the target **APETR** if the target FTR is an AP or Beacon and Probe Response frames received from an AP affiliated with the target FTR if the target FTR is an AP MLD do not include an RSNxE, but the RSNxE used subfield of the MIC Control field of the FTE is set to 1, the SIKH of the FTO shall discard the response.

If the Reassociation Response frame includes the RSNxE, the SIKH of the FTO shall verify that this element matches information included in the Beacon and Probe Response frames received from the target **APETR** if the target FTR is an AP. If the Reassociation Response frame includes the RSNxE, the SIKH of the FTO shall verify that the RSNxE corresponding to each link is identical to the corresponding RSNxE of the link in the Beacon and Probe Response frames received from the corresponding AP affiliated with the target FTR or in the multi-link probe response received from the target FTR if the target FTR is an AP MLD. If those frames did not include the RSNxE or if the RSNxEs are not identical, the SIKH of the FTO shall discard the response.

***Insert the following paragraph as the 17th paragraph:***

If the target FTR is an AP MLD and the affiliated AP MAC address for each link in the Basic Multi-Link element in the Reassociation Response frame are not identical to the corresponding AP MAC address in the Beacon and Probe Response frames received from the corresponding AP affiliated with the target FTR or in the multi-link probe response received from the target FTR, the SIKH of the FTO shall discard the response.

***Change the now-shifted 18th paragraph as follows:***

If dot1lRSNAOperatingChannelValidationActivated is true and the target **APETR** indicates OCVF, FTO shall ensure that OCI subelement of the FTE matches by ensuring that all of the following are true

- OCI subelement is present
- Channel information in the OCI matches the current operating channel parameters of the link where the (Re)Association Request/Response frames are exchanged (see 12.2.11)

Otherwise, the FTO reject the Reassociation Response frame by discarding the frame.

***Change the now-shifted 21st, 22nd, and 23rd paragraphs as follows:***

If the Status Code field value returned by the target **APETR** in the response is **REFUSED\_REASON\_UNSPECIFIED**, **TRANSACTION\_SEQUENCE\_ERROR**, or **REJECTED\_SEQUENCE\_TIMEOUT**, then the FTO shall abandon this transition attempt. Handling of other errors returned in the Status Code field shall be as specified in 11.3.

Upon a successful reassociation, the PTKSA has been established and proven live. The SME of the **APETR** shall open the IEEE 802.1X Controlled Port. The FTO shall transition to State 4 (as defined in 11.3). If the target **APETR** is distinct from the previous **APETR**, the FTO shall enter State 1 with respect to the previous **APETR**.

Upon a successful reassociation, the FTO shall delete any corresponding PTKSA with its previous **APETR**. The SME of the FTO shall issue an MLME-DELETEKEYS.request primitive to delete the pairwise keys with the previous **APETR**, and the FTO and the **APETR** shall issue an MLME-SETKEYS.request primitive and MLME-SETPROTECTION.request primitive to install the pairwise keys. The PTK lifetime timer shall be initialized with the value calculated as the difference between the TIE[KeyLifetime] sent in message 3 of the FT initial mobility domain association and the time since the completion of the FT 4-way handshake during the FT initial mobility domain association.

## 13.8 FT authentication sequence

### 13.8.1 Overview

***Change the first two paragraphs as follows:***

The FT authentication sequence comprises four sets of FT elements. Each set of FT elements is referred to in 13.8 as a *message*. These messages are included in the FT Protocol frames or FT Resource Request Protocol frames to initiate a fast BSS transition. The FT authentication sequence is always initiated by the FTO and responded to by the target **APETR**.

In an RSN, the first two messages in the sequence allow the FTO and target **APETR** to provide association instance identifiers, SNonce and ANonce, respectively. SNonce and ANonce are chosen randomly or pseudorandomly and are used to generate a fresh PTK. The first two messages also enable the target **APETR** to provision the PMK-R1 and the FTO and target **APETR** to compute the PTK. The third and fourth messages demonstrate liveness of the peer, authenticate the elements, and enable an authenticated resource request.

*Change the last entry of Table 13-1 (not all lines shown) as follows:*

Table 13-1—FT authentication elements

| Information | Presence in Authentication Sequence messages                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Description |
|-------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------|
| RSNXE       | <p>The RSNXE is present in the first message if any subfield of the Extended RSN Capabilities field in this element is non-zero, except the Field Length subfield.</p> <p>If the third message is transmitted in a Reassociation Request frame, the RSNXE is present in the third message if an RSNXE is present in a Beacon or Probe Response frame that the FTO has received from the target AP or an AP affiliated with the target AP MLD and the FTO set to 1 any subfield, except the Field Length subfield, of the Extended RSN Capabilities field in this element.</p> <p>If the fourth message is transmitted in a Reassociation Request frame, the RSNXE is present in the fourth message if an RSNXE was present in the third message and the target AP or an AP affiliated with the target AP MLD set to 1 any subfield, except the Field Length subfield, of the Extended RSN Capabilities field in this element.</p> <p>Otherwise, the RSNXE is not present.</p> | 9.4.2.240   |

*Change the sixth, seventh, eighth, and ninth paragraphs as follows:*

The first message is used by the FTO to initiate a fast BSS transition. When RSNA is enabled, the FTO shall include the R0KH-ID and the SNonce in the FTE and the PMKR0Name in the RSNE. The target APFTR can use the PMKR0Name to derive the PMKR1Name, and if the target APFTR does not have the PMK-R1 identified by PMKR1Name, it may attempt to retrieve that key from the R0KH identified by R0KH-ID. See 13.2. The FTO includes a fresh SNonce as its contribution to the association instance identifier and to provide key separation of the derived PTK; it is selected randomly to serve as a challenge that demonstrates the liveness of the peer in the fourth message.

The second message is used by the target APFTR to respond to the requesting FTO. The target APFTR provides the key holder identifiers and key names used to generate the PTK. The target APFTR also includes a fresh ANonce as its contribution to the association instance identifier and to provide key separation of the derived PTK. The response includes a status code.

In an RSN, the third message is used by the FTO to assert to the target APFTR that it has a valid PTK. If no resources are required, then the FTO omits inclusion of the RIC.

The fourth message is used by the target APFTR to respond to the requesting FTO. This message serves as final confirmation of the transition, establishes that the APFTR possesses the PMK-R1 and is participating in this association instance, and protects against downgrade attacks. Note, however, that the RIC is absent if no resources were requested in the third message. This also includes a status code and may include a reassociation deadline.

*Insert the following paragraph as the last paragraph of the subclause:*

If the requesting FTO is a non-AP MLD, the target FTR is an AP MLD, and the first message is sent over the air, the following apply:

- The third message sent over the air shall have the value of the Address 1 field equal to the value of the Address 1 field of the first message and the value of the Address 2 field equal to the value of the Address 2 field of the first message.
- The second and fourth message sent over the air shall have the value of the Address 1 field equal to the value of the Address 2 field of the first message and the value of the Address 2 field equal to the value of the Address 1 field of the first message.

#### 13.8.2 FT authentication sequence: contents of first message

**Change the second paragraph as follows:**

The MDE shall contain the MDID field and the FT Capability and Policy field settings obtained from the target AP or any AP affiliated with the target AP MLD, as advertised by the target AP or any AP affiliated with the target AP MLD in Beacon and Probe Response frames. The MDID shall be identical to that obtained during the FT initial mobility domain association exchange.

#### 13.8.3 FT authentication sequence: contents of second message

**Change the second, third, and fourth paragraphs as follows:**

If present, the RSNE(s) shall be set as follows:

- Version field shall be set to 1.
- PMKID Count field shall be set to 1.
- PMKID List field shall be set to the value contained in the first message of this sequence.
- All other fields of the Information field shall be identical to the contents of the RSNE advertised by the AP or the AP affiliated with the AP MLD in Beacon and Probe Response frames.

The MDE shall contain the MDID and FT Capability and Policy fields. This element shall be the same as the MDE advertised by the target AP or any AP affiliated with the AP MLD in Beacon and Probe Response frames.

If present, the FTE shall be set as follows:

- R0KH-ID shall be identical to the R0KH-ID provided by the FTO in the first message.
- R1KH-ID shall be set to the R1KH-ID of the target APFTR, from dot1FTR1KeyHolderID.
- ANonce shall be set to a value chosen randomly by the target APFTR, see 12.7.5 for a recommended procedure.
- SNonce shall be set to the value contained in the first message of this sequence.
- When the negotiated AKM is 00-0F-AC:25, the MIC Length subfield of the MIC Control field shall be set to indicate the length of the MIC field.
- All other fields shall be set to 0.

#### 13.8.4 FT authentication sequence: contents of third message

**Change the third paragraph (not all lines shown) as follows:**

If present, the FTE shall be set as follows:

- ANonce, SNonce, R0KH-ID, and R1KH-ID shall be set to the values contained in the second message of this sequence.

— ...

— The MIC shall be calculated on the concatenation of the following data, in the order given here:

- FTO's MAC address (6 octets)
- Target AP's FTR's MAC address (6 octets)
- Transaction sequence number (1 octet) that shall be set to the value 5 if this is a Reassociation Request frame and, otherwise, set to the value 3
- RSNE
- MDE
- FTE, with the MIC field of the FTE set to 0
- Contents of the RIC-Request (if present)
- RSNXE (if present)
- Non-AP STA MAC address corresponding to all the requested links in increasing order of link ID if Basic Multi-Link element is included in the Reassociation Request frame

— All other fields shall be set to 0.

**Change the last paragraph as follows:**

The RSNXE shall be present if an RSNXE was present in a Beacon or Probe Response frame that the FTO has received from the target AP FTR if the FTR is an AP or an AP affiliated with the target FTR if the FTR is an AP MLD and the FTO set to 1 any subfield, except the Field Length subfield, of the Extended RSN Capabilities field in this element.

**13.8.5 FT authentication sequence: contents of fourth message**

**Change the second paragraph as follows:**

If present, the RSNE(s) shall be set as follows:

- Version field shall be set to 1.
- PMKID Count field shall be set to 1.
- PMKID List field shall contain the PMKR1Name
- All other fields of the Information field shall be identical to the contents of the RSNE advertised by the target AP FTR if the FTR is an AP or an AP affiliated with the target FTR if the FTR is an AP MLD in Beacon and Probe Response frames.

**Change the fourth paragraph (not all lines shown) as follows:**

If present, the FTE shall be set as follows:

- ANonce, SNonce, R0KH-ID, and R1KH-ID shall be set to the values contained in the second message of this sequence.
- ...
- The RSNXE Used subfield of the MIC Control field shall be set to 1 if the target AP or an AP affiliated with the target AP MLD includes an RSNXE in its Beacon and Probe Response frames; otherwise, this subfield shall be set to 0.
- ...
- When this message of the authentication sequence appears in a Reassociation Response frame, the Optional Parameter(s) field in the FTE may include the GTK, IGTK, BIGTK, and WIGTK subelements or MLO GTK, MLO IGTK, and MLO BIGTK subelements. If a GTK, an IGTK, a BIGTK, or WIGTK, an MLO GTK, an MLO IGTK, or an MLO BIGTK are included, the Key field

of the subelement shall be wrapped using **PTK-KEK** or **KEK2** and the appropriate key wrap algorithm, as specified in Table 12-11 and 12.7.2. The padding consists of appending a single octet 0xdd followed by zero or more 0x00 octets. When processing a received message, the receiver shall ignore this trailing padding. Addition of padding does not change the value of the Key Length field. Note that the length of the encrypted Key field can be determined from the length of the **GTK**, **IGTK**, **BIGTK**, or **WIGTK**, **MLO GTK**, **MLO IGTK**, or **MLO BIGTK** subelement.

...

The MIC shall be calculated on the concatenation of the following data, in the order given here:

- FTO's MAC address (6 octets)
- Target **AP** or **ETR**'s MAC address (6 octets)
- Transaction sequence number (1 octet) that shall be set to the value 6 if this is a Reassociation Response frame or, otherwise, set to the value 4
- **RSNE** if **Basic Multi-Link element** is not included in the **Reassociation Response frame**
- RSNEs corresponding to all requested links that exist in increasing order of link ID if **Basic Multi-Link element** is included in the **Reassociation Response frame**
- **MDE**
- FTF and corresponding **Fragment element(s)** (if **FTF** is **fragmented**), with the MIC field of the FTF set to 0
- Contents of the **RIC-Response** (if present)
- **RSNXE** (if present) if **Basic Multi-Link element** is not included in the **Reassociation Response frame**
- **RSNXEs** (if present) corresponding to all requested links that exist in increasing order of link ID if **Basic Multi-Link element** is included in the **Reassociation Response frame**
- AP MAC address corresponding to all requested links that exist in increasing order of link ID if **Basic Multi-Link element** is included in the **Reassociation Response frame**

All other fields shall be set to 0.

#### Change the last paragraph as follows:

The **RSNXE** shall be present if an **RSNXE** was present in the third message and the target **APETR** if the **ETR** is an **AP** or an **AP** affiliated with the target **ETR** if the **ETR** is an **AP**. **MLID** set to 1 any subfield, except the Field Length subfield, of the Extended **RSN** Capabilities field in this element.

## 13.9 FT security architecture state machines

### 13.9.1 Introduction

#### Change the last paragraph as follows:

The interactions between the **R0KH** and **IEEE Std 802.1X**, between the **R1KH** and **IEEE Std 802.1X**, and between the **S1KH** and **IEEE Std 802.1X** occur within the **SME**. At both the target **APETR** and at the **FTO**, the **R1KH** and **S1KH** initialize the **IEEE 802.1X EAPOL** state machines in the respective **SMEs**. The **Controlled Port** is opened without an **EAP** exchange when the reassociation completes.

### 13.9.5 S1KH state machine

#### 13.9.5.3 S1KH state machine variables

#### Change the third item of the first paragraph as follows (not all items shown):

The following list summarizes the variables used by the SIKH state machine:

- ...
  - *Init*— This variable is set to true to initialize the SIKH state machine. In addition, this variable is used to restart the state machine when transitioning to a new APETR.
- ...

## 13.10 Remote request broker (RRB) communication

### 13.10.1 Overview

#### *Change as follows:*

The RRB mechanism allows the FTO to communicate with a target APETR through the FTO's existing association (with the current APETR). The FTO transmits an FT Action frame (including the address of the FTO and the BSSID of the target AP's BSSMAC address of the target FTI) to the current APETR. The current APETR includes the contents of the FT Action frame (Request or Confirm) inside a Remote Request frame and transmits it to the target APETR over the DS. The target APETR processes the remote request and responds to the FTO by sending an FT Action frame (Response or Acknowledgment) through the current APETR.

The SME of the FTO initiates an exchange with a target APETR by issuing an MLME-REMOTE-REQUEST, request primitive with parameters including the contents of the FT Action frame to be sent. The MAC of the FTO transmits this Action frame. When the MAC of the current APETR receives an FT Action frame, it passes it to the RRB by use of an MLME-REMOTE-REQUEST indication primitive, with parameters including the contents of the received Action frame.

When the RRB of the current APETR has received a response from the target APETR, it uses the MLME-REMOTE-REQUEST.request primitive to send the response, as an FT Action frame, to the requesting FTO. The MAC of the current APETR transmits this Action frame. When the MAC of the FTO receives an FT Action frame, the MAC passes the Action frame to the SME by use of an MLME-REMOTE-REQUEST.indication primitive, with parameters including the contents of the received Action frame.

### 13.10.2 Remote request broker (RRB)

#### *Change text and replace Figure 13-20 as follows:*

The RRB resides in the SME on the APETRs and acts as a forwarding agent (at the current APETR and termination point (at the target APETR) for protocol messages over the DS.

The RRB allows APETRs that are part of the same mobility domain to exchange information over the DS. APETRs that advertise the same MDID shall be reachable over the DS and support the over-the-DS communication.

As a termination point, when the RRB at the target APETR receives a request frame from the current APETR, it interacts with the MAC and other parts of the SME to process the request and respond with a Remote Response frame, through the RRB on the current APETR, back to the requesting FTO.

As a forwarding agent, when the RRB at the current APETR receives a request from an FTO directed to another APETR in the same mobility domain, the current APETR forwards the request to that target APETR. The RRB on the current APETR converts Action frames into Remote Request frames and converts Remote Response frames into Action frames.

The target APFTR and the current APFTR shall reside in the same mobility domain. The RRB on the current APFTR shall transmit Remote Request frames to the target APFTR based on the BSSID of the target AP's BSSIDMAC address of the target FTR (supplied in the FT Action frames) using the same procedures as preauthentication, as described in 12.6.8.2.

The message flow for a resource request over the DS is given in Figure 13-20 (Sample message flow for over-the-DS resource request). The FTO indicates the destination target AP-BSSIDFTR as part of the FT Action frame. The RRB on the current APFTR encapsulates the FT Action frame and supplies the current AP-BSSIDFTR MAC address in the Remote Request frame.

![](3dc7d286f44270b90a4596ec58be8a4f_img.jpg)

Sequence Diagram (Figure 13-20) illustrating the Sample message flow for over-the-DS resource request between FTO, Current FTR, and Target FTR.

The flow starts with FTO and Current FTR establishing a Successful (secure) session & Data transmission.

1. FTO sends FT Action Request (Request elements) to Current FTR.
2. Current FTR sends RemoteRequest (current FTR Address, FT Action Request) to Target FTR.
3. Target FTR processes the request.
4. Target FTR sends RemoteResponse (current FTR Address, FT Action Response) back to Current FTR.
5. Current FTR sends FT Action Response (Response elements) back to FTO.
6. FTO sends FT Action Confirm (Confirm elements) to Current FTR.
7. Current FTR sends RemoteRequest (current FTR Address, FT Action Confirm) to Target FTR.
8. Target FTR processes the confirmation.
9. Target FTR sends RemoteResponse (current FTR Address, FT Action Acknowledge) back to Current FTR.
10. Current FTR sends FT Action Acknowledgment (Acknowledgment elements) back to FTO.

Figure 13-20—Sample message flow for over-the-DS resource request

### 13.10.3 Remote Request/Response frame definition

*Change the first two paragraphs as follows:*

This subclause defines a mechanism to transport the remote request and remote response between the current APFTR and the target APFTR. Any other mechanism may be used.

The Remote Request frame is transmitted over the DS from the current APFTR to the target APFTR. Remote Request/Response frame shall use an MSDU with EtherType 89-0d, as specified in Annex H. The Payload field of the MSDU for the Remote Request/Response frame is given in Table 13-2.

*Change the fifth paragraph as follows:*

The AP Address field shall be set to the BSSID of the current AP's BSS/MAC address of the current FTR. The target AP<sub>FTR</sub> shall use this address as the destination address when sending the Remote Response frame as a response to the Remote Request.

### 13.11 Resource request procedures

#### 13.11.1 General

*Change the first two paragraphs as follows:*

When using the resource request procedure, the FTO has the option to request a resource allocation at the target AP<sub>FTR</sub>. To request resources, the FTO creates a resource information container (RIC) and inserts it in an appropriate request message to the target AP<sub>FTR</sub>. The request message is sent to the target AP<sub>FTR</sub> either directly (over the air), or via the current AP<sub>FTR</sub> (over the DS), according to the FT procedures described in 13.5 and 13.6. In an RSNA, resource requests and responses are exchanged only after the establishment of the PTK and are protected by MICs.

The RIC contains a complete list of resources requested by the FTO. An APA<sub>FTR</sub> that receives a resource request from an FTO shall discard any previous resource request from that FTO. In an RSN, this resource request shall first be authenticated by the AP<sub>FTR</sub> through checking of the MIC before the AP<sub>FTR</sub> discards any previous resource request.

#### 13.11.2 Resource information container (RIC)

*Change the second entry of Table 13-3 as follows (not all lines shown):*

Table 13-3—Resource types and resource descriptor definitions

| Resource type        | Resource Descriptor definition                                                                                                                                                                                | Notes                                                            |
|----------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------|
| Block Ack Parameters | In a request: RIC Descriptor (see 9.4.2.49), containing a Resource Type field identifying Block Ack.<br>In a response: RIC Descriptor (see 9.4.2.49), containing a Resource Type field identifying Block Ack. | Resource request procedures shall be as given in 11.5 or 35.3.8. |

*Change the 11th and 12th paragraphs (Figure 13-28 not shown) as follows:*

When sent by an APA<sub>target FTR</sub> in response to a RIC-Request, the RIC-Response consists of a list of one or more Resource Responses including one response for each of the Resource Requests that was contained in the RIC-Request. The basic format of a RIC-Response is shown in Figure 13-28.

Each Resource Response consists of an RDE with the RDE identifier matching the RDE identifier in the request, in the same order as the RDEs appeared in the request. The RDE is followed by zero or one Resource Descriptors. If the request was not successful (as indicated in the RDE status), then the AP<sub>target FTR</sub> may include a suggestion that could have been successful. If the resource request was successful, then the particular Resource Descriptor (of the alternatives given by the FTO) is included in the response, as modified by the AP<sub>target FTR</sub> during the processing of the resource request. For example, when the resource being requested is QoS for upstream traffic, the TSPEC element may be followed by a Schedule element.

### 13.11.3 Creation and handling of a resource request

#### 13.11.3.1 FTO procedures

*Change the first paragraph as follows:*

The resource request enables an FTO to request resources based on specified Resource Descriptors (e.g., TSPECs) before or at the time the FTO associates with the target APETR. In using TSPECs for requesting QoS resources, the TSPECs in the request need not belong to only active TSs; the FTO can send TSPECs for any TS that it intends to use after the transition and request the same resources that would be requested by a later ADDTS exchange. For each resource, the FTO may provide the APETR with a choice of Resource Descriptors in order of preference, any one of which meets the needs of the application.

*Change the third paragraph as follows:*

The FTO shall indicate the resources required at the target APETR. For QoS resources, each TS shall be requested by a separate RDE and associated TSPEC(s). The RDE Identifier field in the RDE shall be an arbitrary value chosen by the FTO that uniquely identifies the RDE within the RIC. The Status Code field shall be set to SUCCESS, and the Resource Count field shall be set to the number of alternative Resource Descriptors that follow.

*Change the seventh and eighth paragraphs as follows:*

If the frame containing the response to the resource request contains a status code other than SUCCESS, the FTO considers that the request has failed and that no resources are being held at the target APETR.

The response from the target APETR contains a RIC-Response, with the RDEs in the response indicating which resources were considered by the target APETR and the setting of the status code indicating which Resource Descriptors were accepted by the APtarget FTR.

*Change the last paragraph as follows:*

A response to a successful resource request (other than in a Reassociation Request frame) may contain a reassociation deadline. If the FTO does not initiate a Reassociation Request frame with the target APETR within the reassociation deadline (if appropriate), then the APtarget FTR releases resources held for that FTO.

#### 13.11.3.2 APETR procedures

*Change the first paragraph as follows:*

When a RIC appears in a request message, the APETR shall check its ability to allocate one resource for each RDE in the RIC in the order appearing in the RIC. In a Reassociation Request frame, the QoS Capability element shall be processed prior to the QoS resource requests in the RIC.

*Change the second paragraph (including the figure caption of Figure 13-30) as follows (Figure 13-30 not shown):*

The behavior of the **APETR** shall be identical to that described in the flowchart in Figure 13-30 (Overview of RIC processing at an APa FTR).

### Figure 13-30—Overview of RIC processing at an APa FTR

#### *Change the third, fourth, and fifth paragraphs as follows:*

As shown in Figure 13-30 (Overview of RIC processing at an APa FTR), the Resource Descriptors are examined by the **APETR** in the order presented, and the first that could have been allocated is accepted. Thus the preference ordering by the FTO is honored.

The target **APETR**'s SME examines the resource requests in the RIC. For requests that require processing by the MAC sublayer, the SME generates an MLME-RESOURCE-REQUEST-LOCAL.request primitive. The MAC shall respond with MLME-RESOURCE-REQUEST-LOCAL.confirm primitive that indicates whether the MAC has accepted the resource request. The SME may also send these resource requests to an external entity such as a backend QoS module for its consideration; these procedures are beyond the scope of this standard. The acceptance of a TSPEC by the target AP results in the resource allocation for a TS at the target AP.

In response to a RIC-Request, the **APETR** shall construct a RIC-Response. The RIC-Response shall contain one RDE for each RDE in the RIC-Request. The RDEs shall be in the same order as in the request, and the RDE Identifier field in each RDE shall be the value of the RDE Identifier field in the corresponding RDE in the request. The Status Code field in the RDE shall be set according to the result of the allocation request as follows:

- Status Code = SUCCESS indicates that the resource request has been accepted. The RDE shall also be followed by the Resource Descriptor that was accepted.
- Status Code = not SUCCESS indicates that the resources could not be accepted. The Status Code field contains a value from 9.4.1.9 indicating the reason for the failure. In this case, the **APETR** may include a single Resource Descriptor following the RDE indicating a suggested resource that could have been accepted. The Resource Count field shall be set to 0 or 1 depending whether the suggested Resource Descriptor is attached. A not SUCCESS status code in an RDE shall not cause a not SUCCESS status code in the frame containing the RIC.

## 17. Orthogonal frequency division multiplexing (OFDM) PHY specification

### 17.2 OFDM PHY specific service parameter list

#### 17.2.2 TXVECTOR parameters

*Change rows 6 and 7 of Table 17-1 as follows:*

Table 17-1—TXVECTOR parameters

| Parameter               | Associated primitive           | Value                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|-------------------------|--------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| CH_BANDWIDTH_IN_NON_HT  | PHY-TXSTART.request (TXVECTOR) | <p>Not present if neither dot11VHTOptionImplemented nor dot11HEOptionImplemented is present or equal to true.</p> <p>Optionally present (see 9.3.1) if at least one of dot11VHTOptionImplemented and dot11HEOptionImplemented is present and equal to true.</p> <p>If dot11EHTOptionImplemented is not present or equal to false, then the allowed values are present: CBW20, CBW40, CBW80, CBW160, or CBW80+80.</p> <p>If dot11EHTOptionImplemented is equal to true and the STA is not a STA 6G or the STA is a STA 6G without 320 MHz bandwidth support, then the allowed values are CBW20, CBW40, CBW80, or CBW160.</p> <p>If dot11EHTOptionImplemented is equal to true and the STA is a STA 6G with 320 MHz bandwidth support, then the allowed values are CBW20, CBW40, CBW80, CBW160, or CBW320.</p> |
| DYN_BANDWIDTH_IN_NON_HT | PHY-TXSTART.request (TXVECTOR) | <p>If present, Static or Dynamic</p> <p>Not present if neither dot11VHTOptionImplemented nor dot11HEOptionImplemented is present or equal to true.</p> <p>Optionally present (see 9.3.1) if at least one of dot11VHTOptionImplemented and dot11HEOptionImplemented is present and equal to true, then the allowed values are Static or Dynamic.</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                          |

*Change the seventh paragraph as follows:*

If present, the allowed values for CH\_BANDWIDTH\_IN\_NON\_HT are CBW20, CBW40, CBW80, CBW160, and CBW80+80, and CBW320. If present, this parameter is used to modify the first 7 bits of the scrambling sequence, and B7 of the SERVICE field in the 6 GHz band, to indicate the bandwidth of the non-HT duplicate PPDU.

### 17.2.3 RXVECTOR parameters

Change rows 8 and 9 of Table 17-2 as follows:

Table 17-2—RXVECTOR parameters

| Parameter               | Associated primitive              | Value                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|-------------------------|-----------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| CH_BANDWIDTH_IN_NON_HT  | PHY-RXSTART.indication (RXVECTOR) | <p>Not present if neither dot11VHTOptionImplemented nor dot11HEOptionImplemented is present or equal to true.</p> <p>Present if at least one of dot11VHTOptionImplemented and dot11HEOptionImplemented is present and equal to true.</p> <p>If dot11EHTOptionImplemented is not present or equal to false, then the allowed values are: present, CBW20, CBW40, CBW80, CBW160, or CBW80+80.</p> <p>If dot11EHTOptionImplemented is equal to true and the STA is not a STA 6G, then the allowed values are: CBW20, CBW40, CBW80, or CBW160.</p> <p>If dot11EHTOptionImplemented is equal to true and the STA is a STA 6G, then the allowed values are CBW20, CBW40, CBW80, CBW160, or CBW320.</p> |
| DYN_BANDWIDTH_IN_NON_HT | PHY-RXSTART.indication (RXVECTOR) | <p>If present, Static or Dynamic</p> <p>Not present if neither dot11VHTOptionImplemented nor dot11HEOptionImplemented is present or equal to true.</p> <p>Present if at least one of dot11VHTOptionImplemented and dot11HEOptionImplemented is present and equal to true, then the allowed values are Static or Dynamic.</p>                                                                                                                                                                                                                                                                                                                                                                    |

## 17.3 OFDM PHY

### 17.3.5 DATA field

#### 17.3.5.2 SERVICE field

Change the paragraph and replace Figure 17-6 as follows:

The SERVICE field has 16 bits, which shall be denoted as bits 0–15. The bit 0 shall be transmitted first in time. The bits from 0–6 of the SERVICE field, which are transmitted first, are set to 0s and are used to synchronize the descrambler in the receiver. If the CH\_BANDWIDTH\_IN\_NON\_HT parameter in the TXVECTOR primitive is not present or is present and is equal to CBW20, CBW40, CBW80, CBW160, or CBW80+80, then bit 7 of the SERVICE field is set to 0. If the CH\_BANDWIDTH\_IN\_NON\_HT parameter in the TXVECTOR primitive is present and is equal to CBW320, then bit 7 of the SERVICE field is set to 1. The remaining 9 bits (78–15) of the SERVICE field shall be reserved for future use. All reserved bits shall be set to 0 on transmission and ignored on reception. Refer to Figure 17-6.

| Condition                                                                                                | Scrambler initialization |     |     |     |     |     |     | Remaining SERVICE bits                                                 |   |   |    |    |    |    |    |    |   |  |  |  |  |  |  |
|----------------------------------------------------------------------------------------------------------|--------------------------|-----|-----|-----|-----|-----|-----|------------------------------------------------------------------------|---|---|----|----|----|----|----|----|---|--|--|--|--|--|--|
|                                                                                                          | "0"                      | "0" | "0" | "0" | "0" | "0" | "0" | R                                                                      | R | R | R  | R  | R  | R  | R  | R  | R |  |  |  |  |  |  |
| A                                                                                                        |                          |     |     |     |     |     |     |                                                                        |   |   |    |    |    |    |    |    |   |  |  |  |  |  |  |
| B                                                                                                        |                          |     |     |     |     |     |     | In TXVEC-TOR:<br>Bit 2 of CBI NIH<br>In RXVEC-TOR:<br>Bit 2 of CBI NIH |   |   |    |    |    |    |    |    |   |  |  |  |  |  |  |
|                                                                                                          | 0                        | 1   | 2   | 3   | 4   | 5   | 6   | 7                                                                      | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 |   |  |  |  |  |  |  |
| Transmit order →                                                                                         |                          |     |     |     |     |     |     |                                                                        |   |   |    |    |    |    |    |    |   |  |  |  |  |  |  |
| R: reserved                                                                                              |                          |     |     |     |     |     |     |                                                                        |   |   |    |    |    |    |    |    |   |  |  |  |  |  |  |
| CBI NIH: CH_BANDWIDTH_IN_NON_HT                                                                          |                          |     |     |     |     |     |     |                                                                        |   |   |    |    |    |    |    |    |   |  |  |  |  |  |  |
| CBI NIH: CH_BANDWIDTH_IN_NON_HT_INDICATOR                                                                |                          |     |     |     |     |     |     |                                                                        |   |   |    |    |    |    |    |    |   |  |  |  |  |  |  |
| A: All cases except those that match condition B                                                         |                          |     |     |     |     |     |     |                                                                        |   |   |    |    |    |    |    |    |   |  |  |  |  |  |  |
| B: CH_BANDWIDTH_IN_NON_HT is present, dot11EHTOptionImplemented is equal to true and the STA is a STA 6G |                          |     |     |     |     |     |     |                                                                        |   |   |    |    |    |    |    |    |   |  |  |  |  |  |  |

Figure 17-6—SERVICE field bit assignment

#### 17.3.5.5 PHY DATA scrambler and descrambler

*Change and split the fifth paragraph into three paragraphs, and change Table 17-7, Table 17-8, and Table 17-10 as follows:*

During reception by a VHT\_STA, HE\_STA, or EHT\_STA that is not a STA 6G, RXVECTOR parameter CH\_BANDWIDTH\_IN\_NON\_HT shall be determined from selected bits in the scrambling sequence as shown in Table 17-7 and Table 17-10.

During reception by an EHT\_STA that is a STA 6G, the RXVECTOR parameter CH\_BANDWIDTH\_IN\_NON\_HT shall be determined from selected bits in the scrambling sequence as shown in Figure 17-6, Table 17-7, and Table 17-10a.

During reception by a VHT\_STA, HE\_STA or EHT\_STA, the RXVECTOR parameter DYN\_BANDWIDTH\_IN\_NON\_HT shall be set to selected bits in the scrambling sequence as shown in Table 17-7. The fields shall be interpreted as being sent LSB-first.

Table 17-7—Contents of the first 7 bits of the scrambling sequence

| Parameter | Condition                                                                                                                                                                                                                                  | First 7 bits of scrambling sequence                                                                                                                                                                                                                                                                                                                                            |    |    |    |    |                                                                                                                     |
|-----------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----|----|----|----|---------------------------------------------------------------------------------------------------------------------|
|           |                                                                                                                                                                                                                                            | B0                                                                                                                                                                                                                                                                                                                                                                             | B3 | B4 | B5 | B6 | Transmit order                                                                                                      |
| TXVECTOR  | CH BAND-<br>WIDTH_IN_NON_H<br>T is present and<br>DYN BAND-<br>WIDTH_IN_NOT_H<br>T is not present in<br>TXVECTOR; or<br>CH BAND-<br>WIDTH_IN_NON_N<br>GV is present and<br>DYN BAND-<br>WIDTH_IN_NON_N<br>GV is not present in<br>TXVECTOR | 5-bit pseudorandom nonzero integer if CH BAND-<br>WIDTH_IN_NON_HT (if present) equals CBW20,<br>or CH BANDWIDTH_IN_NON_NGV (if pres-<br>ent) equals CBW10, or CBW320 and a 5-bit pseu-<br>dorandom integer otherwise                                                                                                                                                           |    |    |    |    | Bits 0 and 1 of<br>CH BAND-<br>WIDTH_IN_NON_<br>HT (if present) or<br>CH BAND-<br>WIDTH_IN_NON_<br>NGV (if present) |
| TXVECTOR  | CH BAND-<br>WIDTH_IN_NON_H<br>T is present and<br>DYN BAND-<br>WIDTH_IN_NOT_H<br>T is present in<br>TXVECTOR; or<br>CH BAND-<br>WIDTH_IN_NON_N<br>GV is present and<br>DYN BAND-<br>WIDTH_IN_NON_N<br>GV is present in<br>TXVECTOR         | 4-bit pseudorandom non-<br>zero integer if<br>CH BAND-<br>WIDTH_IN_NON_HT<br>(if present) equals<br>CBW20 or CBW320 and<br>DYN BAND-<br>WIDTH_IN_NON_HT<br>(if present) equals Static,<br>or CH BAND-<br>WIDTH_IN_NON_NGV<br>(if present) equals<br>CBW10 and<br>DYN BAND-<br>WIDTH_IN_NON_NGV<br>(if present) equals Static;<br>and a 4-bit pseudorandom<br>integer otherwise |    |    |    |    | DYN BAND-<br>WIDTH_IN_NON_H<br>T (if present) or<br>DYN BAND-<br>WIDTH_IN_NON_N<br>GV (if present)                  |
| ...       |                                                                                                                                                                                                                                            |                                                                                                                                                                                                                                                                                                                                                                                |    |    |    |    |                                                                                                                     |
| RXVECTOR  | VHT STA                                                                                                                                                                                                                                    | —                                                                                                                                                                                                                                                                                                                                                                              |    |    |    |    | DYN BAND-<br>WIDTH_IN_NON_H<br>T                                                                                    |
| ...       |                                                                                                                                                                                                                                            |                                                                                                                                                                                                                                                                                                                                                                                |    |    |    |    | Bits 0 and 1 of<br>CH BAND-<br>WIDTH_IN_NON_<br>HT INDICATOR<br>(see Table 17-10)                                   |

Table 17-8—TXVECTOR parameter CH\_BANDWIDTH\_IN\_NON\_HT values

| Enumerated value   | Value | Value in bits 0 and 1 of CH_BANDWIDTH_IN_NON_HT | Value in bit 2 of CH_BANDWIDTH_IN_NON_HT |
|--------------------|-------|-------------------------------------------------|------------------------------------------|
| CBW20              | 0     | 0                                               | 0                                        |
| CBW40              | 1     | 1                                               | 0                                        |
| CBW80              | 2     | 2                                               | 0                                        |
| CBW160 or CBW80+80 | 3     | 3                                               | 0                                        |
| CBW320             | 4     | 0                                               | 1                                        |

Table 17-10—RXVECTOR parameter CH\_BANDWIDTH\_IN\_NON\_HT values for a VHT or HE STA

| CH_BANDWIDTH_IN_NON_HT_INDICATOR field of first 7 bits of scrambling sequence | dot11CurrentChannelCenter FrequencyIndex1 | RXVECTOR parameter CH_BANDWIDTH_IN_NON_HT |
|-------------------------------------------------------------------------------|-------------------------------------------|-------------------------------------------|
| 0                                                                             | 0                                         | CBW20                                     |
| 1                                                                             | 0                                         | CBW40                                     |
| 2                                                                             | 0                                         | CBW80                                     |
| 3                                                                             | 0                                         | CBW160                                    |
| 3                                                                             | 1 to 200                                  | CBW80+80                                  |

Insert a new Table after Table 17-10 as follows:

Table 17-10a—RXVECTOR parameter CH\_BANDWIDTH\_IN\_NON\_HT values for an EHT STA

| Bits 0 and 1 of CH_BANDWIDTH_IN_NON_HT_INDICATOR field of first 7 bits of scrambling sequence | Bit 2 of CH_BANDWIDTH_IN_NON_HT_INDICATOR field (B7 in SERVICE field) | RXVECTOR parameter CH_BANDWIDTH_IN_NON_HT |
|-----------------------------------------------------------------------------------------------|-----------------------------------------------------------------------|-------------------------------------------|
| 0                                                                                             | 0                                                                     | CBW20                                     |
| 1                                                                                             | 0                                                                     | CBW40                                     |
| 2                                                                                             | 0                                                                     | CBW80                                     |
| 3                                                                                             | 0                                                                     | CBW160                                    |
| 0                                                                                             | 1                                                                     | CBW320                                    |

## 26. High efficiency (HE) MAC specification

### 26.2 HE channel access

#### 26.2.6 MU-RTS Trigger/CTS frame exchange sequence procedure

##### 26.2.6.3 CTS frame sent in response to an MU-RTS Trigger frame

*Change the first two paragraphs, including the addition of a new paragraph in between, as follows:*

If a non-AP STA receives an MU-RTS Trigger frame, the non-AP STA shall commence the transmission of a CTS frame at the SIFS time boundary after the end of a received PPDU when if the non-AP STA is not NSTR limited and all of the following conditions are met:

- The MU-RTS Trigger frame has one of the User Info fields addressed to the non-AP STA. The User Info field is addressed to a non-AP STA if the AID12 subfield is equal to the 12 LSBs of the AID of the STA and the MU-RTS Trigger frame is sent by the AP with which the non-AP STA is associated or by the AP corresponding to the transmitted BSSID if the non-AP STA is associated with an AP corresponding to a nontransmitted BSSID and has indicated support for receiving Control frames with TA field set to the transmitted BSSID by setting the Rx Control Frame To MultiBSS subfield to 1 in the HE Capabilities element that the non-AP STA transmits.
- The UL MU CS condition indicates that the medium is idle (see 26.5.2.5).

*If the non-AP STA is NSTR limited and the conditions above are met, then the non-AP STA may commence transmission of a CTS frame at the SIFS time boundary after the end of the received PPDU.*

*If the conditions above are not met, then otherwise, the non-AP STA shall not send a CTS frame.*

### 26.5 MU operation

#### 26.5.1 HE DL MU operation

##### 26.5.1.1 General

*Delete the fourth paragraph that begins "An AP shall not transmit an HE MU PPDU with an RU...".*

*Delete the last paragraph that begins "An AP shall not transmit an HE MU PPDU where...".*

*Insert the following subclause after subclause 26.5.1.1 (General):*

##### 26.5.1.1a Additional rules on an HE MU PPDU

An AP shall not transmit an HE MU PPDU with an RU that is narrower than the PPDU bandwidth and that is allocated to more than one STA (DL MU-MIMO), unless the AP has received from each STA an HE Capabilities element with the Partial Bandwidth DL MU-MIMO subfield in the HE PHY Capabilities Information field equal to 1.

An AP shall not transmit an HE MU PPDU where the number of OFDM symbols in the HE-SIG-B field is greater than 16 to a non-AP STA with a 20 MHz operating channel width.

### 26.5.1.3 RU allocation in an HE MU PPDU

*Delete the last paragraph that begins “An HE MU PPDU shall have a sufficient...”.*

*Insert the following subclause after subclause 26.5.1.3:*

#### 26.5.1.3a Minimum RU allocation in an HE MU PPDU

An HE MU PPDU shall have a sufficient number of RUs allocated to users such that all of the following conditions are satisfied:

1. For each non-AP STA, at least  $N \times 4 \times 26$  subcarriers are modulated by the allocated RUs within the entire PPDU if the PPDU bandwidth is smaller than or equal to the operating bandwidth of the non-AP STA, where  $N$  is the number of 20 MHz subchannels that are not preamble punctured in the PPDU.
2. For each non-AP STA, at least  $M \times 4 \times 26$  subcarriers are modulated by the allocated RUs within the operating bandwidth of the non-AP STA if the PPDU bandwidth is greater than the operating bandwidth of the non-AP STA, where  $M$  is the number of 20 MHz subchannels that are not preamble punctured within the operating bandwidth of the non-AP STA.
3. For each 20 MHz subchannel  $S$  within the bandwidth of the HE MU PPDU, at least  $2 \times 26$  subcarriers are modulated by the allocated RUs in the 20 MHz subchannel  $S$  if all of the following are true:
   1. At least one RU is allocated in the 20 MHz subchannel  $S$ .
   2. Transmitter is an AP.
   3. The AP is operating in an operating class for which the behavior limits set listed in Annex E includes the DFS\_50\_100 Behavior.
   4. The AP has received at least one Beacon frame from OBSS  $B$  within the past dot11ObssNbRu-ToleranceTime in the current operating channel in which any of the following are true:
      1. The Extended Capabilities element is not present.
      2. The OBSS Narrow Bandwidth RU In OFDMA Tolerance Support field in the Extended Capabilities element is not present.
      3. The OBSS Narrow Bandwidth RU In OFDMA Tolerance Support field in the Extended Capabilities element is 0.
   5. The 20 MHz subchannel  $S$  overlaps with the operating bandwidth of the OBSS  $B$ .
4. At least one RU is allocated in the primary 20 MHz.

### 26.5.2 UL MU operation

#### 26.5.2.1 General

*Insert the following paragraph at the end of the subclause:*

A non-EHT HE AP shall not transmit a Trigger frame with an EHT variant User Info field.

#### 26.5.2.2 Rules for soliciting UL MU frames

##### 26.5.2.2.1 General

*Delete the first five paragraphs that begin with “An HE AP shall not allocate an RU for...”.*

*Delete the seventh paragraph that begins with “An AP shall not send a frame that carries a TRS Control subfield that allocates...”.*

*Insert the following new subclause at the end of 26.5.2.2.1:*

#### 26.5.2.2.1a Additional rules for soliciting UL MU frames

An HE AP shall not allocate an RU in a 40 MHz HE TB PPDU to a 20 MHz operating non-AP HE STA in the 2.4 GHz band, unless the AP has received from the 20 MHz operating non-AP HE STA an HE Capabilities element with the 20 MHz In 40 MHz HE PPDU In 2.4 GHz Band subfield in the HE PHY Capabilities Information field in its HE Capabilities element to 1.

An HE AP shall not allocate an RU in a 160 MHz or 80+80 MHz HE TB PPDU to a 20 MHz operating non-AP HE STA, unless the AP has received from the 20 MHz operating non-AP HE STA an HE Capabilities element with the 20 MHz In 160/80+80 MHz HE PPDU in the HE PHY Capabilities Information field equal to 1.

An AP shall not allocate to a 20 MHz operating non-AP HE STA a 242-tone RU for a 40 MHz, 80 MHz, 160 MHz, or 80+80 MHz HE TB PPDU transmission.

An AP shall not transmit a Trigger frame soliciting an HE TB PPDU that uses UL MU-MIMO within an RU that does not span the entire PPDU bandwidth to a non-AP STA from which it has not received an HE Capabilities element with the Partial Bandwidth UL MU-MIMO subfield of the HE PHY Capabilities Information field equal to 1.

An AP shall not transmit a Trigger frame soliciting an HE TB PPDU that uses UL MU-MIMO within an RU that spans the full bandwidth to a non-AP STA from which it has not received an HE Capabilities element with the Full Bandwidth UL MU-MIMO subfield of the HE PHY Capabilities Information field equal to 1.

An AP shall not send a frame that carries a TRS Control subfield that allocates a 2×996-tone RU to a non-AP STA or a Trigger frame with a User Info field that allocates a 2×996-tone RU to a non-AP STA, unless the AP has received from the non-AP STA an HE MAC Capabilities element with the UL 2×996-tone RU Support subfield in the HE MAC Capabilities Information field equal to 1.

#### 26.5.2.2.3 Padding for a triggering frame

*Insert the following paragraph as the first paragraph of the subclause:*

A Trigger frame may include the Padding field to extend the frame length to give the recipient STAs enough time to prepare a response for transmission a SIFS after the frame is received. The Padding field, if present, shall be at least two octets in length and shall be set to all 1s. If the Padding field is present in a Trigger frame, its length shall be computed as described below.

#### 26.5.2.3 Non-AP STA behavior for UL MU operation

##### 26.5.2.3.1 General

*Insert the following paragraph at the end of the subclause:*

A non-AP HE STA may ignore B0 of the RU Allocation field in an HE variant User Info field in an MU-RTS frame.

#### 26.5.2.3.4 TXVECTOR parameters for HE TB PPDU response to TRS Control subfield

*Change the first paragraph as follows (not all text shown):*

A non-AP STA transmitting an HE TB PPDU in response to a frame containing a TRS Control subfield shall set the TXVECTOR parameters as follows:

- The FORMAT parameter is set to HE\_TB if the RXVECTOR parameter FORMAT of the PPDU carrying the frame with the TRS Control subfield is HE\_MU, HE\_SU, or HE\_ER\_SU.
- ...
- The RU\_ALLOCATION and MCS parameters are set to the values of the RU Allocation and UL HE-MCS subfields of the TRS Control subfield, respectively.
- ...

### 26.8 TWT operation

#### 26.8.3 Broadcast TWT operation

##### 26.8.3.2 Rules for TWT scheduling AP

*Change the 25th and 26th paragraphs as follows:*

The TWT scheduling AP shall include a unique value in the Broadcast TWT ID subfield for each Broadcast TWT to allow identification of each Broadcast TWT, unless the TWT Setup Command field is Alternate TWT or the Broadcast TWT ID subfield is zero, or the Broadcast TWT ID subfield is 31 in a Restricted TWT Parameter Set field.

NOTE 6—The broadcast TWT element contains two Broadcast TWT Parameter Set fields with the same Broadcast TWT ID subfield value if the TWT Setup Command field indicates Alternate TWT in one of the Broadcast TWT Parameter Set fields. The broadcast TWT element might contain multiple Broadcast TWT Parameter Set fields with the Broadcast TWT ID subfield equal to 0. The broadcast TWT element might contain multiple Restricted TWT Parameter Set fields with the Broadcast TWT ID subfield equal to 31.

##### 26.8.3.3 Rules for TWT scheduled STA

*Change NOTE 1 as follows:*

NOTE 1—The TWT scheduled STA decides which frames to transmit within or outside a TWT SP; and while it is recommended that the TWT scheduled STA not transmit using EDCA within or outside TWT SPs, the TWT scheduled STA might still do so. If the STA decides to transmit, then the STA might contend for accessing the medium as defined in 10.23.2, and in 26.2.7 (EDCA operation using MU EDCA parameters), and in 35.16.

### 26.10 HE spatial reuse operation

#### 26.10.2 OBSS PD-based spatial reuse operation

##### 26.10.2.2 General operation with non-SRG OBSS PD level

*Change the first two paragraphs as follows:*

If the PHY of a STA issues a PHY-CCA.indication(BUSY) followed by a PHY-RXEARLYSIG.indication or PHY-RXSTART.indication due to a PPDU reception, then the STA's MAC sublayer may:

a) issue a PHY-CCARESET.request primitive before the end of the PPDU and not update its basic NAV timer based on the PPDU, or

b) treat the PPDU as not having been received for purposes of its basic NAV timer (i.e., not update its basic NAV timer),

if {for either (a) and (b)} all the following conditions are met:

1. The STA has not set the TXVECTOR parameter SPATIAL\_REUSE to the value PSR\_AND\_NON\_SRG\_OBSS\_PD\_PROHIBITED in any HE-PPDU that has a TXVECTOR parameter SPATIAL\_REUSE present and that the STA has transmitted in the current beacon period and in the previous beacon period.
2. The most recently received Spatial Reuse Parameter Set element from its associated AP had the Non-SRG OBSS PD SR Disallowed subfield equal to 0, or the non-AP STA has not received a Spatial Reuse Parameter Set element from its associated AP, or the STA is an AP and its most recently transmitted Spatial Reuse Parameter Set element had the Non-SRG OBSS PD SR Disallowed subfield equal to 0, or the STA is an AP and has not transmitted a Spatial Reuse Parameter Set element.
3. The received PPDU is an inter-BSS PPDU (see 26.2.2), and the received PPDU is not a non-HT PPDU carrying a response frame (Ack, BlockAck, or CTS frame); or the received PPDU contains a CTS, a PHY-CCA.indication transition from BUSY to IDLE occurred within the PIFS time immediately preceding the received CTS, and that transition corresponded to the end of an inter-BSS PPDU that contained an RTS frame that was discarded following this procedure.
4. The STA is operating with an SRG OBSS PD level as described in 26.10.2.3, and the received PPDU is not an SRG PPDU; or the STA is not operating with an SRG OBSS PD level.
5. The RXVECTOR parameter SPATIAL\_REUSE subfield in the HE-SIG-A field (if present) of the received PPDU is not set to PSR\_AND\_NON\_SRG\_OBSS\_PD\_PROHIBITED.
6. The received signal strength level, which is measured from the L-STF or L-LTF fields of the PPDU or the PHY SYNC field, shortSYNC field, or Long PHY SYNC field, whichever exists and is used to determine PHY-CCA.indication, is below the non-SRG OBSS PD level. The non-SRG OBSS PD level is defined in 26.10.2.4. If the STA has dot11HEPSROptionImplemented set to true, it also follows the rules defined in 26.10.4 to determine non-SRG OBSS PD level.
7. The PPDU is not one of the following:
   1. A non-HE PPDU that carries a frame where the RA field is equal to the STA MAC address
   2. A non-HE PPDU that carries a Public Action frame
   3. A non-HE PPDU that carries an VHT/HE-NDP Announcement frame or FTM frame
   4. A non-HE NDP

NOTE 1—A STA cannot perform SR over a non-HE-sounding NDP or HE TB feedback NDP (see 26.11.6).

### 26.10.2.3 General operation with SRG OBSS PD level

*Change the first two paragraphs as follows:*

If the PHY of a STA issues a PHY-CCA.indication(BUSY) followed by a PHY-RXEARLYSIG.indication or PHY-RXSTART.indication due to a PPDU reception, then the STA's MAC sublayer may:

a) issue a PHY-CCARESET.request primitive before the end of the PPDU and not update its basic NAV timer based on the PPDU, or

b) treat the PPDU as not having been received for purposes of its basic NAV timer (i.e., not update its basic NAV timer),

if  $q$  (for either (a) or (b)) all the following conditions are met:

1. The received PPDU is an SRG PPDU (see 26.2.3)
2. The received signal strength level, which is measured from the L-STF or L-LTF fields of the PPDU or the PHY SYNC field, shortSYNC field, or Long PHY SYNC field, whichever exists and is used to determine PHY-CCA.indication, is below the SRG OBSS PD level. The SRG OBSS PD level is defined in 26.10.2.4. If the STA has dot11HEPSROptionImplemented set to true, it also follows the rules defined in 26.10.4 to determine SRG OBSS PD level.
3. The PPDU is not one of the following:
   1. A non-HE PPDU that carries a frame where the RA field is equal to the STA MAC address
   2. A non-HE PPDU that carries a Public Action frame
   3. A non-HE PPDU that carries an an VHT4HE-NDP Announcement frame or FTM frame
   4. A non-HE NDP

NOTE 1—A STA cannot perform SR over an HE-sounding NDP or HE TB feedback NDP (see 26.11.6).

## 26.17 HE BSS operation

### 26.17.2 HE BSS operation in the 6 GHz band

#### 26.17.2.1 General

*Change the eleventh paragraph and insert a NOTE as follows:*

A STA 6G shall not transmit an HT Capabilities element, VHT Capabilities element, HT Operation element, VHT Operation element, or an HE Operation element that contains a VHT Operation Information field to provide capabilities and operational parameters of the STA 6G.

NOTE 2—An EHT STA 6G that transmits a Basic Multi-Link element carrying a complete profile of a reported STA that operates on 2.4 GHz or 5 GHz band includes one or more of these elements (as applicable to the reported STA) in the STA Profile field of the Per-STA Profile subelement corresponding to the reported STA (see 35.3.3).

*Insert new Clause 35 and Clause 36 following Clause 34 as follows:*

## 35. Extremely high throughput (EHT) MAC specification

### 35.1 Introduction

An EHT STA has a MAC and MLME that comprises the functions defined in Clause 35 as well as the MAC functions defined in Clause 26 and Clause 10, the MLME functions defined in Clause 11, and the security functions defined in Clause 12 except when the functions in Clause 35 supersede the functions in Clause 10, Clause 11, Clause 12, or Clause 26.

MLO is defined for an EHT STA in 35.3. MLO allows an AP MLD and a non-AP MLD to set up multiple links between them. A reference model for MLO is described in 4.9.6.

NOTE—Mandatory or optional support for the main MAC and PHY features are described in 4.3.16a.

### 35.2 EHT channel access

#### 35.2.1 TXOP

##### 35.2.1.1 Bandwidth signaling

An EHT STA that is a STA 6G and is transmitting a Control frame in non-HT duplicate format with a bandwidth signaling TA addressed to an EHT STA shall set the TXVECTOR parameter CH\_BANDWIDTH\_IN\_NON\_HT signaled via the scrambling sequence and SERVICE field according to Table 36-1.

An EHT STA that is a STA 6G and is transmitting a CTS frame in non-HT duplicate format in response to an RTS frame in non-HT duplicate format with a bandwidth signaling TA addressed to the EHT STA shall set the TXVECTOR parameter CH\_BANDWIDTH\_IN\_NON\_HT signaled via the scrambling sequence and SERVICE field according to Table 36-1.

NOTE—In an EHT BSS set up by an EHT AP that has included the Disabled Subchannel Bitmap subfield in the EHT Operation element, both an EHT STA transmitting a Control frame in non-HT duplicate format with a bandwidth signaling TA and an EHT STA transmitting a CTS frame in non-HT duplicate format in response to an RTS frame with a bandwidth signaling TA sets the TXVECTOR parameter INACTIVE\_SUBCHANNELS for a non-HT duplicate PPDU based on the value indicated in the most recently exchanged Disabled Subchannel Bitmap subfield in the EHT Operation element for that BSS.

##### 35.2.1.2 Triggered TXOP sharing (TXS) procedure

###### 35.2.1.2.1 General

The TXS procedure allows an AP to allocate a portion of an obtained TXOP to one associated non-AP EHT STA for transmitting one or more non-TB PPDU.

An EHT STA with dot11EHTTXSTFOptionImplemented equal to true shall set one or both of the following subfields in the EHT Capabilities element to 1: the TXS Mode 1 Support subfield or the TXS Mode 2 Support subfield (see Table 9-417q).

An EHT STA with dot11EHTTXSTFOptionImplemented equal to true shall follow the rules defined in 35.2.2 when transmitting or responding to an MU-RTS TXS Trigger frame and the additional rules defined in 35.2.1.2.2 and 35.2.1.2.3.

An EHT STA that uses information from a received MU-RTS TXS Trigger frame as the most recent basis to update its NAV should not reset its NAV after the NAVTimeout has expired (see 10.3.2.4) unless the STA receives a CF-End frame that satisfies the conditions in 26.2.5 and 10.23.2.10.

#### 35.2.1.2.2 AP behavior

An EHT AP may allocate time within an obtained TXOP (see 10.23.2.4) to an associated non-AP EHT STA by transmitting an MU-RTS TXS Trigger frame as defined in 9.3.1.22.9 parameterized as follows:

- The MU-RTS TXS Trigger frame shall have only one User Info field that is not a Special User Info field.
- The User Info field shall be addressed to an associated non-AP STA (i.e., AID12 subfield is set to a value in the range 1 to 2006).
- The MU-RTS TXS Trigger frame may contain a Special User Info field as defined in 9.3.1.22.9 and 9.3.1.22.3.

The time allocated to the associated non-AP EHT STA is specified in the Allocation Duration subfield in the MU-RTS TXS Trigger frame.

An EHT AP shall not send an MU-RTS TXS Trigger frame with TXS Mode subfield equal to 1 and with the User Info field that is addressed to an associated non-AP STA from which it has not received an EHT Capabilities element with the TXS Mode 1 Support subfield equal to 1.

An EHT AP shall not send an MU-RTS TXS Trigger frame with TXS Mode subfield equal to 2 and with the User Info field that is addressed to an associated non-AP STA from which it has not received an EHT Capabilities element with the TXS Mode 2 Support subfield equal to 1.

If the EHT AP determines that its transmission of an MU-RTS TXS Trigger frame to a non-AP EHT STA with the TXS Mode subfield equal to 1 is successful (see 26.2.6.2), then the AP shall not transmit any PPDU within the allocated time specified in the MU-RTS TXS Trigger frame unless one of the following conditions are true:

- The PPDU carries an immediate response that is solicited by the non-AP STA.
- The CS mechanism indicates that the medium is idle at the TxPIFS slot boundary after the end of either the transmission of an immediate response frame sent to that STA or the reception of a frame from that STA that did not require an immediate response.

If the EHT AP determines that its transmission of an MU-RTS TXS Trigger frame to a non-AP EHT STA with the TXS Mode subfield equal to 2 is successful, then the AP shall not transmit any PPDU within the allocated time specified in the MU-RTS TXS Trigger frame unless one of the following conditions are true:

- The PPDU carries an immediate response that is solicited by the non-AP STA.
- The AP with the TXOP Return Support In TXOP Sharing Mode 2 subfield equal to 1 received a frame from the non-AP STA containing a CAS Control field with the RDG/More PPDU subfield equal to 0, in which case the AP may transmit a PPDU SIFS after the frame with a CAS Control field.

If the EHT AP determines that the transmission of an MU-RTS TXS Trigger frame is successful and the *TXOP-REMAINING* (see 9.2.5.2) after the end of the allocated time is not zero, then the AP may transmit a PPDU if any of the following conditions are satisfied:

- The medium is determined to be idle by the CS mechanism at the end of the allocated time in which case it may transmit PIFS after the end of the allocated time.
- The last PPDU transmitted by the AP ended less than PIFS before the end of the allocated time in which case it may transmit SIFS after the end of the last PPDU transmission.

— The last PPDU transmitted by the allocated STA to its associated AP did not contain any MPDU soliciting immediate acknowledgment from the AP and ended less than PIFS before the end of the allocated time in which case it may transmit SIFS after the end of the last PPDU transmission.

If the EHT AP determines that the transmission of the MU-RTS TXS Trigger frame is successful and the CS mechanism indicates that the medium is busy at the end of the allocated time, then the AP might transmit after the CS mechanism indicates that the medium is idle at the TxPIFS slot boundary or invoke the backoff procedure as described in 10.23.2.2.

Figure 35-1 shows an example of the exchange of an MU-RTS TXS Trigger frame with TXS Mode subfield value equal to 1 preceded by an optional CTS-to-self transmission and transmission of UL non-TB PPDU by a scheduled STA within the allocated time. Additionally, the figure shows the case where the AP transmits to another non-AP STA within the allocated time signaled in the MU-RTS TXS Trigger frame, since the CS mechanism indicates that the medium is idle at the TxPIFS slot boundary after the transmission of the last BlockAck frame to STA 1.

![](0dde8aa8d2a204d94de7fbabef11eac4_img.jpg)

Figure 35-1 is a timing diagram illustrating the exchange of an MU-RTS TXS Trigger frame with TXS Mode subfield value equal to 1, preceded by an optional CTS-to-self transmission and the transmission of UL non-TB PPDU by a scheduled STA within the allocated time.

The diagram shows the timeline for AP and Non-AP STA 1:

- **AP:** Transmits CTS-to-self, followed by MU-RTS TXS Trigger Frame (Triggered TXOP Sharing Mode = 1) to STA 1. This is followed by Block Ack to STA 1, Block Ack to STA 1, and finally DATA to another non-AP STA.
- **Non-AP STA 1:** Transmits CTS response to AP, followed by DATA to AP in a non-TB PPDU, and then DATA to AP in a non-TB PPDU.

The diagram also highlights the allocated time for the MU-RTS TXS Trigger Frame and the TXOP period.

**Figure 35-1—Example of an MU-RTS TXS Trigger frame with TXS Mode subfield value equal to 1 soliciting UL PPDU**

Figure 35-2 shows an example of the exchange of an MU-RTS TXS Trigger frame with TXS Mode subfield value equal to 2 preceded by an optional CTS-to-self transmission and transmission of a PPDU to the AP and to another STA by a scheduled STA within the allocated time. Additionally, the figure shows the case where the AP transmits to another non-AP STA after PIFS from the end of the allocated time in MU-RTS Trigger TXS frame for STA 1.

![Timing diagram illustrating an MU-RTS TXS Trigger frame with TXS Mode subfield value equal to 2. The diagram shows the AP transmitting a CTS-to-self frame, followed by Non-AP STA 1 transmitting a CTS response to AP and a DATA to AP in non-TB PPDU. Non-AP STA 2 transmits a DATA to STA 2. The AP transmits a Block Ack to STA 1 and a Block Ack to STA 2. The Non-AP STA 2 transmits a DATA to another non-AP STA. The diagram highlights the 'Time allocated in MU-RTS TXS Trigger Frame' and the 'TXOP' period.](dfbc88ad126fbb1f44df82a10867efee_img.jpg)

Timing diagram illustrating an MU-RTS TXS Trigger frame with TXS Mode subfield value equal to 2. The diagram shows the AP transmitting a CTS-to-self frame, followed by Non-AP STA 1 transmitting a CTS response to AP and a DATA to AP in non-TB PPDU. Non-AP STA 2 transmits a DATA to STA 2. The AP transmits a Block Ack to STA 1 and a Block Ack to STA 2. The Non-AP STA 2 transmits a DATA to another non-AP STA. The diagram highlights the 'Time allocated in MU-RTS TXS Trigger Frame' and the 'TXOP' period.

Figure 35-2—Example of an MU-RTS TXS Trigger frame with TXS Mode subfield value equal to 2

#### 35.2.1.2.3 Non-AP STA behavior

After a non-AP EHT STA receives an MU-RTS TXS Trigger frame from its associated AP that contains a User Info field that is addressed to it, the STA may transmit one or more non-TB PPDU(s) within the time allocation signaled in the MU-RTS TXS Trigger frame. The first PPDU of the exchange shall carry a CTS frame transmitted per the rules defined in 26.2.6.3.

The time allocation shall start at the end of the PPDU that contains the MU-RTS TXS Trigger frame.

The non-AP EHT STA may use the time allocated by the associated AP in an MU-RTS TXS Trigger frame, which is addressed to the STA and that has the TXS Mode subfield equal to 2, for the transmission of one or more non-TB PPDU(s) that are addressed to the AP or to another STA. The non-AP EHT STA that received an MU-RTS TXS Trigger frame with TXOP Sharing Mode subfield equal to 2 may transmit, within an allocated time, a QoS Data or QoS Null frame that includes an HE variant HT Control field with a CAS Control subfield with the RDG/More PPDU subfield equal to 0 to the associated AP from which it has received an EHT Capabilities element with the TXOP Return Support In TXOP Sharing Mode 2 subfield set to 1. Otherwise, the STA shall not transmit such frame to its associated AP within the allocated time.

NOTE 1—For example, the STA might use the allocated time to transmit to a peer STA of a peer-to-peer link or might use the allocated time for noninfrastructure network communication.

The non-AP EHT STA may use the time allocated by the associated AP in the MU-RTS TXS Trigger frame with the TXS Mode subfield value equal to 1 only for the transmission of one or more non-TB PPDU(s) that are addressed to the AP.

A non-AP EHT STA addressed by a User Info field in the MU-RTS TXS Trigger frame shall ensure that its PPDU transmission(s) and any expected responses fit entirely within the allocated time.

A non-AP EHT STA that receives an MU-RTS TXS Trigger frame from its associated AP that contains a User Info field addressed to the STA shall update its CWmin[AC], CWmax[AC], AIFSmin[AC], and MUEDCA Timer[AC] state variables to the values contained in the dot1MUEDCA Table, for all the ACs from which at least one QoS Data frame was transmitted successfully in a non-TB PPDU to the AP within the time allocated in the Trigger frame. A QoS Data frame is transmitted successfully by the STA for an AC

if it requires immediate acknowledgment and the STA receives an immediate acknowledgment for that frame, or if the QoS Data frame does not require immediate acknowledgment.

If the last non-TB PPDU transmitted to its associated AP within the time allocated in an MU-RTS TXS Trigger frame contains at least one QoS Data frame for an AC that requires immediate acknowledgment, the updated MUEDCATimer[AC] for that AC shall start at the end of the immediate response. If the last transmitted non-TB PPDU to its associated AP does not contain any QoS Data frames for an AC that requires immediate acknowledgment, the updated MUEDCATimer[AC] for that AC shall start at the end of the non-TB PPDU.

After sending the CTS solicited by an MU-RTS TXS Trigger frame from the associated AP, the STA that sends the responding CTS shall ignore the intra-BSS NAV either until the end of the time allocation signaled in the MU-RTS TXS Trigger frame or until the allocated time is returned to the TXOP holder, whichever happened earlier.

After sending the CTS solicited by the MU-RTS TXS Trigger frame, the STA shall set the Duration/ID field of its frame(s) to a value that indicates a time no later than the ending time of the PPDU[+SigExt] carrying the MU-RTS TXS Trigger frame plus the allocated time duration in the Allocation Duration field of the soliciting MU-RTS TXS Trigger frame. Within the time allocated by an MU-RTS TXS Trigger frame with TXS Mode subfield equal to 2, the STA addressed by the MU-RTS TXS Trigger frame may transmit QoS Data frames, Management frames and frames that assist the transmission of QoS Data and Management frames, e.g., RTS/CTS frames, sounding frames.

**NOTE 2**—With the Duration field rule defined here, the basic NAV of any STA in the same BSS might become 0 only at the end of the allocated time if the basic NAV timer is set by the frames transmitted to peer STAs during the allocated time period. Such STAs can transmit in the remaining TXOP after the allocated time period due to a zero basic NAV value.

A non-AP STA addressed by an MU-RTS TXS Trigger frame with the TXS Mode subfield equal to 2 may either perform PIFS recovery within the allocated time or perform a backoff within the allocated time when the non-TB PPDU transmission is not successful. How it chooses among these options is implementation dependent.

During the time allocated by an associated AP using an MU-RTS TXS Trigger frame, a non-AP STA addressed by the MU-RTS TXS Trigger frame shall not transmit non-TB PPDU(s) occupying subchannels that are not used when sending the CTS frame in response to the MU-RTS TXS Trigger frame.

A non-AP STA addressed by an MU-RTS TXS Trigger frame shall set the TXVECTOR parameter CH\_BANDWIDTH or CH\_BANDWIDTH\_IN\_NON\_HT of non-TB PPDU(s) that it transmits during the time allocated by the MU-RTS TXS Trigger frame to be the same or narrower than the TXVECTOR parameter CH\_BANDWIDTH\_IN\_NON\_HT of the CTS frame that it transmitted in response to the MU-RTS TXS Trigger frame.

If a 20 MHz subchannel is indicated as a punctured subchannel in the most recently exchanged Disabled Subchannel Bitmap subfield in the EHT Operation element, the corresponding bit in the TXVECTOR parameter INACTIVE\_SUBCHANNELS shall be set to 1 and the punctured 20 MHz subchannel shall not be used by the non-TB PPDU(s) that is transmitted during the time allocated by the associated AP.

### 35.2.2 MU-RTS Trigger/CTS frame exchange procedure for EHT STAs

#### 35.2.2.1 MU-RTS Trigger frame transmission

An EHT AP shall follow the rules defined in 26.2.6.2 (MU-RTS Trigger frame transmission) and the following additional rules to transmit an MU-RTS Trigger frame.

If a non-AP EHT STA is addressed in an MU-RTS Trigger frame from an EHT AP and any of the following conditions is met, the User Info field addressed to an EHT STA in the MU-RTS Trigger frame shall be an EHT variant User Info field:

- The bandwidth of the EHT MU PPDU or non-HT duplicate PPDU carrying the MU-RTS Trigger frame is 320 MHz.
- The EHT MU PPDU or non-HT duplicate PPDU carrying the MU-RTS Trigger frame is punctured.

Otherwise, the EHT AP may decide whether the User Info field in the MU-RTS Trigger frame is an HE variant User Info field or an EHT variant User Info field.

If B55 in the Common Info field is equal to 0 in an MU-RTS Trigger frame, an EHT AP shall set B54 in the Common Info field to 0.

NOTE—Refer to Table 9-46a on valid combinations of B54 and B55 in the Common Info field, B39 in the User Info field, and User Info field variant.

An MU-RTS Trigger frame shall not solicit a CTS frame from an HE STA within a bandwidth that is indicated by UL BW field in the Common Info field of the MU-RTS Trigger frame and that contains any punctured 20 MHz subchannel.

An MU-RTS Trigger frame may be carried in an EHT MU PPDU if all intended recipients are non-AP EHT STAs. If the MU-RTS Trigger frame is carried in an EHT MU PPDU, then the EHT AP shall set the TXVECTOR parameter EHT\_PPDU\_TYPE of the EHT MU PPDU to 1.

An EHT AP that transmits a PPDU carrying an MU-RTS Trigger frame shall not puncture other 20 MHz subchannels in addition to those indicated in the Disabled Subchannel Bitmap subfield in the EHT Operation element.

#### 35.2.2.2 CTS frame response to an MU-RTS Trigger frame

A non-AP EHT STA identified in a User Info field in an MU-RTS Trigger frame shall follow the rules defined in 35.5.2.3 to determine whether the User Info field is an HE variant User Info field or an EHT variant User Info field

If an EHT STA is addressed by an HE variant User Info field in an MU-RTS Trigger frame, the EHT STA shall follow the rules defined in 26.2.6 in transmitting a response.

If the EHT STA is addressed by an EHT variant User Info field in the MU-RTS Trigger frame, the EHT STA shall follow the rules defined in 26.2.6 in transmitting a response, except that the UL MU CS condition shall be determined based on the rules defined in 35.5.2.4. The CTS frame in response to the MU-RTS Trigger frame shall be sent in the RU indicated by the EHT variant User Info field, excluding any punctured 20 MHz subchannel indicated in the Disabled Subchannel Bitmap subfield in the EHT Operation element.

#### 35.2.3 Intra-BSS and inter-BSS PPDU classification for EHT STA

An EHT STA shall follow the rules defined in 26.2.2 (Intra-BSS and inter-BSS PPDU classification) to classify intra-BSS and inter-BSS PPDU, except that a classifying STA shall classify a received PPDU as an inter-BSS PPDU if the PPDU is an EHT MU PPDU that is not in an EHT SU transmission with the RXVECTOR parameter UPLINK\_FLAG equal to 0, and the classifying STA is an AP.

### 35.3 Multi-link operation (MLO)

#### 35.3.1 General

MLO enables operations between two MLDs as described in 35.3. Each STA affiliated with an MLD shall be an EHT STA.

An EHT AP shall set `dot11MultiLinkActivated` to true and shall be affiliated with an AP MLD. An AP MLD and all of its affiliated AP(s) shall follow the rules defined in 35.3.

NOTE 1—There is no EHT mobile AP with `dot11MultiLinkActivated` equal to false.

A non-AP EHT STA with `dot11MultiLinkActivated` equal to true shall be affiliated with a non-AP MLD. A non-AP MLD and all of its affiliated non-AP STA(s) shall follow the rules defined in 35.3.

A non-AP EHT STA with `dot11MultiLinkActivated` equal to false shall not be affiliated with any non-AP MLD.

A non-AP MLD may establish a single link TDLS direct link with another non-AP MLD or a non-AP STA as defined in 35.3.21.

Each STA affiliated with an MLD may select and manage its capabilities and operating parameters independently from the other STA(s) affiliated with the same MLD, unless specified otherwise.

NOTE 2—For example, each AP affiliated with an AP MLD can independently select, disable, and update its BSS color (see 26.17.3) for its BSS.

NOTE 3—Examples of operating parameters that are selected at the MLD level (i.e., not independently selected by affiliated STAs) are the listen interval (see 35.3.12.6) and the WNM sleep interval (see 11.2.3.1).

Each STA affiliated with an MLD shall follow the procedures in 11.1.3 (Maintaining synchronization). In addition, an AP MLD shall correct the clock drift within all the affiliated APs to continuously comply with the following constraint for each pair of affiliated APs:

$$\left| (T1_{\text{AP1}} - T2_{\text{AP1}}) - (T1_{\text{AP2}} - T2_{\text{AP2}}) \right| \le 30 \mu\text{s}$$

where AP1 and AP2 are any two affiliated APs of the same AP MLD, and  $T1$  and  $T2$  are the TSFs of respective APs at any two instances in time.

NOTE 4—The above equation applies only if both the affiliated APs have been operating their BSSs without any interruptions (i.e., an AP interruption corresponds to when the AP is removed and added back following the ML reconfiguration procedure) between  $T1$  and  $T2$ .

NOTE 5—An AP affiliated with an AP MLD provides TSF offset in the complete profile of a reported AP (see 9.4.2.322.2.4). A non-AP MLD can determine the TSF information of all the APs affiliated with an AP MLD when it receives a frame carrying TSF of any one AP affiliated with that AP MLD (also see 35.3.12.2) based on the received TSF offset in the complete profile of a reported AP and use that information to maintain TSF timer for each non-AP STA per 11.1.3.

NOTE 6—A non-AP MLD can also determine the TSF information of the APs affiliated with an AP MLD based on the Beacon frames sent by each of the APs affiliated with an AP MLD.

NOTE 7—All APs affiliated with an NSTR mobile AP MLD have the same TSF timer (see 35.3.19).

An MLD shall operate with one or more affiliated STAs.

NOTE 8—An AP MLD might operate with a single affiliated AP, for example, after removing some of its affiliated APs. Similarly, a non-AP MLD might operate with a single affiliated non-AP STA, for example, after the associated AP MLD has removed some of its affiliated APs. See 35.3.6.1.

The MAC address of a non-AP EHT STA with dot11MultiLinkActivated equal to false shall be set to the MLD MAC address of the non-AP MLD that the non-AP EHT STA is affiliated with when the non-AP EHT STA has dot11MultiLinkActivated equal to true, and vice versa.

NOTE 9—The (Re)Association Request frame sent by a non-AP EHT STA with dot11MultiLinkActivated equal to false does not include the Basic Multi-Link element (see Table 9-64 and Table 9-66). After the association, the non-AP EHT STA with dot11MultiLinkActivated equal to false does not support MLO described in 35.3.

All APs affiliated with the same AP MLD are members of the same ESS and are connected to the same DS. All APs affiliated with the same AP MLD shall advertise the same SSID.

A non-AP STA affiliated with a non-AP MLD shall not support the TIM Broadcast procedure defined in 11.2.3.14.

### 35.3.2 MLD addressing

An MLD uses an MLD MAC address that singly identifies the MLD.

STAs affiliated with an MLD shall use different MAC addresses.

NOTE 1—The MLD MAC address of an MLD might be the same as the MAC address of one affiliated STA or might be different from the MAC address of any affiliated STA.

For an individually addressed frame sent on a link between two MLDs, the following apply:

- The value of the Address 2 (TA) field (if present) in the MAC header of the frame that is not a Probe Response frame shall be the MAC address of the transmitting STA affiliated with the MLD corresponding to that link except for the Individual/Group bit, which is set to 1 when the TA field value is a bandwidth signaling TA and set to 0 otherwise.
- If the frame is a Probe Response frame from an AP affiliated with the AP MLD operating on the link
  - If the AP does not belong to a multiple BSSID set or corresponds to the transmitted BSSID in a multiple BSSID set, then the value of the Address 2 (TA) field in the MAC header of the frame shall be set to the MAC address of the AP.
  - If the AP corresponds to the nontransmitted BSSID in a multiple BSSID set, then the value of the Address 2 (TA) field in the MAC header of the frame shall be set to the transmitted BSSID in the multiple BSSID set (see 11.1.4.3.4).
- The value of the Address 1 (RA) field in the MAC header of the frame shall be the MAC address of the receiving STA affiliated with the MLD corresponding to that link.
- If the frame is a Management frame, the value of the Address 3 field in the MAC header of the Management frame shall be set based on 9.3.3.1.
- If the frame is a Data frame, the value of the Address 3 field and the Address 4 field (if present) in the MAC header of the Data frame shall be set based on Table 9-60 and the settings of the To DS and From DS bits in the MAC header of the Data frame (see 9.2.4.1.4), where the BSSID is the MAC address of the AP affiliated with the AP MLD corresponding to that link.

NOTE 2—For frames sent over a direct path in a single link TDLs direct link, by a non-AP STA affiliated with a non-AP MLD, the value of the Address 2 (TA) field is set to the MLD MAC address of the non-AP MLD as described in 35.3.21.2.

NOTE 3—For MLO, the SA and DA of an MSDU carrying EAPOL-Key PDUs is set to the applicable MLD MAC address. See 12.2.4.

For a frame sent by a STA affiliated with the MLD with Address 1 field set to a group address (if allowed as described in 9.3.1, 9.3.2, and 9.3.3), the value of the Address 2 field, the Address 3 field (if present), and the Address 4 field (if present) in the MAC header of the frame shall be set as defined in 9.3.1, 9.3.2, and 9.3.3, where the BSSID is the following:

- If the STA is an AP, then the BSSID is the MAC address of the AP.
- If the STA is a non-AP STA affiliated with the non-AP MLD that has performed ML setup with an AP MLD, and a link is set up between the non-AP STA affiliated with the non-AP MLD and an AP affiliated with the AP MLD, then the BSSID is set to the MAC address of the AP affiliated with the AP MLD.

### 35.3.3 Advertisement of ML information in Multi-Link element

#### 35.3.3.1 General

The rules for including a Basic Multi-Link element in a Beacon frame or in a Probe Response frame are described in 35.3.4. The rules for including a Basic Multi-Link element in an Authentication frame, in a FT Action frame, in a (Re)Association Request frame, or in a (Re)Association Response frame are described in 35.3.5. The subclauses also define the conditions for presence of the Link Info field in the Basic Multi-Link element and when present, whether the Link Info field carries complete or partial profile of a reported STA.

The requirements for including a Reconfiguration Multi-Link element in a Beacon frame and Probe Response frame are described in 35.3.6.

NOTE 1—The Probe Response frame referred in the above paragraphs can be a multi-link probe response.

NOTE 2—The rules related to inclusion and location of a Multi-Link element in a frame when an affiliated AP corresponds to a nontransmitted BSSID in a multiple BSSID set can be found in 35.3.20, 35.3.4.2, and 35.3.6. The subclauses also define the conditions for presence of the Link Info field in the Basic Multi-Link element and when present, whether the Link Info field carries complete or partial profile of a reported STA.

The requirements for including a EPCS Priority Access Multi-Link element in an EPCS Priority Access Enable Request/Response frames are described in 35.16.

The requirements for including a Probe Request Multi-Link element in a Probe Request frame are described in 35.3.4.2.

The requirements for including a TDLS Multi-Link element in frames exchanged during TDLS discovery and setup are described in 35.3.21.

The Basic Multi-Link element when carried in the Neighbor Report element shall not include a Link Info field, except as described in 35.3.23 or except when Neighbor Report element is carried in a (Re)Association Response frame.

A STA affiliated with an MLD that receives a frame carrying a Multi-Link element shall determine the presence of subfield(s) carried in the Common Info field based on the subfields of the Presence Bitmap field.

NOTE 3—A receiving STA determines the end of the Common Info field based on the Common Info Length subfield and skips information that it cannot decode.

A STA affiliated with an MLD that receives a frame carrying a Multi-Link element that carries a Per-STA Profile subelement shall determine the presence of subfield(s) carried in the STA Info field based on the subfields of the STA Control field.

NOTE 4—A receiving STA determines the end of the STA Info field based on the STA Info Length subfield of the STA Info field in the Per-STA Profile subelement and skips the information it cannot decode.

When different variants of the Multi-Link element (see Table 9-417f) are included in the same Management frame or as subelements within the same element, then the Multi-Link elements shall appear in ascending order of the value carried in the Type subfield of the Multi-Link Control field of the Multi-Link element.

NOTE 5—If a Multi-Link element that is carried in the same frame as another Multi-Link element is fragmented (see 10.28.11), then the resultant Fragment element(s) immediately follow that Multi-Link element.

### 35.3.3.2 Link ID

A link ID is an integer value between 0 and 14 that uniquely identifies an AP affiliated with the AP MLD. At any given time, no two affiliated APs of the same AP MLD shall have the same link ID. The link ID associated with an affiliated AP shall not change for the lifetime of the BSS set up by that AP.

NOTE 1—An affiliated AP's BSS is terminated when the AP is removed by following the procedures described in 35.3.6.3 and as a result, a link ID is no longer assigned to that AP. An affiliated AP's BSS is not terminated when the link it is operating on is disabled by following the procedure described in 35.3.7.2.4 and as a result the affiliated AP maintains the link ID assigned to it.

NOTE 2—An AP MLD does not assign link ID value 15 to any of its affiliated APs since the value 15 is used in the Link ID subfield of Reduced Neighbor Report element to identify a reported AP that is not affiliated with an AP MLD or whose information is not known.

NOTE 3—Since a link ID identifies an affiliated AP and does not change for the lifetime of the AP's BSS, the link ID remains unchanged if the AP moves its BSS to a different channel by performing the channel switch procedure described in 11.8.8 or 11.9.

NOTE 4—A non-AP MLD obtains the link ID assigned to an affiliated AP (and the link that the AP is operating on) during discovery and uses this value for identifying the AP when performing MLOs that involve this affiliated AP.

### 35.3.3.3 Advertisement of complete or partial per-link information

If a reporting STA that is affiliated with an MLD transmits a frame that carries a Basic Multi-Link element, which includes a Per-STA Profile subelement that carries the complete profile for a reported STA, then the reporting STA shall set the Complete Profile subfield of the STA Control field in that Per-STA Profile subelement to 1. Otherwise, the reporting STA shall set the Complete Profile subfield of the STA Control field in the Per-STA Profile subelement to 0 and the profile of the reported STA is defined as partial profile.

The complete profile of a reported STA in a Basic Multi-Link element consists of all the elements and fields that would be included in a Management frame that is of the same subtype as the frame transmitted by the reporting STA carrying the Basic Multi-Link element as if the reported STA were to transmit the frame and subject to inheritance rules defined in 35.3.3.5.1 and exceptions specified in 35.3.3.4. A reporting AP shall include applicable elements listed in 35.3.11 in the per-STA profile for a reported AP in a Basic Multi-Link element carried in a (Re)Association Response frame if the conditions stated in 35.3.11 apply to the reported AP.

NOTE 1—The above definition of a complete profile applies only to a Basic Multi-Link element.

Each Per-STA Profile subelement of the Basic Multi-Link element that is included in a Management frame transmitted by a STA affiliated with an MLD and that carries a complete profile shall consist of:

- The STA Control field (as defined in 9-1074v),
- The STA Info field (as defined in 9-1074w), and
- The STA Profile field containing fields and elements based on the following rules:
  - If the reporting STA is an AP, the STA Profile field corresponding to the reported AP:
    - carries fields and elements in the same order and subject to the conditions as in:
      - Table 9-69 if the fields and elements are carried in a multi-link probe response.

- Table 9-65 if the frame is an Association Response frame.
- Table 9-67 if the frame is a Reassociation Response frame.
- Is subject to inheritance rules defined in 35.3.3.5.1 and exceptions specified in 35.3.3.4.
- If the reporting STA is a non-AP STA, the STA Profile field corresponding to the reported non-AP STA:
  - Carries fields and elements in the same order and subject to conditions as in:
    - Table 9-64 if the frame is an Association Request frame.
    - Table 9-66 if the frame is a Reassociation Request frame.
  - Is subject to inheritance rules defined in 35.3.3.5.1 and exceptions specified in 35.3.3.4.
- If an additional element is included in the STA profile field, other than the ones listed in the tables of 9.3.3, then the element shall follow all the applicable elements listed in the tables of 9.3.3 for the reported STA. When more than one such additional elements are included, they are ordered based on their Element ID and Element ID Extension (if present).

NOTE 2—For example, if a reported AP corresponds to a nontransmitted BSSID in a multiple BSSID set, the Multiple BSSID-Index element for that AP is included in the Per-STA Profile subelement corresponding to that reported AP in the Basic Multi-Link element that is carried in an Association Response frame (see 9.4.2.72). The Multiple BSSID-Index element appears after all the elements that satisfy the conditions for inclusion in the Per-STA Profile subelement based on Table 9-65 for the reported AP. In addition, if conditions described in 35.3.11 require inclusion of Max Channel Switch Time element for that reported AP, then the Max Channel Switch Time element is also included and appears after the Multiple BSSID-Index element.

- Optionally, a Non-Inheritance element appears as the last element in the STA Profile field and carries a list of elements that are not inherited by the reported STA from the reporting STA (see 35.3.3.5.1).

An example of a Basic Multi-Link element, carried in an Association Request frame, containing a complete per-STA profile is shown in AH.2.1.

#### 35.3.3.4 Fields and elements not carried in a Per-STA Profile subelement

An AP affiliated with an AP MLD shall not include a Timestamp field, a Beacon Interval field, an AID field, a BSS Max Idle Period element, MSCS Descriptor element, QoS Map element, FILS Indication element, Neighbor Report element, Reduced Neighbor Report element, Multiple BSSID element, TIM element, TID-To-Link Mapping element, Multi-Link Traffic Indication element, Channel Usage element or another Multi-Link element in the STA Profile field of the Basic Multi-Link element.

NOTE 1—For an NSTR mobile AP MLD, only the AP on the primary link transmits a Beacon frame. In addition, the TSF timer of the nonprimary link is the same as that of the primary link (see 35.3.19).

NOTE 2—For an AP MLD that is not an NSTR mobile AP MLD, the Timestamp field is specific to each link and the value for each can be obtained by receiving a Beacon frame, a Probe Response frame or a TIM frame on the respective link or can be determined based on the TSF Offset subfield carried in the STA Info field corresponding to the reported AP.

NOTE 3—The contents of the TIM element for a non-AP MLD are consistent across all links. The Beacon Interval field is an explicit subfield in STA Info field for the reported AP. The AID field and the BSS Max Idle Period element apply at the MLD level and are carried outside the Basic Multi-Link element.

An AP affiliated with an AP MLD shall not include an SSID element in the STA Profile field of the Basic Multi-Link element for a reported AP unless both of the following conditions are satisfied for the element:

- The Basic Multi-Link element carries a complete profile of the reported AP.
- The Basic Multi-Link element is contained in a multi-link probe response transmitted by the AP corresponding to the transmitted BSSID in a multiple BSSID set in response to a multi-link probe

request directed to an AP corresponding to the nontransmitted BSSID in the same multiple BSSID set.

A non-AP STA affiliated with a non-AP MLD shall not include a Listen Interval field, a Current AP Address field, an SSID element, BSS Max Idle Period element or another Multi-Link element in the STA Profile field of the Basic Multi-Link element.

NOTE 4—The Listen Interval field and the Current AP Address field apply at the MLD level and are carried outside the Basic Multi-Link element.

NOTE 5—All APs affiliated with the same AP MLD advertise the same SSID (see 35.3.1) and therefore, the same (SSID) value applies to a reported (AP or non-AP) STA.

A STA affiliated with an MLD shall not include the FTE and the MDE for each reported STA in the reported STA's STA Profile field of the Basic Multi-Link element carried in a (Re)Association Request frame or a (Re)Association Response frame that it transmits. Also see 13.4.2 and 13.7.

NOTE 6—No RSNE/RSNXE is included in the Basic Multi-Link element carried in a (Re)Association Request frame because there is only one RSNE/RSNXE provided by the non-AP MLD during ML (re)setup. See 12.6.3.1. An AP MLD can have a different MFPR carried in the RSNE for each of its affiliated APs and in such case, the (Re)Association Response frame includes the RSNE in the corresponding STA Profile field of Basic Multi-Link element. See 12.6.2.

### 35.3.3.5 Inheritance in a Per-STA Profile subelement

#### 35.3.3.5.1 Inheritance in the Per-STA Profile subelement of Basic Multi-Link element

It is likely that STAs affiliated with the same MLD have similar capabilities and operational parameters for operating on their respective links. As a result, an element that is applicable to a reported STA might have the same value as the corresponding element applicable to a reporting STA which is carried in the frame outside the Basic Multi-Link element. To reduce the frame size, when a Per-STA Profile subelement carries a complete profile for a reported STA, it inherits the elements from the reporting STA based on the rules defined in this subclause.

The inheritance mechanism described in this subclause shall apply only when the Per-STA Profile subelement of the Basic Multi-Link element carries a complete profile of the reported STA (i.e., the Complete Profile subfield in the STA Control field of the subelement is set to 1).

A STA that transmits a Management frame carrying the Basic Multi-Link element shall include an element that is specific to the reported STA in the complete profile of the reported STA carried in the Basic Multi-Link element. An element, identified by an Element ID and Element ID Extension (if applicable), is considered specific to a reported STA if any of the following conditions are satisfied:

- At least one element with the same Element ID and Extended Element ID (if applicable) is present in the frame that carried the Basic Multi-Link element but the contents of the Information field are not the same for the reported STA if the reported STA were to transmit the same Management frame subtype.
- The reported STA satisfies the condition for that element to be included in the same Management frame subtype as the frame that carries the Basic Multi-Link element while the reporting STA does not satisfy the corresponding condition.

NOTE 1—For example, if there exists one or more Vendor Specific elements carried in a Management frame that includes the Basic Multi-Link element containing a per-STA profile for a reported STA, and the contents of the Information field for at least one of the Vendor Specific elements is not the same as that of at least one Vendor Specific element that applies to the reported STA, then each Vendor Specific element that applies to the reported STA is included in its Per-STA Profile subelement.

NOTE 2—The conditions to include an element in a particular Management frame are specified in 9.3.3. For example, Table 9-65 specifies the conditions for an element to be included in an Association Response frame.

If an element, identified by an Element ID and Element ID Extension (if applicable), is carried in a Management frame transmitted by a reporting STA and the element is outside the Basic Multi-Link element and outside Multiple BSSID element (if included), and there is no element having the same Element ID and Element ID Extension (if applicable) in a complete profile of a reported STA's profile in the Basic Multi-Link element, then the element is considered to be part of the reported STA's profile and the value to use is the same as that of the corresponding element carried in the reporting STA's frame unless any of the following conditions are true, in which case the element is not considered to be part of the reported STA's profile:

- The complete profile carries the Non-Inheritance element (see 9.4.2.239) and the element is listed in the Non-Inheritance element.
- The element is excluded from being included in the Per-STA Profile subelement as described in 35.3.3.4.

If an element, identified by an Element ID and Element ID Extension (if applicable), is carried in a Management frame transmitted by the reporting STA and the element is outside the Basic Multi-Link element, and there is an element having the same Element ID and Element ID Extension (if applicable) in a complete profile of a reported STA carried in the Basic Multi-Link element in that frame (i.e., the element is specific to the reported STA), then the STA receiving the Management frame shall consider the element received in the Management frame outside of the Basic Multi-Link element to not be part of the reported STA's profile.

When an AP corresponding to a transmitted BSSID in a multiple BSSID set transmits a multi-link probe response in response to a multi-link probe request directed to an AP corresponding to a nontransmitted BSSID in the same multiple BSSID set and the Basic Multi-Link element corresponding to the AP MLD with which the AP corresponding to the nontransmitted BSSID is affiliated carries a complete profile for a requested AP, then the inheritance (or non-inheritance) for the per-STA profile is with respect to the elements carried in the Probe Response frame that are outside the Multiple BSSID element.

NOTE 3—The Multiple BSSID element and Basic Multi-Link element are not inherited by the profile for a reported AP.

A Fragment element (see 9.4.2.187) is considered under the same context as the element that is being fragmented. Therefore, when an element that is fragmentable (see Table 9-130 and 10.28.11) is inherited (or not inherited), the Fragment element(s) (if present) corresponding to that element shall also be inherited (or not inherited).

An example of inheritance in a Basic Multi-Link element is shown in AH.2.2.1.

#### 35.3.3.5.2 Inheritance in the Per-STA Profile subelement of Probe Request Multi-Link element

When a non-AP STA affiliated with a non-AP MLD requests a partial profile for another AP (AP 1) affiliated with the same AP MLD as an AP (AP 2) receiving the multi-link probe request (see 35.3.4.2) and the same partial profile for the AP (AP 2), the non-AP STA may include the (Extended) Request element only in the Probe Request frame body, and this element will be inherited for the other requested AP (AP 1) even if it is not carried in the Per-STA Profile subelement corresponding to the other requested AP (AP 1), following the rules defined in 35.3.4.2.

NOTE—The terms AP 1 and AP 2 in the paragraph above are only used to differentiate APs affiliated with the AP MLD.

An example of inheritance in a Probe Request Multi-Link element is shown in AH.2.2.2.

#### 35.3.3.6 Processing of Per-STA Profile subelement of Multi-Link element

A non-AP STA (non-AP STA 1) affiliated with a non-AP MLD shall follow the procedures (if any) that are associated with a field that is carried (directly or within an element) in a Management frame received on another link, and transmitted by an AP (AP 2), as if it (non-AP STA 1) had received that field in the same Management frame transmitted by a reported AP (AP 1) that is operating on the same link as the non-AP STA (non-AP STA 1), if all of the following conditions are satisfied:

- The transmitting AP (AP 2) is affiliated with the same AP MLD as the reported AP (AP 1).
- The field is carried within the STA Info field or STA Profile field of a Per-STA Profile subelement of a Multi-Link element, corresponding to the reported AP (AP 1).
- The frame is received by another non-AP STA (non-AP STA 2) that is affiliated with the same non-AP MLD as the non-AP STA (non-AP STA 1) and is operating on the same link as AP 2.
- One of the following conditions is true:
  - The Management frame is a Beacon frame, a Probe Response frame, a (Re)Association Response frame or a Link Reconfiguration Response frame and the transmitting AP (AP 2) does not belong to a multiple BSSID set or is the transmitted BSSID in the multiple BSSID set.
  - The Management frame is a (Re)Association Response frame or a Link Reconfiguration Response frame, and the transmitting AP (AP 2) corresponds to a nontransmitted BSSID in a multiple BSSID set.

**NOTE 1**—In a multiple BSSID set, an AP corresponding to the nontransmitted BSSID responds to a (Re)Association Request frame by transmitting a (Re)Association Response frame that does not include the Multiple BSSID element.

A non-AP STA (non-AP STA 1) affiliated with a non-AP MLD shall follow the procedures (if any) that are associated with a field that is carried (directly or within an element) in a Management frame received on another link, and transmitted by an AP (AP 3), as if it had received that field in the same Management frame transmitted by a reported AP (AP 1) that is operating on the same link as the non-AP STA (non-AP STA 1), if all of the following conditions are satisfied:

- The transmitting AP (AP 3) is the transmitted BSSID in the same multiple BSSID set as an AP (AP 2) that corresponds to a nontransmitted BSSID and the AP (AP 2) is affiliated with the same AP MLD as the reported AP (AP 1).
- The frame is received by another non-AP STA (non-AP STA 2) affiliated with the same non-AP MLD as the non-AP STA (non-AP STA 1) and is operating on the same link as AP 2.
- The field is carried within the STA Info field or STA Profile field of a Per-STA Profile subelement of a Multi-Link element, corresponding to the reported AP (AP 1).

**NOTE 2**—As an example, take Figure 35-6 as a reference. AP T, AP n, AP 2, non-AP STA 2, and non-AP STA 1 in the figure are the same as AP 3, AP 2, AP 1, non-AP STA 2, and non-AP STA 1, respectively, in the above text.

An AP (AP 1) affiliated with an AP MLD shall follow the procedures (if any) that are associated with a field that is carried (directly or within an element) in a Management frame or a Link Reconfiguration Request frame received on another link, from a non-AP STA (non-AP STA 2), as if it (AP 1) had received that field in the same Management frame transmitted by a reported non-AP STA (non-AP STA 1) operating on the same link as the AP (AP 1), if all of the following conditions are satisfied:

- The transmitting non-AP STA (non-AP STA 2) is affiliated with the same non-AP MLD as the reported non-AP STA (non-AP STA 1).
- The frame is received by another AP (AP 2) affiliated with the same AP MLD as the AP (AP 1) and is operating on the same link as non-AP STA 2.
- The field is carried within the STA Info field or STA Profile field of a Per-STA Profile subelement of a Multi-Link element, corresponding to the reported non-AP STA (non-AP STA 1).

### 35.3.3.7 Subelement fragmentation in the Link Info field of a Multi-Link element

This subclause describes the procedure for splitting the contents of a subelement that is carried within a Link Info field of a Multi-Link element, across multiple subelements, when the length of the contents of the subelement exceeds 255 octets in the Multi-Link element. The procedure is described with respect to the Per-STA Profile subelement of the Basic Multi-Link element. However, the same procedure applies to any subelement (see Table 9-417g) except the Fragment subelement and to any variant of Multi-Link element.

NOTE 1—When the length of the contents of the subelement is less than or equal to 255 octets but exceeds the remaining size of the Multi-Link element, the subelement is not fragmented. Instead, the Multi-Link element is fragmented by following the procedure described in 10.28.11, and the subsequent Fragment element (see 9.4.2.187) carries the portion of the subelement that exceeded the remaining size of the element.

If the length of the contents of a Per-STA Profile subelement for a reported STA exceeds 255 octets, the transmitting STA shall fragment the contents across a series of subelements consisting of the Per-STA Profile subelement, immediately followed by one or more Fragment subelements as illustrated in Figure 35-3. All the information for a fragmented subelement shall be carried across the same Basic Multi-Link element and its Fragment element(s). A Per-STA profile subelement shall not be fragmented if the length of the Data field of the subelement is less than 255 octets. A Fragment subelement shall not be the first subelement or the only subelement within a Link Info field of the Basic Multi-Link element.

NOTE 2—When the length of the contents of the Per-STA Profile subelement is greater than 255 octets, the length of Basic Multi-Link element that carries the subelement is fragmented by following the procedure defined in 10.28.11. Also see Figure 35-4.

![](97c802e1b29f5fd687e9572686b3ac6b_img.jpg)

Diagram illustrating Per-STA Profile subelement fragmentation.

The diagram shows the structure of the Link Info field of a Multi-Link element, which is fragmented into multiple subelements. The total length of the fragmented subelement is L octets, and the length of the last fragment is m octets, where  $m \le 255$ .

The structure consists of:

- Subelement 0 (Per-STA Profile): SubEID (0), Length (255), Data (L octets).
- Fragmented Subelements: FragID (254), Length (255), Data (255 octets).
- Final Fragment: FragID (254), Length (m), Data (m octets).

Legend:

- SubEID: Subelement ID of Per-STA Profile (0)
- FragID: Subelement ID of the Fragment subelement (254)
- L: Total size (octets) of fragmented subelement
- m: L mod 255

Figure 35-3—Per-STA Profile subelement fragmentation

![](b51858157f8ac1bdb3ed2ec1d42f0492_img.jpg)

Diagram illustrating the fragmentation of a Per-STA Profile subelement within a fragmented Multi-Link element.

The diagram shows a sequence of Multi-Link elements (MLDs) and Fragment elements (FIDs). Each MLD contains an Element ID (EID), Length (255), EID Ext (107), and Fields before the fragmented subelement (255-k octets). The fragmented subelement is divided into multiple Fragment elements (FIDs), each containing a Fragment ID (FID), Length (255), and Data (255).

Annotations detail the structure:

- EID: Element ID of Multi-Link element (=255)
- EID Ext: Element ID Extension for Multi-Link element (=107)
- FID: Element ID of Fragment element (=242)
- FragID: Subelement ID of the Fragment subelement (=254)
- L: Total size (octets) of fragmented subelement
- k: Length of last Fragment element
- m: L mod 255

The diagram illustrates how the total length L is fragmented into multiple 255-octet segments, with the last segment potentially being shorter (k octets).

Figure 35-4—Per-STA Profile subelement fragmentation within a fragmented Multi-Link element

The information to be fragmented is divided into  $P + Q$  portions, where:

- $P$  is  $\lfloor L/255 \rfloor$ .
- $Q$  is equal to 1 if  $(L \text{ mod } 255) > 0$  and equal to 0 otherwise.
- $L$  is the size of the information in octets.

The Per-STA Profile subelement into which the information does not fit is filled with the first segment of information. This subelement is immediately followed by  $P - 1$  Fragment subelements, each containing the subsequent segments of 255 octets of information. If  $Q = 1$ , these subelements are immediately followed by another Fragment subelement containing the remaining segment of information. The length of this last Fragment subelement shall be  $(L \text{ mod } 255)$ .

NOTE 3—A Fragment subelement never follows a subelement with fewer than 255 octets of information.

A Per-STA Profile subelement that has its information fragmented shall be followed by one or more Fragment subelements. To reconstruct the original information, the portion of information from the Per-STA Profile subelement shall be concatenated, in order, with the portions of information from the series of Fragment subelements that follow it. The defragmentation procedure shall complete when any subelement other than a Fragment subelement is encountered or the end of the last Fragment element of the Basic Multi-Link element is reached.

NOTE 4—The receiving STA follows the procedure defined in 10.28.12 (Element defragmentation) to defragment the Basic Multi-Link element.

### 35.3.4 Discovery of an AP MLD

#### 35.3.4.1 AP behavior

If an AP is affiliated with an AP MLD and does not correspond to a nontransmitted BSSID, then the Beacon and Probe Response frames transmitted by the AP shall include a TBTT Information field in a Reduced Neighbor Report element with the TBTT Information Length field set to 16 or higher (see 9.4.2.169.2) for each of the other AP(s) (if any) affiliated with the same AP MLD. A FILS Discovery frame transmitted by the AP may include a Reduced Neighbor Report element with the same information.

If an AP (AP 1) is affiliated with an AP MLD (AP MLD 1) and corresponds to a nontransmitted BSSID, then the Beacon and Probe Response frames transmitted by the AP (AP 2) corresponding to the transmitted

BSSID of the same multiple BSSID set as the AP (AP 1) shall include a TBTT Information field in a Reduced Neighbor Report element with the TBTT Information Length field set to 16 or higher (see 9.4.2.169.2), for each of the other APs (if any) affiliated with the same AP MLD (AP MLD 1). A FILS Discovery frame transmitted by the AP (AP 2) may include a Reduced Neighbor Report element with the same information.

NOTE 1—The terms AP 1 and AP 2 and AP MLD 1 and AP MLD 2 are used in this paragraph with the sole purpose to differentiate the APs and the AP MLDs and clarify the normative text.

If all of the following conditions are true:

- A reporting AP is affiliated with an AP MLD (AP MLD 1) and is in the same co-located AP set as APs affiliated with another AP MLD (AP MLD 2)
- The other AP MLD (AP MLD 2) has no affiliated APs operating on the same channel as the reporting AP
- An AP affiliated with the other AP MLD (AP MLD 2) is in the same multiple BSSID set as an AP affiliated with the AP MLD (AP MLD 1) of the reporting AP
- The APs affiliated with the other AP MLD (AP MLD 2) are not already reported in Beacon frames and broadcast Probe Response frames transmitted by another AP in the same co-hosted AP set as the reporting AP and operating on the same channel as the reporting AP

then each AP affiliated with the other AP MLD (AP MLD 2) shall be reported in a TBTT Information field with the TBTT Information Length field set to 16 or higher (see 9.4.2.169.2) in the Reduced Neighbor Report element that is included in the Beacon frames and broadcast Probe Response frames transmitted by the reporting AP and may be reported in a FILS Discovery frame that includes a Reduced Neighbor Report element transmitted by the reporting AP.

If a reporting AP reports an AP affiliated with an MLD in a Reduced Neighbor Report element with the MLD Parameters subfield present in the TBTT Information field for that AP, then the reporting AP shall set the AP MLD ID, the Link ID, and the BSS Parameters Change Count subfields as described in 9.4.2.169.2. The AP MLD ID of an AP MLD shall not be set to 255 and an AP affiliated with an AP MLD shall not have a BSSID index set to 255.

NOTE 2—The AP MLD ID subfield in the Reduced Neighbor Report element is used to determine the AP MLD with which the reported AP is affiliated, especially when multiple AP MLDs are reported in the same frame.

The TBTT offset between two APs affiliated with the same AP MLD shall never be larger than 254 TUs. An AP affiliated with an AP MLD shall not have the Neighbor AP TBTT Offset subfield set to 255 for an AP affiliated with the same AP MLD, except under the rules defined in 35.3.11 and except if the link on which the reported AP is operating is disabled as advertised according to the procedures in 35.3.7.2.4.

### 35.3.4.2 Use of multi-link probe request and response

A multi-link probe request allows a non-AP STA affiliated with a non-AP MLD to request an AP affiliated with an AP MLD to include the complete or partial set of capabilities, parameters and operation elements of the AP(s) affiliated with the targeted AP MLD in the response frame. The complete profile and partial profile of a requested AP are defined in 35.3.3.3.

NOTE 1—If an AP MLD has only one affiliated AP, a multi-link probe response will not provide additional information compared to a Probe Response frame that is not a multi-link probe response.

An MLD SME may generate a multi-link probe request by calling MLME-SCAN.request with the ScanType parameter set to MULTI-LINK PROBE. A multi-link probe request is a Probe Request frame that is sent as a non-scanning probe request transmission (see 11.1.4.3.8). The Probe Request frame shall be formatted as follows:

- Either with the Address 1 field set to the broadcast address and the Address 2 field set to the BSSID of an AP, or with the Address 1 and Address 3 fields set to the BSSID of an AP.
- With the AP MLD ID subfield (if present in the Probe Request Multi-Link element) set to the AP MLD ID that identifies the targeted AP MLD with which the requested AP(s) are affiliated.
- With the MLD MAC Address subfield (if present in the Probe Request Multi-Link element) set to the IRM following the rules defined in 12.2.13.2.
- Including a Probe Request Multi-Link element defined in 9.4.2.322.3.
- Following the rules defined in 35.3.4.5 for the inclusion of elements.

NOTE 2—The MLD MAC Address subfield is only included in the multi-link probe request if the AP MLD advertises the activation of the IRM mechanism as per rules defined in 12.2.13.2.

The value of the Link ID field of the Per-STA Profile subelement of the Probe Request Multi-Link element identifies the AP affiliated with an AP MLD that is requested and shall be set to the link ID that is assigned to this AP (see 35.3.3.2).

If either the Address 1 field or the Address 3 field of the multi-link probe request is set to the MAC address of the AP that is affiliated with a targeted AP MLD and that corresponds to a nontransmitted BSSID, then the AP MLD ID subfield shall not be present in the Probe Request Multi-Link element of the multi-link probe request. Otherwise, the AP MLD ID subfield shall be present in the Probe Request Multi-Link element of the multi-link probe request and the targeted AP MLD is identified by the AP MLD ID subfield, which is set to the same AP MLD ID value as the one used by the AP that is addressed by the multi-link probe request to identify the AP MLD in the Beacon and Probe Response frames that it transmits.

NOTE 3—If the addressed AP is affiliated with the targeted AP MLD and the AP is corresponding to a transmitted BSSID in a multiple BSSID set or the AP is not part of a multiple BSSID set, then the AP MLD ID is set to 0.

If the Probe Request Multi-Link element in the multi-link probe request does not include any per-STA profiles, then all APs affiliated with the same AP MLD as the AP identified in the Address 1 or Address 3 field or AP MLD ID of the multi-link probe request shall be requested APs.

If the Probe Request Multi-Link element in the multi-link probe request includes one or more per-STA profiles, then only APs affiliated with the same AP MLD as the AP identified in the Address 1 or Address 3 field or in the AP MLD ID subfield (if present) of the multi-link probe request and whose link ID is equal to the value in the Link ID field in a per-STA profile in the Probe Request Multi-Link element in the multi-link probe request shall be requested APs.

The partial profile of a requested AP sent by a reporting AP consists of one or more elements that are requested in the Request element, Extended Request element or both elements carried in the multi-link probe request.

A multi-link probe request allows a non-AP STA to request an AP affiliated with an AP MLD to include the partial profile for a requested AP affiliated with the targeted AP MLD if the Probe Request Multi-Link element carries a Per-STA Profile subelement for the requested AP to retrieve partial profile. To do so, the STA shall include a Request element, an Extended Request element or both elements in the frame body of the multi-link probe request and/or in a Per-STA Profile subelement in a Probe Request Multi-Link element carried in the multi-link probe request; and:

- The Complete Profile Requested subfield of the STA Control field in the Per-STA Profile subelement shall be set to 0
- The (Extended) Request element, if carried in the per-STA profile corresponding to the requested AP, specifies the partial profile
- The (Extended) Request element(s), if not carried in the per-STA profile corresponding to the requested AP that requests the same partial profile as the AP addressed by the multi-link probe

request can be inherited from the (Extended) Request element(s) in the frame body, subject to the rules defined in 35.3.3.5.2

A multi-link probe request allows a non-AP STA to request an AP affiliated with an AP MLD to include the complete profile of all requested APs affiliated with the targeted AP MLD if the Probe Request frame does not include the (Extended) Request element(s) in the frame body and the Probe Request Multi-Link element in the Probe Request frame does not include any per-STA profile.

A multi-link probe request allows a non-AP STA to request an AP affiliated with an AP MLD to include the same requested partial profile for all requested APs affiliated with the targeted AP MLD if the Probe Request frame includes the (Extended) Request element(s) in frame body and the Probe Request Multi-Link element in the Probe Request frame does not include any per-STA profile.

A multi-link probe response is a Probe Response frame:

- That is transmitted in response to a received multi-link probe request
- And that includes a Basic Multi-Link element which can carry complete or partial profile(s), based on the soliciting request, for each of the requested AP(s) affiliated with the targeted AP MLD.

If an AP that is affiliated with an AP MLD receives a multi-link probe request from a non-AP STA affiliated with a non-AP MLD requesting a complete profile for a requested AP, it shall respond with a multi-link probe response that includes a Basic Multi-Link element with a per-STA profile with a complete profile for the requested AP subject to the rules defined in 11.1.4.3.4. If it receives a multi-link probe request from a non-AP STA affiliated with a non-AP MLD requesting partial profile for a requested AP, it shall respond with a multi-link probe response that includes a Basic Multi-Link element with a per-STA profile with at least the elements requested from the (Extended) Request element for the requested AP, unless the elements requested are not part of the complete profile for the requested AP and subject to the rules defined in 11.1.4.3.4.

If an AP that is affiliated with an AP MLD receives a multi-link probe request requesting a complete profile and responds with a multi-link probe response (per 11.1.4.3.4), the Address 1 field of the Probe Response frame may be set to the broadcast address.

NOTE 4—An AP operating in the 6 GHz band is allowed to set the Address 1 field of the Probe Response frame to the broadcast address as defined in 26.17.2.3.2 (AP behavior for fast passive scanning).

An AP corresponding to the transmitted BSSID in a multiple BSSID set shall transmit a multi-link probe response in response to a multi-link probe request that is soliciting information of an MLD with which an AP corresponding to the nontransmitted BSSID in the same multiple BSSID set is affiliated. Such a multi-link probe response shall carry a Basic Multi-Link element containing information of the solicited AP MLD and one or more APs affiliated with it. The Basic Multi-Link element shall be carried in the frame body of the multi-link probe response, whose location is outside of the Multiple BSSID element carried in the frame and the AP MLD ID Present subfield of the Presence Bitmap subfield of the Basic Multi-Link element shall be set to 1. The AP MLD ID subfield of the Common Info field of the Basic Multi-Link element shall be set to the same value as the BSSID Index subfield of the Multiple-BSSID Index element carried in the Nontransmitted BSSID Profile subelement of the Multiple BSSID element.

NOTE 5—A multi-link probe request can only solicit information for one AP MLD and one or more APs affiliated with that MLD.

NOTE 6—A non-AP STA affiliated with a non-AP MLD that receives such a multi-link probe response identifies that the Basic Multi-Link element in the frame, outside the Multiple BSSID element, corresponds to an AP MLD with which the AP corresponding to the nontransmitted BSSID is affiliated based on the presence of the AP MLD ID subfield.

NOTE 7—The information of the AP corresponding to the nontransmitted BSSID is included in the corresponding Nontransmitted BSSID Profile subelement of the Multiple BSSID element in the multi-link probe response.

NOTE 8—If a non-AP MLD has requested, in its multi-link probe request, the complete profile of several (or all) APs affiliated with an AP MLD (either explicitly or implicitly by not including the Link Info field in the Probe Request Multi-Link element) and the responding AP is unable to fit all the requested profiles due to either the size or the duration or both the limits specified in Table 9-34, then the AP includes only a subset of the requested profiles that it can fit to conform with the specified limits.

### 35.3.4.3 Non-AP MLD behavior

A non-AP MLD discovers an AP MLD and its affiliated APs when a non-AP STA affiliated with the non-AP MLD receives one or more of the following:

- A Basic Multi-Link element carried in a Beacon frame or Probe Response frame, that is not a multi-link probe response, transmitted by an AP affiliated with the AP MLD or by the AP corresponding to the transmitted BSSID in the same multiple BSSID set as at least one of the APs affiliated with the AP MLD.
- A multi-link probe response from an AP affiliated with the AP MLD or the AP corresponding to the transmitted BSSID in the same multiple BSSID set as at least one of the APs affiliated with the AP MLD carrying a Basic Multi-Link element with a complete profile of one or more reported APs.
- One or more of Beacon, Probe Response or FILS Discovery frame transmitted by an AP (reporting AP) and the frame carries a Reduced Neighbor Report element that includes the MLD Parameters subfield in the TBTT Information field corresponding to one or more reported APs. A non-AP MLD infers the relationship between the reported AP(s) and the reporting AP by decoding the AP MLD ID subfield of the MLD Parameters subfield in the Reduced Neighbor Report element and following the rules described in 35.3.4.1.
- A Management frame that carries Neighbor Report element(s). A non-AP MLD determines that two or more APs reported in different Neighbor Report elements that include the Basic Multi-Link sub-element are affiliated with the same AP MLD based on the MLD MAC Address subfield of the Common Info field of the Basic Multi-Link elements. The reported APs are affiliated with the same AP MLD if the values carried in MLD MAC Address field of the Common Info field of the Basic Multi-Link element of the reported APs are the same.

NOTE—If a non-AP MLD receives a multi-link probe response that does not carry profile for one or more requested APs, then it can send another multi-link probe request to solicit information of the missing profile(s) that are of interest to it by including the corresponding Per-STA Profile subelement(s) in the Probe Request Multi-Link element.

A non-AP MLD can use the information it gathers from a Reduced Neighbor Report element and a Basic Multi-Link element to decide whether to perform ML setup with an AP MLD.

A non-AP MLD can use the information it receives from a Neighbor Report element to make a decision on performing ML (re)setup (see 35.3.5) or BSS transition (see 4.5.3.2 and 35.3.23).

### 35.3.4.4 Multi-Link element usage in the context of discovery

If an AP affiliated with an AP MLD is not in a multiple BSSID set or the AP corresponds to a transmitted BSSID in a multiple BSSID set, then the AP:

- Shall include the Basic Multi-Link element for the AP MLD. The Basic Multi-Link element shall include the Multi-Link Control field and the Common Info field as defined in 9.4.2.322.2 and shall not include the Link Info field unless
  - Conditions in 35.3.11 are satisfied, in which case the STA Profile field in the Link Info field of the Basic Multi-Link element shall only include the applicable elements selected from the elements as described in 35.3.11, or

— The AP is affiliated with an NSTR mobile AP MLD and operating on the primary link, and advertises a broadcast TWT schedule for the other AP affiliated with the same NSTR mobile AP MLD and operating on the nonprimary link, in which case the STA Profile field in the Link Info field of the Basic Multi-Link element shall only include a Broadcast TWT element for that AP operating on the nonprimary channel.

— May include a Reconfiguration Multi-Link element as defined in 9.4.2.322.4 and 35.3.6.

in a Beacon frame and a Probe Response frame that is not a multi-link probe response that it transmits.

If an AP affiliated with an AP MLD corresponds to a nontransmitted BSSID in a multiple BSSID set, then the AP that corresponds to the transmitted BSSID in the same multiple BSSID set:

— Shall include the Basic Multi-Link element for the AP MLD. The Basic Multi-Link element shall include the Multi-Link Control field and the Common Info field as defined in 9.4.2.322.2 and shall not include the Link Info field unless conditions in 35.3.11 are satisfied, in which case the STA Profile field in the Link Info field of the Basic Multi-Link element shall only include the applicable elements selected from the elements as described in 35.3.11.

— May include a Reconfiguration Multi-Link element as defined in 9.4.2.322.4 and 35.3.6.

in the nontransmitted BSSID profile corresponding to the nontransmitted BSSID carried in the Multiple BSSID element in a Beacon frame and a Probe Response frame that is not a multi-link probe response that it transmits

NOTE 1—Any transmission on the nonprimary link of an NSTR mobile AP MLD follows the rules specified in 35.3.19.

NOTE 2—The conditions for the presence of subfields in the Common Info field are defined in 9.4.2.322.2.

The Common Info field of a Basic Multi-Link element carried in a Beacon frame or a Probe Response frame that is not a multi-link probe response, shall not include the Medium Synchronization Delay Information subfield.

A Probe Request frame that is transmitted as a result of an MLME-SCAN.request primitive with a ScanType other than MULTI-LINK\_PROBE shall not include a Multi-Link element.

NOTE 3—A multi-link probe request does not include any Multi-Link element other than the Probe Request Multi-Link element.

#### 35.3.4.5 Probe Request frame content for a non-AP EHT STA

An EHT AP shall follow the rules defined in 11.1.4.3.4 when receiving a Probe Request frame addressed to it even if the frame does not contain some of the elements described in Table 9-68 when the soliciting non-AP STA follows the rules described in this subclause.

If a non-AP EHT STA is sending a Probe Request frame that is not a multi-link probe request:

— It shall follow the format and conditions defined in 9.3.3.9 regarding the inclusion of the SSID element, the Supported Rates and BSS Membership Selectors field, the Request element, the Extended Supported Rates and BSS Membership Selectors element, the DSSS Parameter Set element, the SSID List element, the Extended Request element, the FILS Request Parameters element, the Short SSID List element, Vendor Specific elements, and the Known BSSID element,

— it may omit other elements listed in 9.3.3.9.

If a non-AP EHT STA is sending a multi-link probe request:

— It shall follow the format and conditions defined in 9.3.3.9 regarding the inclusion of the SSID element, the Supported Rates and BSS Membership Selectors field, the Extended Supported Rates and BSS Membership Selectors element, and the DSSS Parameter Set element,

- It shall follow the rules defined in 35.3.4.2 regarding the inclusion of the Request element, the Extended Request element, and the Probe Request Multi-Link element,
- It shall not include the other elements listed in 9.3.3.9.

#### 35.3.4.6 Frame exchange sequences during MLO discovery and ML setup

A non-AP MLD is expected to discover an AP MLD and affiliated AP(s) of interest before initiating an ML setup with the AP MLD. The non-AP MLD can use one or a combination of the following methods for discovering the AP MLD and affiliated AP(s) of interest:

- Through each of its affiliated STAs, perform passive scanning by following the procedure defined in 11.1.4.2 (Passive scanning) or active scanning by following the procedure defined in 11.1.4.3.
- Through one of its affiliated STAs, transmit a multi-link probe request on any link that the AP MLD is operating on, with the frame addressed to the affiliated AP operating on that link, to obtain information about the AP MLD and its affiliated AP(s) by following the procedure defined in 35.3.4.2.

The combination that the non-AP MLD selects to gather information is implementation dependent and can be based on criteria such as power consumption, single-radio operation, reachability, etc. The non-AP MLD follows all the active scanning procedures (see 11.1.4.3) for the channel the Probe Request frame is sent on in the context of active scanning. For example, when performing active scanning on 6 GHz channels, it follows the rules specified in 26.17.2.3.3 (Non-AP STA scanning behavior).

NOTE 1—A non-AP MLD can discover information of an AP MLD or that of an AP affiliated with an AP MLD via other means such as BSS transition management (see 35.3.23). The frame exchange for gathering information of the AP MLD and its affiliated one or more APs, and for performing ML setup with the AP MLD will be the same as that described in this clause.

Figure 35-5 shows a possible frame exchange sequence performed, during discovery, between a non-AP STA affiliated with a non-AP MLD and an AP that does not correspond to a nontransmitted BSSID and is affiliated with an AP MLD.

![](463543bc9a9a8d87e8a62ea5ec128313_img.jpg)

Sequence Diagram: Possible frame exchange sequences during MLO discovery and ML setup when the AP operating on the channel does not correspond to a nontransmitted BSSID.

Participants (Stations): Non-AP STA 3 (6 GHz), Non-AP STA 2 (5 GHz), Non-AP STA 1 (2.4 GHz), AP 1\* (2.4 GHz), AP 2\* (5 GHz), AP 3 (6 GHz).

Frame Exchange Sequence:

1. Beacon frame [B] (Broadcast) from AP 1\* to Non-AP STAs.
2. Beacon frame [B] (Broadcast) from AP 2\* to Non-AP STAs.
3. Beacon frame [B] (Broadcast) from AP 3 to Non-AP STAs.
4. Probe Request frame [B] (Non-AP MLD) from Non-AP STAs to APs.
5. Probe Response frame [cB] (Non-AP MLD) from APs to Non-AP STAs.
6. Probe Request frame [B] (Non-AP MLD) from Non-AP STAs to APs.
7. Probe Response frame [cB] (Non-AP MLD) from APs to Non-AP STAs.
8. Probe Request frame [B] (Non-AP MLD) from Non-AP STAs to APs.
9. Probe Response frame [cB] (Non-AP MLD) from APs to Non-AP STAs.
10. Probe Request frame [B] (ML) from Non-AP STAs to APs.
11. Probe Response frame [cB] (ML) from APs to Non-AP STAs.
12. Authentication frames [I] (Individually addressed) between Non-AP STAs and APs.
13. (Re)Association Request frame [I] (Individually addressed) between Non-AP STAs and APs.
14. (Re)Association Response frame [I] (Individually addressed) between Non-AP STAs and APs.
15. 4-way handshake [I] (Individually addressed) between Non-AP STAs and APs.

Notes:

- \* = Alternate sequence
- \*This example assumes that APs on 2.4 GHz and 5 GHz do not correspond to a nonTxBSSID
- [I] = Individually addressed
- [B] = Individual or broadcast address (i.e., A1 is set to BSSID or broadcast address)
- [cB] = Broadcast (A1 is set to broadcast address).
- [cB] = Conditionally broadcast (i.e., A1 set to broadcast address in 6 GHz or if dot11FILSOMitReplicateProbeResponses equal to true); otherwise, individually addressed (i.e., A1 set to the MAC address of the non-AP STA operating on the link)

Annotations:

- Possible options for a non-AP MLD to gather information of other APs affiliated with the AP MLD
- Multi-link Setup (can be performed on any link)

**Figure 35-5—Possible frame exchange sequences during MLO discovery and ML setup when the AP operating on the channel does not correspond to a nontransmitted BSSID**

The contents of the Management frames transmitted by a non-AP STA affiliated with a non-AP MLD during MLO discovery and setup are shown in AH.3.1.

The contents of the Management frames transmitted by an AP affiliated with an AP MLD during MLO discovery and set-up where the AP is not a member of a multiple BSSID set are shown in AH.3.2.

Figure 35-6 shows possible frame exchange sequences that are performed, during MLO discovery and ML setup, between a non-AP STA affiliated with a non-AP MLD and an AP affiliated with an AP MLD, that corresponds to a nontransmitted BSSID in a multiple BSSID set.

![](191ecdd1bfcea889fba15e64392b3772_img.jpg)

Figure 35-6 is a sequence diagram illustrating possible frame exchange sequences during MLO discovery and ML setup when the AP operating on the channel corresponds to a nontransmitted BSSID in a multiple BSSID set.

The diagram shows interactions between three types of stations: Non-AP MLD (Non-AP STA 3, Non-AP STA 2, Non-AP STA 1) and AP MLD (AP 1, AP 2\*, AP 3\*). AP 1 is associated with a Multiple BSSID set (TxSSID) and AP 2\* is associated with a non-TxSSID.

The sequence starts with Beacon frames [B] exchanged between Non-AP MLD and AP 1.

Probe Request frames [B] are exchanged between Non-AP MLD and AP 1. The response frames [CB] are exchanged between Non-AP MLD and AP 2\*.

Authentication frames [I] are exchanged between Non-AP MLD and AP 1.

Association Request frames [I] and Association Response frames [I] are exchanged between Non-AP MLD and AP 1.

A 4-way handshake [I] is performed between Non-AP MLD and AP 1.

Multi-link setup is indicated by a dashed line connecting AP 1 and AP 2\*.

Legend:

- → Alternate sequence
- \*This example assumes that APs on 2.4 GHz and 5 GHz respectively do not correspond to a nonTxSSID
- \* = Either BSSID or SSID or both matches AP n (nonTxSSID)
- [I] = Individually addressed
- [B] = Individual or broadcast address (i.e., A1 is set to BSSID or broadcast address)
- [B] = Broadcast (A1 is set to broadcast address)
- [CB] = Conditionally broadcast (i.e., A1 set to broadcast address in 6 GHz or if dot11FILSOmitReplicateProbeResponses equal to true); otherwise, individually addressed (i.e., A1 set to the MAC address of the non-AP STA operating on the link)

**Figure 35-6—Possible frame exchange sequences during MLO discovery and ML setup when the AP operating on the channel corresponds to a nontransmitted BSSID**

**NOTE 2**—An AP corresponding to the transmitted BSSID sends a multi-link probe response in response to a multi-link probe request directed to a nontransmitted BSSID in the multiple BSSID set (see 35.3.4.2).

When a Beacon or Probe Response frame transmitted by an AP (that could be a transmitted BSSID in a multiple BSSID set) includes both a Reduced Neighbor Report element and a Basic Multi-Link element carrying one or more Per-STA Profile subelement(s), and if both elements carry information about the same reported AP (that is affiliated with an AP MLD), then the transmitting AP sets the value of the Link ID subfield contained in the per-STA profile carried in the Basic Multi-Link element corresponding to the

reported AP to the same value as the value carried in the Link ID subfield contained in the MLD Parameters field of the Reduced Neighbor Report element, corresponding to that reported AP.

NOTE 3—The AP MLD ID subfield contained in the MLD Parameters field of the Reduced Neighbor Report element identifies the MLD with which the reported AP is affiliated (see 9.4.2.169.2).

The contents of the Management frames transmitted by an AP affiliated with an AP MLD during MLO discovery and setup where the AP is a member of a multiple BSSID set are shown in AH.3.3.

### 35.3.5 ML (re)setup

#### 35.3.5.1 ML (re)setup procedure

The ML (re)setup procedure sets up link(s) between a non-AP MLD and an AP MLD and is completed through the exchange of (Re)Association Request and (Re)Association Response frames, and the non-AP MLD and AP MLD shall follow the (re)association procedure between MLDs as described in 11.3.

NOTE 1—Prior to utilizing (Re)Association Request/Response frame exchange to perform ML (re)setup with an AP MLD, the non-AP MLD and AP MLD follow the authentication procedure between MLDs as described in 11.3.

A non-AP MLD may initiate an ML (re)setup with an AP MLD to (re)set up one or more links with the AP MLD. When a non-AP MLD initiates an ML (re)setup with an AP MLD, the non-AP MLD shall transmit a (Re)Association Request frame through a non-AP STA that is affiliated with the non-AP MLD and is operating on a link that the non-AP MLD expects to be part of the ML (re)setup.

A (Re)Association Request/Response frame exchange is for an ML (re)setup only if both the (Re)Association Request frame and the (Re)Association Response frame include a Basic Multi-Link element. If a (Re)Association Request frame includes the Basic Multi-Link element (see 9.3.3.5 and 9.3.3.7), then the (Re)Association Response frame sent in response to the (Re)Association Request frame shall include the Basic Multi-Link element.

NOTE 2—The (Re)Association Request frame sent by a non-AP EHT STA with dot11MultiLinkActivated set to false does not include the Basic Multi-Link element (see Table 9-64 and Table 9-66). The (Re)Association Response frame sent in response to a (Re)Association Request frame that does not include the Basic Multi-Link element does not include the Basic Multi-Link element either (see Table 9-65 and Table 9-67).

In the (Re)Association Request frame, the non-AP MLD indicates the link(s) that are requested for (re)setup and the capabilities and operational parameters of the non-AP STA(s) affiliated with the non-AP MLD corresponding to the requested link(s) as described in 35.3.5.4. The non-AP MLD may request to (re)set up link(s) with a subset of AP(s) affiliated with the AP MLD.

In the (Re)Association Response frame, the AP MLD shall indicate the requested link(s) that are accepted and/or the requested link(s) that are rejected for (re)setup and the capabilities and operational parameters of the requested link(s) as described in 35.3.5.4. The AP MLD shall do one of the following:

- Accept all the links that are requested for (re)setup, or
- Accept a subset of the links that are requested for (re)setup, and the subset of the links include the link on which the (Re)Association Request frame was received, or
- Reject all the links that are requested for (re)setup.

For the (Re)Association Request frame sent by a non-AP MLD to an AP MLD:

- The A2 field shall be the same as the A2 field of the latest Authentication frame(s) sent from the non-AP MLD to the AP MLD that leads to a successful authentication to set the state to State 2 (see 11.3.1).

— The A1 field shall be the same as the A1 field of the latest Authentication frame(s) sent from the non-AP MLD to the AP MLD that leads to a successful authentication to set the state to State 2 (see 11.3.1).

NOTE 3—Since the A2 fields are the same, the STA that transmits the (Re)Association Request frame is the same as the STA that transmits the latest Authentication frame(s) that leads to a successful authentication to set the state to State 2. See 9.2.4.3.8.

The (Re)Association Response frame shall be transmitted by the AP MLD through the affiliated AP that receives the (Re)Association Request frame.

A link that is requested by the non-AP MLD for (re)setup in the (Re)Association Request frame and is accepted by the AP MLD in the (Re)Association Response frame and is not removed (see 35.3.6.3) or deleted (see 35.3.6.4) at a later time is a setup link between the AP MLD and the associated non-AP MLD.

NOTE 4—The corresponding AP of the setup link might be removed after the (Re)Association Request/Response frame exchange as defined in 35.3.6.

NOTE 5—The link(s) that are requested for ML resetup by a non-AP MLD are independent of the existing setup link(s) between the non-AP MLD and the associated AP MLD. The capability and operation parameters of each requested link during ML resetup are independent of the capability and operation parameters of each existing setup link with an associated AP MLD.

NOTE 6—A link requested by the non-AP MLD might not exist while the AP MLD prepares the (Re)Association Response frame because the AP MLD has removed the corresponding affiliated AP (see 35.3.6.3) in which case the AP MLD does not include the Per-STA Profile subelement for the requested link.

The AP MLD shall not accept a link that is requested for (re)setup if any of the following condition is true:

- The non-AP STA affiliated with the non-AP MLD corresponding to the link does not support all of the rates in the BSSBasicRateSet parameter and all of the membership selectors in the BSSMemberShipSelectorSet parameter of the AP affiliated with the AP MLD corresponding to the link in the MLME-START request primitive.
- The non-AP STA affiliated with the non-AP MLD corresponding to the link does not support all of the MCSs in the Basic HT-MCS Set field of the HT Operation parameter of the AP affiliated with the AP MLD (if present) corresponding to the link in the MLME-START.request primitive.
- The non-AP STA affiliated with the non-AP MLD corresponding to the link does not support all of the <VHT-MCS, NSS> tuples indicated by the Basic VHT-MCS And NSS Set field of the VHT Operation parameter of the AP affiliated with the AP MLD (if present) corresponding to the link in the MLME-START.request primitive.
- The non-AP STA affiliated with the non-AP MLD corresponding to the link does not support all of the <HE-MCS, NSS> tuples indicated by the Basic HE-MCS And NSS Set field of the HE Operation parameter of the AP affiliated with the AP MLD corresponding to the link in the MLME-START.request primitive.
- The non-AP STA affiliated with the non-AP MLD corresponding to the link does not support all of the <EHT-MCS, NSS> tuples indicated by the Basic EHT-MCS And NSS Set field of the EHT Operation parameter of the AP affiliated with the AP MLD corresponding to the link in the MLME-START.request primitive.
- If the non-AP STA affiliated with the non-AP MLD 1 corresponding to that link has the same MAC address as a non-AP STA 2 (that is affiliated with a non-AP MLD 2 or not affiliated with a non-AP MLD) associated with the AP affiliated with the AP MLD corresponding to the link, and the MLD MAC address of the non-AP MLD 1 is not the same as the non-AP MLD 2 when the non-AP STA 2 is affiliated with a non-AP MLD 2 or is not the same as the MAC address of the non-AP STA 2 when the non-AP STA 2 is not affiliated with a non-AP MLD 2.

An MLD that requests or accepts ML (re)setup ensures that for any two links that are part of the links requested or accepted by the ML (re)setup, each link is located on different nonoverlapping operating channels.

If the link on which the (Re)Association Request frame was received cannot be accepted by the AP MLD, the AP MLD shall treat the ML (re)setup as a failure and shall not accept any requested links. If the link on which the (Re)Association Request frame was received is accepted by the AP MLD, the ML (re)setup is successful.

NOTE 7—The status code per link (see 9.4.1.9) can provide guidance for subsequent remediation steps if required.

NOTE 8—See 35.3.5.4 for the setting of the Status Code field.

An AP MLD shall assign a single AID to a non-AP MLD upon successful ML setup.

Upon successful ML setup, for each setup link that is accepted as the ML setup, the single AID assigned by the AP MLD to the non-AP MLD shall not already be used to identify another non-MLD non AP STA or non-AP MLD by the AP affiliated with the AP MLD corresponding to that setup link or another AP in the same multiple BSSID set as the AP affiliated with the AP MLD that corresponds to that setup link.

All the non-AP STAs affiliated with the non-AP MLD shall have the same AID as the one assigned to the non-AP MLD during ML setup.

An AP affiliated with an AP MLD shall not assign, to a non-AP MLD, an AID value that is less than  $2^n$  where  $n$  is the maximum of the value carried in the MaxBSSID Indicator ( $n$ ) field of the Multiple BSSID element, corresponding to each link that is accepted as part of the ML (re)setup, if at least one of the APs affiliated with the AP MLD belongs to a multiple BSSID set.

NOTE 9—In a multiple BSSID set, the first  $2^n$  bits of the partial virtual bitmap of the TIM element are reserved for the indication of group addressed frame for the BSSIDs in the set (see 11.1.3.8.5).

NOTE 10—An AP affiliated with an AP MLD does not assign, to a non-AP STA or a non-AP MLD that has an ML (re)setup with the AP MLD and has a setup link on which the AP operates, an AID corresponding to a bit of the bitmap in the Partial Virtual Bitmap field that is for the indication of group addressed frames (see 11.1.3.8.5 and 35.3.15.1).

After successful ML (re)setup between a non-AP MLD and an AP MLD, the non-AP MLD is associated with the AP MLD following the (re)association procedure between MLDs as described in 11.3 (i.e., in State 3 or State 4, see 11.3.1), and the non-AP MLD and the AP MLD have setup link(s) for MLO (see 35.3).

For each setup link, the corresponding non-AP STA affiliated with the non-AP MLD is in the same associated state as the non-AP MLD and is associated with the corresponding AP affiliated with the AP MLD. For each setup link, a mapping between the non-AP STA affiliated with the non-AP MLD and the AP affiliated with the AP MLD is not provided to the DS.

NOTE 11—The non-AP MLD and the AP MLD have an association (see 11.3), and the DS is notified of this mapping between the non-AP MLD and the AP MLD (see 4.5.3.3).

NOTE 12—For each setup link, each service (and the corresponding rules) (see Clause 5, Clause 10, Clause 11, Clause 12, Clause 26, and Clause 35) between a non-AP STA affiliated with the non-AP MLD and its associated AP affiliated with the AP MLD is the same as the service (and the corresponding rules) between a non-AP STA not affiliated with the non-AP MLD and its associated AP unless specified otherwise (see 35.3).

An example of ML setup is shown in AH.4.

### 35.3.5.2 ML security

After a successful ML (re)setup between a non-AP MLD and an AP MLD, a PMKSA and a PTKSA are established between the non-AP MLD and the AP MLD. In addition, a GTKSA, an IGTKSA if management frame protection is enabled, and a BIGTKSA if beacon protection is enabled, are established between the non-AP MLD and the AP MLD for each setup link (see Clause 12). The PTKSA is used for cryptographic encapsulation and decapsulation of individually addressed MPDUs across all setup links and the GTKSA of a link is used for cryptographic encapsulation and decapsulation of group addressed MPDUs on that link as described in 12.5.2.3, 12.5.4.3, 12.5.2.4, and 12.5.4.4. If management frame protection is enabled, the IGTKSA of a link is used to provide integrity protection for group addressed robust Management frames on that link as described in 12.6.19 (Protection of robust Management frames). When beacon protection is enabled, the BIGTKSA of a link is used to provide integrity protection for Beacon frames on that link as described in 12.6.21.

NOTE 1—The use of WEP or TKIP is obsolete. See 12.3.2.1 and 5.1.2.

Different APs affiliated with an AP MLD use different GTK/IGTK/BIGTK. Each AP and the corresponding non-AP STA affiliated with an associated non-AP MLD maintains a single PN/IPN/BIPN for each GTK/IGTK/BIGTK. The GTK/IGTK/BIGTK of each setup links are delivered to the non-AP MLD using a single 4-way handshake as defined in 12.7.6. When a GTK/IGTK/BIGTK update is triggered for an AP affiliated with the AP MLD, the updated GTK/IGTK/BIGTK may be delivered to the non-AP MLD using the Group key handshake over any enabled link as defined in 12.7.7.

NOTE 2—When a non-AP MLD changes the link used for group addressed frame reception, the non-AP MLD sufficient is able to request a group addressed handshake by sending an EAPOK-Key frame to the AP MLD authenticator with the Key Type set to Group (0) and the Request bit set to 1 (see 12.7.7.1) to refresh Key RSC/BPN/IPN.

### 35.3.5.3 ML tear down procedure

An MLD tears down all the setup links with an associated MLD by sending a Disassociation frame through one of the STAs affiliated with the MLD, on a setup link, to the STA affiliated with the associated MLD subject to additional constraints (see 35.3.7). The MLD and the associated MLD shall follow the MLD disassociation procedure as described in 11.3.

After ML teardown, the non-AP MLD and all the non-AP STAs affiliated with the non-AP MLD are in the unassociated state (see 11.3.1).

### 35.3.5.4 Basic Multi-Link element usage in the context of ML (Re)Setup, Authentication, and FT Action frame exchanges between two MLDs

A non-AP STA affiliated with a non-AP MLD that initiates an ML (re)setup with an AP MLD shall include a Basic Multi-Link element in a (Re)Association Request frame it transmits.

NOTE 1—When a (Re)Association Request frame is sent from a non-AP EHT STA with dot11MultiLinkActivated set to false, the Basic Multi-Link element is not carried in the (Re)Association Request frame (see Table 9-64, Table 9-66, and 35.3.1).

The Basic Multi-Link element carried in the (Re)Association Request frame shall include the Common Info field with the MLD MAC Address subfield set to the MLD MAC address of the non-AP MLD and may include the Link Info field.

NOTE 2—The conditions for the presence of subfields in the Common Info field are defined in 9.4.2.322.2.

If there are other requested link(s) in addition to the link on which the (Re)Association Request frame is transmitted, the Basic Multi-Link element carried in the (Re)Association Request frame shall contain the Link Info field, and for each other requested link, the Link Info field shall contain the corresponding Per-STA Profile subelement(s).

For each Per-STA Profile subelement included in the Link Info field, the Complete Profile subfield of the STA Control field shall be set to 1 (see 35.3.3.3).

If there is no other requested link in addition to the link on which the (Re)Association Request frame is transmitted, the Basic Multi-Link element carried in the (Re)Association Request frame shall not include the Link Info field.

The AP that is affiliated with the AP MLD and that responds to a (Re)Association Request frame that carries a Basic Multi-Link element shall include a Basic Multi-Link element in the (Re)Association Response frame that it transmits.

NOTE 3—When a (Re)Association Response frame is sent to a non-AP EHT STA with dot11MultiLinkActivated set to false, the Basic Multi-Link element is not carried in the (Re)Association Response frame (see Table 9-65, Table 9-67, and 35.3.1).

The Basic Multi-Link element carried in the (Re)Association Response frame shall include the Common Info field with the MLD MAC Address subfield set to the MLD MAC address of the AP MLD and may include the Link Info field.

NOTE 4—The conditions for the presence of subfields in the Common Info field are defined in 9.4.2.322.2.

If there are other requested link(s) in addition to the link on which the (Re)Association Request frame was transmitted, and at least one other requested link exists, the Basic Multi-Link element carried in the (Re)Association Response frame shall contain the Link Info field, and for each other requested link that exists, the Link Info field shall contain the corresponding Per-STA Profile subelement(s). For any requested link that does not exist, the corresponding Per-STA Profile subelement shall not be included in the Basic Multi-Link element carried in the (Re)Association Response frame.

For each Per-STA Profile subelement included in the Link Info field, the Complete Profile subfield of the STA Control field shall be set to 1 (see 35.3.3.3) and the Status Code field included in the STA Profile subfield of the Per-STA Profile subelement shall indicate SUCCESS if the link is accepted or the failure cause (see Table 9-80) if the link is not accepted. The Status Code field in the (Re)Association Response frame body shall indicate, as defined in 9.4.1.9, whether the link on which the (Re)Association Request frame is received is accepted or not. If the link corresponding to a Per-STA Profile subelement is not accepted only because the link on which the (Re)Association Request frame is transmitted is not accepted, then the Status Code field included in the STA Profile subfield of the Per-STA Profile subelement shall indicate

**DENIED\_LINK\_ON\_WHICH\_THE\_(Re)ASSOCIATION\_REQUEST\_FRAME\_IS\_TRANSMITTED\_NOT\_ACCEPTED** unless the Status Code field is set to **REFUSED\_REASON\_UNSPECIFIED**.

If there is no other requested link in addition to the link on which the (Re)Association Request frame was transmitted, the Basic Multi-Link element carried in the (Re)Association Response frame shall not include the Link Info field.

A STA affiliated with an MLD shall include a Basic Multi-Link element in an Authentication frame or FT action frame that it transmits with the following rules:

- The STA shall include the MLD MAC address of the MLD with which the STA is affiliated in the Common Info field of the element

- The STA shall set all subfields in the Presence Bitmap subfield of the Multi-Link Control field of the element to 0
- The STA shall not include the Link Info field of the element

### 35.3.6 ML reconfiguration

#### 35.3.6.1 General

ML reconfiguration refers to a set of procedures through which an AP MLD can add one or more affiliated APs to the AP MLD as described in 35.3.6.2, or remove one or more affiliated APs from the AP MLD as described in 35.3.6.3. The ML reconfiguration also defines procedure for adding and deleting links dynamically to/from the setup links of a non-AP MLD without requiring (re)association between the peer MLDs as described in 35.3.6.4 and for AP MLD to recommend ML reconfiguration to the setup links of its associated non-AP MLD(s) as described in 35.3.6.5.

Every EHT STA affiliated with an MLD that supports link reconfiguration operations for adding and deleting links to/from the setup links as described in 35.3.6.4, and supports recommendation for ML reconfiguration to the setup links as described in 35.3.6.5, shall set the dot1EHTLinkReconfigurationOperationActivated equal to true and shall set the Link Reconfiguration Operation Support subfield to 1 in the MLD Capabilities And Operations subfield of the Basic Multi-Link element and the Reconfiguration Multi-Link element that it transmits.

#### 35.3.6.2 Adding affiliated AP(s)

The SME of an AP MLD may add one or more affiliated APs to the AP MLD by initiating the MLME-START.request primitive (see 6.5.11.2) for each AP to be added. The added affiliated AP(s) shall be announced through the Basic Multi-Link element by incrementing the Maximum Number Of Simultaneous Links subfield of the MLD Capabilities And Operations subfield by 1 for each added affiliated AP, and through the Reduced Neighbor Report element by including a TBTT Information field carrying the MLD Parameters subfield for each added affiliated AP, in the Beacon and Probe Response frames transmitted by other APs affiliated with the same AP MLD.

If an affiliated AP is added to an AP MLD which has another affiliated AP that corresponds to a nontransmitted BSSID in a multiple BSSID set, then the AP that corresponds to the transmitted BSSID in the same multiple BSSID set shall follow the procedures in 35.3.4.4 and 35.3.4.1 to announce the added affiliated AP through the Basic Multi-Link element and the Reduced Neighbor Report element.

For the added affiliated AP, rules defined in 35.3.4.4 and 35.3.4.1 shall be followed for including Basic Multi-Link element and Reduced Neighbor Report element in the Beacon and Probe Response frames transmitted by the added AP when the AP does not correspond to a nontransmitted BSSID of a multiple BSSID set, and for including those elements by the transmitted BSSID of a multiple BSSID set when the added AP corresponds to a nontransmitted BSSID of that multiple BSSID set.

NOTE—The MAC address of any added affiliated AP that is a co-hosted AP is assumed to be within the address space defined by the value of the Max Co-Hosted BSSID Indicator field (see 9.4.2.248) and 26.17.7). Similarly, the MAC address of any added affiliated AP that is nontransmitted BSSID is assumed to be within the address space defined by the value of the MaxBSSID Indicator (see 9.4.2.44 and 11.1.3.8).

A non-AP MLD may determine that an affiliated AP has been added to its associated AP MLD from the Basic Multi-Link element or from the Reduced Neighbor Report element contained in the Beacon or Probe Response frames transmitted by any of the APs affiliated with the AP MLD. When the non-AP MLD detects that an AP has been added to its associated AP MLD, it may use the ML reconfiguration procedure as defined in 35.3.6.4 to add a new link with the added affiliated AP in its setup links, if it has dot1EHTLinkReconfigurationOperationActivated equal to true and the associated AP MLD has the Link

Reconfiguration Operation Support subfield set to 1 in the MLD Capabilities And Operations subfield of the Basic Multi-Link element transmitted by its affiliated AP(s).

### 35.3.6.3 Removing affiliated AP(s)

The SME of an AP MLD may remove one or more of its affiliated AP(s) by initiating the MLME-BSS-AP-REMOVAL.request primitive (see 6.5.32.2) for each affiliated AP to be removed. Upon receiving an MLME-BSS-AP-REMOVAL.request primitive, an AP MLD shall follow the procedures defined in this subclause to remove the affiliated AP indicated by the BSSID parameter in that primitive. An AP MLD that is an NSTR mobile AP MLD shall not remove the affiliated AP operating on the primary link (see 35.3.19). The AP MLD shall announce the removal of any affiliated AP through a Reconfiguration Multi-Link element (see 9.4.2.322.4) in all Beacon and Probe Response frames transmitted by its affiliated APs until the affiliated AP is removed.

When an AP MLD, that has an affiliated AP corresponding to a nontransmitted BSSID in a multiple BSSID set, removes one or more affiliated APs, the Reconfiguration Multi-Link element carrying information of the removed AP(s) shall be included within the corresponding nontransmitted BSSID profile of the Multiple BSSID element contained in the Beacon frame and Probe Response frame transmitted by the AP corresponding to the transmitted BSSID of that multiple BSSID set.

In the Reconfiguration Multi-Link element included in Beacon and Probe Response frames, the MLD MAC Address Present subfield shall be set to 0. The AP MLD for which the AP removal information is provided in the Reconfiguration Multi-Link element shall be identified by the MLD MAC Address subfield of the Basic Multi-Link element corresponding to the same AP MLD carried in the same Management frame.

In the Reconfiguration Multi-Link element included in a nontransmitted BSSID profile of a Multiple BSSID element that is carried in the Beacon and Probe Response frames transmitted by the AP corresponding to the transmitted BSSID of that multiple BSSID set, the MLD MAC Address Present subfield shall be set to 0. The AP MLD for which the AP removal information is provided in the Reconfiguration Multi-Link element shall be identified by the MLD MAC Address subfield of the Basic Multi-Link element corresponding to the same AP MLD.

NOTE 1—In a multi-link probe response sent in response to a multi-link probe request directed to a nontransmitted BSSID of a multiple BSSID set, for a Reconfiguration Multi-Link element included in the nontransmitted BSSID profile of the Multiple BSSID element, the corresponding AP MLD for which the AP removal information is provided is identified by the MLD MAC Address subfield of the Basic Multi-Link element, included in the same Management frame outside of the Multiple BSSID element, which has the AP MLD ID subfield set to the same value as the BSSID Index subfield of the Multiple-BSSID Index element carried in the same nontransmitted BSSID profile as the Reconfiguration Multi-Link element.

See AH.2.3 for high-level illustrations showing the contents of Management frames during ML reconfiguration AP removal operation for selected scenarios.

In the Reconfiguration Multi-Link element included in Beacon and Probe Response frames, the EML Capabilities Present subfield, the MLD Capabilities And Operations Present subfield, and the Extended MLD Capabilities And Operations Present subfield shall be set to 0. For each affiliated AP that the AP MLD intends to remove, the Reconfiguration Multi-Link element shall include a Per-STA Profile subelement with the fields set as follows:

- The Link ID subfield shall be set to the link identifier of the AP being removed.
- The Complete Profile subfield shall be set to 0 and the STA MAC Address Present subfield shall be set to 0.
- The AP Removal Timer Present subfield shall be set to 1 and the Reconfiguration Operation Type subfield shall be set to 0. The Operation Parameters Present subfield and the NSTR Indication Bit-map Present subfield shall be set to 0.

- The AP Removal Timer subfield in the STA Info field shall be set to the number of TBTTs of the affiliated AP before it is removed or for the NSTR mobile AP MLD the AP Removal Timer subfield shall be set to the number of the TBTTs of the AP operating on the primary link before the affiliated AP operating on the nonprimary link is removed. The initial value of the AP Removal Timer subfield shall be set to the value of the APRemovalTimer parameter of the MLME-BSS-AP-REMOVAL.request primitive and the AP Removal Timer value shall be decremented by 1 in each subsequent Beacon frame. The initial value of the AP Removal Timer subfield specified by the APRemovalTimer parameter should point to a TBTT value that provides sufficient time to announce the removal of the affiliated AP such that all associated non-AP MLDs including the ones that have all affiliated non-AP STAs in power save mode have the opportunity to receive the Reconfiguration Multi-Link element at least once before the AP is removed.
- No other optional subfields shall be included in the STA Info field.
- The STA Profile field shall not be included.

To remove an affiliated AP, the SME of the AP MLD shall remove the AP from the AP MLD and terminate the BSS corresponding to the affiliated AP.

An affiliated AP that is being removed may transmit BSS Transition Management Request frame(s) to notify of the termination of its BSS to associated non-MLD non-AP STAs that support BSS transition capability. The BSS Transition Management Request frame(s) shall not be transmitted by other affiliated APs of the AP MLD. If the affiliated AP sends a broadcast BSS Transition Management Request frame to notify of the termination of its BSS, the non-AP MLDs receiving the broadcast frame shall determine that the affiliated AP is being removed if the Link Removal Imminent subfield of the Request Mode field is set to 1 and the AP MLD is announcing that the affiliated AP is being removed using the Reconfiguration Multi-Link element as described in this subclause.

NOTE 2—The BSS Transition Management Request frame(s) may be broadcast addressed or individually addressed (see 11.21.7.3).

If the affiliated AP that is being removed transmits BSS Transition Management Request frame(s) to notify of the termination of its BSS, the affiliated AP shall perform the following procedure to terminate the BSS:

1. It shall follow the procedure in 11.21.7.3 (BSS transition management request) and 35.3.23 to transmit BSS Transition Management Request frame(s). It shall set the fields in the BSS Transition Management Request frame(s) as follows:
   - The Disassociation Imminent, BSS Termination Included, and Link Removal Imminent subfields of the Request Mode field shall be set to 1; the Preferred Candidate List Included field shall be set per 9.6.13.9 if the BSS Transition Candidate List Entries field is included; other subfields of the Request Mode field are reserved.
   - The Disassociation Timer field shall be set to the number of TBTTs of the affiliated AP before it transmits Disassociation frame(s) to the non-MLD non-AP STA(s) receiving the BSS Transition Management Request frame. The Disassociation Timer field value shall point to a TBTT at or later than the TBTT pointed to by the value of the AP Removal Timer field of the Reconfiguration Multi-Link element in transmitted Beacon frames.
   - The BSS Termination Duration field shall be present and contain a BSS Termination Duration subelement (see 9.4.2.35), with the BSS Termination TSF field of the subelement set to the value of the TSF timer when the BSS corresponding to the affiliated AP will be terminated. The BSS Termination TSF field value shall indicate a time that is later than the TBTT the Disassociation Timer field value points to.
   - The BSS Transition Candidate List Entries field may be included specifying one or more Neighbor Report elements to provide BSS transition candidate list.
   - No other optional fields shall be present in the BSS Transition Management Request frame.
2. It shall start a disassociation timer with the initial value set to the value of the Disassociation Timer field, and shall decrement the timer by one after transmitting each Beacon frame, until the timer has

the value of 0. In all subsequently transmitted BSS Transition Management Request frames, the Disassociation Timer field shall be set to the value of the disassociation timer.

1. Once the disassociation timer reaches a value of 0, and before the TSF indicated by the BSS Termination TSF field, it shall follow the procedure in 11.3.5.8.2 to transmit Disassociation frame(s) to all non-MLD non-AP STAs associated with the AP being removed. The affiliated AP shall not transmit Disassociation frames until the disassociation timer has a value of 0.
2. It shall terminate the BSS corresponding to the affiliated AP at the time indicated by the BSS Termination TSF field.

NOTE 3—Since the non-MLD non-AP STAs cannot discover or associate with the AP affiliated with NSTR mobile AP MLD operating on the nonprimary link, the NSTR mobile AP MLD does not transmit BSS Transition Management Request frame(s) when it is removing the AP operating on the nonprimary link.

An affiliated AP that is being removed should transmit a Disassociation frame to associated non-MLD non-AP STAs that do not support BSS transition capability. If transmitted, the Disassociation frame(s) shall be transmitted after the affiliated AP is removed from the AP MLD (i.e., after the TBTT indicated by the AP Removal Timer subfield) and before the corresponding BSS is terminated.

A BSS Transition Management Request frame transmitted by the affiliated AP that is being removed may provide preference for other AP MLDs for association as per 35.3.23 for the non-AP MLDs that have a single setup link with the AP being removed.

When a non-AP STA affiliated with a non-AP MLD receives a BSS Transition Management Request frame from an AP with BSS Termination Included subfield and Link Removal Imminent subfield equal to 1, the non-AP MLD shall interpret the BTM Request frame to indicate that the BSS corresponding to the AP is being terminated.

When the affiliated AP being removed does not transmit BSS Transition Management Request frame(s) to notify of the termination of its BSS, the affiliated AP shall terminate the corresponding BSS at or after the TBTT indicated by the value of the AP Removal Timer subfield for that AP in the Reconfiguration Multi-Link element carried in the transmitted Beacon or Probe Response frames.

NOTE 4—If the affiliated AP being removed has any associated non-MLD non-AP STAs that do not support BSS transition capability and the AP transmits Disassociation frame(s) to those STAs (after the TBTT indicated by the AP Removal Timer subfield), then the affiliated AP terminates the corresponding BSS after the TBTT indicated by the AP Removal Timer subfield.

At the TBTT indicated by the value of the AP Removal Timer subfield in the Reconfiguration Multi-Link element included in the Beacon or Probe Response frames transmitted by the affiliated APs, the AP MLD shall remove the affiliated AP indicated by the Link ID subfield in the STA Control field of the Per-STA Profile subelement that includes the AP Removal Timer subfield. After removing the affiliated AP, the AP MLD shall remove the Per-STA Profile subelement from the Reconfiguration Multi-Link element corresponding to the removed AP, and if there is still at least one Per-STA Profile subelement remaining in the Reconfiguration Multi-Link element, the AP MLD shall continue to include the Reconfiguration Multi-Link element in the subsequent Beacon and Probe Response frames of the remaining affiliated APs, otherwise, the AP MLD shall stop including the Reconfiguration Multi-Link element in the subsequent Beacon and Probe Response frames of the remaining affiliated APs. After the affiliated AP is removed, the AP MLD shall remove the Per-STA Profile subelement for that affiliated AP (if any) from the Basic Multi-Link element that is carried in the subsequent Beacon and Probe Response frames of the remaining affiliated APs.

At the TBTT indicated by the value of the AP Removal Timer subfield in the Reconfiguration Multi-Link element included in the Beacon or Probe Response frames transmitted by the affiliated APs, if the link corresponding to the removed AP is the only setup link between the AP MLD and a non-AP MLD, the

MLME of the AP MLD shall issue an MLME-DISASSOCIATE.indication primitive to inform the SME of the disassociation of the non-AP MLD.

A non-AP MLD identifies one or more affiliated APs being removed from its associated AP MLD from the Reconfiguration Multi-Link element received in the Beacon or Probe Response frames transmitted by the APs affiliated with the associated AP MLD, in which the Reconfiguration Operation Type subfield(s) of one or more STA Control fields is set to 0. At the TBTT indicated by the value of the AP Removal Timer subfield in the received Reconfiguration Multi-Link element, an associated non-AP MLD shall consider the link corresponding to the removed AP nonexistent, and the non-AP MLD shall delete any information maintained for that link. After a non-AP MLD deletes any information maintained for the link corresponding to the removed AP, if there are no other setup links with the AP MLD, then the MLME of the non-AP MLD shall issue an MLME-DISASSOCIATE.indication primitive to inform the SME of the disassociation of the non-AP MLD. The MLME-DISASSOCIATE.indication reason code should be set to any value except configuration or parameter mismatch, to follow the procedure defined in 11.3.5.7.

**NOTE 5**—If a non-AP MLD has only one setup link with the AP MLD and the AP MLD is announcing that the affiliated AP operating on that setup link is being removed using the Reconfiguration Multi-Link element, the non-AP MLD can maintain association with the AP MLD by performing a link reconfiguration operation (see 35.3.6.4) to establish a setup link with another affiliated AP of the AP MLD.

**NOTE 6**—Once an AP affiliated with an AP MLD is removed, the other APs affiliated with the same AP MLD do not include the TBTT Information field for the removed AP in the Reduced Neighbor Report element. Further, the TBTT Information field for the removed AP is not included in a Reduced Neighbor Report element sent by an AP corresponding to a transmitted BSSID of a multiple BSSID set (if any), that has a nontransmitted BSSID which corresponds to an AP affiliated with the AP MLD of the removed AP.

**NOTE 7**—An AP MLD with two affiliated APs might remove one of its affiliated APs, and in such case, the AP MLD has only one affiliated AP after the AP removal. Further, in such case, the non-AP MLD that is associated with the AP MLD with two setup links before the AP is removed has only one setup link established with the remaining affiliated AP after the AP is removed.

If a non-AP MLD removes a setup link as a result of the removal of an AP affiliated with its associated AP MLD, and that results in a TID not being mapped to any of the remaining setup links in either direction for that non-AP MLD, then the non-AP MLD and the AP MLD shall operate with that TID mapped to all remaining enabled links for that direction after the removal of the setup link, until a TTLM is established for that TID.

If an AP affiliated with an AP MLD is removed, any STR or NSTR requirements and capabilities (see 35.3.16.2, 35.3.16.3, and 35.3.16.4) that correspond to a link pair that includes the link corresponding to the removed AP shall no longer apply and the bit corresponding to the link that is removed shall be set to 0 in any NSTR Indication Bitmap fields.

If an AP affiliated with an AP MLD is removed and if the link corresponding to the removed AP is one of the EMLSR links or the EMLMR links for one or more non-AP MLDs, the AP MLD shall remove the corresponding link from the EMLSR links and/or EMLMR links (as applicable) of those non-AP MLDs.

#### 35.3.6.4 Link reconfiguration to the setup links

A non-AP MLD in the associated state that has dot11EHTLinkReconfigurationOperationActivated equal to true may request link reconfiguration to its setup links by sending a Link Reconfiguration Request frame from an affiliated non-AP STA to the corresponding AP affiliated with the associated AP MLD that has the Link Reconfiguration Operation Support subfield set to 1 in the MLD Capabilities And Operations subfield of the Basic Multi-Link element that is transmitted by its affiliated AP(s).

**NOTE 1**—The ML reconfiguration operations for adding and/or deleting link(s) to/from the setup links of a non-AP MLD is performed between the two peer MLDs that are in State 4 (see Figure 11-23). For a newly added link to the

setup links, the non-AP STA and the AP operating on that link inherit state from their respective MLDs and are in State 4. For a link that gets deleted from the setup links, the non-AP STA and the AP that were previously operating on that link cease to inherit state from their respective MLDs and transition to State 1 (see Figure 11-23).

The Link Reconfiguration Request frame shall contain a Reconfiguration Multi-Link element that includes a Per-STA Profile subelement for each affiliated non-AP STA that the non-AP MLD is requesting to add to its setup links or delete from its setup links. The Reconfiguration Multi-Link element shall not include any other Per-STA Profile subelements.

In the Reconfiguration Multi-Link element included in a Link Reconfiguration Request frame a non-AP MLD shall set the MLD MAC Address Present subfield to 1 and shall set the MLD MAC Address subfield in the Common Info field to its non-AP MLD MAC Address.

If the non-AP MLD is requesting to add a link in the Link Reconfiguration Request frame, then the non-AP MLD:

- May update its MLD capabilities and operations by setting the MLD Capabilities And Operations Present subfield to 1 in the Reconfiguration Multi-Link element and by including the MLD Capabilities And Operations subfield in the Common Info field. Otherwise, the non-AP MLD shall set the MLD Capabilities And Operations Present subfield to 0.
- May update its extended MLD capabilities and operations by setting the Extended MLD Capabilities And Operations Present subfield to 1 in the Reconfiguration Multi-Link element and by including the Extended MLD Capabilities And Operations subfield in the Common Info field. Otherwise, the non-AP MLD shall set the Extended MLD Capabilities And Operations Present subfield to 0.

A non-AP MLD that is requesting to add a link in the Link Reconfiguration Request frame and has dot11EHTEMPLSROptionActivated equal to true or dot11EHTEMPLMROptionActivated equal to true may update its EML capabilities by setting the EML Capabilities Present subfield to 1 in the Reconfiguration Multi-Link element and by including the EML Capabilities subfield in the Common Info field. Otherwise, the non-AP MLD shall set the EML Capabilities Present subfield to 0.

If the AP MLD accepts link addition for one or more links for a non-AP MLD, the AP MLD shall update the MLD capabilities and operations and/or the extended MLD capabilities and operations and/or the EML capabilities for that non-AP MLD to the values received (if any) in the corresponding Link Reconfiguration Request frame. Otherwise, the AP MLD shall not update these parameters and shall continue to use the last accepted MLD capabilities and operations, the extended MLD capabilities and operations, and the EML capabilities parameters for that non-AP MLD.

If the EML Capabilities subfield is present in the Reconfiguration Multi-Link element included in a Link Reconfiguration Request frame, then,

- A non-AP MLD with dot11EHTEMPLSROptionActivated equal to true shall set the EMLSR Support subfield of the EML Capabilities subfield to 1. Otherwise, the non-AP MLD shall set the EMLSR Support subfield to 0.
- A non-AP MLD with dot11EHTEMPLMROptionActivated equal to true shall set the EMLMR Support subfield of the EML Capabilities subfield to 1. Otherwise, the non-AP MLD shall set the EMLMR Support subfield to 0.

The following rules apply for each Per-STA Profile subelement corresponding to a non-AP STA that is contained in the Reconfiguration Multi-Link element included in the Link Reconfiguration Request frame:

- If the non-AP MLD is indicating to add a link, it shall set the fields in the Per-STA Profile subelement as follows:
  - The Link ID subfield shall be set to the link identifier of the AP affiliated with the associated AP MLD that is operating on the link that the non-AP MLD is requesting to add. The Complete Profile subfield and the STA MAC Address Present subfield shall be set to 1. The AP Removal

Timer Present subfield shall be set to 0. The Reconfiguration Operation Type subfield shall be set to 2. The Operation Parameters Present subfield shall be set to 0. The NSTR Bitmap Size subfield shall be set to indicate the size of the NSTR Indication Bitmap subfield.

- The NSTR Indication Bitmap Present subfield shall be set to 1 if at least one NSTR link pair is present for the non-AP MLD that contains the link corresponding to the link ID, otherwise, this subfield shall be set to 0.
- The STA MAC Address subfield in the STA Info field shall be set to the MAC address of the non-AP STA that will operate on the link which is requested to be added and indicated by the link ID.
- If the NSTR Indication Bitmap Present subfield is set to 1, the NSTR Indication Bitmap subfield in the STA Info field shall be included and shall be set to indicate STR or NSTR for each pair of links formed between the link corresponding to the link ID and other setup links for the non-AP MLD, by setting the corresponding bit to 0 or 1.
- The STA Profile field shall include the complete profile for the corresponding non-AP STA identified by the STA MAC Address and shall consist of all the elements and fields that would be included in the STA Profile field for that non-AP STA in a Reassociation Request frame that includes the corresponding non-AP STA as a reported STA in the Basic Multi-Link element as defined in 35.3.3.3 and 35.3.3.4, except no inheritance is applied and all the applicable elements and fields are included in the STA Profile field itself.
- If the non-AP MLD is indicating to delete an existing link, it shall set the fields in the Per-STA Profile subelement as follows:
  - The Link ID subfield shall be set to the link identifier of the AP affiliated with the AP MLD that is operating on the link that is requested to be deleted from the setup links. The Complete Profile subfield shall be set to 0. The STA MAC Address Present subfield shall be set to 1. The AP Removal Timer Present subfield shall be set to 0. The Reconfiguration Operation Type subfield shall be set to 3. The Operation Parameters Present subfield shall be set to 0. The NSTR Indication Bitmap Present subfield shall be set to 0.
  - The STA MAC Address subfield in the STA Info field shall be set to the MAC address of the non-AP STA operating on the link indicated by the link ID, which is requested to be deleted.
  - The NSTR Indication Bitmap subfield shall not be included.
  - The STA Profile field shall not be included.

NOTE 2—A single Link Reconfiguration Request frame can indicate multiple ML reconfiguration operations, including add link(s) and/or delete link(s). Each link reconfiguration operation is specified in a separate Per-STA Profile subelement within the Reconfiguration Multi-Link element. A non-AP MLD might indicate both delete link and add link operations for the same non-AP STA in a request frame by setting the STA MAC Address subfield to the same value in the two Per-STA Profile subelements included in the Reconfiguration Multi-Link element, in the case when it wants to switch the link for that non-AP STA to another affiliated AP.

A non-AP MLD shall not send a Link Reconfiguration Request frame requesting only delete link operation that results in deleting all the setup links of the non-AP MLD.

NOTE 3—If a non-AP MLD wants to delete all its setup links, it sends a Disassociation frame or a Deauthentication frame to the AP MLD.

If the non-AP MLD is indicating to add one or more links, it shall include an OCI element subfield in the Link Reconfiguration Request frame to provide operating channel information for the current channel where the Link Reconfiguration Request frame is being transmitted if all the following conditions are met:

- dot11RSNAOperatingChannelValidationActivated is true for the non-AP MLD,
- The RSNE in last (Re)Association Request frame transmitted to the AP MLD indicated OCVC, and
- The RSNE in the Beacon frame of the AP corresponding to the current link indicates OCVC.

After receiving a Link Reconfiguration Request frame indicating request for adding one or more links from a non-AP STA affiliated with a non-AP MLD that indicated OCVC in its RSNE, and if the RSNE for the

affiliated AP also indicates OCV, an AP MLD shall validate the OCI element received in the request by ensuring that all of the followings are true:

- The OCI element is present,
- The Channel information in the OCI element matches current operating channel parameters (see 12.2.10).

Otherwise, AP MLD shall reject the request by discarding the Link Reconfiguration Request frame.

After receiving a Link Reconfiguration Request frame from a non-AP MLD, the AP MLD shall respond with a Link Reconfiguration Response frame when no OCI element validation is required, or when OCI element validation is required and the validation is successful. An AP MLD shall send the Link Reconfiguration Response frame on the same link where the corresponding Link Reconfiguration Request frame was received. An AP MLD shall not send an unsolicited Link Reconfiguration Response frame to a non-AP MLD.

If the AP MLD receives a Link Reconfiguration Request frame that indicates both delete link and add link for the same non-AP STA identified by the same STA MAC Address value in the Per-STA Profile subelements for delete and add link operations, then the AP MLD shall process the delete link operation first for that non-AP STA.

In the Link Reconfiguration Response frame, the AP MLD shall include one or more Reconfiguration Status Duple subfield with each subfield corresponding to a link ID indicated in the Per-STA Profile subelements of the corresponding Link Reconfiguration Request frame. If the AP MLD accepts an add link request for a link ID, the corresponding Status subfield shall be set to SUCCESS in the Reconfiguration Status Duple subfield and the Status Code field included in the STA Profile subfield of the Per-STA Profile subelement corresponding to that link ID in the Basic Multi-Link element shall be set to SUCCESS.

The AP MLD shall accept a delete link request for a link ID and shall set the corresponding Status subfield to SUCCESS in the Reconfiguration Status Duple subfield, except

- If a particular delete link request would result in deleting the last setup link for a non-AP MLD and no add link request (if any) included in the same request frame is accepted, in which case the AP MLD shall reject that delete link request and shall set the corresponding Status subfield to REQUEST\_DECLINED, or
- If it is an NSTR mobile AP MLD and the delete link request is for deleting the primary link of the NSTR mobile AP MLD in which case the AP MLD shall reject the delete link request and shall set the corresponding Status subfield to REQUEST\_DECLINED.

The AP MLD shall reject an add link request if any of the following conditions is true:

- The non-AP STA affiliated with the non-AP MLD corresponding to the link does not support all of the rates in the BSSBasicRateSet parameter and all of the membership selectors in the BSSMembershipSelectorSet parameter of the AP affiliated with the AP MLD corresponding to the link in the MLME-START.request primitive.
- The non-AP STA affiliated with the non-AP MLD corresponding to the link does not support all of the MCSs in the Basic HT-MCS Set field of the HT Operation parameter of the AP affiliated with the AP MLD (if present) corresponding to the link in the MLME-START.request primitive.
- The non-AP STA affiliated with the non-AP MLD corresponding to the link does not support all of the <VHT-MCS, NSS> tuples indicated by the Basic VHT-MCS And NSS Set field of the VHT Operation parameter of the AP affiliated with the AP MLD (if present) corresponding to the link in the MLME-START.request primitive.
- The non-AP STA affiliated with the non-AP MLD corresponding to the link does not support all of the <HE-MCS, NSS> tuples indicated by the Basic HE-MCS And NSS Set field of the HE Operation

parameter of the AP affiliated with the AP MLD corresponding to the link in the MLME-START.request primitive.

- The non-AP STA affiliated with the non-AP MLD corresponding to the link does not support all of the <EHT-MCS, NSS> tuples indicated by the Basic EHT-MCS And NSS Set field of the EHT Operation parameter of the AP affiliated with the AP MLD corresponding to the link in the MLME-START.request primitive.
- The non-AP STA affiliated with the non-AP MLD corresponding to that link has the same MAC address as another non-AP STA (that is affiliated with a non-AP MLD or not affiliated with a non-AP MLD) associated with the AP affiliated with the AP MLD corresponding to the link.

If the AP MLD accepts link addition for one or more links, the AP MLD shall include Group Key Data subfield in the Link Reconfiguration Response frame when using RSN. For each added link, the AP MLD shall include an MLO GTK KDE, an MLO IGTK KDE, and an MLO BIGTK KDE in the Group Key Data subfield providing group keys for the added link identified by the Link ID subfield.

If the AP MLD accepts link addition for one or more links, the AP MLD shall include an OCI element subfield in the Link Reconfiguration Response frame to provide operating channel information for the current channel where the Link Reconfiguration Response frame is being transmitted if all of the following conditions are met:

- dot11RSNAOperatingChannelValidationActivated is true for the AP MLD,
- The RSNE in last (Re)Association Request frame received from the non-AP MLD indicated OCVC, and
- The RSNE in the Beacon frame of the AP corresponding to the current link indicates OCVC.

If the AP MLD accepts link addition for one or more links, it shall include in the Link Reconfiguration Response frame a Basic Multi-Link element that includes the Common Info field and one Per-STA Profile subelement for each AP operating on the link that is accepted by the AP MLD for addition to the setup links of the non-AP MLD. The Basic Multi-Link element shall not include any other Per-STA Profile subelements. For each Per-STA Profile subelement included in the Basic Multi-Link element, the Complete Profile subfield in the STA Control field shall be set to 1, and the STA Profile field corresponding to that AP shall be complete and consists of all the elements and fields that would be included in the STA Profile field for that AP in a Reassociation Response frame that includes the corresponding AP as a reported AP in the Basic Multi-Link element as defined in 35.3.3.3 and 35.3.3.4, except no inheritance is applied and all the applicable elements and fields are included in the STA Profile field itself.

NOTE 4—The conditions for the presence of subfields in the Common Info field in the Basic Multi-Link element are defined in 9.4.2.322.2.

If the AP MLD rejects an add link request for a Link ID, it shall set the corresponding Status subfield in the Reconfiguration Status Duplex subfield to indicate an appropriate rejection status code as per Table 9-80.

After receiving a Link Reconfiguration Response frame that includes a Group Key Data subfield, if the AP indicated OCVC in its RSNE and the receiving non-AP STA RSNE also indicates OCVC, the non-AP MLD shall validate the OCI element received in the response by ensuring that all of the following conditions are true:

- The OCI element is present,
- The channel information in the OCI element matches current operating channel parameters (see 12.2.10).

Otherwise, the non-AP MLD shall discard the Link Reconfiguration Response frame.

If an ML configuration operation results in one or more links being added to the setup links of a non-AP MLD, the non-AP MLD and the AP MLD shall operate with all the TIDs mapped to the newly added links both for DL and UL until a TTLM is updated according to the procedure defined in 35.3.7.2.

The power management mode of the affiliated non-AP STA corresponding to the added link shall be in the power save mode immediately after the acknowledgement of the Link Reconfiguration Response frame, and its power state shall be in the doze state.

After sending a Link Reconfiguration Response frame to a non-AP MLD indicating SUCCESS status for a delete link operation and receiving the acknowledgement for the response frame from the non-AP MLD, the AP MLD shall delete that link and any information maintained for that link from the setup links of that non-AP MLD.

After sending a Link Reconfiguration Response frame to a non-AP MLD indicating SUCCESS status for an add link operation and receiving the acknowledgement for the response frame from the non-AP MLD, the AP MLD shall add that link to the setup links of that non-AP MLD.

After receiving a Link Reconfiguration Response frame indicating SUCCESS status for a delete link operation and sending an acknowledgement for the response frame, the non-AP MLD shall delete that link and any information maintained for that link from its setup links.

After receiving a Link Reconfiguration Response frame indicating SUCCESS status for an add link operation and sending an acknowledgement for the response frame, the non-AP MLD shall add that link to its setup links.

If a link reconfiguration to the setup links deletes one or more links from the setup links of a non-AP MLD and that results in a TID not being mapped to any of the remaining setup links in either direction for that non-AP MLD, then the non-AP MLD and the AP MLD shall operate with that TID mapped to all remaining enabled links for that direction after the deletion of the setup link, until a TTLM is established for that TID.

#### 35.3.6.5 AP MLD recommendation for link reconfiguration

An AP MLD may recommend link(s) to be added and/or deleted to/from the setup links of an associated non-AP MLD by sending an individually addressed Link Reconfiguration Notify frame to that non-AP MLD. The Link Reconfiguration Notify frame shall contain a Reconfiguration Multi-Link element that includes one Per-STA Profile subelement for each affiliated AP that the AP MLD is recommending to the non-AP MLD to add to or delete from its setup links.

In the Link Reconfiguration Notify frame, an AP MLD shall set the MLD MAC Address Present subfield, the EML Capabilities Present subfield, the MLD Capabilities And Operations Present subfield, and the Extended MLD Capabilities And Operations Present subfield to 0 in the Common Info field of the Reconfiguration Multi-Link element.

The following rules apply for each Per-STA Profile subelement contained in the Reconfiguration Multi-Link element included in the Link Reconfiguration Notify frame:

- If the AP MLD is recommending to add a link to the setup links, it shall set the fields in the Per-STA Profile subelement as follows:
  - The Link ID subfield shall be set to the link identifier of the AP affiliated with the AP MLD that is operating on the link that the AP MLD is recommending to add to the setup links of the non-AP MLD.
  - The Complete Profile subfield, the STA MAC Address Present subfield, the AP Removal Timer Present subfield, the Operation Parameters Present subfield, and the NSTR Indication Bitmap Present subfield shall be set to 0.

- The Reconfiguration Operation Type subfield shall be set to 2.
- If the AP MLD is recommending to delete a link from the setup links, it shall set the fields in the Per-STA Profile subelement as follows:
  - The Link ID subfield shall be set to the link identifier of the AP affiliated with the AP MLD that is operating on the link that the AP MLD is recommending to delete from the setup links of the non-AP MLD.
  - The Complete Profile subfield, the STA MAC Address Present subfield, the AP Removal Timer Present subfield, the Operation Parameters Present subfield, and the NSTR Indication Bitmap Present subfield shall be set to 0.
  - The Reconfiguration Operation Type subfield shall be set to 3.

In response to a Link Reconfiguration Notify frame, a non-AP MLD may initiate ML reconfiguration to its setup links by following the procedure defined in 35.3.6.4.

### 35.3.6.6 Non-AP MLD operation parameter update

An MLD that has `dot11OperationParameterUpdateImplemented` equal to true shall set the Operation Parameter Update Support subfield in the Common Info field of the Basic Multi-Link element that is transmitted by its affiliated STA(s) to 1. The MLD shall set the Operation Parameter Update Support subfield to 0 if it has `dot11OperationParameterUpdateImplemented` equal to false. A STA affiliated with an MLD in which `dot11OperationParameterUpdateImplemented` is true is referred to as *operation parameter update capable*.

An operation parameter update capable non-AP STA affiliated with a non-AP MLD may notify an operation parameter update capable AP affiliated with the associated AP MLD of a change in its operation parameters by transmitting a Multi-Link Operation Update Request frame including a Reconfiguration Multi-Link element with Reconfiguration Operation Type subfield set to 1 after one of the following conditions occurs:

- At least one link is enabled or disabled for the non-AP MLD;
- The associated AP MLD removes at least one of its affiliated APs and at least one of the removed APs corresponds to a setup link between the AP MLD and the non-AP MLD;
- The non-AP MLD adds at least one setup link or deletes at least one setup link with the associated AP MLD.

Otherwise, the non-AP STA shall not transmit a Multi-Link Operation Update Request frame with Reconfiguration Operation Type subfield set to 1.

In the Reconfiguration Multi-Link element of a Multi-Link Operation Update Request frame with Reconfiguration Operation Type subfield set to 1 transmitted by a non-AP STA affiliated with a non-AP MLD:

- All subfields in the Presence Bitmap subfield of the Multi-Link Control field in the Reconfiguration Multi-Link element shall be set to 0;
- All subfields of the STA Control field in the Reconfiguration Multi-Link element except the Link ID and Operation Parameters Present subfields shall be set to 0;
- The Link ID subfield shall be set to the identifier of the link to which the operation parameters apply;
- The Operation Parameters Present subfield shall be set to 1;
- The Operation Parameters subfield shall indicate the updated operation parameters (as applicable) for the link identified by the value of the Link ID subfield.

An AP affiliated with an AP MLD shall not transmit a Multi-Link Operation Update Request frame.

An operation parameter update capable AP affiliated with an AP MLD that received a Multi-Link Operation Update Request frame including a Reconfiguration Multi-Link element with Reconfiguration Operation Type subfield equal to 1 shall respond with a Multi-Link Operation Update Response frame. The Status Code subfield of the Multi-Link Operation Update Response frame shall be set to one of 0 (SUCCESS) or 141 (DENIED\_OPERATION\_PARAMETER\_UPDATE).

Before the AP affiliated with the AP MLD transmits the corresponding Multi-Link Operation Update Response frame with the Status Code subfield set to 0, the AP affiliated with the AP MLD shall not apply the operation parameters of the non-AP STA affiliated with the non-AP MLD indicated in the Operation Parameter Info subfield in the Reconfiguration Multi-Link element of the Multi-Link Operation Update Request frame.

Before receiving the Multi-Link Operation Update Response frame, the non-AP STA affiliated with the non-AP MLD shall not apply the operation parameters indicated in the Reconfiguration Multi-Link element of the corresponding Multi-Link Operation Update Request frame.

After receiving the Multi-Link Operation Update Response frame in which the Status Code field is equal to the value 0 (SUCCESS), the non-AP STA affiliated with the non-AP MLD shall apply the operation parameters indicated in the Operation Parameter Info subfield in the Reconfiguration Multi-Link element of the corresponding Multi-Link Operation Update Request frame.

An operation parameter update is successful if a STA affiliated with an MLD successfully receives or transmits an Multi-Link Operation Update Response frame with the Status Code field equal to the value 0 (SUCCESS).

After receiving the Multi-Link Operation Update Response frame in which a Status Code field is equal to the value 141 (DENIED\_OPERATION\_PARAMETER\_UPDATE), the non-AP STA affiliated with the non-AP MLD shall not apply the operation parameters indicated in the Operation Parameter Info subfield in the Reconfiguration Multi-Link element of the corresponding Multi-Link Operation Update Request frame.

The value of the Maximum MPDU Length subfield carried in the Operation Parameter Info subfield in the Reconfiguration Multi-Link element of the Multi-Link Operation Update Request frame to update the value of the Maximum MPDU Length subfield received in the VHT Capabilities element (if applicable) or in the HE 6 GHz Band Capabilities element (if applicable) or in the EHT Capabilities element (if applicable) transmitted by the non-AP STA.

The value of the Maximum A-MSDU Length subfield carried in the Operation Parameter Info subfield in the Reconfiguration Multi-Link element of the Multi-Link Operation Update Request frame to update the value of the Maximum A-MSDU Length subfield received in the HT Capabilities element transmitted by the non-AP STA.

### 35.3.7 Link management

#### 35.3.7.1 General

The link management subclause describes different mechanisms that regulate or influence how links are used for frame exchange under MLO. Subclause 35.3.7.2 describes the TTLM mechanism and defines how links can be enabled or disabled for non-AP MLDs. Subclause 35.3.7.3 describes how a non-AP MLD may transition between enabled links using the power state of its affiliated STAs. Subclause 35.3.7.4 describes how an AP MLD may provide dynamic recommendation for non-AP MLD link usages for load balancing among the different affiliated APs. Subclause 35.3.7.5 describes how a TTLM may be advertised by an AP MLD to disable link(s) for all associated non-AP MLDs.

When an AP MLD advertises a value  $L$  (where  $L$  is greater than 1) in the Recommended Max Simultaneous Links subfield of the Basic Multi-Link element that is carried in Beacon or broadcast Probe Response frames, an associated non-AP MLD should not exchange frames simultaneously on more than  $L$  links.

### 35.3.7.2 TID-To-Link Mapping (TTLM)

#### 35.3.7.2.1 General

The TTLM mechanism allows an AP MLD and a non-AP MLD that performed or are performing ML setup to determine how Data frames belonging to TIDs 0–7 and Management frames will be assigned for transmission, on the setup links between the two MLDs in DL and UL.

An AP MLD may support TTLM negotiation. A non-AP MLD that performs ML (re)setup on at least two links with an AP MLD that sets the TID-To-Link Mapping Negotiation Support subfield of the MLD Capabilities And Operations field of the Basic Multi-Link element to a nonzero value shall support TTLM negotiation by setting the TID-To-Link Mapping Negotiation Support subfield of the MLD Capabilities And Operations field of the Basic Multi-Link element it transmits to a nonzero value.

By default, all TIDs shall be mapped to all setup links for both DL and UL (see 35.3.7.2.2). When a nondefault TTLM is applied according to the procedure defined in 35.3.7.2.3 and 35.3.7.2.4, then a TID can be mapped to a link set, which is a subset of setup links, spanning from only one setup link to all the setup links, with restrictions defined in 35.3.7.2.3.

A setup link is defined as enabled for a non-AP MLD if at least one TID is mapped to that link either in DL or in UL and is defined as disabled for a non-AP MLD if no TIDs are mapped to that link in DL and no TIDs are mapped to that link in UL. At any point in time, a TID shall always be mapped to at least one setup link both in DL and UL, which means that a TTLM change is only valid and successful if it will not result in having any TID for which the link set for DL or UL is made of zero setup links. By default, all setup links are enabled (see 35.3.7.2.2).

If a link is enabled for a non-AP MLD, then:

- It may be used for individually addressed frame exchange, subject to the power state of the non-AP STA operating on that link and only QoS Data frames with TIDs mapped to that link may be transmitted on that link between the corresponding non-AP STA and AP affiliated with the non-AP MLD and the AP MLD, respectively, in the direction (DL/UL) corresponding to the TTLM.
- Individually addressed Management frames, QoS Null frames, and Control frames may be sent on any enabled links between the corresponding non-AP MLD and AP MLD both in DL and UL, except that a BlockAckReq frame requesting status for TID(s) that are not mapped to a link shall not be transmitted on the link by the corresponding non-AP STA affiliated with the non-AP MLD and by the corresponding AP affiliated with the AP MLD.

If a link is disabled for a non-AP MLD, it shall not be used for individually addressed frame exchange between the corresponding non-AP STA affiliated with the non-AP MLD and AP affiliated with the associated AP MLD, including Management and Control frames, except that if the link is disabled for a non-AP MLD but is not advertised as disabled by the AP MLD (see 35.3.7.2.4), then the link may be used for class 1 and 2 Management frames, class 1 Control frames and TID-To-Link Mapping Request, TID-To-Link Mapping Response and TID-To-Link Mapping Teardown frames, if transmitted for a procedure that is initiated by the non-AP MLD.

A STA affiliated with an MLD that operates on a link disabled by an advertised TTLM (see 35.3.7.2.4) shall suspend operations between the STA and the AP on that link until the link is enabled.

NOTE 1—Suspension of operations refers to functionalities such as frame generation, schedules, scoreboard maintenances, etc., while still preserving previously negotiated parameters with the peer EHT STA(s). Power save handling during the time the link is disabled is described in 35.3.12.8.

NOTE 2—The AP affiliated with an AP MLD that operates on a link that is disabled for an associated non-AP MLD (following the procedure described in 35.3.7.2) can use this link for frame exchanges with non-AP STAs affiliated with other associated non-AP MLD(s) for which this link is enabled (if any such non-AP STAs exist).

If a link that is setup on a DFS owner's operating channel is advertised as disabled by AP MLD (see 35.3.7.2.4), then before resuming operations on it (i.e., enabling the link), the AP MLD shall comply with the applicable regulatory requirements.

If a TID is mapped in UL to a set of enabled links for a non-AP MLD, then the non-AP MLD may use any link within this set of enabled links to transmit individually addressed MPDUs that are destined to the AP MLD and that correspond to that TID, including transmitting them via the UL MU operation (see 35.5.2).

If a TID is mapped in DL to a set of enabled links for a non-AP MLD, then:

- The non-AP MLD may retrieve individually addressed buffered BUs available at the AP MLD that are MPDUs corresponding to that TID on any link within this set of enabled links.
- The AP MLD may use any link within this set of enabled links to transmit individually addressed MPDUs that are destined to the non-AP MLD and that correspond to that TID, subject to the power state of the non-AP STA affiliated with the non-AP MLD on each of these links.

NOTE 3—The non-AP MLD can retrieve BUs buffered by the AP MLD on any mapped link. In addition, the AP MLD can recommend link(s) as defined in 35.3.12.4.

A non-AP MLD may retrieve buffered BUs that are individually addressed MMPDUs available at the AP MLD on any link enabled for the non-AP MLD. An AP MLD may use any enabled links to transmit individually addressed Management frames (see Table 11-4) subject to the rules defined in 35.3.14 and subject to the power state of the non-AP STA on each of the links (see 35.3.12).

If a non-AP STA affiliated with a non-AP MLD is in active mode on a link with a set of TIDs mapped for DL transmission, its associated AP affiliated with the AP MLD shall transmit to the non-AP STA:

- Data frames, if any, corresponding to that set of mapped TIDs for the non-AP MLD, and
- Management frames, if any, for the non-AP MLD or its affiliated non-AP STAs, subject to the rules defined in 35.3.14,

unless the frames are transmitted, following the rules defined in this subclause, to another non-AP STA that is affiliated with the same non-AP MLD and either in active mode or in PS mode and in the awake state.

NOTE 4—Operation with non-AP STAs affiliated with a non-AP MLD in power save mode are defined in 35.3.12.4.

The power state of a non-AP STA affiliated with a non-AP MLD immediately after a link that was disabled or not setup becomes enabled follows the rules defined in 35.3.12.7. The power state and TWT schedules of a non-AP STA affiliated with a non-AP MLD immediately after a link becomes disabled follows the rules defined in 35.3.12.8.

The use of More Data subfield by an MLD for the different possible TTLMs follows the rules defined in 35.3.12.9.

An MLD that includes two TID-To-Link Mapping elements in a frame shall set the Direction subfield in one of the TID-To-Link Mapping elements to 0 and the Direction subfield in the other TID-To-Link Mapping element to 1, except when the AP is transitioning from an established advertised TTLT to a new advertised

TTLML in which case the AP advertises a future TID-To-Link Mapping element in addition to the established one with the Direction subfield in both elements set to 2 (see 35.3.7.5.2).

### 35.3.7.2.2 Default mapping mode

Under this mode, all TIDs are mapped to all setup links for DL and UL, and all setup links are enabled. A non-AP MLD associated with an AP MLD shall operate under this mode if the following two conditions are met:

- A TTLML is not advertised by the AP MLD (see 35.3.7.2.4).
- A TTLML negotiation for a different mapping did not occur, was unsuccessful while having no successfully negotiated nondefault TTLML before or was torn down (see 35.3.7.2.3).

**NOTE**—When the TID-To-Link Mapping Negotiation Support subfield is set to 0 by the AP MLD, the default mapping mode is always applied.

### 35.3.7.2.3 Negotiation of TTLML

A successfully negotiated TTLML is active until it is torn down or until it is replaced by a negotiated TTLML or is modified by an advertised TTLML (see 35.3.7.2.4).

An MLD that supports TTLML negotiation has dot1TIDtoLinkMappingActivated equal to true and shall set to a nonzero value the TID-To-Link Mapping Negotiation Support subfield in the MLD Capabilities And Operations subfield of the Basic Multi-Link element that is transmitted by its affiliated STA(s). An MLD that does not support TTLML negotiation has dot1TIDtoLinkMappingActivated equal to false and shall set the TID-To-Link Mapping Negotiation Support subfield to 0. If the TID-To-Link Mapping Negotiation Support subfield value received from a peer MLD is equal to 1, the MLD that initiates a TTLML negotiation with the peer MLD shall send only one TID-To-Link Mapping element with the Direction field set to 2 and where all TIDs are mapped to the same link set. If the TID-To-Link Mapping Negotiation Support subfield value received from a peer MLD is equal to 3, the MLD that initiates a TTLML negotiation with the peer MLD shall send the TID-To-Link Mapping element where each TID is mapped to the same or different link set.

During an ML (re)setup procedure, a non-AP MLD may initiate a TTLML negotiation by including one or two TID-To-Link Mapping elements, depending on the TTLML Negotiation Support subfield indicated by the peer MLD, in the (Re)Association Request frame if the AP MLD has indicated support for TTLML negotiation. Otherwise, the non-AP MLD shall not include any TID-To-Link Mapping element in the (Re)Association Request frame.

After receiving a (Re)Association Request frame from a non-AP MLD, the AP MLD shall respond with a (Re)Association Response frame by following the rules in 11.3.5 and 35.3.5, and perform the following:

- If the AP MLD is advertising an established TTLML (see 35.3.7.2.4) and if the non-AP MLD does not include a TID-To-Link Mapping element in the (Re)Association Request frame or if the non-AP MLD includes a TID-To-Link Mapping element in the (Re)Association Request frame, requesting a TTLML that maps one or more TIDs to a link and direction that is not enabled in the advertised TTLML, then,
  - The AP MLD shall include in the (Re)Association Response frame, the TID-To-Link Mapping element(s) that is advertised in Beacon and Probe Response frames with the Mapping Switch Time Present subfield set to 0, modified to indicate the TTLML for the links that are accepted for set up in the (Re)Association Response frame.
  - The TTLML that is included in the (Re)Association Response frame shall be considered as established and shall be used during the association.
- Otherwise, if the AP MLD is not advertising an established TTLML, then,

— if the non-AP MLD includes TID-To-Link Mapping element(s) in the (Re)Association Request frame, then:

—If the AP MLD accepts the requested TTLM, then the AP MLD shall not include the TID-To-Link Mapping element(s) in the (Re)Association Response frame. The TTLM that is included in the (Re)Association Request frame shall be considered as established and shall be used during the association

—Otherwise, the AP MLD does not accept the requested TTLM and shall indicate rejection of the proposed TTLM by including in the (Re)Association Response frame TID-To-Link Mapping element(s) that suggests a preferred TTLM. In this case, the default TTLM shall be used during the association or until another TTLM is successfully negotiated. Additionally, an AP MLD that rejects the (Re)Association Request may include a TTLM related status code in the (Re)Association Response frame. Status code 134 (PRE-FERRED\_TID\_TO\_LINK\_MAPPING\_SUGGESTED) may be used in this case.

NOTE 1—An ML (re)setup can be successful even if the TTLM negotiation embedded in the ML (re)setup procedure is not successful.

After the ML (re)setup is successful and 4-way handshake is complete (if RSNA is required), to negotiate a TTLM, an initiating MLD with dot11TIDtoLinkMappingActivated equal to true shall send an individually addressed TID-To-Link Mapping Request frame through an affiliated STA, on any enabled link, to a peer MLD that has indicated support of TTLM negotiation.

Upon receiving the individually addressed TID-To-Link Mapping Request frame, the peer MLD shall send an individually addressed TID-To-Link Mapping Response frame through an affiliated STA, on any enabled link, to the initiating MLD according to the following rules:

— If the peer MLD accepts the requested TTLM in the TID-To-Link Mapping element carried in the received TID-To-Link Mapping Request frame, it shall set the Status Code field to 0 (SUCCESS) in the TID-To-Link Mapping Response frame and not include the TID-To-Link Mapping element in the frame.

— Otherwise, the peer MLD shall indicate rejection of the proposed TTLM by either:

— Setting the Status Code field to 133 (DENIED\_TID\_TO\_LINK\_MAPPING) in the TID-To-Link Mapping Response frame. The peer MLD shall not include the TID-To-Link Mapping element in the frame.

— Setting the Status Code field to 134 (PREFERRED\_TID\_TO\_LINK\_MAPPING\_SUGGESTED) in the TID-To-Link Mapping Response frame. The peer MLD shall include a preferred mapping in the TID-To-Link Mapping element in the frame.

An MLD may suggest a preferred TTLM to a peer MLD by sending an unsolicited TID-To-Link Mapping Response frame with the following setting: the Dialog Token field is equal to 0, the TID-To-Link Mapping element is included, and the Status Code field is equal to 134 (PREFERRED\_TID\_TO\_LINK\_MAPPING\_SUGGESTED). An MLD shall not send an unsolicited TID-To-Link Mapping Response frame that includes the TID-To-Link Mapping element and in which the Status Code field is set to either 0 (SUCCESS) or 133 (DENIED\_TID\_TO\_LINK\_MAPPING).

When initiating a TTLM negotiation with a peer MLD, an MLD should take into account the preferred TTLM of the peer MLD if it has indicated one. In addition, an AP MLD should take into account the traffic flow(s) from the non-AP MLD and the capabilities and constraints (e.g., single-radio operation), if any, of the non-AP MLD when providing a preferred TTLM or initiating a TTLM negotiation with the non-AP MLD.

During TTLM negotiation, an MLD may include one or two TID-To-Link Mapping elements in a management frame. When the frame includes two TID-To-Link Mapping elements, the MLD shall set the

Direction subfield in one of the TID-To-Link Mapping elements to 0 and the Direction subfield in the other TID-To-Link Mapping element to 1.

A multi-radio non-AP MLD should accept a TTLM negotiation initiated by its associated AP MLD. A TTLM negotiation is successful if an MLD successfully transmits or receives a TID-To-Link Mapping Response frame with the value of the Status Code field equal to 0 (SUCCESS).

When two MLDs have negotiated a TTLM, either MLD may tear down the negotiated TTLM by sending an individually addressed TID-To-Link Mapping Teardown frame, except a non-AP MLD shall not tear down a negotiated TTLM if the current TTLM was established by an advertisement of TTLM. After teardown of a negotiated TTLM, if a TTLM is advertised by the AP MLD as described in 35.3.7.2.4, the MLDs shall operate in the established mode as described in 35.3.7.2.4, otherwise, they shall operate in the default mapping mode (see 35.3.7.2.2).

Once an MLD has successfully negotiated a TTLM with a peer MLD, both the MLD and the peer MLD shall update UL and/or DL TTLM information according to the negotiated TTLM. In case TTLM of a specific TID is missing in the negotiation, the most recent TTLM of this TID shall remain unchanged and valid unless it is successfully updated according to the procedure defined in 35.3.7.1. If an MLD has failed to negotiate a TTLM with a peer MLD, the most recent TTLM of each of the TIDs shall remain unchanged and valid unless it is successfully updated according to the procedure defined in 35.3.7.2.1.

NOTE 2—If there is no successfully negotiated TTLM or advertised TTLM for a TID, then the TID is mapped to all setup links for DL and UL.

When an MLD has successfully negotiated with a peer MLD an UL and/or DL TTLM in which the bit position  $i$  of the Link Mapping Of TID  $n$  field in the TID-To-Link Mapping element in the (Re)Association Request frame or TID-To-Link Mapping Request frame is set to 0, TID  $n$  shall not be mapped to the link associated with the link ID  $i$  and therefore an MPDU corresponding to TID  $n$ , with exceptions for QoS Null frame as specified in 35.3.7.2.1, shall not be scheduled for transmission on the link associated with link ID  $i$  in the UL and/or DL based on the Direction subfield in the TID-To-Link Mapping element.

When an MLD has successfully negotiated with a peer MLD an UL and/or DL TTLM in which the bit position  $i$  of the Link Mapping Of TID  $n$  field in the TID-To-Link Mapping element in the (Re)Association Request frame or TID-To-Link Mapping Request frame is set to 1, the TID  $n$  shall be mapped to the link associated with the link ID  $i$  and therefore an MPDU corresponding to TID  $n$  may be scheduled for transmission on the link associated with link ID  $i$  in the UL and/or DL based on the Direction subfield in the TID-To-Link Mapping element (see 35.3.7.2.1).

### 35.3.7.2.4 Advertised TTLM in Beacon and Probe Response frames

An AP MLD may advertise a mandatory TTLM by including a TID-To-Link Mapping element in the Beacon and Probe Response frames that the APs affiliated with the AP MLD transmit.

An AP that advertises a new TTLM shall include the Mapping Switch Time field in the TID-To-Link Mapping element and shall set it to the time, in units of TUs, of the TBTT of a DTIM beacon of one of the APs affiliated with the AP MLD. If a link is going to be enabled according to the advertised TTLM, the AP MLD should enable that link one TU before the TBTT of that DTIM Beacon frame, and shall not initiate a TXOP to any non-AP STA on that link before the TBTT of that DTIM Beacon frame. If a link is going to be disabled according to the advertised TTLM, the AP MLD shall disable that link no earlier than the TBTT of that DTIM Beacon frame, and should end the TXOP with any non-AP STA on that link at least one TU before the TBTT of that DTIM Beacon frame. Beginning at the time indicated in the Mapping Switch Time field, the indicated TTLM is established and the Mapping Switch Time field is no longer included.

NOTE 1—A non-AP MLD might receive more than one TID-To-Link Mapping element on more than one link that indicate different times for the advertised TLLM to be established due to the granularity of the Mapping Switch Time field. In that case, if the non-AP MLD receives the mapping switch time on the link to be disabled, the non-AP MLD uses that as the time for the advertised TLLM to be disabled and otherwise, the non-AP MLD might choose any time as indicated in the received TID-to-link Mapping elements as the time for the advertised TLLM to be established.

An example of an advertised TLLM taking effect on all links is shown in AH.6.

An AP that advertises a TLLM shall map all TIDs to the same link set in the advertised TLLM, both for DL and UL. The Direction field of an advertised TID-To-Link Mapping element shall be set to 2.

NOTE 2—An advertised TLLM will include a mapping for all TIDs.

An AP with dot11MultiBSSIDImplemented set to true shall follow the rules described in 11.1.3.8.4 (Inheritance of element values) for inheriting or not inheriting an advertised TLLM. Specifically:

- If the advertised TLLM for the transmitted BSSID does not apply to a nontransmitted BSSID in the same multiple BSSID set and the nontransmitted BSSID does not have an active advertised TLLM, then the profile for that nontransmitted BSSID carries a Non-Inheritance element that includes the Element ID Extension of the TID-To-Link Mapping element.
- If the transmitted BSSID and a nontransmitted BSSID in the same multiple BSSID set have different advertised TLLMs, then the profile for that nontransmitted BSSID includes TID-To-Link Mapping element(s) to indicate the advertised TLLM for the nontransmitted BSSID.
- If the configuration of links (such as link ID assignments, number of links, etc.) is not the same for the AP MLD of the transmitted BSSID and the AP MLD of a nontransmitted BSSID in the same multiple BSSID set, and the nontransmitted BSSID is advertising TLLM, then the profile for that nontransmitted BSSID includes TID-To-Link Mapping element(s) to indicate the advertised TLLM for the nontransmitted BSSID.

An AP MLD shall include two TID-To-Link Mapping elements in the Beacon and Probe Response frames that the APs affiliated with the AP MLD transmit, if there is already an established advertised TLLM and the AP MLD intends to replace it with a nondefault advertised TLLM. In this case, the AP MLD shall not include the Mapping Switch Time field in the currently established advertised TID-To-Link Mapping element, and shall include the Mapping Switch Time field in the other TID-To-Link Mapping element, in order to indicate an advertised TLLM that will be established in the future. The value of the Expected Duration field of the currently established TID-To-Link Mapping element shall indicate a remaining duration that ends at the same time as indicated by the Mapping Switch Time field of the other TID-To-Link Mapping element.

NOTE 3—If the currently advertised TID-To-Link Mapping element is going to be replaced by the default mapping, the AP MLD sets the Expected Duration field of the currently advertised TID-To-Link Mapping element to the remaining time until the default mapping is established as described in 9.4.2.324. After the establishment of the default mapping, no TID-To-Link Mapping elements are included in the Beacon or Probe Response frames transmitted by the APs affiliated with the AP MLD.

All APs affiliated with an AP MLD that advertises a TLLM shall include the same mapping in all Beacon and Probe Response frames from the time at which the TLLM is first advertised until the time at which the TLLM is no longer advertised, and shall include the Expected Duration field in all TID-To-Link Mapping elements in Beacon frames. The Mapping Switch Time field should initially be set to a sufficiently large value such that all associated non-AP MLDs including the ones that have all affiliated non-AP STAs in power save mode have the opportunity to receive the TID-To-Link Mapping element at least once before the advertised TLLM is established. After an advertised TLLM is established, the duration indicated by Expected Duration field shall indicate the remaining duration for which the advertised TLLM is expected to be effective (see 9.4.2.324). During the advertisement of the TLLM, the value indicated in the Expected Duration field may be updated to indicate a shorter duration than initially indicated, but shall not be updated to indicate a longer duration than initially indicated. The duration indicated by Expected Duration field shall

be exact when the duration is smaller than two DTIM periods of the AP transmitting the frame carrying the field.

At the time indicated by the Mapping Switch Time field of a TID-To-Link Mapping element in a Beacon or a Probe Response frame received by a non-AP STA affiliated with a non-AP MLD from an AP affiliated with its associated AP MLD, or at the time calculated based on the Expected Duration field of an existing advertised TTLM that will be replaced by the default mapping (see 9.4.2.324), the non-AP MLD shall update its TTLM according to the rules that establish a TTLM in this subclause and with the consequences of the updated mapping defined in 35.3.7.2.1 unless the current TTLM for the non-AP MLD is a negotiated TTLM and the enabled link set in the current mapping is a subset of the enabled link set in the advertised mapping.

A non-AP MLD applies the advertised TTLM only to the links that it has setup with the AP MLD during ML setup.

An individually negotiated TTLM whose negotiation was completed prior to the establishment of an advertised TTLM shall be discarded at the time of the establishment of the advertised TTLM if the enabled link set in the advertised TTLM is a subset of the enabled link set in the negotiated TTLM.

NOTE 4—A non-AP MLD ignores links that are included in the link mappings of an advertised TTLM that are not part of the non-AP MLD ML setup procedure. For example, if the AP MLD operates on links 1, 2, and 3, and it advertises that link 3 is disabled and all TIDs are mapped to links 1 and 2, then for a non-AP MLD that is associated with the AP MLD using links 1 and 2 the default mapping will apply. In this case, for a non-AP MLD that is associated with the AP MLD using links 1 and 3, link 3 will be disabled.

NOTE 5—In absence of an advertised mapping by the AP a default TTLM is assumed unless an individual TTLM is successfully negotiated.

A non-AP MLD shall not transmit a response frame to acknowledge the reception of an advertised TTLM.

A non-AP MLD that is associated with an AP MLD that advertises a TTLM may initiate a negotiation as described in 35.3.7.2.3 for a TTLM that is different from the TTLM established from the advertisement as described in this subclause. The non-AP MLD or the AP MLD shall not initiate a negotiation for a TTLM that maps a TID to a link if the requested TID is not already mapped to the link in the advertised TTLM.

An example of TTLM frame exchange involving advertised mapping is shown in AH.6.

### 35.3.7.3 Dynamic link transitions

A non-AP MLD may use the power states of its affiliated non-AP STAs (see 35.3.12.1) to dynamically change the link(s) on which it operates. An example of link transition operation by a single-radio non-AP MLD using power states is shown in AH.9.2.

### 35.3.7.4 Link recommendation

An AP affiliated with an AP MLD may schedule for transmission a Link Recommendation frame to provide link recommendation for a set of non-AP MLDs as follows:

- The bit corresponding to the AID of a non-AP MLD shall be set to 1 in the Partial AID Bitmap subfield of the AID Bitmap element in the Link Recommendation frame if the AP intends to provide a link recommendation for this non-AP MLD.
- The Multi-Link Traffic Indication element includes Per-Link Traffic Indication Bitmap  $n$  subfield(s), in the Per-Link Traffic Indication List field, which correspond(s) to the AID(s) of the non-AP MLD(s), starting from the bit number  $k$  of the Partial AID Bitmap subfield of the AID Bitmap element carried in the Link Recommendation frame. The AID Offset subfield of the Multi-Link Traffic

Indication Control field of the Multi-Link Traffic Indication element contains the value  $k$ . The order of the Per-Link Traffic Indication Bitmap  $n$  subfield(s) follows the order of the bits that are set to 1 in the Partial AID Bitmap subfield of the AID Bitmap element carried in the Link Recommendation frame that corresponds to the AID(s) of the non-AP MLD(s). The bit position  $i$  of the Per-Link Traffic Indication Bitmap  $n$  subfield in the Multi-Link Traffic Indication element that corresponds to the link with the Link ID subfield equal to  $i$  on which a non-AP STA affiliated with the non-AP MLD is operating shall be set to 1 to indicate to the non-AP MLD that it should exchange frames on this link both in DL and UL, while following the TTLM rules defined in 35.3.7.2.1.

- A link shall not be recommended by the AP MLD for a non-AP MLD if the link is disabled for the non-AP MLD (see 35.3.7.2.1).
- The Address 1 field of the Link Recommendation frame shall be set to the broadcast address.

NOTE—One or more links can be recommended by the AP MLD to a non-AP MLD.

If a non-AP MLD receives a Link Recommendation frame with the bit corresponding to its AID set to 1 in the Partial AID Bitmap subfield of the AID Bitmap element in the Link Recommendation frame, it should exchange frames both in DL and UL on enabled links identified as recommended in the Multi-Link Traffic Indication element in the Link Recommendation frame, while following the TTLM rules defined in 35.3.7.2.1.

### 35.3.7.5 Affiliated AP link disablement and enablement

#### 35.3.7.5.1 General

An AP MLD shall use the procedures described in 35.3.7.2.4 in order to disable or enable a link for all associated non-AP MLDs. Further rules pertaining to the disablement and enablement are described in the subclauses below.

#### 35.3.7.5.2 Affiliated AP link disablement

Upon receiving an MLME-BSS-LINK-DISABLE.request primitive, each of the APs affiliated with an AP MLD shall advertise a TTLM in transmitted Beacon and Probe Response frames that does not map any TIDs to the link on which the AP that corresponds to the BSSID parameter indicated in that primitive is operating. If there is no currently advertised nondefault TTLM, the Mapping Switch Time field of the advertised TTLM shall point to the same time as indicated in the DisableTimer parameter of the MLME-BSS-LINK-DISABLE.request primitive.

Alternatively, if there is a currently advertised nondefault TTLM, upon receiving an MLME-BSS-LINK-DISABLE.request primitive, each of the APs affiliated with an AP MLD shall advertise an additional TTLM in transmitted Beacon and Probe Response frames that does not map any TIDs to the link on which the AP that corresponds to the BSSID parameter indicated in that primitive is operating and that will take effect after the expiry of the time indication in the Expected Duration field of the currently advertised TTLM. In this case, the duration indicated in the DisableTimer parameter of the MLME-BSS-LINK-DISABLE.request primitive may be used to update the Expected Duration field of the currently advertised TTLM according to the rules defined in 35.3.7.2.4.

The Expected Duration field of the advertised TTLM shall indicate the same duration as the ExpectedDuration parameter of the MLME-BSS-LINK-DISABLE.request primitive.

Additionally, if there are associated non-MLD non-AP STAs that support BSS transition capability, the affiliated AP that is operating on the link advertised as to become disabled shall perform the following, in order to indicate the imminent disassociation of these non-AP STAs:

1. The affiliated AP shall follow the procedure in 11.21.7.3 (BSS transition management request) with the BSS Transition Management Request frame fields set as follows:
   - The Disassociation Imminent and Link Removal Imminent fields of the Request Mode field are set to 1, the BSS Termination Included field is set to 0, the Preferred Candidate List Included field is set according to 9.6.13.9 if the BSS Transition Candidate List Entries field is included, and other fields of the Request Mode field are set to 0.
   - The Disassociation Timer field is set to the number of TBTTs of the affiliated AP before it transmits Disassociation frame(s) to the non-MLD non-AP STA(s) receiving the BSS Transition Management Request frame. The Disassociation Timer field value shall point to a TBTT at or later than the time pointed to by the value of the Mapping Switch Time field for the advertised TID-To-Link Mapping element.
   - The BSS Transition Candidate List Entries field, which contains one or more Neighbor Report elements, may be included to provide a BSS transition candidate list.
   - No other optional fields shall be present in the BSS Transition Management Request frame.
2. The affiliated AP shall start a disassociation timer with the initial value set to the value of the Disassociation Timer field, and shall decrement the timer by one after transmitting each Beacon frame, until the timer has the value of 0. The Disassociation Timer field in all subsequent transmitted BSS Transition Management Request frames shall be set to the value of this timer.
3. Once the disassociation timer is 0, the affiliated AP should follow the procedure detailed in 11.3.5.8.2 to disassociate all associated non-MLD non-AP STAs (i.e., that are not affiliated with a non-AP MLD) and operating on the link to be disabled. The affiliated AP shall not transmit Disassociation frames until the disassociation timer is 0.

NOTE—The BSS Transition Management Request frame(s) may be broadcast addressed or individually addressed (see 11.21.7.3). In case of broadcast BTM Request frame with BSS Termination Included field set to 0 and Link Removal Imminent field set to 1, the associated non-AP MLD might ignore the imminent disassociation indicated by the received (broadcast) BTM request frame (see 9.6.13.9).

An AP affiliated with an AP MLD that intends to turn its operating link into a disabled link should follow the procedure described in 11.3.5.8.2 to disassociate all associated non-MLD non-AP STAs that do not support BSS transition capability and operating on the link to be disabled, prior to the time indicated by the Mapping Switch Time field.

When an AP MLD advertises that a link is disabled for all associated non-AP MLDs, after the time indicated by the Mapping Switch Time field is reached:

- The Disabled Link Indication subfield shall be set to 1 in the MLD Parameters subfield of the TBTT Information field corresponding to the AP affiliated with the AP MLD where the affiliated AP operates on the link that is being disabled and is contained in the Reduced Neighbor Report element carried in the Beacon or Probe Response frames transmitted by:
  - Any of the APs affiliated with the same AP MLD as the AP that operates on the link that is being disabled and
  - Any APs that have set the Co-Located AP subfield of the BSS Parameters subfield of the TBTT Information field to 1 for the affiliated AP that operates on the link that is being disabled.

If the Disabled Link Indication subfield corresponding to a reported AP is set to 1, then the Neighbor AP TBTT Offset subfield included in the same TBTT Information field of the Reduced Neighbor Report element shall be set to 255.

- A non-AP STA affiliated with a non-AP MLD that is associated with the AP MLD shall not use the link to transmit individually addressed frames to the AP affiliated with the AP MLD that is operating on a link that is disabled.
- A non-AP STA affiliated with a non-AP MLD that is not associated with the AP MLD shall not transmit multi-link probe request, Authentication, and (Re)association Request frames to the AP affiliated with the AP MLD while the link is disabled (as indicated in the Expected Duration field in

the advertised TID-To-Link Mapping element that does not include Mapping Switch time field, or as indicated in the Disabled Link Indication subfield in the Reduced Neighbor Report element).

- A non-AP STA affiliated with a non-AP MLD that is not associated with the AP MLD should not use the link to transmit other individually addressed Management frames to the AP affiliated with the AP MLD that is operating on a link that is disabled.
- If not all the setup links of an non-AP MLD are disabled (as advertised by the AP MLD), a non-AP STA affiliated with the non-AP MLD shall not delete the GTK/IGTK/BIGTK values corresponding to the affiliated AP operating on the link that will be disabled.
- The AP affiliated with an AP MLD that is operating on that link shall not transmit any frame to any of the non-AP STAs affiliated with its associated non-AP MLD (see 35.3.7.2.1).

**NOTE 2**—When an AP MLD advertises that a link is disabled for all associated non-AP MLDs, a non-AP MLD remains associated with the AP MLD unless the non-AP MLD has one or more setup links with the AP MLD and all these links are advertised as disabled.

**NOTE 3**—The AP affiliated with an AP MLD that is operating on the link that will be disabled might disassociate or use a BSS Transition Management Request frame for non-AP STAs not affiliated with an MLD.

**NOTE 4**—The non-AP MLD uses the GTK/IGTK/BIGTK for the reception of protected group addressed Management frames when the link becomes enabled again.

When an AP MLD has advertised one or more links to be disabled using an advertised TTLM transmitted in Beacon and Probe Response frames, and the time indicated by the Mapping Switch Time field has reached, the MLME of a non-AP MLD that has all the setup links with the AP MLD operating on disabled links, shall issue an MLME-DISASSOCIATE.indication primitive to inform the SME for the disassociation of the non-AP MLD. The MLME-DISASSOCIATE.indication reason code should be set to any value except configuration or parameter mismatch, to follow the procedure defined in 11.3.5.7.

**NOTE 5**—If a non-AP MLD has one or more setup links with the AP MLD and the AP MLD advertises the upcoming disassociation of these one or more links, the non-AP MLD can maintain association with the AP MLD by performing an ML reconfiguration operation (see 35.3.6.4) to switch its link with the AP MLD to a link that is not disabled or not due to be disabled.

### 35.3.7.5.3 Affiliated AP link enablement

When an AP MLD receives the MLME-BSS-LINK-ENABLE.request primitive each AP that is affiliated with the AP MLD and is operating on an enabled link shall stop advertising, in transmitted Beacon and Probe Response frames the TTLM that indicates no TIDs mapped to the link on which the AP that corresponds to the BSSID parameter indicated in the primitive is operating after the expiry of the time indicated by the Expected Duration field advertised in an existing TTLM. In this case, the duration indicated by the EnableTimer parameter of the MLME-BSS-LINK-ENABLE.request primitive may be used to update the Expected Duration field in the currently advertised TTLM according to the rules defined in 35.3.7.2.4.

When replacing the current advertised TTLM that indicates one or more links are disabled by an advertised TTLM that indicates one or more of those links are enabled, two nondefault TTLMs shall be advertised in Beacon and Probe Response frames according to the rules defined in 35.3.7.2.4.

When an AP MLD stops advertising that a link is disabled for all associated non-AP MLDs:

- The Disabled AP Link Indication subfield shall be set to 0 in the MLD Parameters subfield corresponding to the AP affiliated with the AP MLD and operating on the link that is included in the Neighbor AP Information field in the Reduced Neighbor Report element carried in the Beacon or Probe Response frames transmitted by any of the APs affiliated with the AP MLD
- The AP operating on this link shall retain unchanged GTK/IGTK/BIGTK keys as before this link was advertised as disabled for all associated non-AP MLDs

- The AP operating on this link shall transmit a TSF that is equivalent to the expected TSF if this link was never advertised as disabled
- Frame exchange operation on this link between the affiliated AP and non-AP STAs affiliated with the associated non-AP MLDs that include the enabled link in their ML setup can be initiated by any member of the BSS that is affiliated with an MLD only if CCA is performed until a frame is detected by which it can set its NAV, or a period equal to NAVSyncDelay has transpired, whichever is earlier. The frame exchange is initiated using all the link parameters that were defined before the link has been advertised as a disabled link, subject to power state (see 35.3.12) and enablement status (see 35.3.7.2) of the affiliated non-AP EHT STA.

NOTE 1—An equivalent TSF is desirable for maintaining TWT agreements. An equivalent TSF might be implemented at the AP MLD by determining the difference between the TSF of the disabled AP minus the TSF of another affiliated AP when the link is disabled and then initializing the TSF of the AP when later enabled to the TSF of the other affiliated AP plus the difference.

NOTE 2—After the enablement of an AP link is established, if there is no TLLM advertised, the associated non-AP MLD with affiliated non-AP STA operating on that link follows the rules defined in 35.3.7.2.4.

### 35.3.8 Block ack procedures in MLO

An MLD shall follow the mechanisms defined in 11.5 and 35.4 with additional rules defined in this subclause for block ack operation.

For each TID, there shall not be more than one block ack agreement established between two MLDs and the agreement shall apply to all the links that the TID is mapped to (i.e., there are no independent block ack agreements for each TID on a per-link basis).

In this subclause, the MLD with data to send using the block ack mechanism is referred to as the originator MLD, and the MLD that is the intended recipient of that data is referred to as the recipient MLD.

To setup a block ack agreement between two MLDs, an originator MLD shall send, through any affiliated STA operating on an enabled link, an ADDBA Request frame to the recipient MLD, subject to the power state of the non-AP STA operating on that link. The ADDBA Request frame shall indicate the TID for which the block ack agreement is being set up. Upon receiving an ADDBA Request frame, the recipient MLD shall respond through any affiliated STA operating on an enabled link, with an ADDBA Response frame subject to the power state of the non-AP STA operating on that link. The recipient MLD has the option of accepting or rejecting the request. If the recipient MLD accepts the request, then a block ack agreement is established between the originator MLD and the recipient MLD for the TID specified in the ADDBA frames as defined in 10.25.2.

NOTE 1—An originator MLD can attempt a retransmission of an ADDBA Request frame on any enabled link. A recipient MLD can attempt a retransmission of an ADDBA Response frame on any enabled link.

When two MLDs have established a block ack agreement between them for a certain TID, then QoS Data frames belonging to that TID may be exchanged between the two MLDs on any link that the TID is mapped to following the procedures described in 35.3.7.2 and 35.3.12.

An originator MLD shall maintain a single common transmit buffer control that uses *WinStartQ* and *WinSizeQ* (see 10.25.6.7) for each block ack agreement negotiated with the recipient MLD to submit MPDUs for transmission across links subject to TLLM restriction (see 35.3.7). An originator MLD shall release the transmit buffer associated with a successfully received MPDU upon reception of the BlockAck frame that indicates the reception of that MPDU.

In a block ack agreement between two MLDs, the buffer size is indicated based on the Buffer Size subfield (of the Block Ack Parameter Set field) together with the Extended Buffer Size field (when ADDBA Extension element is included).

**NOTE 2**—The ADDBA Extension element is optionally present in an ADDBA Request or ADDBA Response frame (see 9.6.4). When a block ack agreement is negotiated between two MLDs, if the ADDBA Extension element is present, then the total buffer size is computed as described in 9.4.2.138.

During the block ack agreement establishment, the Block Ack Timeout field and buffer size indicated in the ADDBA Request frame are advisory.

When a block ack agreement is established between two MLDs, the originator may change the size of its transmission window ( $WinSize_O$ ) provided the transmission window meets the following conditions:

- Is not greater than the buffer size indicated in the ADDBA Response frame.
- Is not greater than 1024.

If the buffer size indicated in the ADDBA Response frame is smaller than the buffer size indicated in the ADDBA Request frame, the originator shall change the size of its transmission window ( $WinSize_O$ ) such that:

- The transmission window is not greater than the buffer size indicated in the ADDBA Response frame.
- The transmission window is not greater than 1024 if the sender and the receiver of the ADDBA Response frame are MLDs.

A STA affiliated with a recipient MLD shall provide, to the STA affiliated with the originator MLD that is operating on the same link, the reception status for any MPDU, with an ack policy other than No Ack, that is received on the link on which the STA affiliated with the recipient MLD is operating. When a TID is mapped to more than one link, a STA affiliated with a recipient MLD may provide reception status (if available) to the STA affiliated with the originator MLD that is operating on the same link, indicating successful reception of any MPDU that belongs to that TID and has an ack policy other than No Ack and that is received by a STA affiliated with the recipient MLD that is operating on a different link.

An originator MLD shall update the reception status of an MPDU in its transmit buffer corresponding to a block ack agreement if the received status indicates successful reception.

An originator MLD shall not update the reception status of an MPDU in its transmit buffer corresponding to a block ack agreement that has already been acknowledged as successful.

A recipient MLD shall maintain a single common receive reordering buffer for each  tuple under a block ack agreement, independent of the number of links that are setup. The receive reordering buffer shall be responsible for reordering MSDUs or A-MSDUs so that MSDUs or A-MSDUs are eventually passed up to the next MAC process in the order of received sequence number. It shall also be responsible for identifying and discarding duplicate frames (i.e., frames that have the same sequence number as a currently buffered frame) that are part of this block ack agreement. It shall maintain its own state independent of the scoreboard context control to perform this reordering as specified in 10.25.6.6 (Receive reordering buffer control operation). Each received MPDU shall be analyzed by the scoreboard context control as well as by the receive reordering buffer control. The bitmap corresponding to each scoreboard context control shall have the same size,  $WinSize_R$ , as the smaller of the bitmap length and the buffer size indicated in the ADDBA Response frame.

For each  tuple under a block ack agreement, a recipient MLD shall have one of the following modes of operation:

- Maintain an independent scoreboard context control and partial state operation at each STA affiliated with the MLD operating on the link where the TID is mapped to, or
- Have a common (single) scoreboard context control maintained by the MLD with partial state operation on each setup link where the TID is mapped to, or
- Have a common (single) scoreboard context control maintained by the MLD with full state operation on each setup link where the TID is mapped to.

NOTE 3—A peer MLD is identified based on its MLD MAC address.

If a recipient MLD has independent scoreboard context control at an affiliated STA (i.e., the STA is not able to be in sync with the information at the common reordering buffer or the information at another STA affiliated with the same MLD to update its local scoreboard context), then the affiliated STA shall implement partial state operation and should discard the temporary record after the end of the current TXOP.

NOTE 4—If a recipient MLD has independent scoreboard context control at an affiliated STA (STA 1), then STA 1's  $WinStart_R$  might not be within  $2^{11}$  of the  $WinStart_R$  at another affiliated STA (STA 2) of the same MLD. As a result, STA 1 can fail to accurately update the scoreboard context and hence, might provide an incorrect reception status for an MPDU received in a subsequent TXOP. Therefore, it is recommended that STA 1 discards its temporary record in a timely manner. If the affiliated STA can be in sync with the latest information at another STA affiliated with the same MLD, then it does not have to discard the temporary record at the end of the current TXOP.

NOTE 5—A STA affiliated with the originator MLD is expected to solicit an immediate BA within the TXOP by following 10.25.6.9 to reduce the probability that MPDUs are unnecessarily retransmitted.

NOTE 6—An originator MLD takes into account the SN of outstanding MPDU(s) on all enabled links when selecting the value to be carried in the SSN field of a BAR frame.

If two MLDs have successfully negotiated a protected block ack agreement, they shall follow the procedure described in 10.25.7. In a protected block ack agreement between two MLDs, the originator MLD shall transmit a PBAC WinStart Update frame, via its affiliated STA that is operating on an enabled link to which the TID belonging to the block ack agreement is mapped, to advance the  $WinStart_R$  and  $WinStart_B$  at the recipient MLD.

A block ack agreement between two MLDs may be torn down if there are no BlockAck, BlockAckReq or MPDUs received from the peer under the block ack agreement on any setup link(s) on which the TID for the block ack agreement is mapped for the direction matching the block ack agreement, within a duration of block ack timeout value (see 11.5.4).

### 35.3.9 Fragmentation in MLO

A STA affiliated with an MLD shall not use the nondynamic fragmentation procedure described in 10.4 (MSDU, A-MSDU, and MMPDU fragmentation).

### 35.3.10 BSS parameter critical update procedure

An AP (reporting AP) affiliated with an AP MLD that is not in a multiple BSSID set or that corresponds to a transmitted BSSID in a multiple BSSID set shall:

- include in Beacon and Probe Response frames it transmits a BSS Parameters Change Count subfield for each of all APs affiliated with the same AP MLD as the reporting AP, and include in a (Re)Association Response frame it transmits a BSS Parameters Change Count subfield for each of all APs that are requested for (re)setup in the received (Re)Association Request frame.
- The BSS Parameters Change Count subfield value for each AP is initialized to 0, and shall be incremented (modulo 256 excluding the value 255) by 1 when a critical update occurs to the BSS parameters of that AP as defined in 11.2.3.14.

- In Beacon and Probe Response frames, the BSS Parameters Change Count subfield for each of the other AP(s) affiliated with the AP MLD shall be carried in the MLD Parameters subfield in the TBTT Information field of the Reduced Neighbor Report element corresponding to that AP where each of the other AP(s) is identified by the Link ID subfield of the MLD Parameters subfield.
- In the (Re)Association Response frame, the BSS Parameters Change Count subfield for each of the other AP(s) that are affiliated with the AP MLD and that are requested for (re)setup in the received (Re)Association Request frame shall be carried in the STA Info subfield in the Per-STA Profile subelement of Basic Multi-Link element corresponding to that AP where each of the other AP(s) is identified by the Link ID subfield of the STA Control field of the Per-STA Profile subelement.
- The BSS Parameters Change Count subfield for the reporting AP shall be carried in the Common Info field of the Basic Multi-Link element where the reporting AP is identified by the Link ID subfield of the Common Info field.
- Set the Critical Update Flag subfield of the Capability Information field to 1 in Beacon and Probe Response frames until and including the next DTIM beacon on the link on which the reporting AP is operating if at least one of the following conditions is met:
  - There is a change to a value carried in the BSS Parameters Change Count subfield of the MLD Parameters field in the Reduced Neighbor Report element for any AP affiliated with the same AP MLD as the reporting AP or a value carried in the BSS Parameters Change Count subfield in the Common Info field of the Basic Multi-Link element.
  - A new affiliated AP is added to the AP MLD with which the reporting AP is affiliated following the procedure defined in 35.3.6.2.
  - A Reconfiguration Multi-Link element is included or modified by adding a new Per-STA Profile subelement by the reporting AP affiliated with an AP MLD, following the procedure defined in 35.3.6.3.
  - An AP affiliated with the same AP MLD as the reporting AP becomes disabled or enabled through a new advertised TTLM defined in 35.3.7.2.4.

Otherwise, set the Critical Update Flag subfield of the Capability Information field to 0.

- For each reported AP affiliated with the same AP MLD as the reporting AP, set the All Updates Included subfield to 1 in the MLD Parameters subfield in the TBTT Information field of the Reduced Neighbor Report element corresponding to the reported AP if the updated elements that correspond to the latest critical update that generated a change to the value carried in the BSS Parameters Change Count subfield for the reported AP are included in the frame carrying the Reduced Neighbor Report element, with the updated elements selected from the elements as described in 35.3.11, and until the updated elements are no longer included or until the BSS Parameters Change Count subfield is additionally incremented due to another critical update, and set to 0 otherwise.

If an AP affiliated with an AP MLD is a nontransmitted BSSID in a multiple BSSID set, then the AP that corresponds to the transmitted BSSID in the same multiple BSSID set shall

- Include in Beacon and Probe Response frames it transmits a BSS Parameters Change Count subfield for each of all APs affiliated with the same AP MLD as the AP corresponding to the nontransmitted BSSID.
- The BSS Parameters Change Count subfield value for each AP is initialized to 0, and shall be incremented (modulo 256 excluding the value 255) by 1 when a critical update occurs to the operational parameters of that AP as defined in 11.2.3.14.
- The BSS Parameters Change Count subfield for each of the other AP(s) affiliated with the AP MLD shall be carried in the MLD Parameters subfield in the TBTT Information field of the Reduced Neighbor Report element corresponding to that AP where each of the other AP(s) is identified by the Link ID subfield of the MLD Parameters subfield.
- The BSS Parameters Change Count subfield for the nontransmitted BSSID shall be carried in the Common Info field in the Basic Multi-Link element carried in Nontransmitted BSSID Profile

subelement of the Multiple BSSID element where the AP corresponding to the nontransmitted BSSID is identified by the Link ID subfield of the Common Info field in the Basic Multi-Link element in a Probe Response frame that is not a multi-link probe response.

- The BSS Parameters Change Count subfield for the nontransmitted BSSID shall be carried in the Common Info field in the Basic Multi-Link element outside the Multiple BSSID element where the AP corresponding to the nontransmitted BSSID is identified by the Link ID subfield of the Common Info field in the Basic Multi-Link element in a multi-link probe response.
- Set the Critical Update Flag subfield of the Nontransmitted BSSID Capability field in the Nontransmitted BSSID Capability element (for that nontransmitted BSSID) to 1 in Beacon and Probe Response frames until and including the next DTIM beacon of the nontransmitted BSSID if at least one of the following conditions is met:
  - There is a change to a value carried in the BSS Parameters Change Count subfield of the MLD Parameters field in the Reduced Neighbor Report element for any AP affiliated with the same AP MLD as the AP corresponding to the nontransmitted BSSID or a value carried in the BSS Parameters Change Count subfield corresponding to the nontransmitted BSSID in the Common Info field of the Basic Multi-Link element.
  - A new affiliated AP is added to the AP MLD with which the nontransmitted BSSID is affiliated following the procedure defined in 35.3.6.2.
  - A Reconfiguration Multi-Link element is included or modified by adding a new Per-STA Profile subelement by the reporting AP in the Nontransmitted BSSID Profile corresponding to the nontransmitted BSSID affiliated with an AP MLD, following the procedure defined in 35.3.6.3.
  - An AP affiliated with the AP MLD with which the nontransmitted BSSID is affiliated becomes disabled or enabled through a new advertised TLLM defined in 35.3.7.2.4.

Otherwise, set the Critical Update Flag subfield of the Nontransmitted BSSID Capability field to 0.

- For each reported AP affiliated with the same AP MLD as the AP corresponding to the nontransmitted BSSID, set the All Updates Included subfield to 1 in the MLD Parameters subfield in the TBTT Information field of the Reduced Neighbor Report element corresponding to the reported AP if all the updated elements that correspond to the latest critical update that generated a change to the value carried in the BSS Parameters Change Count subfield for the reported AP are included in the frame carrying the Reduced Neighbor Report element, with the updated elements selected from the five elements described in 35.3.11, and until the updated elements are no longer included or until the BSS Parameters Change Count subfield is additionally incremented due to another critical update, and set to 0 otherwise.
- Set the Nontransmitted BSSIDs Critical Update Flag subfield of the Capability Information field to 1 in a Beacon frame and a Probe Response frame it transmits if the Critical Update Flag subfield of the Nontransmitted BSSID Capability field is set to 1 in at least one nontransmitted BSSID profile in the Multiple BSSID element in the same frame. Otherwise, set the Nontransmitted BSSIDs Critical Update Flag subfield to 0. The flag is set to 1 until and including the later of the DTIM beacon amongst the nontransmitted BSSIDs having the Critical Update Flag subfield of the Nontransmitted BSSID Capability field set to 1.

An AP affiliated with an AP MLD corresponding to a nontransmitted BSSID in a multiple BSSID set shall include in the (Re)Association Response frame it transmits a BSS Parameters Change Count subfield for each of all APs that are affiliated with the AP MLD and that are requested for (re)setup in the received (Re)Association Request frame.

- The BSS Parameters Change Count subfield for each of the other AP(s) affiliated with the AP MLD shall be carried in the STA Info subfield in the Per-STA Profile subelement of Basic Multi-Link element corresponding to that AP where each of the other AP(s) is identified by the Link ID subfield of the STA Control field of the Per-STA Profile subelement.
- The BSS Parameters Change Count subfield for the nontransmitted BSSID shall be carried in the Common Info field in the Basic Multi-Link element where the AP corresponding to the

nontransmitted BSSID is identified by the Link ID subfield of the Common Info field in the Basic Multi-Link element.

**NOTE 1**—In a multiple BSSID set, an AP corresponding to the nontransmitted BSSID responds to a (Re)Association Request frame by transmitting a (Re)Association Response frame that does not include the Multiple BSSID element. The Basic Multi-Link element carried in the (Re)Association Response frame transmitted by an AP affiliated with an AP MLD carries information of the AP MLD and a complete profile of other AP(s) affiliated with the same MLD.

A non-AP MLD shall maintain a record of the most recently received BSS Parameters Change Count subfield value for each associated AP affiliated with the AP MLD.

When a non-AP STA affiliated with a non-AP MLD receives a BSS Parameters Change Count subfield for a certain AP that is affiliated with an AP MLD with which the non-AP MLD has performed an ML setup and that operates on the link that is part of the ML setup, and the value of the BSS Parameters Change Count subfield for the AP is different from the previously received value, then the non-AP MLD shall follow one of the following mechanisms:

- The non-AP STA affiliated with the non-AP MLD that is associated with the AP attempts to receive a Beacon frame or a Probe Response frame from the AP.
- Any non-AP STA affiliated with the non-AP MLD attempts to send a Probe Request frame to its associated AP soliciting information of the AP.

Except that if the value in the BSS Parameters Change Count subfield is equal to the most recently received value recorded by the non-AP MLD for that AP plus 1 and if the All Updates Included subfield in the MLD Parameters subfield in the TBTT Information field of the Reduced Neighbor Report element corresponding to the AP is set to 1, no further action is needed from the non-AP MLD as the updated elements are included in the received frame.

**NOTE 2**—The Probe Request frame can be either a multi-link probe request or a Probe Request frame that is not multi-link probe request.

The AP affiliated with an NSTR mobile AP MLD and that is operating on the nonprimary link does not send a Beacon frame or respond to a Probe Request frame. The BSS Parameters Change Count subfield for the AP operating on the nonprimary link shall only be advertised on the primary link in the MLD Parameters subfield in the TBTT Information field of the Reduced Neighbor Report element corresponding to that AP.

An example of critical update operation in MLO is shown in AH.7.

### 35.3.11 ML procedures for (extended) channel switching and channel quieting

In this subclause, the term affected AP is used to identify an AP that is subject to channel switching, extended channel switching, and channel quieting among all the APs that are affiliated with an AP MLD.

**NOTE 1**—The corresponding procedure for an NSTR Mobile AP MLD is described in 35.3.19.3.

If an AP (affected AP) affiliated with an AP MLD includes any of the following applicable elements outside the Basic Multi-Link element in the Beacon frame, Probe Response frame or (Extended) Channel Switch Announcement frame it transmits:

- Channel Switch Announcement element
- Extended Channel Switch Announcement element
- Max Channel Switch Time element
- Quiet element corresponding to quiet intervals other than quiet intervals scheduled to protect R-TWT SPs (see 35.8.4.2)
- Quiet Channel element

then one of the following shall apply if other APs are affiliated with the same AP MLD as the affected AP:

- If another AP (reporting AP), affiliated with the same AP MLD as the affected AP, does not correspond to a nontransmitted BSSID, then the reporting AP shall carry the corresponding element(s) in the STA Profile field of the Per-STA Profile subelement corresponding to the affected AP contained in the Basic Multi-Link element included in the Beacon frame and Probe Response frame that it transmits.
- If another AP (reporting AP), affiliated with the same AP MLD as the affected AP, corresponds to a nontransmitted BSSID in a multiple BSSID set, then the AP corresponding to the transmitted BSSID in the same multiple BSSID set shall carry the corresponding element(s) in the Multiple BSSID element included in the Beacon frame and Probe Response frame that it transmits. Specifically, the corresponding element(s) shall be included in the STA Profile field of the Per-STA Profile subelement corresponding to the affected AP that is contained in the Basic Multi-Link element corresponding to the AP MLD and is included in the nontransmitted BSSID profile corresponding to the reporting AP.

and

- The timing fields in the Channel Switch Announcement element, the Extended Channel Switch Announcement element, the Quiet element, and the Quiet Channel element shall be applied in reference to the most recent TBTT and Beacon Interval indicated in the corresponding element(s) of the affected AP and not to the TBTT and Beacon Interval of the reporting AP.

NOTE 2—The affected AP can correspond to a transmitted BSSID in a multiple BSSID set or an AP with dot11MultiBSSIDImplemented equal to false. The case where the affected AP corresponds to nontransmitted BSSID in a multiple BSSID set is covered in the next normative requirement paragraph.

NOTE 3—The Switch Time field in the Max Channel Switch Time element carried in the per-STA profile of the reported AP is not tied to a TBTT on the affected link. Instead, it provides an estimated time when the first Beacon frame will be transmitted on the new channel of the affected link after the channel switch has occurred.

NOTE 4—For the Beacon and Probe Response frames all five elements are applicable. For the (Extended) Channel Switch Announcement frame, the applicable elements include the Channel Switch Announcement, Extended Channel Switch Announcement, and Max Channel Switch Time elements.

If an AP corresponding to the transmitted BSSID in a multiple BSSID set includes any of the following elements in the Beacon frame or Probe Response frame it transmits so that any of these elements is inherited for the affected AP in these frames:

- Channel Switch Announcement element
- Extended Channel Switch Announcement element
- Max Channel Switch Time element
- Quiet element corresponding to quiet intervals other than quiet intervals scheduled to protect R-TWT SPs (see 35.8.4.2)
- Quiet Channel element

and if the affected AP corresponding to a nontransmitted BSSID in the same multiple BSSID set is affiliated with an AP MLD with at least another AP, then one of the following shall apply:

- If another AP (reporting AP), affiliated with the same AP MLD, does not correspond to a nontransmitted BSSID, then it shall carry the corresponding element(s) in the STA Profile field of the Per-STA Profile subelement corresponding to the affected AP contained in the Basic Multi-Link element included in a Beacon frame and Probe Response frame that it transmits.
- If another AP (reporting AP), affiliated with the same AP MLD as the affected AP, corresponds to a nontransmitted BSSID in a multiple BSSID set, the AP corresponding to the transmitted BSSID in the same multiple BSSID set shall carry the corresponding element(s) in the Multiple BSSID element included in the Beacon frame and Probe Response frame that it transmits. Specifically, the corresponding element(s) are included in the STA Profile field of the Per-STA Profile subelement

corresponding to the affected AP that is contained in the Basic Multi-Link element corresponding to the AP MLD and is included in the nontransmitted BSSID profile corresponding to the reporting AP.

and

— The timing fields in the Channel Switch Announcement element, the Extended Channel Switch Announcement element, the Quiet element, and the Quiet Channel element shall be applied in reference to the most recent TBTT and Beacon Interval included in the corresponding element(s) of the affected AP and not with respect to the TBTT and Beacon Interval of the reporting AP.

If an AP (affected AP) affiliated with an AP MLD is switching channel, the Channel Switch Announcement element, or the Extended Channel Switch Announcement element with the Channel Switch Count field set to a nonzero value, and the Max Channel Switch Time element shall be included in every Beacon and Probe Response frames on all links of the AP MLD from the time the affected AP includes the elements in the Beacon frame it transmits until the estimated target switch time. After the estimated target switch time, the Channel Switch Announcement element and the Extended Channel Switch Announcement element shall not be included in the per-STA profile corresponding to the affected AP in the Beacon and Probe Response frames and the Max Channel Switch Time element shall be included in the per-STA profile of the affected AP in every Beacon and Probe Response frames on all links of the AP MLD, except the link corresponding to the affected AP, until the affected AP resumes BSS operation on the new channel. The value carried in the Switch Time field in the Max Channel Switch Time element indicates the adjusted estimated time of the first Beacon frame transmitted on the new channel of the affected link after the channel switch has occurred.

NOTE 5—The Switch Time field in the Max Channel Switch Time element is not tied to a TBTT on the affected link.

NOTE 6—The reporting AP might increase the value carried in the Switch Time field of the Max Channel Switch Time element if the affected AP performs a subsequent channel switch between the target time of a previous channel switch and the time at which the affected AP will start beaconing on the new channel corresponding to the previous channel switch.

When an AP (affected AP) affiliated with an MLD is switching from an initial operating class/channel to a target operating class/channel at a target switch time using channel switch announcement procedure or extended channel switch announcement procedure, and if another AP is affiliated with the same AP MLD as the affected AP, then:

— The other AP (reporting AP) affiliated with the AP MLD shall set the Operating Class and Channel Number fields corresponding to the affected AP that is reported in the Reduced Neighbor Report element in Beacon and Probe Response frames it transmits (or that the transmitted BSSID in the same multiple BSSID set as the reporting AP transmits if the reporting AP corresponds to a nontransmitted BSSID) to the initial operating class/channel before the target switch time,

— The other AP (reporting AP) affiliated with the AP MLD shall set the Operating Class and Channel Number fields corresponding to the affected AP that is reported in the Reduced Neighbor Report element in Beacon and Probe Response frames it transmits (or that the transmitted BSSID in the same multiple BSSID set as the reporting AP transmits if the reporting AP corresponds to a nontransmitted BSSID) to the target operating class/channel at and after the target switch time,

— Between the target switch time and the time at which the AP will start beaconing in the target operating class/channel, the Neighbor AP TBTT Offset subfield for the corresponding AP in the Reduced Neighbor Report element shall be set to 255.

NOTE 7—The reporting AP might change the Operating Class and Channel Number fields corresponding to the affected AP after the target switch time if the affected AP performs a subsequent channel switch.

If an AP (affected/reported AP) affiliated with an AP MLD is switching from an initial operating class/channel to a target operating class/channel at a target switch time using channel switch announcement or extended channel switch announcement procedure and includes a Max Channel Switch Time element in the Beacon and Probe Response frames it sends, and another AP (reporting AP) affiliated with the AP MLD, if

any, receives a (Re)Association Request frame to perform ML setup with the AP MLD with the AP (affected/reported AP) as a requested link, then the other AP (reporting AP) shall include the complete profile for the AP indicating the target operating class/channel and a Max Channel Switch Time element in the per-STA profile corresponding to the AP (affected/reported AP) in the Basic Multi-Link element included in the (Re)Association Response frame it sends in response to indicate the time at which the AP (affected/reported AP) will resume BSS operation, if the (Re)Association Response frame is sent between the last beacon on the initial operating class/channel and the first beacon on the target operating class/channel. Otherwise, the other AP (reporting AP), if any, should not include a Max Channel Switch Time element or (Extended) Channel Switch Announcement element in (Re)Association Response frames.

If an AP (affected AP) affiliated with an AP MLD is switching channel, the AP MLD shall ensure the new channel is selected so that none of its associated non-AP MLDs has multiple setup links located on overlapping operating channels.

When an AP (affected/reported AP) affiliated with an AP MLD has announced quiet intervals other than quiet intervals scheduled to protect R-TWT SPs (see 35.8.4.2) using a Quiet element and optionally a Quiet Channel element, and another AP (reporting AP) of the same AP MLD, if any, receives a (Re)Association Request frame to perform ML setup with the AP MLD with the AP (affected/reported AP) as a requested link, then the other AP (reporting AP), if any, shall include the corresponding Quiet element and Quiet Channel element (if present) in the per-STA profile corresponding to the AP (affected/reported AP) in the Basic Multi-Link element included in the (Re)Association Response frame it sends in response. Otherwise, the other AP (reporting AP) should not include a Quiet element and Quiet Channel element in (Re)Association Response frames.

Examples of advertising quieting or channel switching information of a link on another link described in this subclause are shown in AH.8.

### 35.3.12 ML power management

#### 35.3.12.1 General

Each non-AP STA affiliated with a non-AP MLD that is operating on an enabled link shall maintain its own power management mode and power states as defined in 11.2 and 10.46. Frame exchanges on an enabled link are possible when the non-AP STA affiliated with the non-AP MLD operating on that link is in the awake state (see 11.2.3).

An example of power-save operation in MLO is shown in AH.9.1.

#### 35.3.12.2 Basic BSS operation

A non-AP MLD shall be able to perform basic operations (such as receiving a traffic indication, time synchronization, receiving BSS parameter updates) related to the AP MLD and all the APs affiliated with the AP MLD by monitoring one or more of the link(s) it has set up with the AP MLD. This is accomplished in addition to other power save mechanisms (such as TWT or U-APSD), if setup, between the non-AP STA affiliated with the non-AP MLD and the corresponding AP affiliated with the AP MLD with which the non-AP MLD has performed association. With these mechanisms, a non-AP MLD can receive information about the AP MLD and all the APs affiliated with the AP MLD on a single link while the other non-AP STA(s) affiliated with the non-AP MLD are in the doze state.

**NOTE**—Each AP affiliated with an AP MLD provides a critical updates indication when there is an update to the BSS parameters for another AP affiliated with the AP MLD (see 35.3.10).

Via the MLD synchronization service, all non-AP STAs affiliated with a non-AP MLD shall set each of the ACs U-APSD Flag subfields in the QoS Info field to the same value across all setup links (see 35.3.5).

### 35.3.12.3 MLD max idle period management

During ML setup, if the AP affiliated with an AP MLD includes a BSS Max Idle Period element in the (Re)Association Response frame sent to a non-AP STA affiliated with a non-AP MLD, then the value carried in the Max Idle Period field is applied at the MLD level and is referred to as the MLD max idle period. The AP MLD shall use this timeout value for making disassociation decisions for the non-AP MLD to which the (Re)Association Response frame is intended. An AP MLD may provide different max idle period values for different non-AP MLDs.

The non-AP MLD shall send, to its associated AP MLD, at least one keepalive frame (such as Data frame, PS-Poll frame, or Management frame), via one of its affiliated non-AP STAs, within a period indicated by the Max Idle Period field if the non-AP MLD intends to avoid getting disassociated from the AP MLD due to nonreceipt of frames by the AP MLD. A keepalive frame shall be protected or unprotected as indicated in the Idle Options subfield.

A non-AP MLD is considered inactive by its associated AP MLD if the AP MLD has not received a Data frame, a PS-Poll frame, or a Management frame (protected or unprotected as specified in this paragraph) of a frame exchange sequence initiated by any of the STAs affiliated with the non-AP MLD on any enabled link for a time period greater than or equal to the time specified by the Max Idle Period subfield of the BSS Max Idle Period element that is sent to that non-AP MLD. An AP MLD may disassociate a non-AP MLD if:

- The Idle Options subfield of the BSS Max Idle Period element requires protected keepalive frames and no protected frames are received from any non-AP STA affiliated with the non-AP MLD for a duration of the max idle period.
- The Idle Options subfield allows unprotected or protected keepalive frames and no protected or unprotected frames are received from any non-AP STA affiliated with the non-AP MLD for a duration of the max idle period.

NOTE—The AP MLD can disassociate or deauthenticate the non-AP MLD at any time for other reasons even if the non-AP MLD satisfies the keepalive frame transmission requirements.

### 35.3.12.4 Traffic indication

An AP affiliated with an AP MLD where the AP is not a member of a multiple BSSID set shall indicate the status of buffered, individually addressed MSDUs/MMPDUs for a non-AP MLD associated with that AP MLD using the partial virtual bitmap of the TIM element as described in 9.4.2.5 and by following the rules described in this subclause.

An AP affiliated with an AP MLD where the AP corresponds to a transmitted BSSID in a multiple BSSID set shall indicate the status of buffered, individually addressed MSDUs/MMPDUs for a non-AP MLD associated with any AP MLD that has an affiliated AP in the same multiple BSSID set as the AP using the partial virtual bitmap of the TIM element as described in 9.4.2.5, 11.1.3.8.5 (Traffic advertisement in a multiple BSSID set), and by following the rules described in this subclause.

An AP MLD may use the Multi-Link Traffic Indication element and the TIM element carried in a Beacon frame to recommend a non-AP MLD to use one or more enabled links to retrieve individually addressed buffered BU(s). An AP MLD may also use the Multi-Link Traffic Indication element and the AID Bitmap element in a Link Recommendation frame to recommend a non-AP MLD to use one or more enabled links for all exchanges both for DL and UL as described in 35.3.7.4.

An AP MLD shall buffer a BU with a TID at the AP MLD if the TID is not mapped to any link on which the corresponding non-AP STA affiliated with a non-AP MLD is in active mode, and it shall set the bit in the partial virtual bitmap of the TIM element that corresponds to the AID of the non-AP MLD to 1. The traffic indication for a non-AP MLD that is indicated by the bit in the partial virtual bitmap of the TIM element in a Beacon frame that matches the AID of the non-AP MLD shall be set to a value that reflects the buffer status

of the BUs at the AP MLD for that non-AP MLD at the time when each AP affiliated with the AP MLD that is operating on a corresponding link that is part of the ML setup schedules the Beacon frame.

An AP MLD shall buffer a bufferable MMPDU (see Table 11-4) that is intended for a non-AP STA affiliated with a non-AP MLD when all non-AP STAs affiliated with the non-AP MLD are in power save mode. In this case, the bit in the partial virtual bitmap of the TIM element that corresponds to the AID of the non-AP MLD shall be set to 1. An AP MLD shall not buffer a TPC Request frame or a Link Measurement Request frame.

An AP MLD shall set `dot11MultiLinkTrafficIndicationActivated` to true and an AP affiliated with an AP MLD shall include the Multi-Link Traffic Indication element (see 9.4.2.325) in a Beacon frame it transmits if any of the following conditions is met:

- At least one associated non-AP MLD does not have all TIDs mapped to all the enabled links and the AP MLD has buffered BU(s) with TID(s) that are not mapped to all enabled links for that non-AP MLD.
- The AP MLD intends to provide link recommendations in a Beacon frame to retrieve individually addressed buffered BUs to at least one associated non-AP MLD that has all TIDs mapped to all the enabled links and the AP MLD has buffered BU(s) for that non-AP MLD.

Otherwise, the AP MLD shall set `dot11MultiLinkTrafficIndicationActivated` to false and an AP affiliated with the AP MLD shall not include the Multi-Link Traffic Indication element in a Beacon frame.

The Multi-Link Traffic Indication element includes Per-Link Traffic Indication Bitmap  $n$  subfield(s) in the Per-Link Traffic Indication List field. The Per-Link Traffic Indication Bitmap  $n$  subfield(s) corresponds to the AID(s) of the non-AP MLD(s) or non-MLD non-AP STA(s), and the first Per-Link Traffic Indication Bitmap  $n$  subfield corresponds to the non-AP MLD whose AID value is contained in the AID Offset subfield of the Multi-Link Traffic Indication Control field of the Multi-Link Traffic Indication element. The order of the Per-Link Traffic Indication Bitmap  $n$  subfields follows the order of the bits that are set to 1 in the Partial Virtual Bitmap subfield of the TIM element and corresponds to the AIDs of the non-AP MLDs or non-MLD non-AP STAs.

If a non-AP MLD has successfully negotiated a TTLM with an AP MLD with a nondefault mapping, the bit position  $i$  of the Per-Link Traffic Indication Bitmap  $n$  subfield that corresponds to the link with the link ID that is equal to  $i$  on which a non-AP STA affiliated with the non-AP MLD is operating shall be set to 1 if the AP MLD has buffered BU(s) with TID(s) that are mapped to that link or MMPDU(s) for that non-AP MLD, otherwise, the bit shall be set to 0.

If a non-AP MLD is in the default mapping mode (see 35.3.7.2.2) or all TIDs are mapped to all enabled links, the bit position  $i$  of the Per-Link Traffic Indication Bitmap  $n$  subfield that corresponds to the link with the link ID equals to  $i$  on which a non-AP STA affiliated with the non-AP MLD is operating may be set to 1 to indicate to the non-AP MLD a link on which buffered BU(s) should be retrieved.

The Bitmap Size subfield of the Multi-Link Traffic Indication Control field should be set to  $m$ , where  $m$  is equal to the largest link ID value minus the smallest link ID value amongst the bits that are set to 1 in the Per-Link Traffic Indication Bitmap  $n$  subfield(s).

A non-AP MLD that successfully negotiated a TTLM with an AP MLD and not all TIDs are mapped to all enabled links shall determine which AP has buffered BU(s) with TID(s) by interpreting a Multi-Link Traffic Indication element.

An example of the construction of the Multi-Link Traffic Indication element is shown in Figure 35-7.

![](162d44b109eb60fdaea9c3ed0f4f1ad6_img.jpg)

Figure 35-7 illustrates the construction of the Multi-Link Traffic Indication (MLTI) element, showing the Traffic Indication Virtual Bitmap (TIVB) and the Partial Virtual Bitmap in TIM (PVB-TIM).

The TIVB structure is defined by the AID (0 to 15) and Octet number (0 to 15). The bits are grouped into N-1 (even) and N-1 (odd) segments, corresponding to Non-AP MLDs (default mapping) and Non-AP MLDs (non-default mapping), respectively. The bits are labeled B0, B1, B7, and B14.

The PVB-TIM structure includes the Bitmap Offset  $(N-1)/2$  and Bitmap Control. The Multi-link Traffic Indication element is constructed from the PVB-TIM, which includes the Link ID (0 to 2), Reserved (0), Per-link Traffic Indication Bitmap 1 (Link ID = 1 is recommended link), Per-link Traffic Indication Bitmap 2, and Per-link Traffic Indication Bitmap 3, followed by Padding (7 bits).

The Multi-link Traffic Indication element structure includes Bitmap Size ( $m=1$ ,  $m=2$ ), AID Offset =  $k$ , Multi-link Traffic Indication Control, and the Per-link Traffic Indication Bitmaps.

Figure 35-7—Example of Multi-Link Traffic Indication element construction

When a non-AP MLD detects that the bit corresponding to its AID is equal to 1 in the TIM element and one of the following conditions is met, any non-AP STA affiliated with the non-AP MLD that is operating on an enabled link may issue a PS-Poll frame, or a U-APSD trigger frame if the STA is using U-APSD and all ACs are delivery enabled, to retrieve buffered BU(s) from the AP MLD:

- The Multi-Link Traffic Indication element is not present in a Beacon frame
- The Multi-Link Traffic Indication element is present in a Beacon frame but does not include a Per-Link Traffic Indication Bitmap  $n$  subfield that corresponds to the non-AP MLD
- The Multi-Link Traffic Indication element is present in a Beacon frame and includes a Per-Link Traffic Indication Bitmap  $n$  subfield that corresponds to the non-AP MLD with all bits set to 0

When a non-AP MLD that is in the default mapping mode (see 35.3.7.2.2) or has all TIDs mapped to all enabled links detects that the bit corresponding to its AID is equal to 1 in the TIM element and the Multi-Link Traffic Indication element is present in a Beacon frame and the Multi-Link Traffic Indication element includes a Per-Link Traffic Indication Bitmap  $n$  subfield that corresponds to the non-AP MLD and not all bits of the Per-Link Traffic Indication Bitmap  $n$  subfield are set to 0, any non-AP STA affiliated with the non-AP MLD that operates on the link(s) indicated as 1 in the Per-Link Traffic Indication Bitmap  $n$  subfield may issue a PS-Poll frame, or a U-APSD trigger frame if the STA is using U-APSD and all ACs are delivery enabled, to retrieve buffered BU(s) from the AP MLD.

When a non-AP MLD that has successfully negotiated a TTLM (see 35.3.7.2.3) wherein not all TIDs are mapped to all the enabled links detects that the bit corresponding to its AID is equal to 1 in the TIM element and any bit of the Per-Link Traffic Indication Bitmap  $n$  subfield that corresponds to a link on which a non-AP STA affiliated with the non-AP MLD is operating is equal to 1 in the Multi-Link Traffic Indication element, the non-AP STA affiliated with the non-AP MLD that operates on that link may issue a PS-Poll frame, or a U-APSD trigger frame if the STA is using U-APSD and all ACs are delivery enabled, to retrieve buffered BU(s) from the AP MLD.

When an AP affiliated with an AP MLD receives a PS-Poll frame or a U-APSD trigger frame from a non-AP STA affiliated with an associated non-AP MLD that is in power save mode, it shall transmit buffered BU(s) to the STA, if the buffered BU(s) are available and not discarded for implementation dependent reasons, otherwise, it may transmit a QoS Null frame.

For an AP MLD, if a buffered BU is an MMPDU that is intended for one non-AP STA affiliated with a non-AP MLD (see Table 11-4), and if it is transmitted on a link where another non-AP STA (other than the intended non-AP STA) affiliated with the same non-AP MLD is operating on, following the procedure above, the MMPDU shall carry the MLO Link Info element to determine the intended destination non-AP STA affiliated with the non-AP MLD (see 35.3.14.3).

NOTE—For an AP MLD, if a buffered MMPDU is intended for one non-AP STA affiliated with a non-AP MLD (see Table 11-4), the MMPDU does not carry information in the frame body to determine the intended destination non-AP STA affiliated with the non-AP MLD or does not have correct content to be transmitted to another non-AP STA affiliated with a non-AP MLD, and the MMPDU needs to be transmitted due to reception of a PS-Poll frame or a U-APSD trigger frame from another non-AP STA affiliated with an associated non-AP MLD that is in power save mode, then the MMPDU needs to be discarded.

### 35.3.12.5 WNM sleep mode in MLO

An MLD that implements WNM sleep mode shall indicate its capability by setting the WNM Sleep Mode field to 1 in the Extended Capabilities element that is transmitted by its affiliated STAs. All STAs affiliated with an MLD shall advertise the same WNM Sleep Mode capability.

A non-AP MLD may transmit, via one of its affiliated non-AP STAs, a WNM Sleep Mode Request frame (see 9.6.13.19) to an AP affiliated with an AP MLD that has indicated support for WNM sleep mode capability.

If an AP MLD received a WNM Sleep Mode Request frame from a non-AP MLD via one of its affiliated non-AP STAs, the AP MLD shall send in response a WNM Sleep Mode Response frame, via one of its affiliated APs operating on a link that is enabled for the non-AP MLD and subject to the power state of the non-AP STA affiliated with the non-AP MLD and operating on that link. An AP MLD may send, via one of its affiliated APs that is operating on an enabled link for the non-AP MLD and subject to the power state of the non-AP STA affiliated with the non-AP MLD and operating on that link, the WNM Sleep Mode Response frame without solicitation upon the AP MLD's deletion of all traffic filter sets established according to the traffic filtering agreement between the AP MLD and the non-AP MLD (see 9.6.13.20).

The WNM sleep state is maintained by the MLD and WNM sleep mode procedures defined in 11.2.3 and 11.2.3.15 are performed at the MLD level and apply to all the STAs affiliated with the MLD.

### 35.3.12.6 Operation for MLD listen interval

During ML (re)setup, the value carried in the Listen Interval field in the (Re)Association Request frame sent by a non-AP STA affiliated with a non-AP MLD to an AP affiliated with an AP MLD represents a request by the non-AP MLD at the MLD level. The Listen Interval value included by the non-AP MLD in a (Re)Association Request frame shall be in units of the maximum beacon interval of the requested links (see 9.4.1.6). The AP MLD, via the affiliated AP, may reject the ML (re)setup because the listen interval requested by the non-AP MLD is too large. After successful ML (re)setup, the AP MLD shall use the listen interval in determining the lifetime of frames that it buffers for the non-AP MLD.

NOTE—The value of the listen interval negotiated during successful ML (re)setup remains unchanged for the duration of the association.

The AP MLD may delete buffered BUs for implementation dependent reasons (subject to 11.2.3.10), including the use of an aging function and availability of buffers where the aging function is based on the listen interval indicated by the non-AP MLD in its (Re)Association Request frame or the WNM sleep interval specified by the non-AP MLD in the WNM Sleep Mode Request frame.

If all non-AP STAs affiliated with the non-AP MLD are in power save mode, at least one of these non-AP STAs shall transition to awake state to receive at least one Beacon frame scheduled for transmission within

the interval of duration equal to the listen interval indicated by the non-AP MLD in its (Re)Association Request frame, starting from the last TBTT for which another non-AP STA or the same non-AP STA affiliated with the non-AP MLD was in the awake state.

Examples of listen intervals in MLO are shown in AH.9.3).

### 35.3.12.7 Power state after link enablement

When a link that was previously not setup becomes enabled for a non-AP MLD after successful association with an AP MLD with (Re)Association Request/Response frames transmitted on that link, the power management mode of the non-AP STA that is affiliated with the non-AP MLD and that is operating on the link, immediately after the acknowledgement of the (Re)Association Response frame, is active mode.

When a link that was previously not setup becomes enabled for a non-AP MLD after successful association with an AP MLD with (Re)Association Request/Response frames transmitted on another link, the power management mode of the non-AP STA that is affiliated with the non-AP MLD and that is operating on the link, immediately after the acknowledgement of the (Re)Association Response frame, is power save mode, and its power state is doze.

When a link that was previously disabled becomes enabled for a non-AP MLD after successful TTLM negotiation with TID-To-Link Mapping Request/Response frames transmitted on that link, the power management mode of the non-AP STA that is affiliated with the non-AP MLD and that is operating on the link, immediately after the acknowledgement of the TID-To-Link Mapping Response frame, is active mode.

When a link that was previously disabled becomes enabled for a non-AP MLD after successful TTLM negotiation with TID-To-Link Mapping Request/Response frames transmitted on another link, the power management mode of the non-AP STA that is affiliated with the non-AP MLD and that is operating on the link, immediately after the acknowledgement of the TID-To-Link Mapping Response frame, is power save mode, and its power state is doze.

When a link that was previously disabled by an advertised TTLM (see 35.3.7.2.4) and becomes enabled for a non-AP MLD when an advertised TTLM is terminated, the power management mode of the non-AP STA that is affiliated with the non-AP MLD and operating on the link, immediately after the end of the advertised TTLM, is power save mode, and its power state is doze.

### 35.3.12.8 Power state and TWT schedules after link disablement

When a link becomes disabled for a non-AP MLD:

- The APSD scheduled SPs of the non-AP STA affiliated with the non-AP MLD and operating on the link shall be deleted as soon as practical.
- If the link has been disabled using an individual TTLM negotiation, then the TWT agreements and TWT memberships of the non-AP STA affiliated with the non-AP MLD and operating on the link shall be torn down as soon as practical.
- If the link has been disabled due to AP advertisement of TTLM (see 35.3.7.2.4):
  - If the non-AP STA that is affiliated with the non-AP MLD and that corresponds to the disabled link has set the TWT Information Frame Disabled field to 0 in the TWT element sent during a TWT setup, then the non-AP STA shall consider all active (i.e., not suspended) individual TWT agreements and broadcast TWT schedules suspended as soon as practical until the link is enabled.
  - Otherwise, if the non-AP STA has not set the TWT Information Frame Disabled field to 0, then all individual TWT agreements and broadcast TWT memberships shall be torn down as soon as practical.

- The non-AP STA that is affiliated with the non-AP MLD and that corresponds to the link may cease maintaining a power state and power management mode as soon as practical.
- The AP that is affiliated with the AP MLD to which the non-AP MLD is associated and that corresponds to the link may, as soon as practical, cease maintaining a power management status that indicates in which power management mode the STA that is affiliated with the non-AP MLD and that corresponds to the link is currently operating.

A non-AP STA affiliated with a non-AP MLD that has transmitted a frame to the AP affiliated with its associated AP MLD on a disabled link, if allowed by the rules defined in 35.3.7.2.1 and from which it expects a response, shall remain in the awake state until such a response is received or until the procedure has timed out.

#### 35.3.12.9 Use of More Data subfield by an MLD

An AP MLD uses the More Data subfield as defined in 9.2.4.1.8 in frames transmitted on a link by one of its affiliated APs to a non-AP STA in PS mode affiliated with the non-AP MLD to indicate to the non-AP MLD that more individually addressed BUs are buffered for that non-AP MLD. The indicated buffered BUs are buffered at the AP MLD for the non-AP MLD and correspond only to Data frames for the non-AP MLD that have TIDs mapped to this link by the most recent DL TTLM (negotiated TTLM or default mode mapping, see 35.3.7.2) or Management frames for the non-AP MLD or for a non-AP STA affiliated with the non-AP MLD (see Table 11-4 and 35.3.12.4).

An AP affiliated with an AP MLD shall follow the procedure defined in 11.2.3.6 for setting the More Data subfield and the EOSP subfield, except that in individually addressed frames the More Data subfield is used to indicate the presence of more BUs at the AP MLD for a non-AP MLD, as defined above.

When a non-AP STA that is in PS mode and that is affiliated with a non-AP MLD operating with default mapping (see 35.3.7.2.2) receives an individually addressed MPDU from its associated AP affiliated with the associated AP MLD with the More Data subfield set to 1, then at least one of any non-AP STAs affiliated with the non-AP MLD shall follow or continue following the procedure defined in 11.2.3.7 and 11.2.3.8 and may send PS-Poll frames or UAPSD trigger frames, if needed, to retrieve buffered BUs buffered at the AP MLD.

When a non-AP STA that is in PS mode and that is affiliated with a non-AP MLD operating with either a negotiated nondefault TTLM (see 35.3.7.2.3) or an advertised TTLM (see 35.3.7.2.4) receives an individually addressed MPDU from its associated AP with the More Data subfield set to 1 on a link (receiving link), then at least one of any non-AP STAs that is affiliated with the non-AP MLD, that is in PS mode and that is operating on the receiving link or another link to which any of the TIDs that is mapped to the receiving link is also mapped shall follow or continue following the procedures defined in 11.2.3.7 and 11.2.3.8 (Receive operation using APSD) and may send PS-Poll frames or UAPSD trigger frames, if needed, with any TID that is mapped to this operating link to retrieve the BUs buffered at the AP MLD.

#### 35.3.13 MLD individually addressed data delivery without block ack negotiation

An MLD may deliver individually addressed QoS Data frames belonging to a TID without block ack negotiation to an associated MLD on the setup links subject to additional constraints in 35.3.7 and 35.3.9.

An MLD shall follow the rules described in 10.3.2.14.2 to determine the sequence number of an individually addressed QoS Data frame belonging to a TID that is delivered to an associated MLD.

An MLD shall follow the rules as described in 10.3.2.14.3 to discard duplicate individually addressed QoS Data frames belonging to a TID without block ack negotiation that are delivered from an associated MLD.

An MLD shall maintain a transmit MSDU timer for each MSDU passed to the MAC through the MAC SAP. The transmit MSDU timer shall be started when the MSDU is passed to the MAC through the MAC SAP. Non-AP STAs affiliated with a non-AP MLD shall have the same dot11EDCATableMSDULifetime, and APs affiliated with an AP MLD shall have the same dot11QAPEDCATableMSDULifetime.

When A-MSDU aggregation is used, the MLD maintains a single timer for the whole A-MSDU. The timer is restarted each time an MSDU is added to the A-MSDU. The result of this procedure is that no MSDU in the A-MSDU is discarded before a period of dot11EDCATableMSDULifetime for a non-AP MLD or dot11QAPEDCATableMSDULifetime for an AP MLD has elapsed.

For an MLD, the frame retry count and retry limit for each MSDU or A-MSDU that belongs to a TID that requires acknowledgment is implementation specific.

An MLD shall continue to deliver a failed individually addressed QoS Data frame belonging to a TID without block ack negotiation to an associated MLD on the setup links subject to additional constraints (see 35.3.7) until any of the following conditions occurs:

- The retry limit is met.
- The transmit MSDU timer for the MSDU or the A-MSDU (if the A-MSDU is used) exceeds dot11EDCATableMSDULifetime for a non-AP MLD or dot11QAPEDCATableMSDULifetime for an AP MLD.
- The individually addressed QoS Data frame is successfully delivered.

An MLD shall not transmit other individually addressed QoS Data frames through a STA affiliated with the MLD belonging to the TID without block ack negotiation to any STA affiliated with the associated MLD while the current individually addressed QoS Data frame belonging to the TID without block ack negotiation has not yet completed to the point of success, failed due to retry limit, or other MAC discard (e.g., lifetime expiration).

### 35.3.14 MLD individually addressed Management frame delivery

#### 35.3.14.1 General

This subclause describes rules for individually addressed management frame delivery by an MLD with the exception of the following frames:

- CSI frame
- Noncompressed Beamforming frame
- Compressed Beamforming frame
- VHT Compressed Beamforming frame
- HE Compressed Beamforming/CQI frame
- EHT Compressed Beamforming/CQI frame
- Probe Response frame
- Public Action LMR frame
- Public Action FTM frame
- Public Action FTM Request frame
- Protected Fine Timing frame

An MLD shall follow the rules described in 10.3.2.14.2 to determine the sequence number of an individually addressed Management frame (except the frames listed at the beginning of 35.3.14.1) that is delivered to the associated MLD.

An MLD shall follow the rules as described in 10.3.2.14.3 to discard duplicate individually addressed Management frames (except the frames listed at the beginning of 35.3.14.1) that are delivered from the associated MLD.

An MLD shall maintain a transmit MMPDU timer for each MMPDU (except the frames listed at the beginning of 35.3.14.1). The transmit MMPDU timer shall be started when the MMPDU is passed to the MAC.

For an MLD, the frame retry counter and retry limit for each MMPDU that belongs to a TC that requires acknowledgment are implementation specific.

An MLD shall continue to deliver the failed individually addressed Management frame (except the frames listed at the beginning of 35.3.14.1) to an associated MLD on the setup links subject to additional constraints (see 35.3.7) until any of the following conditions occurs:

- The retry limit is met.
- The transmit MMPDU timer for the MMPDU exceeds  $\text{dot11EDCA}\text{TableMSDULifetime}$  for a non-AP MLD or  $\text{dot11QAPEDCA}\text{TableMSDULifetime}$  for an AP MLD.
- The individually addressed Management frame is successfully delivered.

Between an MLD and an associated peer MLD, a STA affiliated with the MLD shall not transmit other individually addressed Management frames (except the frames listed at the beginning of 35.3.14.1) over a setup link while the current individually addressed Management frame (except the frames listed at the beginning of 35.3.14.1) having been assigned its sequence number from the same sequence number space and being transmitted by any STA affiliated with the same MLD over a setup link has not yet completed to the point of success, failed due to retry limit, or other MAC discard (e.g., lifetime expiration).

Between an AP MLD and an associated non-AP MLD subject to additional constraints (see 35.3.7), an MLD may transmit an individually addressed MMPDU (that is not a TWT Setup frame that includes a Link ID Bitmap subfield in its TWT element and is intended for one STA affiliated with the associated MLD operating on an enabled link) to another STA (other than the intended STA) affiliated with the associated MLD operating on a setup link through a STA affiliated with the MLD operating on the setup link if the MMPDU satisfies all the following conditions:

- The MMPDU is a Class 3 frame
- The MMPDU is not a TPC Request frame, a TPC Report frame, a Link Measurement Request frame or a Link Measurement response frame
- The MMPDU is classified as a bufferable MMPDU
- The MMPDU is not one of the frames listed at the beginning of 35.3.14.1.

NOTE—MMPDU only includes the Frame Body field of the Management frame and does not include a MAC header and a frame check sequence (FCS) of the Management frame (see 3.2).

Otherwise, an MLD shall not transmit an individually addressed MMPDU (that is not a TWT Setup frame that includes a Link ID Bitmap subfield in its TWT element and is intended for one STA affiliated with the associated MLD operating on an enabled link) to another STA (other than the intended STA) affiliated with the associated MLD operating on a setup link through an STA affiliated with the MLD operating on the setup link subject to additional constraints (see 35.3.7).

An individually addressed MMPDU (that is not a TWT Setup frame that includes a Link ID Bitmap subfield in its TWT element and is transmitted by an MLD through an affiliated STA) is intended for a STA affiliated with the peer MLD unless specified otherwise to be intended for an MLD.

Between an AP MLD and a non-AP MLD, the following individually addressed MMPDUs shall be intended for an MLD:

- Authentication frame that includes a Basic Multi-Link element
- (Re)Association Request/Response frame that includes a Basic Multi-Link element
- Deauthentication frame
- Disassociation frame
- Block Ack Action frame
- SA Query Action frame
- Multi-link probe request/response
- WNM Sleep Mode Request/Response frame
- TID-To-Link Mapping Request/Response/Teardown frame
- EPCS Priority Access Enable Request/Enable Response/Teardown frame
- EML Operating Mode Notification frame
- SCS Request/Response frame
- MSCS Request/Response frame
- BSS Transition Management Request/Response frame
- FT Action frame
- Link Recommendation frame
- Link Reconfiguration Notify/Request/Response frame
- QMF Policy Change frame and QMF Policy frame

A non-AP MLD may transmit an individually addressed MMPDU that is an Authentication frame that includes a Basic Multi-Link element or a (Re)Association Request frame that includes a Basic Multi-Link element or a multi-link probe request or a Deauthentication frame or a Disassociation frame to any AP affiliated with the AP MLD subject to additional constraints (see 35.3.7).

An AP MLD may transmit an individually addressed MMPDU that is a Deauthentication frame or a Disassociation frame to any non-AP STA affiliated with the non-AP MLD subject to additional constraints (see 35.3.7).

An MLD may transmit an individually addressed MMPDU that is a Class 3 frame that is intended for an associated MLD to any STA affiliated with the associated MLD operating on a setup link through an STA affiliated with the MLD operating on the setup link subject to additional constraints (see 35.3.7).

#### 35.3.14.2 QMF

All affiliated STAs of an MLD shall set dot11QMFActivated to the same value (see 35.3.26).

All affiliated STAs of an MLD shall set dot11QMFReconfigurationActivated to the same value (see 35.3.25).

If all affiliated STAs of an MLD set dot11QMFActivated to true, then the MLD is a QMF MLD. Otherwise, the MLD is a non-QMF MLD.

An AP affiliated with a QMF AP MLD may set dot11QMFReconfigurationActivated to true or false.

A non-AP STA affiliated with an QMF non-AP MLD shall set dot11QMFReconfigurationActivated to true.

If one AP affiliated with a QMF AP MLD advertises the QMF policy for IQMFs, then all APs affiliated with the AP MLD shall advertise the QMF policy for IQMFs. Each AP affiliated with a QMF AP MLD shall advertise the same QMF policy for IQMFs.

Each AP affiliated with a QMF AP MLD shall set the same QMF policy for the transmission of IQMFs to each affiliated non-AP STA of associated non-AP MLD.

QMF non-AP MLDs acquire QMF policy configuration information for IQMF from QMF Policy elements received in Beacon, Association Response, Reassociation Response, Probe Response, and QMF Policy frames.

A QMF non-AP MLD shall not transmit a QMF Policy frame through its affiliated non-AP STA to an AP affiliated with the associated AP MLD.

The access category for an IQMF that is transmitted by a QMF non-AP MLD through any of the affiliated non-AP STAs to an AP affiliated with the associated QMF AP MLD shall be determined from the IQMF policy received from any AP affiliated with the AP MLD if a QMF policy for IQMF has been received from any AP affiliated with the AP MLD. Otherwise, the default policy shall be used for an IQMF. The access category for IQMF that is transmitted by an AP affiliated with the QMF AP MLD is determined from the QMF policy for IQMF configured at that AP, which is the same for any AP affiliated with the AP MLD.

A QMF MLD shall not modify the access category of an IQMF frame after an initial transmission of the frame has been performed, regardless of any subsequent modification to the QMF policy under which the STA is operating.

An associated QMF non-AP MLD transmitting IQMFs through its affiliated non-AP STAs shall transmit those frames in accordance with the QMF policy for IQMF received from its associated QMF AP MLD in the following order of precedence, from highest to lowest:

- QMF policy defined in an unsolicited QMF Policy frame from the associated QMF AP MLD or the QMF Policy Change frame that resulted in a successful response QMF Policy frame from the associated AP MLD, whichever occurred most recently
- QMF policy defined in the QMF Policy element received in the successful (Re)Association Response frame

A QMF MLD shall transmit all individually addressed Management frames to non-QMF MLDs using access category AC\_VO.

A QMF AP MLD and a QMF non-AP MLD follow the procedure to change QMF policy for IQMFs defined in 11.24.2.2 (QMF policy change in an infrastructure BSS or in an MBSS) between a QMF AP and a QMF non-AP STA except that support of QMF policy change for an MLD is indicated by the QMFRReconfigurationActivated subfield in the Extended Capabilities element received from any STA affiliated with the MLD.

NOTE—Each STA affiliated with an QMF MLD follows the rules of GQMF defined in 11.24.

### 35.3.14.3 Identification of the intended STA

Between an AP MLD and a non-AP MLD associated with the AP MLD, an individually addressed MMPDU (that is not a TWT Setup frame that includes a Link ID Bitmap subfield in its TWT element and that is intended for one STA affiliated with the associated MLD operating on enabled link) shall follow the below procedure:

- If the individually addressed MMPDU is transmitted to another STA (other than the intended STA) affiliated with the associated MLD operating on a setup link through a STA affiliated with the MLD operating on the setup link, then the individually addressed MMPDU shall include an MLO Link

Info element that identifies the intended link of the MMPDU as the last element but before the Vendor Specific element(s) (if present).

— Otherwise, the individually addressed MMPDU may include an MLO Link Info element that identifies the intended link of the MMPDU as the last element if a Vendor Specific element is not present or as the element immediately before the Vendor Specific element(s) if one or more Vendor Specific elements are present.

**NOTE**—If the MLO Link Info element is not present in the individually addressed MMPDU, the individually addressed MMPDU cannot be retransmitted to different STA as described in the first bullet above.

Between an AP MLD and a non-AP MLD associated with the AP MLD, a TWT Setup frame that includes a Link ID Bitmap subfield in its TWT element shall not include an MLO Link Info element.

Exactly one bit in the Link ID Bitmap subfield of the MLO Link Info element shall be set to 1.

Between an AP MLD and a non-AP MLD associated with the AP MLD, an individually addressed MMPDU that is intended for an associated MLD shall not include an MLO Link Info element.

Between an AP MLD and a non-AP MLD associated with the AP MLD, if an individually addressed MMPDU that carries an MLO Link Info element is received by a STA affiliated with the MLD, then the MLD shall discard the MMPDU if the MLO Link Info element indicates any link that is not an enabled link.

### 35.3.15 MLO group addressed frames

#### 35.3.15.1 AP MLD operation for group addressed frames

Each AP affiliated with an AP MLD shall schedule for transmission all buffered group addressed frames following the rules in 11.2.3.1 and 11.2.3.6 with the following exception:

— An AP that operates on a link that has been advertised as disabled for all associated non-AP MLDs according to procedures defined in 35.3.7.2.4 is exempt from this rule.

An AP MLD that schedules for transmission a group addressed Data frame received from an associated non-AP MLD shall set the SA field of the group addressed Data frame to the MLD MAC address of the non-AP MLD.

Each AP affiliated with an AP MLD shall schedule:

— The transmission of the buffered group addressed Management frames (see 11.2.2) independently from the transmission of buffered group addressed Management frames of other AP(s) affiliated with the same AP MLD.

— The transmission of the buffered group addressed Data frames that are expected to be received by a non-AP MLD in all the enabled links setup with the non-AP MLD.

**NOTE 1**—Additional and exceptional rules of group addressed frame delivery for an NSTR mobile AP MLD are defined in 35.3.19.

**NOTE 2**—Each AP affiliated with an AP MLD uses SNS in Table 10-5 maintained by itself to determine the sequence number of a group addressed Management frame.

If an AP affiliated with an AP MLD is not part of a multiple BSSID set, then the AP shall indicate if each of the other AP(s) affiliated with the same AP MLD has buffered group addressed frames by using a bit in the Partial Virtual Bitmap field of the TIM element after the bit corresponding to AID 0.

— The indication is in the DTIM beacon sent by the AP and is based on the latest information about the other APs that the AP has when the AP schedules the DTIM beacon.

- These bits in the Partial Virtual Bitmap field of the TIM element for the other AP(s) affiliated with the same AP MLD shall be contiguous.
  - The bits 1 to  $N$  of the bitmap in the Partial Virtual Bitmap field are for the AP MLD where  $N$  is equal to  $2^{(\text{Group Addressed BU Indication Exponent} + 1)} - 1$ , and the Group Addressed BU Indication Exponent is the Group Addressed BU Indication Exponent subfield of the EHT Operation Parameters field. The AIDs from 1 to  $N$  shall not be allocated to a non-AP STA, or a non-AP MLD that has an ML setup with the AP MLD and has a setup link on which the AP operates.
  - The first  $n$  bits of  $N$  bits are used to indicate that one or more group addressed frames are buffered for each AP of the other AP(s) that are affiliated with the same AP MLD by setting the corresponding bit value to 1 in an increasing order of their link IDs. The remaining  $(N - n)$  bits are set to 0.

If an AP affiliated with an AP MLD corresponds to a transmitted BSSID in a multiple BSSID set, then the AP shall indicate if each of the other AP(s) affiliated with the same AP MLD has buffered group addressed frames by using a bit in the Partial Virtual Bitmap field of the TIM element after the last bit corresponding to a nontransmitted BSSID (maximum possible number of BSSIDs - 1) that is in the same multiple BSSID set as the AP.

- The indication is in the DTIM beacon sent by the AP and is based on the latest information about the other APs that the AP has when the AP schedules the DTIM beacon.
- These bits in the Partial Virtual Bitmap field of the TIM element for the other AP(s) affiliated with the same AP MLD shall be contiguous.
  - The bits  $X$  to  $X + N - 1$  of the bitmap in the Partial Virtual Bitmap field are for the AP MLD where  $X - 1$  is the last bit corresponding to the nontransmitted BSSID (if any) that is in the same multiple BSSID set as the AP and  $N$  is equal to  $2^{(\text{Group Addressed BU Indication Exponent} + 1)} - 1$ , and the Group Addressed BU Indication Exponent is the Group Addressed BU Indication Exponent subfield of the EHT Operation Parameters field. The AIDs from  $X$  to  $X + N - 1$  shall not be allocated to a non-AP STA, and to a non-AP MLD that has an ML setup with the AP MLD and has a setup link on which the AP operates.
  - The first  $n$  bits of  $N$  bits are used to indicate that one or more group addressed frames are buffered for each AP of the other AP(s) affiliated with the same AP MLD by setting the corresponding bit value to 1 in an increasing order of their link IDs. The remaining  $(N - n)$  bits are set to 0.

NOTE 3—The AP indicates the presence of its buffered group addressed frames following 11.2.3.6.

If an AP affiliated with an AP MLD is a nontransmitted BSSID in a multiple BSSID set, then the AP that corresponds to the transmitted BSSID in the same multiple BSSID set shall indicate if each of the other AP(s) affiliated with the same AP MLD as the nontransmitted BSSID has buffered group addressed frames by using a bit in the Partial Virtual Bitmap field of the TIM element after the last bit corresponding to the nontransmitted BSSID (maximum possible number of BSSIDs - 1) that is in the same multiple BSSID set as the AP.

- The indication is in the DTIM beacon corresponding to that nontransmitted BSSID sent by the transmitted BSSID of the same multiple BSSID set as the nontransmitted BSSID and is based on the latest information about the other APs affiliated with the AP MLD that the transmitted BSSID has when it schedules the DTIM beacon.
- These bits in the Partial Virtual Bitmap field of the TIM element for the other AP(s) affiliated with the same AP MLD shall be contiguous. The AP shall set the Group Addressed BU Indication Limit subfield of the EHT Operation element to 1 if the total number of bits needed to indicate the presence of buffered group addressed frames of all other APs affiliated with the same AP MLDs as all nontransmitted BSSIDs in the TIM element is greater than 48 bits, otherwise, the AP shall set the Group Addressed BU Indication Limit subfield to 0. For the  $k$ th nontransmitted BSSID affiliated with an MLD, where  $k$  is numbered in an increasing order of AP MLD ID of this MLD and starts from 1:

- The bits  $Y + (k - 1) \times N$  to  $Y + k \times N - 1$  of the bitmap in the Partial Virtual Bitmap field, if less than  $Y + 48$ , are for the AP MLD with which the  $k$ th nontransmitted BSSID is affiliated where  $Y - 1$  is the last bit for the AP MLD with which the AP that corresponds to the transmitted BSSID is affiliated with and  $N$  is equal to  $2^{(\text{Group Addressed BU Indication Exponent} + 1)} - 1$ , and the Group Addressed BU Indication Exponent is the Group Addressed BU Indication Exponent subfield of the EHT Operation Parameters field. The AIDs from  $Y + (k - 1) \times N$  to  $Y + k \times N - 1$  shall not be allocated to a non-AP STA, and to a non-AP MLD that has an ML setup with the AP MLD and has a setup link in which the AP operates.
- The first  $n$  bits of  $N$  bits are used to indicate that one or more group addressed frames are buffered for each AP of the other AP(s) affiliated with the same AP MLD by setting the corresponding bit value to 1 as the  $k$ th nontransmitted BSSID in an increasing order of their link IDs. The remaining  $(N - n)$  bits are set to 0.

An example of cross-link group addressed BU indication is shown in AH.10.

### 35.3.15.2 Non-AP MLD receive operation for group addressed frames

A non-AP STA affiliated with a non-AP MLD shall follow item (e) defined in 11.2.3.7 to receive the group addressed BUs sent by its associated AP affiliated with the associated AP MLD.

If an indication of buffered group addressed frames in the TIM element about an AP affiliated with an AP MLD is received by any non-AP STA affiliated with a non-AP MLD, the non-AP STA affiliated with the non-AP MLD that is associated with the AP and that stays awake to receive group addressed BUs shall elect to receive all group addressed frames that are scheduled for delivery on the link that the non-AP STA is operating on.

A non-AP MLD shall discard the group addressed MPDU with the SA field equal to the MLD MAC address of the non-AP MLD.

NOTE 1—Duplicate group addressed Data frame detection is performed by a non-AP STA affiliated with a non-AP MLD according to 10.3.2.14.3.

NOTE 2—Additional and exceptional rules of group addressed frame reception for an NSTR mobile AP MLD are defined in 35.3.19.

### 35.3.16 ML channel access

#### 35.3.16.1 General

A STA that is affiliated with an MLD shall contend for the WM on its link independently from the other STA(s) affiliated with the same MLD, unless explicitly stated otherwise in the subclauses below.

#### 35.3.16.2 MLD capability and operation signaling

An AP MLD shall set the Maximum Number Of Simultaneous Links subfield in the Common Info field of the Basic Multi-Link element to the number of affiliated APs minus 1.

A single-radio non-AP MLD shall set the Maximum Number Of Simultaneous Links subfield in the Common Info field of the Basic Multi-Link element to 0.

A single-radio non-AP MLD with dot11EHTEMPLSROptionActivated equal to true shall set the Maximum Number Of Simultaneous Links subfield in the Common Info field of the Basic Multi-Link element to 0.

If a multi-radio non-AP MLD requests more than one link during ML setup, the multi-radio non-AP MLD shall set the Maximum Number Of Simultaneous Links subfield in the Common Info field of the Basic Multi-Link element to a value equal to or larger than 1.

A multi-radio non-AP MLD shall announce each pair of links formed by links that requested an ML setup as STR or NSTR in a transmitted (Re)Association Request frame, by setting the corresponding bit in the NSTR Indication Bitmap subfield of the Basic Multi-Link element to 0 or 1, respectively (see 9.4.2.322.2).

An MLD shall be capable of simultaneously transmitting or receiving frames via affiliated STAs up to a value indicated in the Maximum Number Of Simultaneous Links subfield in the Basic Multi-Link element plus 1, under the rules defined in subclauses below.

A non-AP MLD shall set the NSTR Link Pair Present subfield value to 1 in a STA Control field that corresponds to link ID  $i$  (where  $0 \le i < 15$ ) only if it is a multi-radio MLD and contains at least one NSTR link pair formed by the link with link ID  $i$ ; otherwise, it shall set the subfield value to 0. An NSTR mobile AP MLD shall set the NSTR Link Pair Present subfield value to 1 in the STA Control field that corresponds to link ID  $i$  unless the NSTR mobile AP MLD has removed the nonprimary link, in which case NSTR mobile AP MLD shall set the subfield to 0. An AP MLD that is not an NSTR mobile AP MLD shall set the NSTR Link Pair Present subfield value in each STA Control field to 0.

An MLD shall set to 0 every bit in the NSTR Indication Bitmap subfield, if present, of the Basic Multi-Link element that corresponds to a link pair where one of the STAs in the link pair operates in the 2.4 GHz band and the other STA operates in the 5 GHz or 6 GHz band.

A non-AP MLD may set the Frequency Separation For STR subfield in the Common Info field of the Basic Multi-Link element to a nonzero value if it intends to indicate the minimum frequency separation that is recommended between two links for the non-AP MLD for STR operation; otherwise, the non-AP MLD shall set the Frequency Separation For STR subfield to 0.

An AP MLD might take into account the information provided by associated non-AP MLDs in the Frequency Separation For STR subfield in their transmitted Multi-Link elements when the AP MLD intends to set up BSSs in the future referring to the information provided by those non-AP MLDs or switch the BSS operating channel of one or more of the setup links with those non-AP MLDs. How the AP MLD uses the information provided by the Frequency Separation For STR subfield is out of scope of the standard.

**NOTE**—The non-AP MLD ensures that the minimum frequency separation indicated in the Frequency Separation For STR subfield starts from the frequency edge of the maximum supported bandwidth indicated by the Supported Channel Width Set subfield in the HE Capabilities element and the Support For 320 MHz in 6 GHz subfield in the EHT Capabilities element of each link.

An MLD that has dot11NSTRStatusUpdateImplemented equal to true shall set the NSTR Status Update Support subfield in the Common Info field of the Basic Multi-Link element that is transmitted by its affiliated STA(s) to 1. The MLD shall set the NSTR Status Update Support subfield to 0 if it has dot11NSTRStatusUpdateImplemented equal to false.

The ability of a non-AP MLD to perform STR operation on a pair of setup links may change after ML setup if an AP affiliated with the associated AP MLD switches the BSS operating channel to a channel that would cause the associated non-AP STA to not satisfy the new STR requirements. For a non-AP MLD with dot11NSTRStatusUpdateImplemented set to true, if its ability to perform STR/NSTR operations changes after the channel switch, the non-AP MLD may transmit a Multi-Link Operation Update Request frame with the Operation Update Type subfield set to 4 on any enabled link to indicate the updated STR/NSTR link status to the associated AP MLD, from which it has received a Basic Multi-Link element with the NSTR Status Update Support subfield equal to 1, using the NSTR Indication Bitmap subfields of the included

Reconfiguration Multi-Link element. Otherwise, the non-AP MLD shall not transmit a Multi-Link Operation Update Request frame with Operation Update Type subfield set to 4.

APs affiliated with an NSTR mobile AP MLD shall set the NSTR Status Update Support subfield in transmitted Basic Multi-Link element to 0.

A non-AP MLD that transmits a Multi-Link Operation Update Request frame that contains a Reconfiguration Multi-Link element with Operation Type subfield equal to 4 shall include in the Reconfiguration Multi-Link element one Per-STA Profile subelement for each link, identified by the link ID, that is setup between the non-AP MLD and the AP MLD. The Reconfiguration Multi-Link element shall additionally have:

- All subfields in the Presence Bitmap subfield of the Multi-Link Control field set to 0.
- All subfields of the STA Control field except for the Link ID, the NSTR Indication Bitmap Present, and the NSTR Bitmap Size subfields, set to 0.
  - The Link ID subfield shall be set to the identifier of the setup link for which the NSTR status is reported in the Per-STA Profile subelement.
  - The NSTR Indication Bitmap Present subfield shall be set to 1.
  - The NSTR Bitmap Size subfield shall be set to indicate the size of the NSTR Indication Bitmap subfield.
- The NSTR Indication Bitmap subfield shall be included and shall be set to indicate STR or NSTR for each pair of links formed between the link corresponding to the link ID and other setup links for the non-AP MLD.

After receiving a Multi-Link Operation Update Request frame with Operation Update Type subfield equals to 4 from the non-AP STA affiliated with an associated non-AP MLD, the AP MLD with dot11NSTRStatusUpdateImplemented set to true shall send a Multi-Link Operation Update Response frame to the non-AP MLD on any enabled link subject to the power state of the non-AP STA operating on that link with the Status Code subfield set to 0 (SUCCESS).

The AP MLD shall update the NSTR status of the setup link pairs for that non-AP MLD after successfully sending the Multi-Link Update Response frame to the non-AP MLD, after which the AP MLD and non-AP MLD shall exchange frames using the updated constraints (see 35.3.16.3 and 35.3.16.4).

### 35.3.16.3 Simultaneous transmit and receive (STR) operation

When a pair of links on which an MLD operates is an STR link pair, a STA that is affiliated with the MLD and that is operating on a link in that STR link pair shall access the WM on that link by following the rules defined in 10.3 and 10.23.2 regardless of any activity occurring on the other link within that STR link pair, unless explicitly stated otherwise.

All pairs of links for an AP MLD that is not an NSTR mobile AP MLD and that operates on more than one link shall be STR link pairs.

NOTE—If an AP MLD that is not an NSTR mobile AP MLD operates on only one link, any STR requirements and capabilities that correspond to a link pair no longer apply.

An example of an AP MLD and a non-AP MLD operating over an STR link pair is shown in AH.14.1.

### 35.3.16.4 Nonsimultaneous transmit and receive (NSTR) operation

An AP affiliated with an AP MLD that has gained the right to initiate transmission of a frame of an AC on a link through the rules for EDCA backoff in 10.23.2.4 (Obtaining an EDCA TXOP) may choose not to transmit any frame corresponding to that AC due to expected interference caused by the transmission at the

non-AP STA operating on one of the links of an NSTR link pair that the link belongs to within the intended recipient non-AP MLD and due to lack of availability of an alternative frame in the queue of the link that would not introduce the opportunity for such interference.

A non-AP STA affiliated with a non-AP MLD operating on a link of an NSTR link pair that has gained the right to initiate transmission of a frame of a specific AC on a link through the rules for EDCA backoff in 10.23.2.4 (Obtaining an EDCA TXOP) or that is enabled by an AP that is a TXOP holder to use a portion of the obtained TXOP following the rules for TXS procedure in 35.2.1.2 may choose not to transmit any frame corresponding to that AC due to expected interference caused by the transmission at the non-AP STA operating on one of the links of the NSTR link pair within the non-AP MLD and due to lack of availability of an alternative frame in the queue of the link that would not introduce the opportunity for such interference.

An AP or non-AP STA affiliated with an MLD that has gained the right to initiate the transmission of a frame as described in 10.23.2.4 (Obtaining an EDCA TXOP) for an AC but does not transmit any frame corresponding to that AC for the reasons stated above may:

- Invoke a backoff for the EDCF associated with that AC as allowed per h) of 10.23.2.2
- Consider the transmit queue for that AC as empty until any frame exists in the queue that if transmitted, the transmitter determines, will not cause an unacceptable level of interference caused by transmission at the non-AP STA operating on the other link of an NSTR link pair that the AP or non-AP STA belongs to. The queue is then considered to have become nonempty and
  - The procedure described in 10.23.2.4 (Obtaining an EDCA TXOP) is followed for the AP if the transmit queue becomes nonempty due to an MPDU destined to another non-AP STA that is not affiliated with the same non-AP MLD to be queued for transmission.
  - Backoff is invoked per the procedure described in a) of 10.23.2.2 regardless of whether the medium is busy or not, otherwise.

An AP affiliated with an AP MLD should not transmit a frame that solicits an immediate response to a non-AP STA that is affiliated with a non-AP MLD on a link that is a member of one or more NSTR link pairs for that non-AP MLD, if the immediate response is expected to overlap in time with group addressed MPDUs scheduled on a link that is a member of any of those NSTR link pairs and any of the other non-AP STA(s) affiliated with the non-AP MLD is expected to be receiving those group addressed MPDUs.

If a non-AP STA that is affiliated with a non-AP MLD successfully obtains a TXOP on one link of its NSTR link pairs before the TBTT of the other link, then it should end its TXOP before the other link TBTT if the other non-AP STA affiliated with the same non-AP MLD intends to receive the Beacon frame scheduled at that TBTT on that link.

NOTE—The non-AP STA might not do so if it is not aware of the TSF of the other link.

### 35.3.16.5 PPDU end time alignment on an NSTR link pair

#### 35.3.16.5.1 General

In this subclause “simultaneously transmit” means more than one PPDU is transmitted on more than one link, where each PPDU is transmitted over one link, and those transmissions overlap in time. Likewise, “simultaneously trigger” means more than one TB PPDUs are triggered on more than one link, where each PPDU is triggered over one link, and those transmissions overlap in time. If a non-AP MLD that is receiving a PPDU on a link that is part of an NSTR link pair for that MLD concurrently transmits another PPDU on another link that is part of the same NSTR link pair for that MLD, then the non-AP MLD might fail to receive the PPDU on the link because of the interference caused by its transmission on the other link. This subclause specifies a mechanism to align the end time of PPDUs that are simultaneously transmitted to the non-AP STAs affiliated with a non-AP MLD operating on a pair of NSTR links for that MLD, which helps

to reduce the chances of the occurrence of such self-interference among non-AP STAs affiliated with the same MLD.

When more than one AP affiliated with an AP MLD simultaneously transmits to the non-AP STAs affiliated with a non-AP MLD operating on a pair of NSTR links for that MLD and at least one of the PPDU carries a frame that is soliciting an immediate response,

- The AP shall align the end time of the PPDU's soliciting an immediate response per the rules defined in this subclause.

NOTE 1—In this way the response PPDU to any of the PPDU's transmitted by the AP will not overlap with any of these PPDU's soliciting immediate response.

When an AP MLD is required to align the end time of simultaneously transmitted PPDU's, it shall satisfy the following conditions:

- The AP MLD shall ensure that the difference between the end times of simultaneously transmitted PPDU's is less than or equal to 8  $\mu\text{s}$  (see NOTE 2), where the end time of the PPDU is the time of the end of the last OFDM symbol or the time of the end of the packet extension if present, whichever is later.
- The AP MLD shall ensure that the end time of one or more PPDU's that carry a frame soliciting an immediate response frame is at most 4  $\mu\text{s}$  (see NOTE 3) earlier than the end time of any of the PPDU's containing a Trigger frame with the CS Required subfield set to 1.

NOTE 2—The difference between the end times of transmitting PPDU's needs to be less than  $a\text{SIFSTime} + a\text{SignalExtension}$  minus a timing margin, so that the response PPDU to any of the PPDU's transmitted by the AP will not overlap with any of these PPDU's. To balance the implementation complexity at a transmitter side and a receiver side, the timing margin is set to half of SIFS.

NOTE 3—The value of 4  $\mu\text{s}$  is derived from  $a\text{RxTxTurnaroundTime}$  being equal to 4  $\mu\text{s}$  for the purpose of this requirement.

An AP MLD may use any type of padding to align the end time of transmitted PPDU's, such as using the Padding field in a Trigger frame, post-EOF A-MPDU padding, padding in HE-SIG-B or EHT-SIG field for MU transmission, aggregating other MPDU's in the A-MPDU, or a packet extension.

When an AP MLD simultaneously solicits one or more TB PPDU transmissions from a pair of non-AP STAs affiliated with a non-AP MLD and operating on a pair of NSTR links for that MLD, each AP affiliated with the AP MLD shall independently solicit a PPDU following the mechanisms defined in 26.5.2 with the following exceptions:

- An AP affiliated with the AP MLD shall not transmit a Trigger frame with the CS Required subfield set to 1 to a non-AP STA affiliated with a non-AP MLD and operating on a link that is part of NSTR link pair for that MLD, when at least one PPDU from other STAs operating on the other link that is part of the same NSTR link pair is scheduled for transmission before a timer with a value of 12  $\mu\text{s}$  (see NOTE 4) has expired after the PPDU containing the Trigger frame.
- If the AP MLD allows the frames in the TB PPDU's to solicit control response frames from the AP MLD, then the UL Length subfield values in the soliciting Basic Trigger frames shall be set to the same value.

NOTE 4—12  $\mu\text{s}$  is derived from  $a\text{SIFSTime} + a\text{SignalExtension} - a\text{RxTxTurnaroundTime}$ , where  $a\text{RxTxTurnaroundTime}$  is equal to 4  $\mu\text{s}$  for the purpose of this calculation.

An example of the relationship between the end times of DL PPDU's sent over NSTR link pairs is shown in AH.14.2.

### 35.3.16.5.2 End time alignment of response PPDU using SRS Control subfield

An AP that is affiliated with an AP MLD shall set the SRS Support subfield in the Common Info field of the Basic Multi-Link element it transmits to 1 if its dot11SRSOptionImplemented is true; otherwise, the AP shall set it to 0.

A non-AP STA affiliated with a non-AP MLD operating on a pair of NSTR links for that MLD shall not transmit a PPDU carrying an MPDU with SRS Control subfield to an AP unless a non-AP STA affiliated with the non-AP MLD has received from the AP MLD a Basic Multi-Link element with the SRS Support subfield equal to 1. A non-AP STA affiliated with a non-AP MLD shall not transmit a TB PPDU carrying an MPDU with SRS Control subfield.

An AP affiliated with an AP MLD shall not transmit a PPDU carrying an MPDU with SRS Control subfield to a non-AP STA affiliated with a non-AP MLD.

NOTE 1—If the received SRS Support subfield from an AP is equal to 0, a non-AP STA might not be able to perform multiple frame transmission in a TXOP over NSTR link pair(s) with the AP, unless the expected duration of solicited PPDU transmitted on NSTR link pair(s) are the same.

If non-AP STAs affiliated with a non-AP MLD operating on a pair of NSTR links simultaneously transmit PPDU to the respective APs affiliated with an AP MLD that has dot11SRSOptionImplemented equal to true, the transmitted PPDU solicited control response frames and the non-AP MLD intends to align the end times of the PPDU sent in response by the peer APs, then at least one of the PPDU soliciting a control response frame shall carry an MPDU with SRS Control subfield. The non-AP STA shall set the PPDU Response Duration subfield of the SRS Control subfield to a value that is equal to or longer than the maximum of the expected duration of the response PPDU on all links, where the expected duration of the response PPDU is calculated based on the following parameters:

- PPDU format that is HE SU PPDU, or an EHT SU transmission with EHT-SIG MCS equals to 0
- Bandwidth that is equal to the bandwidth of the soliciting PPDU, with BCC coding if the bandwidth is 20 MHz and LDPC coding if the bandwidth is greater than 20 MHz
- NSS and number of LTFs that are equal to one
- GI that is equal to the longest mandatory GI value (3.2  $\mu$ s)
- MCS that is selected following the rate selection rules defined in 10.6.6.5 (Rate selection for control response frames), 26.17.1 (Basic HE BSS operation), 26.15.3, 35.15, and 35.14
- A PSDU length that is equal to or greater than the length of a PSDU that contains the larger of a Multi-STA BlockAck frame and a Compressed BlockAck frame expected in response to the soliciting PPDU

An example of the usage of SRS Control frame for end time alignment of response PPDU is shown in AH.14.3.

An EHT AP affiliated with an AP MLD that transmits a PPDU in response to a frame containing an SRS Control subfield shall:

- Have the duration of the PPDU to be equal to the duration that is specified in the PPDU Response Duration subfield of the soliciting SRS Control subfield.
- Use a non-HT PPDU, non-HT duplicated PPDU, HE SU PPDU, or an EHT SU transmission. If the PSDU carried in the response PPDU contains an A-MPDU then the contents of the A-MPDU shall be as defined in Table 9-663. If the PPDU is an HE SU PPDU then it shall not use DCM encoding.

NOTE 2—If the PPDU carrying the response is an HE SU PPDU or an EHT SU transmission, then the AP might use any type of padding to ensure that the duration of the PPDU is equal to the duration that is specified in the PPDU Response Duration subfield of the soliciting SRS Control subfield.

### 35.3.16.6 Start time sync PPDU medium access

Each STA affiliated with an MLD operating on a pair of NSTR links for that MLD that aligns the start times of the PPDU scheduled for transmission on more than one link shall ensure that the EDCA rules on each link permit access to the medium on all the links at the time of issuance of the PHY-TXSTART.request for each link.

An EDCAF of a STA affiliated with an MLD operating on a link that is part of an NSTR link pair for that MLD shall follow the channel access procedure described below:

1. The EDCAF of a STA may initiate transmission on a link when the medium is idle as indicated by the physical and virtual CS mechanism and one of the following conditions is met:
   1. The EDCAF of a STA obtained an EDCA TXOP following the procedure in 10.23.2.4.
   2. The backoff counter of the STA's EDCAF is already zero, and the EDCAF of the STA operating on the other link of NSTR link pair of the affiliated MLD obtains an EDCA TXOP following the procedure in 10.23.2.4.
2. When the backoff counter of the EDCAF reaches zero, it may choose to not transmit and keep its backoff counter at zero. An EDCAF with backoff counter that has already reached zero may initiate transmission only following condition 1b).
3. An EDCAF with backoff counter that has already reached zero and that chose not to transmit following condition 1b) may perform a new backoff procedure following deferral as described in 10.23.2.4 and 10.3.4.3 before being allowed to initiate transmission on a link following condition 1a). In such a case, CW[AC] and QSRC[AC] are left unchanged.

NOTE 1—The backoff counters for each link count down as specified in 10.23.2.4.

NOTE 2—The decision to choose to not transmit when the backoff counter of the EDCAF(s) reaches zero as in 2) or to perform a new backoff procedure to be allowed to initiate transmission following condition 1a) as in 3) is implementation specific.

A STA that chooses not to transmit after the backoff counter reached zero on a link of an NSTR link pair may have one or more EDCAF backoff counters with value zero on that link. The STA that initiates transmission on that link following condition 1a) or 1b), and has one or more EDCAF backoff counters that already reached zero shall choose only one EDCAF to gain an EDCA TXOP. The basis for selection is implementation specific.

An EDCAF with backoff counter that has already reached zero on a link and has a frame available for transmission shall follow the channel access procedures described in 10.23.2.4 after it detects medium transition from busy to idle.

The EDCAF with backoff counter that has already reached zero and is initiating transmission following condition 1b) is not mandated to initiate transmission on a slot boundary of the link on which the STA operates. The EDCAF that is initiating transmission following condition 1b), shall commence the transmission no later than 4  $\mu$ s following slot boundary of the link on which the other STA whose EDCAF backoff counter reaches zero operates.

NOTE 3—The value of 4  $\mu$ s is derived from aRxTxTurnaroundTime being equal to 4  $\mu$ s for the purpose of this requirement.

### 35.3.16.7 Error recovery on an NSTR link pair within PIFS

After two PPDU with end time alignment (and the PPDU carrying the expected response frames for the frames carried in the two PPDU also have end time alignment) are transmitted by each STA affiliated with an MLD on two links that belong to an NSTR link pair of the MLD, if the two STAs intend to transmit more

PPDUs on both links in their respective TXOPs, when a failure happens on at least one of the two links, the MLD conducts the procedures described in this subclause.

If the MLD ensures that the difference between the end times of the two PPDUs carrying the expected response frames is less than or equal to  $4 \mu\text{s}$ , the MLD may use either SIFS or PIFS between the end time of the PPDU carrying the response frame and the next PPDU sent in the same TXOP on the link where the response frame is received correctly, regardless of the PPDU receive status of the other link of the NSTR link pair.

NOTE 1—The value of  $4 \mu\text{s}$  is derived from aRxTxTurnaroundTime used in 35.3.16.5.

NOTE 2—It is stricter to maintain the difference between the end times of the two PPDUs carrying the expected response frame be less than or equal to  $4 \mu\text{s}$ , when compared with the requirement of PPDU end time alignment in 35.3.16.5.

NOTE 3—If SIFS is used between the end time of the PPDU carrying the response frame and the next PPDU sent in the same TXOP on the first link of the NSTR link pair where the response frame is received correctly, the PIFS recovery on the second link of the NSTR link pair might fail due to the interference caused by the transmission of the STA operating on the first link.

If the MLD ensures that the difference between the end times of the two PPDUs carrying the expected response frames is less than or equal to  $8 \mu\text{s}$  (see 35.3.16.5), after two PPDUs with end time alignment (and the PPDUs carrying the expected response frames also have end time alignment) are transmitted by STAs affiliated with the MLD on two links that belongs to an NSTR link pair of the MLD, if PHY-RXSTART.indications are received on both links, but the response frames contained in the corresponding PPDUs are not successfully received in at least one of the links of the NSTR link pair, then:

- On the link on which the response frame ends last, if the response frame is successfully received, the time from the end of the PPDU carrying the response frame to the next PPDU sent in the same TXOP should be larger than or equal to SIFS and smaller than or equal to PIFS;
- On the link on which the response frame ends last, if the response frame is not successfully received (i.e., FCS fails), the time from the end of the PPDU carrying the response frame to the next PPDU sent in the same TXOP should be larger than or equal to PIFS –  $4 \mu\text{s}$  and smaller than or equal to PIFS;
- On the link on which the response frame ends first, the time from the end of the PPDU carrying the response frame to the next PPDU sent in the same TXOP should be PIFS.

If the time from the end of the received PPDU carrying the response frame to the next PPDU sent in the same TXOP is larger than SIFS and less than PIFS, then the STA affiliated with the MLD shall ensure that the medium is idle based on the PHY-CCA.indication primitive (see 36.3.21.6 and 8.3.5.12) before the transmission of the next PPDU.

### 35.3.16.8 Medium access recovery procedure

#### 35.3.16.8.1 General

A non-AP STA affiliated with a non-AP MLD or an AP affiliated with an NSTR mobile AP MLD that operates on an NSTR link pair is considered to have lost medium synchronization when the other STA, which is affiliated with the same MLD and operates on that link pair, transmits a PPDU, except when both STAs ended a transmission at the same time.

A STA that has lost medium synchronization as described above shall start a MediumSyncDelay timer and begin counting down from the end of that transmission if that transmission duration is greater than aMediumSyncThreshold unless its previous MediumSyncDelay timer has not expired. The STA may choose

not to (re)start the MediumSyncDelay timer if the transmission duration is less than or equal to aMediumSyncThreshold. The aMediumSyncThreshold is set to 72  $\mu$ s.

NOTE 1—The value of 72  $\mu$ s is chosen to cover at least the PPDU lengths of RTS/CTS/Ack frames using non-HT or non-HT duplicate PPDU format with 6 Mb/s data rate, as well as the PPDU lengths of most typical BlockAck frames.

When a non-AP MLD is operating in the EMLSR/EMLMR mode, a non-AP STA affiliated with a non-AP MLD that is operating on one of the EMLSR/EMLMR links is considered to have lost medium synchronization if it is not able to perform CCA during frame exchanges that includes the link switch delays between an AP affiliated with an AP MLD and one of the other non-AP STAs operating on the other EMLSR links, which are affiliated with the same non-AP MLD. The non-AP STA that has lost medium synchronization shall start a MediumSyncDelay timer and begin counting down immediately after returning to the listening operation if the duration of the loss of medium synchronization is greater than aMediumSyncThreshold; otherwise, the non-AP STA may choose not to start the MediumSyncDelay timer.

NOTE 2—The link switch delays include the delay switching from the listening operation to the frame exchanges and the delay switching from the frame exchanges to the listening operation (see 35.3.17, 35.3.18, Table 9-417i, Table 9-417j, Table 9-417k, and Table 9-417l).

A STA shall not start a MediumSyncDelay timer unless the STA is one of the following:

- a non-AP STA affiliated with a non-AP MLD operating on an NSTR link pair or
- a non-AP STA affiliated with a non-AP MLD operating on an EMLSR link or
- a non-AP STA affiliated with a non-AP MLD operating on an EMLMR link or
- an AP affiliated with an NSTR mobile AP MLD operating on the nonprimary link of an NSTR link pair.

The MediumSyncDelay timer is a single timer, shared by all EDCAFs within a STA, whose value is set to dot11MSDTimerDuration. The STA initializes dot11MSDTimerDuration to aPPDUMaxTime defined in Table 36-70. A non-AP STA shall update dot11MSDTimerDuration with the value contained in the Medium Synchronization Delay Information field, if present, of the Basic Multi-Link element in the most recent frame received from its associated AP. In addition, the timer resets to zero when any of the following events occur:

- The STA receives an MPDU.
- The STA receives a PPDU for which the RXVECTOR parameter TXOP\_DURATION is not UNSPECIFIED.

If a STA that operates on an NSTR link pair has lost medium synchronization, due to transmission by another STA that is affiliated with the same MLD and operates on that link pair, and its previous MediumSyncDelay timer has not expired, then at the end of that transmission it shall continue the previous MediumSyncDelay timer except that the STA shall update the timer value as described above if that transmission is longer than aMediumSyncThreshold.

### 35.3.16.8.2 MediumSyncDelay OFDM ED based recovery procedure

A STA that is capable of obtaining a TXOP while the MediumSyncDelay timer has a nonzero value shall use dot11MSDOFDMEDthreshold instead of dot11OFDMEDThreshold as specified in 36.3.21.6.3 in order to detect a channel busy condition in the primary 20 MHz channel if the MediumSyncDelay timer has a nonzero value.

If a STA is capable of obtaining a TXOP while the MediumSyncDelay timer has a nonzero value, it shall perform the following when the timer has a nonzero value:

- If it is a non-AP STA, it shall transmit an RTS frame to its associated AP as the initial frame in an obtained TXOP.

- If it is an AP affiliated with an NSTR mobile AP MLD, then the AP shall transmit an RTS frame to an associated non-AP STA as the initial frame in an obtained TXOP and follow the rules defined in 35.3.19.
- Shall not attempt to initiate a TXOP more than  $\text{dot11MSDTXOPMax}$  times since the start of the timer.

Otherwise, it shall perform CCA until the MediumSyncDelay timer has expired before it initiates a transmission.

A STA that has a nonzero MediumSyncDelay timer shall not transmit any PPDU using OBSS PD-based spatial reuse operation.

An AP affiliated with an AP MLD may include the Medium Synchronization Delay Information subfield in the Common Info field of the Basic Multi-Link element carried in transmitted (Re)Association Response frame or multi-link probe response to provide medium synchronization information used by the AP MLD.

The default value of  $\text{dot11MSDOFMDThreshold}$  is  $-72\text{ dBm}$  and the default value of  $\text{dot11MSDTXOPMax}$  is 1, respectively. Each non-AP STA affiliated with a non-AP MLD shall set  $\text{dot11MSDTXOPMax}$  and  $\text{dot11MSDOFMDThreshold}$  to the most recent values carried in the Medium Synchronization Maximum Number Of TXOps subfield and Medium Synchronization OFDM ED Threshold subfield, respectively, if they are present in the Common Info field of the Basic Multi-Link element received by any non-AP STA affiliated with the same non-AP MLD from its associated AP affiliated with the AP MLD with which the non-AP MLD has performed ML setup.

NOTE—If either the intra-BSS NAV or the basic NAV is nonzero in the non-AP STA affiliated with the non-AP MLD when it starts the MediumSyncDelay timer, the non-AP STA does not initiate any TXOP and follows the same rules as an HE STA to respond to any RTS or MU-RTS frame until both NAVs expire.

During the aCCAtime (see 36.3.21.6.3) immediately following the end of the transmission that caused loss of medium synchronization and subsequent initiation of the MediumSyncDelay timer at the non-AP STA, if the received signal strength exceeds the  $-62\text{ dBm}$  threshold for the primary  $20\text{ MHz}$  channel and no start of a PPDU is detected, the STA should defer for EIFS beginning when the received signal strength falls below the threshold.

#### 35.3.16.8.3 AP assisted medium synchronization recovery procedure

The AP assisted medium synchronization recovery procedure is a service provided by an AP MLD to help a non-AP STA affiliated with a non-AP MLD that has lost medium synchronization to transmit a frame without causing the collision with another transmission.

An AP affiliated with an AP MLD with  $\text{dot11AAROptionImplemented}$  equal to true shall set the AAR Support subfield in the MLD Capabilities And Operations subfield in a Basic Multi-Link element it transmits to 1; otherwise, the AP shall set the AAR Support subfield to 0.

If a non-AP STA affiliated with a non-AP MLD with  $\text{dot11AAROptionImplemented}$  that is equal to true and that belongs to an NSTR link pair, receives a Basic Multi-Link element from its associated AP affiliated with an AP MLD, with the AAR Support subfield equal to 1 and when the other non-AP STA that belongs to the same NSTR link pair needs assistance in transmitting frames on the other link, it shall transmit the AAR Control subfield in a frame that solicits an immediate response.

The AAR Control subfield transmitted by the STA shall indicate the link identifier(s) of the other assisting AP(s) affiliated with the same AP MLD operating on the enabled link(s) by setting the corresponding bits of the Link ID subfield to 1.

An assisting AP affiliated with the AP MLD should schedule a Trigger frame for transmission to the associated non-AP STA that is requesting assistance from the assisting AP after another AP affiliated with the same AP MLD successfully receives the AAR Control subfield in a frame, if the assisting AP does not have frame exchanges already scheduled with another non-AP STA. After receiving the trigger frame, the associated non-AP STA responds with an UL frame(s).

NOTE—If the CS Required subfield in a Trigger frame is equal to 1, then the non-AP STA uses the CCA-ED threshold as defined in 36.3.21.6 during the SIFS between the Trigger frame and the PPDU sent in response to the Trigger frame.

A non-AP STA with dot11AAROptionImplemented that is equal to false shall not transmit a frame containing an AAR Control subfield to its associated AP.

A non-AP STA shall not transmit a frame containing an AAR Control subfield with a value of 1 in the bit identifying the link identifier of its associated AP.

An AP shall not transmit the AAR Control subfield in a frame.

An example of AP assisted medium synchronization recovery procedure is shown in AH.14.4.

### 35.3.16.9 ML retransmit procedures

If an MLD has an established block ack agreement with another MLD for a TID, and the transmission of a QoS Data frame of the TID on a link is unsuccessful, the MLD may attempt retransmissions of the frame on any link to which the TID is mapped, subject to the applicable lifetime limit for that frame and subject to any other restrictions that apply to the link where the retransmission is scheduled.

If an MLD does not have a block ack agreement with another MLD for a TID, then the QoS Data frames for that TID with failed transmission attempts are delivered following the rules defined in 35.3.13.

NOTE—A retransmitted QoS Data frame is not encapsulated with a new PN when retransmitted on another link.

Individually addressed Management frames with failed transmission attempts are delivered following the rules defined in 35.3.14.

### 35.3.17 Enhanced multi-link single-radio (EMLSR) operation

The EMLSR operation defined in this subclause allows a non-AP MLD with multiple receive chains to listen on one or more EMLSR links when the corresponding non-AP STA(s) affiliated with the non-AP MLD is (are) in the awake state, as defined below, for an initial Control frame sent by an AP affiliated with an AP MLD in a non-HT (duplicate) PPDU and then participate in frame exchanges on the link on which the initial Control frame was received.

In EMLSR mode, a non-AP MLD shall follow the rules defined in this subclause.

An AP MLD with dot11EHTEMLSROptionActivated equal to true shall follow the rules defined in this subclause.

A non-AP MLD may operate in the EMLSR mode on a specified set of the enabled link(s) between the non-AP MLD and its associated AP MLD. The specified set of the enabled link(s) on which the EMLSR mode is applied is called EMLSR link(s). The EMLSR link(s) shall be indicated in the EMLSR Link Bitmap subfield of the EML Control field of the EML Operating Mode Notification frame by setting the bit position(s) corresponding to the link ID value(s) of the EMLSR link(s) in the EMLSR Link Bitmap subfield to 1. For the EMLSR mode enabled in a single-radio non-AP MLD, the STA(s) affiliated with the non-AP MLD that operates on the enabled link(s) that corresponds to the bit position(s) of the EMLSR Link Bitmap subfield

equal to 0 shall be in the doze state if a non-AP STA affiliated with the non-AP MLD that operates on one of the EMLSR link(s) is in the awake state.

An AP MLD with `dot11EHTEMPLSREnablementOnOneLinkImplemented` equal to true shall set the EMLSR Enablement On One Link Support subfield of the Extended MLD Capabilities And Operations subfield of the Common Info field of a Basic Multi-Link element to 1. If a non-AP MLD has received from an associated AP MLD a Basic Multi-Link element with the EMLSR Enablement On One Link Support subfield set to 1, the non-AP MLD may set a single bit position to 1 in the EMLSR Link Bitmap subfield of the EML Control field of the EML Operating Mode Notification frame when the non-AP MLD requests to enable the EMLSR mode. Otherwise, the non-AP MLD shall not set a single bit position to 1 in the EMLSR Link Bitmap subfield of the EML Control field of the EML Operating Mode Notification frame when the non-AP MLD requests to enable the EMLSR mode.

The EMLSR Link Bitmap subfield value of the latest EML Operating Mode Notification frame successfully transmitted by the non-AP MLD indicates the EMLSR link(s).

When a non-AP MLD with `dot11EHTEMPLSROptionActivated` equal to true (re)associates with an AP MLD, the EMLSR mode is disabled by default.

An MLD with `dot11EHTEMPLSROptionActivated` equal to true shall set the EML Capabilities Present subfield to 1 and shall set the EMLSR Support subfield in the Common Info field of the Basic Multi-Link element (9.4.2.322.2) to 1 in all Management frames that include the Basic Multi-Link element except Authentication frames. An MLD with `dot11EHTEMPLSROptionActivated` equal to false and `dot11EHTEMPLMROptionActivated` equal to true (see 35.3.18) shall set the EML Capabilities Present subfield to 1 and shall set the EMLSR Support subfield of the EML Capabilities subfield to 0. An MLD with `dot11EHTEMPLSROptionActivated` equal to false and `dot11EHTEMPLMROptionActivated` equal to false shall set the EML Capabilities Present subfield to 0.

When a non-AP MLD is operating in EMLSR mode on the EMLSR link(s), the non-AP STA(s) operating on the EMLSR link(s) and affiliated with the non-AP MLD shall not operate in dynamic SM power save mode (11.2.6) on the EMLSR link(s).

When a non-AP MLD with `dot11EHTEMPLSROptionActivated` equal to true intends to enable the EMLSR mode on the EMLSR link(s), then:

- A non-AP STA affiliated with the non-AP MLD shall transmit an EML Operating Mode Notification frame with the EMLSR Mode subfield of the EML Control field of the frame set to 1 to an AP affiliated with its associated AP MLD with `dot11EHTEMPLSROptionActivated` equal to true.
- A non-AP MLD may set the In-Device Coexistence Activities subfield of the EML Control field of the EML Operating Mode Notification frame to 1 to indicate that it has in-device coexistence activities on the EMLSR link(s), and to 0 to indicate that it has no, or does not know whether it has, in-device coexistence activities on the EMLSR link(s).
- An AP affiliated with the AP MLD should successfully transmit an EML Operating Mode Notification frame, after the AP MLD is ready to serve the non-AP MLD in the EMLSR operation, as a response to the received EML Operating Mode Notification frame, to a non-AP STA that is in the awake state and affiliated with the non-AP MLD, within the transition timeout interval, and the following rules apply:
  1. The transition timeout interval shall be indicated in the Transition Timeout subfield in the EML Capabilities subfield of the Basic Multi-Link element in all Management frames that include the Basic Multi-Link element except Authentication frames by an AP affiliated with the AP MLD.

b) The transition timeout interval starts at the end of the  $\text{PPDU}[\text{+SigExt}]$  that is transmitted by the AP affiliated with the AP MLD carrying the immediate acknowledgement to the EML Operating Mode Notification frame transmitted by the STA affiliated with the non-AP MLD.

c) The EML Control field of the EML Operating Mode Notification frame transmitted by the AP affiliated with the AP MLD is set to the same value as the EML Control field in the received EML Operating Mode Notification frame.

— The non-AP MLD shall operate in the EMLSR mode on the EMLSR link(s) and the other non-AP STA(s) affiliated with the non-AP MLD operating on the corresponding EMLSR link(s), which did not transmit the EML Operating Mode Notification frame, shall transition to active mode without being required to transmit a frame with the Power Management subfield set to 0, either:

a) At the end of the transition timeout interval, or

b) Before the end of the transition timeout interval, immediately after transmitting an acknowledgment as a response to the received EML Operating Mode Notification frame from one of the APs affiliated with the AP MLD,

whichever comes first.

— Any of the other non-AP STA(s) operating on the corresponding EMLSR link(s) shall not transmit a frame with the Power Management subfield set to 1 before receiving the EML Operating Mode Notification frame from one of the APs affiliated with the AP MLD or before the end of the transition timeout interval, whichever comes first.

When a non-AP MLD with  $\text{dot11EHTEMLSROptionActivated}$  equal to true intends to disable the EMLSR mode, then:

— A non-AP STA affiliated with the non-AP MLD shall transmit an EML Operating Mode Notification frame with the EMLSR Mode subfield of the EML Control field of the frame set to 0 to an AP affiliated with its associated AP MLD with  $\text{dot11EHTEMLSROptionActivated}$  equal to true.

— An AP affiliated with the AP MLD should successfully transmit an EML Operating Mode Notification frame, after the AP MLD is no longer serving the non-AP MLD in the EMLSR operation, as a response to the received EML Operating Mode Notification frame, to a non-AP STA that is in the awake state and affiliated with the non-AP MLD, within the transition timeout interval, and the following rules apply:

a) The transition timeout interval shall be indicated in the Transition Timeout subfield in the EML Capabilities subfield of the Basic Multi-Link element in all Management frames that include the Basic Multi-Link element except Authentication frames by an AP affiliated with the AP MLD.

b) The transition timeout interval starts at the end of the  $\text{PPDU}[\text{+SigExt}]$  that is transmitted by the AP affiliated with the AP MLD carrying the immediate acknowledgement to the EML Operating Mode Notification frame transmitted by the non-AP STA affiliated with the non-AP MLD.

c) The EML Control field of the EML Operating Mode Notification frame transmitted by the AP affiliated with the AP MLD is set to the same value as the EML Control field in the received EML Operating Mode Notification frame.

— The non-AP MLD shall disable the EMLSR mode and the other non-AP STA(s) affiliated with the non-AP MLD operating on the corresponding EMLSR link(s), which did not transmit the EML Operating Mode Notification frame, shall transition to power save mode without being required to transmit a frame with the Power Management subfield set to 1, either:

a) At the end of the transition timeout interval, or

b) Before the end of the transition timeout interval, immediately after transmitting an acknowledgment as a response to the received EML Operating Mode Notification frame from one of the APs affiliated with the AP MLD,

whichever comes first.

— Any of the other non-AP STA(s) operating on the corresponding EMLSR link(s) shall not transmit a frame with the Power Management subfield set to 0 before receiving the EML Operating Mode Notification frame from one of the APs affiliated with the AP MLD or before the end of the transition timeout interval, whichever comes first.

NOTE 1—Each of the STAs on the other link(s) of the EMLSR link(s) can transmit a frame with the Power Management subfield set to 1 and transition to power save mode immediately after successful transmission of the frame as described in 11.2.3.2 (Non-AP STA power management modes).

When a non-AP MLD is operating in the EMLSR mode with an AP MLD supporting the EMLSR mode, the following applies:

a) The non-AP MLD shall be able to listen on the EMLSR link(s), by having its affiliated non-AP STA(s) corresponding to those links in the awake state. The listening operation includes CCA and receiving the initial Control frame of frame exchanges that are initiated by the AP MLD.

NOTE 2—A non-AP STA operating on one of the EMLSR link(s) can change its power management mode and follows the procedure in 11.2. A non-AP STA can listen on one of the EMLSR link(s) in active mode or in PS mode when it is in the awake state.

b) On the EMLSR link(s), the group addressed frame(s) that are expected to be received by the non-AP MLD shall be buffered and delivered following the rules defined in 35.3.15.

c) An AP affiliated with the AP MLD that initiates frame exchanges that are neither group addressed Data nor group addressed Management frames with the non-AP MLD on one of the EMLSR links shall begin the frame exchanges by transmitting the initial Control frame to the non-AP MLD with the limitations specified below.

— The initial Control frame of frame exchanges shall be sent in the non-HT PPDU or non-HT duplicate PPDU format using a rate of 6 Mb/s, 12 Mb/s, or 24 Mb/s.

— The non-AP MLD shall indicate the EMLSR padding delay, which is the minimum MAC padding duration of the initial Control frame, in the EMLSR Padding Delay subfield of the EML Capabilities subfield in the Common Info field of the Basic Multi-Link element carried in a (Re)Association Request frame that it transmits.

— The non-AP MLD may update the EMLSR padding delay by including an updated EMLSR Padding Delay duration in the EMLSR Parameter Update field in the EML Operating Mode Notification frame.

— The AP affiliated with the AP MLD shall set the length of the Padding field of the initial Control frame based on the rules defined in 35.5.2.2.3 to ensure that the MAC padding duration of the initial Control frame is greater than or equal to the EMLSR padding delay last indicated by the non-AP MLD either in the EMLSR Padding Delay subfield of the EML Capabilities subfield in the Common Info field of the Basic Multi-Link element or in the EMLSR Padding Delay subfield of the EMLSR Parameter Update field in the last successfully transmitted EML Operating Mode Notification frame.

— The initial Control frame shall be an MU-RTS Trigger frame or a BSRP Trigger frame. The number of spatial streams for the response to the BSRP Trigger frame shall be limited to one, which shall be indicated in the BSRP Trigger frame.

NOTE 3—Whether to use the MU-RTS Trigger frame or the BSRP Trigger frame as the initial Control frame to initiate the frame exchanges is implementation specific and out of scope of this standard.

NOTE 4—If an AP MLD has received an EML Operating Mode Notification frame with the In-Device Coexistence Activities subfield of the EML Control field set to 1 from a non-AP MLD, and the AP MLD does not receive a response to an initial Control frame that it transmits to the non-AP MLD, then the AP can consider the nonresponse as a result of the in-device coexistence events at the non-AP MLD on the link where the frame was transmitted. The AP is recommended to consider the in-device coexistence indication and select appropriate transmission parameters and methods for the non-AP MLD.

d) A non-AP STA affiliated with a non-AP MLD that is in the listening operation and that receives an MU-RTS Trigger Frame or BSRP Trigger frame addressed to it shall respond as defined in 35.5.2.3

except when the frame exchanges initiated by the initial Control frame on one of the EMLSR links overlap with group addressed frame transmissions on the other EMLSR link where the non-AP STA intends to receive the group addressed frames.

e) After receiving the initial Control frame of frame exchanges and transmitting an immediate response frame as a response to the initial Control frame, a non-AP STA affiliated with the non-AP MLD that was listening on the corresponding link shall be able to transmit or receive frames on the link on which the initial Control frame was received and shall not transmit or receive on the other EMLSR link(s) until the end of the frame exchanges, and subject to its spatial stream capabilities, operation mode, and the minimum MAC frame padding duration of the Padding field of the initial Control frame, the non-AP STA affiliated with the non-AP MLD shall be capable of receiving a PPDU that is sent using more than one spatial stream on the link on which the initial Control frame was received a SIFS after the end of its response frame transmission solicited by the initial Control frame. During the frame exchanges, the other AP(s) affiliated with the AP MLD shall not transmit frames to the other non-AP STA(s) affiliated with the non-AP MLD on the other EMLSR link(s).

f) The non-AP MLD shall indicate its EMLSR transition delay in the EMLSR Transition Delay subfield of the EML Capabilities subfield in the Common Info field of the Basic Multi-Link element carried in a (Re)Association Request frame that it transmits. The non-AP MLD may update its EMLSR transition delay by including the EMLSR Parameter Update field in an EML Operating Mode Notification frame.

g) When the EMLSR Parameter Update field is present in an EML Operating Mode Notification frame, the EMLSR Link Bitmap subfield of the EML Control field shall contain a different value than the EMLSR Link Bitmap value contained in the most recent EML Operating Mode Notification frame successfully transmitted by the non-AP MLD.

h) A non-AP STA affiliated with the non-AP MLD may transmit an EML Operating Mode Notification frame to update the value of the In-Device Coexistence Activities subfield of the EML Control field of the most recent EML Operating Mode Notification frame successfully transmitted by a non-AP STA affiliated with the non-AP MLD.

i) The non-AP MLD shall be switched back to the listening operation on the EMLSR link(s) after the EMLSR transition delay time most recently indicated by the non-AP MLD if any of the following conditions is met, and this is defined as the end of the frame exchanges:

- The MAC of the non-AP STA affiliated with the non-AP MLD that received the initial Control frame does not receive a PHY-RXSTART indication primitive during a timeout interval of aSIFSTime + aSlotTime + aRxPHYStartDelay, where aRxPHYStartDelay is equal to 20  $\mu$ s, starting at the end of the PPDU transmitted by the non-AP STA affiliated with the non-AP MLD as a response to the most recently received frame from the AP affiliated with the AP MLD or starting at the end of the reception of the PPDU containing a frame for the non-AP STA from the AP affiliated with the AP MLD that does not require immediate acknowledgement.
- The MAC of the non-AP STA affiliated with the non-AP MLD that received the initial Control frame receives a PHY-RXSTART indication primitive during a timeout interval of aSIFSTime + aSlotTime + aRxPHYStartDelay starting at the end of the PPDU transmitted by the non-AP STA affiliated with the non-AP MLD as a response to the most recently received frame from the AP affiliated with the AP MLD or starting at the end of the reception of the PPDU containing a frame for the non-AP STA from the AP affiliated with the AP MLD that does not require immediate acknowledgement and this non-AP STA does not detect, within the PPDU corresponding to the PHY-RXSTART indication any of the following frames:
  - an individually addressed frame with the RA equal to the MAC address of the non-AP STA affiliated with the non-AP MLD
  - a Trigger frame that has one of the User Info fields addressed to the non-AP STA affiliated with the non-AP MLD
  - a CTS-to-self frame with the RA equal to the MAC address of the AP affiliated with the AP MLD

- A Multi-STA BlockAck frame that has one of the Per AID TID Info fields addressed to the non-AP STA affiliated with the non-AP MLD
- An NDP Announcement frame that has one of the STA Info fields addressed to the non-AP STA affiliated with the non-AP MLD and a sounding NDP
- The non-AP STA affiliated with the non-AP MLD that received the initial Control frame does not respond to the most recently received frame from the AP affiliated with the AP MLD that requires an immediate response after a SIFS.

1. The AP affiliated with the AP MLD should transmit before the TXNAV timer expires another initial Control frame addressed to the non-AP STA affiliated with the non-AP MLD if the AP intends to continue the frame exchanges with the STA and did not receive the response frame from this STA for the most recently transmitted frame that requires an immediate response after a SIFS.
2. Any one of the non-AP STA(s) affiliated with the non-AP MLD that is operating on one of the EMLSR link(s) may initiate frame exchanges with the AP MLD.
3. When a non-AP STA affiliated with the non-AP MLD initiates a TXOP, the following applies:
   - The non-AP MLD shall be switched back to the listening operation on the EMLSR link(s) after the EMLSR transition delay time indicated by the non-AP MLD after the end of the TXOP.

NOTE 5—A non-AP STA affiliated with a non-AP MLD operating in the EMLSR mode does not need to transmit an initial Control frame to initiate frame exchanges with the AP MLD and follows the rules defined in 10.3.2.4 (Setting and resetting the NAV) and in 10.23.2 to access the WM.

NOTE 6—The rules above also apply to a sounding sequence.

NOTE 7—When an AP affiliated with the AP MLD transmits an initial Control frame that initiates frame exchanges with more than one non-AP MLD operating in the EMLSR mode, the AP ensures that the length of the Padding field of the initial Control frame is calculated based on the rules in 35.5.2.2.3 to ensure that the MAC frame padding duration of the initial Control frame is greater than or equal to the maximum of the values indicated in the EMLSR Padding Delay subfield of the Basic Multi-Link elements received from the non-AP MLDs with which the frame exchanges are initiated.

NOTE 8—A non-AP STA affiliated with the non-AP MLD that is operating in the EMLSR mode follows the rules defined in 11.2.3.7 and 11.2.3.8.

NOTE 9—A non-AP STA affiliated with a non-AP MLD that is operating in the EMLSR mode can receive Beacon frames at scheduled beacon transmission times (i.e., TBTT).

Examples of frame exchanges during EMLSR operation are shown in AH.15.

### 35.3.18 Enhanced multi-link multi-radio (EMLMR) operation

The enhanced multi-link multi-radio (EMLMR) operation defined in this subclause allows a non-AP MLD with multiple radios on multiple links to listen a set of links as defined below for an initial frame sent by an AP affiliated with an AP MLD, followed by frame exchanges that satisfy the MCS and number of spatial streams ( $N_{SS}$ ) capabilities in the EMLMR mode on the link on which the initial frame was received. Here initial frame is transmitted in a PPDU whose  $N_{SS}$  satisfies the receiving STA's capabilities.

A non-AP MLD may operate in the EMLMR mode on a specified set of the enabled links as defined in 9.4.1.76 between the non-AP MLD and its associated AP MLD. The specified set of the enabled links in which the EMLMR mode is applied is called EMLMR links. A non-AP STA affiliated with the non-AP MLD that is on an EMLMR link is an EMLMR STA. The EMLMR links shall be indicated in the EMLMR Link Bitmap subfield of the EML Control field of the EML Operating Mode Notification frame (see 9.6.38.8) by setting the bit positions corresponding to the link IDs of these links in the EMLMR Link Bitmap subfield to 1.

An MLD with dot11EHTEMPLROptionActivated equal to true shall set the EML Capabilities Present subfield to 1 and shall set the EMLMR Support subfield of the Common Info field of transmitted Basic Multi-Link elements to 1; otherwise, the MLD shall set the EMLMR Support subfield to 0 if present.

A non-AP MLD with dot11EHTEMPLROptionActivated equal to true shall indicate the number of spatial streams  $N_{SS}$  that it supports for reception and transmission on any EMLMR link after responding to the initial frame in the EMLMR Supported MCS And NSS Set subfield of the EML Control field of the EML Operating Mode Notification frame.

An EMLMR non-AP STA shall not be a 20 MHz-only non-AP EHT STA.

The supported rates, HT-MCS, VHT-MCS, and HE-MCS for a bandwidth and  $N_{SS}$  shall be the same as the supported EHT-MCS for the corresponding bandwidth and  $N_{SS}$  unless the corresponding MCS is not defined. If the MCS is not defined in the corresponding PHY amendment, the highest MCS support is implied.

When a non-AP MLD with dot11EHTEMPLROptionActivated equal to true (re)associates with an AP MLD, the EMLMR mode is disabled by default. If a non-AP MLD with dot11EHTEMPLROptionActivated equal to true intends to enable or disable EMLMR mode after association with an AP MLD that sets its EMLMR Support subfield to 1, then a non-AP STA affiliated with the non-AP MLD shall transmit an EML Operating Mode Notification frame with EMLMR Mode subfield equal to 1 or 0, respectively.

After successful transmission of the EML Operating Mode Notification frame from the non-AP STA affiliated with the non-AP MLD to an AP affiliated with an AP MLD, the non-AP STA initializes the transition timeout timer with the value in the Transition Timeout subfield of the Basic Multi-Link element received from the AP MLD. After transmitting the Ack frame solicited by the EML Operating Mode Notification frame from a non-AP STA affiliated with the non-AP MLD, the AP MLD initializes the transition timeout timer with the value in the Transition Timeout subfield of the Basic Multi-Link element announced by the AP MLD. The transition timeout timer begins counting down from the end of the PPDU containing the Ack frame solicited by the EML Operating Mode Notification frame. An AP affiliated with the AP MLD that receives an EML Operating Mode Notification frame from a non-AP STA affiliated with the non-AP MLD should send an EML Operating Mode Notification frame to confirm the mode switch at the AP MLD to the non-AP STA with EML Control field set to the same value as EML Control field in the received EML Operating Mode Notification frame from the non-AP STA before the transition timeout expires.

The non-AP MLD shall transition to the indicated mode immediately after receiving the EML Operating Mode Notification frame from the AP or immediately after the transition timeout timer expires, whichever comes first.

A non-AP MLD with dot11EHTEMPLROptionActivated equal to true shall indicate the minimum padding duration required for the non-AP MLD for EMLMR link switch in the EMLMR Padding Delay subfield in the Common Info field of transmitted Basic Multi-Link elements.

NOTE 1—EMLMR link switching, which is the action of switching transmit chains and receive chains from one link to another link, can happen during the transmission time of the initial response frame. However, the duration of the initial response frame can be different depending on the initial frame. The non-AP MLD might determine the minimum padding duration such that it can be satisfied even when the shortest initial response frame is used on EMLMR link(s) (e.g., a CTS frame in non-HT PPDU with the highest rate in the BSSBasicRateSet parameters).

When an AP affiliated with an AP MLD transmits a PPDU that initiates a frame exchange with a non-AP MLD operating in EMLMR mode, the AP shall ensure that the padding duration of the PPDU is longer than or equal to the minimum padding duration value indicated by the EMLMR Padding Delay field of the Basic Multi-Link element in the (Re)Association Request frame received from the non-AP MLD.

NOTE 2—The initial frame exchange can be any frame exchange as long as the soliciting frame satisfies the padding requirement, e.g., through Trigger frame padding if the soliciting frame is a Trigger frame, or through MPDU delimiter padding if the soliciting frame is carried in an A-MPDU.

NOTE 3—The Channel Width (Extension) received from a EMLMR STA's (EHT) OM Control field or Operating Mode Notification element is applied to all the PPDU's addressed to the STA.

Within a TXOP initiated by an AP affiliated with AP MLD with an EMLMR STA affiliated with a non-AP MLD as the TXOP responder, the non-AP MLD shall switch to its per-link spatial stream capabilities defined by the EHT Capabilities element or the current operating mode (if different from the EHT Capabilities element) per (EHT) OM Control or Operating Mode Notification element after the time indicated in the EMLMR Transition Delay subfield of the EML Capabilities subfield in the Common Info field of the Basic Multi-Link element if any of the following conditions is met and this is defined as the end of the frame exchange sequence:

- The MAC of the STA affiliated with the non-AP MLD that received the initial frame does not receive a PHY-RXSTART.indication primitive during a timeout interval of aSIFSTime + aSlotTime + aRxPHYStartDelay starting at the end of the PPDU transmitted by the STA affiliated with the non-AP MLD as a response to the most recently received frame from the AP affiliated with the AP MLD or starting at the end of the reception of the PPDU containing a frame for the STA from the AP affiliated with the AP MLD that does not require immediate acknowledgement.
- The MAC of the STA affiliated with the non-AP MLD that received the initial frame receives a PHY-RXSTART.indication primitive during a timeout interval of aSIFSTime + aSlotTime + aRxPHYStartDelay starting at the end of the PPDU transmitted by the STA affiliated with the non-AP MLD as a response to the most recently received frame from the AP affiliated with the AP MLD or starting at the end of the reception of the PPDU containing a frame for the STA from the AP affiliated with the AP MLD that does not require immediate acknowledgement and the STA affiliated with the non-AP MLD does not detect, within the PPDU corresponding to the PHY-RXSTART.indication any of the following frames:
  - an individually addressed frame with the RA equal to the MAC address of the STA affiliated with the non-AP MLD
  - a Trigger frame that has one of the User Info fields addressed to the STA affiliated with the non-AP MLD
  - a CTS-to-self frame with the RA equal to the MAC address of the AP affiliated with the AP MLD
  - a Multi-STA BlockAck frame that has one of the Per AID TID Info fields addressed to the STA affiliated with the non-AP MLD
  - an NDP Announcement frame that has one of the STA Info fields addressed to the STA affiliated with the non-AP MLD and a sounding NDP
- The STA affiliated with the non-AP MLD that received the initial frame does not respond to the most recently received frame from the AP affiliated with the AP MLD that requires immediate response after a SIFS.

The AP affiliated with the AP MLD should transmit before the TXNAV timer expires another initial frame addressed to the non-AP STA affiliated with the non-AP MLD if the AP intends to continue the frame exchanges with the STA and did not receive the response frame from this STA for the most recently transmitted frame that requires an immediate response after a SIFS.

When a non-AP MLD operates in the EMLMR mode, after the initial frame exchange, subject to its per-link spatial stream capabilities and operating mode defined by the exchanged Operating Mode Notification frame, (EHT) OM control on one of the EMLMR link(s), the non-AP MLD shall be able to support the following until the end of the frame exchange sequence initiated by the initial frame exchange:

- Receive PPDU with the number of spatial streams up to the value as indicated in the EMLMR Supported MCS And NSS Set subfield of the EML Control field of the EML Operating Mode Notification frame at a time on the link for which the initial frame exchange was made.
- Transmit PPDU with the number of spatial streams up to the value as indicated in the EMLMR Supported MCS And NSS Set subfield of the EML Control field of the EML Operating Mode Notification frame at a time on the link for which the initial frame exchange was made.

After the end of the frame exchange sequence, each non-AP STA affiliated with the non-AP MLD in the EMLMR mode shall be able to transmit or receive PPDU, subject to its per-link spatial stream capabilities and operating mode defined by EHT Capabilities element, the exchanged Operating Mode Notification frame, (EHT) OM control and subject to any switching delay indicated by the non-AP MLD.

Each EMLMR STA independently maintains its own power management mode and the awake/doze state in power save mode.

If an EMLMR STA affiliated with a non-AP MLD obtains a TXOP and transmits frames, the PPDU that carry the frames are transmitted at an EHT-MCS and  $N_{SS}$  indicated as supported in the EMLMR Supported MCS and NSS Set advertised by the non-AP MLD.

If an AP affiliated with the AP MLD is the TXOP holder and performs frame exchanges with an EMLMR STA affiliated with a non-AP MLD and the frame exchanges with the EMLMR STA are not finished, then another AP affiliated with the AP MLD shall not initiate frame exchanges with another EMLMR STA affiliated with the non-AP MLD, and another EMLMR STA affiliated with the non-AP MLD shall not initiate frame exchange with its associated AP.

An example of frame exchanges during EMLMR operation is shown in AH.16.

### 35.3.19 NSTR mobile AP MLD operation

#### 35.3.19.1 General

An AP MLD that is an NSTR mobile AP MLD shall set `dot11EHTNSTRMobileAPMLDImplemented` to true, otherwise, it shall set `dot11EHTNSTRMobileAPMLDImplemented` to false. An NSTR mobile AP MLD shall have at most two links, and the two links shall be operating on an NSTR link pair.

Each AP affiliated with an NSTR mobile AP MLD may optionally support the following features in addition to the optional features supported by an AP affiliated with an AP MLD that is not an NSTR mobile AP MLD:

- Support of DL and UL OFDMA operation
- Support of two or more spatial streams
- Support for 160 MHz operating channel width in the 6 GHz band
- Support for MRU for DL/UL OFDMA if DL/UL OFDMA operation is supported

NOTE 1—An NSTR mobile AP MLD follows the rules defined in 35.3.2. The NSTR mobile AP MLD is in a mobile device that is typically battery powered.

An NSTR mobile AP MLD shall designate one of the links of an NSTR link pair as the primary link of the AP MLD. The primary link shall not be disabled or removed and the nonprimary link may be disabled or removed. The other link of the NSTR link pair is the nonprimary link. The NSTR mobile AP MLD shall schedule for transmissions of Beacon and Probe Response frames and group addressed Data frames only on the primary link.

NOTE 2—NSTR mobile AP MLD can save power by disabling or removing the nonprimary link without any impact to the legacy and single link EHT devices.

NOTE 3—How to designate a primary link is implementation related. Changing the designation of the primary link is achieved by performing the channel switch procedure so that the associated STAs on the current primary link can switch to the new primary link.

An NSTR mobile AP MLD may change the operating channel for either the primary or nonprimary link or both by following the procedures described in 11.8.8, 11.8.9, and 35.3.19.3. An NSTR mobile AP MLD that intends to swap the operating channel used for its primary and nonprimary links respectively will simultaneously perform the (extended) channel switch operation on both links.

TSF timers of all APs affiliated with an NSTR mobile AP MLD shall be the same.

NOTE 4—Since the TSF timers of all APs affiliated with an NSTR mobile AP MLD are the same, a non-AP MLD that is associated with an NSTR mobile AP MLD only needs to maintain one TSF timer for all the links.

A non-AP MLD shall perform frame exchanges during the authentication, (re)association, and 4-way handshake procedures only on the primary link of the NSTR mobile AP MLD.

NOTE 5—No frame exchange is allowed to be initiated through EDCA channel access on the nonprimary link alone.

Non-AP STAs affiliated with a non-AP MLD that is associated with an NSTR mobile AP MLD and APs affiliated with an NSTR mobile AP MLD shall follow the procedure defined in 35.3.16.6 when intending to transmit in the nonprimary link with the following additional constraints:

- A non-AP STA affiliated with the non-AP MLD may initiate a PPDU transmission to its associated AP affiliated with the NSTR mobile AP MLD operating on the nonprimary link only if the other non-AP STA affiliated with the same non-AP MLD operating on the primary link is also initiating the PPDU as a TXOP holder to its associated AP with the same start time.
- An AP affiliated with the NSTR mobile AP MLD may initiate a PPDU transmission to its associated non-AP STA operating on the nonprimary link only if the other AP affiliated with the same NSTR mobile AP MLD operating on the primary link is also initiating the PPDU as a TXOP holder with the same start time.

APs affiliated with an NSTR mobile AP MLD that are simultaneously transmitting PPDU s to the associated non-AP STAs shall align the end time of PPDU s following the same rules that are defined for an AP MLD in 35.3.16.5.

Non-AP STAs affiliated with a non-AP MLD that are simultaneously transmitting PPDU s to the associated APs affiliated with an NSTR mobile AP MLD shall align the end time of PPDU s following the same rules that are defined for an AP MLD in 35.3.16.5.

NOTE 6—The end time alignment of PPDU s carrying the response frames follow the same rules as those for the soliciting PPDU s.

An NSTR mobile AP MLD shall set the SRS Support subfield in the Common Info field of the Basic Multi-Link element it transmits to 1 to indicate support for the reception of a frame that carries an SRS Control subfield if its dot11SRSOptionImplemented is true; otherwise, the MLD shall set it to 0.

If non-AP STAs affiliated with a non-AP MLD or its associated NSTR mobile AP MLD simultaneously transmit PPDU s to a STA affiliated with an MLD that has dot11SRSOptionImplemented equal to true, and the transmitted PPDU s solicit control response frames and the MLD intends to align the end times of the PPDU s sent in response by the peer STAs, then at least one of the PPDU s soliciting a control response frame shall carry an MPDU with the SRS Control subfield following the procedure defined in 35.3.16.5.2.

An NSTR mobile AP MLD shall set the TID-To-Link Mapping Negotiation Support subfield of MLD Capabilities And Operations subfield of the Basic Multi-Link element to at most 1. The TTLM between the non-AP MLD and NSTR mobile AP MLD shall be default mapping mode or all TIDs shall be mapped to the primary link.

### 35.3.19.2 Discovery of an NSTR mobile AP MLD

The discovery procedure for an NSTR mobile AP MLD is the same as the procedure described in 35.3.4 with the following exceptions:

- An AP affiliated with an NSTR mobile AP MLD and that is operating on the primary link shall indicate that it is an NSTR mobile AP MLD by setting AP MLD Type Indication subfield to 1 in MLD Capabilities And Operations subfield of Common Info field in the Basic Multi-Link element.
- An AP affiliated with an NSTR mobile AP MLD and that is operating on the primary link shall include a Reduced Neighbor Report element with the MLD Parameters subfield present in a TBTT Information field corresponding to a reported AP affiliated with the same NSTR mobile AP MLD and that is operating on the nonprimary link of the NSTR link pair in a Beacon and Probe Response frames that it transmits. The Neighbor AP TBTT Offset subfield, the BSSID subfield, the ShortSSID subfield, the BSS Parameters subfield and the 20 MHz PSD subfield shall not be present in the TBTT Information field for that reported AP. The TBTT Information Field Type subfield shall be set to 1 to identify, together with the TBTT Information Length subfield, the format of the TBTT Information field for the reported AP operating on the nonprimary link.
- A non-AP MLD shall identify the NSTR mobile AP MLD by AP MLD Type Indication subfield equal to 1 in MLD Capabilities And Operations subfield of Common Info field in the Basic Multi-Link element received on the primary link. A non-AP STA affiliated with a non-AP MLD shall not transmit a Probe Request frame to the AP affiliated with the NSTR mobile AP MLD and that is operating on the nonprimary link of the NSTR link pair. To request a complete profile of the AP operating on the nonprimary link, a non-AP STA affiliated with a non-AP MLD shall send a multi-link probe request to an AP affiliated with the NSTR mobile AP MLD and that is operating on the primary link (see 35.3.4.2).
- The NSTR mobile AP MLD shall not respond to any received Probe Request frames on the nonprimary link.

### 35.3.19.3 NSTR mobile AP MLD ML procedures for (extended) channel switching and channel quieting

ML procedures for channel switching, extended channel switching, and channel quieting for an AP affiliated with an NSTR mobile AP MLD on the nonprimary link follow the same rules defined in 35.3.11 with the following exceptions:

- An AP affiliated with an NSTR mobile AP MLD on the primary link may schedule channel switching and quiet intervals for the AP affiliated with the same NSTR mobile AP MLD on the nonprimary link by including the corresponding elements in the STA Profile field of the Per-STA Profile subelement corresponding to the AP on the nonprimary link carried in Beacon frames and Probe Response frames that it transmits on the primary link.
- The timing fields in the Channel Switch Announcement element, the Extended Channel Switch Announcement element, the Quiet element, and the Quiet Channel element shall be applied in reference to the most recent TBTT and BI indicated in the corresponding element(s) of the AP operating on the primary link.
- The Switch Time field in the Max Channel Switch Time element included in the Per-STA Profile subelement corresponding to the AP operating on the nonprimary link indicates an adjusted estimated time after which the corresponding AP resumes BSS operation on the new channel/class (see 9.4.2.216).

NOTE—The TBTT and the BI are not defined for a BSS of an AP operating on the nonprimary link. This is because the AP does not send a Beacon frame for its BSS.

When an NSTR mobile AP MLD simultaneously switches or swaps the operating channels for its primary and nonprimary links, the first Beacon that does not include the Max Channel Switch Time element transmitted by the AP operating on the new channel/class of the primary link indicates that the affected/reported AP operating on the nonprimary link has resumed the BSS operation on the new channel/class.

For an NSTR mobile AP MLD, if only the affiliated AP on the nonprimary link is performing channel switch, after the estimated target switch time, a non-AP MLD associated with the NSTR mobile AP MLD shall be able to determine that the AP (affected/reported) AP operating on the nonprimary link is in the process for switching its operating channel/class to the new channel/class when the most recently received per-STA profile that is corresponding to the nonprimary link includes the Max Channel Switch Time element and does not include the (Extended) Channel Switch Announcement element. The non-AP MLD shall be able to determine that the affected/reported AP operating on the nonprimary link has resumed the BSS operation when the most recently received per-STA profile corresponding to that affected/reported AP stops including the Max Channel Switch Time element.

### 35.3.20 MLO in a multiple BSSID set or co-hosted BSSID set

An AP MLD shall not have more than one affiliated AP amongst APs that are members of the same multiple BSSID set or of the same co-hosted BSSID set.

Each AP affiliated with an AP MLD shall be independently configured to operate as a transmitted BSSID or as a nontransmitted BSSID in a multiple BSSID set, or as an AP belonging to a co-hosted BSSID set, or as an AP that is neither a member of a multiple BSSID set nor a member of a co-hosted BSSID set. Annex A provides example configurations. Each AP MLD whose affiliated APs belong to a multiple BSSID set or a co-hosted BSSID set shall independently assign a Link ID (see 35.3.3.2) to each of its affiliated APs.

An AP affiliated with an AP MLD that is a member of a multiple BSSID set shall follow the procedures described in 11.1.3.8. A non-AP STA affiliated with a non-AP MLD shall follow the procedure described in 11.1.3.8 during discovery and after association when the peer AP is a member of a multiple BSSID set. An R-TWT scheduled STA (see 35.8.1) that is associated with an AP corresponding to the nontransmitted BSSID in a multiple BSSID set shall not apply inheritance rules specified in 11.1.3.8.4 to the TWT element(s) carried outside the Multiple BSSID element in a Beacon frame or a Probe Response frame transmitted by the AP corresponding to the transmitted BSSID in the same multiple BSSID set unless the nontransmitted BSSID profile of its associated AP does not carry any TWT element and the Non-Inheritance element (if present) in the profile does not include the Element ID for TWT element. When inheritance is applied, only the Broadcast TWT Parameter Set field(s) that have Broadcast TWT ID subfield set to a value other than 31 shall be inherited.

NOTE 1—An R-TWT scheduled STA that is associated with any AP in a multiple BSSID set determines the R-TWT schedule(s) belonging to other AP(s) in the same multiple BSSID set by parsing the R-TWT parameter set(s) contained within the TWT element(s) carried outside the Multiple BSSID element (see 35.8.3 and 35.8.4.1).

An AP affiliated with an AP MLD that is a member of a co-hosted BSSID set shall follow the rules described in 26.17.7.

The inheritance rules specified in 11.1.3.8.4 shall not be applied to a Multi-Link element, and as a result a Multi-Link element shall not be inherited from a transmitted BSSID to a nontransmitted BSSID profile of a multiple BSSID set (see explanatory NOTE 2 below).

NOTE 2—The Basic Multi-Link element for an AP corresponding to the transmitted BSSID is always included in a Beacon frame and a Probe Response frame that it transmits. The content of the Basic Multi-Link element for each AP in

a multiple BSSID set will always be different since at least the AP MLD MAC address is different for each AP. As a result, the Basic Multi-Link element cannot be inherited. Also, since all variants of the Multi-Link element (see Table 9-417f) share the same Element ID and Element ID Extension (see Table 9-130), no variant of Multi-Link element can be inherited.

A non-AP STA affiliated with a non-AP MLD shall follow the procedure described in 26.17.7 when the peer AP is a member of a co-hosted BSSID set.

An AP corresponding to the transmitted BSSID shall not include a Basic Multi-Link element in the Nontransmitted BSSID Profile subelement of a Multiple BSSID element unless the AP corresponding to the nontransmitted BSSID is affiliated with an AP MLD. When carried in a Nontransmitted BSSID Profile subelement of a Multiple BSSID element included in a Beacon or Probe Response frame that is not a multi-link probe response, the Basic Multi-Link element shall not include the Per-STA Profile subelement corresponding to reported AP affiliated with the same AP MLD unless conditions defined in 35.3.11 are satisfied for the reported AP.

When an AP corresponding to a transmitted BSSID in a multiple BSSID set transmits a multi-link probe response in response to a multi-link probe request directed to an AP corresponding to a nontransmitted BSSID in the same multiple BSSID set (see 35.3.4.2), the Probe Response frame shall also include a Basic Multi-Link element, carried outside the Multiple BSSID element, corresponding to the AP MLD with which the transmitted BSSID is affiliated and the Basic Multi-Link element shall not carry a complete profile for any of the reported APs and shall not include the AP MLD ID subfield in the Common Info field.

When an AP corresponding to a transmitted BSSID in a multiple BSSID set transmits a multi-link probe response in response to a multi-link probe request directed to an AP corresponding to a nontransmitted BSSID in the same multiple BSSID set, the Probe Response frame:

- Shall carry a Basic Multi-Link element, outside the Multiple BSSID element, containing a profile of the requested AP(s) affiliated with the AP MLD with which the AP corresponding to that nontransmitted BSSID is affiliated and the AP MLD ID subfield of the Common Info field of the Basic Multi-Link element is set to the BSSID Index of the nontransmitted BSSID.
- May include a Basic Multi-Link element corresponding to the AP MLD(s) of other APs corresponding to the nontransmitted BSSIDs in the multiple BSSID set. Such Basic Multi-Link element(s) do not carry a complete profile for any reported AP(s) and are carried in the corresponding nontransmitted BSSID profile(s) (if present) contained in the Multiple BSSID element.
- Shall carry a Reduced Neighbor Report element containing information of the other AP(s) affiliated with the transmitting AP's (transmitted BSSID's) AP MLD and the information of other AP(s) affiliated with the AP MLD(s) of all the nontransmitted BSSIDs in the same multiple BSSID set by following the rules in 35.3.4.1.

An AP that supports the procedure described in 11.1.3.8.6 (Multiple BSSID index adjustment procedure) shall select the value for the Index Adjustment TBTT Count field of the Multiple BSSID Configuration element based on:

- The value carried in the Mapping Switch Time field of the TID-To-Link Mapping element that carries the advertised mapping if the AP corresponding to the transmitted BSSID is being disabled by following the procedure described in 35.3.7.2.4.
- The value carried in the AP Removal Timer field carried in the per-STA profile in the Reconfiguration Multi-Link element corresponding to the transmitted BSSID if the AP corresponding to the transmitted BSSID is being removed by following the procedure described in 35.3.6.3.

### 35.3.21 TDLS procedure in MLO

#### 35.3.21.1 General

TDLS discovery and setup (typically discovery frame exchange followed by setup frame exchange) between a non-AP MLD and a peer STA involves frames that are sent and received via an intermediate AP (MLD) or sent and received through direct communication (see Table 11-15a).

NOTE 1—As an alternative to transmitting a TDLS Discovery Request frame, a non-AP MLD can discover a TDLS peer by sending an unsolicited TDLS Discovery Response frame or a TDLS Setup Request frame without exchanging TDLS discovery frames (see 11.20.3).

An EHT non-AP STA affiliated with a non-AP MLD shall establish only a single link TDLS.

NOTE 2—The single link TDLS direct link can be established between a non-AP STA affiliated with a non-AP MLD and another non-AP STA that might not be affiliated with a non-AP MLD.

A non-AP MLD that intends to establish a single link TDLS direct link with a peer STA on one of its links follows the procedures defined in 11.20, with additional rules defined in 35.3.21.2.

If a TDLS peer STA that is a member of a broadcast TWT schedule intends to transmit frames to another TDLS peer STA over a TDLS direct link during the TWT SP corresponding to the broadcast TWT schedule, then the TDLS peer STA may send a TDLS Broadcast TWT Request frame to the other TDLS peer STA if both of the TDLS peer STAs set the TDLS Broadcast TWT Support field in the Extended Capabilities element they transmit to 1, where the broadcast TWT schedule is identified by the Broadcast TWT ID subfield in the TWT Information Extension element in the TDLS Broadcast TWT Request frame. If the other TDLS peer STA, upon reception of the TDLS Broadcast TWT Request frame, responds by transmitting a TDLS Broadcast TWT Response frame with the status code SUCCESS, then the other TDLS peer STA is expected to be in the awake state during the TWT SPs corresponding to the broadcast TWT schedule until the number of TBTTs indicated by the associated AP in the Broadcast TWT Persistence subfield of the Broadcast TWT Parameter Set field corresponding to the broadcast TWT schedule in the Beacon and Probe Response frames. The number of beacon intervals during which the other TWT peer STA is expected to be in the awake state during the broadcast TWT SPs is equal to the value in the Broadcast TWT Persistence subfield plus 1. In the TDLS Broadcast TWT Response frame, the Broadcast TWT ID subfield value in the TWT Information Extension element shall be the same as that in TDLS Broadcast TWT Request frame.

#### 35.3.21.2 TDLS direct link over a single link

A non-AP MLD shall include a TDLS Multi-Link element that does not carry the Link Info field and contains only the MLD MAC address of its associated AP MLD MAC in the Common Info field when it transmits a TDLS Discovery Request frame, TDLS Discovery Response frame or a TDLS Setup Request frame for establishing a single link TDLS direct link.

When a non-AP MLD that has performed ML setup with an AP MLD establishes a single link TDLS direct link on one of its links, it shall set the context (i.e., security, SN/PN, BA) for the TDLS direct link with respect to the MLD MAC address of the non-AP MLD. For ease of description in the rest of this subclause, the single link TDLS context is described with respect to a TDLS non-AP STA affiliated with the non-AP MLD. The TDLS non-AP STA affiliated with the non-AP MLD shall be able to receive frames sent over the direct link with RA field set to the MLD MAC address of the non-AP MLD. When a TDLS non-AP STA affiliated with the non-AP MLD initiates TDLS discovery, it shall set the TA field of frames sent via the direct path to the MLD MAC address of the non-AP MLD.

Frames that traverse the intermediate AP (MLD) are sent or received by a non-AP STA affiliated with a non-AP MLD. Frames sent over the direct link are sent or received by a TDLS non-AP STA affiliated with the

non-AP MLD. The TDLS direct link, when successfully established, is between the TDLS non-AP STA affiliated with the non-AP MLD and a TDLS peer STA at the other end of the direct link.

If the TDLS initiator is a non-AP MLD, then the TDLS initiator STA Address field contained in the Link Identifier element of the TDLS frames shall be set to the MLD MAC address of the non-AP MLD.

A non-AP MLD that initiates a TDLS discovery might not know the AP (i.e., the BSSID) with whom the intended peer STA is associated with (see NOTE 1 below). Therefore, when a non-AP MLD initiates a TDLS discovery operation, it may need to transmit more than one TDLS Discovery Request frame with the BSSID field of the Link Identifier element set to a different BSSID in each attempt. In each instance, the attempted BSSID corresponds to a different AP that is affiliated with its associated AP MLD and is part of the ML setup with the AP MLD. Since the TDLS Discovery Response frame is received over the direct link, the initiating non-AP MLD shall be able to determine the BSSID(s) where the peer non-AP STA or non-AP MLD is reachable.

NOTE 1—Due to the nature of MLO, when a Data frame that is transmitted by a non-AP STA affiliated with a non-AP MLD and that is directed towards a peer TDLS STA (i.e., the DA field is set to the target's MAC address) traverses an AP MLD, it can be relayed by the AP MLD (i.e., transmitted by an AP affiliated with the AP MLD) on a link where the target is reachable. Furthermore, when a frame that was transmitted by a non-AP STA affiliated with a non-AP MLD traverses an AP MLD, the AP MLD sets the SA field to the transmitting non-AP MLD's MLD MAC address. Therefore, when a non-AP STA affiliated with a non-AP MLD receives a frame from its associated AP that is affiliated with the AP MLD with whom the non-AP MLD has performed ML setup, the non-AP MLD cannot determine the BSSID where the frame originated from or determine if the initiating non-AP STA is affiliated with a non-AP MLD or is a non-MLD non-AP STA.

A TDLS non-AP STA affiliated with a non-AP MLD shall not respond to a TDLS Discovery Request frame if the frame carries TDLS Multi-Link element and the MLD MAC address carried in the AP MLD MAC Address field of the TDLS Multi-Link element does not match the MLD MAC address of the AP MLD with which the non-AP MLD has performed ML setup.

After the TDLS peer is successfully discovered, the non-AP MLD shall set the BSSID field contained in the Link Identifier element of the subsequent TDLS frames to the BSSID of the corresponding AP affiliated with the AP MLD that is operating on the link on which the TDLS direct link is established or being established.

A TDLS non-AP STA affiliated with a non-AP MLD shall not respond to a TDLS Setup Request frame if the frame carries the TDLS Multi-Link element and the MLD MAC address carried in the AP MLD MAC Address field of the TDLS Multi-Link element does not match the MLD MAC address of the AP MLD with which the non-AP MLD has performed ML setup. A TDLS non-AP STA affiliated with a non-AP MLD shall include the TDLS Multi-Link element in the TDLS Setup Response frame if the soliciting TDLS Setup Request frame included TDLS Multi-Link element. A TDLS non-AP STA affiliated with a non-AP MLD shall not respond to a TDLS Setup Response frame if the frame carries TDLS Multi-Link element and the MLD MAC address carried in the AP MLD MAC Address field of the TDLS Multi-Link element does not match the MLD MAC address of the AP MLD with which the non-AP MLD has performed ML setup. A TDLS non-AP STA affiliated with a non-AP MLD shall include the TDLS Multi-Link element in the TDLS Setup Confirm frame if the preceding TDLS Setup Response frame included the TDLS Multi-Link element.

When both STAs that are involved in a single link TDLS setup include a TDLS Multi-Link element carrying the AP MLD MAC Address field in the frames exchanged during the TDLS setup phase, the TDLS TPK generation shall include the AP MLD MAC address in addition to the MAC address of the affiliated AP where the TDLS direct link is being established, as defined in Equation (12-2). When at least one of the STAs that are involved in a single link TDLS setup, does not include the TDLS Multi-Link element, in the frames exchanged during TDLS setup phase, the STAs shall derive the TPK as defined in Equation (12-1).

After a TDLS direct link is successfully established between the TDLS non-AP STA affiliated with a non-AP MLD and a TDLS peer STA at the other end of the TDLS direct link, STAs affiliated with the non-AP MLD shall cease transmitting MSDUs to the TDLS peer, at the other end, through their associated AP that is affiliated with the AP MLD to which the non-AP MLD has performed ML setup.

NOTE 2—The non-AP STAs affiliated with the non-AP MLD can transmit/receive frames to/from other STAs or the DS via the AP MLD.

Examples of TDLS discovery and setup involving a non-AP MLD are shown in AH.11.

### 35.3.22 Proxy ARP service in AP MLDs

Implementation of the proxy ARP service is optional for an AP MLD. When supported, an AP MLD implements the proxy ARP service, as defined in 11.21.14, at the MLD level.

All APs affiliated with an AP MLD shall have the same setting of the Proxy ARP field in the Extended Capabilities element. If an AP MLD supports Proxy ARP service, then all affiliated APs of the AP MLD shall set the Proxy ARP field to 1 in their Extended Capabilities elements.

NOTE—For an associated STA that is not affiliated with an MLD, the Proxy ARP service is provided by the AP affiliated with the AP MLD with which the STA is associated, as defined in 11.21.14.

An example of the proxy ARP service provided by the AP MLD is shown in AH.12.

### 35.3.23 BSS transition management for MLDs

An SME of an MLD shall follow the procedures defined in 11.21.7 (BSS transition management) in addition to the following requirements:

- The procedure is applied between the SMEs of an AP MLD and the SME of a non-AP MLD and not between the SMEs of an AP affiliated with an AP MLD and the SME of a non-AP STA affiliated with a non-AP MLD.
- BTM frames between an AP MLD and non-AP MLD are exchanged between an affiliated AP and affiliated STA, respectively.
- If the Neighbor Report element that is carried in the BSS Transition Candidate List Entries field of a BSS Transition Management Query, Request or Response frame includes a Basic Multi-Link element, then the Neighbor Report element describes the preference for a target AP MLD candidate and not for a target BSS candidate, otherwise, it describes the preference for a target BSS candidate.
- The Preference field value of a Neighbor Report element that includes a Basic Multi-Link element describing an AP MLD provides the indication of preference for the given AP MLD, within the given list at the given time.
- If an AP MLD intends to provide a preference for a reported AP MLD without recommendations about specific affiliated APs, it shall:
  - Include a Neighbor Report element for one of the APs affiliated with the AP MLD, and include a Basic Multi-Link element in the Neighbor Report.
  - Set to 0 all subfields of the Presence Bitmap subfield.
  - Not include any Per-STA Profile subelement in the Basic Multi-Link element.
- If an AP MLD intends to provide a preference for a reported AP MLD with only a subset of recommended affiliated APs,
  - it shall include a Neighbor Report element for one of the recommended APs affiliated with the AP MLD, and include a Basic Multi-Link element in the Neighbor Report element of this reported AP.

- It shall include a Link ID Info field in the Common Info field of the Basic Multi-Link element with the field value set to that corresponding to the AP reported in the Neighbor Report element.
- It shall set to 0 all subfields of the Presence Bitmap subfield of the Basic Multi-Link element included in the Neighbor Report element of the reported AP except the Link ID Info Present subfield.
- It shall include in the Basic Multi-Link element in the Neighbor Report element of the reported AP a Per-STA Profile subfield only for each of the other recommended affiliated APs (if any) to a non-AP MLD that has dot11EHTBTMMLDRecommendationForMultipleAPsImplemented set to 1, and with all the fields set to 0 in the STA Control field, except the Link ID field.
- The AP MLD shall not include more than one Neighbor Report element reporting the same AP MLD with the same recommended subset of affiliated APs. If multiple Neighbor Report elements are used to report the same AP MLD with a different recommended subset of affiliated APs, the Preference field value in these elements may be different.
- When an AP MLD transmits a BSS Transition Management Request frame through an affiliated AP with the Link Removal Imminent subfield equal to 0 and the Disassociation Imminent field equal to 1 to a non-AP MLD, the Disassociation Timer field in the BSS Transition Management Request frame shall be set to 0 or set to the number of TBTTs that will occur prior to the AP MLD disassociating the non-AP MLD.
- When an AP MLD transmits a BSS Transition Management Request frame through an affiliated AP with the Link Removal Imminent subfield equal to 0 and the BSS Termination Included field equal to 1 to a non-AP MLD, the non-AP MLD will be disassociated by the AP MLD and the AP MLD shall be shut down.
- A non-AP MLD that receives a BSS Transition Management Request frame with the Link Removal Imminent subfield equal to 1 shall:
  - Follow the procedure defined in 35.3.6.3 if the BSS Termination Included field is set to 1.
  - Follow the procedure defined in 35.3.7.5.2 if the BSS Termination Included field is set to 0.

A non-AP MLD with dot11EHTBTMMLDRecommendationForMultipleAPsOptionImplemented equal to true shall set the BTM MLD Recommendation For Multiple APs Support field to 1 in the Extended MLD Capabilities And Operations subfield in the Basic Multi-Link element.

If an AP MLD uses the BTM protocol to recommend a non-AP MLD to do (re)association with the same AP MLD with a different set of links, the non-AP MLD may follow the recommendation by either:

- (Re)associating with the same AP MLD with the recommended set of links or
- Initiating an ML reconfiguration negotiation by following the procedures in 35.3.6.4 to operate with the recommended set of setup links or
- Initiating a TTLML negotiation (see 35.3.7.2.3) if the enabled links would match the set of recommended links.

NOTE—A non-AP EHT STA is also an HE STA and therefore has dot11BSSTransitionActivated equal to true (see 11.21.7.1).

## 35.3.24 MLD TWT operation

### 35.3.24.1 Individual TWT agreements

#### 35.3.24.1.1 General

A STA affiliated with an MLD that operates on an enabled link may negotiate individual TWT agreements with a STA affiliated with a peer MLD as defined in 10.46.1 and 26.8.2 except the following:

- A TWT requesting STA affiliated with the MLD may indicate the link that is requested for setting up the TWT agreement in the Link ID Bitmap subfield, if present, of a TWT element in the TWT request. Only one bit in the Link ID Bitmap subfield of the TWT element shall be set to 1.
  - A single TWT agreement is requested for the STA affiliated with the same MLD that is operating on the indicated link. The Target Wake Time field of the TWT element shall be in reference to the TSF time of the link indicated by the TWT element.
- A TWT responding STA affiliated with a peer MLD that receives a TWT request that contains a Link ID Bitmap subfield in a TWT element shall respond with a TWT response that indicates the link in the Link ID Bitmap field of a TWT element. The link in the TWT element carried in the TWT response, shall be the same as the link indicated in the TWT element of the soliciting TWT request. The TWT response may be sent on any enabled link subject to power state (see 35.3.12 and 35.3.7.2).
- During the negotiation of individual TWT agreements, a TWT requesting STA affiliated with an MLD and a TWT responding STA affiliated with a peer MLD may include multiple TWT elements where each link shall be indicated at most once in all the Link ID Bitmap subfields of the TWT elements in the same TWT Setup frame unless a TWT agreement with a range of TWT parameter values is negotiated for a link in which case the number of TWT elements is two and these two TWT elements shall have Link ID Bitmap subfields of the same values (see 10.46.9). The TWT parameters provided by each TWT element shall be applied and be in reference to the respective link that is indicated by the Link ID Bitmap subfield in that TWT element to setup a TWT agreement on that link. Only one bit in the Link ID Bitmap subfield of the TWT element shall be set to 1.

NOTE—When a TWT Teardown frame with the MLO Link Information element is successfully transmitted or received through the affiliated STAs between two MLDs, the TWT agreement corresponding to the TWT Flow Identifier field, TWT requesting STA MAC address, and TWT responding STA MAC address of the TWT Teardown frame is deleted, where the TWT requesting STA MAC address of the TWT Teardown frame is the TWT requesting STA MAC address corresponding to the link indicated in the Link ID Bitmap subfield of the MLO Link Information element, and the TWT responding STA MAC address of the TWT Teardown frame is the TWT responding STA MAC address corresponding to the link indicated in the Link ID Bitmap subfield of the MLO Link Information element.

An example of TWT agreements negotiated for multiple links is shown in AH.13.

Between an AP MLD and a non-AP MLD associated with the AP MLD, if an individually addressed TWT Information frame for individual TWT, which is intended for one STA affiliated with the associated MLD with a setup link, is transmitted to another STA affiliated with the associated MLD with a setup link and an acknowledgement in response to the TWT Information frame is received, then the STA of the intended link shall consider the corresponding TWT agreement of the intended link suspended starting as soon as practical after the TWT Information frame exchange rather than immediately as described in 26.8.4.2.

#### 35.3.24.1.2 Alignment of TWT agreements across multiple links

A STA affiliated an MLD with dot11AlignedTWOptionImplemented equal to true that supports reception of a TWT setup frame that requests an alignment or nonalignment of the TWTs across multiple links shall set the Aligned TWT Support subfield in the Common Info field of the Basic Multi-Link element it transmits to 1; otherwise, the STA shall set it to 0.

A TWT requesting STA may transmit a TWT request containing TWT element(s) that request an alignment or nonalignment of the TWTs across multiple links to a TWT responding STA that set the Aligned TWT Support subfield in the Common Info field of the Basic Multi-Link element it transmits to 1.

If the TWT requesting STA intends to request an alignment of the TWTs across the setup links that point to start times that are aligned across these links and have the same TWT parameters on these links, and includes only one TWT element for these links in the TWT request, then the TWT element shall carry the Aligned TWT Bitmap subfield that indicates the link(s) that have been requested to have TWTs that are

aligned with the TWTs of the link indicated in the Link ID Bitmap subfield. The bit corresponding to the link indicated in the Link ID Bitmap subfield shall be set to 0 in the Aligned TWT Bitmap subfield.

The TWT responding STA that receives a TWT request that contains the Aligned TWT Bitmap subfield shall respond with a TWT response frame that contains an Aligned TWT Bitmap subfield that has the same value as the Aligned TWT Bitmap subfield of the TWT request.

A TWT requesting STA that sends a TWT request containing multiple TWT elements for multiple links may request an alignment and overlap of the TWTs SPs across the links by setting the Target Wake Time fields of each of the TWT elements that correspond to each of these links to the TSF times, of the respective links, at which the corresponding STAs affiliated with the MLD request to wake. The TWT requesting STA shall ensure that the TWT wake intervals obtained from these TWT elements are multiples of the same common denominator. A TWT responding STA that receives the TWT request and that accepts the alignment and overlap of TWTs across these set of links shall ensure that the Target Wake Time fields of the TWT elements that correspond to these links are set to the TSF times, of the respective links, but point to start times that are aligned across these links and that the TWT wake intervals indicated in the TWT elements are multiples of the same common denominator.

A TWT requesting STA that sends a TWT request containing multiple TWT elements for multiple links may request a nonalignment of TWTs SPs across the links by setting the Target Wake Time field of the TWT elements that correspond to each of these links to the TSF times, of the respective links, at which the corresponding STAs affiliated with the MLD request to wake. The TWT requesting STA shall ensure that the TWT wake intervals obtained from these TWT elements are multiples of the same common denominator and that none of the requested TWTs occur during the requested TWT SPs of any of the other links. A TWT responding STA that receives the TWT request and that accepts the nonalignment TWT SPs across the set of links shall ensure that the Target Wake Time fields of the TWT elements that correspond to these links are set to the TSF times, of the respective links, but point to start times that do not overlap with TWT SPs of accepted TWT agreements of any other links and that the TWT wake intervals indicated in the TWT elements are multiples of the same common denominator.

NOTE 1—If the TWT wake intervals of any two links that are included in a TWT request are multiples of the same common denominator and the TWTs of these two links point to aligned start times, then aligned TWT SPs are being negotiated. If the TWT wake intervals of any two links that are included in a TWT request are multiples of the same common denominator and the TWTs of these two links do not point to aligned start times, then nonaligned TWT SPs are being negotiated.

NOTE 2—The TWT request and the TWT response are sent after (re)association.

### 35.3.24.2 Broadcast TWT operation

A STA affiliated with an MLD, for broadcast TWT operation, shall follow the rules defined in 26.8.3 with additional rules described in this subclause.

A TWT scheduling AP affiliated with an AP MLD, while announcing a broadcast TWT schedule in the AP's BSS, may explicitly indicate that the schedule is an aligned schedule by setting the Aligned subfield in the corresponding Broadcast TWT Parameter Set field to 1. An aligned schedule is a broadcast TWT schedule that is available across multiple links such that the target wake times of the schedules on the multiple links are aligned. Other TWT parameters of the aligned schedules on those multiple links remain the same as each other.

TWT scheduled STAs affiliated with a non-AP MLD that are interested in joining an existing aligned schedule on multiple setup links may send their requests to join the schedule on those setup links separately as specified in 26.8.3.3.

Between an AP MLD and a non-AP MLD associated with the AP MLD, if an individually addressed TWT Information frame for broadcast TWT with All TWT subfield set to 1 that is intended for one STA affiliated with the associated MLD with a setup link is transmitted to another STA affiliated with the associated MLD with a setup link and an acknowledgement in response to the TWT Information frame is received, then the STA of the intended link shall consider all the broadcast TWT schedules as suspended starting as soon as practical after the TWT Information frame exchange rather than immediately as described in 26.8.4.3.

An example of aligned broadcast TWT operation for multiple links is shown in AH.17.

An AP affiliated with an NSTR mobile AP MLD and operating on the primary link may advertise a broadcast TWT schedule for the other AP affiliated with the same NSTR mobile AP MLD and operating on the nonprimary link by including the TWT element containing the corresponding Broadcast TWT Parameter Set field in the STA Profile field of the Per-STA Profile subelement of the Basic Multi-Link element corresponding to the AP operating on the nonprimary link carried in the Beacon frames and Probe Response frame that it transmits on the primary link. The value in the Broadcast TWT Persistence subfield corresponding to the broadcast TWT schedule shall be in reference to the most recent TBTT and Beacon Interval indicated by the AP operating on the primary link.

### 35.3.24.3 Flexible wake time operation

Between an AP MLD and a non-AP MLD associated with the AP MLD and for the MLD that is either the AP MLD or the non-AP MLD, if an individually addressed TWT Information frame for flexible wake time that is intended for one STA affiliated with the MLD with a setup link is received by another STA affiliated with the MLD with a setup link, then the corresponding PM mode change and power state change (see 11.2) for the STA of the intended link shall start as soon as practical after the individually addressed TWT Information frame exchange rather than immediately as described in 26.8.4.4.

Between an AP MLD and a non-AP MLD associated with the AP MLD and for the MLD that is either the AP MLD or the non-AP MLD, if an individually addressed TWT Information frame for flexible wake time that is intended for one STA affiliated with the associated MLD with a setup link, is transmitted to another STA affiliated with the associated MLD with a setup link and an acknowledgement in response to the TWT Information frame is received by the transmitting STA affiliated with the MLD, then the corresponding PM mode change and power state change for the STA of the intended link shall start as soon as practical after the individually addressed TWT Information frame exchange rather than immediately as described in 26.8.4.4.

### 35.3.25 MLD synchronization service

The MLD synchronization service enables various parameters to be distributed and coordinated among an MLD and its affiliated STAs, including:

- MIB variables or characteristics of the MIB variables (see 35.3.26)
- Capability variables not related to a MIB variable
- Other variables such as the state variable and parameters related to agreements

NOTE—The availability of the MLD synchronization service is not identified in every instance where its usage is expected.

### 35.3.26 Operation of MAC MIBs in an MLD

Given that an MLD contains one MAC MIB per affiliated STA, yet certain MIB variables operate at the MLD level, then the MLD ensures that MLO-level MIB variables are synchronized using the MLD synchronization service defined in 35.3.25 and related mechanisms.

## 35.4 EHT acknowledgment procedure

### 35.4.1 Overview

The EHT acknowledgment procedure builds on the features defined for HT-immediate block ack (see 10.25.6) and HE acknowledgement (see 26.4), with the following extensions:

- Support for BlockAck Bitmap field lengths of 512 and 1024

An EHT AP shall not transmit a Multi-STA BlockAck frame that contains a BlockAck Bitmap field with length equal to 512 or 1024 bits as a response to an HE TB PPDU generated by a non-EHT HE STA, except that an EHT AP may transmit a Multi-STA BlockAck frame that contains a BlockAck Bitmap field with length equal to 512 or 1024 in an individually addressed RU.

An EHT AP that sends a Multi-STA BlockAck frame where the Per AID TID Info fields are all addressed to a single recipient STA and that is not sent in response to an EHT TB PPDU shall set the RA field of the Multi-STA BlockAck frame to the address of the recipient STA.

An EHT STA that receives a Multi-STA BlockAck frame that is a response to frames requiring acknowledgment shall examine Per AID TID Info field received in the Multi-STA BlockAck frame, and shall process each Per AID TID Info field using the procedure defined in 26.4.2.

An EHT STA that transmits a Multi-TID BlockAckReq frame in an EHT TB PPDU may set each of the TID Value subfields in the Per TID Info subfields of the BAR Information field of the Multi-TID BlockAckReq frame to a TID that corresponds to any AC.

An EHT STA that transmits a BlockAckReq frame in an EHT TB PPDU may set the TID subfield in the AID TID Info field in the BAR Information field of the BlockAckReq frame to a TID that corresponds to any AC.

An EHT STA that responds to an EHT MU PPDU with an EHT TB PPDU follows the same rules as an HE STA that responds to an HE SU PPDU or HE ER SU PPDU with a TB PPDU as defined in 26.4.4.4 with the following changes:

- Replacing HE MU PPDU, HE SU PPDU or HE ER SU PPDU by EHT MU PPDU
- Replacing HE TB PPDU by EHT TB PPDU
- Replacing HE STA by EHT STA

An EHT STA that responds to an EHT MU PPDU with a PPDU carrying a frame addressed to a single STA follows the same rules as an HE STA that responds to an HE MU PPDU with an SU PPDU as defined in 26.4.4.3 with the following changes:

- Replacing HE MU PPDU by EHT MU PPDU
- Replacing SU PPDU by a PPDU carrying a frame addressed to a single STA
- Replacing HE STA by EHT STA

An EHT AP that responds to an EHT TB PPDU with a PPDU other than EHT MU PPDU addressed to multiple STAs follows the same rules as an HE AP that responds to an HE TB PPDU with an SU PPDU as defined in 26.4.4.5 (Responding to an HE TB PPDU with an SU PPDU) with the following changes:

- Replacing HE TB PPDU by EHT TB PPDU
- Replacing SU PPDU by a PPDU carrying a frame addressed to a single STA
- Replacing HE STA by EHT STA

An EHT AP that responds to an EHT TB PPDU with an EHT MU PPDU follows the same rules as an HE AP that responds to an HE TB PPDU with an HE MU PPDU as defined in 26.4.4.6 with the following changes:

- Replacing HE TB PPDU by EHT TB PPDU
- Replacing HE MU PPDU by EHT MU PPDU
- Replacing HE STA by EHT STA

#### 35.4.2 Block ack procedures

A BA agreement that is set up between two EHT STAs where at least one of them is not affiliated with the MLD follows the procedure defined in 10.25 and the following procedure:

- The originator may change the size of its transmission window ( $WinSize_O$ ) subject to the following restrictions:
  - The transmission window is not greater than the buffer size indicated in the ADDBA Response frame.
  - The transmission window is not greater than 1024.
- If the buffer size indicated in the ADDBA Response frame is smaller than the buffer size indicated in the ADDBA Request frame, the originator shall change the size of its transmission window ( $WinSize_O$ ) such that:
  - The transmission window is not greater than the buffer size indicated in the ADDBA Response frame.
  - The transmission window is not greater than 1024.

Both the Compressed BlockAck frame and Multi-STA BlockAck frame allow different Block Ack Bitmap subfield lengths. The length of the Block Ack Bitmap subfield is indicated in the Fragment Number subfield of the Block Ack Starting Sequence Control field as defined in 9.3.1.8. The allowed Block Ack Bitmap lengths for each of the negotiated buffer sizes are defined in Table 35-1.

Table 35-1—Negotiated buffer size and Block Ack Bitmap subfield length

| Negotiated buffer size                                                                                                                                                                                           | Block Ack Bitmap subfield length (bits) in a Compressed BlockAck frame | Block Ack Bitmap subfield length (bits) in a Multi-STA BlockAck frame |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------|-----------------------------------------------------------------------|
| 1–64                                                                                                                                                                                                             | 64                                                                     | 32 or 64                                                              |
| 65–128                                                                                                                                                                                                           | 64 or 256                                                              | 32, 64, or 128                                                        |
| 129–256                                                                                                                                                                                                          | 64 or 256                                                              | 32, 64, 128, or 256                                                   |
| 257–512                                                                                                                                                                                                          | 64, 256, or 512                                                        | 32, 64, 128, 256, or 512                                              |
| 513–1024                                                                                                                                                                                                         | 64, 256, 512, or 1024                                                  | 32, 64, 128, 256, 512, or 1024                                        |
| NOTE—A 32-bit Block Ack Bitmap subfield length is not allowed unless the originator has set the 32-bit BA Bitmap Support field in the HE MAC Capabilities Information field in the HE Capabilities element to 1. |                                                                        |                                                                       |

## 35.5 MU operation

### 35.5.1 EHT DL MU operation

#### 35.5.1.1 General

When transmitting or receiving an EHT MU PPDU, the rules defined in 26.5.1.1, 26.5.1.2, and 26.5.1.3a that apply to an HE MU PPDU shall also apply to the EHT MU PPDU. In cases where a rule in 26.5.1.1, 26.5.1.2 or 26.5.1.3a refers to RUs in an HE MU PPDU, the rule also applies to RUs and MRUs in an EHT MU PPDU.

An EHT AP shall not transmit an EHT MU PPDU with an RU or MRU that is narrower than the PPDU bandwidth and that is allocated to more than one STA (DL MU-MIMO within OFDMA) unless the AP has received from each STA an EHT Capabilities element with the Partial Bandwidth DL MU-MIMO subfield in the EHT PHY Capabilities Information field equal to 1.

#### 35.5.1.2 RU allocation in an EHT MU PPDU

An EHT STA shall not transmit a 320 MHz EHT MU PPDU in the 6 GHz band with a 2×996+484-tone, 3×996-tone, 3×996+484-tone or 4×996-tone RU or MRU allocated to the other EHT STA, unless the EHT STA has received an EHT Capabilities element with the Support For 320 MHz In 6 GHz subfield in the EHT PHY Capabilities Information field equal to 1 from the other EHT STA and the other EHT STA is in 320 MHz operating bandwidth.

A non-AP EHT STA with dot11EHTSupportFor242ToneRUIInBWWiderThan20Implemented equal to false shall set the Support For 242-tone RU In BW Wider Than 20 MHz subfield in the EHT PHY Capabilities Information field in the EHT Capabilities element to 0.

An AP shall not transmit a 40 MHz, 80 MHz, 160 MHz or 320 MHz EHT MU PPDU with a 242-tone RU allocated to a 20 MHz operating non-AP EHT STA, unless the AP has received from the 20 MHz operating non-AP EHT STA an EHT Capabilities element with the Support For 242-tone RU in BW Wider Than 20 MHz subfield in the EHT Capabilities Information field equal to 1.

In a 40 MHz, 80 MHz, 160 MHz or 320 MHz EHT MU PPDU, an AP shall not allocate to a 20 MHz operating non-AP STA an RU or MRU that is not supported by the STA as indicated in 36.3.2.6. An AP shall follow the rules in 36.3.2.5, 36.3.2.7, and 36.3.2.8 if allocating RU(s) or MRU(s) to a non-AP EHT STA whose operating bandwidth is smaller than the BSS operating channel width.

An EHT AP shall not allocate an RU or MRU in the secondary 160 MHz of a 320 MHz EHT MU PPDU or EHT TB PPDU to a 20 MHz operating non-AP EHT STA. An EHT AP shall not allocate an RU or MRU outside of the primary 20 MHz in a 40 MHz, 80 MHz, 160 MHz, or 320 MHz EHT MU or EHT TB PPDU to a 20 MHz operating non-AP EHT STA if the 20 MHz operating non-AP EHT STA has not set up SST operation on a nonprimary 20 MHz channel with the EHT AP.

An EHT AP shall not allocate an RU or MRU in the secondary 160 MHz channel of a 320 MHz EHT MU PPDU or EHT TB PPDU to an 80 MHz operating non-AP EHT STA. An EHT AP shall not allocate an RU or MRU in the secondary 80 MHz channel of a 160 MHz or 320 MHz EHT MU or EHT TB PPDU to an 80 MHz operating non-AP EHT STA, if the 80 MHz operating non-AP EHT STA has not set up SST operation on the secondary 80 MHz channel with the EHT AP or there is an inactive 20 MHz subchannel within the secondary 80 MHz channel.

An EHT AP shall not allocate an RU or MRU in the secondary 160 MHz channel of a 320 MHz EHT MU PPDU or EHT TB PPDU to a 160 MHz operating non-AP EHT STA.

### 35.5.2 EHT UL MU operation

#### 35.5.2.1 General

EHT UL MU operation allows an AP to solicit simultaneous immediate response frames from one or more non-AP EHT STAs. EHT UL MU operation expands the UL MU functionalities inherited from HE with the additional capability of responding with EHT TB PPDU, with bandwidths up to 320 MHz.

An EHT STA that is a mesh STA shall not transmit or receive EHT TB PPDU.

An EHT STA with `dot11EHTPartialBWULMUMIMOImplemented` equal to true shall set the Partial Bandwidth UL MU-MIMO subfield in the EHT PHY Capabilities Information field in the EHT Capabilities element to 1. An EHT STA with `dot11EHTPartialBWULMUMIMOImplemented` equal to false shall set the Partial Bandwidth UL MU-MIMO subfield in the EHT PHY Capabilities Information field in the EHT Capabilities element to 0.

An EHT AP shall not transmit a triggering frame in the 6 GHz band that allocates an RU or MRU in the secondary 160 MHz channel to a non-AP EHT STA, unless the AP has received from the non-AP EHT STA an EHT Capabilities element with the Support For 320 MHz In 6 GHz subfield in the EHT PHY Capabilities Information field equal to 1 and the operating bandwidth of the STA is 320 MHz.

A non-AP EHT STA with `dot11HEDeviceClass` equal to ClassA shall meet the Class A requirements specified in 36.3.16 when transmitting an EHT TB, non-HT or non-HT duplicate PPDU in response to a triggering frame. A non-AP EHT STA with `dot11HEDeviceClass` equal to ClassB shall meet the Class B requirements specified in 36.3.16 when transmitting an EHT TB, non-HT or non-HT duplicate PPDU in response to a triggering frame.

NOTE—A non-AP EHT STA uses the Device Class subfield in the HE PHY Capabilities Information field in the HE Capabilities element to indicate its device class based on `dot11HEDeviceClass`. See 26.5.2.1.

An EHT AP shall not set the UL EHT-MCS subfield of an EHT variant User Info field to 15 in a transmitted Trigger frame if the RU assigned by that User Info field is used for UL MU MIMO transmission.

An EHT AP shall not set the UL EHT-MCS subfield of an EHT variant User Info field to 14 in a transmitted Trigger frame.

A non-AP EHT STA shall set the EHT TRS Support subfield in the EHT MAC Capabilities Information field in the EHT Capabilities element to 1 if its `dot11EHTTRSOptionImplemented` is true; otherwise, the STA shall set it to 0.

An EHT AP shall not trigger a non-AP EHT STA to send an HE TB PPDU that covers the secondary 160 MHz.

An EHT AP may transmit a Trigger frame with any variant of the User Info field.

An EHT AP shall not set B55 in the Common field to 0 while setting B54 in the Common Info field to 1 in a Trigger frame (see Table 9-46a). If the bandwidth of a solicited EHT TB PPDU is less than 320 MHz, then an EHT AP shall set the PS160 subfield of the corresponding EHT variant User Info field in the Trigger frame to 0.

An EHT AP shall not include the Special User Info field in a Trigger frame if the Trigger frame does not include any EHT variant User Info field.

A non-AP EHT STA shall check B0 for a primary 160 MHz and 320 MHz indication if the non-AP EHT STA is addressed by an EHT variant User Info field in a Trigger frame.

### 35.5.2.2 Rules for soliciting UL MU frames

#### 35.5.2.2.1 General

An EHT STA shall follow the rules defined in 26.5.2.2.1, where

- Rules related to HE STAs also apply to EHT STAs.
- Rules related to triggering frames also apply to triggering frames soliciting EHT TB PPDU.
- Rules related to HE MU and HE TB PPDU also apply to EHT MU PPDU that are not in an EHT SU transmission and EHT TB PPDU, respectively.

An EHT AP shall not transmit an HE PPDU that carries a Trigger frame soliciting an EHT TB PPDU.

An EHT AP shall not transmit an EHT PPDU that carries a Trigger frame soliciting an HE TB PPDU.

An EHT AP shall not transmit a Trigger frame soliciting an OFDMA transmission using an EHT TB PPDU that uses UL MU-MIMO within an RU or MRU to a non-AP EHT STA from which the AP has not received an EHT Capabilities element with the Partial Bandwidth UL MU-MIMO subfield of the EHT PHY Capabilities Information field equal to 1.

In a 40 MHz, 80 MHz, 160 MHz, or 320 MHz EHT TB PPDU, an AP shall not allocate to a 20 MHz operating non-AP STA an RU or MRU that is not supported by the STA as indicated in 36.3.2.6. An AP shall follow the rules defined in 36.3.2.5, 36.3.2.7, and 36.3.2.8 when assigning an RU or MRU to a non-AP EHT STA whose operating bandwidth is smaller than the BSS operating channel width.

#### 35.5.2.2.2 Requirements for allocating resources

An EHT AP shall follow the requirements for allocating resources specified in 26.5.2.2.2 (Requirements for allocating resources) where rules related to HE STAs also apply to EHT STAs, and rules related to HE TB PPDU also apply to EHT TB PPDU, except that the negotiation of block ack bitmap lengths is additionally defined in 35.4.2.

#### 35.5.2.2.3 Padding for a Trigger frame

A Trigger frame may include the Padding field to extend the frame length to give the recipient STAs enough time to prepare a response for transmission a SIFS after the frame is received. The Padding field, if present, shall be at least two octets in length and shall be set to all 1s. If the Padding field is present in a Trigger frame, its length shall be computed as described below.

An EHT AP shall ensure that there is sufficient padding in a triggering frame as specified in 26.5.2.2.3 if the triggering frame is neither an initial Control frame of a frame exchange sequence with a non-AP MLD operating in the EMLSR mode, nor an initial frame of a frame exchange sequence with a non-AP MLD operating in the EMLMR mode.

When an EHT AP of an AP MLD transmits an initial Control frame to initiate a frame exchange with a non-AP MLD operating in the EMLSR mode, the AP shall ensure that the number of bits in the PSDU following the last bit of the User Info field addressed to the non-AP MLD is at least  $L_{PAD,MAC}$  defined in Equation (35-1) together with the padding requirement defined in 26.5.2.2.3.

$$L_{PAD,MAC} = N_{DBPS}m_{PAD} \quad (35-1)$$

where

$$m_{PAD} = \begin{cases} 0, & \text{if } EMLSR\_PADDING\_DELAY \text{ is } 0 \\ 2^{EMLSR\_PADDING\_DELAY+2}, & \text{Otherwise} \end{cases}$$

$EMLSR\_PADDING\_DELAY$  is the value of the EMLSR Padding Delay subfield in the EML Capabilities subfield in the Multi-Link element if the EMLSR Padding Delay is not updated in an EML Operating Mode Notification frame, or an updated EMLSR Padding Delay included in the EMLSR Parameter Update field of an EML Operating Mode Notification frame.

$N_{DBPS}$  is defined in Table 17-4 (Modulation-dependent parameters).

NOTE—The initial Control frame of a frame exchange sequence to initiate a frame exchange with a non-AP MLD operating in the EMLSR mode is sent in a non-HT or non-HT duplicate PPDU.

When an EHT AP of an AP MLD transmits a triggering frame in a non-HT or non-HT duplicate PPDU as an initial frame to initiate a frame exchange with a non-AP MLD operating in EMLMR mode, the AP shall ensure that the number of bits in the PSDU following the last bit of the User Info field addressed to the non-AP MLD is at least  $L_{PAD,MAC}$  defined in Equation (35-1) together with the padding requirement defined in 26.5.2.2.3

$$L_{PAD,MAC} = N_{DBPS} m_{PAD} \quad (35-2)$$

where

$$m_{PAD} = \begin{cases} 0, & \text{if } EMLMR\_PADDING\_DELAY \text{ is } 0 \\ 2^{EMLMR\_PADDING\_DELAY+2}, & \text{Otherwise} \end{cases}$$

$EMLMR\_PADDING\_DELAY$  is the value of the EMLMR Padding Delay subfield in the EML Capabilities subfield in the Multi-Link element.

$N_{DBPS}$  is defined in Table 17-4 (Modulation-dependent parameters).

NOTE—The initial frame of a frame exchange sequence to initiate a frame exchange with a non-AP MLD operating in EMLMR mode can be sent in a non-HT, non-HT duplicate, HT, VHT, HE, or EHT PPDU. However, for an HT, VHT, HE, or EHT PPDU, there are other padding methods for the initial frame, so the above padding method only applies to the case where the initial frame is sent in a non-HT or non-HT duplicate PPDU.

#### 35.5.2.2.4 Allowed settings of the Trigger frame fields and TRS Control subfield

An EHT AP may transmit a Trigger frame that solicits an EHT TB PPDU from an EHT STA subject to the rules defined in 26.5.2.2 and the additional rules defined below.

An EHT AP that includes the Special User Info field in a Trigger frame shall set all bits of the Disregard In U-SIG-1 subfield and the four LSBs of the Disregard In U-SIG-2 subfield to 1. The MSB of the Disregard In U-SIG-2 subfield is implementation specific and should be set to 0 if the Trigger frame is carried in a PPDU that does not contain a frame with a TRS Control subfield. If the Trigger frame is carried in a PPDU that contains a frame with a TRS Control subfield, then the Disregard In U-SIG-2 subfield in the Special User Info field shall be set to 1.

An EHT AP shall not transmit a Trigger frame that solicits both an HE TB PPDU and an EHT TB PPDU. An EHT AP shall not transmit a Trigger frame that contains a User Info field whose AID12 subfield is equal to 0 or 2045 unless both B54 and B55 in the Common Info field of the Trigger frame are equal to 1.

The AID12 subfield of the Special User Info field shall be set to 2007. An EHT AP that includes the Special User Info field in a Trigger frame shall set Special User Info Field Flag subfield to 0 and the Special User Info field shall be placed immediately after the Common Info field. An EHT AP shall set B54 in the Common Info field of a Trigger frame to 1 if there exists any HE variant User Info field in the Trigger

frame. Otherwise, the EHT AP shall set B54 in the Common Info field of the Trigger frame to 0. An EHT AP shall not transmit a Trigger frame with B54 equal to 1 and B55 equal to 0 in the Common Info field of the Trigger frame.

NOTE 1—An EHT AP does not assign an AID value of 2007 to any STA or non-AP MLD (see 35.15).

An EHT AP shall set the UL Length subfield of a transmitted Trigger frame that solicits an EHT TB PPDU to the value given by Equation (27-11) with  $m = 2$ , except that TXTIME is defined by Equation (36-110).

NOTE 2—This is the same rule as that of an AP that transmits a Trigger frame that solicits an HE TB PPDU (see 26.5.2.2.4).

An AP shall not send a frame with a TRS Control subfield that solicits an EHT TB PPDU to a non-AP STA from which the AP has not received an EHT MAC Capabilities Information field in the EHT Capabilities element with the EHT TRS Support subfield equal to 1.

An AP shall not send an EHT MU PPDU with a 4x996-tone RU if the 4x996-tone RU carries a TRS Control subfield.

The AP affiliated with an AP MLD and operating on a link shall not set the Preferred AC subfield in the Trigger Dependent User Info field of the User Info field of a Basic Trigger frame that is directed to a non-AP STA that is affiliated with a non-AP MLD to an ACI for which no corresponding TID is mapped in UL to the link for the non-AP MLD by the TLLM (see 35.3.7).

NOTE 3—If one of the two TIDs matching the indicated Preferred AC is not mapped to the link where the Trigger frame is sent, then data frames belonging to the unmapped TID cannot be transmitted on that link, following 35.3.7.

An AP shall not send a PPDU that is neither an HE PPDU nor an EHT PPDU that carries a TRS Control subfield.

### 35.5.2.2.5 AP access procedures for UL MU operation

An EHT AP shall follow the AP access procedures for UL MU operation as specified in 26.5.2.2.5.

### 35.5.2.3 Non-AP STA behavior for UL MU operation

#### 35.5.2.3.1 General

A non-AP EHT STA that transmits a TB PPDU shall satisfy the conditions defined in 26.5.2.3.1, 26.5.2.3.2 (Conditions for not responding with an HE TB PPDU), 26.5.2.3.5 (RA field for frames carried in an HE TB PPDU), 26.5.2.4 (A-MPDU contents in an HE TB PPDU), and 35.5.2.3.4 where rules related to HE TB PPDUs also apply to EHT TB PPDUs. A User Info field that is addressed to a non-AP STA is either an HE variant or EHT variant. The User Info field is an HE variant addressed to a non-AP STA if B39 of the User Info field is set to 0 and B54 of Common Info field is set to 1 in the Trigger frame; otherwise, it is an EHT variant.

If a non-AP EHT STA receives an EHT variant User Info field in a Trigger frame in which the AID12 subfield matches its AID, then if the Trigger frame is not an MU RTS Trigger frame, the STA shall respond with an EHT TB PPDU. If a non-AP EHT STA receives an HE variant User Info field in a Trigger frame in which the AID12 subfield matches its AID, then if the Trigger frame is not an MU RTS Trigger frame, the STA shall respond with an HE TB PPDU.

An EHT STA shall not transmit an EHT TB PPDU if B55 of the Common Info field of the soliciting Trigger frame is set to 1.

NOTE—A non-AP EHT STA is an HE STA, so the non-AP EHT STA might contend for an RA-RU and transmit an HE TB PPDU, if the STA receives an HE variant User Info field that allocates RA-RU(s) in a Trigger frame (see 26.5.4).

A non-AP EHT STA shall not send an EHT TB PPDU unless it is explicitly triggered by an AP in the operation modes described in 35.5.2.3.2.

### 35.5.2.3.2 TXVECTOR parameters for EHT TB PPDU response to Trigger frame

A non-AP EHT STA that responds to a Trigger frame that solicits an HE TB PPDU sets the TXVECTOR parameters as defined in 26.5.2.3.3.

A non-AP EHT STA that responds to a Trigger frame that solicits an EHT TB PPDU shall set the TXVECTOR parameters below as follows:

- The FORMAT parameter is set to EHT\_TB.
- The BSS\_COLOR parameter is set as follows:
  - If the Trigger frame was received in an HE or EHT PPDU, then the BSS\_COLOR parameter is set to the value of the RXVECTOR parameter BSS\_COLOR of the PPDU.
  - Otherwise, the BSS\_COLOR parameter is set to the value of the active BSS color as defined in 26.11.4 (BSS\_COLOR).
- The L\_LENGTH parameter is set to the value indicated by the UL Length subfield in the Common Info field.
- The NUM\_STS parameter is set to the number of spatial streams indicated by the Number Of Spatial Streams subfield of the SS Allocation field of the EHT variant User Info field.
- The STARTING\_STS\_NUM parameter is set to the value of the Starting Spatial Stream subfield in the SS Allocation field in the EHT variant User Info field.
- The SPATIAL\_REUSE\_1 and SPATIAL\_REUSE\_2 parameters are set to the values of the respective Spatial Reuse subfields in the Special User Info field.
- The CH\_BANDWIDTH parameter is set to the value of the bandwidth of the EHT TB PPDU, and is obtained from the combined value of the UL BW subfield in the Common Info field and the UL Bandwidth Extension subfield in the Special User Info field (see Table 9-46g).
- The RU\_ALLOCATION parameter is set to the value indicated by the RU Allocation subfield and the PS160 subfield of the User Info subfield.
- The TB\_DISREGARD\_IN\_USIG1, TB\_VALIDATE\_IN\_USIG2, and TB\_DISREGARD\_IN\_USIG2 parameters are set to the value of the Disregard In U-SIG-1, Validate In U-SIG-2, and Disregard In U-SIG-2 subfields, respectively, in the U-SIG Disregard And Validate subfield in the Special User Info field.

All other TXVECTOR parameters that are present are set as defined in 26.5.2.3.3.

NOTE—The DCM parameter is not present in an EHT variant User Info field.

### 35.5.2.3.3 TXVECTOR parameters for EHT TB PPDU response to TRS Control subfield

A non-AP STA transmitting an EHT TB PPDU in response to a soliciting EHT PPDU carrying a frame containing a TRS Control subfield shall set the TXVECTOR parameters as follows:

- The FORMAT parameter is set to EHT\_TB if the RXVECTOR parameter FORMAT of the soliciting PPDU is equal to EHT\_MU.
- The TRIGGER\_METHOD parameter is set to TRS.
- The L\_LENGTH parameter is computed as described in Equation (27-11) with  $m = 2$  using the TXTIME value. The TXTIME is defined by Equation (36-110) where  $N_{SYM}$  is set to  $F_{VAL} + 1$ , where  $F_{VAL}$  is the value of the UL Data Symbols subfield of the TRS Control subfield.

- The RU\_ALLOCATION parameter is set to the value indicated by the RU Allocation subfield of the TRS Control subfield and a PS160 subfield, which is determined based on the RU allocation in the soliciting PPDU according to Table 35-2.
- The MCS parameter is set to the value of the UL MCS subfield of the TRS Control subfield.
- The CH\_BANDWIDTH parameter is set to the value of the RXVECTOR parameter CH\_BANDWIDTH of the soliciting PPDU (see Table 36-1).
- The BSS\_COLOR parameter is set to the values of the RXVECTOR parameter BSS\_COLOR of the soliciting PPDU.
- The NUM\_EHT\_LTF parameter is set to 1.
- The STARTING\_STS\_NUM parameter is set to 0.
- The NUM\_STS parameter is set to 1.
- The FEC\_CODING parameter is set to BCC\_CODING if the RU Allocation subfield indicates an RU or MRU that is smaller than a 484-tone RU; otherwise, it is set to LDPC\_CODING.
- The LDPC\_EXTRA\_SYMBOL parameter is set to 0 if the RU Allocation subfield indicates an RU or MRU that is smaller than a 484-tone RU; otherwise, it is set to 1.
- The SPATIAL\_REUSE parameter is set to PSR\_AND\_NON\_SRG\_OBSS\_PD\_PROHIBITED.
- If the received EHT Default PE Duration subfield of the EHT Operation Parameters field in the EHT Operation element transmitted by the AP with which the non-AP STA is associated is set to 0, the DEFAULT\_PE\_DURATION parameter is set to the default PE duration value indicated by the AP in the Default PE Duration subfield of the HE Operation element it transmits; Otherwise, the DEFAULT\_PE\_DURATION parameter is set to 20  $\mu$ s.
- The TXOP\_DURATION parameter is set as defined in 26.11.5.
- All U-SIG Disregarded and Validate bits are set to 1.
- If the RXVECTOR parameters EHT\_LTF\_TYPE and GI\_TYPE of the soliciting PPDU are either 4 $\times$  EHT-LTF and 3u2s GI, respectively, or 2 $\times$  EHT-LTF and 1u6s GI, respectively, then the EHT\_LTF\_TYPE and GI\_TYPE parameters are set to 4 $\times$  EHT-LTF and 3u2s GI, respectively. Otherwise, the EHT\_LTF\_TYPE and GI\_TYPE parameters are set to 2 $\times$  EHT-LTF and 1u6s GI, respectively.
- The TXPWR\_LEVEL\_INDEX parameter is set to a value based on the computed transmission power (see 36.3.16.2) for an EHT TB PPDU, the value of the AP Tx Power subfield of the TRS Control subfield and the UL Target Receive Power subfield of the TRS Control subfield.

NOTE—A non-AP STA transmitting an EHT TB PPDU in response to a frame carrying a TRS Control subfield considers that both the physical CS and the virtual CS are set to 0 (see 35.5.2.4).

Table 35-2—PS160 subfield for RU allocation in EHT TRS

| Input                                                                                        |                                                                                                                                | Output         |
|----------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------|----------------|
| RU size of the RU or MRU indicated by the RU Allocation subfield in the TRS control subfield | The location of the 160 MHz channel with more data tones of the RU or MRU that carries the frame with the TRS control subfield | PS160 subfield |
| 2 $\times$ 996+484-tone                                                                      | Low 160 MHz                                                                                                                    | 0              |
| 2 $\times$ 996+484-tone                                                                      | High 160 MHz                                                                                                                   | 1              |
| 3 $\times$ 996-tone or 3 $\times$ 996+484-tone                                               | Low 160 MHz                                                                                                                    | 1              |
| 3 $\times$ 996-tone or 3 $\times$ 996+484-tone                                               | High 160 MHz                                                                                                                   | 0              |

Table 35-2—PS160 subfield for RU allocation in EHT TRS (continued)

| Input                                                                                        | Output                                                                                                                         |                |
|----------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------|----------------|
| RU size of the RU or MRU indicated by the RU Allocation subfield in the TRS control subfield | The location of the 160 MHz channel with more data tones of the RU or MRU that carries the frame with the TRS control subfield | PS160 subfield |
| Smaller than or equal to 2×996-tone                                                          | Primary 160 MHz                                                                                                                | 0              |
| Smaller than or equal to 2×996-tone                                                          | Secondary 160 MHz                                                                                                              | 1              |

#### 35.5.2.3.4 Conditions for not responding with a TB PPDU

If a non-AP EHT STA is solicited to send a TB PPDU by a Trigger frame and the combination of B54 and B55 in the Common Info field, and B39 in the User Info field addressed to it in the Trigger frame does not match any of the combinations of the values specified in the rows in Table 9-46a, then the STA shall not respond to the Trigger frame. If B39 is equal to 1, then the non-AP EHT STA shall not respond with an EHT TB PPDU unless the bandwidth for the solicited EHT TB PPDU is specified as 320 MHz in the Trigger frame.

#### 35.5.2.4 UL MU CS mechanism for EHT STAs

An EHT STA shall follow the rules defined in 26.5.2.5, except that the EHT STA shall use the rules defined in 36.3.21.6.4 instead of those defined in 27.3.22.6.5 when CCA is performed on any nonpunctured 20 MHz subchannel in an EHT BSS.

Specifically, if the CS Required subfield in a Trigger frame is 1, then the non-AP STA shall consider the status of the CCA [using energy detect defined in 36.3.21.6.4 and the virtual carrier sense (NAV)] during the SIFS between the PPDU that contains the Trigger frame and the PPDU sent in response to the Trigger frame. In this case, when performing CCA, the non-AP STA shall sense the medium using energy detect after receiving the PPDU that contains the Trigger frame (i.e., during the SIFS), and it shall perform the energy detect at least in the subchannel that contains the non-AP STA's UL allocation, where the sensed subchannel consists of one or more occupied 20 MHz channels. The non-AP STA may transmit the solicited PPDU if all the occupied 20 MHz channels containing the RUs allocated in the Trigger frame are considered idle. If the non-AP STA detects that any of the occupied 20 MHz channels containing the allocated RUs is not idle, then the non-AP STA shall not transmit.

#### 35.5.3 Operation of the two BQR Control subfields

An EHT STA may set dot11TwoBQRsOptionImplemented to true if it supports 320 MHz.

An EHT STA with dot11TwoBQRsOptionImplemented equal to true shall set the Two BQRs Support subfield in the EHT MAC Capabilities Information field in the EHT Capabilities element it transmits to 1; otherwise, the EHT STA shall set the Two BQRs Support subfield to 0.

An EHT STA with dot11TwoBQRsOptionImplemented equal to true shall set the BQR Support subfield in the HE MAC Capabilities Information field in the HE Capabilities element it transmits to 1.

The EHT STA may report the channel availability information as specified in 36.3.21.6.4 to its associated AP in two BQR Control subfields of frames it transmits if the AP has indicated its support in the Two BQRs Support subfield of its EHT Capabilities element; otherwise, the STA shall not report the channel availability information in the two BQR Control subfields.

The location and status of each 20 MHz subchannel reported in the two BQR Control fields are defined in 9.2.4.7.6.

NOTE—An EHT STA is an HE STA and as such inherits all the functionalities defined in 26.5.6.

### 35.6 A-MPDU operation in an EHT PPDU

A-MPDU operation for an EHT PPDU follows the procedures defined in 10.12 and the additional rules in this subclause.

An EHT STA that sends a Class 1 frame or a Class 2 frame in an EHT PPDU shall send the frame as an S-MPDU (see Table 9-664).

An EHT STA shall not transmit an A-MPDU in an EHT PPDU to a STA that exceeds the maximum A-MPDU length capability indicated in the EHT Capabilities element, HE Capabilities element, VHT Capabilities element (if present), and HT Capabilities element received from the recipient STA. If a VHT Capabilities element is received from the recipient STA, then the maximum A-MPDU length capability is derived from the Maximum A-MPDU Length Exponent Extension subfield in the HE Capabilities element and EHT Capabilities element, and the Maximum A-MPDU Length Exponent subfield in the VHT Capabilities element. Otherwise, the maximum A-MPDU length capability is derived from the Maximum A-MPDU Length Exponent Extension subfield in the HE Capabilities element and EHT Capabilities element, and the Maximum A-MPDU Length Exponent subfield in the HT Capabilities element or in the HE 6 GHz Band Capabilities element.

An EHT STA that sends an EHT Capabilities element with Maximum A-MPDU Length Exponent Extension subfield of 0 shall support in reception of an EHT PPDU with an A-MPDU pre-EOF padding with maximum length as defined in 10.12.2.

An EHT STA that sends a VHT Capabilities element, HE Capabilities element, and EHT Capabilities element with Maximum A-MPDU Length Exponent Extension subfield greater than 0 shall support in reception of an EHT PPDU with an A-MPDU pre-EOF padding with maximum length as defined in 10.12.2, except that the maximum length for the A-MPDU pre-EOF padding shall be equal to  $\min(2^{(23 + \text{Maximum A-MPDU Length Exponent Extension subfield})} - 1, 15 \text{ S23 } 200)$ . An EHT STA that sets the Maximum A-MPDU Length Exponent Extension subfield in the EHT Capabilities element to a value greater than 0 shall set the Maximum A-MPDU Length Exponent subfield of the VHT Capabilities element to 7 and the Maximum A-MPDU Length Exponent Extension subfield of the HE Capabilities element to 3.

NOTE—The value 15 S23 200 is defined in Table 9-34 as the upper bound of PSDU size of EHT PPDU.

An EHT STA that does not send a VHT Capabilities element but sends an HT Capabilities element, an HE Capabilities element, and an EHT Capabilities element with Maximum A-MPDU Length Exponent Extension subfield greater than 0 shall support in reception of an EHT PPDU with an A-MPDU pre-EOF padding with maximum length as defined in 10.12.2, except that the maximum length for the A-MPDU pre-EOF padding shall be equal to  $\min(2^{(19 + \text{Maximum A-MPDU Length Exponent Extension subfield})} - 1, \text{An EHT STA that sets the Maximum A-MPDU Length Exponent Extension subfield in the EHT Capabilities element to a value greater than 0 shall set the Maximum A-MPDU Length Exponent subfield of the HT Capabilities element to 3 and the Maximum A-MPDU Length Exponent Extension subfield of the HE Capabilities element to 3.})$

An EHT STA that sends an HE 6 GHz Band Capabilities element, an HE Capabilities element, and an EHT Capabilities element with Maximum A-MPDU Length Exponent Extension subfield greater than 0 shall support in reception of an EHT PPDU with an A-MPDU pre-EOF padding with maximum length as defined in 10.12.2, except that maximum length for the A-MPDU pre-EOF padding shall be equal to  $\min(2^{(23 + \text{Maximum A-MPDU Length Exponent Extension subfield})} - 1, 15 \text{ S23 } 200)$ . An EHT STA that sets the Maximum A-

MPDU Length Exponent Extension subfield in the EHT Capabilities element to a value greater than 0 shall set the Maximum A-MPDU Length Exponent subfield of the HE 6 GHz Band Capabilities element to 7 and the Maximum A-MPDU Length Exponent Extension subfield of HE Capabilities element to 3.

A STA affiliated with an MLD that transmits a multi-TID A-MPDU or a single TID A-MPDU on a link shall follow the procedures described in 26.6.3 (Multi-TID A-MPDU and ack-enabled single-TID A-MPDU) for constructing the multi-TID A-MPDU or the single TID A-MPDU with the exception that the A-MPDU shall not include an MPDU with an MSDU or an A-MSDU corresponding to a TID that is not mapped to the link (see 35.3.7.2).

## 35.7 EHT sounding operation

### 35.7.1 General

Transmit beamforming and DL MU-MIMO require knowledge of the channel state to compute a steering matrix that is applied to the transmit signal to optimize reception at one or more receivers. EHT STAs use the EHT sounding protocol to determine the channel state information. The EHT sounding protocol provides explicit feedback mechanisms, defined as EHT non-trigger-based (non-TB) sounding sequence and EHT trigger-based (TB) sounding sequence. In both sounding sequences, the EHT beamformer measures the channel using a training signal (i.e., an EHT sounding NDP) transmitted by the EHT beamformer and sends back a transformed estimate of the channel state (see 35.7.3). The EHT beamformer uses this estimate to derive the steering matrix.

The EHT beamformer returns an estimate of the channel state in an EHT compressed beamforming/CQI report carried in the EHT Compressed Beamforming/CQI Report field. There are three types of EHT compressed beamforming/CQI report:

- SU feedback: The EHT Compressed Beamforming/CQI Report field consists of an EHT Compressed Beamforming Report field
- MU feedback: The EHT Compressed Beamforming/CQI Report field consists of an EHT Compressed Beamforming Report field and EHT MU Exclusive Beamforming Report field
- CQI feedback: The EHT Compressed Beamforming/CQI Report field consists of an EHT CQI Report field

NOTE—Use of EHT TB sounding does not necessarily imply MU feedback. EHT TB sounding might also be used to obtain SU feedback or CQI feedback.

The EHT Compressed Beamforming/CQI Report field is carried in a single EHT Sounding Feedback Segment field if the resulting EHT Compressed Beamforming/CQI frame is less than or equal to 11 454 octets in length (see 35.7.3). Otherwise, the EHT Compressed Beamforming/CQI Report field is segmented, with each segment carried in an EHT Sounding Feedback Segment field, and each EHT Sounding Feedback Segment field carried in separate EHT Compressed Beamforming/CQI frames.

An EHT beamformer shall support a maximum MPDU length for the EHT Compressed Beamforming/CQI Report frame that is the minimum of 11 454 octets and the maximum length of the EHT Compressed Beamforming/CQI Report frame that the EHT beamformer intends to solicit from its EHT beamformee(s).

### 35.7.2 EHT sounding protocol

An SU beamformer is an EHT STA that sets the SU Beamformer subfield to 1 in the EHT PHY Capabilities Information field in the EHT Capabilities element it transmits.

An SU beamformee is an EHT STA that sets the SU Beamformee subfield to 1 in the EHT PHY Capabilities Information field in the EHT Capabilities element it transmits. A non-AP EHT STA that is not a 20 MHz-

only non-AP EHT STA with 20 MHz-Only Limited Capabilities Support subfield equal to 1 shall set the SU Beamformee subfield to 1. A 20 MHz-only non-AP EHT STA with 20 MHz-Only Limited Capabilities Support subfield equal to 1 may set the SU Beamformee subfield to 1. An EHT AP may set the SU Beamformee subfield to 1.

An MU beamformer is an EHT AP that sets the MU Beamformer (BW  $\le$  80 MHz) to 1 in the EHT PHY Capabilities Information field in the EHT Capabilities element it transmits. A non-AP EHT STA shall set all three MU beamformer subfields, MU Beamformer (BW  $\le$  80 MHz), MU Beamformer (BW = 160 MHz), and MU Beamformer (BW = 320 MHz) subfields to 0. An MU beamformer is also an SU beamformer and shall set the SU Beamformer subfield to 1 in the EHT PHY Capabilities Information field in the EHT Capabilities element it transmits.

An EHT AP that sets the MU Beamformer (BW = 160 MHz) subfield to 1 shall set the MU Beamformer (BW  $\le$  80 MHz) subfield to 1. An EHT AP that sets the MU Beamformer (BW = 320 MHz) subfield to 1 shall set both the MU Beamformer (BW  $\le$  80 MHz) and MU Beamformer (BW = 160 MHz) subfields to 1. An EHT AP that indicates no support for 320 MHz channel width in the EHT Capabilities element shall set the MU Beamformer (BW = 320 MHz) subfield to 0. An EHT AP that indicates no support for 160 MHz channel width in the HE Capabilities element shall set both the MU Beamformer (BW = 160 MHz) and MU Beamformer (BW = 320 MHz) subfields to 0.

NOTE 1—A non-AP STA might use the value of the MU Beamformer subfield in the EHT PHY Capabilities Information field of the AP to determine the AP with which it will associate.

A non-AP EHT STA that is not a 20 MHz-only non-AP EHT STA with 20 MHz-Only Limited Capabilities Support subfield equal to 1 shall support operation as an MU beamformee. A 20 MHz non-AP EHT STA with 20 MHz-Only Limited Capabilities Support subfield equal to 1 may support operation as an MU beamformee. An EHT AP does not support operation as an MU beamformee.

The term EHT beamformer refers to both an SU beamformer and an MU beamformer. The term EHT beamformee refers to both an SU beamformee and an MU beamformee.

The type of feedback (SU, MU, or CQI) solicited by an EHT beamformer from an EHT beamformee is indicated in the Feedback Type And Ng and Codebook Size subfields in the STA Info field identifying the EHT beamformee in the EHT NDP Announcement frame as defined in Table 9-42d and Table 9-42e.

The bandwidth (partial or full) of the feedback solicited by an EHT beamformer from an EHT beamformee depends on the Partial BW Info subfield in the STA Info field identifying the EHT beamformee in the EHT NDP Announcement frame, the bandwidth of the PPDU carrying the EHT NDP Announcement frame, and the operating bandwidth of the EHT beamformee. The bandwidth of the PPDU carrying the EHT NDP Announcement frame and the subsequent EHT sounding NDP shall be the same.

Full bandwidth SU, MU or CQI feedback refers to the feedback mode where the feedback RU or MRU size indicated in the Partial BW Info subfield of the EHT NDP Announcement frame spans all the available bandwidth within an EHT beamformee's operating bandwidth. Partial bandwidth SU, MU or CQI feedback refers to the feedback mode where the feedback RU or MRU size indicated in the Partial BW Info subfield in the STA Info field identifying the EHT beamformee in the EHT NDP Announcement frame spans a part, but not the whole, of the available bandwidth within an EHT beamformee's operating bandwidth.

- If the EHT beamformee's operating bandwidth is larger than or equal to the bandwidth of the EHT sounding NDP, the available bandwidth is the entire PPDU bandwidth of the EHT sounding NDP when preamble puncturing is not applied on the PPDU and is the entire occupied PPDU bandwidth of the EHT sounding NDP when preamble puncturing is applied on the PPDU.
- If the EHT beamformee's operating bandwidth is smaller than the bandwidth of the EHT sounding NDP, the available bandwidth is the beamformee's entire operating bandwidth when preamble punc-

turing is not applied to any 20 MHz subchannel within the beamformee's operating bandwidth and is the entire occupied bandwidth within the beamformee's operating bandwidth when preamble puncturing is applied to any 20 MHz subchannel within the beamformee's operating bandwidth.

NOTE 2—For example, if a 160 MHz EHT sounding NDP has a 20 MHz puncturing

- The available bandwidth is 140 MHz when the beamformee's operating bandwidth is 160 MHz or 320 MHz.
- The available bandwidth is 80 MHz when the beamformee's operating bandwidth is 80 MHz and 20 MHz puncturing is not within the beamformee's operating bandwidth.
- The available bandwidth is 60 MHz when the beamformee's operating bandwidth is 80 MHz and 20 MHz puncturing is within the beamformee's operating bandwidth.

An EHT beamformer shall set the Partial BW Info subfield in an EHT NDP Announcement frame to a value that is listed in Table 9-42f.

An EHT NDP Announcement frame shall not request feedback on any RU that is signaled as punctured in the U-SIG field of the EHT sounding NDP that follows the EHT NDP Announcement frame.

An EHT NDP Announcement frame shall not request partial bandwidth feedback on any RU outside of the beamformee's operating channel width.

An SU beamformer may solicit full bandwidth SU feedback from an SU beamformee in an EHT non-TB sounding sequence. An SU beamformer shall not solicit partial bandwidth SU feedback from an SU beamformee in an EHT non-TB sounding sequence. In an EHT non-TB sounding sequence, the occupied subchannel(s) indicated by the BW and Puncturing Channel Information fields in the U-SIG field of the EHT sounding NDP shall be the same as the requested subchannel(s) indicated in the Partial BW Info subfield of the immediately preceding EHT NDP Announcement frame. Furthermore, the punctured subchannel(s) indicated by the BW and Puncturing Channel Information fields in the U-SIG field of the EHT sounding NDP shall not include other punctured subchannel(s) in addition to those indicated in the Disabled Subchannel Bitmap subfield of the most recent EHT Operation element for non-TB sounding.

NOTE 3—In the EHT TB sounding sequence, the punctured subchannel(s) indicated by the BW and Puncturing Channel Information fields in the U-SIG field of the EHT sounding NDP might include other punctured subchannel(s) in addition to those indicated in the Disabled Subchannel Bitmap subfield of the most recent EHT Operation element, following the rules defined in 35.15.2.

An SU beamformer may solicit partial bandwidth or full bandwidth SU feedback from an SU beamformee in an EHT TB sounding sequence if the SU beamformee indicates support by setting the Triggered SU Beamforming Feedback subfield in the EHT PHY Capabilities Information field in the EHT Capabilities element it transmits to 1.

An MU beamformer may solicit full bandwidth MU feedback from an MU beamformee in an EHT TB sounding sequence. An MU beamformer may solicit partial bandwidth MU feedback from an MU beamformee in an EHT TB sounding sequence if the MU beamformee indicates support by setting the Triggered MU Beamforming Partial BW Feedback subfield in the EHT PHY Capabilities Information field in the EHT Capabilities element it transmits to 1. An MU beamformer shall not solicit MU feedback in an EHT non-TB sounding sequence.

An MU beamformer may solicit partial bandwidth or full bandwidth CQI feedback from an MU beamformee in an EHT TB sounding sequence if the MU beamformee indicates support by setting the Triggered CQI Beamforming Feedback subfield to 1.

An MU beamformer may solicit full bandwidth CQI feedback from an MU beamformee in an EHT non-TB sounding sequence if the MU beamformee indicates support by setting the Non-Triggered CQI Beamforming Feedback subfield to 1.

An EHT beamformer shall not send an EHT NDP Announcement frame that initiates an EHT TB sounding sequence with a STA Info field identifying an EHT beamformee if the STA Info field and the PHY Capabilities Information field in the EHT Capabilities element most recently received from the EHT beamformee meet any of the following conditions (see Table 9-42d):

- The Feedback Type And Ng subfield and Codebook Size subfield in the STA Info field indicates SU and  $N_g = 16$ , and the  $N_g = 16$  SU Feedback subfield in the EHT PHY Capabilities Information field is 0.
- The Feedback Type And Ng subfield and Codebook Size subfield in the STA Info field indicates MU and  $N_g = 16$ , and the  $N_g = 16$  MU Feedback subfield in the EHT PHY Capabilities Information field is 0.
- The Feedback Type And Ng subfield and Codebook Size subfield in the STA Info field indicates SU, the Codebook Size subfield indicates codebook resolution  $(\phi, \psi) = \{4, 2\}$ , and the Codebook Size  $(\phi, \psi) = \{4, 2\}$  SU Feedback subfield in the EHT PHY Capabilities Information field is 0.
- The Feedback Type And Ng subfield and Codebook Size subfield in the STA Info field indicate MU, the Codebook Size subfield indicates codebook resolution  $(\phi, \psi) = \{7, 5\}$ , and the Codebook Size  $(\phi, \psi) = \{7, 5\}$  MU Feedback subfield in the EHT PHY Capabilities Information field is 0.
- The Feedback Type And Ng subfield and Codebook Size subfield in the STA Info field indicates CQI and the Triggered CQI Beamforming Feedback subfield in the EHT PHY Capabilities Information field is 0.
- The Feedback Type And Ng subfield and Codebook Size subfield in the STA Info field indicate SU and the Triggered SU Beamforming Feedback subfield in the EHT PHY Capabilities Information field is 0.

An EHT beamformee shall set the Beamformee SS ( $\le 80$  MHz) subfield to indicate a maximum number of spatial streams of 4 or greater.

An EHT beamformee shall set the Beamformee SS (= 160 MHz) subfield to indicate a maximum number of spatial streams of 4 or greater.

An EHT beamformee shall set the Beamformee SS (= 320 MHz) subfield to indicate a maximum number of spatial streams of 4 or greater.

An EHT beamformer shall not transmit a 20 MHz, 40 MHz, or 80 MHz EHT sounding NDP with a TXVECTOR parameter NUM\_STS that is greater than the maximum number of spatial streams indicated in the Beamformee SS ( $\le 80$  MHz) subfield of any STA identified by a STA Info field in the preceding EHT NDP Announcement frame.

An EHT beamformer shall not transmit a 160 MHz EHT sounding NDP with a TXVECTOR parameter NUM\_STS that is greater than the maximum number of spatial streams indicated in the Beamformee SS (= 160 MHz) subfield of any STA identified by a STA Info field in the preceding EHT NDP Announcement frame.

An EHT beamformer shall not transmit a 320 MHz EHT sounding NDP with a TXVECTOR parameter NUM\_STS that is greater than the maximum number of spatial streams indicated in the Beamformee SS (= 320 MHz) subfield of any STA identified by a STA Info field in the preceding EHT NDP Announcement frame.

An EHT beamformer shall not transmit an EHT sounding NDP with a TXVECTOR parameter NUM\_EHT\_LTF that is greater than the maximum number of EHT-LTF symbols indicated in the Maximum Number Of Supported EHT-LTFs subfield of any STA identified by a STA Info field in the preceding EHT NDP Announcement frame.

An EHT beamformer shall not transmit a 20 MHz, 40 MHz, or 80 MHz EHT sounding NDP where the number of spatial streams exceeds the value indicated in the Number Of Sounding Dimensions ( $\le 80$  MHz) subfield in the EHT PHY Capabilities Information field in the EHT Capabilities element it transmits.

An EHT beamformer shall not transmit a 160 MHz EHT sounding NDP where the number of spatial streams exceeds the value indicated in the Number Of Sounding Dimensions ( $= 160$  MHz) subfield in the EHT PHY Capabilities Information field in the EHT Capabilities element it transmits.

An EHT beamformer shall not transmit a 320 MHz EHT sounding NDP where the number of spatial streams exceeds the value indicated in the Number Of Sounding Dimensions ( $= 320$  MHz) subfield in the EHT PHY Capabilities Information field in the EHT Capabilities element it transmits.

An EHT beamformer may solicit partial bandwidth feedback from one or more EHT beamformees with operating channel width smaller than the bandwidth of the PPDU carrying the EHT NDP Announcement frame and EHT sounding NDP.

An EHT beamformee indicates the maximum supported data rate used in the EHT TB PPDU carrying the EHT compressed beamforming/CQI report in the TB Sounding Feedback Rate Limit subfield in the EHT PHY Capabilities Information field in the EHT Capabilities element it transmits.

An EHT beamformer shall not solicit an EHT TB PPDU with a BFRP Trigger frame that indicates a data rate greater than the data rate indicated by the EHT beamformee in the TB Sounding Feedback Rate Limit subfield. The data rate indicated in the BFRP Trigger frame is computed based on the RU Allocation subfield, PS160 subfield, UL EHT-MCS subfield, and SS Allocation subfield in the EHT variant User Info field of the BFRP Trigger frame. The data rate is computed based on  $1.6 \mu\text{s}$  GI.

A 320 MHz EHT beamformer shall not send a 320 MHz EHT NDP Announcement frame to solicit partial bandwidth feedback from an EHT beamformee with 20 MHz operating channel width.

An EHT NDP Announcement frame carried in a PPDU of bandwidth larger than 40 MHz shall not solicit any feedback from an EHT beamformee with 40 MHz operating channel width.

In an EHT non-TB sounding sequence, a 20 MHz operating EHT beamformee shall support SU feedback for a 242-tone RU solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 20 MHz.

In an EHT TB sounding sequence, a 20 MHz operating EHT beamformee may support SU feedback for a 242-tone RU solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 20 MHz, 40 MHz, 80 MHz, and 160 MHz.

In an EHT TB sounding sequence, a 20 MHz operating EHT beamformee shall support MU feedback for a 242-tone RU solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 20 MHz.

In an EHT TB sounding sequence, a 20 MHz operating EHT beamformee may support MU feedback for a 242-tone RU solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 40 MHz, 80 MHz, and 160 MHz.

In an EHT non-TB sounding sequence, a 40 MHz operating EHT beamformee shall support SU feedback for the following combinations of RU size and NDP announcement bandwidth:

- 242-tone RU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 20 MHz.
- 484-tone RU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 40 MHz.

In an EHT TB sounding sequence, a 40 MHz operating EHT beamformee may support SU feedback for the following combinations of RU size and NDP announcement bandwidth:

- 242-tone RU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 20 MHz.
- 242-tone RU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 40 MHz.
- 484-tone RU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 40 MHz.

In an EHT TB sounding sequence, a 40 MHz operating EHT beamformee shall support MU feedback for the combinations of RU size and NDP announcement bandwidth below:

- 242-tone RU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 20 MHz.
- 484-tone RU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 40 MHz.

In an EHT TB sounding sequence, a 40 MHz operating EHT beamformee may support MU feedback for a 242-tone RU solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 40 MHz.

In an EHT non-TB sounding sequence, an 80 MHz operating EHT beamformee shall support SU feedback for the following combinations of RU or MRU size and NDP announcement bandwidth:

- 242-tone RU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 20 MHz.
- 484-tone RU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 40 MHz.
- 484+242-tone MRU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 80 MHz with 20 MHz puncturing.
- 996-tone RU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 80 MHz without puncturing.

In an EHT TB sounding sequence, an 80 MHz operating EHT beamformee may support SU feedback for the feedback RU or MRU size as shown in Table 9-42f that are within its operating channel width and solicited with an EHT NDP Announcement frame carried a PPDU of bandwidth of 20 MHz, 40 MHz, 80 MHz, 160 MHz, and 320 MHz.

In an EHT TB sounding sequence, an 80 MHz operating EHT beamformee shall support MU feedback for the combinations of RU or MRU (if the MRU is full bandwidth feedback) size and NDP announcement bandwidth below:

- 242-tone RU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 20 MHz.
- 484-tone RU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 40 MHz.
- 996-tone RU and 484+242-tone MRU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 80 MHz or 160 MHz.

— 996-tone RU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 320 MHz.

In an EHT TB sounding sequence, an 80 MHz operating EHT beamformee may support MU feedback for the combinations of RU or MRU (if the MRU is partial bandwidth feedback) size and NDP announcement bandwidth below:

— 242-tone RU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 40 MHz.  
— 242-tone and 484-tone RU, and 484+242-tone MRU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 80 MHz or 160 MHz.  
— 484-tone RU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 320 MHz.

In an EHT non-TB sounding sequence, a 160 MHz operating EHT beamformee shall support SU feedback for the following combinations of RU or MRU size and NDP announcement bandwidth:

— 242-tone RU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 20 MHz.  
— 484-tone RU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 40 MHz.  
— 484+242-tone MRU solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 80 MHz with 20 MHz puncturing.  
— 996-tone RU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 80 MHz.  
— 996+484-tone MRU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 160 MHz with 40 MHz puncturing.  
— 996+484+242-tone MRU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 160 MHz with 20 MHz puncturing.  
— 2x996-tone RU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 160 MHz without puncturing.

In an EHT TB sounding sequence, a 160 MHz operating EHT beamformee may support SU feedback for the feedback RU or MRU size as shown in Table 9-42f that are within its operating channel width and solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 20 MHz, 40 MHz, 80 MHz, 160 MHz, and 320 MHz.

In an EHT TB sounding sequence, a 160 MHz operating EHT beamformee shall support MU feedback for the combinations of RU or MRU (if the MRUs are full bandwidth feedback) size and NDP announcement bandwidth below:

— 242-tone RU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 20 MHz.  
— 484-tone RU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 40 MHz.  
— 996-tone RU and 484+242-tone MRU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 80 MHz.  
— 2x996-tone RU, 996+484-tone and 996+484+242-tone MRU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 160 MHz.  
— 2x996-tone RU and 996+484-tone MRU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 320 MHz.

In an EHT TB sounding sequence, a 160 MHz operating EHT beamformer may support MU feedback for the combinations of RU or MRU (if the MRUs are partial bandwidth feedback) size and NDP announcement bandwidth below:

- 242-tone RU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 40 MHz.
- 242-tone and 484-tone RU, and 484+242-tone MRU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 80 MHz.
- 242-tone, 484-tone, and 996-tone RU, and 484+242-tone and 996+484-tone MRU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 160 MHz.
- 484-tone and 996-tone RU, and 996+484-tone MRU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 320 MHz.

In an EHT non-TB sounding sequence, a 320 MHz operating EHT beamformer shall support SU feedback for the following combinations of RU or MRU size and NDP announcement bandwidth:

- 242-tone RU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 20 MHz.
- 484-tone RU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 40 MHz.
- 484+242-tone MRU solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 80 MHz with 20 MHz puncturing.
- 996-tone RU feedback solicited with an EHT NDP announcement frame carried in a PPDU of bandwidth of 80 MHz.
- 996+484-tone MRU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 160 MHz with 40 MHz puncturing.
- 996+484+242-tone MRU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 160 MHz with 20 MHz puncturing.
- 2x996-tone RU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 160 MHz.
- 2x996+484-tone MRU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 320 MHz with 80+40 MHz puncturing.
- 3x996-tone MRU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 320 MHz with 80 MHz puncturing.
- 3x996+484-tone MRU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 320 MHz with 40 MHz puncturing.
- 4x996-tone RU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 320 MHz without puncturing.

In an EHT TB sounding sequence, a 320 MHz operating EHT beamformer may support SU feedback for the feedback RU or MRU size as shown in Table 9-42f that are within its operating channel width and solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 20 MHz, 40 MHz, 80 MHz, 160 MHz, and 320 MHz.

In an EHT TB sounding sequence, a 320 MHz operating EHT beamformer shall support MU feedback for the combinations of RU or MRU (if the MRUs are full bandwidth feedback) size and NDP announcement bandwidth below:

- 242-tone RU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 20 MHz.
- 484-tone RU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 40 MHz.

- 996-tone RU and 484+242-tone MRU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 80 MHz.
- 2 $\times$ 996-tone RU, 996+484-tone and 996+484+242-tone MRU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 160 MHz.
- 4 $\times$ 996-tone RU and 2 $\times$ 996+484-tone, 3 $\times$ 996-tone, and 3 $\times$ 996+484-tone MRU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 320 MHz.

In an EHT TB sounding sequence, a 320 MHz operating EHT beamformer may support MU feedback for the combinations of RU or MRU (if the MRUs are partial bandwidth feedback) size and NDP announcement bandwidth below:

- 242-tone RU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 40 MHz.
- 242-tone and 484-tone RU, and 484+242-tone MRU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 80 MHz.
- 242-tone, 484-tone, and 996-tone RU, and 484+242-tone and 996+484-tone MRU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 160 MHz.
- 484-tone, 996-tone, and 2 $\times$ 996-tone RU, and 996+484-tone, 2 $\times$ 996+484-tone, 3 $\times$ 996-tone, and 3 $\times$ 996+484-tone MRU feedback solicited with an EHT NDP Announcement frame carried in a PPDU of bandwidth of 320 MHz.

Table 35-3 summarizes the supported sounding bandwidth for the various sounding modes and feedback types.

Table 35-3—Summary of supported RU or MRU sizes for sounding feedback

| Operating channel width of the EHT beamformee (MHz) | Sounding feedback modes                              | Bandwidth of PPDU carrying the EHT NDP Announcement frame (MHz) |     |     |     |     |
|-----------------------------------------------------|------------------------------------------------------|-----------------------------------------------------------------|-----|-----|-----|-----|
|                                                     |                                                      | 20                                                              | 40  | 80  | 160 | 320 |
| 20                                                  | Mandatory for SU feedback (non-TB sounding)          |                                                                 |     |     |     |     |
|                                                     | Optional for CQI feedback (non-TB sounding) - NOTE 1 | 242                                                             |     |     | N/A |     |
|                                                     | Mandatory for MU feedback (TB sounding)              |                                                                 |     |     |     |     |
|                                                     | Optional for MU feedback (TB sounding) - NOTE 2      | N/A                                                             | 242 | 242 | 242 | N/A |
|                                                     | Optional for SU feedback (TB sounding) - NOTE 3      | 242                                                             | 242 | 242 | 242 | N/A |
|                                                     | Optional for CQI feedback (TB sounding) - NOTE 4     |                                                                 |     |     |     |     |

Table 35-3—Summary of supported RU or MRU sizes for sounding feedback (continued)

| Operating channel width of the EHT beamformee (MHz) | Sounding feedback modes                              | Bandwidth of PPDU carrying the EHT NDP Announcement frame (MHz) |          |    |     |     |
|-----------------------------------------------------|------------------------------------------------------|-----------------------------------------------------------------|----------|----|-----|-----|
|                                                     |                                                      | 20                                                              | 40       | 80 | 160 | 320 |
| 40                                                  | Mandatory for SU feedback (non-TB sounding)          |                                                                 |          |    |     |     |
|                                                     | Optional for CQI feedback (non-TB sounding) — NOTE 1 | 242                                                             | 484      |    | N/A |     |
|                                                     | Mandatory for MU feedback (TB sounding)              |                                                                 |          |    |     |     |
|                                                     | Optional for MU feedback (TB sounding) — NOTE 2      | N/A                                                             | 242      |    | N/A |     |
|                                                     | Optional for SU feedback (TB sounding) — NOTE 3      |                                                                 |          |    |     |     |
|                                                     | Optional for CQI feedback (TB sounding) — NOTE 4     | 242                                                             | 242, 484 |    | N/A |     |

Table 35-3—Summary of supported RU or MRU sizes for sounding feedback (continued)

| Operating channel width of the EHT beamformee (MHz) | Sounding feedback modes                              | Bandwidth of PPDU carrying the EHT NDP Announcement frame (MHz) |          |                        |                        |          |
|-----------------------------------------------------|------------------------------------------------------|-----------------------------------------------------------------|----------|------------------------|------------------------|----------|
|                                                     |                                                      | 20                                                              | 40       | 80                     | 160                    | 320      |
| 80                                                  | Mandatory for SU feedback (non-TB sounding)          |                                                                 |          | 484+242 (F), 996       |                        |          |
|                                                     | Optional for CQI feedback (non-TB sounding) — NOTE 1 | 242                                                             | 484      |                        | N/A                    |          |
|                                                     | Mandatory for MU feedback (TB sounding)              | 242                                                             | 484      | 484+242 (F), 996       | 484+242 (F), 996       | 996      |
|                                                     | Optional for MU feedback (TB sounding) — NOTE 2      | N/A                                                             | 242      | 242, 484, 484+242 (P)  | 242, 484, 484+242 (P)  | 484      |
|                                                     | Optional for SU feedback (TB sounding) — NOTE 3      | 242                                                             | 242, 484 | 242, 484, 484+242, 996 | 242, 484, 484+242, 996 | 484, 996 |
|                                                     | Optional for CQI feedback (TB sounding) — NOTE 4     | 242                                                             | 242, 484 | 242, 484, 484+242, 996 | 242, 484, 484+242, 996 | 484, 996 |

Table 35-3—Summary of supported RU or MRU sizes for sounding feedback (continued)

| Operating channel width of the EHT beamformee (MHz) | Sounding feedback modes                              | Bandwidth of PPDU carrying the EHT NDP Announcement frame (MHz) |          |                        |                                                     |                          |
|-----------------------------------------------------|------------------------------------------------------|-----------------------------------------------------------------|----------|------------------------|-----------------------------------------------------|--------------------------|
|                                                     |                                                      | 20                                                              | 40       | 80                     | 160                                                 | 320                      |
| 160                                                 | Mandatory for SU feedback (non-TB sounding)          |                                                                 |          | 484+242 (F), 996       | 996+484 (F), 996+484+242 (F), 2x996                 | N/A                      |
|                                                     | Optional for CQI feedback (non-TB sounding) — NOTE 1 | 242                                                             | 484      |                        |                                                     |                          |
|                                                     | Mandatory for MU feedback (TB sounding)              | 242                                                             | 484      | 484+242 (F), 996       | 996+484 (F), 996+484+242 (F), 2x996                 | 996+484 (F), 2x996       |
|                                                     | Optional for MU feedback (TB sounding) — NOTE 2      | N/A                                                             | 242      | 242, 484, 484+242 (P)  | 242, 484, 996, 484+242, 996+484 (P)                 | 484, 996, 996+484 (P)    |
|                                                     | Optional for SU feedback (TB sounding) — NOTE 3      | 242                                                             | 242, 484 | 242, 484, 484+242, 996 | 242, 484, 996, 484+242, 996+484, 996+484+242, 2x996 | 484, 996, 996+484, 2x996 |
|                                                     | Optional for CQI feedback (TB sounding) — NOTE 4     |                                                                 |          |                        |                                                     |                          |

Table 35-3—Summary of supported RU or MRU sizes for sounding feedback (continued)

| Operating channel width of the EHT beamformee (MHz) | Sounding feedback modes                              | Bandwidth of PPDU carrying the EHT NDP Announcement frame (MHz) |          |                        |                                        |                                                                   |
|-----------------------------------------------------|------------------------------------------------------|-----------------------------------------------------------------|----------|------------------------|----------------------------------------|-------------------------------------------------------------------|
|                                                     |                                                      | 20                                                              | 40       | 80                     | 160                                    | 320                                                               |
| 320                                                 | Mandatory for SU feedback (non-TB sounding)          |                                                                 |          | 484+242 (F), 996       | 996+484 (F), 996+484+242 (F), 2x996    | 2x996+484 (F), 3x996 (F), 3x996+484 (F), 4x996                    |
|                                                     | Optional for CQI feedback (non-TB sounding) — NOTE 1 | 242                                                             | 484      |                        |                                        |                                                                   |
|                                                     | Mandatory for MU feedback (TB sounding)              | 242                                                             | 484      | 484+242 (F), 996       | 996+484 (F), 996+484+242 (F), 2x996    | 2x996+484 (F), 3x996 (F), 3x996+484 (F), 4x996                    |
|                                                     | Optional for MU feedback (TB sounding) — NOTE 2      | N/A                                                             | 242      | 242, 484, 484+242 (P)  | 242, 484, 996, 484+242, 996+484 (P)    | 484, 996, 996+484, 2x996, 2x996+484 (P), 3x996+484 (P), 3x996 (P) |
|                                                     | Optional for SU feedback (TB sounding) — NOTE 3      |                                                                 |          |                        |                                        |                                                                   |
|                                                     | Optional for CQI feedback (TB sounding) — NOTE 4     | 242                                                             | 242, 484 | 242, 484, 484+242, 996 | 242, 484, 996, 484+242, 996+484, 2x996 | 484, 996, 996+484, 2x996, 2x996+484, 3x996, 3x996+484, 4x996      |

NOTE 1—Supported if the Non-Triggered CQI Feedback subfield in the EHT PHY Capabilities Information field in the EHT Capabilities element is set to 1.

NOTE 2—Supported if the Triggered MU Beamforming Partial bandwidth Feedback subfield in the EHT PHY Capabilities Information field in the EHT Capabilities element is set to 1.

NOTE 3—Supported if the Triggered SU Beamforming Feedback subfield in the EHT PHY Capabilities Information field in the EHT Capabilities element is set to 1.

NOTE 4—Supported if the Triggered CQI Feedback subfield in the EHT PHY Capabilities Information field in the EHT Capabilities element is set to 1.

NOTE 5—“(F)” after the MRU indicates MRU sizes where the feedback represents full bandwidth feedback. “(P)” after the MRU indicates MRU sizes where the feedback represents partial bandwidth feedback. If no explicit indication is added, both (F) and (P) are implied where possible.

NOTE 6—Each value in the table only indicates the size of a feedback RU or MRU, not the location of the RU or MRU. This includes all possible feedback RU(s) or MRU(s) of the same size within the beamformee's operating bandwidth.

### 35.7.3 Rules for EHT sounding protocol sequences

An EHT non-TB sounding sequence is initiated by an EHT beamformer with an individually addressed EHT NDP Announcement frame comprising exactly one STA Info field, followed after SIFS by an EHT sounding NDP. The EHT beamformee responds after SIFS with an EHT Compressed Beamforming/CQI frame.

An example of an EHT non-TB sounding sequence is shown in Figure 35-8.

![](f8f3513abcfbb88110dc52f8ba39023a_img.jpg)

Figure 35-8 illustrates an EHT non-TB sounding sequence. The EHT beamformer transmits an EHT NDP Announcement frame. This is followed by a SIFS, after which the EHT beamformee transmits an EHT NDP frame. This is followed by a SIFS, after which the EHT beamformer transmits an EHT Compressed Beamforming/CQI frame.

Figure 35-8—An illustration of EHT non-TB sounding

An EHT beamformer that initiates an EHT non-TB sounding sequence shall transmit the EHT NDP Announcement frame with a single STA Info field. The AID11 subfield of the STA Info field is set to the AID of the STA identified by the RA field or to 0 if the STA identified by the RA field is an associated AP, mesh STA or IBSS STA. The EHT NDP Announcement frame shall be followed after a SIFS by an EHT sounding NDP. The EHT sounding NDP shall be followed after a SIFS by a PPDU containing one or more EHT Compressed Beamforming/CQI frames.

An EHT beamformer may initiate an EHT non-TB sounding sequence with an EHT beamformee to solicit SU or CQI feedback.

An EHT beamformer that initiates an EHT TB sounding sequence shall transmit an EHT NDP Announcement frame with two or more STA Info fields and the RA field set to the broadcast address. The EHT NDP Announcement frame shall be followed after a SIFS by an EHT sounding NDP. The EHT sounding NDP shall be followed after a SIFS by the BFRP Trigger frame. Subsequent BFRP Trigger frames, if any, in the EHT TB sounding sequence shall be transmitted SIFS after the EHT TB PPDU transmitted in response to the previous BFRP Trigger frame. Each EHT beamformee that is addressed by a BFRP Trigger frame shall respond after a SIFS with an EHT TB PPDU containing one or more EHT Compressed Beamforming/CQI frames. An EHT beamformer that has initiated an EHT TB sounding sequence shall transmit a BFRP Trigger frame to solicit feedback and may send additional BFRP Trigger frame(s) in the same TXOP, with any STA that is identified in the NDP Announcement frame being triggered only once within the TXOP. Figure 35-9 shows an example with more than one EHT beamformee and two BFRP Trigger frames. The EHT beamformer uses the additional BFRP Trigger frames to solicit EHT compressed beamforming/CQI reports from EHT beamformees not addressed in a previous BFRP Trigger frame. In an EHT TB sounding sequence, an EHT beamformer shall not transmit a BFRP Trigger frame that solicits a STA identified in the EHT NDP Announcement frame of an EHT TB sounding sequence unless it is in the same TXOP as the EHT TB sounding sequence. In the EHT TB sounding sequence, the STAs identified in the NDP Announcement frame should be the same as the ones identified in the Trigger frame(s) in the same TXOP.

![](d0280777a6b6024c581a28036462658e_img.jpg)

Figure 35-9 illustrates an EHT TB sounding sequence. The timeline shows interactions between an Access Point (AP) and a Non-AP STA 1.

The sequence starts with the AP transmitting a CTS-to-self frame, followed by a MU-RTS TXS Trigger Frame (Triggered NDP Sharing Mode -1) to STA 1. This is followed by a Block Ack to STA 1.

STA 1 responds with a CTS response to AP, followed by two DATA frames to AP in non-TB PPDU mode. The AP then transmits a Block Ack to STA 1.

Finally, the AP transmits DATA to another non-AP STA.

Below the timeline, the Time allocated in MU-RTS TXS Trigger Frame and TXOP are indicated.

Figure 35-9—An illustration of EHT TB sounding

An EHT beamformer that sends a BFRP Trigger frame shall set the Feedback Segment Retransmission Bitmap fields of the BFRP Trigger frame to all 1s.

NOTE 1—The BFRP Trigger frame contains one or more User Info fields, each of which identifies an EHT beamformee.

In an EHT TB sounding sequence, a beamformer shall address a beamformee that is affiliated with a non-AP MLD operating in EMLSR or EMLMR mode only in the first BFRP Trigger frame.

An EHT beamformer may initiate an EHT TB sounding sequence to solicit SU, MU, or CQI feedback.

An EHT beamformer may initiate an EHT TB sounding sequence to solicit feedback only if the feedback is computed based on parameters (see 9.4.2.323.3) supported by the EHT beamformee. An EHT beamformer shall not initiate an EHT TB sounding sequence if the feedback would be computed based on parameters not supported by the EHT beamformee (see 35.7.2).

An EHT AP with dot11MultiBSSIDImplemented equal to true shall not send an EHT NDP Announcement frame with the TA field set to the transmitted BSSID to a non-AP STA that is associated with an AP corresponding to a nontransmitted BSSID in the multiple BSSID set unless the AP has received from the non-AP STA an HE Capabilities element with the Rx Control Frame To MultiBSS subfield in the HE MAC Capabilities Information field equal to 1.

An AP that transmits an EHT NDP Announcement frame shall set the TA field of the frame to the MAC address of the AP, unless dot11MultiBSSIDImplemented is true and the EHT NDP Announcement frame identifies STAs from at least two different BSSs of the multiple BSSID set, in which case the AP shall set the TA field of the frame to the transmitted BSSID. If the EHT NDP Announcement frame is transmitted in a non-HT duplicate PPDU (channel width 40 MHz or wider) then the TA field of the EHT NDP Announcement frame is a bandwidth signaling TA (see 10.6.6.6); if the EHT NDP Announcement frame is transmitted in a non-HT PPDU (channel width 20 MHz), the TA field of the EHT NDP Announcement frame may be a bandwidth signaling TA (see 10.6.6.6).

An EHT beamformer that transmits an EHT NDP Announcement frame to an EHT beamformee that is an associated AP, mesh STA, or IBSS STA, shall include a single STA Info field in the EHT NDP Announcement frame and shall set the AID11 field in the STA Info subfield of the frame to 0.

When an EHT beamformer is an AP and EHT beamformees are non-AP STAs, the EHT beamformer that transmits an EHT NDP Announcement frame to one or more EHT beamformees shall set the AID11 subfield to the 11 LSBs of the AID of each EHT beamformee.

An EHT NDP Announcement frame shall not include multiple STA Info fields that have the same value in the AID11 subfield.

In an EHT TB sounding sequence, a STA Info field in the EHT NDP Announcement frame that solicits SU or MU feedback indicates the subcarrier grouping,  $N_g$ , codebook size and the number of columns,  $N_c$ , to be used by the EHT beamformee identified by the STA Info field for the generation of the SU or MU feedback.

In an EHT non-TB sounding sequence where the STA Info field in the EHT NDP Announcement frame solicits SU feedback, the subcarrier grouping,  $N_g$ , codebook size and the number of columns,  $N_c$ , used for the generation of the SU feedback are determined by the EHT beamformee.

In an EHT TB sounding sequence, a STA Info field in the EHT NDP Announcement frame that solicits CQI feedback indicates the  $N_c$  to be used by the EHT beamformee identified by the STA Info field for the generation of the CQI feedback.

In an EHT non-TB sounding sequence where the STA Info field in the EHT NDP Announcement frame solicits CQI feedback, the  $N_c$  used for the generation of the CQI feedback is determined by the EHT beamformee.

An EHT beamformer that transmits an EHT NDP Announcement frame as part of an EHT TB sounding sequence shall set the  $N_c$  Index subfield of the STA Info field to indicate a value less than or equal to the minimum of:

- The maximum number of supported receive spatial streams according to the corresponding EHT beamformee's EHT-MCS Map (20 MHz-Only Non-AP STA), EHT-MCS Map ( $BW \le 80$  MHz, Except 20 MHz-Only Non-AP STA), EHT-MCS Map ( $BW = 160$  MHz), and EHT-MCS Map ( $BW = 320$  MHz) subfields in the Supported EHT-MCS And NSS Set field in the EHT Capabilities element sent by the EHT beamformee.
- The maximum number of supported receive spatial streams according to the Rx NSS indicated in the most recently received Operating Mode Notification frame, Operating Mode Notification element with the Rx NSS Type subfield equal to 0, OM Control subfield if EHT OM Control subfield is not present in the same A-Control field, or EHT OM Control subfield together with the OM Control subfield sent by the corresponding EHT beamformee (see 35.9).
- The maximum supported  $N_c$  indicated by the Max  $N_c$  subfield in the EHT PHY Capabilities Information field in the EHT Capabilities element sent by the EHT beamformee.

An EHT beamformer that transmits an EHT NDP Announcement frame shall set the Partial BW Info subfield in a STA Info field to indicate the feedback subcarrier indices of the solicited EHT compressed beamforming/CQI report (see 9.3.1.19). An EHT beamformer shall set the Partial BW Info subfield such that the subcarrier indices  $scidx(i)$ ,  $i = 0, 1, \dots, N_s - 1$  (see 9.4.1.73), fall within the operating channel width of the corresponding EHT beamformee.

NOTE 2—The operating channel width of the EHT beamformee is determined by the EHT BSS operating channel width (see 35.15.1) and the EHT beamformee's supported bandwidth modes (as indicated in the HE Capabilities element and EHT Capabilities element), and can further be modified using the operating mode indication (see 35.9).

The EHT beamformer shall set the TXVECTOR parameter CH\_BANDWIDTH or CH\_BANDWIDTH\_IN\_NON\_HT, the Partial BW Info subfield of the EHT NDP Announcement frame,

depending on the operating channel width of the beamformee, the operating channel width of the beamformer, and the feedback RU or MRU size, as defined in Table 9-42f.

In an EHT non-TB sounding sequence soliciting SU feedback, B26 (in the Feedback Type And Ng subfield), the Codebook Size subfield, and the Nc Index subfield in the STA Info field of the EHT NDP Announcement frame are reserved (see Table 9-42e).

In an EHT non-TB sounding sequence soliciting CQI feedback, the Nc Index subfield in an EHT NDP Announcement frame is reserved.

An EHT beamformee that receives an EHT NDP Announcement frame soliciting SU feedback as part of an EHT non-TB sounding sequence shall generate an EHT compressed beamforming/CQI report for SU feedback with  $Nc$  in the range 1 to 8,  $Ng = 4$  or  $Ng = 16$ , and codebook size  $(\phi, \psi) = \{4, 2\}$  or  $(\phi, \psi) = \{6, 4\}$ . The EHT beamformee shall transmit the EHT compressed beamforming/CQI report a SIFS after the EHT sounding NDP.

An EHT beamformee that receives an EHT NDP Announcement frame soliciting CQI feedback as part of an EHT non-TB sounding sequence shall generate an EHT compressed beamforming/CQI report for CQI feedback with  $Nc$  determined by the EHT beamformee.

An EHT beamformee that receives an EHT NDP Announcement frame soliciting CQI feedback as part of an EHT TB sounding sequence shall generate an EHT compressed beamforming/CQI report for CQI feedback with  $Nc$  determined by the EHT beamformer.

An EHT beamformee that receives an EHT NDP Announcement frame as part of an EHT non-TB sounding sequence shall transmit its EHT compressed beamforming/CQI report a SIFS after the EHT sounding NDP. The TXVECTOR parameter CH\_BANDWIDTH for the PPDU containing the EHT compressed beamforming/CQI report shall be set to indicate a bandwidth not wider than that indicated by the RXVECTOR parameter CH\_BANDWIDTH of the EHT sounding NDP.

An EHT beamformee that receives an EHT NDP Announcement frame as part of an EHT TB sounding sequence with a STA Info field identifying it soliciting SU or MU feedback shall generate an EHT compressed beamforming/CQI report using the feedback type,  $Ng$ , codebook size, and  $Nc$  indicated in the STA Info field.

If the EHT beamformee receives a BFRP Trigger frame with a matching User Info field, the EHT beamformee transmits an EHT TB PPDU containing the EHT compressed beamforming/CQI report following the rules defined in 35.5.2.3. If the EHT NDP Announcement frame has the TA field set to the transmitted BSSID, and the EHT beamformee is a non-AP STA associated with an AP corresponding to a nontransmitted BSSID that supports receiving Control frames with TA field set to the transmitted BSSID, then the EHT Compressed Beamforming/CQI frame(s) sent in response shall have the RA field set to as defined in 26.5.2.3.5 (RA field for frames carried in an HE TB PPDU).

NOTE 2—A non-AP EHT beamformee that transmits an OM Control subfield with the UL MU Disable field set to 1 does not respond to BFRP Trigger frames (see 35.9).

An EHT beamformee that transmits an EHT Compressed Beamforming/CQI frame sets the Partial BW Info subfield of the EHT MIMO Control field to indicate the range of subcarriers for which compressed beamforming/CQI information is provided. The Partial BW Info subfield shall be set to the value of the Partial BW Info subfield of the NDP Announcement frame for the EHT beamformee.

An AP that sends a BFRP Trigger frame shall allocate sufficient resources for the EHT TB PPDU response for each beamformee to include all the solicited feedback, including feedback that is segmented and including an HT Control field in each frame.

The Sounding Dialog Token Number field in the EHT MIMO Control field shall be set to the same value as the Sounding Dialog Token Number field in the corresponding EHT NDP Announcement frame.

The SNR per subcarrier computation should be done on at least four subcarriers in a 26-tone RU.

#### 35.7.4 Rules for generating segmented feedback

The EHT Sounding Feedback Segment field consists of bits in octet number  $N1$  to octet number  $N2$  of the EHT Compressed Beamforming/CQI Report field (see 9.4.1.79). Let  $L_{HCBR}$  denote the length of the EHT Compressed Beamforming/CQI Report field in octets.

If the EHT Compressed Beamforming/CQI Report field would result in an EHT Compressed Beamforming/CQI frame that does not exceed 11 454 octets in length, then the EHT Compressed Beamforming/CQI Report field shall be included in a single EHT Sounding Feedback Segment field. In this case,  $N1 = 1$  and  $N2 = L_{HCBR}$  for the EHT Sounding Feedback Segment field.

If the EHT Compressed Beamforming/CQI Report field would result in an EHT Compressed Beamforming/CQI frame that exceeds 11 454 octets in length, then the EHT Compressed Beamforming/CQI Report field shall be split into  $K$  EHT Sounding Feedback Segment fields. Let  $L$  be the length of the EHT Sounding Feedback Segment field in octets that results in the length of the EHT Compressed Beamforming/CQI frame being 11 454 octets (see NOTE 1). Then, the number of EHT Sounding Feedback Segment fields is  $K = \text{Ceil}(L_{HCBR}/L)$  (see NOTE 2). For the  $k$ -th EHT Sounding Feedback Segment field that is not the last EHT Sounding Segment field ( $k = 1, \dots, K-1$ ),  $N1 = (k-1) \times L + 1$  and  $N2 = k \times L$ . For the last EHT Sounding Segment field,  $N1 = (K-1) \times L + 1$ , and  $N2 = L_{HCBR}$  (see NOTE 3). Each EHT Sounding Feedback Segment field shall be included in a separate EHT Compressed Beamforming/CQI frame. Each EHT Sounding Feedback Segment field is identified by the value of the Remaining Feedback Segments subfield and the First Feedback Segment subfield in the EHT MIMO Control field in the EHT Compressed Beamforming/CQI frame containing the EHT Sounding Feedback Segment field as defined in 9.4.1.72. The other nonreserved subfields of the EHT MIMO Control field shall be the same for all EHT Compressed Beamforming/CQI frames carrying different EHT Sounding Feedback Segment fields of the same EHT Compressed Beamforming/CQI Report field. All EHT Compressed Beamforming/CQI frames carrying different portions of the same EHT Compressed Beamforming/CQI Report field shall be sent in an A-MPDU contained in a single PPDU and shall be included in the A-MPDU in the descending order of the values of the Remaining Feedback Segments subfield.

NOTE 1—An EHT Sounding Feedback Segment field together with the other fields in the Frame Body field of the EHT Compressed Beamforming/CQI frame (see Figure 9-128 (Management frame format) and Table 9-658c) constitutes a single unfragmented MMPDU.

NOTE 2—The maximum length of the EHT Compressed Beamforming/CQI Report field is 60 008 octets (320 MHz MU type feedback with 8 columns, 8 rows,  $Ng = 4$  and  $(\phi, \psi) = (9, 7)$  bits – see Table 9-129a). Therefore, the maximum number of the EHT Compressed Beamforming/CQI frames needed to carry an EHT Compressed Beamforming/CQI Report field is 6.

NOTE 3—This results in all EHT Sounding Feedback Segment fields that are not the last EHT Sounding Segment field to have equal length. All EHT Compressed Beamforming/CQI frames that do not contain the last EHT Sounding Feedback Segment field have equal length of 11 454 octets. The last EHT Sounding Feedback Segment field might have length smaller than the other EHT Sounding Feedback Segment fields. The EHT Compressed Beamforming/CQI frame containing the last EHT Sounding Feedback Segment field has a length less than or equal to 11 454 octets.

An EHT beamformer that sends a BFRP Trigger frame to retrieve an EHT compressed beamforming/CQI report from an EHT beamformee shall solicit all possible EHT Sounding Feedback Segment fields (feedback segments) by setting all of the bits in the Feedback Segment Retransmission Bitmap subfield to 1 in the User Info field identifying the EHT beamformee.

An EHT beamformer that fails to receive some or all of the feedback segments of the EHT compressed beamforming/CQI report from the EHT beamformee shall not use a BFRP Trigger frame to request retransmission of the feedback segments. In this case, the EHT beamformer may repeat the entire sounding sequence.

### 35.7.5 EHT sounding NDP transmission

The TXVECTOR parameters for an EHT sounding NDP shall be set as follows:

- FORMAT is set to EHT\_MU.
- APEP\_LENGTH is set to 0.
- EHT\_LTF\_TYPE is set to either  $2\times$  EHT-LTF or  $4\times$  EHT-LTF (if supported).
- If EHT\_LTF\_TYPE is  $2\times$  EHT-LTF, then GI\_TYPE is set to either  $0.8\ \mu\text{s}$  GI or  $1.6\ \mu\text{s}$  GI.
- If EHT\_LTF\_TYPE is  $4\times$  EHT-LTF, then GI\_TYPE is set to  $3.2\ \mu\text{s}$  GI.
- NUM\_STS indicates two or more spatial streams if the Feedback Type And Ng and Codebook Size subfields in the preceding EHT NDP Announcement frame indicate either SU or MU, or one or more spatial streams if the Feedback Type And Ng and Codebook Size subfields in the preceding EHT NDP Announcement frame indicate CQI. See below for additional constraints on NUM\_STS.
- CH\_BANDWIDTH is set to the same value as the TXVECTOR parameter CH\_BANDWIDTH or CH\_BANDWIDTH\_IN\_NON\_HT of the preceding PPDU carrying the EHT NDP Announcement frame.
- SPATIAL\_REUSE is set to PSR\_AND\_NON\_SRG\_OBSS\_PD\_PROHIBITED (see 35.11.2).
- BSS\_COLOR is set to the value indicated in the BSS Color subfield of the HE Operation element received or transmitted by the EHT AP.
- TXOP\_DURATION set to either 127 or a value defined in Equation (35-3).

$$\max\left(\min\left(8\left\lfloor\frac{D_{\text{EHT\_NDPA}} - \text{SIFS} - \text{TXTIME}}{8}\right\rfloor, 504\right), \min\left(128\left\lfloor\frac{D_{\text{EHT\_NDPA}} - \text{SIFS} - \text{TXTIME}}{128}\right\rfloor, 8448\right)\right) \quad (35-3)$$

where

$D_{\text{EHT\_NDPA}}$  is the value of the Duration/ID field in the MAC header of the preceding EHT NDP Announcement frame.

TXTIME is the transmission time of an EHT sounding NDP defined in Equation (36-110)

The Supported EHT-MCS and NSS Set field in the EHT Capabilities element transmitted by the transmitter and the receiver of the EHT sounding NDP do not affect the values used for the NUM\_STS parameter for the TXVECTOR of an EHT sounding NDP.

The intended recipient(s) of an EHT sounding NDP is the STA(s) addressed by the STA Info field(s) in the immediately preceding EHT NDP Announcement frame.

The transmitter of an EHT sounding NDP is the same STA that transmitted the immediately preceding EHT NDP Announcement frame.

## 35.8 Restricted TWT (R-TWT)

### 35.8.1 General

R-TWT operation described in this subclause enables the STAs in a BSS to use enhanced medium access protection and resource reservation mechanisms for delivery of latency sensitive traffic.

An EHT STA with dot11RestrictedTWTOptionImplemented equal to true shall set the Restricted TWT Support subfield in its transmitted EHT Capabilities element to 1 and shall set the Broadcast TWT Support subfield in its transmitted HE Capabilities element to 1; otherwise, the EHT STA shall set the Restricted TWT Support subfield in its transmitted EHT Capabilities element to 0.

An R-TWT scheduling AP is an EHT AP with dot11RestrictedTWTOptionImplemented equal to true that sets the Restricted TWT Support subfield in the transmitted EHT Capabilities element to 1.

An R-TWT scheduled STA is a non-AP EHT STA with dot11RestrictedTWTOptionImplemented equal to true that sets the Restricted TWT Support subfield in the transmitted EHT Capabilities element to 1 and sends to or receives from an R-TWT scheduling AP a broadcast TWT element carrying one or more Restricted TWT Parameter Set field(s).

An R-TWT scheduled STA establishes membership for one or more R-TWT schedules with its associated EHT AP by following the rules defined in 26.8.3 with the additional rules defined in 35.8.2. An R-TWT scheduling AP may announce one or more R-TWT schedules as described in 35.8.3. EHT STAs with dot11RestrictedTWTOptionImplemented equal to true that support R-TWT operation follow the rules defined in 26.8.3, 35.3.24, and the additional rules and restrictions that are defined in the subclauses below.

#### 35.8.2 R-TWT membership setup

An R-TWT membership is established using the same procedure used to set up a broadcast TWT membership as described in 26.8.3 except that the broadcast TWT element(s) carried in the Management frames used to set up the membership include one or more Restricted TWT Parameter Set fields as described in 9.4.2.198.

An R-TWT scheduling AP should set the Trigger field to 1 in the Restricted TWT Parameter Set field(s) it transmits.

When included in an individually addressed Management frame for R-TWT membership setup transmitted by an R-TWT scheduling AP or R-TWT scheduled STA, the Restricted TWT Traffic Info Present subfield of the Broadcast TWT Info field included in a Restricted TWT Parameter Set field shall be set to 1.

The R-TWT scheduling AP and the R-TWT scheduled STA shall set the Restricted TWT Traffic Info field (see 9.4.2.198) to identify the TID(s) that carry latency sensitive traffic in DL and UL for the R-TWT membership being set up. The TID(s) indicated as latency sensitive traffic in DL and UL in the Restricted TWT Traffic Info field shall be within the set of TIDs that are mapped in DL and UL, respectively, to the link on which the R-TWT membership is being set up (see 35.3.7.2).

The TID(s) that are specified in the Restricted TWT Traffic Info field of the TWT element (as described in 9.4.2.198) in a TWT response that indicates Accept TWT are referred to as R-TWT DL TID(s) or R-TWT UL TID(s), and collectively as R-TWT TID(s).

When a TLLM update results in a mapping where none of the R-TWT TID(s) for an R-TWT membership are mapped onto the link on which the R-TWT membership is set up, the corresponding R-TWT membership is considered as torn down.

An R-TWT scheduled STA may signal a QoS Characteristics element for a traffic flow intended to be delivered during R-TWT SPs of an R-TWT schedule in an SCS Request frame to the R-TWT scheduling AP as per procedures defined in 35.17.

If an R-TWT scheduling AP has received QoS Characteristics element(s) from an R-TWT scheduled STA whose TID and Direction fields match an R-TWT TID and its specified direction for an R-TWT

membership setup, the R-TWT scheduling AP may use those parameters in QoS Characteristics element(s) as guidance for R-TWT membership setup.

### 35.8.3 R-TWT announcement

#### 35.8.3.1 Rules for R-TWT scheduling AP

When there is any R-TWT membership set up with an R-TWT scheduling AP, the R-TWT schedule information shall be announced by including Restricted TWT Parameter Set field(s) in the broadcast TWT element as specified in 9.4.2.198 contained in transmitted Management frame(s) as specified in 26.8.3:

- By the R-TWT scheduling AP if this AP does not correspond to a nontransmitted BSSID, or
- By the AP corresponding to the transmitted BSSID in the same multiple BSSID set if the R-TWT scheduling AP corresponds to a nontransmitted BSSID in the same multiple BSSID set.

When an AP that does not correspond to a nontransmitted BSSID advertises an R-TWT schedule for its own BSS, it shall include a Restricted Parameter Set field describing the R-TWT schedule:

- With the Restricted TWT Schedule Info subfield set to 0, 1 or 2 following the rules below:
  - If the schedule does not have any non-AP member STA, or the schedule is suspended for all member STAs, the value shall be set to 0 (a.k.a. the schedule is idle); otherwise,
  - If the schedule is not available for accepting new membership due to resource constraints (a.k.a. the schedule is full), the value shall be set to 2;
  - Otherwise the value shall be set to 1;
- With the Broadcast TWT ID subfield set to the TWT ID of the R-TWT schedule.

When an AP corresponding to a transmitted BSSID advertises an R-TWT schedule for a nontransmitted BSSID in the same multiple BSSID set, it shall include both:

- A Restricted TWT Parameter Set field describing the R-TWT schedule in a broadcast TWT element carried in the nontransmitted BSSID profile of the nontransmitted BSSID in the Multiple BSSID element:
  - With the Restricted TWT Schedule Info subfield set to 0, 1 or 2, following the same rule as above,
  - With the Broadcast TWT ID subfield set to the TWT ID of the R-TWT schedule.
- And a Restricted TWT Parameter Set field describing the R-TWT schedule carried in a broadcast TWT element outside the Multiple BSSID element if the R-TWT schedule is active:
  - With the Restricted TWT Schedule Info subfield set to 3,
  - With the Broadcast TWT ID subfield set to 31.

NOTE—A (Re)Association Response frame does not include a Multiple BSSID element.

A Restricted TWT Parameter Set field included in a TWT element carried within a nontransmitted BSSID profile in a multiple BSSID element shall not have the Restricted TWT Schedule Info subfield set to 3.

When an R-TWT scheduling AP in a co-hosted BSSID set advertises an active R-TWT schedule, then all the other EHT APs in the same co-hosted BSSID set shall advertise the same R-TWT schedule:

- With the Restricted TWT Schedule Info subfield set to 3,
- With the Broadcast TWT ID subfield set to 31.

An R-TWT scheduling AP that includes a Restricted TWT Parameter Set field in a broadcast TWT element shall set the Restricted TWT Traffic Info Present subfield of the Restricted TWT Parameter Set field to 0 if the Negotiation Type subfield of the TWT element is equal to 2.

An example is shown in AH.18.

An R-TWT scheduling AP when announcing an R-TWT schedule, shall set the Target Wake Time field in the TWT element in transmitted Management frames to TSF [10:25], where TSF corresponds to the first R-TWT SP start time of the corresponding R-TWT schedule.

The R-TWT scheduling AP shall determine the start time of R-TWT SPs that happen after the first R-TWT SP (next R-TWT SP start time) in a periodic R-TWT schedule based on the start time of the first R-TWT SP and the TWT wake interval of the corresponding R-TWT schedule.

### 35.8.3.2 Rules for R-TWT scheduled STA

A non-AP STA should not request to establish membership in an R-TWT schedule advertised by the R-TWT scheduling AP with the Restricted TWT Schedule Info subfield set to 2.

A non-AP STA shall not request to establish membership in an R-TWT schedule advertised by the R-TWT scheduling AP with the Restricted TWT Schedule Info subfield set to 3.

## 35.8.4 Channel access rules for R-TWT SPs

### 35.8.4.1 TXOP and backoff procedure rules for R-TWT SPs

A non-AP EHT STA with dot11RestrictedTWTOptionImplemented set to true as a TXOP holder shall ensure the TXOP ends before the start time of any active R-TWT SPs that are advertised by its associated AP that does not correspond to a nontransmitted BSSID.

A non-AP EHT STA with dot11RestrictedTWTOptionImplemented set to true as a TXOP holder and that is associated with an AP that corresponds to a nontransmitted BSSID shall ensure the TXOP ends before the start time of any active R-TWT SPs that the AP corresponding to the transmitted BSSID in the same multiple BSSID set advertises in a broadcast TWT element carried:

- Outside the Multiple BSSID element, and
- Within the nontransmitted BSSID profile corresponding to its associated AP in the Multiple BSSID element.

In addition, before starting transmission of any PPDU, the non-AP EHT STA with dot11RestrictedTWTOptionImplemented set to true shall check if there is enough time for the frame exchange to complete prior to the start of the R-TWT SP and, if there is not enough time, then the STA shall defer transmission by selecting a random backoff count using the present CW[AC] (without advancing to the next value of CW[AC]). The QSRC[AC] for the MSDU or A-MSDU is not affected.

NOTE 1—The R-TWT schedule(s) carried in a TWT element outside of a Multiple BSSID element in a Beacon or Probe Response frame include the schedule(s) for the transmitted BSSID, nontransmitted BSSID(s), and co-hosted BSSID(s), if any, as specified in 35.8.3.

An EHT AP with dot11RestrictedTWTOptionImplemented set to true as a TXOP holder shall ensure the TXOP ends before the start time of any active R-TWT SP advertised by itself as specified in 35.8.3 unless the remaining portion of TXOP falling within the R-TWT SP is used for the delivery of DL frames of R-TWT DL TID(s) or to solicit the UL frames of R-TWT UL TID(s).

NOTE 2—When an R-TWT SP starts, a member STA might suspend decrementing the backoff counter of any AC to which none of the R-TWT TID(s) belong until it has delivered all its frames from R-TWT TID(s), and resume the decrementing afterwards or when the SP is ended.

When a non-AP STA that is affiliated with a non-AP MLD and operates on one link of an NSTR link pair, or one of the EMLSR or EMLMR links is a member of an R-TWT SP on the first link; if the second non-AP STA affiliated with the same MLD is not a member of any other R-TWT SPs on the second link that overlap with the first SP, then the second non-AP STA and its associated AP (referred as the second AP), if their respective dot11RestrictedTWTOptionImplemented equal to true, should follow the rules below:

- The second AP as a TXOP holder on the second link should ensure its frame exchanges end no later than  $T$  amount of time before the start time of the R-TWT SP on the first link if the second non-AP STA is the corresponding TXOP responder or one of the responders,
- The second non-AP STA as a TXOP holder on the second link should ensure its TXOP ends no later than  $T$  amount of time before the start time of the R-TWT SP on the first link,

where  $T$  equals to one of the following values:

- 0 if the two non-AP STAs operate on an NSTR link pair,
- the EMLSR transition delay, indicated in the EMLSR Transition Delay subfield, as specified for the EMLSR links if the two non-AP STAs belong to the EMLSR links,
- the EMLMR transition delay, indicated in the EMLMR Transition Delay subfield, as specified for EMLMR links if the two non-AP STAs belong to the EMLMR links.

NOTE 3—If a Beacon frame transmission overlaps with the start time of any active R-TWT SP, then the ongoing Beacon frame transmission can continue within the R-TWT SP.

#### 35.8.4.2 Quieting STAs during R-TWT SPs

An R-TWT scheduling AP may schedule at most one quiet interval that overlaps with an R-TWT SP. Such a quiet interval, referred to as an overlapping quiet interval in this subclause, if scheduled, shall have a duration of 1 TU, and shall start at the same time as the corresponding R-TWT SP.

To schedule overlapping quiet intervals for one or more R-TWT SPs that belong to one or more periodic or aperiodic R-TWT schedules, the EHT AP may transmit one or more Quiet elements in Beacon and Probe Response frames. An EHT AP affiliated with an AP MLD shall not include in its transmitted Beacon or Probe Response frames any Quiet elements that correspond to overlapping quiet intervals that are scheduled and advertised by other APs affiliated with the same AP MLD (see 35.3.11).

NOTE 1—Unless specified otherwise (e.g., through the rules in this subclause), the channel access and transmission rules during quiet intervals are defined in 11.8.3, 26.17.1 (Basic HE BSS operation), and 26.17.2. An AP can still use quiet intervals for channel testing by managing or avoiding the overlap between R-TWT SPs and quiet intervals that it schedules.

NOTE 2—An R-TWT scheduling AP might transmit a CF-End frame during an overlapping quiet interval that it schedules.

Non-AP EHT STAs may ignore overlapping quiet intervals.

#### 35.8.5 Traffic delivery

An R-TWT scheduling AP or a member R-TWT scheduled STA that initiates or participates in a frame exchange during an R-TWT SP shall ensure that QoS Data frames of the R-TWT TID(s) are delivered first during the R-TWT SP, except that this requirement may be superseded by related requirements in 11.3.2 (State transition diagram for nommesh STAs) and 11.2.3.1.

In a trigger-enabled R-TWT SP, the following apply:

- When scheduling the transmission of Trigger frames, the R-TWT scheduling AP shall trigger member R-TWT scheduled STAs first, to facilitate them to deliver their QoS Data frames of R-TWT UL TID(s), if any, first.

— The triggered member STA follows the rules specified in 26.6.3 (Multi-TID A-MPDU and ack-enabled single-TID A-MPDU) to aggregate MPDUs except that the STA shall first include QoS Data frames (if any) of TID(s) in the R-TWT UL TID(s).

NOTE—The R-TWT scheduling AP might still include the 12 LSB of the AID of a STA that is not a member of this R-TWT SP in Trigger frame(s) transmitted in trigger-enabled R-TWT SPs.

If an R-TWT scheduling AP has established SCS stream(s) described by QoS Characteristics element(s) with an R-TWT scheduled STA whose TID and Direction fields match an R-TWT TID and its specified direction for an R-TWT schedule established with the R-TWT scheduled STA, the AP should follow the rules specified in 35.17 for scheduling of DL QoS Data frames or enabling the transmission of UL QoS Data frames for that R-TWT TID in corresponding R-TWT SPs, in addition to the traffic delivery rules specified in this clause.

### 35.9 Operating mode indication

An EHT AP that sets the Support For 320 MHz In 6 GHz subfield in the EHT Capabilities element to 1 shall set dot11EHTOMIOptionImplemented to true.

An EHT STA with dot11EHTOMIOptionImplemented equal to true shall set the EHT OM Control Support subfield in the EHT MAC Capabilities Information field in the EHT Capabilities element it transmits to 1; otherwise, the EHT STA shall set the EHT OM Control Support subfield to 0.

An EHT STA with dot11EHTOMIOptionImplemented equal to true shall set dot11OMIOptionImplemented to true.

An EHT STA shall not include an EHT OM Control field in an A-Control field unless the OM Control field is present in the same A-Control field. If an EHT OM Control field is included in an A-Control field, the EHT OM Control subfield shall be concatenated with the OM Control subfield within the same A-Control subfield, and the OM Control subfield shall be located after the EHT OM Control field.

NOTE 1—An EHT STA is an HE STA and as such inherits all the functionalities defined in 26.9 (Operating mode indication).

NOTE 2—Based on the requirement to concatenate the OM Control subfield after an EHT OM Control subfield and the definition of OMI initiator and OMI responder in 26.9 (Operating mode indication), an EHT STA that transmits a frame including an EHT OM Control subfield is an OMI initiator, and an EHT STA with dot11EHTOMIOptionImplemented equal to true that receives a frame including an EHT OM Control subfield is an OMI responder.

For an EHT STA that is an OMI initiator or an OMI responder, the rule described in 26.9.3 that applies to HE TB PPDUs shall also apply to EHT TB PPDUs.

An OMI initiator that transmits a frame including an EHT OM Control subfield and an OMI responder that receives a frame including an EHT OM Control field shall follow the rules defined in 26.9, except that the  $N_{SS}$ , the  $N_{STS}$ , and/or the maximum operating channel width shall be calculated by the EHT OM Control subfield combined with the OM Control subfield as defined in 9.2.4.7.8.

NOTE 3—An EHT PHY does not support STBC. The terms “space-time stream” and “spatial stream” are equivalent in EHT.

If the operating channel width of the STA is greater than 80 MHz, then the maximum number of spatial streams that the STA supports in reception for a given EHT-MCS as a function of the received EHT PPDU bandwidth  $BW$  at an EHT STA transmitting only an OM Control subfield or an EHT OM Control subfield combined with an OM Control subfield is defined in Equation (35-4).

$$\left[ \frac{Rx-NSS-from-OMI \times (Max-EHT-NSS-at-BW / Max-EHT-NSS-at-80)}{N_{SS}} \right] \quad (35-4)$$

where

$Rx-NSS-from-OMI$  is  $N_{SS}$  indicated by the Rx NSS subfield in the OM Control subfield (see 9.2.4.7.2) if an EHT OM Control subfield is not present in the same A-Control field or indicated by the Rx NSS Extension subfield in the EHT OM Control subfield combined with the Rx NSS subfield in the OM Control subfield if an EHT OM Control subfield is present in the same A-Control field (see 9.2.4.7.8).

$Max-EHT-NSS-at-BW$  is the maximum NSS among all EHT-MCS at  $BW$  MHz from the Supported EHT-MCS And NSS Set field (9.4.2.323.4) transmitted by the STA.

$Max-EHT-NSS-at-80$  is the maximum NSS among all EHT-MCS at 80 MHz from the Supported EHT-MCS And NSS Set field (9.4.2.323.4) transmitted by the STA.

## 35.10 EHT Spatial reuse operation

### 35.10.1 General

An EHT STA follows the rules defined in 26.10 and the additional rules defined below.

An EHT STA follows the rules defined in 26.2.3 and the following rule:

- A received EHT PPDU that is an inter-BSS PPDU is an SRG PPDU if the bit in the SRG BSS Color Bitmap field indexed by the value of the RXVECTOR parameter BSS\_COLOR is 1 (see 9.4.2.251).

An EHT STA follows the rules defined in 35.2.3.

### 35.10.2 OBSS PD-based spatial reuse operation

An EHT STA follows the rules defined in 26.10.2.2 and 26.10.2.3 and the following rules:

- The PHY-CCARESET.request primitive shall be issued at the end of the PPDU in case of an EHT SU transmission with the RXVECTOR parameter SPATIAL\_REUSE that indicates SR\_DELAYED.
- If the PHY-CCARESET.request primitive is issued before the end of the received PPDU, and a TXOP is initiated within the duration of the received PPDU, then the TXOP and the duration of the transmitted PPDU within that TXOP shall be limited to the duration of the received PPDU if the received PPDU is an EHT MU PPDU addressed to multiple STAs and the RXVECTOR parameter SPATIAL\_REUSE indicates SR\_RESTRICTED.
- The received signal strength level used to determine if it is below the non-SRG OBSS PD level or SRG OBSS PD level is measured in dBm/20 MHz from the L-STF or L-LTF fields in at least one of the nonpunctured 20 MHz subchannels of the PPDU or the PHY SYNC field, shortSYNC field or Long PHY SYNC field, whichever exists and that is used to determine PHY-CCA.indication. It is implementation specific on which of these 20 MHz subchannel(s) the received signal strength level is measured.

An EHT STA follows the rules defined in 26.10.2.4 (Adjustment of OBSS PD and transmit power), except that the following applies:

- If using OBSS PD-based spatial reuse, an EHT STA shall maintain an OBSS PD level and may adjust this OBSS PD level in conjunction with its transmit power. The adjustment shall be made in accordance with Equation (35-5).

$$OBSS_{PD_{level}} \le \max(OBSS_{PD_{min}}, \min(OBSS_{PD_{max}}, OBSS_{PD_{min}} + (TX_{PWR_{ref}} - TX_{PWR}))) \quad (35-5)$$

where  $OBSS_{PD_{min}}$ ,  $OBSS_{PD_{max}}$ ,  $TW_{PWR_{ref}}$ , and  $TW_{PWR}$  are defined in 26.10.2.4 (Adjustment of OBSS PD and transmit power).

### 35.10.3 EHT PSR-based spatial reuse operation

#### 35.10.3.1 EHT PSR-based spatial reuse initiation

An EHT STA identifies a PSR opportunity if the following two conditions are met:

1. The EHT STA receives a PHY-RXSTART.indication corresponding to the reception of a PSRR PPDU that is identified as an inter-BSS PPDU (see 35.2.3).
2. An PSRT PPDU is queued for transmission and the intended transmit power of the PSRT PPDU in dBm shall meet the following condition in Equation (35-6):

$$TxPower_{PSRT, total} - 10 \times \log_{10} N_{PSRT, nonpunc} \le PSR_{min} - RPL_{PSRR, 20MHz} \quad (35-6)$$

where

$N_{PSRT, nonpunc}$  is the number of nonpunctured 20 MHz subchannels of the PSRT PPDU

$RPL_{PSRR, 20MHz}$  is the normalized received signal power in units of dBm/20 MHz, measured at the antenna connector in at least one 20 MHz subchannel. The measured 20 MHz subchannel(s) shall be the subchannel(s) in which the preamble of both the PSRR PPDU and the PSRT PPDU are present. The measurement method is implementation specific.

$PSR_{min}$  is equal to PSR value if there exists one PSR value within the bandwidth of PSRT PPDU or equal to the smallest of multiple PSR values if there exist multiple PSR values within the bandwidth of PSRT PPDU. Each PSR is specified per 20 MHz. The PSR value is based on at least one of the following:

1. The value of the UL Spatial Reuse subfields in the Common Info field of the Trigger frame of the PSRR PPDU if the Special User Info field is not present in the Trigger frame, or
2. The value of the EHT Spatial Reuse  $n$  subfield,  $1 \le n \le 2$ , in the Special User Info field of the Trigger frame of the PSRR PPDU if the Special User Info field is present in the Trigger frame, or
3. The value of the RXVECTOR parameter Spatial Reuse of the TB PPDU that follows the PSRR PPDU.

#### 35.10.3.2 EHT Spatial Reuse subfields of Trigger frame

An EHT AP with dot11HEPSROptionImplemented set to true that transmits a Trigger frame with EHT variant Common Info field may determine the value of the EHT Spatial Reuse  $n$  subfield,  $1 \le n \le 2$ , of the Special User Info field of the Trigger frame for each nonpunctured 20 MHz subchannel of a PPDU by selecting the row in Table 27-24 (Spatial Reuse field encoding for an HE TB PPDU) that has a numerical value in the “Meaning” column that is the highest value that is less than or equal to the value of the computed MAC parameter PSR\_INPUT as follows:

$$PSR_{INPUT} = TX_{PWR_{AP}} + \text{Acceptable Receiver Interference Level}_{AP}$$

where

$TX_{PWR_{AP}}$  is the total power at the antenna connector, in dBm, for that 20 MHz subchannel, over all antennas used to transmit the PSRR PPDU containing the Trigger frame

Acceptable Receiver Interference Level,  $I_{AP}$ , is a value in dBm for that 20 MHz subchannel and should be set to the expected receive signal power indicated by the UL Target Receive Power subfield in the Trigger frame for the highest EHT-MCS of the ensuing EHT TB PPDU minus the minimum SNR value that yields  $\le 10\%$  PER for that MCS minus a safety margin value not to exceed 5 dB as determined by the AP

An EHT AP with dot11HEPSROptionImplemented set to true that transmits a Trigger frame with EHT variant Common Info field may set the value of all of the EHT Spatial Reuse subfields of the Special User Info field of the Trigger frame to PSR\_DISALLOW.

An EHT AP with dot11HEPSROptionImplemented set to false that transmits a Trigger frame with EHT variant Common Info field shall set all of the EHT Spatial Reuse subfields of the Special User Info field of the Trigger frame to PSR\_DISALLOW.

### 35.11 Rules related to the PHY interface of an EHT STA

#### 35.11.1 Setting TXVECTOR parameters for an EHT PPDU

##### 35.11.1.1 STA\_ID

An EHT STA shall set the parameter STA\_ID in the TXVECTOR following the rules defined in 26.11.1 (STA\_ID) with the following additions:

- The rules that apply to an HE MU PPDU shall also apply to an EHT MU PPDU.

##### 35.11.1.2 POWER\_BOOST\_FACTOR

For an OFDMA EHT MU PPDU, the POWER\_BOOST\_FACTOR parameter in the TXVECTOR for an occupied RU or MRU shall be in the range  $[1/\sqrt{2}, \sqrt{2}]$  if the Power Boost Factor Support subfield of the EHT PHY Capabilities Information field in the EHT Capabilities element from any recipient STA of the PPDU equals 0; otherwise, the POWER\_BOOST\_FACTOR shall be in the range  $[0.5, 2]$ .

For a non-OFDMA EHT MU PPDU (including the EHT SU transmission), the POWER\_BOOST\_FACTOR shall be set to 1.

For an EHT sounding NDP, the POWER\_BOOST\_FACTOR shall be set to 1.

NOTE—For an EHT TB PPDU, the POWER\_BOOST\_FACTOR is not present in the TXVECTOR.

##### 35.11.1.3 UPLINK\_FLAG

An EHT STA shall set the parameter UPLINK\_FLAG in the TXVECTOR following the rules defined in 26.11.2 (UPLINK\_FLAG) with the following additions:

- The rules that apply to an HE MU PPDU shall also apply to an EHT MU PPDU

##### 35.11.1.4 BSS\_COLOR

An EHT STA shall set the parameter BSS\_COLOR in the TXVECTOR following the rules defined in 26.11.4 (BSS\_COLOR) with the following additions:

- The rules that apply to an HE MU PPDU shall also apply to an EHT MU PPDU

A non-AP EHT STA that transmits an EHT MU PPDU addressed to a STA that is not a member of the transmitting STA's EHT BSS shall set the TXVECTOR parameter BSS\_COLOR to 0.

### 35.11.1.5 TXOP\_DURATION

An EHT STA shall set the parameter TXOP\_DURATION in the TXVECTOR following the rules defined in 26.11.5 (TXOP\_DURATION) with the following additions:

— The rules that apply to an HE MU PPDU shall also apply to an EHT MU PPDU

An EHT STA that is a TXOP responder using an EHT SU transmission shall set the TXVECTOR parameter TXOP\_DURATION to UNSPECIFIED, if the RXVECTOR parameter TXOP\_DURATION of the EHT PPDU that solicits a response from the STA is UNSPECIFIED.

### 35.11.1.6 TRIGGER\_RESPONDING

An EHT STA shall set the parameter TRIGGER\_RESPONDING in the TXVECTOR following the rules defined in 26.11.8 (TRIGGER\_RESPONDING).

### 35.11.2 SPATIAL\_REUSE

The contents of the Spatial Reuse fields are carried in the TXVECTOR parameter SPATIAL\_REUSE for an EHT PPDU indicating spatial reuse information. The behavior of STAs upon reception of an EHT PPDU with different SPATIAL\_REUSE values is described in 26.10.2 and 35.10. The different values that may be indicated in the SPATIAL\_REUSE parameter of the TXVECTOR are listed in Table 27-23 (Spatial Reuse field encoding for an HE SU PPDU, HE ER SU PPDU, and HE MU PPDU) that is applied to EHT MU PPDU and Table 27-24 (Spatial Reuse field encoding for an HE TB PPDU) that is applied to EHT TB PPDU. The value PSR\_DISALLOW is used to prohibit PSR-based spatial reuse during the transmission of the corresponding PPDU. The value PSR\_AND\_NON\_SRG\_OBSS\_PD\_PROHIBITED is used to prohibit both PSR-based spatial reuse and non-SRG OBSS PD-based spatial reuse during the transmission of the corresponding PPDU. The interpretation of other values are described in this subclause and in 35.10 and 26.10. The conditions for a STA to set the SPATIAL\_REUSE parameter to its different values are described in this subclause.

For a PPDU with a value of EHT\_TB for the TXVECTOR parameter FORMAT, the SPATIAL\_REUSE parameter contains an array of one to two values, depending on the TXVECTOR parameter CH\_BANDWIDTH. If the TXVECTOR parameter CH\_BANDWIDTH is CBW20, the value is the SPATIAL\_REUSE parameter that applies to the 20 MHz subband. If the TXVECTOR parameter CH\_BANDWIDTH is CBW40, the first value in the array is the SPATIAL\_REUSE parameter that applies to the first lowest 20 MHz subband, and the second value is the SPATIAL\_REUSE parameter that applies to the second lowest 20 MHz subband. If the TXVECTOR parameter CH\_BANDWIDTH is CBW80, the first value in the array is the SPATIAL\_REUSE parameter that applies to each 20 MHz subchannel of the first lowest 40 MHz subband, and the second value applies to each 20 MHz subchannel of the second lowest 40 MHz subband. If the TXVECTOR parameter CH\_BANDWIDTH is CBW160, the first value in the array is the SPATIAL\_REUSE parameter that applies to each 20 MHz subchannel of the first lowest 80 MHz subband, and the second value applies to each 20 MHz subchannel of the second lowest 80 MHz subband. If the TXVECTOR parameter CH\_BANDWIDTH is CBW320-1 or CBW320-2, the first value in the array is the SPATIAL\_REUSE parameter that applies to each 20 MHz subchannel of the first lowest 160 MHz subband, and the second value applies to each 20 MHz subchannel of the second lowest 160 MHz subband.

An EHT STA that transmits an EHT TB PPDU sets the TXVECTOR parameter SPATIAL\_REUSE as defined in 35.5.2.3.

A non-AP STA with dot11HEPSROptionImplemented set to true that transmits an EHT MU PPDU may set the TXVECTOR parameter SPATIAL\_REUSE, when permitted by the rules defined in 26.11.6 (SPATIAL\_REUSE), to PSR\_AND\_NON\_SRG\_OBSS\_PD\_PROHIBITED if the HESIGA\_Spatial\_reuse\_value15\_allowed subfield of the SR Control field of the most recently received

Spatial Reuse Parameter Set element from its associated AP is equal to 1. Otherwise, the non-AP STA shall set it to PSR\_DISALLOW.

An EHT STA that transmits an EHT TB PPDU determines the value of the TXVECTOR parameter SPATIAL\_REUSE according to 35.5.2.3.

An EHT AP with dot11HEPSROptionImplemented set to true that transmits an EHT MU PPDU may set the TXVECTOR parameter SPATIAL\_REUSE to PSR\_DISALLOW to disallow OBSS STAs from performing EHT PSR-based SR transmission during the duration of the corresponding PPDU.

An EHT STA with dot11HEPSROptionImplemented set to false may set the TXVECTOR parameter SPATIAL\_REUSE to PSR\_DISALLOW for any PPDU that is not an EHT TB PPDU, an EHT sounding NDP, a PPDU containing an EHT NDP Announcement frame, or a PPDU containing a response to an HE NDP Announcement frame.

A STA shall set the TXVECTOR parameter SPATIAL\_REUSE of an EHT PPDU to PSR\_DISALLOW or, if permitted by the other rules in this subclause, to PSR\_AND\_NON\_SRG\_OBSS\_PD\_PROHIBITED, if the STA is a non-AP EHT STA and the PSR Disallowed subfield of the SR Control field of the most recently received Spatial Reuse Parameter Set element from its associated AP is equal to 1.

An EHT STA shall set the TXVECTOR parameter SPATIAL\_REUSE to PSR\_AND\_NON\_SRG\_OBSS\_PD\_PROHIBITED for an EHT sounding NDP.

An EHT STA shall set the TXVECTOR parameter SPATIAL\_REUSE to PSR\_AND\_NON\_SRG\_OBSS\_PD\_PROHIBITED for a PPDU containing an NDP Announcement frame and in any frame that is transmitted as a response to an NDP Announcement frame.

A non-AP EHT STA may set the TXVECTOR parameter SPATIAL\_REUSE of an EHT PPDU to PSR\_AND\_NON\_SRG\_OBSS\_PD\_PROHIBITED if the HESIGA\_Spatial\_reuse\_value15 allowed subfield of the SR Control field of the most recently received Spatial Reuse Parameter Set element from its associated AP is equal to 1. If the HESIGA\_Spatial\_reuse\_value15 allowed subfield of the SR Control field of the most recently received Spatial Reuse Parameter Set element from its associated AP is equal to 0, or if STA has not received a Spatial Reuse Parameter Set element from its associated AP, the STA shall not set the TXVECTOR parameter SPATIAL\_REUSE of any EHT PPDU to PSR\_AND\_NON\_SRG\_OBSS\_PD\_PROHIBITED, unless the EHT PPDU contains an NDP, an NDP Announcement frame or is a frame that is transmitted as a response to an NDP Announcement frame.

An AP EHT STA may set the TXVECTOR parameter SPATIAL\_REUSE of an EHT PPDU to PSR\_AND\_NON\_SRG\_OBSS\_PD\_PROHIBITED if the HESIGA\_Spatial\_reuse\_value15 allowed subfield of the SR Control field of the most recently transmitted Spatial Reuse Parameter Set element is equal to 1. If the HESIGA\_Spatial\_reuse\_value15 allowed subfield of the SR Control field of the most recently transmitted Spatial Reuse Parameter Set element is equal to 0, or if the AP has not transmitted a Spatial Reuse Parameter Set element, the AP shall not set the TXVECTOR parameter SPATIAL\_REUSE of any EHT PPDU to PSR\_AND\_NON\_SRG\_OBSS\_PD\_PROHIBITED.

An EHT AP that transmits an EHT SU transmission that contains a Trigger frame should set the TXVECTOR parameter SPATIAL\_REUSE to SR\_DELAYED.

An EHT STA that transmits an EHT MU PPDU configured for more than one user shall not set the TXVECTOR parameter SPATIAL\_REUSE to SR\_DELAYED.

An EHT STA that transmits an EHT SU transmission shall not set the TXVECTOR parameter SPATIAL\_REUSE to SR\_RESTRICTED.

An EHT AP that transmits an EHT MU PPDU that contains a Trigger frame and is configured for more than one user should set the TXVECTOR parameter SPATIAL\_REUSE to SR\_RESTRIC TED.

An EHT STA that transmits a PPDU that does not contain a Trigger frame shall not set the TXVECTOR parameter SPATIAL\_REUSE to SR\_DELAYED or SR\_RESTRIC TED.

### 35.11.3 Contents of the EHT PHY Capabilities Information field and Supported EHT-MCS And NSS Set field

The EHT MAC determines the capabilities of its EHT PHY by using the PLME-GET primitive to read the EHT PHY MIB attributes (see Table 36-69). The subfields in the EHT PHY Capabilities Information field in the EHT Capabilities element shall be set as follows, where the function b2int returns 1 if the input is true and 0 if the input is false:

- Support For 320 MHz In 6 GHz = b2int(dot11EHTSupportFor320MHzImplemented)
- Support for 242-tone RU In BW Wider Than 20 MHz = b2int(dot11EHTSupportFor242ToneRUIn-BWWiderThan20Implemented)
- NDP With 4x EHT-LTF And 3.2  $\mu$ s GI = b2int(dot11EHTNDPwith4xEHTLTFand3point2GIIm-plemented)
- Partial Bandwidth UL MU-MIMO = b2int(dot11EHTPartialBWULMUMIMOImplemented)
- SU Beamformer = b2int(dot11EHTSUBeamformerImplemented)
- SU Beamformee = b2int(dot11EHTSUBeamformeeImplemented)
- Beamformee SS ( $\le 80$  MHz) = dot11EHTBeamformeeSSLessThanOrEqualTo80 - 1
- Beamformee SS ( $= 160$  MHz) = dot11EHTBeamformeeSSEqualTo160 - 1
- Beamformee SS ( $= 320$  MHz) = dot11EHTBeamformeeSSEqualTo320 - 1
- Number Of Sounding Dimensions ( $\le 80$  MHz) = dot11EHTNumberSoundingDimensionsLessThanOrEqualTo80 - 1
- Number Of Sounding Dimensions ( $= 160$  MHz) = dot11EHTNumberSoundingDimensionsEqualTo160 - 1
- Number Of Sounding Dimensions ( $= 320$  MHz) = dot11EHTNumberSoundingDimensionsEqualTo320 - 1
- $N_g = 16$  SU Feedback = b2int(dot11EHTNG16SUFfeedbackImplemented)
- $N_g = 16$  MU Feedback = b2int(dot11EHTNG16MUFfeedbackImplemented)
- Codebook Size  $(\phi, \psi) = \{4, 2\}$  SU Feedback = b2int(dot11EHTCodebookSizePhi4Psi2SUFFeedbackImplemented)
- Codebook Size  $(\phi, \psi) = \{7, 5\}$  MU Feedback = b2int(dot11EHTCodebookSizePhi7Psi5MUFFeedbackImplemented)
- Triggered SU Beamforming Feedback = b2int(dot11EHTTriggeredSUBeamformingFeedbackIm-plemented)
- Triggered MU Beamforming Partial BW Feedback = b2int(dot11EHTTriggeredMUBeamforming-PartialBWFeedbackImplemented)
- Triggered CQI Feedback = b2int(dot11EHTTriggeredCQIFeedbackImplemented)
- Partial Bandwidth DL MU-MIMO = b2int(dot11EHTPartialBWDLMUMIMOImplemented)
- EHT PSR-Based SR Support = b2int(dot11EHTPSRBasedSRImplemented)
- Power Boost Factor Support = b2int(dot11EHTPowerBoostFactorImplemented)
- EHT MU PPDU With 4x EHT-LTF And 0.8  $\mu$ s GI = b2int(dot11EHTMUPPDUwith4xEHTLTF- Fand0point8usecGIImplemented)
- Max  $N_c$  = dot11EHTMax $N_c$  - 1

- Non-Triggered CQI Feedback =  $b2int(\text{dot}1 \text{EHTNonTriggeredCQIFeedbackImplemented})$
- $Tx 1024\text{-QAM And } 4096\text{-QAM} < 242\text{-tone RU Support} = b2int(\text{dot}1 \text{EHTTx1024QAMand4096QAMLessThan242ToneRUImplemented})$
- $Rx 1024\text{-QAM And } 4096\text{-QAM} < 242\text{-tone RU Support} = b2int(\text{dot}1 \text{EHTRx1024QAMand4096QAMLessThan242ToneRUImplemented})$
- Maximum Number Of Supported EHT-LTFs =  $b2int(\text{dot}1 \text{EHTExtraLTFsImplemented}) + 2 \times (\text{dot}1 \text{EHTMaxNumberOfSupportedEHTLTFsForSU} - 1) + 8 \times (\text{dot}1 \text{EHTMaxNumberOfSupportedEHTLTFsForMUandND} - 1)$
- Support Of EHT-MCS 15 In MRU =  $b2int(\text{dot}1 \text{EHTMCS15For52p26and106p26MRUImplemented}) + 2 \times b2int(\text{dot}1 \text{EHTMCS15For48p424MRUImplemented}) + 4 \times b2int(\text{dot}1 \text{EHTMCS15For99p48and99p484p242MRUImplemented}) + 8 \times b2int(\text{dot}1 \text{EHTMCS15For3x996MRUImplemented})$
- Support Of EHT DUP (EHT-MCS 14) In 6 GHz =  $b2int(\text{dot}1 \text{EHTDupImplemented})$
- Support For 20 MHz Operating STA Receiving NDP With Wider Bandwidth =  $b2int(\text{dot}1 \text{EHT20MHzOperatingSTARxNDPwithWiderBWImplemented})$
- Non-OFDMA UL MU-MIMO (BW  $\le 80$  MHz) =  $b2int(\text{dot}1 \text{EHTNonOFDMAULMUMIMO-LessThanOrEqual80Implemented})$
- Non-OFDMA UL MU-MIMO (BW = 160 MHz) =  $b2int(\text{dot}1 \text{EHTNonOFDMAULMUMIMO-Equal160Implemented})$
- Non-OFDMA UL MU-MIMO (BW = 320 MHz) =  $b2int(\text{dot}1 \text{EHTNonOFDMAULMUMIMO-Equal320Implemented})$
- MU Beamformer (BW  $\le 80$  MHz) =  $b2int(\text{dot}1 \text{EHTMUBeamformerLessThanOrEqualTo80Implemented})$
- MU Beamformer (BW = 160 MHz) =  $b2int(\text{dot}1 \text{EHTMUBeamformerEqualTo160Implemented})$
- MU Beamformer (BW = 320 MHz) =  $b2int(\text{dot}1 \text{EHTMUBeamformerEqualTo320Implemented})$

Table 9-417r defines constraints on certain fields that in turn are constraints on the associated PHY MIB variables.

The EHT-MCS Map (20 MHz-Only Non-AP STA) field in the Supported EHT-MCS And NSS Set field in the EHT Capabilities element, if present, shall be set to  $\text{dot}1 \text{EHTSupportedEhtMcsAndNssSet20MhzOnlyStaImplemented}$ .

The EHT-MCS Map (BW  $\le 80$  MHz, Except 20 MHz-Only Non-AP STA) field in the Supported EHT-MCS And NSS Set field in the EHT Capabilities element, if present, shall be set to the first three octets of  $\text{dot}1 \text{EHTSupportedEhtMcsAndNssSetImplemented}$ . The EHT-MCS Map (BW = 160 MHz) field in the Supported EHT-MCS And NSS Set field in the EHT Capabilities element, if present, shall be set to the second three octets of  $\text{dot}1 \text{EHTSupportedEhtMcsAndNssSetImplemented}$ . The EHT-MCS Map (BW = 320 MHz) field in the Supported EHT-MCS And NSS Set field in the EHT Capabilities element, if present, shall be set to the third three octets of  $\text{dot}1 \text{EHTSupportedEhtMcsAndNssSetImplemented}$ .

#### 35.11.4 CENTER\_FREQUENCY\_SEGMENT

A 20 MHz operating non-AP EHT STA shall issue a PHY-CONFIG.request primitive with the CENTER\_FREQUENCY\_SEGMENT parameter in the PHY-CONFIG.VECTOR set to the center frequency of the primary 20 MHz channel except when the 20 MHz operating non-AP EHT STA sets  $\text{dot}1 \text{HESubchannelSelectiveTransmissionImplemented}$  equal to true in which case the 20 MHz operating non-AP EHT STA may issue a PHY-CONFIG.request primitive with the CENTER\_FREQUENCY\_SEGMENT parameter in the PHY-CONFIG.VECTOR set to the center frequency of any 20 MHz channel within the BSS bandwidth of 40 MHz, 80 MHz or 160 MHz by following

the procedure in 26.8.7 (HE subchannel selective transmission). The 20 MHz operating non-AP EHT STA may also issue a PHY-CONFIG.request primitive with the CENTER\_FREQUENCY\_SEGMENT parameter in the PHYCONFIG\_VECTOR set to the center frequency of any 20 MHz channel within the primary 160 MHz when the BSS bandwidth is 320 MHz by following the procedure in 26.8.7 (HE subchannel selective transmission).

An 80 MHz operating non-AP EHT STA shall issue a PHY-CONFIG.request primitive with the CENTER\_FREQUENCY\_SEGMENT parameter in the PHYCONFIG\_VECTOR set to the center frequency of the primary 80 MHz channel except when the 80 MHz operating non-AP EHT STA sets dot11HESubchannelSelectiveTransmissionImplemented equal to true and parks on an 80 MHz channel without preamble puncturing. In this exceptional case, the 80 MHz operating non-AP EHT STA may issue a PHY-CONFIG.request primitive with the CENTER\_FREQUENCY\_SEGMENT parameter in the PHYCONFIG\_VECTOR set to the center frequency of any 80 MHz channel within the primary 160 MHz of the BSS bandwidth by following the procedure in 26.8.7 (HE subchannel selective transmission).

### 35.11.5 INACTIVE\_SUBCHANNELS

An EHT STA shall not transmit on any 20 MHz subchannel that is punctured as indicated in the TXVECTOR parameter INACTIVE\_SUBCHANNELS (see Table 36-1).

The indication of which subchannels are punctured in a non-HT duplicate PPDU or EHT PPDU is conveyed from the MAC to the PHY through the TXVECTOR parameter INACTIVE\_SUBCHANNELS (see Table 36-1). The parameter INACTIVE\_SUBCHANNELS is present in the TXVECTOR of a non-HT duplicate PPDU or EHT PPDU when the conditions defined in 35.15.2 are satisfied.

### 35.12 Intra-PPDU power save for non-AP EHT STAs

A non-AP EHT STA that operates in intra-PPDU power save mode shall follow the rules defined in 26.14.1 (Intra-PPDU power save for non-AP HE STAs) and with the following additions:

- The conditions that apply to an HE MU PPDU shall also apply to an EHT MU PPDU, and
- The conditions that apply to an HE TB PPDU shall also apply to an EHT TB PPDU.

A non-AP EHT STA that operates in intra-PPDU power save mode may enter the doze state or become unavailable until the end of a PPDU currently being received if the following condition is met:

- The RXVECTOR parameter BSS\_COLOR is the BSS color of the BSS in which the STA is associated, a PHY-RXEND.indication(Filtered) primitive was received, and the BSS Color Disabled subfield is equal to 0 in the most recently received HE Operation element from the AP with which it is associated.

### 35.13 Nominal packet padding values selection rules

#### 35.13.1 General

An EHT STA with dot11EHTPPEThresholdsRequired equal to false may set the PPE Thresholds Present subfield in the EHT Capabilities element that it transmits to 0.

An EHT STA with dot11EHTPPEThresholdsRequired equal to true shall set the PPE Thresholds Present subfield in the EHT Capabilities element that it transmits to 1.

#### 35.13.2 PPET not present in both HE and EHT

An EHT STA that sets the PPE Thresholds Present subfield to 0 in both the EHT and HE Capabilities elements, and the Common Nominal Packet Padding subfield to 0 in the EHT Capabilities element that it transmits shall have a nominal packet padding of  $0 \mu\text{s}$  for all constellations, NSS and large size RU allocations that it supports (see 36.3.2.2).

An EHT STA that sets the PPE Thresholds Present subfield to 0 in both the EHT and HE Capabilities elements, and the Common Nominal Packet Padding subfield to 1 in the EHT Capabilities element that it transmits shall have a nominal packet padding of  $8 \mu\text{s}$  for all constellations, NSS and large size RU allocations that it supports.

An EHT STA that sets the PPE Thresholds Present subfield to 0 in both the EHT and HE Capabilities elements, and the Common Nominal Packet Padding subfield to 2 in the EHT Capabilities element that it transmits shall have a nominal packet padding of  $16 \mu\text{s}$  for all constellations, NSS and large size RU allocations that it supports.

An EHT STA that sets the PPE Thresholds Present subfield to 0 in both the EHT and HE Capabilities elements, and the Common Nominal Packet Padding subfield to 3 in the EHT Capabilities element that it transmits shall have a nominal packet padding of  $16 \mu\text{s}$  for all modes with constellation order up to 1024-QAM and large size RU or MRU size less than or equal to  $2\times 996$ , and shall have a nominal packet padding of  $20 \mu\text{s}$  for all the other modes with a large size RU or MRU that the STA supports.

An EHT STA that sets the PPE Thresholds Present subfield to 0 in both the EHT and HE Capabilities elements shall have a nominal packet padding of  $0 \mu\text{s}$  for a small size RU or MRU (see 36.3.2.2), if 4096-QAM is not used for the RU or MRU; or if the RU size is 106 or the MRU size is  $106+26$  and EHT-MCS 15 is not applied to them. An EHT STA that sets the PPE Thresholds Present subfield to 0 in both the EHT and HE Capabilities elements shall have a nominal packet padding value indicated by the Common Nominal Packet Padding subfield in the EHT Capabilities element for a small size RU or MRU, if 4096-QAM is used for the RU or MRU; or if the RU size is 106 or the MRU size is  $106+26$  and EHT-MCS 15 is applied to them. For example, in the case of the Common Nominal Packet Padding subfield set to 3, the nominal packet padding of  $20 \mu\text{s}$  is used for the small size RU or MRU modulated with 4096-QAM, and the nominal packet padding of  $16 \mu\text{s}$  is used if the RU size is 106 or the MRU size is  $106+26$  and EHT-MCS 15 is applied to the RU or MRU.

The rule to select the EHT common nominal packet padding value, in the case of the PPE Thresholds Present subfield set to 0 in both the EHT and HE Capabilities elements, is described in Table 35-4.

**Table 35-4—EHT nominal packet padding indication when the PPE Thresholds Present subfield is set to 0 in both the EHT and HE Capabilities elements**

| EHT-MCS   | RU or MRU size<br>< 106 tones           | 106-tone RU and<br>106+26-tone MRU      | RU or MRU size<br>≥ 242 tones           |
|-----------|-----------------------------------------|-----------------------------------------|-----------------------------------------|
| 0–11      | $0 \mu\text{s}$                         | $0 \mu\text{s}$                         | EHT common nominal packet padding value |
| 12 and 13 | EHT common nominal packet padding value | EHT common nominal packet padding value | EHT common nominal packet padding value |
| 14        | —                                       | —                                       | EHT common nominal packet padding value |

**Table 35-4—EHT nominal packet padding indication when the PPE Thresholds Present subfield is set to 0 in both the EHT and HE Capabilities elements (continued)**

| EHT-MCS | RU or MRU size<br>< 106 tones | 106-tone RU and<br>106+26-tone MRU         | RU or MRU size<br>≥ 242 tones              |
|---------|-------------------------------|--------------------------------------------|--------------------------------------------|
| 15      | 0 µs                          | EHT common nominal<br>packet padding value | EHT common nominal<br>packet padding value |

NOTE—The EHT common nominal packet padding value is the value conveyed by the Common Nominal Packet Padding subfield in the EHT PHY Capabilities Information field in the EHT Capabilities element.

### 35.13.3 PPET not present in EHT but present in HE

An EHT STA that sets the PPE Thresholds Present subfield to 0 in the EHT Capabilities element, and sets it to 1 in the HE Capabilities element that it transmits, indicates that the nominal packet padding requirement for an EHT transmission with a mode covered in the PPE Thresholds field in the HE Capabilities element, shall be the same as for the corresponding HE transmission. The mode covered in the PPE Thresholds field in the HE Capabilities element satisfies the following rules:

- $N_{SS}$  shall be in the range 1 to  $N_{STS} + 1$ , where  $N_{STS}$  is indicated in the  $N_{STS}$  subfield in the HE Capabilities element;
- The RU sizes shall be in the set {242, 484, 996, 2×996} corresponding to the RU Index Bitmask subfield in the HE Capabilities element, including the RU size corresponding to 0 in the RU Index Bitmask subfield in the HE Capabilities element;
- The constellation index shall be less than 6.

The nominal packet padding for EHT-MCS 14 or 15 for a large size RU of size 2×996 or smaller shall be the same as that for HE-MCS 0 with  $DCM = 1$  for the same RU size. The nominal packet padding shall be 0 µs for a small size RU or MRU, except for the following cases: 4096-QAM is used for the RU or MRU; or EHT-MCS 15 is used for an RU of size 106 or MRU of size 106+26. The nominal packet padding for EHT-MCS 15 for an RU of size 106 or MRU of size 106+26 shall be the same as that of HE-MCS 0 with  $DCM = 1$  for RU size 106. The nominal packet padding for the following modes shall follow the rules indicated by the Common Nominal Packet Padding subfield in the EHT Capabilities element:

- For all modes with  $N_{SS}$  greater than  $N_{STS} + 1$ , the corresponding nominal packet padding shall follow the rules indicated by the Common Nominal Packet Padding subfield.
- For all modes with RU size greater than 2×996, the corresponding nominal packet padding shall follow the rules indicated by the Common Nominal Packet Padding subfield.
- For all modes with 4096-QAM, the corresponding nominal packet padding shall follow the rules indicated by the Common Nominal Packet Padding subfield.

The nominal packet padding values for a 484+242-tone MRU shall be the same as for a 996-tone RU derived above, and the nominal packet padding values for a 996+484-tone MRU and a 996+484+242-tone MRU shall be the same as for a 2×996-tone RU derived above, in the case of the PPE Thresholds Present subfield equal to 0 in the EHT Capabilities element and equal to 1 in the HE Capabilities element. The nominal packet padding indicated by the Common Nominal Packet Padding subfield in the EHT Capabilities element shall be greater than or equal to the largest nominal packet padding values among all the modes indicated in the PPE Thresholds field in the HE Capabilities element.

The inheritance rule to select the EHT nominal packet padding value for  $N_{SS} \le N_{STS} + 1$  and RU or MRU ≤ 2×996, in the case of the PPE Thresholds Present subfield set to 0 in the EHT Capabilities element and 1 in the HE Capabilities element, is described in Table 35-5.

**Table 35-5—EHT nominal packet padding indication for  $N_{SS} \le NSTS+1$  when the PPE Thresholds Present subfield is set to 0 in the EHT Capabilities element and 1 in the HE Capabilities element**

| EHT-MCS   | RU or MRU size<br>< 106 tones                   | 106-tone RU and<br>106+26-tone MRU                             | 242 tones<br>< RU or MRU size<br>< $2 \times 996$ tones                        | RU or MRU size<br>> $2 \times 996$ tones                        |
|-----------|-------------------------------------------------|----------------------------------------------------------------|--------------------------------------------------------------------------------|-----------------------------------------------------------------|
| 0–11      | 0 $\mu\text{s}$ (see NOTE 1)                    | 0 $\mu\text{s}$ (see NOTE 1)                                   | HE nominal packet<br>padding value                                             | EHT common nomi-<br>nal packet padding<br>value                 |
| 12 and 13 | EHT common nomi-<br>nal packet padding<br>value | EHT common nomi-<br>nal packet padding<br>value                | EHT nominal packet<br>padding value                                            | EHT common nomi-<br>nal packet padding<br>value                 |
| 14        | —                                               | —                                                              | HE nominal packet<br>padding value for<br>HE-MCS 0 with<br>DCM<br>(see NOTE 4) | EHT common nomi-<br>nal packet padding<br>value<br>(see NOTE 4) |
| 15        | 0 $\mu\text{s}$ (see NOTE 1)                    | HE nominal packet<br>padding value for<br>HE-MCS 0 with<br>DCM | HE nominal packet<br>padding value for<br>HE-MCS 0 with<br>DCM                 | EHT common nomi-<br>nal packet padding<br>value                 |

NOTE 1—The nominal packet padding value conveyed by the PPE Thresholds field in the HE Capabilities element is 0  $\mu\text{s}$  in these cases.

NOTE 2—The HE nominal packet padding value is the value conveyed by the PPE Thresholds field in the HE Capabilities element.

NOTE 3—The EHT common nominal packet padding value is the value conveyed by the Common Nominal Packet Padding subfield in the EHT PHY Capabilities Information field in the EHT Capabilities element.

NOTE 4—EHT-MCS 14 only applies to 80 MHz, 160 MHz, and 320 MHz EHT MU PPDU s, and the nominal packet padding value can be taken from the values for 996-,  $2 \times 996$ -, and  $4 \times 996$ -tone RU s, respectively.

### 35.13.4 PPET present in EHT

An EHT STA that sets the PPE Thresholds Present subfield to 1 in the EHT Capabilities element that it transmits shall indicate its nominal packet padding per constellation, NSS and RU allocation by setting the subfields of the EHT PPE Thresholds field according to 9.4.2.323.5 and using the corresponding values from dot11EHTPPETThresholdsMappingsTable. The nominal packet padding values for an EHT STA that sets the PPE Thresholds Present subfield to 1 in the EHT Capabilities element that it transmits shall only be determined by the EHT PPE Thresholds field.

After receiving the EHT PPE Thresholds field from a second STA, the first STA shall use the combination of the PPETmax NSS $_n$  RU $_b$  subfield and PPET8 NSS $_n$  RU $_b$  subfield values to determine the nominal packet padding for EHT PPDU s that are transmitted to the second STA using NSS =  $n$  and an RU allocation corresponding to RU allocation index  $b$ , for each value of NSS and RU or MRU specified by the field. The nominal packet padding shall be used in computing the PE field duration (see 36.3.14).

The nominal packet padding as a function of the PPE thresholds, the number of spatial streams and the RU allocation index is described in Table 35-6.

In Table 35-6, “RU Allocation index =  $(b + DCM)$ ” means the following. With the exception of an RU or MRU indicated by the RU allocation index equal to 3 or 4, if EHT-MCS 14 or EHT-MCS 15 is applied in a

Table 35-6—PPE thresholds per PPET8 and PPETmax

| Result of comparison of the constellation index $c$ of an EHT PPDU with NSS value $n$ and RU allocation size that corresponds to the RU allocation index = $(b + \text{DCM})$ to the PPET8 NSSs $\text{RU}(b + \text{DCM})$ value                                                                                                                                       | Result of comparison of the constellation index $c$ of an EHT PPDU with NSS value $n$ and RU allocation size that corresponds to the RU allocation index = value $(b + \text{DCM})$ to the PPETmax NSSs $\text{RU}(b + \text{DCM})$ value | Nominal packet padding for an EHT PPDU transmitted to this STA using the constellation index = $c$ , NSS = $n$ and RU allocation size that corresponds to the RU allocation index = $(b + \text{DCM})$ |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| $c$ greater than or equal to PPET8                                                                                                                                                                                                                                                                                                                                      | $c$ less than PPETmax or PPETmax equal to None                                                                                                                                                                                            | 8 $\mu\text{s}$                                                                                                                                                                                        |
| $c$ greater than PPET8 or PPET8 equal to None                                                                                                                                                                                                                                                                                                                           | $c$ greater than or equal to PPETmax                                                                                                                                                                                                      | 16 $\mu\text{s}$ if $c \le 5$ and $(b + \text{DCM}) \le 3$<br>20 $\mu\text{s}$ if $c = 6$ , or $(b + \text{DCM}) = 4$                                                                                  |
| All other cases with PPET8 and PPETmax values present                                                                                                                                                                                                                                                                                                                   |                                                                                                                                                                                                                                           | 0 $\mu\text{s}$                                                                                                                                                                                        |
| NOTE 1—DCM = 1 if $b$ is less than 3 and EHT-MCS 14 or EHT-MCS 15 is used; DCM = 0 otherwise.                                                                                                                                                                                                                                                                           |                                                                                                                                                                                                                                           |                                                                                                                                                                                                        |
| NOTE 2—If there exists one or more 0s before the first 1 in the bitmask sequence in the RU Index Bitmask subfield, the nominal packet padding is 0 $\mu\text{s}$ for each RU allocation index corresponding to these 0s.                                                                                                                                                |                                                                                                                                                                                                                                           |                                                                                                                                                                                                        |
| NOTE 3—If there exists one or more 0s after the first 1 in the bitmask sequence in the RU Index Bitmask subfield, the PPETmax and PPET8 values for each RU allocation index corresponding to these 0s shall be the same as the PPETmax and PPET8 values for the closest smaller RU allocation index with the bitmask value equal to 1 in the RU Index Bitmask subfield. |                                                                                                                                                                                                                                           |                                                                                                                                                                                                        |
| NOTE 4—The nominal packet padding value is 16 $\mu\text{s}$ for all supported RU or MRU sizes and constellations if the number of spatial streams of the EHT PPDU transmission is greater than $(\text{NSS} \cdot \text{PE} + 1)$ , where $\text{NSS} \cdot \text{PE}$ is the value in the NSS_PE subfield.                                                             |                                                                                                                                                                                                                                           |                                                                                                                                                                                                        |

given RU, the nominal packet padding value shall be based on the next larger RU allocation index (RU allocation index + 1). Examples of the selection of the RU allocation index considering DCM include:

- If EHT-MCS 15 is applied to a 242-tone RU then the nominal packet padding value for a 484-tone RU shall be used.
- If EHT-MCS 15 is applied to a 106-tone RU or a 106+2+6-tone MRU then the nominal packet padding value for a 242-tone RU shall be used.
- If EHT-MCS 15 is applied to an RU or MRU indicated by the RU allocation index equal to 3 or 4, then the nominal packet padding value for the same RU or MRU shall be used.
- If EHT-MCS 14 is applied, the RU allocation indices ( $b + \text{DCM}$ ) for the 80 MHz, 160 MHz, and 320 MHz PPDU $s$  shall be equal to 3, 3, and 4, respectively.

The PPETmax and PPET8 subfields for RU allocation index  $k$  shall be present in the PPE Thresholds Info field only if bit  $k$  of the RU Index Bitmask subfield (bit  $4 + k$  of the EHT PPE Thresholds field) is 1. When there exists one or more 0s before the first 1 in the bitmask sequence in the RU Index Bitmask subfield, the PPETmax and PPET8 subfields for each RU allocation index corresponding to these 0s shall not be present, and the nominal packet padding value shall be 0  $\mu\text{s}$  for these RU(s) or MRU(s). For example, if the bitmask sequence of RU Index Bitmask subfield is [0 0 1 1 1], the nominal packet padding value shall be 0  $\mu\text{s}$  for the 242-tone RU and 484-tone RU.

When there exists one or more 0s after the first 1 in the bitmask sequence in the RU Index Bitmask subfield, the PPETmax and PPET8 subfields for each RU allocation index corresponding to these 0s shall not be present, but the PPETmax and PPET8 values shall be present, and the values shall be the same as the PPETmax and PPET8 values for the closest smaller RU allocation index with the bitmask value equal to 1 in the RU Index Bitmask subfield. For example, if the bitmask sequence of RU Index Bitmask subfield is [1 0

0 1 1], the PPETmax and PPET8 values for 484-tone RU, 484+242-tone MRU, and 996-tone RU shall be the same as for the 242-tone RU.

The PPETmax and PPET8 subfields for an NSS value  $n$  shall be present only if  $n$  is less than or equal to  $(NSS\_PE + 1)$ , where  $NSS\_PE$  is the value in the NSS\_PE subfield in the EHT PPE Thresholds field of the EHT Capabilities element. When the number of spatial streams of the EHT PPDU transmission is greater than  $(NSS\_PE + 1)$ , the nominal packet padding value shall be 16 µs for all supported RU or MRU sizes and constellations.

An EHT STA that sets the PPE Thresholds Present subfield to 1 in the EHT Capabilities element shall have a nominal packet padding of 0 µs for a small size RU or MRU, if 4096-QAM is not used for the RU or MRU; or if the RU size is 106 or the MRU size is 106+26 and EHT-MCS 15 is not applied to them. An EHT STA that sets the PPE Thresholds Present subfield to 1 in the EHT Capabilities element shall have a nominal packet padding value the same as the value for the 242-tone RU, if 4096-QAM is used for the RU or MRU; or if the RU size is 106 or the MRU size is 106+26 and EHT-MCS 15 is applied to them.

#### 35.13.5 STA behavior related to nominal packet padding

A STA transmitting an EHT MU PPDU shall provide the nominal packet padding in the TXVECTOR parameter NOMINAL\_PACKET\_PADDING for the minimal PE calculation (see 36.3.14).

The nominal packet padding value for a broadcast RU or MRU contained in an EHT PPDU that a STA transmits shall be set to 20 µs if the RU or MRU is modulated with 4096-QAM, or the RU or MRU is greater than 2x996, and shall be set to 16 µs for all other modes. A STA transmitting an EHT PPDU that carries a broadcast frame shall not set the value of the TXVECTOR parameter NOMINAL\_PACKET\_PADDING to a value that is less than that required for any of the recipients and the broadcast RU or MRU. A STA transmitting an EHT PPDU that carries a group addressed, but not broadcast, frame shall not set the value of the TXVECTOR parameter NOMINAL\_PACKET\_PADDING to a value that is less than that required for any of the recipients in the group.

If a STA A is transmitting an EHT MU PPDU to a STA B, where the STA A has not received a frame including the EHT Capabilities element from the STA B, then the STA A shall set the TXVECTOR parameter NOMINAL\_PACKET\_PADDING to:

- 20 µs if the RU or MRU is modulated with 4096-QAM, or the RU or MRU size is greater than 2x996-tone.
- 16 µs otherwise.

NOTE—One such situation is an AP transmitting to a nonassociated STA. Another such situation is a nonassociated STA transmitting to an AP without having received a Management frame including an EHT Capabilities element from the AP, such as a Beacon or Probe Response frame.

A STA transmitting an EHT MU PPDU shall include post-FEC padding determined by the pre-FEC padding factor (see 36.3.13) and after including the post-FEC padding, the transmitting STA shall include a packet extension with a duration computed based on the TXVECTOR parameter NOMINAL\_PACKET\_PADDING (see 36.3.14).

### 35.14 PPDU format, BW, MCS, NSS, and DCM selection rules

#### 35.14.1 General

An EHT STA can transmit different PPDU formats, with different transmit parameters, such as channel width, MCS, NSS, and DCM. This subclause defines the rules followed by an EHT STA for selecting these parameters depending on the capabilities of the intended receiver(s) and other considerations.

### 35.14.2 PPDU format selection

An EHT STA that transmits non-HT, HT, VHT, or HE PPDU shall follow the rules in 26.15.2 (PPDU format selection).

An EHT AP may transmit an EHT MU PPDU as defined in 35.5.1. A non-AP EHT STA transmits EHT TB PPDU as defined in 35.5.2. An EHT STA may transmit an EHT MU PPDU to a peer EHT STA subject to the restrictions defined below.

An EHT STA 6G shall not transmit an EHT PPDU in EHT duplicate mode to a peer EHT STA if the EHT Capabilities element received from that peer EHT STA has the Support Of EHT DUP (EHT-MCS 14) In 6 GHz subfield equal to 0.

An EHT STA shall not transmit an EHT PPDU with EHT-MCS 15 in either the Data field or EHT-SIG field to a peer non-AP STA if the most recently received MCS15 Disable subfield value of the EHT OM Control field from that peer non-AP STA, if any, is equal to 1.

An EHT STA shall not transmit an EHT PPDU with EHT-MCS 15 in either the Data field or EHT-SIG field to an AP if the most recently received MCS15 Disable subfield value of the EHT Operation element from that AP is equal to 1.

An EHT STA shall not transmit an EHT PPDU with EHT-MCS 15 and MRUs listed in Table 9-417r to a peer EHT STA if the EHT Capabilities element received from that peer EHT STA has the Support Of EHT-MCS 15 In MRU subfield equal to 0.

An EHT STA shall send Control frames following the rules defined in 10.6.6 and 26.15.2 (PPDU format selection) with the following additional exceptions:

- A Control frame sent by an EHT AP as a response to an EHT TB PPDU may be carried in any PPDU format that is supported by the intended receivers.
- A Trigger frame that is not an MU-RTS Trigger frame may be carried in any PPDU format that is supported by the intended receivers subject to the restrictions in 35.5.2.
- An MU-RTS Trigger frame may be carried in an EHT MU PPDU whose TXVECTOR parameter EHT\_PPDU\_TYPE is set to 1 (see 35.2.2.1).
- A Control frame is carried in an EHT TB PPDU if it is sent as a response to a PPDU that contains a Trigger frame that is not an MU-RTS Trigger frame (see 35.5.2).
- A Control frame sent by an EHT STA as a response to an EHT PPDU with EHT-MCS 15 or 14 that does not contain a Trigger frame should be carried in an EHT PPDU with EHT-MCS 15 or 14, respectively unless
  - the most recently transmitted EHT PPDU by the STA that is correctly received by the transmitter of the EHT PPDU with EHT-MCS 15 or 14 was not an EHT PPDU with EHT-MCS 15 or 14 in which case the Control frame should be carried in non-HT (duplicate) PPDU.
- A Control frame sent by an EHT STA as a response to an EHT PPDU with MCS other than EHT-MCS 14 and 15 or to a non-HT (duplicate) PPDU that does not contain a triggering frame should be carried in a non-HT (duplicate) PPDU unless
  - the most recent PPDU sent by the EHT STA to the recipient of the Control frame and received correctly by the peer STA was an EHT PPDU with EHT-MCS 14 or 15 in which case the Control frame should be carried in EHT PPDU with EHT-MCS 14 or 15, respectively.
- A Control frame that is not solicited by another frame and is not a Trigger frame may be carried in EHT PPDU with EHT-MCS 14 or 15 subject to the restriction defined in this subclause.
- A Control frame sent by an EHT AP as a response solicited by SRS Control field is carried in a PPDU that satisfies the requirements defined in 35.3.16.5.2.

— An EHT STA may transmit a BlockAck frame in an HE SU PPDU or in an EHT MU PPDU directed to a single EHT STA if the PPDU duration of the HE SU PPDU or EHT MU PPDU (respectively) is less than the PPDU duration of a non-HT PPDU containing the Control frame sent at the primary rate (see 10.6.6.5.2).

### 35.14.3 MCS, NSS, BW selection

An EHT STA shall follow the rules defined in 10.6 and 26.15.4 for selecting the rate, MCS, NSS, and the rules defined in 10.3.2.7, 10.3.2.9, 10.6.6.6, and 10.6.12 for selecting the channel bandwidth of transmitted PPDU with the following exceptions:

— EHT-MCS, NSS, and BW selection for an EHT TB PPDU are defined in 35.5.2.3.  
— Rate and BW selection for a CTS sent in response to an MU-RTS Trigger frame are defined in 35.2.2.2.

An EHT STA that transmits an EHT PPDU to a receiving STA shall use an <EHT-MCS, NSS> tuple that is supported by the receiving STA as indicated by the Supported EHT-MCS And NSS Set field in the EHT Capabilities element that the receiving STA transmits. If the Supported EHT-MCS and NSS set of the receiving STA or STAs is not known, the transmitting STA shall transmit using a <EHT-MCS, NSS> tuple in the basic EHT-MCS and NSS set if the basic EHT-MCS and NSS set is not empty, otherwise, the transmitting STA shall transmit using a <EHT-MCS, NSS> tuple in the mandatory EHT-MCS and NSS set. An EHT STA is subject to all of the rules for HT STAs and VHT STAs that apply to its operating band (see 10.27).

An EHT STA may transmit an EHT PPDU with 1024-QAM or 4096-QAM on a 26-, 52-, and 106-tone RU to a recipient STA if it has received from the recipient STA an EHT Capabilities element with the Rx 1024-QAM And 4096-QAM < 242-tone RU Support subfield in the EHT PHY Capabilities Information field equal to 1; otherwise, the EHT STA shall not transmit an EHT PPDU with 1024-QAM or 4096-QAM on a 26-, 52-, and 106-tone RU.

An EHT AP shall not set the UL EHT-MCS subfield of a User Info field in a Trigger frame to 10, 11, 12 or 13 for a 26-, 52-, or 106-tone RU allocation unless the User Info field is addressed to a non-AP EHT STA from which the EHT AP has received an EHT Capabilities element with the Tx 1024-QAM And 4096-QAM < 242-tone RU Support subfield in the EHT PHY Capabilities Information field equal to 1.

An EHT STA that sends a Control frame in response to a frame carried in an EHT MU PPDU that carries a frame with the Normal Ack or Implicit BAR ack policy shall set the TXVECTOR parameter CH\_BANDWIDTH to indicate a channel width that is the same as the channel width indicated by the RXVECTOR parameter CH\_BANDWIDTH of the frame eliciting the response with the following exception:

— An EHT AP may solicit one Control response frame carried in EHT TB PPDU from a STA only whose bandwidth is narrower than the bandwidth of the solicited PPDU if the Control response frame is in the last frame exchange of the TXOP.

If a control response frame is transmitted in an EHT MU PPDU, the channel width (CH\_BANDWIDTH parameter of the TXVECTOR) shall be selected first according to 10.6.6.6, and then the <EHT-MCS, NSS> tuple shall be selected from a set of <EHT-MCS, NSS> tuples called the *CandidateMCSSet*. The *CandidateMCSSet* is defined in 10.6.6.5.3 (Control response frame MCS computation) except that the set additionally contains the <EHT-MCS, NSS> tuples for an EHT STA.

### 35.14.4 Rate selection constraints for EHT STAs

#### 35.14.4.1 Receive EHT-MCS and NSS Set

The receive EHT-MCS and NSS set is the set of  $\langle \text{EHT-MCS}, \text{NSS} \rangle$  tuples for PPDU bandwidths equal to 20 MHz, less than or equal to 80 MHz, less than or equal to 160 MHz, less than or equal to 320 MHz that a STA is capable of receiving. The receive EHT-MCS and NSS set for a first STA is determined by a second EHT STA for each  $\langle \text{EHT-MCS}, \text{NSS} \rangle$  tuple,  $\text{NSS} = 1, 2, \dots, 8$ , and PPDU bandwidth (less than or equal to 20 MHz only, 80 MHz, 160 MHz or 320 MHz) from the Supported EHT-MCS And NSS Set field in the EHT Capabilities element received from the first STA as follows:

- If support for the EHT-MCS for NSS spatial streams at that PPDU bandwidth is mandatory (see 36.1.1), then the  $\langle \text{EHT-MCS}, \text{NSS} \rangle$  tuple at that bandwidth is supported by the first STA on receive.
- Otherwise, if the Rx Max NSS that supports EHT-MCS  $n1-n2$  ( $n1$  and  $n2$  indicate the MCS set being applied) in EHT-MCS Map b subfield for  $b \in \{20 \text{ MHz only for } \le 80 \text{ MHz for } \ge 80 \text{ MHz STA}, 160 \text{ MHz for } \ge 160 \text{ MHz STA}, 320 \text{ MHz}\}$  indicates support and neither the Operating Mode field nor the OM Control subfield and the optional EHT OM Control subfield is received from the first EHT STA, then the  $\langle \text{EHT-MCS}, \text{NSS} \rangle$  tuple at PPDU bandwidth  $b$  for a given operating channel width is supported by the first STA on receive as defined in 9.4.2.323.4.
- Otherwise,
  - If the Operating Mode field is received from the first EHT STA, the  $\langle \text{EHT-MCS}, \text{NSS} \rangle$  tuple at that PPDU bandwidth for a given operating channel width is supported by the first STA on receive as defined in as defined in 9.4.2.323.4.
  - If the OM Control subfield is received from the first EHT STA, the  $\langle \text{EHT-MCS}, \text{NSS} \rangle$  tuple at that PPDU bandwidth for a given operating channel width is supported by the first STA on receive as defined in as defined in 9.4.2.323.4.
  - If the OM Control subfield and EHT OM Control subfield are received from the first EHT STA, the  $\langle \text{EHT-MCS}, \text{NSS} \rangle$  tuple at that PPDU bandwidth for a given operating channel width is supported by the first STA on receive as defined in 9.4.2.323.4.
  - Otherwise, the  $\langle \text{EHT-MCS}, \text{NSS} \rangle$  tuple at that PPDU bandwidth is not supported by the first STA on receive.

The  $\langle \text{EHT-MCS}, \text{NSS} \rangle$  tuples excluded by 35.14.4.3 can also be eliminated from the receive EHT-MCS and NSS set.

An EHT STA shall not, unless explicitly stated otherwise, transmit an EHT PPDU unless the  $\langle \text{EHT-MCS}, \text{NSS} \rangle$  tuple and bandwidth used are in the receive EHT-MCS and NSS set of the receiving STA(s).

#### 35.14.4.2 Transmit EHT-MCS and NSS Set

The transmit EHT-MCS and NSS set is the set of  $\langle \text{EHT-MCS}, \text{NSS} \rangle$  tuples for PPDU bandwidth less than or equal to 20 MHz only, 80 MHz, 160 MHz PPDU or 320 MHz PPDU that a STA is capable of transmitting. The transmit EHT-MCS and NSS set of a first STA is determined by a second STA for each  $\langle \text{EHT-MCS}, \text{NSS} \rangle$  tuple,  $\text{NSS} = 1, 2, \dots, 8$ , and PPDU bandwidth (less than or equal to 20 MHz only for 20 MHz-only STA, 80 MHz for  $\ge 80 \text{ MHz STA}$ , 160 MHz or 320 MHz) from the Supported EHT-MCS And NSS Set field received from the first STA as follows:

- If support for the  $\langle \text{EHT-MCS}, \text{NSS} \rangle$  tuple at that bandwidth is mandatory (see 36.1.1), then the  $\langle \text{EHT-MCS}, \text{NSS} \rangle$  tuple at that PPDU bandwidth is supported by the first STA on transmit.
- Otherwise, if the Tx Max NSS that supports EHT-MCS  $n1-n2$  ( $n1$  and  $n2$  indicate the MCS set being applied) in the EHT-MCS Map b subfield where  $b$  is the PPDU bandwidth indicates support, then the  $\langle \text{EHT-MCS}, \text{NSS} \rangle$  tuple at PPDU bandwidth  $b$  for a given operating channel width is supported by the first STA on receive as defined in 9.4.2.323.4.

— Otherwise,

— If the OM Control subfield is received from the first EHT STA, the <EHT-MCS, NSS> tuple at that PPDU bandwidth for a given operating channel width is supported by the first STA on transmit as defined in as defined in 9.4.2.323.4.

— If the OM Control subfield and EHT OM Control subfield are received from the first EHT STA, the <EHT-MCS, NSS> tuple at that PPDU bandwidth for a given operating channel width is supported by the first STA on transmit as defined in 9.4.2.323.4.

— Otherwise, the <EHT-MCS, NSS> tuple at that PPDU bandwidth is not supported by the first STA on transmit.

#### 35.14.4.3 Additional rate selection constraints for EHT PPDU

If a combination of HE MCS, NSS under a bandwidth is not allowed in the BSS per HE-MCSs that are marked as unsupported as defined in 26.15.4.3 (Additional rate selection constraints for HE PPDU), the combination of EHT-MCS, NSS where EHT-MCS is equal to HE-MCS shall be disallowed under the bandwidth. If a combination of EHT-MCS 0, NSS = 1 at a bandwidth is not allowed in a BSS, the EHT-MCS 15 at the bandwidth shall be disallowed.

#### 35.14.5 Additional rules for group addressed frames except Beacon frame

An AP that transmits group addressed frames except the Beacon frames in an EHT MU PPDU with the TXVECTOR parameter EHT\_PPDU\_TYPE equal to 1 shall transmit the EHT MU PPDU with an <EHT-MCS, NSS> tuple where the EHT-MCS is a mandatory EHT-MCS and NSS = 1.

A group addressed frame transmitted in an EHT MU PPDU with the TXVECTOR parameter EHT\_PPDU\_TYPE equal to 1 shall be sent as an S-MPDU (see Table 9-664), except for group addressed Data frames, which are not required to be sent as an S-MPDU, but are required to follow 10.12.4.

If the EHT MU PPDU with the TXVECTOR parameter EHT\_PPDU\_TYPE equal to 1 contains a group addressed frame intended for at least one STA that is not associated to the AP, then the EHT AP shall set the TXVECTOR parameters for the EHT PPDU as follows:

- CH\_BANDWIDTH to CBW20
- EHT\_LTF\_TYPE to 2× EHT-LTF and GI\_TYPE to 0u8s\_GI or 1u6s\_GI, or EHT\_LTF\_TYPE to 4× EHT-LTF and GI\_TYPE to 3u2s\_GI
- FEC\_CODING to BCC\_CODING
- BEAMFORMED to 0
- NOMINAL\_PACKET\_PADDING to 16 µs
- NO\_SIG\_EXTN to false in the 2.4 GHz band and true otherwise

Otherwise, if the EHT MU PPDU with the TXVECTOR parameter EHT\_PPDU\_TYPE equal to 1 contains group addressed frames intended only for associated STAs, then the AP shall set the TXVECTOR parameters listed above to values that are indicated as supported by all the intended STAs, except that the CH\_BANDWIDTH shall be set to CBW20 if at least one of the intended STAs is currently not in the awake state.

#### 35.14.6 Additional rules for group addressed frames in an EHT MU PPDU with the TXVECTOR parameter EHT\_PPDU\_TYPE not equal to 1 except Beacon frame

An EHT AP may include group addressed frames except the Beacon frames in an EHT MU PPDU with the TXVECTOR parameter EHT\_PPDU\_TYPE not equal to 1 subject to the rules defined in this subclause.

An EHT AP that includes a group addressed frame in an EHT MU PPDU with RUs shall ensure that the frame is included in a broadcast RU in the EHT MU PPDU with the TXVECTOR parameter EHT\_PPDU\_TYPE not equal to 1. The EHT AP shall additionally ensure that the following conditions are satisfied for the broadcast RU:

- The RU allocation shall comply with the rules in 36.3.2
- The <EHT-MCS, NSS> tuple shall have a mandatory EHT-MCS and NSS = 1
- The broadcast RU shall be located within:
  - The primary 20 MHz channel if the group addressed frame is a FILS Discovery or a Probe Response frame, except when the primary 20 MHz channel does not coincide with a PSC and the AP is a 6 GHz-only AP, in which case the broadcast RU may be in a PSC that is within the BSS operating channel width (see 26.17.2.3). The broadcast RU size shall not exceed 106 subcarriers if the MU PPDU has a bandwidth that is greater than 20 MHz.
  - The primary 20 MHz channel if the group addressed frame is addressed to at least one associated non-AP STA that has not declared to be in the awake state. The broadcast RU size shall not exceed 106 subcarriers if the MU PPDU has a bandwidth that is greater than 20 MHz.
  - A bandwidth that is indicated as supported in reception by one or more associated non-AP STAs, if the group addressed frame is addressed only to those non-AP STAs and the STAs have declared to be in the awake state. The broadcast RU size shall not exceed the minimum common bandwidth that is supported in reception by all STAs in the EHT Capabilities element they transmit or in the most recently sent OM Control, EHT OM Control or OMN frames.
  - The SST subchannel if the group addressed frame is addressed to one or more EHT SST STAs, the primary 20 MHz channel does not coincide with the subchannel assigned to the EHT SST STAs and the frame is not addressed to any STAs other than the EHT SST STAs in that subchannel (see 26.8.7.2). The broadcast RU size shall not exceed 106 subcarriers if the SST subchannel is 20 MHz.
- The TXVECTOR parameters listed below shall be set as follows:
  - EHT\_LTF\_TYPE to 2x EHT-LTF and GI\_TYPE to 0u8s\_GI or 1u6s\_GI, or EHT\_LTF\_TYPE to 4x EHT-LTF and GI\_TYPE to 3u2s\_GI
  - FEC\_CODING to BCC\_CODING
  - BEAMFORMED to 0
  - NOMINAL\_PACKET\_PADDING to 16  $\mu$ s
  - NO\_SIG\_EXTN to false in the 2.4 GHz band and true otherwise
  - STA\_ID as defined in 26.11.1 (STA\_ID)

Group addressed frames transmitted in an EHT MU PPDU shall be sent as an S-MPDU (see Table 9-664) except that group addressed Data frames are not required to be sent as an S-MPDU, but are required to follow the rules in 10.12.4.

## 35.15 EHT BSS operation

### 35.15.1 Basic EHT BSS operation

An EHT STA has dot11EHTOptionImplemented equal to true.

The basic EHT-MCS and NSS set is the set of <EHT-MCS, NSS> tuples that are supported by all EHT STAs that are members of an EHT BSS. The basic EHT-MCS and NSS set is established by the STA that starts the EHT BSS, and is indicated by the Basic EHT-MCS And NSS Set field of the EHT Operation parameter in the MLME-START.request primitive. Other EHT STAs determine the basic EHT-MCS and NSS set from the Basic EHT-MCS And NSS Set field of the EHT Operation element in the BSS Description derived through the scan mechanism (see 11.1.4.1).

An EHT STA shall not attempt to join (MLME-JOIN.request primitive) a BSS unless it supports (i.e., is able to both transmit and receive using) all of the <EHT-MCS, NSS> tuples in the basic EHT-MCS and NSS set.

If an EHT STA supports transmitting or receiving a PPDU, where the PPDU bandwidth is less than 320 MHz, at an <EHT-MCS, NSS> tuple, where the EHT-MCS is equal to the HE-MCS and less than 12, then it shall also support the corresponding transmitting or receiving <HE-MCS, NSS> tuple, respectively. For an EHT-MCS that is less than an HE-MCS, the EHT STA shall support an NSS that is equal to or greater than the NSS that it supports for a higher EHT-MCS.

A non-AP EHT STA follows the procedures in 11.1.3.8.3 (Discovery of a nontransmitted BSSID profile) for efficient discovery during scanning and to save power after association if the peer AP is operating as an EMA AP.

NOTE—A non-AP EHT STA is also a non-AP HE STA (see 4.3.16a). Support for multiple BSSID capability is mandatory for a non-AP HE STA (see 11.1.3.8.1) and therefore, support for multiple BSSID capability is also mandatory for a non-AP EHT STA.

An EHT AP shall not assign an AID value of 2007 to any STA or non-AP MLD.

An EHT AP shall set the EHT Operation Information Present subfield in the EHT Operation element to 1 if all the following conditions are satisfied:

- the AP is operating in the 5 GHz or in the 6 GHz band
- the AP announces to EHT non-AP STAs a BSS operating channel width through the EHT Operation Information field that is different from the BSS operating channel width(s) that it announces to non-EHT non-AP STAs in the same Management frame
- the BSS operating channel width announced to EHT non-AP STAs includes at least one punctured 20 MHz subchannel and/or is 320 MHz.

Otherwise, the EHT AP shall set the EHT Operation Information Present subfield to 0.

If a BSS operating channel width is announced in the EHT Operation element, then the announced BSS operating channel width is the EHT BSS operating channel width. If a BSS operating channel width is not announced in the EHT Operation element, then:

- In the 6 GHz band, the HE BSS operating channel width announced in the HE Operation element is the EHT BSS operating channel width
- In the 5 GHz band, the HE BSS operating channel width announced by the combination of the HT and VHT Operation elements or announced by the combination of the HT and HE Operation elements with VHT Operation Information field is the EHT BSS operating channel width
- In the 2.4 GHz band, the HE BSS operating channel width announced in the HT Operation element is the EHT BSS operating channel width

An EHT AP shall not announce an 80+80 MHz BSS operating channel width.

If a BSS operating channel width is announced in the EHT Operation element, then an EHT AP shall announce the BSS operating channel width(s) to non-EHT non-AP STAs with the following restrictions:

- The announced BSS operating channel width(s) to non-EHT non-AP STAs are less than the BSS operating channel width in the EHT Operation element and the corresponding BSS shall not operate as an 80+80 MHz BSS.
- If the Disabled Subchannel Bitmap subfield in the EHT Operation element is present, the announced BSS operating channel width(s) to non-EHT non-AP STAs is the maximum width including the primary channel without covering any punctured 20 MHz subchannel indicated in the Disabled Subchannel Bitmap subfield in the EHT Operation element as defined in 35.15.2.

In the 2.4 GHz band, an EHT STA shall not transmit a PPDU to a recipient EHT STA that carries a frame that is not an EHT Compressed Beamforming/CQI frame (see 35.7.3) and that exceeds the maximum MPDU length capability indicated in the EHT Capabilities element or in Reconfiguration Multi-Link element with Reconfiguration Operation Type subfield equal to 1 of a successful operation parameter update (see 35.3.6.6) last received from the recipient EHT STA.

In the 5 GHz band, an EHT STA shall not transmit an EHT PPDU to a recipient EHT STA that carries a frame that is not an EHT Compressed Beamforming/CQI frame (see 35.7.3) and that exceeds the maximum MPDU length capability indicated in the VHT Capabilities element or in Reconfiguration Multi-Link element with Reconfiguration Operation Type subfield equal to 1 of a successful operation parameter update (see 35.3.6.6) last received from the recipient STA.

In the 6 GHz band, an EHT STA shall not transmit an EHT PPDU to a recipient EHT STA that carries a frame that is not an EHT Compressed Beamforming/CQI frame (see 35.7.3) and that exceeds the maximum MPDU length capability indicated in the HE 6 GHz Band Capabilities element or in Reconfiguration Multi-Link element with Reconfiguration Operation Type subfield equal to 1 of a successful operation parameter update (see 35.3.6.6) last received from the recipient EHT STA.

In the 2.4 GHz band, an EHT STA that sets the value of the Maximum MPDU Length subfield in the EHT MAC Capabilities Information field of the EHT Capabilities element to indicate 3895 octets shall set the maximum A-MSDU length in the HT Capabilities element to indicate 3839 octets. In the 2.4 GHz band, an EHT STA that sets the maximum MPDU length in the EHT Capabilities element to indicate 7991 octets or 11 454 octets shall set the maximum A-MSDU length in the HT Capabilities element to indicate 7935 octets. An EHT STA that sets the Maximum MPDU Length subfield in the Operation Parameter Info subfield of the Reconfiguration Multi-Link element corresponding to a STA operating in 2.4 GHz band to indicate 3895 octets shall set the maximum A-MSDU length in Operation Parameter Info subfield to indicate 3839 octets. An EHT STA that sets the Maximum MPDU Length subfield in the Operation Parameter Info subfield of the Reconfiguration Multi-Link element corresponding to a STA operating in 2.4 GHz band to indicate 7991 or 11 454 octets shall set the maximum A-MSDU length in Operation Parameter Info subfield to indicate 7935 octets.

An EHT STA shall set

- the Supported Channel Width Set subfield in the HT Capabilities element (carried outside the Multi-Link element),
- the Supported Channel Width Set and the Extended NSS BW Support subfields in the VHT Capabilities element (carried outside the Multi-Link element),
- the Supported Channel Width Set subfield in the HE Capabilities element (carried outside the Multi-Link element), and
- the Support For 320 MHz In 6 GHz subfield in the EHT Capabilities element (carried outside the Multi-Link element)

as shown in Table 35-7 to include the channel widths it is capable of supporting.

Table 35-7—Indication of supported channel widths by an EHT STA

| Operating band                                                                                | Maximum supported channel width | Supported Channel Width Set subfield in the HT Capabilities element | Supported Channel Width Set and Extended NSS BW Support subfields in the VHT Capabilities element (see Table 9-314) | Supported Channel Width Set subfield in the HE Capabilities element | Support For 320 MHz In 6 GHz subfield in the EHT Capabilities element |
|-----------------------------------------------------------------------------------------------|---------------------------------|---------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------|-----------------------------------------------------------------------|
| 2.4 GHz                                                                                       | 20 MHz                          | 0                                                                   | N/A                                                                                                                 | Set B0 to 0, B1 to 0, B2 to 0, B3 to 0                              | 0                                                                     |
| 2.4 GHz                                                                                       | 40 MHz                          | 1                                                                   | N/A                                                                                                                 | Set B0 to 1, B1 to 0, B2 to 0, B3 to 0                              | 0                                                                     |
| 5 GHz                                                                                         | 20 MHz (See NOTE)               | 0                                                                   | Set to indicate support for up to 80 MHz                                                                            | Set B0 to 0, B1 to 0, B2 to 0, B3 to 0                              | 0                                                                     |
| 5 GHz                                                                                         | 80 MHz                          | 1                                                                   | Set to indicate support for up to 80 MHz                                                                            | Set B0 to 0, B1 to 1, B2 to 0, B3 to 0                              | 0                                                                     |
| 5 GHz                                                                                         | 160 MHz                         | 1                                                                   | Set to indicate support for up to 160 or 80+80 MHz                                                                  | Set B0 to 0, B1 to 1, B2 to 1, B3 to 0                              | 0                                                                     |
| 6 GHz                                                                                         | 20 MHz (See NOTE)               | N/A                                                                 | N/A                                                                                                                 | Set B0 to 0, B1 to 0, B2 to 0, B3 to 0                              | 0                                                                     |
| 6 GHz                                                                                         | 80 MHz                          | N/A                                                                 | N/A                                                                                                                 | Set B0 to 0, B1 to 1, B2 to 0, B3 to 0                              | 0                                                                     |
| 6 GHz                                                                                         | 160 MHz                         | N/A                                                                 | N/A                                                                                                                 | Set B0 to 0, B1 to 1, B2 to 1, B3 to 0                              | 0                                                                     |
| 6 GHz                                                                                         | 320 MHz                         | N/A                                                                 | N/A                                                                                                                 | Set B0 to 0, B1 to 1, B2 to 1, B3 to 0                              | 1                                                                     |
| NOTE—This corresponds to the 20 MHz only non-AP EHT STA. An EHT AP does not use this setting. |                                 |                                                                     |                                                                                                                     |                                                                     |                                                                       |

A STA that is operating in an EHT BSS shall be able to receive and transmit at each of the <EHT-MCS, NSS> tuple values indicated by the Basic EHT-MCS And NSS Set field of the EHT Operation parameter of the MLME-START.request primitive and shall be able to receive at each of the <EHT-MCS, NSS> tuple values indicated by the Supported EHT-MCS and NSS Set field in the EHT Capabilities parameter of the MLME-START.request primitive.

A 20 MHz-only non-AP EHT STA with dot11EHT20MHzOnlyLimitedCapabilitiesSupport equal to true shall set the 20 MHz-Only Limited Capabilities Support subfield in its EHT Capabilities element to 1 and shall indicate a supported channel width of 20 MHz in any transmitted HT Capabilities element, VHT Capabilities element, HE Capabilities element, or EHT Capabilities element. A 20 MHz-only non-AP EHT STA affiliated with a non-AP MLD that includes at least one > 20 MHz affiliated non-AP STA shall set the 20 MHz-Only Limited Capabilities Support subfield in its EHT Capabilities element to 0.

### 35.15.2 Preamble puncturing operation

The AP shall set the Disabled Subchannel Bitmap Present subfield to 1 and include the Disabled Subchannel Bitmap subfield in the EHT Operation element if the AP punctures any subchannel for the BSS. Otherwise, the AP shall set the Disabled Subchannel Bitmap Present subfield to 0 and not include the Disabled Subchannel Bitmap subfield in the EHT Operation element. The puncturing pattern indicated in the Disabled Subchannel Bitmap subfield of the EHT Operation element shall be one of the non-OFDMA puncturing patterns defined in Table 36-30 whose corresponding PPDU bandwidth value in the table is equal to the operating channel width of the BSS. The AP shall set each bit in the Disabled Subchannel Bitmap subfield to a value subject to the following constraints:

- The resulting puncturing pattern is one of the puncturing patterns selected above.
- The bit in the bitmap that corresponds to the primary 20 MHz subchannel shall be set to 0.

In an EHT BSS set up by an EHT AP that has included the Disabled Subchannel Bitmap subfield in the EHT Operation element, an EHT STA shall set the TXVECTOR parameter INACTIVE\_SUBCHANNELS of an EHT or non-HT duplicate PPDU based on the value indicated in the most recently exchanged Disabled Subchannel Bitmap subfield in the EHT Operation element for that BSS. If a 20 MHz subchannel is indicated as a punctured subchannel in the Disabled Subchannel Bitmap subfield in the EHT Operation element, the corresponding bit in the TXVECTOR parameter INACTIVE\_SUBCHANNELS shall be set to 1 and the punctured 20 MHz subchannel shall not be used by any PPDU that is transmitted within the operating channel of the EHT AP to a member of the EHT BSS.

An EHT SU transmission that contains an MPDU soliciting an immediate response shall not puncture 20 MHz subchannels that are not indicated to be punctured in the Disabled Subchannel Bitmap subfield in the EHT Operation element, unless the EHT SU transmission carries a triggering frame that solicits a TB PPDU from a responding EHT STA.

An EHT MU PPDU that is not an EHT SU transmission and solicits an immediate response from a STA without including a triggering frame shall not puncture 20 MHz subchannels that are not indicated to be punctured in the Disabled Subchannel Bitmap subfield in the EHT Operation element.

NOTE 1—For example, an EHT MU PPDU using DL OFDMA that sets the ack policy to Implicit BAR to one of the users without including a triggering frame cannot puncture 20 MHz subchannels that are not indicated to be punctured in the Disabled Subchannel Bitmap subfield in the EHT Operation element.

Otherwise, an EHT STA may puncture other subchannels in addition to those indicated in the Disabled Subchannel Bitmap subfield in the EHT Operation element in an EHT MU PPDU or a non-HT duplicate PPDU. If an EHT AP punctures other subchannels in an EHT MU PPDU or a non-HT duplicate PPDU in addition to those indicated in the Disabled Subchannel Bitmap subfield and solicits a response to the PPDU, the EHT AP shall use a triggering frame to solicit the response in a TB PPDU and assign an RU or MRU within the nonpunctured subchannel set to a responding EHT STA.

NOTE 2—No other subchannels can be punctured in addition to those indicated in the Disabled Subchannel Bitmap subfield (if present) in the EHT Operation element in the following cases:

- A PPDU carrying an MU-RTS Trigger frame or the solicited CTS frame (see 35.2.2.1).
- An EHT sounding NDP for non-TB sounding (see 35.7.2).

— A PPDU that carries a CF-End frame from a non-AP EHT STA, as it might be followed by another CF-End frame after SIFS (see 10.23.2.10).

Regardless of the inclusion of the Disabled Subchannel Bitmap subfield in the EHT Operation element, an EHT STA may use EHT MU PPDU preamble puncturing modes as defined in 36.3.12.11 or EHT TB PPDU in which not all the 20 MHz subchannels are assigned.

To indicate a puncturing pattern change for the current BSS operating channel carried in a Beacon frame, an EHT AP:

— Shall use an EHT Operation element.  
— May use the Bandwidth Indication For Channel Switch subelement in a Channel Switch Wrapper element (see 35.15.3).

NOTE 3—The Channel Switch Count field in a Channel Switch Announcement element or an Extended Channel Switch Announcement element sent together with the Bandwidth Indication subelement of the Channel Switch Wrapper element allows the AP to notify the associated non-AP STAs in advance about the upcoming puncturing pattern, so it is recommended to use the Channel Switch Wrapper element to indicate the puncturing pattern change.

### 35.15.3 Channel switching methods for an EHT BSS

An EHT STA follows the rules defined in 11.38.4 (Channel switching methods for a VHT BSS) and the additional rules defined in this subclause.

If a Channel Switch Announcement frame or an Extended Channel Switch Announcement frame is used to announce a switch to an EHT BSS operating channel width wider than 160 MHz or to an EHT BSS operating channel width including at least one punctured 20 MHz subchannel, then the Bandwidth Indication element shall be present in the same frame. If an EHT STA determines the EHT BSS operating channel bandwidth based on the Bandwidth Indication element in the frame, then the STA shall ignore the Wide Bandwidth Channel Switch element in the same frame for determining the EHT BSS operating channel bandwidth. When the Bandwidth Indication element is present along with the Wide Bandwidth Channel Switch element in the frame,

— the announced BSS bandwidth in the Wide Bandwidth Channel Switch element is the maximum bandwidth including the primary channel without covering any punctured 20 MHz subchannel indicated in the Disabled Subchannel Bitmap subfield in the Bandwidth Indication element as defined in 35.15.2, and  
— the announced BSS bandwidth in the Wide Bandwidth Channel Switch element is less than the BSS bandwidth in the Bandwidth Indication element and the corresponding BSS shall not operate as an 80+80 MHz BSS.

If a Channel Switch Announcement element or an Extended Channel Switch Announcement element is used to announce a switch to an EHT BSS operating channel width wider than 160 MHz or to an EHT BSS operating channel width including at least one punctured 20 MHz subchannel, then Bandwidth Indication subelement in the Channel Switch Wrapper element shall be present in the same frame. If an EHT STA determines the EHT BSS operating channel bandwidth based on the Bandwidth Indication subelement in the frame, then the STA shall ignore the Wide Bandwidth Channel Switch subelement in the same frame for determining the EHT BSS operating channel bandwidth. When the Bandwidth Indication subelement is present along with the Wide Bandwidth Channel Switch subelement in the frame,

— the announced BSS bandwidth in the Wide Bandwidth Channel Switch subelement is the maximum bandwidth including the primary channel without covering any punctured 20 MHz subchannel indicated in the Disabled Subchannel Bitmap subfield in the Bandwidth Indication subelement as defined in 35.15.2, and

— the announced BSS bandwidth in the Wide Bandwidth Channel Switch subelement is less than the BSS bandwidth in the Bandwidth Indication subelement and the corresponding BSS shall not operate as an 80+80 MHz BSS.

NOTE—If the EHT AP after switching to the new channel has an EHT BSS operating channel width wider than 160 MHz or EHT BSS operating channel width including at least one punctured 20 MHz subchannel, its associated EHT STAs that have performed channel switching or extended channel switching can also determine that information in the EHT Operation element in the Beacon or Probe Response frames received from the EHT AP on the new channel.

#### 35.15.4 EHT operation with the Transmit Power Envelope element

An EHT STA follows the rules defined in 10.22.4 (Operation with the Transmit Power Envelope element) and the rules defined in this subclause.

The Extension Maximum Transmit Power field shall be included in the Transmit Power Envelope element by an AP if the AP is operating in the 6 GHz band, the Maximum Transmit Power Interpretation subfield is 0 or 2, and the EHT BSS operating channel width is 320 MHz.

If the Extension Maximum Transmit Power field is included and if the Maximum Transmit Power Interpretation subfield is 0 or 2, then the Maximum Transmit Power Count field shall be set to 3.

In a Transmit Power Envelope element transmitted by an EHT AP with the Maximum Transmit Power Interpretation subfield set to 0 or 2, the Maximum Transmit Power For  $X$  MHz subfield shall be included (where  $X = 20, 40, 80, 160/80+80, \text{ or } 320$ ) if  $X$  is less than or equal to the operating channel width of the corresponding EHT BSS.

The Extension Maximum Transmit Power field shall be included in the Transmit Power Envelope element by an AP if the AP is operating in the 5 GHz or 6 GHz band, the AP is announcing a BSS operating channel width to EHT non-AP STAs in EHT Operation element that is different from a non-EHT BSS operating channel width that it announces to non-EHT non-AP STAs (see 35.15.1), the Maximum Transmit Power Interpretation subfield is 1 or 3, the value of  $N$  determined from the Maximum Transmit Power Count subfield is greater than 0, and the number of 20 MHz subchannels to be covered by the Transmit Power Envelope element is greater than the number of 20 MHz subchannels contained within the HE BSS operating channel width.

If the Extension Maximum Transmit Power field is included and if the Maximum Transmit Power Interpretation subfield is 1 or 3, then:

- The Transmit Power Information field and the Maximum Transmit Power field shall be computed with the non-EHT BSS operating channel width of the AP that is different from the EHT BSS operating channel width.
- The Extension Maximum Transmit Power field shall be computed as follows:
  - The Extension Count subfield of the Extension Transmit PSD Information subfield is set to the value of  $K$ , corresponding to the number of 20 MHz subchannels for each of which the Transmit Power Envelope element has included a maximum transmit PSD, minus the number of 20 MHz subchannels contained within the non-EHT BSS operating channel.
  - The Maximum Transmit PSD  $1 - K$  subfields correspond to 20 MHz channels from the lowest to highest frequency, respectively, within the EHT BSS operating channel, excluding the 20 MHz channels within the non-EHT BSS operating channel.

## 35.16 EPCS priority access

### 35.16.1 General

EPCS priority access is a mechanism that provides prioritized access to the wireless medium for authorized users to increase their probability of successful communication during periods of network congestion.

An EPCS AP MLD is an AP MLD with dot11EHTEPCSPriorityAccessActivated set to true.

An EPCS non-AP MLD is a non-AP MLD with dot11EHTEPCSPriorityAccessActivated set to true.

A STA affiliated with an EPCS MLD shall set to 1 the EPCS Priority Access Support subfield of the EHT Capabilities element that it transmits. A STA affiliated with an MLD that is not an EPCS AP MLD or an EPCS non-AP MLD shall set to 0 the EPCS Priority Access Support subfield of the EHT Capabilities element that it transmits. A non-AP STA affiliated with an EPCS non-AP MLD that has dot11EHTEPCSPriorityAccessParamUnsolicitedModeSupport set to true shall set to 1 the Unsolicited EPCS Priority Access Parameter Update subfield of the EHT Capabilities element that it transmits. A non-AP STA affiliated with a non-AP MLD that is not an EPCS non-AP MLD or that is an EPCS non-AP MLD with dot11EHTEPCSPriorityAccessParamUnsolicitedModeSupport set to false shall set to 0 the Unsolicited EPCS Priority Access Parameter Update subfield of the EHT Capabilities element that it transmits.

During the (re)association process, the EPCS AP MLD obtains information required to verify the authority of the non-AP MLD to use EPCS priority access. An EPCS AP MLD that has dot11SSPNInterfaceActivated equal to true may use the interworking procedures described in 11.22.5 to retrieve permission for a non-AP MLD to use the EPCS priority access from a service provider supporting EPCS via the SSPN interface during association by the non-AP MLD. To support this exchange, an EPCS non-AP MLD shall provide the home realm information of the EPCS provider and necessary authentication parameters as described in 11.22.5 (Interworking procedures: interactions with SSPN). While other methods of obtaining this authorization information are possible, they are outside the scope of this standard.

An EPCS AP MLD that successfully obtains permission for a non-AP MLD to use EPCS priority access shall update the dot11EPCSPriorityAccessAuthorized for the non-AP MLD in the dot11InterworkingEntry. The authorization information included in the dot11InterworkingEntry is passed from the prior EPCS AP MLD to the new AP MLD in the same ESS during reassociation as described in 11.22.5.3.

### 35.16.2 EPCS priority access operation

#### 35.16.2.1 General

EPCS priority access is established at the MAC by the initiation of the SME. The EPCS priority access between an EPCS AP MLD and its associated EPCS non-AP MLD can be in one of the following two states: enabled state or torn down state. The protocols to enable and tear down EPCS priority access are described in this subclause.

A non-AP STA affiliated with an EPCS non-AP MLD shall not send an EPCS Priority Access Enable Request frame to an AP affiliated with the associated EPCS AP MLD unless RSNA with management frame protection (see 12.2.7 and 12.6) has been successfully negotiated and both are capable of invoking EPCS priority access.

An AP affiliated with an EPCS AP MLD shall not send an EPCS Priority Access Enable Request frame to a non-AP STA affiliated with the associated EPCS non-AP MLD unless RSNA with management frame protection (see 12.2.7 and 12.6) has been successfully negotiated and both are capable of invoking EPCS priority access.

## 35.16.2.2 Setup procedures for EPCS priority access

### 35.16.2.2.1 General

EPCS priority access shall be in a torn down state upon the completion of successful ML setup procedure (i.e., when an EPCS non-AP MLD associates with an EPCS AP MLD).

The procedures for enabling and tearing down the EPCS priority access are described in the following subclauses.

An EPCS MLD invokes EPCS priority access on demand when instructed to do so by a higher layer function. After successful invocation of EPCS priority access, both the originator and the responder shall transition EPCS priority access to the enabled state and apply the priority access treatment to EPCS traffic. The EPCS AP MLD or EPCS non-AP MLD may send an EPCS Priority Access Enable Request frame through an affiliated AP or affiliated non-AP STA, respectively, on any enabled link between them and, if authorized, EPCS priority access is established on all setup links and EPCS priority access treatment will be applied on all enabled links between the MLDs.

NOTE—EPCS priority access can be enabled after association between an EPCS non-AP MLD and an EPCS AP MLD. Any AP affiliated with the AP MLD can be part of multiple BSSID set. The EPCS frame exchange takes place over a setup link between an affiliated non-AP STA and the corresponding affiliated AP.

### 35.16.2.2.2 Procedures at the initiating EPCS non-AP MLD

When instructed to do so by a higher layer function and upon receipt of an MLME-EPCSPRIACCESSENABLE.request primitive, an EPCS non-AP MLD with EPCS priority access in the torn down state shall follow the procedure below to request a change for the EPCS priority access state to enabled.

1. The initiating EPCS non-AP MLD shall transmit an EPCS Priority Access Enable Request frame (9.6.38.5) via an affiliated STA to the corresponding AP affiliated with the associated EPCS AP MLD.
2. If the initiating EPCS non-AP MLD receives an EPCS Priority Access Enable Response frame (9.6.38.6) via an affiliated STA with a matching dialog token and a value of SUCCESS in the Status Code field, then the initiating EPCS non-AP MLD shall issue an MLME-EPCSPRIACCESSENABLE.confirm primitive with a value of SUCCESS in the Status Code field indicating that EPCS priority access is in an enabled state. The initiating EPCS non-AP MLD shall enable EPCS priority access so that subsequently transmitted traffic receives EPCS priority access treatment using the procedure defined in 35.16.3.
3. If the initiating EPCS non-AP MLD receives an EPCS Priority Access Enable Response frame (9.6.38.6) via an affiliated STA with a matching dialog token and a value not equal to SUCCESS in the Status Code field, then the initiating EPCS non-AP MLD shall issue an MLME-EPCSPRIACCESSENABLE.confirm primitive with the status code from the response frame indicating the failure to change EPCS priority access to an enabled state. In this case, the initiating EPCS non-AP MLD shall not apply the EPCS priority access procedure. The higher layer function that triggers the EPCS priority access is responsible for managing reattempts after receiving responses with a value other than SUCCESS.

When instructed to do so by a higher layer function and upon receipt of an MLME-EPCSPRIACCESSTEARDOWN.request primitive, an EPCS non-AP MLD with EPCS priority access in an enabled state shall use the following procedure for changing the EPCS priority access to a torn down state.

NOTE—An EPCS non-AP MLD can initiate the teardown procedure regardless of whether the EPCS AP MLD or the EPCS non-AP MLD initiated the process to enable EPCS priority access.

1. The tearing down EPCS non-AP MLD shall transmit an EPCS Priority Access Teardown frame (9.6.38.7) via an affiliated STA to an AP affiliated with the associated EPCS AP MLD. The tearing down EPCS non-AP MLD shall change the EPCS priority access to the torn down state for all setup links so that subsequently transmitted traffic does not receive EPCS priority access treatment.
2. During the process of disassociating an EPCS non-AP MLD, the EPCS AP MLD shall transition EPCS priority access to the torn down state for that EPCS non-AP MLD.

#### 35.16.2.2.3 Procedures at the initiating EPCS AP MLD

When instructed to do so by a higher layer function triggered via an external interface, and upon receipt of an MLME-EPCSPRIACCESSENABLE.request primitive, an EPCS AP MLD shall follow the procedure below to request the change of the EPCS priority access for an associated EPCS non-AP MLD to the enabled state.

NOTE 1—The definition of the external interface is out of the scope of this standard.

1. An EPCS AP MLD shall verify the authority of the non-AP MLD to use EPCS priority access.

NOTE 2—The verification might involve confirming that dot1IEPCSPriorityAccessAuthorized in the dot1IInterworkingEntry for the EPCS non-AP MLD is set to true or the authorization might be provided by the higher layer function that triggers the EPCS AP MLD to enable EPCS priority access for the specific target EPCS non-AP MLD.

1. The initiating EPCS AP MLD shall transmit an EPCS Priority Access Enable Request frame (9.6.38.5) via an affiliated STA to the corresponding non-AP STA affiliated with an associated EPCS non-AP MLD, with EPCS priority access in the torn down state for that non-AP MLD.
   1. The initiating EPCS AP MLD may include the EPCS Priority Access Multi-Link element in the EPCS Priority Access Enable Request frame to provide EDCA parameter set(s) and/or MU EDCA parameter set(s) that the destination EPCS non-AP MLD employs on the corresponding setup links if EPCS priority access is successfully enabled.
2. If the initiating EPCS AP MLD receives an EPCS Priority Access Enable Response frame (9.6.38.6) via an affiliated STA with a matching dialog token and a value of SUCCESS in the Status Code field, then the initiating EPCS AP MLD shall issue an MLME-EPCSPRIACCESSENABLE.confirm primitive with a value of SUCCESS in the Status Code field indicating successful transition of EPCS priority access to the enabled state. The initiating EPCS AP MLD shall change EPCS priority access to the enabled state so that subsequently transmitted traffic receives EPCS priority access treatment using the procedure defined in 35.16.3.
3. If the initiating EPCS AP MLD receives an EPCS Priority Access Enable Response frame (9.6.38.6) via an affiliated STA with a matching dialog token and a value not equal to SUCCESS in the Status Code field, then the initiating EPCS AP MLD shall issue an MLME-EPCSPRIACCESSENABLE.confirm primitive with the status code from the response frame indicating the failure to change EPCS priority access to the enabled state. The initiating EPCS AP MLD shall not apply the EPCS priority access procedure. The external interface that triggers the EPCS priority access is responsible for managing reattempts after receiving responses with a value other than SUCCESS.

When triggered via an external interface, and upon receipt of an MLME-EPCSPRIACCESSTEARDOWN.request primitive, an EPCS AP MLD shall use the following procedure for changing the EPCS priority access state to torn down.

NOTE 3—An EPCS AP MLD can initiate the teardown procedure regardless of whether the EPCS AP MLD or the EPCS non-AP MLD initiated the process to enable EPCS priority access.

NOTE 4—The definition of the external interface is out of scope of this standard.

The tearing down EPCS AP MLD shall transmit an EPCS Priority Access Teardown frame (9.6.38.7) via an affiliated STA to a non-AP STA affiliated with an associated EPCS non-AP MLD. The tearing down EPCS AP MLD shall change the EPCS priority access state to torn down for all the links that have been set up with the EPCS non-AP MLD. During the process of disassociating an EPCS non-AP MLD, the EPCS AP MLD shall transition EPCS priority access to the torn down state for that EPCS non-AP MLD.

#### 35.16.2.2.4 Procedure at the receiving AP MLD

Upon receipt of an EPCS Priority Access Enable Request frame (9.6.38.5), an EPCS AP MLD shall use the following procedure to enable EPCS priority access for the requesting non-AP MLD.

1. The receiving AP MLD shall issue an MLME-EPCSPRIACCESSENABLE.indication primitive.
2. Upon receipt of the MLME-EPCSPRIACCESSENABLE.response primitive, the receiving AP MLD shall reply to the initiating non-AP MLD with an EPCS Priority Access Enable Response frame (9.6.38.6) using the following procedure:
   1. For an AP MLD with dot1ISSPNIfaceActivated equal to true, if the dot1EPCSPriorityAccessAuthorized for the requesting non-AP MLD in the dot1IInterworkingEntry is set to true indicating the requesting non-AP MLD is verified for EPCS priority access, the AP MLD shall set the Status Code field to a value of SUCCESS.
   2. For an AP MLD with dot1ISSPNIfaceActivated equal to true, if the dot1EPCSPriorityAccessAuthorized for the requesting non-AP MLD in the dot1IInterworkingEntry is set to false, the AP MLD shall set the Status Code field to a value of EPCS\_DENIED\_UNAUTHORIZED.

NOTE 1—The verification for AP MLD with dot1ISSPNIfaceActivated equal to false is out of scope of this standard.

1. If the receiving AP MLD is unable to verify that the non-AP MLD is authorized for any reason, such as a communication failure or overload condition, the receiving AP MLD shall set the Status Code field with a value of EPCS\_DENIED\_VERIFICATION\_FAILURE as defined in 9.4.1.9.

NOTE 2—Given temporary nature of this condition, higher layer function might attempt to invoke the enable operation again after a suitable delay.

1. If the receiving AP MLD cannot support EPCS priority access for the initiating non-AP MLD for any other reason, the receiving AP MLD shall set the Status Code field with a value of EPCS\_DENIED as defined in 9.4.1.9.

1. If the Status Code in the MLME-EPCSPRIACCESSENABLE.response primitive is equal to SUCCESS, the receiving AP MLD STA shall set the state of the EPCS priority access to enabled for the requesting non-AP MLD.
   1. The receiving AP MLD may include the EPCS Priority Access Multi-Link element in the EPCS Priority Access Enable Response frame to provide the EDCA parameter set(s) and/or the MU EDCA parameter set(s) that the initiating EPCS non-AP MLD will employ on the corresponding links.
2. If the Status Code in the MLME-EPCSPRIACCESSENABLE.response primitive is equal to a value other than SUCCESS, the receiving AP MLD shall keep EPCS priority access in the torn down state for the requesting non-AP MLD.

Upon receipt of an EPCS Priority Access Teardown frame (9.6.38.7), an EPCS AP MLD with EPCS priority access in the enabled state shall use the following procedure to tear down EPCS priority access.

1. The receiving AP MLD shall issue an MLME-EPCSPRIACCESSSTEARDOWN.indication primitive.

b) The receiving AP MLD shall change the EPCS priority access state to torn down for the requesting non-AP MLD.

### 35.16.2.2.5 Procedures at the receiving non-AP MLD

Upon receipt of an EPCS Priority Access Enable Request frame (9.6.38.5), an EPCS non-AP MLD with EPCS priority access in the torn down state shall use the following procedure to enable EPCS priority access.

1. The receiving non-AP MLD shall issue an MLME-EPCSPRIACCESSENABLE.indication primitive.
2. Upon receipt of the MLME-EPCSPRIACCESSENABLE.response primitive, a non-AP STA affiliated with the receiving non-AP MLD shall reply to the initiating AP MLD with an EPCS Priority Access Enable Response frame (9.6.38.6). The receiving non-AP MLD should set the Status Code field to a value of SUCCESS unless it is unable to support EPCS priority access for any reason. In that case, the non-AP MLD shall set the Status Code field to a value of EPCS\_DENIED as defined in 9.4.1.9.
3. If the Status Code in the MLME-EPCSPRIACCESSENABLE.response primitive is equal to SUCCESS, the receiving non-AP MLD shall change the state of the EPCS priority access to enabled so that subsequently transmitted traffic receives EPCS priority access treatment using the procedure defined in 35.16.3.
4. If the Status Code in the MLME-EPCSPRIACCESSENABLE.response primitive is equal to a value other than SUCCESS, the receiving non-AP MLD shall keep EPCS priority access in the torn down state.

Upon receipt of an EPCS Priority Access Teardown frame (9.6.38.7), an EPCS non-AP MLD with EPCS priority access enabled shall use the following procedure to tear down EPCS priority access.

1. The receiving non-AP MLD shall issue an MLME-EPCSPRIACCESSTEARDOWN.indication primitive.
2. The receiving non-AP MLD shall change the EPCS priority access state to torn down for all links so that subsequently transmitted traffic does not receive EPCS priority access treatment.

## 35.16.3 EPCS priority access procedure

### 35.16.3.1 General

EPCS priority access procedure allows EPCS non-AP MLDs with priority access in the enabled state to gain priority access to medium. If EPCS priority access is in the enabled state for an EPCS non-AP MLD, then each non-AP STA affiliated with the EPCS non-AP MLD applies EPCS priority access to traffic on its enabled link using the procedure described below.

An EPCS non-AP MLD shall apply EPCS priority access procedures only when its EPCS priority access state is set to enabled. An EPCS AP MLD may apply EPCS priority access to EPCS traffic using the procedure described below prior to completion of the negotiation to enable EPCS priority access.

### 35.16.3.2 EDCA operation using EPCS EDCA parameters

As part of the EPCS priority access procedure, a STA affiliated with an EPCS non-AP MLD shall manage its EDCA parameter sets as follows:

- During the process of enabling EPCS priority access or the process of updating the EDCA and MU EDCA parameters while EPCS priority access is enabled, the STA affiliated with the EPCS non-AP MLD shall

- Update its dot11EDCATable to the respective values in each category as soon as practical in implementation to
  - The values carried in the EDCA Parameters Set element included in the per-STA profile, with the Link ID corresponding to the AP with which the STA is associated, carried in the EPCS Priority Access Multi-Link element contained in an EPCS Priority Access Enable Request or an EPCS Priority Access Enable Response frame sent by an AP affiliated with the EPCS AP MLD, if the corresponding per-STA profile is present and contains an EDCA Parameters Set element or,
    - The default EDCA parameter values found in Table 9-194 otherwise.
- update the dot11MUEDCATable as soon as practical in implementation to respective values that correspond to fields in the MU EDCA Parameter Set element included in the per-STA profile, with the Link ID corresponding to the AP with which the STA is associated, carried in the EPCS Priority Access Multi-Link element contained in an EPCS Priority Access Enable Request or an EPCS Priority Access Enable Response frame sent by an AP affiliated with the EPCS AP MLD, if the corresponding Per-STA Profile is present and contains an MU EDCA Parameter Set element.
- While EPCS priority access is enabled, the STA affiliated with an EPCS non-AP MLD shall
  - follow the contention-based channel-access procedures defined in 10.2.3.2) using the EDCA parameter set stored in the dot11EDCATable as described earlier in this subclause, and
  - ignore the part of the procedures defined in 10.2.3.2) that concerns the update of the EDCA parameters that are sent by the corresponding AP in its Beacon and Probe Response frames
  - if the per-STA profile of the EPCS Priority Access Multi-Link element is present in the EPCS Priority Access Enable Request or the EPCS Priority Access Enable Response frame received by a STA affiliated with the EPCS non-AP MLD and the per-STA profile contains an MU EDCA Parameter Set element:
    - follow the rules defined in 26.2.7 using the MU EDCA parameters stored in the dot11MUEDCATable as described earlier in this subclause, except that
      - if the MUEDCATimer[AC] of the STA reaches 0, either by counting down or due to a reset following the reception of an MU EDCA Reset frame, the STA affiliated with EPCS non-AP MLD shall update CWmin[AC], CWmax[AC], and AIFSN[AC] to the values stored in the dot11EDCATable as described earlier in this subclause
      - ignore the part of the procedures defined in 26.2.7 that concerns the update of the MU EDCA parameters that are sent by the corresponding AP in its Beacon and Probe Response frames

After the EPCS priority access is torn down, the STA affiliated with an EPCS non-AP MLD

- Shall update its CWmin[AC], CWmax[AC], AIFSN[AC], and TXOP Limit [AC] state variables following the procedures in 10.2.3.2).
- Shall update the dot11MUEDCATable following the procedures in 26.2.7.

An AP affiliated with an EPCS AP MLD manages the EDCA parameter set and the MU EDCA parameter set for EPCS non-AP MLD with the EPCS priority access in the enabled state and non-EPCS non-AP MLDs as follows:

- If EPCS priority access is in the enabled state for at least one EPCS non-AP MLD associated with the EPCS AP MLD, then
  - if the EDCA parameters previously sent out by an AP affiliated with an EPCS AP MLD in Management frames it transmits (see 10.2.3.2) do not result in higher priority for STAs that are affiliated with EPCS non-AP MLDs in the enabled state, that AP shall announce EDCA parameters in Management frames that result in higher priority for those STAs with EPCS priority access in the enabled state.
- Otherwise,

— If all the non-AP MLDs associated with an EPCS AP MLD have EPCS priority access in the torn down state, the APs affiliated with the EPCS AP MLD announce EDCA parameters in the Management frames (e.g., Beacon and Probe Response) that they transmit following the procedure in 10.2.3.2).

NOTE 1—The EDCA parameters can be carried in the Management frames in several ways, including the non-transmitted BSSID Profile and the Basic Multi-Link element.

NOTE 2—In this context, higher priority indicates increased likelihood of obtaining access to the wireless medium, such as through lower values of CWmin[AC] and CWmax[AC] than the values used by non-AP STAs that do not have EPCS in the enabled state.

### 35.16.3.3 Maintenance procedures for EPCS priority access

#### 35.16.3.3.1 Procedures at the initiating EPCS AP MLD

When instructed to do so by a higher layer function triggered via an external interface, and upon receipt of an MLME-EPCSPRIACCESSPARAUPDATE.request primitive, an EPCS AP MLD with dot11EHTEPCSPriorityAccessParamUpdateSupport equal to true may distribute updated EDCA parameters to an associated EPCS non-AP MLD that has indicated support for receiving an EPCS priority access parameter update in unsolicited mode and that has EPCS priority access in the enabled state by using the following procedure:

a) An AP that is operating on any of the setup links with the EPCS non-AP MLD and is affiliated with the initiating EPCS AP MLD shall transmit an EPCS Priority Access Enable Response frame (9.6.38.6) to the corresponding non-AP STA affiliated with an associated EPCS non-AP MLD, containing updated values carried in the EPCS Priority Access Multi-Link element.

An EPCS AP MLD with dot11EHTEPCSPriorityAccessParamUpdateSupport set to false shall not distribute updated parameters to an associated EPCS non-AP MLD with EPCS priority access in the enabled state. An EPCS AP MLD shall not distribute updated parameters to an associated EPCS non-AP MLD that has sent an EHT Capabilities element with the Unsolicited EPCS Priority Access Parameter Update subfield equal to 0.

#### 35.16.3.3.2 Procedures at the receiving EPCS non-AP MLD

Upon receipt of an EPCS Priority Access Enable Response frame (9.6.38.6), an EPCS non-AP MLD with EPCS priority access in the enabled state shall use the following procedure to update the EPCS parameters used by the EPCS non-AP MLD:

a) The non-AP MLD shall update the EDCA and MU EDCA parameters according to the rules in 35.16.3.2.

### 35.17 EHT SCS procedure

The SCS procedure is used by a non-AP MLD to request an AP MLD to classify incoming individually addressed MSDUs based on parameters provided by the non-AP MLD and/or describe its traffic characteristics to an AP MLD.

An EHT STA establishes an SCS stream with an EHT AP, as defined in 11.25.2, subject to the additional rules and restrictions defined in this subclause.

A non-AP EHT STA with dot11SCSActivated equal to true that supports transmission of SCS Request frames containing an SCS Descriptor element with a QoS Characteristics element shall set the SCS Traffic Description Support subfield value in the EHT Capabilities element that it transmits to 1. An EHT AP with dot11SCSActivated equal to true that supports transmission of SCS Response frames containing an SCS

Descriptor element with a QoS Characteristics element shall set the SCS Traffic Description Support subfield value in the EHT Capabilities element that it transmits to 1. Via the MLD synchronization service, all STAs affiliated with an MLD shall set the SCS Traffic Description Support subfield of the EHT Capabilities element that they transmit to the same value.

A non-AP EHT STA may transmit an SCS Request frame with SCS Descriptor element(s) containing a QoS Characteristics element if the Request Type field in the frame is set to “Add” or “Change”. The QoS Characteristics element describes the traffic characteristics of the requested SCS stream. A non-AP EHT STA shall not transmit an SCS Request frame with SCS Descriptor element(s) containing a QoS Characteristics element to an AP from which it has not received an EHT Capabilities element with the SCS Traffic Description Support field equal to 1.

The MLDs maintain SCSDs for each non-AP MLD at MLD level, i.e., the SCSD used by a non-AP STA affiliated with a non-AP MLD in an SCS Request frame transmitted to an AP affiliated with an AP MLD is unique across all STAs affiliated with the non-AP MLD.

All STAs affiliated with an MLD set the SCS field of the Extended Capabilities element that they transmit to the same value (see 9.4.2.25). The SCSD is used by a non-AP MLD to request creation, modification, or deletion of an SCS stream. The SCSD is used by an AP MLD to identify an SCS stream in SCS responses.

An SCS Request frame sent by a non-AP STA affiliated with a non-AP MLD to the AP of an AP MLD that contains a QoS Characteristics element in which the Direction subfield is set to UL or DL or one that does not contain a QoS Characteristics element is interpreted as a request for creation or modification of an SCS stream that applies at the MLD level.

If the SCS Descriptor element contains a QoS Characteristics element in which the Direction subfield is equal to DL, then the TCLAS Elements field shall be included in the SCS Descriptor element and the TCLAS Processing Element field may be included in the SCS Descriptor element. The TCLAS Elements and the TCLAS Processing Element fields, if present, describe the traffic classification the non-AP STA requests the AP to apply to the corresponding stream.

An SCS Descriptor element contained in an SCS Request frame in which the QoS Characteristics subelement is present and the Direction subfield in the QoS Characteristics element is equal to direct link or UL shall not contain the Intra-Access Category Priority Element, TCLAS Element, and TCLAS Processing Element fields.

A value of REQUEST\_DECLINED, REQUESTED\_TCLAS\_NOT\_SUPPORTED\_BY\_AP, REJECTED\_WITH\_SUGGESTED\_CHANGES, INSUFFICIENT\_TCLAS\_PROCESSING\_RESOURCES shall be set in the corresponding SCS Status field of the SCS status tuple in the SCS Response frame when an EHT AP denies the SCS request for the requested SCSD.

If the SCS Request frame with an SCS Description element containing a QoS Characteristics element is rejected by an EHT AP by setting the Status field value to REJECTED\_WITH\_SUGGESTED\_CHANGES, the AP shall include an SCS Descriptor element containing a QoS Characteristics element in the SCS Response frame signaling the suggested QoS characteristics parameters for this SCS stream. An AP shall include an SCS Descriptor element containing a QoS Characteristics element in an SCS Response frame with the Status field value set to REJECTED\_WITH\_SUGGESTED\_CHANGES only if the SCS Descriptor element in the corresponding SCS Request frame contained a QoS Characteristics element.

The SCS Descriptor element that is included in an SCS Response frame shall not contain any Intra-Access Category Priority element, TCLAS Elements field or TCLAS Processing Element field. The Request Type field value in the corresponding SCS Descriptor element is reserved. The following fields in the QoS Characteristics element included in the corresponding SCS Descriptor element in the SCS Response frame

may differ from the corresponding values in the requested SCS stream: Minimum Service Interval, Maximum Service Interval, Service Start Time, and Medium Time.

A non-AP EHT STA with `dot11EHTXTSTFOptionImplemented` equal to true may send an SCS request that contains a QoS Characteristics element whose Direction field is set to 2 (Direct Link) only if both the STA and the associated EHT AP set the TXS Mode 2 Support subfield in the EHT Capabilities element that they transmit to 1.

The QoS Characteristics element is a reference for the EHT AP's scheduling. An EHT AP MLD should schedule transmission of DL frames such that the delay bound and minimum data rate requested are met for the DL Data frames if the Direction subfield of the QoS Characteristics element indicates DL. An EHT AP MLD should facilitate the transmission of UL frames from the EHT STA within an interval that falls between the requested minimum and maximum service intervals and the AP should meet the minimum data rate requested if the Direction subfield of the QoS Characteristics element indicates UL. An EHT AP should facilitate the transmission of direct link frames from the EHT STA to another STA on the link specified in the LinkID subfield of the Control Info field of the QoS Characteristics element with an interval that falls between the requested minimum and maximum service intervals.

The transmission of UL Data frames should be facilitated by using Basic Trigger frames or alternatively by using MU-RTS TXS Trigger frames if both EHT STAs have `dot11EHTXTSTFOptionImplemented` equal to true. The transmission of direct link frames should be facilitated by using MU-RTS TXS Trigger frames if both EHT STAs have set the TXS Mode 2 Support field in their transmitted EHT Capabilities elements to 1.

If the EHT STA is a TWT scheduled STA or TWT requesting STA (see 26.8) and there are negotiated TWT SPs, the EHT AP should ensure that the service intervals align with negotiated TWT wake intervals.

If the EHT STA is an R-TWT scheduled STA (see 35.8) and there are negotiated R-TWT SPs for the TID specified in the QoS Characteristics element in the same direction (UL or DL) as indicated by the Direction subfield in the QoS Characteristics element, then the EHT AP should use these R-TWT SPs to serve traffic corresponding to the TID and specified direction in the QoS Characteristics element. If negotiated R-TWT SPs for the TID specified in the QoS Characteristics element are trigger-enabled R-TWT SPs, then the EHT AP should ensure that the Trigger frames are scheduled at the start of the R-TWT SPs.

The EHT AP may discard a DL data frame if the lifetime of the frame has exceeded the value specified by the MSDU Lifetime field.

NOTE 1—A QoS Characteristics element provided by a non-AP EHT STA is used by a receiving EHT AP to facilitate the creation of a schedule for contention based channel access (EDCA) or MU operation. How the AP uses the information provided by the non-AP STA QoS Characteristics element that do not have corresponding normative requirements is beyond the scope of the standard.

NOTE 2—For periodic traffic, where a non-AP MLD sets the Minimum Service Interval field and Maximum Service Interval field to the same value, and where the exact period of the traffic cannot be exactly indicated by these fields (e.g., a period of 1/60 seconds cannot be expressed in integer multiple of microseconds), then the non-AP MLD might intermittently send a QoS Characteristics element with an updated service start time using the SCS Request frame (e.g., using the same SCSSID with the SCS Request Type set to “Change”).

If the requested SCS is accepted by an EHT AP MLD and the SCS Descriptor element either did not contain a QoS Characteristics element or contained a QoS Characteristics element in which the Direction subfield is equal to DL, the AP MLD shall process subsequent incoming individually addressed MSDUs from the DS or WM that match the TCLAS Elements field and optional TCLAS Processing Element field specified in the SCS Descriptor element as described in 11.25.2.

An SCS Response frame transmitted by an EHT AP that indicates "TCLAS\_PROCESSING\_TERMINATED" in the Status field of an SCS status duple shall not contain a QoS Characteristics element.

### 35.18 EHT MSCS procedure

The MSCS procedures, including setting up, updating of parameters and termination of an MSCS, classification of MSDUs addressed to a non-AP EHT STA, and setting the UP of those MSDUs, defined in 11.25.3 (MSCS procedures) are performed at the MLD level and apply to all the STAs affiliated with the MLD.

An MLD that implements the MSCS procedure shall have each STA affiliated with that MLD set dot11MSCSActivated to true, and shall indicate its capability by having each STA affiliated with that MLD set the Mirrored SCS field of the Extended Capabilities elements that the STA transmits to 1.

### 35.19 EHT link adaptation using ELA Control subfield

This subclause applies to frame exchange sequences that include PPDU's containing an HE variant HT Control field.

An EHT STA shall set the EHT Link Adaptation Support subfield, in the EHT MAC Capabilities Information field in the EHT Capabilities element it transmits to, the value of dot11EHTMCSFeedbackOptionImplemented.

A STA that supports EHT link adaptation using the ELA Control subfield shall set the EHT Link Adaptation Support subfield in the EHT MAC Capabilities Information field in the EHT Capabilities element to 2 or 3, depending on its own link adaptation feedback capability. A STA shall not send an MRQ to a STA that has not set the EHT Link Adaptation Support subfield to 3 in the EHT MAC Capabilities Information field in the EHT Capabilities element. A STA shall not send an unsolicited MFB in any frame that contains an ELA Control subfield to a STA that has not set the EHT Link Adaptation Support subfield to either 2 or 3 in the EHT MAC Capabilities Information field in the EHT Capabilities element.

The HLA/ELA subfield shall be set to 1 to indicate that the Control Information subfield is an ELA Control subfield and shall be set to 0 to indicate that the Control Information subfield is an HLA Control subfield.

The MFB requester may set the MRQ/UL EHT TB PPDU MFB subfield to 1 and Unsolicited MFB subfield to 0 in the ELA Control subfield of a frame to request a STA to provide link adaptation feedback. In each request, the MFB requester shall set the MSI field to a value ranging from 0 to 6. For the MFB requester, how to choose the MSI value is implementation dependent.

The appearance of more than one instance of an ELA Control subfield with the MRQ/UL EHT TB PPDU MFB subfield equal to 1 and Unsolicited MFB subfield equal to 0 within a single PPDU shall be interpreted by the receiver as a single request for link adaptation feedback.

The MFB requester shall specify the RU or MRU index and bandwidth requesting the link adaptation feedback.

On receipt of an ELA Control subfield with the MRQ/UL EHT TB PPDU MFB subfield equal to 1 and Unsolicited MFB subfield equal to 0, an MFB responder computes the EHT-MCS and  $N_{\text{SG}}$  of the RU or MRU and bandwidth specified in the MRQ, and these estimates are based on the same RU or MRU of the PPDU carrying the MRQ. The PPDU carrying MRQ shall include the RU or MRU requested for MFB. The MFB responder labels the result of this computation with the MSI value from the ELA Control subfield in the received frame carrying the MRQ. The MFB responder may include the received MSI value in the MSI

field of the corresponding response frame. In the case of a delayed response, this allows the MFB requester to associate the MFB with the soliciting MRQ.

An MFB responder that sends a solicited MFB shall set the Unsolicited MFB subfield to 0 and MRQ/UL EHT TB PPDU MFB subfield to 0 in the ELA Control subfield.

The STA receiving MFB may use the received MFB to compute the appropriate EHT-MCS and  $N_{SS}$ .

The MFB responder may send a solicited response frame with any of the following combinations of EHT-MCS,  $N_{SS}$ , and MSI:

- EHT-MCS = 15,  $N_{SS}$  = 7, MSI = 0–6: the responder will not provide feedback for the request that had the MSI value.
- EHT-MCS = valid value,  $N_{SS}$  = valid value, MSI = 0–6: the responder is providing feedback for the request that had the MSI value. The MSI value in the response frame matches the MSI value of the MRQ request.

A STA sending an unsolicited MFB using the ELA Control subfield shall set the Unsolicited MFB subfield to 1.

Unsolicited EHT-MCS,  $N_{SS}$ , bandwidth, and RU or MRU estimates reported in an ELA Control subfield sent by a STA are computed based on the most recent PPDU received by the STA that matches the description indicated by the PPDU format, Tx Beamforming, and Coding Type subfields in the same ELA Control subfield.

In an unsolicited MFB response, the PPDU Formats, Coding Type, and Tx Beamforming subfields are set according to the RXVECTOR parameters of the received PPDU from which the EHT-MCS, RU or MRU, bandwidth, and  $N_{SS}$  are estimated, as follows:

- The PPDU format subfield is set and encoded as follows:
  - 0 if the parameter FORMAT is equal to EHT\_MU
  - 1 if the parameter FORMAT is equal to EHT\_TB
- The Coding Type subfield is set to 0 if the parameter FEC\_CODING is equal to BCC\_CODING and set to 1 if that parameter is equal to LDPC\_CODING.
- The Tx Beamforming subfield is set to 1 if the parameter BEAMFORMED is equal to 1 and set to 0 if that parameter is equal to 0.
- The BW subfield shall indicate a bandwidth less than or equal to the bandwidth indicated by the parameter CH\_BANDWIDTH.
- The RU or MRU subfield and the PS160 subfield jointly indicate the RU or MRU at which the recommended EHT-MCS is applied. The recommended RU or MRU shall be within an RU or MRU or a bandwidth in which the received EHT PPDU is located.

For either a solicited or an unsolicited response, the recommended EHT-MCS and NSS subfields of the ELA Control subfield shall be selected from the EHT-MCS and  $N_{SS}$  set supported by the recipient STA.

The EHT-MCS subfield of ELA Control subfield is the recommended data rate, for given transmission properties carried in the RXVECTOR of the PPDU used for MFB estimation, which results in an estimated frame error rate of 10% or lower for an MPDU length of 3895 octets.

NOTE—Some EHT PPDU might not be able to carry 3895 octets due to PPDU duration limitations.

If the MFB requester sets the Unsolicited MFB subfield to 0 and the MRQ/UL EHT TB PPDU MFB subfield to 1 and sets the MSI subfield to a value that matches the MSI subfield value of a previous request for which the responder has not yet provided feedback, the responder shall discard or abandon the

computation for the MRQ that corresponds to the previous use of that MSI subfield value and start a new computation based on the new request.

A STA may respond immediately to a current request for MFB with a frame containing an MSI field value and NSS and EHT-MCS subfields that correspond to a request that precedes the current request.

A non-AP EHT STA may set the Unsolicited MFB subfield to 1 and the MRQ/UL EHT TB PPDU MFB to 1 in the ELA Control field it transmits to the AP to indicate that the  $N_{SS}$ , EHT-MCS, bandwidth, and RU allocation in the ELA Control field represent the recommended MFB for subsequent EHT TB PPDU(s) sent by the STA that is issuing this recommendation. The AP should not exceed the recommended RU or MRU size indicated in the most recently received RU Allocation and PS160 subfield of the ELA Control field when it sends a triggering frame addressed to the STA.

### 35.20 EHT TWT operation

An EHT TWT STA shall follow the rules described in 26.8 and 10.46.1, except that within trigger-enabled SPs, the Trigger frame may be an MU-RTS TXS Trigger frame with response rules defined in 35.2.1.2.

## 36. Extremely high throughput (EHT) PHY specification

### 36.1 Introduction

#### 36.1.1 Introduction to the EHT PHY

Clause 36 specifies the PHY entity for an extremely high throughput (EHT) orthogonal frequency division multiplexing (OFDM) system. In addition to the requirements in Clause 36, an EHT STA shall be capable of transmitting and receiving PPDU s that are compliant with the mandatory requirements of Clause 27, which specifies support of the mandatory requirements of Clause 17, Clause 19, and Clause 21.

For 2.4 GHz band operation, the EHT PHY is based on HE PHY defined in Clause 27, which is based on the HT PHY defined in Clause 19, which is based on the OFDM PHY defined in Clause 17 and Clause 18.

For 5 GHz band operation, the EHT PHY is based on the HE PHY defined in Clause 27, which is based on the VHT PHY defined in Clause 21, which is based on the HT PHY defined in Clause 19, which is based on the OFDM PHY defined in Clause 17.

For 6 GHz band operation, the EHT PHY is based on HE PHY defined in Clause 27, which is based on the OFDM PHY defined in Clause 17.

The EHT PHY provides support for DL OFDMA, UL OFDMA, DL MU-MIMO, and UL MU-MIMO. Both DL MU-MIMO and UL MU-MIMO transmissions are supported on both the entire PPDU bandwidth and portions of the PPDU bandwidth, with the assigned resource unit of size greater than or equal to 242 tones. On a resource unit utilizing MU-MIMO transmission, there is support for up to 8 users with up to 4 spatial streams per user with the total number of spatial streams across all users not exceeding 8. The EHT PHY also supports preamble puncturing of an EHT MU PPDU for both OFDMA and non-OFDMA.

The EHT PHY defines RUs comprising of 26, 52, 106, 242, 484, 996, 2×996 or 4×996 tones in 36.3.2.1, and MRUs comprising two or more RUs in certain combinations in 36.3.2.2. The EHT PHY provides support of an MRU assigned to a single STA.

The EHT PHY provides support for 0.8  $\mu$ s, 1.6  $\mu$ s, and 3.2  $\mu$ s guard interval durations.

The EHT PHY provides support for 3.2  $\mu$ s (1 $\times$ ), 6.4  $\mu$ s (2 $\times$ ), and 12.8  $\mu$ s (4 $\times$ ) EHT-LTF symbol durations, excluding the GI duration.

The EHT PHY supports a symbol duration, excluding GI, a DFT period of 3.2  $\mu$ s for the pre-EHT modulated fields and 12.8  $\mu$ s for the Data field in an EHT PPDU.

The EHT PHY data subcarrier frequency spacing is the same as the HE PHY data subcarrier frequency spacing, which is a quarter of the VHT PHY and HT PHY data subcarrier frequency spacing.

The EHT PHY data subcarriers are modulated using BPSK, BPSK-DCM (EHT-MCS 15), QPSK, 16-QAM, 64-QAM, 256-QAM, 1024-QAM, and 4096-QAM (EHT-MCS 12 and 13). EHT-MCS 15 is only used in single spatial stream non-MU-MIMO transmission. The EHT PHY introduces EHT DUP mode for an EHT SU transmission with single spatial stream and LDPC coding using BPSK-DCM in the 6 GHz band as EHT-MCS 14. FEC coding (convolutional or LDPC coding) is used with coding rates of 1/2, 2/3, 3/4, and 5/6.

An EHT STA shall support the following features:

- EHT SU transmission and its reception.

- BCC coding (transmit and receive): BCC coding is only supported for EHT PPDU where all of the following conditions are satisfied:
  - The user is assigned an RU or MRU whose size is less than or equal to 242 tones.
  - The number of spatial streams assigned to the user is less than or equal to 4.
  - The user is assigned one of the EHT-MCSs 0–9, 15 within its supported MCS set.
- LDPC coding (transmit and receive) in all supported EHT PPDU types, RU and MRU sizes, and number of spatial streams if a STA satisfies any of the following conditions:
  - The STA declares support for transmitting and receiving in channel bandwidths greater than 20 MHz.
  - The STA declares support for transmitting or receiving more than 4 spatial streams.
  - The STA declares support for transmitting and receiving using at least one of EHT-MCSs 10, 11, 12, 13, and 14.
- Single spatial stream EHT-MCSs 0 to 7 (transmit and receive) in all supported channel widths and RU and MRU sizes of EHT PPDU.
- Single spatial stream EHT-MCSs 8 and 9 (transmit and receive) in all supported channel widths and RU and MRU sizes of EHT PPDU if the STA is not a 20 MHz-only non-AP STA.
- EHT-MCS 15 (transmit and receive) for
  - 26-, 52-, 106-, and 242-tone RU for 20 MHz-only non-AP STA
  - 26-, 52-, 106-, 242-, 484-, and 996-tone RU if the STA declares support for larger than or equal to 80 MHz PPDU
  - 2×996-tone RU if the STA declares support for larger than or equal to 160 MHz PPDU
  - 4×996-tone RU if the STA declares support for 320 MHz PPDU
- Reception of the EHT-SIG field in an EHT MU PPDU at EHT-MCS 0, 1, 3, and 15.
- EHT MU PPDU with a 2× EHT-LTF and 0.8  $\mu$ s GI duration on the EHT-LTF and Data field OFDM symbols.
- EHT MU PPDU with a 2× EHT-LTF and 1.6  $\mu$ s GI duration on the EHT-LTF and Data field OFDM symbols.
- EHT MU PPDU with a 4× EHT-LTF and 3.2  $\mu$ s GI duration on the EHT-LTF and Data field OFDM symbols.
- EHT TB PPDU with a 1× EHT-LTF and 1.6  $\mu$ s GI duration on the EHT-LTF and Data field OFDM symbols.
- EHT TB PPDU with a 2× EHT-LTF and 1.6  $\mu$ s GI duration on the EHT-LTF and Data field OFDM symbols.
- EHT TB PPDU with a 4× EHT-LTF and 3.2  $\mu$ s GI duration on the EHT-LTF and Data field OFDM symbols.
- Transmission and reception using 40 MHz and 80 MHz channel widths and all RU and MRU sizes and locations applicable to the 40 MHz and 80 MHz channel widths, respectively, in the 5 GHz and 6 GHz bands if the STA is not a 20 MHz-only non-AP STA.
- Transmission and reception using 20 MHz channel width and all RU and MRU sizes and locations applicable to the 20 MHz channel width in the 2.4 GHz, 5 GHz, and 6 GHz bands except for a 20 MHz-only non-AP STA with 20 MHz-Only Limited Capabilities Support subfield in EHT Capabilities Information field (see 9.4.2.323.3) equal to 1.
- Transmission and reception using 20 MHz channel width and all RU sizes and locations applicable to the 20 MHz channel width in the 2.4 GHz, 5 GHz, and 6 GHz bands if the STA is a 20 MHz-only non-AP STA with 20 MHz-Only Limited Capabilities Support subfield in EHT Capabilities Information field (see 9.4.2.323.3) equal to 1.
- Transmission and reception of a non-OFDMA EHT MU PPDU with any preamble puncturing pattern listed in Table 36-30 for the PPDU bandwidth supported by the STA.

An EHT STA may support the following features:

- EHT-MCSs 8 to 13 (transmit and receive) if the STA is a 20 MHz-only non-AP STA and EHT-MCSs 10 to 13 (transmit and receive) if the STA is not a 20 MHz-only non-AP STA.
- EHT-MCS 14 (transmit and receive) in the 6 GHz nonpunctured 80 MHz, 160 MHz, and 320 MHz EHT SU transmissions, if the STA declares support for 80 MHz, 160 MHz, and 320 MHz PPDU, respectively.
- Single spatial stream EHT-MCS 15 (transmit and receive) in 52+26-, 106+26-, 484+242-, 996+484-, 996+484+242-, and 3×996-tone MRUs.

NOTE—EHT-MCS 15 is not defined for 2×996+484- and 3×996+484-tone MRUs.

- 2 to 8 spatial streams (transmit and receive).
- EHT MU PPDU with a 4× EHT-LTF and 0.8  $\mu$ s GI duration on the EHT-LTF and Data field OFDM symbols.
- 40 MHz channel width and all applicable RU and MRU sizes larger than 242 tones within 40 MHz PPDU in the 2.4 GHz band (transmit and receive).
- 160 MHz channel width and all applicable RU and MRU sizes larger than 996 tones within 160 MHz PPDU in the 5 GHz band (transmit and receive).
- 320 MHz channel width and all applicable RU and MRU sizes larger than 996 tones within 320 MHz PPDU in the 6 GHz band (transmit and receive).

An EHT AP shall support the following features:

- OFDMA transmission of an EHT MU PPDU where none of the RU(s) or MRU(s) utilize MU-MIMO (DL OFDMA).
- Reception of an EHT TB PPDU where none of the RU(s) or MRU(s) utilize MU-MIMO (UL OFDMA).
- Transmission of a non-OFDMA EHT MU PPDU utilizing MU-MIMO if the AP is capable of transmitting 4 or more spatial streams.
- Reception of a non-OFDMA EHT TB PPDU utilizing MU-MIMO (UL MU-MIMO) if the AP is capable of receiving 4 or more spatial streams.
- 160 MHz channel width and all RU and MRU sizes and locations applicable to the 160 MHz channel width in the 6 GHz band (transmit and receive).
- Transmission of an OFDMA EHT MU PPDU with any preamble puncturing pattern listed in Table 36-30 for the PPDU bandwidth supported by the AP.

An EHT AP may support the following features:

- Transmission of a non-OFDMA EHT MU PPDU utilizing MU-MIMO (DL MU-MIMO) when the AP is not capable of transmitting equal to or more than 4 spatial streams.
- MU-MIMO transmission on an RU or MRU in an EHT MU PPDU where there are multiple RU(s) or MRU(s) in the entire PPDU bandwidth (DL MU-MIMO within OFDMA).
- Reception of a non-OFDMA EHT TB PPDU using MU-MIMO (UL MU-MIMO) when the AP is not capable of receiving equal to or more than 4 spatial streams.
- MU-MIMO reception on an RU or MRU in an EHT TB PPDU that consists of multiple RU(s) or MRU(s) in the entire PPDU bandwidth (UL MU-MIMO within OFDMA).
- Transmission of an OFDMA EHT MU PPDU with any preamble puncturing pattern as specified in 36.3.12.11.2 excluding those preamble puncturing patterns listed in Table 36-30.
- Full bandwidth and partial bandwidth sounding as defined in 35.7.2.
- 320 MHz channel width and all applicable RU and MRU sizes larger than 2×996 tones within 320 MHz PPDU in the 6 GHz band (transmit and receive).

A non-AP EHT STA shall support the following features:

- Reception of an EHT MU PPDU where there are multiple RUs or MRUs and the RU allocated to the non-AP STA is not utilizing MU-MIMO (DL OFDMA).
- Reception of an EHT MU PPDU where there are multiple RUs or MRUs and the MRU allocated to the non-AP STA is not utilizing MU-MIMO (DL OFDMA), except for a 20 MHz-only non-AP STA with 20 MHz-Only Limited Capabilities Support subfield equal to 1.
- Transmission of an EHT TB PPDU where there are multiple RUs or MRUs and the RU allocated to the non-AP STA is not utilizing MU-MIMO (UL OFDMA).
- Transmission of an EHT TB PPDU where there are multiple RUs or MRUs and the MRU allocated to the non-AP STA is not utilizing MU-MIMO (UL OFDMA), except for a 20 MHz-only non-AP STA with 20 MHz-Only Limited Capabilities Support subfield equal to 1.
- Reception of a non-OFDMA EHT MU PPDU utilizing MU-MIMO (DL MU-MIMO) in the supported bandwidth with a maximum total number of spatial streams across all users of at least 4, except for a 20 MHz-only non-AP STA with 20 MHz-Only Limited Capabilities Support subfield equal to 1. The maximum number of spatial streams a non-AP STA can receive from its assignment in the DL MU-MIMO transmission shall be equal to  $\min(n, 4)$ , where  $n$  is the maximum number of spatial streams supported by the non-AP STA for reception of a non-OFDMA EHT MU PPDU sent to that single non-AP STA.
- MU-MIMO transmission in a non-OFDMA EHT TB PPDU (UL MU-MIMO), except for a 20 MHz-only non-AP STA with 20 MHz-Only Limited Capabilities Support subfield equal to 1. The non-AP EHT STA shall support transmitting UL MU-MIMO where the total spatial streams summed across all users is less than or equal to 8.
- Responding with requested beamforming feedback in an EHT sounding procedure with at least 4 spatial streams in the EHT sounding NDP, except for a 20 MHz-only non-AP STA with 20 MHz-Only Limited Capabilities Support subfield equal to 1.
- Reception of 160 MHz EHT sounding NDP in the 5 GHz and 6 GHz bands if the non-AP EHT STA's operating channel width is 80 MHz.
- Reception of 320 MHz EHT sounding NDP in the 6 GHz band if the non-AP EHT STA's operating channel width is 80 MHz or 160 MHz.
- Reception of a 160 MHz EHT MU PPDU, or transmission of a 160 MHz EHT TB PPDU in the 5 GHz and 6 GHz bands where the assigned RU or MRU is in the primary 80 MHz channel if the non-AP EHT STA is operating with 80 MHz channel width.
- Reception of a 320 MHz EHT MU PPDU, or transmission of a 320 MHz EHT TB PPDU in the 6 GHz band where the assigned RU or MRU is in the primary 80 MHz channel if the non-AP EHT STA is operating with 80 MHz channel width.
- Reception of a 320 MHz EHT MU PPDU, or transmission of a 320 MHz EHT TB PPDU in the 6 GHz band where the assigned RU or MRU is in the primary 160 MHz channel if the non-AP EHT STA is operating with 160 MHz channel width.
- Full bandwidth sounding as defined in 35.7.2.
- Reception of an OFDMA EHT MU PPDU with any preamble puncturing pattern as specified in 36.3.12.11.2.

A non-AP EHT STA may support the following:

- 160 MHz and 320 MHz channel widths and all applicable RU and MRU size larger than 996 tones within its PPDU in the 6 GHz band (transmit and receive).
- MU-MIMO reception on an RU or MRU in an EHT MU PPDU that consists of multiple RUs and/or MRUs (DL MU-MIMO within OFDMA) with a maximum total number of spatial streams (across all users) of at least 4. The maximum number of spatial streams a non-AP STA can receive from its assignment in the DL MU-MIMO within OFDMA transmission shall be  $\min(n, 4)$  where  $n$  is the

maximum number of spatial streams supported by the non-AP STA for reception of non-OFDMA EHT MU PPDU sent to that single non-AP STA.

- Reception of a 160 MHz EHT MU PPDU, or transmission of a 160 MHz EHT TB PPDU in the 5 GHz and 6 GHz bands where the assigned RU or MRU is in the secondary 80 MHz channel if the non-AP EHT STA is operating with 80 MHz channel width and supports the HE subchannel selective transmission operation described in 26.8.7 (HE subchannel selective transmission).
- Reception of a 320 MHz EHT MU PPDU, or transmission of a 320 MHz EHT TB PPDU in the 6 GHz bands where the assigned RU or MRU is in the secondary 80 MHz channel if the non-AP EHT STA is operating with 80 MHz channel width and supports the HE subchannel selective transmission operation described in 26.8.7 (HE subchannel selective transmission).
- MU-MIMO transmission on an RU or MRU in an EHT TB PPDU that consists of multiple RUs and/or MRUs in the entire PPDU bandwidth (UL MU-MIMO within OFDMA). If supported, then the non-AP EHT STA shall support transmitting UL MU-MIMO where the total spatial streams summed across all users is less than or equal to 8.
- Partial bandwidth sounding as defined in 35.7.2.

A 20 MHz operating non-AP EHT STA shall support the following:

- 26-, 52-, and 106-tone RU sizes on locations allowed in 36.3.2.6 in the primary 20 MHz channel within 40 MHz PPDU in the 2.4 GHz band, and 40 MHz, 80 MHz, and 160 MHz PPDU in the 5 GHz and 6 GHz bands, and 320 MHz PPDU in the 6 GHz band.
- 52+26 tone MRU size on locations allowed in 36.3.2.6 in the primary 20 MHz channel within 40 MHz PPDU in the 2.4 GHz band, and 40 MHz, 80 MHz, and 160 MHz PPDU in the 5 GHz and 6 GHz bands, and 320 MHz PPDU in the 6 GHz band, except for a 20 MHz-only non-AP STA with 20 MHz-Only Limited Capabilities Support subfield set to 1.

A 20 MHz operating non-AP EHT STA may support the following:

- Reception of 40 MHz EHT sounding NDP in the 2.4 GHz, 5 GHz, and 6 GHz bands.
- Reception of 80 MHz and 160 MHz EHT sounding NDP in the 5 GHz and 6 GHz bands.
- Reception of 242-tone RU in the primary 20 MHz channel within 40 MHz PPDU in the 2.4 GHz band, and 40 MHz, 80 MHz, and 160 MHz PPDU in the 5 GHz and 6 GHz bands, and 320 MHz PPDU in the 6 GHz band.
- 26-, 52-, 106-, and 242-tone RU sizes and 52+26-tone MRU size on locations allowed in 36.3.2.6 in any 20 MHz channel except the primary 20 MHz within 40 MHz channel width in the 2.4 GHz band if the 20 MHz operating non-AP EHT STA supports the HE subchannel selective transmission operation described in 26.8.7 (HE subchannel selective transmission).
- 26-, 52-, 106-, and 242-tone RU sizes and 52+26-tone MRU size on locations allowed in 36.3.2.6 in any 20 MHz channel except the primary 20 MHz within 40 MHz, 80 MHz, and 160 MHz PPDU widths in the 5 GHz and 6 GHz bands if the 20 MHz operating non-AP EHT STA supports the HE subchannel selective transmission operation described in 26.8.7 (HE subchannel selective transmission).
- 26-, 52-, 106-, and 242-tone RU sizes and 52+26-tone MRU size on locations allowed in 36.3.2.6 in any 20 MHz channel except the primary 20 MHz within the primary 160 MHz for a 320 MHz PPDU in the 6 GHz band if the 20 MHz operating non-AP EHT STA supports the HE subchannel selective transmission operation described in 26.8.7 (HE subchannel selective transmission).
- LDPC coding if the maximum number of spatial streams the STA is capable of transmitting or receiving in an EHT MU PPDU is less than or equal to 4, and the non-AP STA is a 20 MHz only non-AP STA that does not support any of EHT-MCS 10, 11, 12 or 13.

A 20 MHz-only non-AP EHT STA with 20 MHz-Only Limited Capabilities Support subfield equal to 1 may support the following:

- 52+26-tone MRU size on locations allowed in 36.3.2.6.
- Reception of a non-OFDMA EHT MU PPDU utilizing MU-MIMO (DL MU-MIMO) in the supported bandwidth with a maximum total number of spatial streams across all users of at least 4. The maximum number of spatial streams a non-AP STA can receive from its assignment in the DL MU-MIMO transmission shall be equal to  $\min(n, 4)$ , where  $n$  is the maximum number of spatial streams supported by the non-AP STA for reception of a non-OFDMA EHT MU PPDU sent to that single non-AP STA.
- Reception of an EHT MU PPDU where there are multiple RUs or MRUs and the MRU allocated to the non-AP STA is not utilizing MU-MIMO (DL OFDMA).
- Transmission of an EHT TB PPDU where there are multiple RUs or MRUs and the MRU allocated to the non-AP STA is not utilizing MU-MIMO (UL OFDMA).
- MU-MIMO transmission in a non-OFDMA EHT TB PPDU (UL MU-MIMO). If supported,
  - The non-AP EHT STA shall support transmitting UL MU-MIMO where the total spatial streams summed across all users is less than or equal to 8.
- Triggered MU beamforming full bandwidth feedback.
- SU beamforming, if SU Beamformee subfield in the EHT PHY Capabilities information field is set to 1.

### 36.1.2 Scope

The services provided to the MAC by the EHT PHY consist of the following protocol functions:

1. A function that maps the PSDU received from the MAC into a PPDU for transmission to one or more receiving STAs.
2. A function that defines the characteristics and method of transmitting and receiving data through a wireless medium between two or more STAs. Depending on the PPDU format, these STAs support a mixture of EHT, Clause 27, Clause 21, Clause 19, Clause 18, Clause 17, Clause 16, and Clause 15 PHYs.

### 36.1.3 EHT PHY functions

#### 36.1.3.1 General

The EHT PHY contains two functional entities: the PHY function, and the physical layer management function (i.e., the PLME). These functions are described in detail in 36.3 and 36.4. The EHT PHY service is provided to the MAC through the PHY service primitives defined in Clause 8. The EHT PHY service interface is described in 36.2.

#### 36.1.3.2 PHY management entity (PLME)

The PLME performs management of the local PHY functions in conjunction with the MLME.

#### 36.1.3.3 Service specification method

The models represented by figures and state diagrams are intended to be illustrations of the functions provided. It is important to distinguish between a model and a real implementation. The models are optimized for simplicity and clarity of presentation.

The service of a layer is the set of capabilities that it offers to a user in the next higher layer. Abstract services are specified here by describing the service primitives and parameters that characterize each service. This definition is independent of any particular implementation.

### 36.1.4 PPDU formats

The structure of the PPDU transmitted by an EHT STA is determined by the TXVECTOR parameters as defined in Table 36-1.

The FORMAT parameter determines the overall structure of the PPDU and can take on one of the following values:

- Non-HT format (NON\_HT), based on Clause 17 or Clause 18, and including non-HT duplicate format based on 36.3.15.
- HT-mixed format (HT\_MF) as specified in Clause 19.
- HT-greenfield format (HT\_GF) as specified in Clause 19.
- VHT format (VHT) as defined in Clause 21.
- HE SU PPDU format (HE\_SU) as defined in Clause 27.
- HE ER SU format (HE\_ER\_SU) as defined in Clause 27.
- HE MU PPDU format (HE\_MU) as defined in Clause 27.
- HE TB PPDU format (HE\_TB) as defined in Clause 27.
- EHT MU PPDU format (EHT\_MU) carries one or more PSDUs to one or more users as defined in 36.3.4.
- EHT TB PPDU format (EHT\_TB) carries a single PSDU and is sent in response to a PPDU that carries a triggering frame as defined in 36.3.4.

## 36.2 EHT PHY service interface

### 36.2.1 Introduction

The EHT PHY provides an interface to the EHT MAC through an extension of the generic PHY service interface defined in 8.3.4

The interface includes TXVECTOR, RXVECTOR, PHYCONFIG\_VECTOR, and TRIGVECTOR.

The EHT MAC uses the TXVECTOR to supply the EHT PHY with per-PPDU transmit parameters. The EHT PHY uses the RXVECTOR to inform the EHT MAC of the received PPDU parameters. The EHT MAC uses the PHYCONFIG\_VECTOR to configure the EHT PHY for operation that is independent of PPDU transmission or reception. The EHT MAC uses the TRIGVECTOR to configure the EHT PHY to receive EHT TB PPDU over each assigned RU or MRU.

### 36.2.2 TXVECTOR and RXVECTOR parameters

The parameters in Table 36-1 are defined as part of the TXVECTOR parameter list in the PHY-TXSTART.request primitive for PPDU transmitting and/or as part of the RXVECTOR parameter list in the PHY-RXSTART.indication and PHY-RXEND.indication primitives for PPDU receiving. An EHT STA may receive a PPDU that contains the L-STF, L-LTF, L-SIG, RL-SIG, and U-SIG fields, but has a PHY Version Identifier field in the U-SIG field other than 0. In such cases, for forward compatibility, it shall still report the information from the version independent fields in the U-SIG field within the RXVECTOR. A value of PHY\_VER\_UNKNOWN is defined in the RXVECTOR parameter FORMAT to indicate such a PPDU format. When the RXVECTOR parameter FORMAT is PHY\_VER\_UNKNOWN, the RXVECTOR contains only six parameters – FORMAT, RSSI\_LEGacy, CH\_BANDWIDTH, TXOP\_DURATION, BSS\_COLOR, and UPLINK\_FLAG.

Table 36-1—TXVECTOR and RXVECTOR parameters

| Parameter | Condition | Value                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | TXVECTOR                              | RXVECTOR |  |  |
|-----------|-----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|----------|--|--|
| FORMAT    |           | Determines the format of the PPDU. Enumerated type:<br>NON_HT indicates Clause 15, Clause 16, Clause 17, Clause 18, or non-HT duplicate PPDU format. In this case, the modulation is determined by the NON_HT_MODULATION parameter defined in Table 19-1 (TXVECTOR and RXVECTOR parameters).<br>HT_MF indicates HT-mixed format.<br>HT_GF indicates HT-greenfield format.<br>VHT indicates VHT format.<br>HE_SU indicates HE SU PPDU format.<br>HE_MU indicates HE MU PPDU format.<br>HE_ER_SU indicates HE ER SU PPDU format.<br>HE_TB indicates HE TB PPDU format.<br>EHT_MU indicates EHT MU PPDU format.<br>EHT_TB indicates EHT TB PPDU format.<br>PHY_VER_UNKNOWN indicates a PPDU format that contains the L-STF, L-LTF, L-SIG, RL-SIG and U-SIG fields, and has the PHY Version Identifier field in the U-SIG field set to a Validate value. Refer to Table 36-28 and Table 36-31.<br>The enumerated type PHY_VER_UNKNOWN is not used in the TXVECTOR. | Y                                     | Y        |  |  |
|           |           | Set to 0 to indicate a DL OFDMA transmission (including non-MU-MIMO and MU-MIMO).<br>Set to 1 to indicate an EHT SU transmission or EHT sounding NDP not addressed to an AP.<br>Set to 2 to indicate a DL MU-MIMO (non-OFDMA) transmission.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Y                                     | Y        |  |  |
|           |           | Set to 1 to indicate an EHT SU transmission or EHT sounding NDP addressed to an AP.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | Y                                     | Y        |  |  |
|           |           | Set to 0.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | O                                     | O        |  |  |
|           |           | Otherwise                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | Not present.                          |          |  |  |
|           |           | EHT_PPDU_TYPE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | FORMAT is EHT_MU and UPLINK_FLAG is 0 |          |  |  |
|           |           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | FORMAT is EHT_MU and UPLINK_FLAG is 1 |          |  |  |
|           |           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | FORMAT is EHT_TB                      |          |  |  |

Table 36-1—TXVECTOR and RXVECTOR parameters (continued)

| Parameter     | Condition                            | Value                                                                                                                                                                                                                                                                                                                         | TXVECTOR | RXVECTOR |
|---------------|--------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|----------|
| L_LENGTH      | FORMAT is EHT_MU                     | Not present.<br>NOTE—The LENGTH field of the L-SIG field for EHT MU PPDU is defined in Equation (36-17) using the TXTIME value defined in 36.4.3, which in turn depend on other parameters including the TXVECTOR parameter APEP_LENGTH.                                                                                      | N        | N        |
|               | FORMAT is EHT_TB                     | Indicates the value used to calculate the LENGTH field of the L-SIG field. See 36.3.12.5 for details.<br>The value of this parameter comes from the triggering frame to which the EHT TB PPDU is the response (see 9.3.1.22.2 for details).                                                                                   | Y        | N        |
|               | FORMAT is PHY_VER_UNKNOWN            | Not present.                                                                                                                                                                                                                                                                                                                  |          |          |
|               | Otherwise                            | See corresponding entry in Table 19-1 (TXVECTOR and RXVECTOR parameters), Table 21-1 (TXVECTOR and RXVECTOR parameters), or Table 27-1 (TXVECTOR and RXVECTOR parameters).                                                                                                                                                    |          |          |
| N_TX          | FORMAT is EHT_MU or EHT_TB           | Indicates the number of transmit chains.                                                                                                                                                                                                                                                                                      | Y        | N        |
|               | FORMAT is PHY_VER_UNKNOWN            | Not present.                                                                                                                                                                                                                                                                                                                  |          |          |
| EXPANSION_MAT | FORMAT is EHT_MU and APEP_LENGTH > 0 | For each user, contains a vector in the number of all the subcarriers in an RU or MRU that is assigned to this user. The vector for each subcarrier contains feedback matrices as defined in 36.3.17.2 based on the channel measured during the training symbols of previous EHT sounding NDPs, HE sounding NDPs or VHT NDPs. | MU       | N        |
|               | FORMAT is EHT_TB                     | Contains a vector in the number of all the subcarriers in an RU or MRU that is assigned to this user. The vector for each subcarrier contains feedback matrices as defined in 36.3.17.2 based on the channel measured during the training symbols of previous EHT sounding NDPs, HE sounding NDPs or VHT NDPs.                | O        | N        |
|               | FORMAT is PHY_VER_UNKNOWN            | Not present.                                                                                                                                                                                                                                                                                                                  |          |          |
|               | Otherwise                            | See corresponding entry in Table 21-1 (TXVECTOR and RXVECTOR parameters) or Table 27-1 (TXVECTOR and RXVECTOR parameters).                                                                                                                                                                                                    |          |          |

Table 36-1—TXVECTOR and RXVECTOR parameters (continued)

| Parameter   | Condition                                                                                             | Value                                                                                                                                                                                                                                                                                             | TXVECTOR | RXVECTOR |
|-------------|-------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|----------|
| CHAN_MAT    | FORMAT is EHT_MU and PSDU_LENGTH is 0                                                                 | Contains a vector in the number of selected subcarriers containing feedback matrices as defined in 36.3.17.2 based on the channel measured during the training symbols of the currently received EHT sounding NDP.                                                                                | N        | Y        |
|             | FORMAT is EHT_TB, or FORMAT is EHT_MU and PSDU_LENGTH is greater than 0, or FORMAT is PHY_VER_UNKNOWN | Not present.                                                                                                                                                                                                                                                                                      |          |          |
|             | Otherwise                                                                                             | See corresponding entry in Table 21-1 (TXVECTOR and RXVECTOR parameters) or Table 27-1 (TXVECTOR and RXVECTOR parameters).                                                                                                                                                                        |          |          |
| DELTA_SNR   | FORMAT is EHT_MU and PSDU_LENGTH is 0                                                                 | Contains an array of delta SNR values as defined in 9.4.1.74 based on the channel measured during the training symbols of the currently received EHT sounding NDP.                                                                                                                                | N        | Y        |
|             | FORMAT is EHT_TB, or FORMAT is EHT_MU and PSDU_LENGTH is greater than 0, or FORMAT is PHY_VER_UNKNOWN | Not present.                                                                                                                                                                                                                                                                                      |          |          |
| NO_SIG_EXTN | FORMAT is EHT_MU or EHT_TB                                                                            | Indicates whether signal extension needs to be applied at the end of transmission.<br>Boolean:<br>true indicates that no signal extension is present.<br>false indicates that a signal extension is present.                                                                                      | Y        | N        |
|             | FORMAT is PHY_VER_UNKNOWN                                                                             | Not present.                                                                                                                                                                                                                                                                                      |          |          |
|             | Otherwise                                                                                             | See corresponding entry in Table 21-1 (TXVECTOR and RXVECTOR parameters) or Table 27-1 (TXVECTOR and RXVECTOR parameters).                                                                                                                                                                        |          |          |
| SNR         | FORMAT is EHT_MU and PSDU_LENGTH is 0                                                                 | Contains an array of average values of received SNR measurements for each spatial stream, where each average SNR value is the arithmetic mean of the per-subcarrier SNR in decibels in the corresponding spatial stream as described in 9.4.1.73. The average SNR values of 8 bits are supported. | N        | Y        |
|             | FORMAT is EHT_TB, or FORMAT is EHT_MU and PSDU_LENGTH is greater than 0, or FORMAT is PHY_VER_UNKNOWN | Not present.                                                                                                                                                                                                                                                                                      |          |          |
|             | Otherwise                                                                                             | See corresponding entry in Table 19-1 (TXVECTOR and RXVECTOR parameters), Table 21-1 (TXVECTOR and RXVECTOR parameters), or Table 27-1 (TXVECTOR and RXVECTOR parameters).                                                                                                                        |          |          |

Table 36-1—TXVECTOR and RXVECTOR parameters (continued)

| Parameter         | Condition                                                                                             | Value                                                                                                                                                                                                                                                        | TXVECTOR | RXVECTOR |
|-------------------|-------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|----------|
| CQI               | FORMAT is EHT_MU and PSDU_LENGTH is 0                                                                 | Contains an array of received per-RU average SNRs for each spatial stream, where each per-RU average SNR is the arithmetic mean of the SNR in decibels over a 26-tone RU as described in 9.4.1.75.                                                           | N        | Y        |
|                   | FORMAT is EHT_TB, or FORMAT is EHT_MU and PSDU_LENGTH is greater than 0, or FORMAT is PHY_VER_UNKNOWN | Not present.                                                                                                                                                                                                                                                 |          |          |
|                   | Otherwise                                                                                             | See corresponding entry in Table 27-1 (TXVECTOR and RXVECTOR parameters).                                                                                                                                                                                    |          |          |
| GI_TYPE           | FORMAT is EHT_MU or EHT_TB                                                                            | Indicates the length of the GI for the EHT-LTF and Data fields. Enumerated type:<br>0u8s_GI indicates 0.8 $\mu$ s.<br>1u6s_GI indicates 1.6 $\mu$ s.<br>3u2s_GI indicates 3.2 $\mu$ s.<br>NOTE—The length of GI for pre-EHT modulated fields is 0.8 $\mu$ s. | Y        | Y        |
|                   | FORMAT is PHY_VER_UNKNOWN                                                                             | Not present.                                                                                                                                                                                                                                                 |          |          |
|                   | Otherwise                                                                                             | See corresponding entry in Table 21-1 (TXVECTOR and RXVECTOR parameters) or Table 27-1 (TXVECTOR and RXVECTOR parameters).                                                                                                                                   |          |          |
| FEC_CODING        | FORMAT is EHT_MU or EHT_TB                                                                            | Indicates the FEC encoding used. Enumerated type:<br>BCC_CODING indicates BCC coding.<br>LDPC_CODING indicates LDPC coding.                                                                                                                                  | MU       | MU       |
|                   | FORMAT is PHY_VER_UNKNOWN                                                                             | Not present.                                                                                                                                                                                                                                                 |          |          |
|                   | Otherwise                                                                                             | See corresponding entry in Table 21-1 (TXVECTOR and RXVECTOR parameters) or Table 27-1 (TXVECTOR and RXVECTOR parameters).                                                                                                                                   |          |          |
| LDPC_EXTRA_SYMBOL | FORMAT is EHT_TB                                                                                      | Indicates the presence of the LDPC extra symbol segment in an EHT TB PPDU. Integer:<br>1 indicates that an LDPC extra symbol segment is present.<br>0 indicates that an LDPC extra symbol segment is not present.                                            | Y        | N        |
|                   | FORMAT is EHT_MU or PHY_VER_UNKNOWN                                                                   | Not present.                                                                                                                                                                                                                                                 |          |          |
|                   | Otherwise                                                                                             | See corresponding entry in Table 27-1 (TXVECTOR and RXVECTOR parameters).                                                                                                                                                                                    |          |          |

Table 36-1—TXVECTOR and RXVECTOR parameters (continued)

| Parameter         | Condition                  | Value                                                                                                                                                                                                                                                                                                                                                                                                            | TXVECTOR | RXVECTOR |
|-------------------|----------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|----------|
| TXPWR_LEVEL_INDEX | FORMAT is EHT_MU or EHT_TB | The allowed values for the TXPWR_LEVEL_INDEX parameter are in the range 1 to $N/2$ , where $N$ is the number of octets in dot11TxPowerLevelExtended. This parameter is used to indicate which of the available transmit power levels defined in dot11TxPowerLevelExtended shall be used for the current transmission.                                                                                            | Y        | N        |
|                   | FORMAT is PHY_VER_UNKNOWN  | Not present.                                                                                                                                                                                                                                                                                                                                                                                                     |          |          |
|                   | Otherwise                  | See corresponding entry in Table 21-1 (TXVECTOR and RXVECTOR parameters) or Table 27-1 (TXVECTOR and RXVECTOR parameters).                                                                                                                                                                                                                                                                                       |          |          |
| RSSI              | FORMAT is EHT_MU or EHT_TB | The allowed values for the RSSI parameter are in the range 0 to 255 inclusive. This parameter is a measurement by the PHY of the power observed at the antennas used to receive the current PPDU measured during the reception of the EHT-LTF field. RSSI is intended to be used in a relative manner, and it is a monotonically increasing function of the received power.                                      | N        | Y        |
|                   | FORMAT is PHY_VER_UNKNOWN  | Not present.                                                                                                                                                                                                                                                                                                                                                                                                     |          |          |
|                   | Otherwise                  | See corresponding entry in Table 21-1 (TXVECTOR and RXVECTOR parameters) or Table 27-1 (TXVECTOR and RXVECTOR parameters).                                                                                                                                                                                                                                                                                       |          |          |
| RSSI_LEGacy       | FORMAT is EHT_MU or EHT_TB | The allowed values for the RSSI_LEGacy parameter are in the range 0 to 255 inclusive. This parameter is a measurement by the PHY of the power observed at the antennas used to receive the current PPDU measured during the reception of non-EHT portion of the EHT PPDU preamble. RSSI_legacy is intended to be used in a relative manner, and it is a monotonically increasing function of the received power. | N        | Y        |
|                   | FORMAT is PHY_VER_UNKNOWN  | The allowed values for the RSSI_legacy parameter are in the range 0 to 255 inclusive. This parameter is a measurement by the PHY of the power observed at the antennas used to receive the current PPDU measured during the reception of the preamble portion before U-SIG. RSSI_legacy is intended to be used in a relative manner, and it is a monotonically increasing function of the received power.        | N        | Y        |
|                   | Otherwise                  | See corresponding entry in Table 27-1.                                                                                                                                                                                                                                                                                                                                                                           |          |          |
| MCS               | FORMAT is EHT_MU or EHT_TB | Indicates the modulation and coding schemes used in the transmission of the Data field of the PPDU.<br>Integer: range 0 to 15.<br>NOTE – the value 14 is reserved when FORMAT is EHT_TB.                                                                                                                                                                                                                         | MU       | MU       |
|                   | FORMAT is PHY_VER_UNKNOWN  | Not present.                                                                                                                                                                                                                                                                                                                                                                                                     |          |          |
|                   | Otherwise                  | See corresponding entry in Table 19-1, Table 21-1, or Table 27-1.                                                                                                                                                                                                                                                                                                                                                |          |          |

Table 36-1—TXVECTOR and RXVECTOR parameters (continued)

| Parameter            | Condition                                                                                              | Value                                                                                                                                                                                                                                                                                                                                                                                | TXVECTOR | RXVECTOR |
|----------------------|--------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|----------|
| MCS_EHT_SIG          | FORMAT is EHT_MU                                                                                       | Indicates the modulation and coding scheme used for the EHT_SIG field.<br>Integer:<br>0 indicates EHT-MCS 0.<br>1 indicates EHT-MCS 1.<br>2 indicates EHT-MCS 3.<br>3 indicates EHT-MCS 15.                                                                                                                                                                                          | Y        | N        |
|                      | Otherwise                                                                                              | Not present.                                                                                                                                                                                                                                                                                                                                                                         |          |          |
| CH_BANDWIDTH         | FORMAT is EHT_MU or EHT_TB                                                                             | Indicates the channel width of the PPDU.<br>Enumerated type:<br>CBW20 for 20 MHz.<br>CBW40 for 40 MHz.<br>CBW80 for 80 MHz.<br>CBW160 for 160 MHz.<br>CBW320-1 for 320 MHz-1.<br>CBW320-2 for 320 MHz-2.                                                                                                                                                                             | Y        | Y        |
|                      | FORMAT is PHY_VER_UNKNOWN                                                                              | Indicates the channel width of the PPDU.<br>Enumerated type:<br>CBW20 for 20 MHz.<br>CBW40 for 40 MHz.<br>CBW80 for 80 MHz.<br>CBW160 for 160 MHz.<br>CBW320-1 for 320 MHz-1.<br>CBW320-2 for 320 MHz-2.<br>CBWX, otherwise.                                                                                                                                                         | N        | Y        |
|                      | Otherwise                                                                                              | See corresponding entry in Table 19-1, Table 21-1, or Table 27-1.                                                                                                                                                                                                                                                                                                                    |          |          |
| INACTIVE_SUBCHANNELS | FORMAT is EHT_MU, or FORMAT is NON_HT and NON_HT_MODULATION is NON_HT_DUP<br>OFDM, or FORMAT is EHT_TB | Indicates the 20 MHz subchannels that are punctured.<br>A bitmap indexed by the 20 MHz subchannels in ascending order with the LSB indicating the lowest frequency 20 MHz subchannel. A bit is set to 1 to indicate that the corresponding 20 MHz subchannel is punctured and set to 0 to indicate the corresponding 20 MHz subchannel is not punctured.<br>See 35.11.5 for details. | Y        | N        |
|                      | FORMAT is PHY_VER_UNKNOWN                                                                              | Not present.                                                                                                                                                                                                                                                                                                                                                                         |          |          |
|                      | Otherwise                                                                                              | See corresponding entry in Table 27-1.                                                                                                                                                                                                                                                                                                                                               |          |          |
| APEP_LENGTH          | FORMAT is EHT_MU or EHT_TB                                                                             | Integer.<br>If 0 and FORMAT is EHT_MU, indicates an EHT sounding NDP. Otherwise, indicates the number of octets in the range 1 to aPSDUMaxLength in the A-MPDU pre-EOF padding (see Table 36-70) that is carried in the PSDU.                                                                                                                                                        | MU       | N        |
|                      | FORMAT is PHY_VER_UNKNOWN                                                                              | Not present.                                                                                                                                                                                                                                                                                                                                                                         |          |          |
|                      | Otherwise                                                                                              | See corresponding entry in Table 21-1 or Table 27-1.                                                                                                                                                                                                                                                                                                                                 |          |          |

Table 36-1—TXVECTOR and RXVECTOR parameters (continued)

| Parameter   | Condition                  | Value                                                                                                                                                                                                                                                                                                                                                                                                                                                        | TXVECTOR | RXVECTOR |
|-------------|----------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|----------|
| PSDU_LENGTH | FORMAT is EHT_MU or EHT_TB | Indicates the number of octets in the PSDU in the range 0 to aPSDUMaxLength octets (see Table 36-70). A value of 0 indicates an EHT sounding NDP.                                                                                                                                                                                                                                                                                                            | N        | Y        |
|             | FORMAT is PHY_VER_UNKNOWN  | Not present.                                                                                                                                                                                                                                                                                                                                                                                                                                                 |          |          |
|             | Otherwise                  | See corresponding entry in Table 21-1 or Table 27-1.                                                                                                                                                                                                                                                                                                                                                                                                         |          |          |
| NUM_STS     | FORMAT is EHT_MU           | Indicates the number of spatial streams. Note that the terms "space-time stream" and "spatial streams" are equivalent because STBC is not supported in EHT PPDU.<br>Integer in the range<br>1 to 4 per user per MU-MIMO RU or MRU in the TXVECTOR.<br>1 to 4 per MU-MIMO RU or MRU in the RXVECTOR.<br>1 to 8 per RU or MRU assigned to single user in the TXVECTOR and RXVECTOR.<br>In each RU or MRU, NUM_STS summed over all users is not greater than 8. | MU       | Y        |
|             | FORMAT is EHT_TB           | Indicates the number of spatial streams.<br>Integer in the range:<br>1 to 4 for an MU-MIMO RU or MRU.<br>1 to 8 for an RU or MRU assigned to single user.                                                                                                                                                                                                                                                                                                    | Y        | N        |
|             | FORMAT is PHY_VER_UNKNOWN  | Not present.                                                                                                                                                                                                                                                                                                                                                                                                                                                 |          |          |
|             | Otherwise                  | See corresponding entry in Table 21-1 or Table 27-1.                                                                                                                                                                                                                                                                                                                                                                                                         |          |          |

Table 36-1—TXVECTOR and RXVECTOR parameters (continued)

| Parameter                 | Condition                                                                                                                                                                                                                 | Value                                                                                                                                                                                                                                                                                                                  | TXVECTOR | RXVECTOR                                                                                                                                                                                                                                                                                              |
|---------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| TXOP_DURATION             | FORMAT is EHT_MU or EHT_TB                                                                                                                                                                                                | Indicates the TXOP duration.<br>Enumerated type or integer:<br>UNSPECIFIED indicates no NAV value specified.<br>0–8448 indicates a value in units of 1 $\mu$ s that is used to update the NAV for this TXOP (see 26.2.4).                                                                                              | Y        | Y                                                                                                                                                                                                                                                                                                     |
|                           |                                                                                                                                                                                                                           | The TXOP subfield in U-SIG is computed from the TXVECTOR parameter TXOP_DURATION as follows:<br>TXOP_DURATION = UNSPECIFIED: TXOP = 127.<br>TXOP_DURATION < 512:<br>TXOP = $2 \times \lfloor \text{TXOP\_DURATION}/8 \rfloor$<br>Otherwise:<br>TXOP = $2 \times \lfloor (\text{TXOP\_DURATION}-512)/128 \rfloor + 1$ . |          |                                                                                                                                                                                                                                                                                                       |
|                           |                                                                                                                                                                                                                           | The RXVECTOR parameter TXOP_DURATION is computed from the value of the TXOP subfield in U-SIG as follows:<br>TXOP = 127: TXOP_DURATION = UNSPECIFIED.<br>TXOP is an even number:<br>TXOP_DURATION = $8 \times \text{TXOP}/2$ .<br>Otherwise: TXOP_DURATION = $512 + 128 \times (\text{TXOP} - 1)/2$ .                  |          |                                                                                                                                                                                                                                                                                                       |
| FORMAT is PHY_VER_UNKNOWN | Indicates the TXOP duration.<br>Enumerated type or integer:<br>UNSPECIFIED indicates no NAV value specified.<br>0–8448 indicates a value in units of 1 $\mu$ s that is used to update the NAV for this TXOP (see 26.2.4). | N                                                                                                                                                                                                                                                                                                                      | Y        |                                                                                                                                                                                                                                                                                                       |
|                           |                                                                                                                                                                                                                           |                                                                                                                                                                                                                                                                                                                        |          | The RXVECTOR parameter TXOP_DURATION is computed from the value of the TXOP subfield in U-SIG as follows:<br>TXOP = 127: TXOP_DURATION = UNSPECIFIED.<br>TXOP is an even number:<br>TXOP_DURATION = $8 \times \text{TXOP}/2$ .<br>Otherwise: TXOP_DURATION = $512 + 128 \times (\text{TXOP} - 1)/2$ . |
| Otherwise                 | See corresponding entry in Table 27-1.                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                        |          |                                                                                                                                                                                                                                                                                                       |

Table 36-1—TXVECTOR and RXVECTOR parameters (continued)

| Parameter     | Condition                 | Value                                                                                                                                                                                                                                                                                                                             | TXVECTOR | RXVECTOR |
|---------------|---------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|----------|
| SPATIAL_REUSE | FORMAT is EHT_MU          | Indicates the spatial reuse parameter value. There is one value of the parameter for an EHT MU PPDU. See the Spatial Reuse field definition 36.3.12.8.3 and 36.3.12.8.4.<br>Integer in the range 0 to 15.<br>See 35.10 and 35.11.2.                                                                                               | Y        | Y        |
|               | FORMAT is EHT_TB          | Indicates the spatial reuse parameter value. There are one to two values of the parameter for an EHT TB PPDU, with the number of values present dependent on the bandwidth of the PPDU. See the Spatial Reuse field definition in 36.3.12.7.2.<br>For each of the values, integer in the range 0 to 15.<br>See 35.10 and 35.11.2. | Y        | Y        |
|               | FORMAT is PHY_VER_UNKNOWN | Not present.                                                                                                                                                                                                                                                                                                                      |          |          |
|               | Otherwise                 | See corresponding entry in Table 27-1.                                                                                                                                                                                                                                                                                            |          |          |

Table 36-1—TXVECTOR and RXVECTOR parameters (continued)

| Parameter     | Condition                                                                                      | Value                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | TXVECTOR     | RXVECTOR |
|---------------|------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------|----------|
| RU_ALLOCATION | FORMAT is EHT_MU and EHT_PDDU_TYPE is equal to 0                                               | For the TXVECTOR, indicates the 9-bit RU Allocation-A and RU Allocation-B (if present) subfields in the Common field for a DL OFDMA transmission.<br>9 bits for a 20 MHz PPDU;<br>18 bits for a 40 MHz PPDU;<br>36 bits for an 80 MHz PPDU;<br>72 bits for every 80 MHz frequency subblock of a 160 MHz PPDU;<br>144 bits for every 80 MHz frequency subblock of a 320 MHz PPDU.<br>See 36.3.12.8.3 for details.<br>For the RXVECTOR, 9 bits are used to indicate the RU or MRU allocated to the user in the whole band using the same encoding of PS160 (B39) and RU Allocation (B12–B19) subfields in the EHT variant User Info field of a Trigger frame.<br>See 9.3.1.22 for details. | Y            | Y        |
|               |                                                                                                | FORMAT is EHT_MU and EHT_PDDU_TYPE is not equal to 0, or FORMAT is PHY_VER_UNKNOWN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | Not present. |          |
|               | FORMAT is EHT_TB                                                                               | 9 bits are used to indicate the RU or MRU allocated to the user in the whole band using the same encoding of PS160 (B39) and RU Allocation (B12–B19) subfields in the EHT variant User Info field of a Trigger frame.<br>See 9.3.1.22 for details.                                                                                                                                                                                                                                                                                                                                                                                                                                       | Y            | N        |
|               | FORMAT is NON_HT, NON_HT_MODULATION is NON_HT_DUP_OFDM, and CH_BANDWIDTH is not CBW20 or CBW40 | For the TXVECTOR, indicates the active RU(s) or MRU(s).<br>36 bits for an 80 MHz PPDU;<br>72 bits for a 160 MHz PPDU;<br>144 bits for a 320 MHz PPDU.<br>For each 9 bits, only the following values are allowed:<br>26 (000011010 in binary representation)<br>64 (001000000 in binary representation)<br>See 36.3.12.8.3 and 36.3.15 for details.                                                                                                                                                                                                                                                                                                                                       | O            | N        |
|               | Otherwise                                                                                      | See corresponding entry in Table 27-1.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |              |          |

Table 36-1—TXVECTOR and RXVECTOR parameters (continued)

| Parameter        | Condition                                 | Value                                                                                                                                                                                | TXVECTOR | RXVECTOR |
|------------------|-------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|----------|
| BEAMFORMED       | FORMAT is EHT_MU and APEP_LENGTH is not 0 | For an RU or MRU with a single user allocated, set to 1 if a beamforming steering matrix is applied to this non-MU MIMO allocation and set to 0 otherwise.                           | MU       | O        |
|                  | FORMAT is EHT_MU and APEP_LENGTH is 0     | Set to 1 if a beamforming steering matrix is applied to the EHT modulated fields and set to 0 otherwise.                                                                             | Y        | O        |
|                  | FORMAT is EHT_TB                          | For an RU or MRU with a single user allocated, set to 1 if a beamforming steering matrix is applied to this non-MU MIMO allocation and set to 0 otherwise.                           | Y        | O        |
|                  | FORMAT is PHY_VER_UNKNOWN                 | Not present.                                                                                                                                                                         |          |          |
|                  | Otherwise                                 | See corresponding entry in Table 21-1 or Table 27-1.                                                                                                                                 |          |          |
| EHT_LTF_TYPE     | FORMAT is EHT_MU                          | Indicates the type of EHT-LTF.<br>Enumerated type:<br>2xEHT-LTF indicates a 2x EHT-LTF.<br>4xEHT-LTF indicates a 4x EHT-LTF.<br>See 36.3.12.10.                                      | Y        | Y        |
|                  | FORMAT is EHT_TB                          | Indicates the type of EHT-LTF.<br>Enumerated type:<br>1xEHT-LTF indicates a 1x EHT-LTF.<br>2xEHT-LTF indicates a 2x EHT-LTF.<br>4xEHT-LTF indicates a 4x EHT-LTF.<br>See 36.3.12.10. | Y        | Y        |
|                  | Otherwise                                 | Not present.                                                                                                                                                                         |          |          |
| NUM_EHT_LTF      | FORMAT is EHT_MU or EHT_TB                | Indicates the number of OFDM symbols in the EHT-LTF field.<br>Integer in the range 1 to 8.<br>See Table 36-33, Table 36-36, Table 36-37, and 36.3.12.10.                             | Y        | N        |
|                  | Otherwise                                 | Not present.                                                                                                                                                                         |          |          |
| STARTING_SFS_NUM | FORMAT is EHT_TB                          | Set to the starting spatial stream number minus 1 (spatial streams in a given PPDU transmission are numbered starting from 1)                                                        | Y        | N        |
|                  | FORMAT is EHT_MU or PHY_VER_UNKNOWN       | Not present.                                                                                                                                                                         |          |          |
|                  | Otherwise                                 | See corresponding entry in Table 27-1.                                                                                                                                               |          |          |

Table 36-1—TXVECTOR and RXVECTOR parameters (continued)

| Parameter              | Condition                           | Value                                                                                                                                                                                                                                                     | TXVECTOR | RXVECTOR |
|------------------------|-------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|----------|
| NOMINAL_PACKET_PADDING | FORMAT is EHT_MU                    | Indicates the nominal packing padding duration as defined in 9.4.2.323.5.<br>Enumerated type:<br>0_us for 0 $\mu$ s;<br>8_us for 8 $\mu$ s;<br>16_us for 16 $\mu$ s;<br>20_us for 20 $\mu$ s.                                                             | MU       | N        |
|                        | FORMAT is EHT_TB or PHY_VER_UNKNOWN | Not present.                                                                                                                                                                                                                                              |          |          |
|                        | Otherwise                           | See corresponding entry in Table 27-1.                                                                                                                                                                                                                    |          |          |
| TRIGGER_METHOD         | FORMAT is EHT_TB                    | Indicates the method used to trigger this EHT TB PPDU transmission.<br>Enumerated type:<br>TRIGGER_FRAME for Trigger frame.<br>TRS for TRS Control subfield.                                                                                              | Y        | N        |
|                        | FORMAT is EHT_MU or PHY_VER_UNKNOWN | Not present.                                                                                                                                                                                                                                              |          |          |
|                        | Otherwise                           | See corresponding entry in Table 27-1.                                                                                                                                                                                                                    |          |          |
| DEFAULT_PE_DURATION    | FORMAT is EHT_TB                    | When TRIGGER_METHOD is TRS, indicates the duration of the PE field to be transmitted.<br>Enumerated type:<br>0_us for 0 $\mu$ s;<br>4_us for 4 $\mu$ s;<br>8_us for 8 $\mu$ s;<br>12_us for 12 $\mu$ s;<br>16_us for 16 $\mu$ s;<br>20_us for 20 $\mu$ s. | Y        | N        |
|                        | FORMAT is EHT_MU or PHY_VER_UNKNOWN | Not present.                                                                                                                                                                                                                                              |          |          |
|                        | Otherwise                           | See corresponding entry in Table 27-1.                                                                                                                                                                                                                    |          |          |
| BSS_COLOR              | FORMAT is EHT_MU or EHT_TB          | Set to a value in the range 0 to 63 (see 35.11.1.4).                                                                                                                                                                                                      | Y        | Y        |
|                        | FORMAT is PHY_VER_UNKNOWN           | A value in the range 0 to 63 (see 35.11.1.4).                                                                                                                                                                                                             | N        | Y        |
|                        | Otherwise                           | See corresponding entry in Table 27-1.                                                                                                                                                                                                                    |          |          |

Table 36-1—TXVECTOR and RXVECTOR parameters (continued)

| Parameter                  | Condition                                            | Value                                                                                                                                                                                                                                                                                                                                      | TXVECTOR | RXVECTOR |
|----------------------------|------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|----------|
| UPLINK_FLAG                | FORMAT is EHT_MU                                     | Set to 1 if the PPDU is addressed to an AP.<br>Set to 0 otherwise.                                                                                                                                                                                                                                                                         | Y        | Y        |
|                            | FORMAT is PHY_VER_UNKNOWN                            | A value of 1 indicates the PPDU is addressed to an AP.<br>A value of 0 indicates the PPDU is addressed to a non-AP STA.                                                                                                                                                                                                                    | N        | Y        |
|                            | FORMAT is EHT_TB                                     | Not present.                                                                                                                                                                                                                                                                                                                               |          |          |
|                            | Otherwise                                            | See corresponding entry in Table 27-1.                                                                                                                                                                                                                                                                                                     |          |          |
| STA_ID                     | FORMAT is EHT_MU                                     | Indicates the list of STA-IDs for an EHT MU PPDU (see 35.11.1.1).                                                                                                                                                                                                                                                                          | MU       | Y        |
|                            | FORMAT is EHT_TB or PHY_VER_UNKNOWN                  | Not present.                                                                                                                                                                                                                                                                                                                               |          |          |
| EHT_PRE_FEC_PADDING_FACTOR | FORMAT is EHT_TB                                     | When TRIGGER_METHOD is TRIGGER_FRAME, indicates the pre-FEC padding factor used by the EHT TB PPDU transmission.<br>Integer in the range 0 to 3<br>0 for a pre-FEC padding factor of 4;<br>1 for a pre-FEC padding factor of 1;<br>2 for a pre-FEC padding factor of 2;<br>3 for a pre-FEC padding factor of 3;<br>Otherwise, not present. | Y        | N        |
|                            | FORMAT is EHT_MU or PHY_VER_UNKNOWN                  | Not present.                                                                                                                                                                                                                                                                                                                               |          |          |
|                            | Otherwise                                            | See corresponding entry in Table 27-1.                                                                                                                                                                                                                                                                                                     |          |          |
|                            | FORMAT is EHT_TB and TRIGGER_METHOD is TRIGGER_FRAME | Indicates PE disambiguity for the EHT TB PPDU transmission.<br>Set to 0 to indicate no PE disambiguity<br>Set to 1 to indicate PE disambiguity                                                                                                                                                                                             | Y        | N        |
| EHT_TB_PE_DISAMBIGUITY     | Otherwise                                            | Not present.                                                                                                                                                                                                                                                                                                                               |          |          |
|                            | FORMAT is EHT_TB                                     | Indicates the values to be set for the Disregard field in U-SIG-1.<br>See 35.5.2.2.4.                                                                                                                                                                                                                                                      | Y        | N        |
| TB_DISREGARD_IN_USIG1      | Otherwise                                            | Not present.                                                                                                                                                                                                                                                                                                                               |          |          |
|                            | FORMAT is EHT_TB                                     | Indicates the values to be set for the Disregard field in U-SIG-1.<br>See 35.5.2.2.4.                                                                                                                                                                                                                                                      | Y        | N        |
| EHT_TB_PE_DISAMBIGUITY     | Otherwise                                            | Not present.                                                                                                                                                                                                                                                                                                                               |          |          |
|                            | FORMAT is EHT_TB                                     | Indicates the values to be set for the Disregard field in U-SIG-1.<br>See 35.5.2.2.4.                                                                                                                                                                                                                                                      | Y        | N        |

Table 36-1—TXVECTOR and RXVECTOR parameters (continued)

| Parameter                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Condition                           | Value                                                                                                                                                                                                                             | TXVECTOR | RXVECTOR |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|----------|
| TB VALIDATE_IN_USIG2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | FORMAT is EHT_TB                    | Indicates the values to be set for the Validate field in U-SIG-2.<br>See 36.3.12.7.2.                                                                                                                                             | Y        | N        |
|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Otherwise                           | Not present.                                                                                                                                                                                                                      |          |          |
| TB DISREGARD_IN_USIG2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | FORMAT is EHT_TB                    | Indicates the values to be set for the Disregard field in U-SIG-2.<br>See 35.5.2.2.4.                                                                                                                                             | Y        | N        |
|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Otherwise                           | Not present.                                                                                                                                                                                                                      |          |          |
| POWER BOOST_FACTOR                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | FORMAT is EHT_MU                    | For an RU or MRU, set the power boost factor of the occupied RU or MRU according to the rules in 35.11.1.2.                                                                                                                       | MR       | N        |
|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Otherwise                           | Not present.                                                                                                                                                                                                                      |          |          |
| SCRAMBLER_INITIAL_VALUE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | FORMAT is EHT_MU                    | Indicates the first 11 bits of the scrambling sequence (the eleven LSB bits of the Scrambler Initialization field prior to descrambling), with the first bit of the scrambling sequence being the LSB of SCRAMBLER_INITIAL_VALUE. | N        | Y        |
|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | FORMAT is EHT_TB or PHY_VER_UNKNOWN | Not present.                                                                                                                                                                                                                      |          |          |
|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Otherwise                           | See corresponding entry in Table 27-1.                                                                                                                                                                                            |          |          |
| Further TXVECTOR and RXVECTOR parameters for transmitting or receiving a DSSS, HR/DSSS, OFDM, ERP, HT, VHT or HE PPDU, as determined by the FORMAT and NON_HT_MODULATION parameters, are defined in:<br>— DSSS PPDU: Table 15-1 and Table 15-2, excepting the LENGTH and DATARATE parameters<br>— HR/DSSS PPDU: Table 16-5 (Parameter vectors), excepting the LENGTH and DATARATE parameters<br>— OFDM PPDU: Table 17-1 and Table 17-2, excepting the LENGTH and DATARATE parameters<br>— ERP PPDU: Table 18-1 and Table 18-3, excepting the LENGTH and DATARATE parameters<br>— HT PPDU: Table 19-1<br>— VHT PPDU: Table 21-1<br>— HE PPDU: Table 27-1 |                                     |                                                                                                                                                                                                                                   |          |          |

Table 36-1—TXVECTOR and RXVECTOR parameters (continued)

| Parameter                                                                                                                                                                                                                                                                                                                 | Condition | Value | TXVECTOR | RXVECTOR |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------|-------|----------|----------|
| NOTE—In the “TXVECTOR” and “RXVECTOR” columns, the following apply:<br>Y = Present; N = Not present; O = Optional;                                                                                                                                                                                                        |           |       |          |          |
| MU is only present in the TXVECTOR column for an EHT MU PPDU and indicates that the TXVECTOR parameter is present per user. Parameters specified to be present per user are conceptually supplied as an array of values indexed by <i>u</i> , where <i>u</i> takes values 0 to the number of users minus 1.               |           |       |          |          |
| MR is only present in the TXVECTOR column for an EHT MU PPDU and indicates that the TXVECTOR parameter is present per RU or MRU. Parameters specified to be present per RU or MRU are conceptually supplied as an array of values indexed by <i>r</i> , where <i>r</i> takes values 0 to the number of RU or MRU minus 1. |           |       |          |          |

### 36.2.3 TRIGVECTOR parameters

The TRIGVECTOR is carried in a PHY-TRIGGER.request primitive and provides the PHY of the AP with the parameters needed to receive an EHT TB PPDU over each assigned RU or MRU. The parameters in Table 36-2 are defined as part of the TRIGVECTOR parameter list in the PHY-TRIGGER.request primitive.

Table 36-2—TRIGVECTOR parameters

| Parameter           | Value                                                                                                                                                                                                                                                                                                                              |
|---------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| CH_BANDWIDTH        | Indicates the bandwidth in the U-SIG of the expected EHT TB PPDU(s).<br>Enumerated type:<br>CBW20 for 20 MHz.<br>CBW40 for 40 MHz.<br>CBW80 for 80 MHz.<br>CBW160 for 160 MHz.<br>CBW320-1 for 320 MHz, corresponding to 320 MHz-1 defined in 36.3.24.2.<br>CBW320-2 for 320 MHz, corresponding to 320 MHz-2 defined in 36.3.24.2. |
| UL_LENGTH           | Indicates the value of the L-SIG LENGTH field of the expected EHT TB PPDU(s).<br>NOTE—The UL_LENGTH in TRIGVECTOR is equal to the value of the UL LENGTH subfield in a Trigger frame plus 2.                                                                                                                                       |
| GI_AND_EHT_LTF_TYPE | Indicates the EHT-LTF type and GI duration combination of the expected EHT TB PPDU(s).<br>Enumerated type:<br>1×EHT-LTF + 1.6 µs GI.<br>2×EHT-LTF + 1.6 µs GI.<br>4×EHT-LTF + 3.2 µs GI.                                                                                                                                           |

**Table 36-2—TRIGVECTOR parameters (continued)**

| Parameter              | Value                                                                                                                                                                                                                                                                                                          |
|------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| NUM_EHT_LTF_SYMBOLS    | Indicates the number of OFDM symbols present in the EHT-LTF field of the expected EHT TB PPDU(s).<br>Set to 0 for 1 OFDM symbol.<br>Set to 1 for 2 OFDM symbols.<br>Set to 2 for 4 OFDM symbols.<br>Set to 3 for 6 OFDM symbols.<br>Set to 4 for 8 OFDM symbols.                                               |
| LDPC_EXTRA_SYMBOL      | Indicates the status of the LDPC extra symbol segment in the expected EHT TB PPDU(s).<br>Set to 1 if LDPC extra symbol segment is present.<br>Set to 0 otherwise.                                                                                                                                              |
| PRE_FEC_PADDING_FACTOR | Indicates the pre-FEC padding factor for the expected EHT TB PPDU.<br>Value range:<br>Set to 0 to indicate a pre-FEC padding factor of 4.<br>Set to 1 to indicate a pre-FEC padding factor of 1.<br>Set to 2 to indicate a pre-FEC padding factor of 2.<br>Set to 3 to indicate a pre-FEC padding factor of 3. |
| PE_DISAMBIGUITY        | Indicates the PE disambiguity of the expected EHT TB PPDU.<br>Value range:<br>Set to 0 to indicate no PE disambiguity.<br>Set to 1 to indicate PE disambiguity.                                                                                                                                                |
| AID12_LIST             | Each entry of AID12_LIST is (12-bit) AID of the corresponding EHT TB PPDU.<br>See the AID12 subfield description in 9.3.1.22.5 and Table 9-46i for more information of each entry.                                                                                                                             |
| RU_ALLOCATION_LIST     | 9 bits are used per STA to indicate the RU allocated in the whole bandwidth using the same encoding of PS160 (B39) and RU Allocation (B12–B19) subfields in the EHT variant User Info field of a Trigger frame. See the RU Allocation subfield description in 9.3.1.22.5 for more information of each entry.   |
| FEC_CODING_LIST        | Each entry of FEC_CODING_LIST indicates the coding type of the corresponding EHT TB PPDU from an EHT STA. See the UL FEC Coding Type subfield description in 9.3.1.22.5 for more information of each entry.                                                                                                    |
| EHT_MCS_LIST           | Each entry of EHT_MCS_LIST indicates the EHT-MCS of the corresponding EHT TB PPDU from an EHT STA. See the UL EHT-MCS subfield description in 9.3.1.22.5 for more information of each entry.                                                                                                                   |
| SS_ALLOCATION_LIST     | Each entry of SS_ALLOCATION_LIST indicates the spatial streams of the corresponding EHT TB PPDU from an EHT STA. See the SS Allocation subfield description in 9.3.1.22.5 for more information of each entry.                                                                                                  |

### 36.2.4 PHYCONFIG\_VECTOR

The PHYCONFIG\_VECTOR carried in a PHY-CONFIG.request primitive for an EHT PHY contains an OPERATING\_CHANNEL parameter, which identifies the operating or primary channel. The PHY shall set dot11CurrentPrimaryChannel to the value of this parameter.

The PHYCONFIG\_VECTOR carried in a PHY-CONFIG.request primitive for an EHT PHY contains a CHANNEL\_WIDTH parameter, which identifies the operating channel width and takes one of the values 20 MHz, 40 MHz, 80 MHz, 160 MHz, and 320 MHz. The PHY shall set dot11EHTCurrentChannelWidth to the value of this parameter.

The PHYCONFIG.VECTOR carried in a PHY-CONFIG.request primitive for an EHT PHY contains a CENTER\_FREQUENCY\_SEGMENT\_0 parameter, which identifies the center frequency of the channel and takes a value between 1 and 255. The PHY shall set dot11EHTCurrentChannelCenterFrequencyIndex0 to the value of this parameter.

The PHYCONFIG.VECTOR carried in a PHY-CONFIG.request primitive for an EHT PHY contains a DISABLED\_SUBCHANNEL\_BITMAP parameter, which carries the value of the Disabled Subchannel Bitmap subfield in an EHT Operation element and identifies the 20 MHz subchannels that are punctured in an EHT BSS. The PHY shall set dot11EHTDisabledSubchannelBitmap to the value of this parameter.

#### 36.2.5 Effect of CH\_BANDWIDTH parameter on PPDU format

Table 36-3 shows the valid combinations of the FORMAT, NON\_HT\_MODULATION, and CH\_BANDWIDTH parameters and the corresponding PPDU format. Other combinations are reserved.

Table 36-3—Interpretation of FORMAT, NON\_HT\_MODULATION, and CH\_BANDWIDTH parameters

| FORMAT         | NON_HT MODULATION | CH_BANDWIDTH         | PPDU format                                                                                                                                                                                         |
|----------------|-------------------|----------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| EHT_MU, EHT_TB | N/A               | CBW20                | The STA transmits an EHT PPDU of 20 MHz bandwidth. If the BSS bandwidth is wider than 20 MHz, then the transmission shall use the primary 20 MHz channel.                                           |
| EHT_MU, EHT_TB | N/A               | CBW40                | The STA transmits an EHT PPDU of 40 MHz bandwidth. If the BSS bandwidth is wider than 40 MHz, then the transmission shall use the primary 40 MHz channel.                                           |
| EHT_MU, EHT_TB | N/A               | CBW80                | The STA transmits an EHT PPDU of 80 MHz bandwidth. If the BSS bandwidth is wider than 80 MHz, then the transmission shall use the primary 80 MHz channel.                                           |
| EHT_MU, EHT_TB | N/A               | CBW160               | The STA transmits an EHT PPDU of 160 MHz bandwidth. If the BSS bandwidth is wider than 160 MHz, then the transmission shall use the primary 160 MHz channel.                                        |
| EHT_MU, EHT_TB | N/A               | CBW320-1<br>CBW320-2 | The STA transmits an EHT PPDU of 320 MHz bandwidth.<br>NOTE—The CH_BANDWIDTH of CBW320-1 and CBW320-2 is interpreted as 320 MHz bandwidth for the transmission of an EHT PPDU of 320 MHz bandwidth. |
| NON_HT         | OFDM              | CBW20                | See Table 21-2.                                                                                                                                                                                     |
| NON_HT         | NON_HT_DUP_OFDM   | CBW40                | See Table 21-2.                                                                                                                                                                                     |

Table 36-3—Interpretation of FORMAT, NON\_HT\_MODULATION, and CH\_BANDWIDTH parameters (continued)

| FORMAT                                                             | NON_HT_MODULATION                           | CH_BANDWIDTH | PPDU format                                                                                                                                                                                                                                                                                                                        |
|--------------------------------------------------------------------|---------------------------------------------|--------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| NON_HT                                                             | NON_HT_DUP_OFDM                             | CBW80        | If INACTIVE_SUBCHANNELS is not present, see Table 21-2.<br>If INACTIVE_SUBCHANNELS is present (see 35.11.5 and 26.11.7), the STA transmits a punctured NON-HT PPDU of 80 MHz bandwidth. If the BSS bandwidth is wider than 80 MHz, then the transmission shall use the primary 80 MHz channel. Primary 20 MHz is not punctured.    |
| NON_HT                                                             | NON_HT_DUP_OFDM                             | CBW160       | If INACTIVE_SUBCHANNELS is not present, see Table 21-2.<br>If INACTIVE_SUBCHANNELS is present (see 35.11.5 and 26.11.7), the STA transmits a punctured NON-HT PPDU of 160 MHz bandwidth. If the BSS bandwidth is wider than 160 MHz, then the transmission shall use the primary 160 MHz channel. Primary 20 MHz is not punctured. |
| NON_HT                                                             | NON_HT_DUP_OFDM                             | CBW320       | If INACTIVE_SUBCHANNELS is not present, the STA transmits a NON-HT PPDU of 320 MHz bandwidth using sixteen adjacent 20 MHz channels as defined in 36.3.15.<br>If INACTIVE_SUBCHANNELS is present (see 35.11.5), the STA transmits a punctured NON-HT PPDU of 320 MHz bandwidth. Primary 20 MHz is not punctured.                   |
| HT_MF,<br>HT_GF,<br>VHT,<br>HE_SU,<br>HE_MU,<br>HE_ER_SU,<br>HE_TB | See Table 27-4, Table 21-2, and Table 19-2. |              |                                                                                                                                                                                                                                                                                                                                    |

### 36.2.6 Support for non-HT, HT, VHT, and HE formats

#### 36.2.6.1 General

When an EHT STA is working on a frequency band that is applicable to a PHY clause, the EHT STA logically contains Clause 15, Clause 16, Clause 17, Clause 18, Clause 19, Clause 21, Clause 27, and Clause 36 PHYs. The MAC interacts with the PHYs via the Clause 36 PHY service interface, which in turn interacts with the Clause 15, Clause 16, Clause 17, Clause 18, Clause 19, Clause 21, and Clause 27 PHY service interfaces when applicable as shown in Figure 36-1, Figure 36-2, and Figure 36-3.

IEEE Std 802.11be-2024  
IEEE Standard for Information Technology—Local and Metropolitan Area Networks—Specific Requirements  
Part 11: Wireless LAN MAC and PHY Specifications  
Amendment 2: Enhancements for Extremely High Throughput (EHT)

![](b298699b2b9e8c0ceb4e4f38851901b2_img.jpg)

Figure 36-1 illustrates the PHY interaction on transmit for various PPDU formats. The diagram shows the sequence of PHY clauses (PHY-TXSTART, PHY-TXEND, PHY-DATA, PHY-ACK, PHY-ACKEND) and associated PPDU formats (e.g., FORMAT = HE\_SUL, HE\_FU\_SUL, FORMAT = VHT, FORMAT = HT, FORMAT = NON\_HT, NON\_HT\_MODULATION, FORMAT = HT\_MU, and EHT\_TB) leading to the transmit procedure.

Figure 36-1—PHY interaction on transmit for various PPDU formats

![](c98d2bf3b799e86072e6d1acb610990c_img.jpg)

Figure 36-2 illustrates the PHY interaction on receive for various PPDU formats. The diagram shows the sequence of PHY clauses (PHY-RXSTART, PHY-RXEND, PHY-DATA, PHY-ACK, PHY-ACKEND) and associated PPDU formats (e.g., FORMAT = HE\_SUL, HE\_FU\_SUL, FORMAT = VHT, FORMAT = HT, FORMAT = NON\_HT, NON\_HT\_MODULATION, FORMAT = HT\_MU, and EHT\_TB) leading to the receive procedure.

Figure 36-2—PHY interaction on receive for various PPDU formats

![](f40dcb583112db17dd3c4bd552cdd500_img.jpg)

Figure 36-3 illustrates the PHY-CONFIG and CCA interaction with various PPDU formats. The diagram shows the sequence of PHY-CONFIG requests and confirmations (PHY-CONFIG.request, PHY-CONFIG.confirm) and CCA requests and confirmations (PHY-CCA-RESET.request, PHY-CCA-RESET.confirm) leading to the configuration of PHY and CCA.

Figure 36-3—PHY-CONFIG and CCA interaction with various PPDU formats

NOTE—Figure 36-1, Figure 36-2, and Figure 36-3 show all possible PHY clauses, not all of which are applicable to any given band.

#### 36.2.6.2 Support for non-HT format

The behavior of the EHT PHY on receipt of a PHY-TXSTART.request primitive (containing TXVECTOR) with the FORMAT parameter equal to NON\_HT and the NON\_HT\_MODULATION parameter not equal to NON\_HT\_DUP\_OFDM is defined in Clause 15, Clause 16, Clause 17, and Clause 18 and depends on the parameter NON\_HT\_MODULATION. If the parameter NON\_HT\_MODULATION is OFDM or NON\_HT\_DUP\_OFDM, then the following additional requirements apply:

- The requirements in 21.3.9.1
- The requirements in 21.3.17.1 and 36.3.20.1 instead of the requirements in 17.3.9.3
- The requirements in 36.3.20.3 instead of the requirements in 17.3.9.5 and 17.3.9.6
- The requirements in 36.3.20.4.2 instead of the requirements in 17.3.9.7.2
- The requirements in 36.3.20.2 and the requirements in 17.3.9.7.3
- The requirements in 36.3.20.1.3

The modulation equation for non-HT duplicate transmission is defined in 36.3.15.

The EHT TXVECTOR parameters in Table 36-1 are mapped to Clause 15, Clause 16, Clause 17, and Clause 18 TXVECTOR parameters according to Table 36-4. The EHT PHY parameters not listed in the table are not present.

Table 36-4—Mapping of the EHT PHY parameters for non-HT operation

| EHT PHY parameter   | 2.4 GHz operation defined by Clause 15 | 2.4 GHz operation defined by Clause 16 | 2.4 GHz operation defined by Clause 18 | 5 GHz and 6 GHz operation defined by Clause 17 | Parameter list    |
|---------------------|----------------------------------------|----------------------------------------|----------------------------------------|------------------------------------------------|-------------------|
| L_LENGTH            | LENGTH                                 | LENGTH                                 | LENGTH                                 | LENGTH                                         | TXVECTOR/RXVECTOR |
| L_DATARATE          | DATARATE                               | DATARATE                               | DATARATE                               | DATARATE                                       | TXVECTOR/RXVECTOR |
| TXP-WR_LEVEL_I_NDEX | TXP-WR_LEVEL_INDEX                     | TXP-WR_LEVEL_INDEX                     | TXP-WR_LEVEL_INDEX                     | TXP-WR_LEVEL_INDEX                             | TXVECTOR          |
| RSSI                | RSSI                                   | RSSI                                   | RSSI                                   | RSSI                                           | RXVECTOR          |
| RCPI                | RCPI                                   | RCPI                                   | RCPI                                   | RCPI                                           | RXVECTOR          |

The behavior of the EHT PHY on receipt of a PHY-TXSTART.request primitive (containing TXVECTOR) with the FORMAT parameter equal to NON\_HT and the NON\_HT\_MODULATION parameter equal to NON\_HT\_DUP\_OFDM is defined in 36.3.15.

To support the non-HT format, the EHT PHY, on receipt of a PHY-CONFIG.request(PHYCONFIG\_VECTOR) primitive, behaves as if it were a Clause 15, Clause 16, Clause 17, or Clause 18 PHY that had received a PHY-CONFIG.request(PHYCONFIG\_VECTOR) primitive but without the PHYCONFIG\_VECTOR parameters CHANNEL\_WIDTH and CENTER\_FREQUENCY\_SEGMENT\_0.

As defined in 36.3.23, once a PPDU is received and detected as a non-HT PPDU, the behavior of the EHT PHY is defined in Clause 15, Clause 16, Clause 17, or Clause 18 depending on the PPDU format. The

RXVECTOR parameters from the Clause 15, Clause 16, Clause 17, and Clause 18 are mapped to the EHT RXVECTOR parameters as defined in Table 36-4. The EHT PHY parameters not listed in the table are not present.

#### 36.2.6.3 Support for HT format

The behavior of an EHT PHY on receipt of a PHY-TXSTART.request primitive (containing TXVECTOR) with the TXVECTOR parameter FORMAT equal to HT\_MF or HT\_GF is defined in Clause 19 with the following additional requirements:

- The requirements in 21.3.9.2
- The requirements in 36.3.20.3 instead of the requirements in 19.3.18.4

The EHT TXVECTOR parameters in Table 36-1 are mapped directly to Clause 19 TXVECTOR parameters in Table 19-1. The EHT PHY parameters not listed in Table 19-1 are not present. The PHY shall use a value of CH\_OFFSET in the Clause 19 TXVECTOR that is consistent with Table 36-3. A 20 MHz-only non-AP EHT STA supports HT transmission only on 20 MHz channel width.

On receipt of a PHY-CONFIG.request(PHYCONFIG\_VECTOR) primitive, the EHT PHY behaves, for the purposes of HT PPDU transmission and reception, as if it were a Clause 19 PHY that had received PHY-CONFIG.request(PHYCONFIG\_VECTOR) primitive but without the PHYCONFIG\_VECTOR parameters CHANNEL\_WIDTH, CENTER\_FREQUENCY\_SEGMENT\_0, and DISABLED\_SUBCHANNEL\_BITMAP and with the PHYCONFIG\_VECTOR parameter SECONDARY\_CHANNEL\_OFFSET set to SECONDARY\_CHANNEL\_NONE if dot1CurrentChannelWidth indicates 20 MHz, to SECONDARY\_CHANNEL\_ABOVE if  $f_{P20, idx} < f_{S20, idx}$ , or to SECONDARY\_CHANNEL\_BELOW otherwise.

As defined in 36.3.23, once a PPDU is received and detected as an HT PPDU, the behavior of the EHT PHY is defined in Clause 19. The RXVECTOR parameters in Table 19-1 are mapped directly to the RXVECTOR parameters in Table 36-1. The EHT PHY parameters not listed in Table 19-1 are not present. A 20 MHz-only non-AP EHT STA supports HT reception only on 20 MHz channel width.

#### 36.2.6.4 Support for VHT format

The behavior of an EHT PHY on receipt of a PHY-TXSTART.request primitive (containing TXVECTOR) with the TXVECTOR parameter FORMAT equal to VHT is defined in Clause 21 except that the requirements in 36.3.20.3 apply instead of the requirements in 21.3.17.3.

The EHT TXVECTOR parameters in Table 36-1 are mapped directly to the Clause 21 TXVECTOR parameters in Table 21-1. The EHT PHY parameters not listed in Table 21-1 are not present. The 20 MHz-only non-AP EHT STA supports VHT transmission only on 20 MHz channel width.

On receipt of a PHY-CONFIG.request(PHYCONFIG\_VECTOR) primitive, the EHT PHY behaves, for the purposes of VHT PPDU transmission and reception, as if it were a Clause 21 PHY that received the PHY-CONFIG.request(PHYCONFIG\_VECTOR) primitive except that:

- The PHYCONFIG\_VECTOR parameter DISABLED\_SUBCHANNEL\_BITMAP is ignored
- The CHANNEL\_WIDTH parameter, if it is equal to 320 MHz, is replaced by 160 MHz
- The CENTER\_FREQUENCY\_SEGMENT\_0 parameter, if the CHANNEL\_WIDTH parameter is equal to 320 MHz, is replaced by the center of the primary 160 MHz channel.

As defined in 36.3.23, once a PPDU is received and detected as an VHT PPDU, the behavior of the EHT PHY is defined in Clause 21. The RXVECTOR parameters in Table 21-1 are mapped directly to the

RXVECTOR parameters in Table 36-1. The EHT PHY parameters not listed in Table 21-1 are not present. A 20 MHz-only non-AP EHT STA supports VHT reception only on 20 MHz channel width.

### 36.2.6.5 Support for HE format

The behavior of an EHT PHY on receipt of a PHY-TXSTART.request primitive (containing TXVECTOR) with the TXVECTOR parameter FORMAT equal to HE\_SU, HE\_ER\_SU, HE\_MU, or HE\_TB is defined in Clause 27 except that the requirements in 36.3.20.3 apply instead of the requirements in 27.3.21.3.

The TXVECTOR parameters in Table 36-1 are mapped directly to the Clause 27 TXVECTOR parameters in Table 27-1. The TXVECTOR parameters not listed in Table 27-1 are not present.

On receipt of a PHY-CONFIG.request(PHYCONFIG\_VECTOR) primitive, the EHT PHY behaves, for the purposes of HE PDDU transmission and reception, as if it were a Clause 27 PHY that received the PHY-CONFIG.request(PHYCONFIG\_VECTOR) primitive except that:

- The PHYCONFIG\_VECTOR parameter DISABLED\_SUBCHANNEL\_BITMAP is ignored
- The CHANNEL\_WIDTH parameter, if it is equal to 320 MHz, is replaced by 160 MHz
- The CENTER\_FREQUENCY\_SEGMENT\_0 parameter, if the CHANNEL\_WIDTH parameter is equal to 320 MHz, is replaced by the center of the primary 160 MHz channel.

As defined in 36.3.23, once a PDDU is received and detected as an HE PDDU, the behavior of the EHT PHY is defined in Clause 27. The RXVECTOR parameters in Table 27-1 are mapped directly to the RXVECTOR parameters in Table 36-1. The RXVECTOR parameters not listed in Table 27-1 are not present.

## 36.3 EHT PHY

### 36.3.1 Introduction

This subclause provides the procedure by which PSDUs are converted to and from PPDUs transmissions on the WM.

During transmission, a PSDU (in the SU case) or one or more PSDUs (in the MU case) are processed (i.e., scrambled and coded) and appended to the PHY preamble to create the PDDU. At the receiver, the PHY preamble is processed to aid in the detection, demodulation, and delivery of the PSDU(s).

### 36.3.2 Subcarrier and resource allocation

#### 36.3.2.1 Subcarriers and resource allocation in EHT PPDUs

The EHT PHY subcarrier frequency spacing is identical to HE PHY subcarrier frequency spacing defined in Clause 27.

The EHT tone plan and RU locations for a 20 MHz PDDU and 40 MHz PDDU are identical to those of HE PHY defined in 27.3.2. The EHT tone plan and RU locations for an 80 MHz PDDU are given in Figure 36-4. An EHT PDDU spanning 160 MHz or wider is composed of multiple 80 MHz frequency subblocks. The tone plan and RU allocations for each of the 80 MHz frequency subblocks are identical to those of an 80 MHz EHT PDDU. If an 80 MHz frequency subblock in a 160 MHz or 320 MHz EHT PDDU is nonpunctured and the entire 80 MHz frequency subblock is used as an RU, or part of an RU or MRU, the 80 MHz frequency subblock uses a 996-tone RU as shown in Figure 36-4. If an 80 MHz frequency subblock contains RUs smaller than 996 tones or if parts of the 80 MHz frequency subblock are punctured, the 80 MHz frequency subblock uses the tone plan and RU allocations as shown in Figure 36-4 excluding the 996-tone RU.

![Figure 36-4 shows the locations of Resource Units (RUs) in an 80 MHz EHT PPDU. The diagram illustrates two adjacent 80 MHz PPDU symbols, each containing 12 Guard subcarriers, 11 Null subcarriers, and 160 DC subcarriers. The 80 MHz PPDU is divided into 26-tone RUs (RU 1 to RU 4) and 160-tone RUs (RU 5 to RU 11). The 26-tone RUs are shown in the upper half, and the 160-tone RUs are shown in the lower half. The 26-tone RUs are further divided into 26 subcarriers each, with indices ranging from -499 to 448. The 160-tone RUs are shown as a single block of 160 subcarriers, with indices ranging from -392 to 367.](c3482bc393d2cd1fa5968f3d0fe0aa63_img.jpg)

Figure 36-4 shows the locations of Resource Units (RUs) in an 80 MHz EHT PPDU. The diagram illustrates two adjacent 80 MHz PPDU symbols, each containing 12 Guard subcarriers, 11 Null subcarriers, and 160 DC subcarriers. The 80 MHz PPDU is divided into 26-tone RUs (RU 1 to RU 4) and 160-tone RUs (RU 5 to RU 11). The 26-tone RUs are shown in the upper half, and the 160-tone RUs are shown in the lower half. The 26-tone RUs are further divided into 26 subcarriers each, with indices ranging from -499 to 448. The 160-tone RUs are shown as a single block of 160 subcarriers, with indices ranging from -392 to 367.

Figure 36-4—RU locations in an 80 MHz EHT PPDU

NOTE—For an EHT PPDU using non-OFDMA transmission, the tone plan and RU allocations of a nonpunctured 80 MHz EHT MU PPDU in EHT DUP mode (described in 36.3.5) are identical to those of a DL-OFDMA transmission comprising two 484-tone RUs as shown in Figure 36-4. The tone plan and RU allocations of a nonpunctured non-OFDMA 80 MHz EHT PPDU that is not an EHT MU PPDU in EHT DUP mode are defined by a 996-tone RU as shown in Figure 36-4.

The locations of the RUs are fixed as defined in Table 36-5, Table 36-6, and Table 36-7 for an 80 MHz, 160 MHz, and 320 MHz EHT PPDU, respectively. In these tables, the subcarrier index of 0 corresponds to the DC tone. Negative subcarrier indices correspond to subcarriers with frequency lower than the DC tone, and positive subcarrier indices correspond to subcarriers with frequency higher than the DC tone. DC subcarriers shown in Figure 36-4 are the subcarriers with zero energy, which include the DC tone and the subcarrier indices adjacent to the subcarrier index 0. Guard subcarriers are the subcarriers with zero energy, which are located at the edge of the OFDM symbol in the frequency domain. The number of DC subcarriers and guard subcarriers is defined in 36.3.10. Null subcarriers are defined in 36.3.2.3.

Table 36-5—Data and pilot subcarrier indices for RUs in an 80 MHz EHT PPDU

| RU type    | RU index and subcarrier range |                       |                       |                       |                        |
|------------|-------------------------------|-----------------------|-----------------------|-----------------------|------------------------|
|            | RU 1                          | RU 2                  | RU 3                  | RU 4                  | RU 5                   |
| 26-tone RU | RU 1<br>[-499: -474]          | RU 2<br>[-473: -448]  | RU 3<br>[-445: -420]  | RU 4<br>[-419: -394]  | RU 5<br>[-392: -367]   |
|            | RU 6<br>[-365: -340]          | RU 7<br>[-339: -314]  | RU 8<br>[-311: -286]  | RU 9<br>[-285: -260]  |                        |
|            | RU 10<br>[-252: -227]         | RU 11<br>[-226: -201] | RU 12<br>[-198: -173] | RU 13<br>[-172: -147] | RU 14<br>[-145: -120]  |
|            | RU 15<br>[-118: -93]          | RU 16<br>[-92: -67]   | RU 17<br>[-64: -39]   | RU 18<br>[-38: -13]   | RU 19<br>[not defined] |
|            | RU 20<br>[13: 38]             | RU 21<br>[39: 64]     | RU 22<br>[67: 92]     | RU 23<br>[93: 118]    | RU 24<br>[120: 145]    |
|            | RU 25<br>[147: 172]           | RU 26<br>[173: 198]   | RU 27<br>[201: 226]   | RU 28<br>[227: 252]   |                        |
|            | RU 29<br>[260: 285]           | RU 30<br>[286: 311]   | RU 31<br>[314: 339]   | RU 32<br>[340: 365]   | RU 33<br>[367: 392]    |
|            | RU 34<br>[394: 419]           | RU 35<br>[420: 445]   | RU 36<br>[448: 473]   | RU 37<br>[474: 499]   |                        |
|            |                               |                       |                       |                       |                        |
|            |                               |                       |                       |                       |                        |
|            |                               |                       |                       |                       |                        |

Table 36-5—Data and pilot subcarrier indices for RUs in an 80 MHz EHT PPDU (continued)

| RU type     | RU index and subcarrier range      |                                |                      |                      |
|-------------|------------------------------------|--------------------------------|----------------------|----------------------|
| 52-tone RU  | RU 1<br>[-499: -448]               | RU 2<br>[-445: -394]           | RU 3<br>[-365: -314] | RU 4<br>[-311: -260] |
|             | RU 5<br>[-252: -201]               | RU 6<br>[-198: -147]           | RU 7<br>[-118: -67]  | RU 8<br>[-64: -13]   |
|             | RU 9<br>[13: 64]                   | RU 10<br>[67: 118]             | RU 11<br>[147: 198]  | RU 12<br>[201: 252]  |
|             | RU 13<br>[260: 311]                | RU 14<br>[314: 365]            | RU 15<br>[394: 445]  | RU 16<br>[448: 499]  |
| 106-tone RU | RU 1<br>[-499: -394]               | RU 2<br>[-365: -260]           | RU 3<br>[-252: -147] | RU 4<br>[-118: -13]  |
|             | RU 5<br>[13: 118]                  | RU 6<br>[147: 252]             | RU 7<br>[260: 365]   | RU 8<br>[394: 499]   |
| 242-tone RU | RU 1<br>[-500: -259]               | RU 2<br>[-253: -12]            | RU 3<br>[12: 253]    | RU 4<br>[259: 500]   |
| 484-tone RU | RU 1<br>[-500: -259,<br>-253: -12] | RU 2<br>[12: 253,<br>259: 500] |                      |                      |
| 996-tone RU | RU 1<br>[-500: -3,<br>3: 500]      |                                |                      |                      |

Multiple RUs can be assigned to an EHT STA (see 36.3.2.2). The subcarrier indices of an MRU consist of the indices of the corresponding RUs shown in Table 27-8, Table 27-9, Table 36-5, Table 36-6, and Table 36-7 from which the MRU is built and are defined in 36.3.2.2.

Table 36-6—Data and pilot subcarrier indices for RUs in a 160 MHz EHT PPDU

| RU type    | RU index and subcarrier range |                       |                       |                       |                        |
|------------|-------------------------------|-----------------------|-----------------------|-----------------------|------------------------|
| 26-tone RU | RU 1<br>[-101: -986]          | RU 2<br>[-985: -960]  | RU 3<br>[-957: -932]  | RU 4<br>[-931: -906]  | RU 5<br>[-904: -879]   |
|            | RU 6<br>[-877: -852]          | RU 7<br>[-851: -826]  | RU 8<br>[-823: -798]  | RU 9<br>[-797: -772]  |                        |
|            | RU 10<br>[-764: -739]         | RU 11<br>[-738: -713] | RU 12<br>[-710: -685] | RU 13<br>[-684: -659] | RU 14<br>[-657: -632]  |
|            | RU 15<br>[-630: -605]         | RU 16<br>[-604: -579] | RU 17<br>[-576: -551] | RU 18<br>[-550: -525] | RU 19<br>[not defined] |
|            | RU 20<br>[-499: -474]         | RU 21<br>[-473: -448] | RU 22<br>[-445: -420] | RU 23<br>[-419: -394] | RU 24<br>[-392: -367]  |
|            | RU 25<br>[-365: -340]         | RU 26<br>[-339: -314] | RU 27<br>[-311: -286] | RU 28<br>[-285: -260] |                        |
|            | RU 29<br>[-252: -227]         | RU 30<br>[-226: -201] | RU 31<br>[-198: -173] | RU 32<br>[-172: -147] | RU 33<br>[-145: -120]  |
|            | RU 34<br>[-118: -93]          | RU 35<br>[-92: -67]   | RU 36<br>[-64: -39]   | RU 37<br>[-38: -13]   |                        |
|            | RU 38<br>[13: 38]             | RU 39<br>[39: 64]     | RU 40<br>[67: 92]     | RU 41<br>[93: 118]    | RU 42<br>[120: 145]    |
|            | RU 43<br>[147: 172]           | RU 44<br>[173: 198]   | RU 45<br>[201: 226]   | RU 46<br>[227: 252]   |                        |
|            | RU 47<br>[260: 285]           | RU 48<br>[286: 311]   | RU 49<br>[314: 339]   | RU 50<br>[340: 365]   | RU 51<br>[367: 392]    |
|            | RU 52<br>[394: 419]           | RU 53<br>[420: 445]   | RU 54<br>[448: 473]   | RU 55<br>[474: 499]   | RU 56<br>[not defined] |
|            | RU 57<br>[525: 550]           | RU 58<br>[551: 576]   | RU 59<br>[579: 604]   | RU 60<br>[605: 630]   | RU 61<br>[632: 657]    |
|            | RU 62<br>[659: 684]           | RU 63<br>[685: 710]   | RU 64<br>[713: 738]   | RU 65<br>[739: 764]   |                        |
|            | RU 66<br>[772: 797]           | RU 67<br>[798: 823]   | RU 68<br>[826: 851]   | RU 69<br>[852: 877]   | RU 70<br>[879: 904]    |
|            | RU 71<br>[906: 931]           | RU 72<br>[932: 957]   | RU 73<br>[960: 985]   | RU 74<br>[986: 1011]  |                        |

Table 36-6—Data and pilot subcarrier indices for RUs in a 160 MHz EHT PPDU (continued)

| RU type       | RU index and subcarrier range                        |                                 |                             |                               |  |
|---------------|------------------------------------------------------|---------------------------------|-----------------------------|-------------------------------|--|
| 52-tone RU    | RU 1<br>[-1011: -960]                                | RU 2<br>[-957: -906]            | RU 3<br>[-877: -826]        | RU 4<br>[-823: -772]          |  |
|               | RU 5<br>[-764: -713]                                 | RU 6<br>[-710: -659]            | RU 7<br>[-630: -579]        | RU 8<br>[-576: -525]          |  |
|               | RU 9<br>[-499: -448]                                 | RU 10<br>[-445: -394]           | RU 11<br>[-365: -314]       | RU 12<br>[-311: -260]         |  |
|               | RU 13<br>[-252: -201]                                | RU 14<br>[-198: -147]           | RU 15<br>[-118: -67]        | RU 16<br>[-64: -13]           |  |
|               | RU 17<br>[13: 64]                                    | RU 18<br>[67: 118]              | RU 19<br>[147: 198]         | RU 20<br>[201: 252]           |  |
|               | RU 21<br>[260: 311]                                  | RU 22<br>[314: 365]             | RU 23<br>[394: 445]         | RU 24<br>[448: 499]           |  |
|               | RU 25<br>[525: 576]                                  | RU 26<br>[579: 630]             | RU 27<br>[659: 710]         | RU 28<br>[713: 764]           |  |
|               | RU 29<br>[772: 823]                                  | RU 30<br>[826: 877]             | RU 31<br>[906: 957]         | RU 32<br>[960: 1011]          |  |
|               | RU 1<br>[-1011: -906]                                | RU 2<br>[-877: -772]            | RU 3<br>[-764: -659]        | RU 4<br>[-630: -525]          |  |
|               | RU 5<br>[-499: -394]                                 | RU 6<br>[-365: -260]            | RU 7<br>[-252: -147]        | RU 8<br>[-118: -13]           |  |
| 106-tone RU   | RU 9<br>[13: 118]                                    | RU 10<br>[147: 252]             | RU 11<br>[260: 365]         | RU 12<br>[394: 499]           |  |
|               | RU 13<br>[525: 630]                                  | RU 14<br>[659: 764]             | RU 15<br>[772: 877]         | RU 16<br>[906: 1011]          |  |
|               | RU 1<br>[-1012: -771]                                | RU 2<br>[-765: -524]            | RU 3<br>[-500: -259]        | RU 4<br>[-253: -12]           |  |
| 242-tone RU   | RU 5<br>[12: 253]                                    | RU 6<br>[259: 500]              | RU 7<br>[524: 765]          | RU 8<br>[771: 1012]           |  |
|               | RU 1<br>[-1012: -771, -765: -524]                    | RU 2<br>[-500: -259, -253: -12] | RU 3<br>[12: 253, 259: 500] | RU 4<br>[524: 765, 771: 1012] |  |
| 996-tone RU   | RU 1<br>[-1012: -515, -509: -12]                     | RU 2<br>[12: 509, 515: 1012]    |                             |                               |  |
| 2x996-tone RU | RU 1<br>[-1012: -515, -509: -12, 12: 509, 515: 1012] |                                 |                             |                               |  |

Table 36-7—Data and pilot subcarrier indices for RUs in a 320 MHz EHT PPDU

| RU type    | RU index and subcarrier range |                         |                         |                         |                         |
|------------|-------------------------------|-------------------------|-------------------------|-------------------------|-------------------------|
|            | RU 1                          | RU 2                    | RU 3                    | RU 4                    | RU 5                    |
| 26-tone RU | RU 1<br>[-2035: -2010]        | RU 2<br>[-2009: -1984]  | RU 3<br>[-1981: -1956]  | RU 4<br>[-1955: -1930]  | RU 5<br>[-1928: -1903]  |
|            | RU 6<br>[-1901: -1876]        | RU 7<br>[-1875: -1850]  | RU 8<br>[-1847: -1822]  | RU 9<br>[-1821: -1796]  |                         |
|            | RU 10<br>[-1788: -1763]       | RU 11<br>[-1762: -1737] | RU 12<br>[-1734: -1709] | RU 13<br>[-1708: -1683] | RU 14<br>[-1681: -1656] |
|            | RU 15<br>[-1654: -1629]       | RU 16<br>[-1628: -1603] | RU 17<br>[-1600: -1575] | RU 18<br>[-1574: -1549] | RU 19<br>[not defined]  |
|            | RU 20<br>[-1523: -1498]       | RU 21<br>[-1497: -1472] | RU 22<br>[-1469: -1444] | RU 23<br>[-1443: -1418] | RU 24<br>[-1416: -1391] |
|            | RU 25<br>[-1389: -1364]       | RU 26<br>[-1363: -1338] | RU 27<br>[-1335: -1310] | RU 28<br>[-1309: -1284] |                         |
|            | RU 29<br>[-1276: -1251]       | RU 30<br>[-1250: -1225] | RU 31<br>[-1222: -1197] | RU 32<br>[-1196: -1171] | RU 33<br>[-1169: -1144] |
|            | RU 34<br>[-1142: -1117]       | RU 35<br>[-1116: -1091] | RU 36<br>[-1088: -1063] | RU 37<br>[-1062: -1037] |                         |
|            | RU 38<br>[-1011: -986]        | RU 39<br>[-985: -960]   | RU 40<br>[-957: -932]   | RU 41<br>[-931: -906]   | RU 42<br>[-904: -879]   |
|            | RU 43<br>[-877: -852]         | RU 44<br>[-851: -826]   | RU 45<br>[-823: -798]   | RU 46<br>[-797: -772]   |                         |
|            | RU 47<br>[-764: -739]         | RU 48<br>[-738: -713]   | RU 49<br>[-710: -685]   | RU 50<br>[-684: -659]   | RU 51<br>[-657: -632]   |
|            | RU 52<br>[-630: -605]         | RU 53<br>[-604: -579]   | RU 54<br>[-576: -551]   | RU 55<br>[-550: -525]   | RU 56<br>[not defined]  |
|            | RU 57<br>[-499: -474]         | RU 58<br>[-473: -448]   | RU 59<br>[-445: -420]   | RU 60<br>[-419: -394]   | RU 61<br>[-392: -367]   |
|            | RU 62<br>[-365: -340]         | RU 63<br>[-339: -314]   | RU 64<br>[-311: -286]   | RU 65<br>[-285: -260]   |                         |
|            | RU 66<br>[-252: -227]         | RU 67<br>[-226: -201]   | RU 68<br>[-198: -173]   | RU 69<br>[-172: -147]   | RU 70<br>[-145: -120]   |
|            | RU 71<br>[-118: -93]          | RU 72<br>[-92: -67]     | RU 73<br>[-64: -39]     | RU 74<br>[-38: -13]     |                         |
|            | RU 75<br>[13: 38]             | RU 76<br>[39: 64]       | RU 77<br>[67: 92]       | RU 78<br>[93: 118]      | RU 79<br>[120: 145]     |
|            | RU 80<br>[147: 172]           | RU 81<br>[173: 198]     | RU 82<br>[201: 226]     | RU 83<br>[227: 252]     |                         |
|            | RU 84<br>[260: 285]           | RU 85<br>[286: 311]     | RU 86<br>[314: 339]     | RU 87<br>[340: 365]     | RU 88<br>[367: 392]     |
|            | RU 89<br>[394: 419]           | RU 90<br>[420: 445]     | RU 91<br>[448: 473]     | RU 92<br>[474: 499]     | RU 93<br>[not defined]  |
|            | RU 94<br>[525: 550]           | RU 95<br>[551: 576]     | RU 96<br>[579: 604]     | RU 97<br>[605: 630]     | RU 98<br>[632: 657]     |

Table 36-7—Data and pilot subcarrier indices for RUs in a 320 MHz EHT PPDU (continued)

| RU type               | RU index and subcarrier range |                         |                         |                         |                         |  |
|-----------------------|-------------------------------|-------------------------|-------------------------|-------------------------|-------------------------|--|
|                       | RU 99<br>[659: 684]           | RU 100<br>[685: 710]    | RU 101<br>[713: 738]    | RU 102<br>[739: 764]    | RU 107<br>[879: 904]    |  |
| 26-tone RU            | RU 103<br>[772: 797]          | RU 104<br>[798: 823]    | RU 105<br>[826: 851]    | RU 106<br>[852: 877]    |                         |  |
|                       | RU 108<br>[906: 931]          | RU 109<br>[932: 957]    | RU 110<br>[960: 985]    | RU 111<br>[986: 1011]   |                         |  |
|                       | RU 112<br>[1037: 1062]        | RU 113<br>[1063: 1088]  | RU 114<br>[1091: 1116]  | RU 115<br>[1117: 1142]  | RU 116<br>[1144: 1169]  |  |
|                       | RU 117<br>[1171: 1196]        | RU 118<br>[1197: 1222]  | RU 119<br>[1225: 1250]  | RU 120<br>[1251: 1276]  |                         |  |
|                       | RU 121<br>[1284: 1309]        | RU 122<br>[1310: 1335]  | RU 123<br>[1338: 1363]  | RU 124<br>[1364: 1389]  | RU 125<br>[1391: 1416]  |  |
|                       | RU 126<br>[1418: 1443]        | RU 127<br>[1444: 1469]  | RU 128<br>[1472: 1497]  | RU 129<br>[1498: 1523]  | RU 130<br>[not defined] |  |
|                       | RU 131<br>[1549: 1574]        | RU 132<br>[1575: 1600]  | RU 133<br>[1603: 1628]  | RU 134<br>[1629: 1654]  | RU 135<br>[1656: 1681]  |  |
|                       | RU 136<br>[1683: 1708]        | RU 137<br>[1709: 1734]  | RU 138<br>[1737: 1762]  | RU 139<br>[1763: 1788]  |                         |  |
|                       | RU 140<br>[1796: 1821]        | RU 141<br>[1822: 1847]  | RU 142<br>[1850: 1875]  | RU 143<br>[1876: 1901]  | RU 144<br>[1903: 1928]  |  |
|                       | RU 145<br>[1930: 1955]        | RU 146<br>[1956: 1981]  | RU 147<br>[1984: 2009]  | RU 148<br>[2010: 2035]  |                         |  |
|                       | 52-tone RU                    | RU 1<br>[-2035: -1984]  | RU 2<br>[-1981: -1930]  | RU 3<br>[-1901: -1850]  | RU 4<br>[-1847: -1796]  |  |
|                       |                               | RU 5<br>[-1788: -1737]  | RU 6<br>[-1734: -1683]  | RU 7<br>[-1654: -1603]  | RU 8<br>[-1600: -1549]  |  |
|                       |                               | RU 9<br>[-1523: -1472]  | RU 10<br>[-1469: -1418] | RU 11<br>[-1389: -1338] | RU 12<br>[-1335: -1284] |  |
|                       |                               | RU 13<br>[-1276: -1225] | RU 14<br>[-1222: -1171] | RU 15<br>[-1142: -1091] | RU 16<br>[-1088: -1037] |  |
|                       |                               | RU 17<br>[-1011: -960]  | RU 18<br>[-957: -906]   | RU 19<br>[-877: -826]   | RU 20<br>[-823: -772]   |  |
|                       |                               | RU 21<br>[-764: -713]   | RU 22<br>[-710: -659]   | RU 23<br>[-630: -579]   | RU 24<br>[-576: -525]   |  |
| RU 25<br>[-499: -448] |                               | RU 26<br>[-445: -394]   | RU 27<br>[-365: -314]   | RU 28<br>[-311: -260]   |                         |  |
| RU 29<br>[-252: -201] |                               | RU 30<br>[-198: -147]   | RU 31<br>[-118: -67]    | RU 32<br>[-64: -13]     |                         |  |
| RU 33<br>[13: 64]     |                               | RU 34<br>[67: 118]      | RU 35<br>[147: 198]     | RU 36<br>[201: 252]     |                         |  |
| RU 37<br>[260: 311]   |                               | RU 38<br>[314: 365]     | RU 39<br>[394: 445]     | RU 40<br>[448: 499]     |                         |  |

Table 36-7—Data and pilot subcarrier indices for RUs in a 320 MHz EHT PPDU (continued)

| RU type     | RU index and subcarrier range        |                                      |                                   |                                  |  |
|-------------|--------------------------------------|--------------------------------------|-----------------------------------|----------------------------------|--|
|             | RU 41                                | RU 42                                | RU 43                             | RU 44                            |  |
| 52-tone RU  | RU 41<br>[525: 576]                  | RU 42<br>[579: 630]                  | RU 43<br>[659: 710]               | RU 44<br>[713: 764]              |  |
|             | RU 45<br>[772: 823]                  | RU 46<br>[826: 877]                  | RU 47<br>[906: 957]               | RU 48<br>[960: 1011]             |  |
|             | RU 49<br>[1037: 1088]                | RU 50<br>[1091: 1142]                | RU 51<br>[1171: 1222]             | RU 52<br>[1225: 1276]            |  |
|             | RU 53<br>[1284: 1335]                | RU 54<br>[1338: 1389]                | RU 55<br>[1418: 1469]             | RU 56<br>[1472: 1523]            |  |
|             | RU 57<br>[1549: 1600]                | RU 58<br>[1603: 1654]                | RU 59<br>[1683: 1734]             | RU 60<br>[1737: 1788]            |  |
|             | RU 61<br>[1796: 1847]                | RU 62<br>[1850: 1901]                | RU 63<br>[1930: 1981]             | RU 64<br>[1984: 2035]            |  |
|             | RU 1<br>[-2035: -1930]               | RU 2<br>[-1901: -1796]               | RU 3<br>[-1788: -1683]            | RU 4<br>[-1654: -1549]           |  |
|             | RU 5<br>[-1523: -1418]               | RU 6<br>[-1389: -1284]               | RU 7<br>[-1276: -1171]            | RU 8<br>[-1142: -1037]           |  |
|             | RU 9<br>[-1011: -906]                | RU 10<br>[-877: -772]                | RU 11<br>[-764: -659]             | RU 12<br>[-630: -525]            |  |
|             | RU 13<br>[-499: -394]                | RU 14<br>[-365: -260]                | RU 15<br>[-252: -147]             | RU 16<br>[-118: -13]             |  |
| 106-tone RU | RU 17<br>[13: 118]                   | RU 18<br>[147: 252]                  | RU 19<br>[260: 365]               | RU 20<br>[394: 499]              |  |
|             | RU 21<br>[525: 630]                  | RU 22<br>[659: 764]                  | RU 23<br>[772: 877]               | RU 24<br>[906: 1011]             |  |
|             | RU 25<br>[1037: 1142]                | RU 26<br>[1171: 1276]                | RU 27<br>[1284: 1389]             | RU 28<br>[1418: 1523]            |  |
|             | RU 29<br>[1549: 1654]                | RU 30<br>[1683: 1788]                | RU 31<br>[1796: 1901]             | RU 32<br>[1930: 2035]            |  |
|             | RU 1<br>[-2036: -1795]               | RU 2<br>[-1789: -1548]               | RU 3<br>[-1524: -1283]            | RU 4<br>[-1277: -1036]           |  |
|             | RU 5<br>[-1012: -771]                | RU 6<br>[-765: -524]                 | RU 7<br>[-500: -259]              | RU 8<br>[-253: -12]              |  |
|             | RU 9<br>[12: 253]                    | RU 10<br>[259: 500]                  | RU 11<br>[524: 765]               | RU 12<br>[771: 1012]             |  |
|             | RU 13<br>[1036: 1277]                | RU 14<br>[1283: 1524]                | RU 15<br>[1548: 1789]             | RU 16<br>[1795: 2036]            |  |
|             | RU 1<br>[-2036: -1795, -1789: -1548] | RU 2<br>[-1524: -1283, -1277: -1036] | RU 3<br>[-1012: -771, -765: -524] | RU 4<br>[-500: -259, -253: -12]  |  |
|             | RU 5<br>[12: 253, 259: 500]          | RU 6<br>[524: 765, 771: 1012]        | RU 7<br>[1036: 1277, 1283: 1524]  | RU 8<br>[1548: 1789, 1795: 2036] |  |
| 242-tone RU |                                      |                                      |                                   |                                  |  |
|             |                                      |                                      |                                   |                                  |  |
| 484-tone RU |                                      |                                      |                                   |                                  |  |
|             |                                      |                                      |                                   |                                  |  |

Table 36-7—Data and pilot subcarrier indices for RUs in a 320 MHz EHT PPDU (continued)

| RU type       | RU index and subcarrier range                                                                            |                                                      |                      |                          |  |
|---------------|----------------------------------------------------------------------------------------------------------|------------------------------------------------------|----------------------|--------------------------|--|
|               | RU 1                                                                                                     | RU 2                                                 | RU 3                 | RU 4                     |  |
| 996-tone RU   | [-2036: -1539, -1533: -1036]                                                                             | [-1012: -515, -509: -12]                             | [12: 509, 515: 1012] | [1036: 1533, 1539: 2036] |  |
| 2×996-tone RU | [-2036: -1539, -1533: -1036, -1012: -515, -509: -12]                                                     | RU 2<br>[12: 509, 515: 1012, 1036: 1533, 1539: 2036] |                      |                          |  |
| 4×996-tone RU | RU 1<br>[-2036: -1539, -1533: -1036, -1012: -515, -509: -12, 12: 509, 515: 1012, 1036: 1533, 1539: 2036] |                                                      |                      |                          |  |

### 36.3.2.2 Subcarriers and resource allocation for multiple RUs

#### 36.3.2.2.1 General

The EHT PHY supports the use of MRU in an EHT PPDU. An MRU consists of selected combinations of multiple RUs of 26-tone RU, 52-tone RU, 106-tone RU, 242-tone RU, 484-tone RU, 996-tone RU, and 2×996-tone RU. The tone indices of the various RUs for different EHT PPDU bandwidths are defined in 36.3.2.1.

RUs that are the same size as or larger than 242-tone RUs are defined as large size RUs and RUs that are smaller than 242-tone RUs are defined as small size RUs.

Small size RUs can only be combined with small size RUs to form small size MRUs. The supported small size MRUs are defined in 36.3.2.2.2.

Large size RUs can only be combined with large size RUs to form large size MRUs. The supported large size MRUs are defined in 36.3.2.2.3.

#### 36.3.2.2.2 Small size MRUs

The small size MRUs defined for DL and UL OFDMA transmissions are as follows: 52+26-tone MRU and 106+26-tone MRU.

The 52+26-tone MRU is obtained by a certain combination of a 52-tone RU and an adjacent 26-tone RU that both fall within the same 20 MHz channel. The data subcarriers of a 52+26-tone MRU consist of the union of the data subcarriers of the 52-tone and 26-tone RUs that make up the 52+26-tone MRU. The pilot subcarriers of a 52+26-tone MRU consist of the union of the pilot subcarriers of the 52-tone and 26-tone RUs that make up the 52+26-tone MRU.

The 106+26-tone MRU is obtained by a certain combination of a 106-tone RU and an adjacent 26-tone RU that both fall within the same 20 MHz channel. The data subcarriers of a 106+26-tone MRU consist of the union of the data subcarriers of the 106-tone and 26-tone RUs that make up the 106+26-tone MRU. The

pilot subcarriers of a 106+26-tone MRU consist of the union of the pilot subcarriers of the 106-tone and 26-tone RUs that make up the 106+26-tone MRU.

The 52+26-tone MRUs in an OFDMA 20 MHz EHT PPDU are defined in Figure 36-5.

![Diagram illustrating the structure of 52+26-tone MRUs in an OFDMA 20 MHz EHT PPDU. The diagram shows three rows of resource blocks (RUs). The top row is labeled '26-tone RUs'. The middle row is labeled '52-tone RUs'. The bottom row is labeled '52+26-tone MRUs'. The 52+26-tone MRUs are formed by combining a 52-tone RU and a 26-tone RU. The diagram also shows Subcarriers, DC (Data Carrier), and Subcarriers spanning the resource blocks.](108ea2fe14a5b4119de001d2a0e6b0b6_img.jpg)

Diagram illustrating the structure of 52+26-tone MRUs in an OFDMA 20 MHz EHT PPDU. The diagram shows three rows of resource blocks (RUs). The top row is labeled '26-tone RUs'. The middle row is labeled '52-tone RUs'. The bottom row is labeled '52+26-tone MRUs'. The 52+26-tone MRUs are formed by combining a 52-tone RU and a 26-tone RU. The diagram also shows Subcarriers, DC (Data Carrier), and Subcarriers spanning the resource blocks.

Figure 36-5—52+26-tone MRUs in an OFDMA 20 MHz EHT PPDU

The 52+26-tone MRUs in an OFDMA 40 MHz EHT PPDU are defined in Figure 36-6.

![Diagram illustrating the structure of 52+26-tone MRUs in an OFDMA 40 MHz EHT PPDU. The diagram shows three rows of resource blocks (RUs). The top row is labeled '26-tone RUs'. The middle row is labeled '52-tone RUs'. The bottom row is labeled '52+26-tone MRUs'. The 52+26-tone MRUs are formed by combining a 52-tone RU and a 26-tone RU. The diagram also shows Subcarriers, DC (Data Carrier), and Subcarriers spanning the resource blocks.](fe14c5dc2251b52a11f8c350f724645b_img.jpg)

Diagram illustrating the structure of 52+26-tone MRUs in an OFDMA 40 MHz EHT PPDU. The diagram shows three rows of resource blocks (RUs). The top row is labeled '26-tone RUs'. The middle row is labeled '52-tone RUs'. The bottom row is labeled '52+26-tone MRUs'. The 52+26-tone MRUs are formed by combining a 52-tone RU and a 26-tone RU. The diagram also shows Subcarriers, DC (Data Carrier), and Subcarriers spanning the resource blocks.

Figure 36-6—52+26-tone MRUs in an OFDMA 40 MHz EHT PPDU

The 52+26-tone MRUs in each 80 MHz frequency subblock of an OFDMA 80 MHz, 160 MHz, or 320 MHz EHT PPDU are defined in Figure 36-7. For 160 MHz and 320 MHz EHT PPDU, MRU indices are different in each 80 MHz frequency subblock and defined in Table 36-11 and Table 36-12.

![Diagram illustrating the structure of 52+26-tone MRUs in each 80 MHz frequency subblock of an OFDMA 80 MHz, 160 MHz, or 320 MHz EHT PPDU. The diagram shows three rows of resource blocks (RUs). The top row is labeled '26-tone RUs'. The middle row is labeled '52-tone RUs'. The bottom row is labeled '52+26-tone MRUs'. The 52+26-tone MRUs are formed by combining a 52-tone RU and a 26-tone RU. The diagram also shows Subcarriers, DC (Data Carrier), and Subcarriers spanning the resource blocks.](d2c9e747b055ef749d52e39e48038d1c_img.jpg)

Diagram illustrating the structure of 52+26-tone MRUs in each 80 MHz frequency subblock of an OFDMA 80 MHz, 160 MHz, or 320 MHz EHT PPDU. The diagram shows three rows of resource blocks (RUs). The top row is labeled '26-tone RUs'. The middle row is labeled '52-tone RUs'. The bottom row is labeled '52+26-tone MRUs'. The 52+26-tone MRUs are formed by combining a 52-tone RU and a 26-tone RU. The diagram also shows Subcarriers, DC (Data Carrier), and Subcarriers spanning the resource blocks.

Figure 36-7—52+26-tone MRUs in each 80 MHz frequency subblock of an OFDMA 80 MHz, 160 MHz, or 320 MHz EHT PPDU

The 106+26-tone MRUs in an OFDMA 20 MHz EHT PPDU are defined in Figure 36-8.

![](d693fa68fafed07a09d15f37b5ccd613_img.jpg)

Figure 36-8 illustrates the allocation of 106+26-tone MRUs in an OFDMA 20 MHz EHT PPDU. The diagram shows three rows of resource blocks (RBs) and subcarriers. The top row shows 26-tone RUs, each consisting of 26 subcarriers. The middle row shows 106-tone RUs, each consisting of 106 subcarriers. The bottom row shows 106+26-tone MRUs, which are formed by combining a 106-tone RU and a 26-tone RU. The 26-tone RU is positioned at the end of the 106-tone RU, and the combined block is labeled 106+26-tone MRUs. A dashed line indicates the DC (Data Carrier) position, which is centered within the 106+26-tone MRU block.

The 106+26-tone MRUs in an OFDMA 40 MHz EHT PPDU are defined in Figure 36-9.

![](d51e44919c940ef6c75479b740dcd3dd_img.jpg)

Figure 36-9 illustrates the allocation of 106+26-tone MRUs in an OFDMA 40 MHz EHT PPDU. The diagram shows three rows of resource blocks (RBs) and subcarriers. The top row shows 26-tone RUs, each consisting of 26 subcarriers. The middle row shows 106-tone RUs, each consisting of 106 subcarriers. The bottom row shows 106+26-tone MRUs, which are formed by combining a 106-tone RU and a 26-tone RU. The 26-tone RU is positioned at the end of the 106-tone RU, and the combined block is labeled 106+26-tone MRUs. A dashed line indicates the DC (Data Carrier) position, which is centered within the 106+26-tone MRU block. The structure is repeated across two OFDMA subblocks.

Figure 36-9—106+26-tone MRUs in an OFDMA 40 MHz EHT PPDU

The 106+26-tone MRUs in each 80 MHz frequency subblock of an OFDMA 80 MHz, 160 MHz, or 320 MHz EHT PPDU are shown in Figure 36-10. For 160 MHz and 320 MHz EHT PPDU, MRU indices are different in each 80 MHz frequency subblock and defined in Table 36-11 and Table 36-12.

![](a7d0bfcfffe82688dd3386af4a5e5add_img.jpg)

Figure 36-10 illustrates the allocation of 106+26-tone MRUs in each 80 MHz frequency subblock of an OFDMA 80 MHz, 160 MHz, or 320 MHz EHT PPDU. The diagram shows three rows of resource blocks (RBs) and subcarriers. The top row shows 26-tone RUs, each consisting of 26 subcarriers. The middle row shows 106-tone RUs, each consisting of 106 subcarriers. The bottom row shows 106+26-tone MRUs, which are formed by combining a 106-tone RU and a 26-tone RU. The 26-tone RU is positioned at the end of the 106-tone RU, and the combined block is labeled 106+26-tone MRUs. A dashed line indicates the DC (Data Carrier) position, which is centered within the 106+26-tone MRU block. The structure is repeated across three OFDMA subblocks.

Figure 36-10—106+26-tone MRUs in each 80 MHz frequency subblock of an OFDMA 80 MHz, 160 MHz, or 320 MHz EHT PPDU

The locations of the small size MRUs are fixed as defined in Table 36-8, Table 36-9, Table 36-10, Table 36-11, and Table 36-12 for 20 MHz, 40 MHz, 80 MHz, 160 MHz, and 320 MHz, respectively.

For Table 36-8, the indices for MRUs are defined based on the indices for RUs in Table 27-8.

Table 36-8—Indices for small size MRUs in an OFDMA 20 MHz EHT PPDU

| MRU type        | MRU index | MRU combination              |
|-----------------|-----------|------------------------------|
| 52+26-tone MRU  | MRU 1     | 52-tone RU 2 + 26-tone RU 2  |
|                 | MRU 2     | 52-tone RU 2 + 26-tone RU 5  |
|                 | MRU 3     | 52-tone RU 3 + 26-tone RU 8  |
| 106+26-tone MRU | MRU 1     | 106-tone RU 1 + 26-tone RU 5 |
|                 | MRU 2     | 106-tone RU 2 + 26-tone RU 5 |

For Table 36-9, the indices for MRUs are defined based on the indices for RUs in Table 27-8.

Table 36-9—Indices for small size MRUs in an OFDMA 40 MHz EHT PPDU

| MRU type        | MRU index | MRU combination               |
|-----------------|-----------|-------------------------------|
| 52+26-tone MRU  | MRU 1     | 52-tone RU 2 + 26-tone RU 2   |
|                 | MRU 2     | 52-tone RU 2 + 26-tone RU 5   |
|                 | MRU 3     | 52-tone RU 3 + 26-tone RU 8   |
|                 | MRU 4     | 52-tone RU 6 + 26-tone RU 11  |
|                 | MRU 5     | 52-tone RU 6 + 26-tone RU 14  |
|                 | MRU 6     | 52-tone RU 7 + 26-tone RU 17  |
|                 | MRU 7     | 52-tone RU 8 + 26-tone RU 20  |
| 106+26-tone MRU | MRU 1     | 106-tone RU 1 + 26-tone RU 5  |
|                 | MRU 2     | 106-tone RU 2 + 26-tone RU 5  |
|                 | MRU 3     | 106-tone RU 3 + 26-tone RU 14 |
|                 | MRU 4     | 106-tone RU 4 + 26-tone RU 14 |

For Table 36-10, the indices for MRUs are defined based on the indices for RUs in Table 36-5.

For Table 36-11, the indices for MRUs are defined based on the indices for RUs in Table 36-6.

For Table 36-12, the indices for MRUs are defined based on the indices for RUs in Table 36-7.

Table 36-10—Indices for small size MRUs in an OFDMA 80 MHz EHT PPDU

| MRU type        | MRU index | MRU combination               |
|-----------------|-----------|-------------------------------|
| 52+26-tone MRU  | MRU 1     | Not defined                   |
|                 | MRU 2     | 52-tone RU 2 + 26-tone RU 5   |
|                 | MRU 3     | 52-tone RU 3 + 26-tone RU 8   |
|                 | MRU 4     | 52-tone RU 6 + 26-tone RU 11  |
|                 | MRU 5     | 52-tone RU 6 + 26-tone RU 14  |
|                 | MRU 6     | Not defined                   |
|                 | MRU 7     | Not defined                   |
|                 | MRU 8     | 52-tone RU 10 + 26-tone RU 24 |
|                 | MRU 9     | 52-tone RU 11 + 26-tone RU 27 |
|                 | MRU 10    | 52-tone RU 14 + 26-tone RU 30 |
|                 | MRU 11    | 52-tone RU 14 + 26-tone RU 33 |
|                 | MRU 12    | Not defined                   |
| 106+26-tone MRU | MRU 1     | 106-tone RU 1 + 26-tone RU 5  |
|                 | MRU 2     | Not defined                   |
|                 | MRU 3     | Not defined                   |
|                 | MRU 4     | 106-tone RU 4 + 26-tone RU 14 |
|                 | MRU 5     | 106-tone RU 5 + 26-tone RU 24 |
|                 | MRU 6     | Not defined                   |
|                 | MRU 7     | Not defined                   |
|                 | MRU 8     | 106-tone RU 8 + 26-tone RU 33 |

Except for a 20 MHz operating non-AP STA, it is mandatory for a non-AP STA to support the transmission and reception of 52+26-tone and 106+26-tone MRUs in an OFDMA EHT PPDU.

For a 20 MHz operating non-AP STA excluding a 20 MHz-only non-AP EHT STA with 20 MHz-Only Limited Capabilities Support subfield equal to 1, the transmission and reception of 52+26-tone and 106+26-tone MRUs that are allowed in 36.3.2.6 shall be supported.

For a 20 MHz-only non-AP EHT STA with 20 MHz-Only Limited Capabilities Support subfield equal to 1, the transmission and reception of 52+26-tone and 106+26-tone MRUs that are allowed in 36.3.2.6 may be supported.

Table 36-11—Indices for small size MRUs in an OFDMA 160 MHz EHT PPDU

| MRU type       | MRU index | MRU combination               |
|----------------|-----------|-------------------------------|
| 52+26-tone MRU | MRU 1     | Not defined                   |
|                | MRU 2     | 52-tone RU 2 + 26-tone RU 5   |
|                | MRU 3     | 52-tone RU 3 + 26-tone RU 8   |
|                | MRU 4     | 52-tone RU 6 + 26-tone RU 11  |
|                | MRU 5     | 52-tone RU 6 + 26-tone RU 14  |
|                | MRU 6     | Not defined                   |
|                | MRU 7     | Not defined                   |
|                | MRU 8     | 52-tone RU 10 + 26-tone RU 24 |
|                | MRU 9     | 52-tone RU 11 + 26-tone RU 27 |
|                | MRU 10    | 52-tone RU 14 + 26-tone RU 30 |
|                | MRU 11    | 52-tone RU 14 + 26-tone RU 33 |
|                | MRU 12    | Not defined                   |
|                | MRU 13    | Not defined                   |
|                | MRU 14    | 52-tone RU 18 + 26-tone RU 42 |
|                | MRU 15    | 52-tone RU 19 + 26-tone RU 45 |
|                | MRU 16    | 52-tone RU 22 + 26-tone RU 48 |
|                | MRU 17    | 52-tone RU 22 + 26-tone RU 51 |
|                | MRU 18    | Not defined                   |
|                | MRU 19    | Not defined                   |
|                | MRU 20    | 52-tone RU 26 + 26-tone RU 61 |
|                | MRU 21    | 52-tone RU 27 + 26-tone RU 64 |
|                | MRU 22    | 52-tone RU 30 + 26-tone RU 67 |
|                | MRU 23    | 52-tone RU 30 + 26-tone RU 70 |
|                | MRU 24    | Not defined                   |

Table 36-11—Indices for small size MRUs in an OFDMA 160 MHz EHT PPDU (continued)

| MRU type        | MRU index | MRU combination                |
|-----------------|-----------|--------------------------------|
| 106+26-tone MRU | MRU 1     | 106-tone RU 1 + 26-tone RU 5   |
|                 | MRU 2     | Not defined                    |
|                 | MRU 3     | Not defined                    |
|                 | MRU 4     | 106-tone RU 4 + 26-tone RU 14  |
|                 | MRU 5     | 106-tone RU 5 + 26-tone RU 24  |
|                 | MRU 6     | Not defined                    |
|                 | MRU 7     | Not defined                    |
|                 | MRU 8     | 106-tone RU 8 + 26-tone RU 33  |
|                 | MRU 9     | 106-tone RU 9 + 26-tone RU 42  |
|                 | MRU 10    | Not defined                    |
|                 | MRU 11    | Not defined                    |
|                 | MRU 12    | 106-tone RU 12 + 26-tone RU 51 |
|                 | MRU 13    | 106-tone RU 13 + 26-tone RU 61 |
|                 | MRU 14    | Not defined                    |
|                 | MRU 15    | Not defined                    |
|                 | MRU 16    | 106-tone RU 16 + 26-tone RU 70 |

Table 36-12—Indices for small size MRUs in an OFDMA 320 MHz EHT PPDU

| MRU type       | MRU index | MRU combination               |
|----------------|-----------|-------------------------------|
| 52+26-tone MRU | MRU 1     | Not defined                   |
|                | MRU 2     | 52-tone RU 2 + 26-tone RU 5   |
|                | MRU 3     | 52-tone RU 3 + 26-tone RU 8   |
|                | MRU 4     | 52-tone RU 6 + 26-tone RU 11  |
|                | MRU 5     | 52-tone RU 6 + 26-tone RU 14  |
|                | MRU 6     | Not defined                   |
|                | MRU 7     | Not defined                   |
|                | MRU 8     | 52-tone RU 10 + 26-tone RU 24 |
|                | MRU 9     | 52-tone RU 11 + 26-tone RU 27 |
|                | MRU 10    | 52-tone RU 14 + 26-tone RU 30 |
|                | MRU 11    | 52-tone RU 14 + 26-tone RU 33 |
|                | MRU 12    | Not defined                   |
|                | MRU 13    | Not defined                   |
|                | MRU 14    | 52-tone RU 18 + 26-tone RU 42 |

Table 36-12—Indices for small size MRUs in an OFDMA 320 MHz EHT PPDU (continued)

| MRU type | MRU index | MRU combination                |
|----------|-----------|--------------------------------|
|          | MRU 15    | 52-tone RU 19 + 26-tone RU 45  |
|          | MRU 16    | 52-tone RU 22 + 26-tone RU 48  |
|          | MRU 17    | 52-tone RU 22 + 26-tone RU 51  |
|          | MRU 18    | Not defined                    |
|          | MRU 19    | Not defined                    |
|          | MRU 20    | 52-tone RU 26 + 26-tone RU 61  |
|          | MRU 21    | 52-tone RU 27 + 26-tone RU 64  |
|          | MRU 22    | 52-tone RU 30 + 26-tone RU 67  |
|          | MRU 23    | 52-tone RU 30 + 26-tone RU 70  |
|          | MRU 24    | Not defined                    |
|          | MRU 25    | Not defined                    |
|          | MRU 26    | 52-tone RU 34 + 26-tone RU 79  |
|          | MRU 27    | 52-tone RU 35 + 26-tone RU 82  |
|          | MRU 28    | 52-tone RU 38 + 26-tone RU 85  |
|          | MRU 29    | 52-tone RU 38 + 26-tone RU 88  |
|          | MRU 30    | Not defined                    |
|          | MRU 31    | Not defined                    |
|          | MRU 32    | 52-tone RU 42 + 26-tone RU 98  |
|          | MRU 33    | 52-tone RU 43 + 26-tone RU 101 |
|          | MRU 34    | 52-tone RU 46 + 26-tone RU 104 |
|          | MRU 35    | 52-tone RU 46 + 26-tone RU 107 |
|          | MRU 36    | Not defined                    |
|          | MRU 37    | Not defined                    |
|          | MRU 38    | 52-tone RU 50 + 26-tone RU 116 |
|          | MRU 39    | 52-tone RU 51 + 26-tone RU 119 |
|          | MRU 40    | 52-tone RU 54 + 26-tone RU 122 |
|          | MRU 41    | 52-tone RU 54 + 26-tone RU 125 |
|          | MRU 42    | Not defined                    |
|          | MRU 43    | Not defined                    |
|          | MRU 44    | 52-tone RU 58 + 26-tone RU 135 |
|          | MRU 45    | 52-tone RU 59 + 26-tone RU 138 |
|          | MRU 46    | 52-tone RU 62 + 26-tone RU 141 |
|          | MRU 47    | 52-tone RU 62 + 26-tone RU 144 |

Table 36-12—Indices for small size MRUs in an OFDMA 320 MHz EHT PPDU (continued)

| MRU type        | MRU index                       | MRU combination                 |
|-----------------|---------------------------------|---------------------------------|
| 106+26-tone MRU | MRU 48                          | Not defined                     |
|                 | MRU 1                           | 106-tone RU 1 + 26-tone RU 5    |
|                 | MRU 2                           | Not defined                     |
|                 | MRU 3                           | Not defined                     |
|                 | MRU 4                           | 106-tone RU 4 + 26-tone RU 14   |
|                 | MRU 5                           | 106-tone RU 5 + 26-tone RU 24   |
|                 | MRU 6                           | Not defined                     |
|                 | MRU 7                           | Not defined                     |
|                 | MRU 8                           | 106-tone RU 8 + 26-tone RU 33   |
|                 | MRU 9                           | 106-tone RU 9 + 26-tone RU 42   |
|                 | MRU 10                          | Not defined                     |
|                 | MRU 11                          | Not defined                     |
|                 | MRU 12                          | 106-tone RU 12 + 26-tone RU 51  |
|                 | MRU 13                          | 106-tone RU 13 + 26-tone RU 61  |
|                 | MRU 14                          | Not defined                     |
|                 | MRU 15                          | Not defined                     |
|                 | MRU 16                          | 106-tone RU 16 + 26-tone RU 70  |
|                 | MRU 17                          | 106-tone RU 17 + 26-tone RU 79  |
|                 | MRU 18                          | Not defined                     |
|                 | MRU 19                          | Not defined                     |
|                 | MRU 20                          | 106-tone RU 20 + 26-tone RU 88  |
|                 | MRU 21                          | 106-tone RU 21 + 26-tone RU 98  |
|                 | MRU 22                          | Not defined                     |
|                 | MRU 23                          | Not defined                     |
|                 | MRU 24                          | 106-tone RU 24 + 26-tone RU 107 |
|                 | MRU 25                          | 106-tone RU 25 + 26-tone RU 116 |
|                 | MRU 26                          | Not defined                     |
|                 | MRU 27                          | Not defined                     |
|                 | MRU 28                          | 106-tone RU 28 + 26-tone RU 125 |
|                 | MRU 29                          | 106-tone RU 29 + 26-tone RU 135 |
|                 | MRU 30                          | Not defined                     |
|                 | MRU 31                          | Not defined                     |
| MRU 32          | 106-tone RU 32 + 26-tone RU 144 |                                 |

### 36.3.2.2.3 Large size MRUs

#### 36.3.2.2.3.1 Large size MRUs for non-OFDMA

The large size MRUs defined for DL and UL non-OFDMA transmissions are as follows: 484+242-tone MRU, 996+484-tone MRU, 996+484+242-tone MRU, 2x996+484-tone MRU, 3x996-tone MRU, and 3x996+484-tone MRU.

For a non-OFDMA 80 MHz EHT PPDU, the 484+242-tone MRU is only defined when a 20 MHz subchannel is punctured. The 484+242-tone MRU is obtained by combining a 484-tone RU and a 242-tone RU in a non-OFDMA 80 MHz EHT PPDU. The data subcarriers of a 484+242-tone MRU consist of the union of the data subcarriers of the 484-tone and 242-tone RUs that make up the 484+242-tone MRU. The pilot subcarriers of a 484+242-tone MRU consist of the union of the pilot subcarriers of the 484-tone and 242-tone RUs that make up the 484+242-tone MRU. The four allowed 484+242-tone MRUs in a non-OFDMA 80 MHz EHT PPDU are shown in Figure 36-11.

![Diagram showing four allowed 484+242-tone MRUs in a non-OFDMA 80 MHz EHT PPDU. The diagram illustrates the structure of the MRUs, showing the 242-tone RUs and 484-tone RUs combined, separated by Null subcarriers and DC (DC offset). The four MRUs are labeled 484+242-tone MRU 1, 484+242-tone MRU 2, 484+242-tone MRU 3, and 484+242-tone MRU 4.](fe4ca50db4f9d4a2c97c610b123910eb_img.jpg)

Diagram showing four allowed 484+242-tone MRUs in a non-OFDMA 80 MHz EHT PPDU. The diagram illustrates the structure of the MRUs, showing the 242-tone RUs and 484-tone RUs combined, separated by Null subcarriers and DC (DC offset). The four MRUs are labeled 484+242-tone MRU 1, 484+242-tone MRU 2, 484+242-tone MRU 3, and 484+242-tone MRU 4.

Figure 36-11—Allowed 484+242-tone MRUs in a non-OFDMA 80 MHz EHT PPDU

For a non-OFDMA 160 MHz EHT PPDU, the 996+484-tone MRU is only defined when a 40 MHz subchannel is punctured. The 996+484-tone MRU is obtained by combining a 996-tone RU and a 484-tone RU in a non-OFDMA 160 MHz EHT PPDU. The data subcarriers of a 996+484-tone MRU consist of the union of the data subcarriers of the 996-tone and 484-tone RUs that make up the 996+484-tone MRU. The pilot subcarriers of a 996+484-tone MRU consist of the union of the pilot subcarriers of the 996-tone and 484-tone RUs that make up the 996+484-tone MRU. The four allowed 996+484-tone MRUs in a non-OFDMA 160 MHz EHT PPDU are shown in Figure 36-12.

![Figure 36-12 shows two diagrams illustrating allowed 996+484-tone MRUs in a non-OFDMA 160 MHz EHT PPDU. The diagrams show the frequency spectrum divided into 484-tone RUs and 996-tone RUs. The left diagram shows the structure of the 996+484-tone MRU 1, 2, 3, and 4, where the 996-tone RU is combined with a 484-tone RU. The right diagram shows the structure of the 996+484-tone MRU 1, 2, 3, and 4, where the 996-tone RU is combined with a 484-tone RU, and a Null subcarrier is indicated above the 484-tone RUs.](05ed46c73d9029377830151f6340ecbd_img.jpg)

Figure 36-12 shows two diagrams illustrating allowed 996+484-tone MRUs in a non-OFDMA 160 MHz EHT PPDU. The diagrams show the frequency spectrum divided into 484-tone RUs and 996-tone RUs. The left diagram shows the structure of the 996+484-tone MRU 1, 2, 3, and 4, where the 996-tone RU is combined with a 484-tone RU. The right diagram shows the structure of the 996+484-tone MRU 1, 2, 3, and 4, where the 996-tone RU is combined with a 484-tone RU, and a Null subcarrier is indicated above the 484-tone RUs.

Figure 36-12—Allowed 996+484-tone MRUs in non-OFDMA 160 MHz EHT PPDU

For a non-OFDMA 160 MHz EHT PPDU, the 996+484+242-tone MRU is only defined when a 20 MHz subchannel is punctured. The 996+484+242-tone MRU is obtained by combining a 996-tone RU, a 484-tone RU, and a 242-tone RU in a non-OFDMA 160 MHz EHT PPDU. The data subcarriers of a 996+484+242-tone MRU consist of the union of the data subcarriers of the 996-tone, 484-tone, and 242-tone RUs that make up the 996+484+242-tone MRU. The pilot subcarriers of a 996+484+242-tone MRU consist of the union of the pilot subcarriers of the 996-tone, 484-tone, and 242-tone RUs that make up the 996+484+242 tone MRU. The eight allowed 996+484+242-tone MRUs in a non-OFDMA 160 MHz EHT PPDU are shown in Figure 36-13.

![Diagram illustrating allowed 996+484+242-tone MRUs in a non-OFDMA 160 MHz EHT PPDU. The diagram shows two columns of resource blocks (RBs) and subcarriers. The left column is labeled 'DC' (Data Carrier). The RBs are grouped into 242-tone RUs, 484-tone RUs, and 996-tone RUs. The MRUs are defined by combining these RUs. The diagram shows 8 rows of MRUs, labeled 996+484+242-tone MRU 1 through 8. Each MRU is composed of a 996-tone RU, a 484-tone RU, and a 242-tone RU. The 242-tone RUs are shown as shaded blocks, and the 484-tone RUs are shown as unshaded blocks. The 996-tone RUs are shown as the largest shaded blocks. The diagram also indicates 'Null subcarriers' above the 242-tone RUs.](616b8b75a0b9809b21ede989768ff7ad_img.jpg)

Diagram illustrating allowed 996+484+242-tone MRUs in a non-OFDMA 160 MHz EHT PPDU. The diagram shows two columns of resource blocks (RBs) and subcarriers. The left column is labeled 'DC' (Data Carrier). The RBs are grouped into 242-tone RUs, 484-tone RUs, and 996-tone RUs. The MRUs are defined by combining these RUs. The diagram shows 8 rows of MRUs, labeled 996+484+242-tone MRU 1 through 8. Each MRU is composed of a 996-tone RU, a 484-tone RU, and a 242-tone RU. The 242-tone RUs are shown as shaded blocks, and the 484-tone RUs are shown as unshaded blocks. The 996-tone RUs are shown as the largest shaded blocks. The diagram also indicates 'Null subcarriers' above the 242-tone RUs.

Figure 36-13—Allowed 996+484+242-tone MRUs in a non-OFDMA 160 MHz EHT PPDU

For a non-OFDMA 320 MHz EHT PPDU, the 2 $\times$ 996+484-tone MRU is only defined when either 996-tone RU1 or 996-tone RU4 is punctured and any one of the 40 MHz subchannels in the remaining 240 MHz is punctured. The 2 $\times$ 996+484-tone MRU is obtained by combining two 996-tone RUs and a 484-tone RU in a non-OFDMA 320 MHz EHT PPDU. The data subcarriers of a 2 $\times$ 996+484-tone MRU consist of the union of the data subcarriers of the two 996-tone RUs and 484-tone RU that make up the 2 $\times$ 996+484-tone MRU. The pilot subcarriers of a 2 $\times$ 996+484-tone MRU consist of the union of the pilot subcarriers of the two 996-tone RUs and 484-tone RU that make up the 2 $\times$ 996+484-tone MRU. The twelve allowed 2 $\times$ 996+484-tone MRUs in a non-OFDMA 320 MHz EHT PPDU are shown in Figure 36-14. The highest 80 MHz frequency subblock in frequency shall be punctured if any one of the 2 $\times$ 996+484-tone MRU 1 to the 2 $\times$ 996+484-tone MRU 6 is used. The lowest 80 MHz frequency subblock in frequency shall be punctured if any one of the 2 $\times$ 996+484-tone MRU 7 to the 2 $\times$ 996+484-tone MRU 12 is used.

![Figure 36-14 shows the allowed 2x996+484-tone MRUs in a non-OFDMA 320 MHz EHT PPDU. The diagram illustrates the structure of the PPDU, showing the allocation of 996-tone RUs and 484-tone RUs across three subcarriers (RU, DC, and DC). The 996-tone RUs are combined to form 2x996-tone MRUs, and the 484-tone RU is used as a pilot subcarrier.](6614eb71a2399ed0e640f016f3a9ea2d_img.jpg)

Figure 36-14 shows the allowed 2x996+484-tone MRUs in a non-OFDMA 320 MHz EHT PPDU. The diagram illustrates the structure of the PPDU, showing the allocation of 996-tone RUs and 484-tone RUs across three subcarriers (RU, DC, and DC). The 996-tone RUs are combined to form 2x996-tone MRUs, and the 484-tone RU is used as a pilot subcarrier.

Figure 36-14—Allowed 2×996+484-tone MRUs in a non-OFDMA 320 MHz EHT PPDU

For a non-OFDMA 320 MHz EHT PPDU, the 3×996-tone MRU is only defined when an 80 MHz subchannel is punctured. The 3×996-tone MRU is obtained by combining three 996-tone RUs in a non-OFDMA 320 MHz EHT PPDU. The data subcarriers of a 3×996-tone MRU consist of the union of the data subcarriers of the three 996-tone RUs that make up the 3×996-tone MRU. The pilot subcarriers of a 3×996-tone MRU consist of the union of the pilot subcarriers of the three 996-tone RUs that make up the 3×996-tone MRU. The four allowed 3×996-tone MRUs in a non-OFDMA 320 MHz EHT PPDU are shown in Figure 36-15.

![Figure 36-15 shows the allowed 3×996-tone MRUs in a non-OFDMA 320 MHz EHT PPDU. The diagram illustrates the structure of the PPDU, showing the allocation of 996-tone RUs across three subcarriers (RU, DC, and DC). The 996-tone RUs are combined to form 3×996-tone MRUs.](5b35655405099217c9aa8d6cb01d8e2a_img.jpg)

Figure 36-15 shows the allowed 3×996-tone MRUs in a non-OFDMA 320 MHz EHT PPDU. The diagram illustrates the structure of the PPDU, showing the allocation of 996-tone RUs across three subcarriers (RU, DC, and DC). The 996-tone RUs are combined to form 3×996-tone MRUs.

Figure 36-15—Allowed 3×996-tone MRUs in a non-OFDMA 320 MHz EHT PPDU

For a non-OFDMA 320 MHz EHT PPDU, the 3×996+484-tone MRU is only defined when a 40 MHz subchannel is punctured. The 3×996+484-tone MRU is obtained by combining three 996-tone RUs and a 484-tone RU in a non-OFDMA 320 MHz EHT PPDU. The data subcarriers of a 3×996+484-tone MRU consist of the union of the data subcarriers of the three 996-tone RUs and 484-tone RU that make up the 3×996+484-tone MRU. The pilot subcarriers of a 3×996+484-tone MRU consist of the union of the pilot subcarriers of the three 996-tone RUs and 484-tone RU that make up the 3×996+484-tone MRU. The eight allowed 3×996+484-tone MRUs in a non-OFDMA 320 MHz EHT PPDU are shown in Figure 36-16.

![Figure 36-16 shows a diagram illustrating allowed 3x996+484-tone MRUs in a non-OFDMA 320 MHz EHT PPDU. The diagram is divided into two main sections, DC and DC, each showing multiple rows of MRUs. The left side lists the MRU sizes: 484-tone RU, 996-tone RU, 3x996+484-tone MRU 1, 3x996+484-tone MRU 2, 3x996+484-tone MRU 3, 3x996+484-tone MRU 4, 3x996+484-tone MRU 5, 3x996+484-tone MRU 6, 3x996+484-tone MRU 7, and 3x996+484-tone MRU 8. Each MRU is represented by a shaded block, showing the 996-tone and 484-tone subcarriers.](59af072438f6fb017c81a44829aba41d_img.jpg)

Figure 36-16 shows a diagram illustrating allowed 3x996+484-tone MRUs in a non-OFDMA 320 MHz EHT PPDU. The diagram is divided into two main sections, DC and DC, each showing multiple rows of MRUs. The left side lists the MRU sizes: 484-tone RU, 996-tone RU, 3x996+484-tone MRU 1, 3x996+484-tone MRU 2, 3x996+484-tone MRU 3, 3x996+484-tone MRU 4, 3x996+484-tone MRU 5, 3x996+484-tone MRU 6, 3x996+484-tone MRU 7, and 3x996+484-tone MRU 8. Each MRU is represented by a shaded block, showing the 996-tone and 484-tone subcarriers.

Figure 36-16—Allowed 3×996+484-tone MRUs in a non-OFDMA 320 MHz EHT PPDU

It is mandatory for a STA to support the transmission and reception of a 484+242-tone MRU in a non-OFDMA 80 MHz EHT PPDU, 996+484-tone and 996+484+242-tone MRUs in a non-OFDMA 160 MHz EHT PPDU, 2×996+484-tone, 3×996-tone, and 3×996+484-tone MRUs in a non-OFDMA 320 MHz EHT PPDU unless the MRU size is larger than STA's supported bandwidth.

#### 36.3.2.2.3.2 Large size MRUs for OFDMA

The large size MRU defined for DL and UL OFDMA transmissions are as follows: 484+242-tone MRU, 996+484-tone MRU, 2×996+484-tone MRU, 3×996-tone MRU, and 3×996+484-tone MRU.

NOTE—996+484+242-tone MRU is not used in DL and UL OFDMA transmissions.

A 484+242-tone MRU may be present in an OFDMA 80 MHz, 160 MHz or 320 MHz EHT PPDU. The 484+242-tone MRU is obtained by combining a 484-tone RU and a 242-tone RU within an 80 MHz frequency subblock. The data subcarriers of a 484+242-tone MRU consist of the union of the data subcarriers of the 484-tone and 242-tone RUs that make up the 484+242-tone MRU. The pilot subcarriers of a 484+242-tone MRU consist of the union of the pilot subcarriers of the 484-tone and 242-tone RUs that make up the 484+242-tone MRU. For an OFDMA 80 MHz EHT PPDU, the four allowed 484+242-tone MRUs are the same as for a non-OFDMA 80 MHz EHT PPDU as shown in Figure 36-11.

The 484+242-tone MRU defined for an OFDMA 80 MHz EHT PPDU applies to each 80 MHz frequency subblock of an OFDMA 160 MHz and 320 MHz EHT PPDU.

A 996+484-tone MRU may be present in an OFDMA 160 MHz and 320 MHz EHT PPDU. The 996+484-tone MRU is obtained by combining a 996-tone RU and a 484-tone RU in adjacent 80 MHz frequency subblocks of a 160 MHz channel. The data subcarriers of a 996+484-tone MRU consist of the union of the data subcarriers of the 996-tone and 484-tone RUs that make up the 996+484-tone MRU. The pilot subcarriers of a 996+484-tone MRU consist of the union of the pilot subcarriers of the 996-tone and 484-tone RUs that make up the 996+484-tone MRU. For an OFDMA 160 MHz EHT PPDU, the four allowed 996+484-tone MRUs are the same as for a non-OFDMA 160 MHz EHT PPDU as shown in Figure 36-12.

The 996+484-tone MRUs defined in an OFDMA 160 MHz EHT PPDU are allowed in the primary 160 MHz channel and the secondary 160 MHz channel of an OFDMA transmission in 320 MHz.

The 2×996+484-tone MRU is allowed in an OFDMA 320 MHz EHT PPDU. The 2×996+484-tone MRU is obtained by combining two 996-tone RUs and 484-tone RU. The data subcarriers of a 2×996+484-tone MRU consist of the union of the data subcarriers of the two 996-tone RUs and 484-tone RU that make up the 2×996+484-tone MRU. The pilot subcarriers of a 2×996+484-tone MRU consist of the union of the pilot subcarriers of the two 996-tone RUs and 484-tone RU that make up the 2×996+484-tone MRU. The twelve allowed 2×996+484-tone MRUs in an OFDMA 320 MHz EHT PPDU are the same as for a non-OFDMA 320 MHz EHT PPDU as shown in Figure 36-14.

The 3×996-tone MRU is allowed in an OFDMA 320 MHz EHT PPDU. The 3×996-tone MRU is obtained by combining three 996-tone RUs. The data subcarriers of a 3×996-tone MRU consist of the union of the data subcarriers of the three 996-tone RUs that make up the 3×996-tone MRU. The pilot subcarriers of a 3×996-tone MRU consist of the union of the pilot subcarriers of the three 996-tone RUs that make up the 3×996-tone MRU. The four allowed 3×996-tone MRUs in an OFDMA 320 MHz EHT PPDU are the same as for a non-OFDMA 320 MHz EHT PPDU as shown in Figure 36-15.

The 3×996+484-tone MRU is allowed in an OFDMA 320 MHz EHT PPDU. The 3×996+484-tone MRU is obtained by combining three 996-tone RUs and a 484-tone RU. The data subcarriers of a 3×996+484-tone MRU consist of the union of the data subcarriers of the three 996-tone RUs and 484-tone RU that make up the 3×996+484-tone MRU. The pilot subcarriers of a 3×996+484-tone MRU consist of the union of the pilot subcarriers of the three 996-tone RUs and 484-tone RU that make up the 3×996+484-tone MRU. The eight allowed 3×996+484-tone MRUs in an OFDMA 320 MHz EHT PPDU are the same as for a non-OFDMA 320 MHz EHT PPDU as shown in Figure 36-16.

It is mandatory for a non-AP STA to support the transmission and reception of 484+242-tone MRU in each 80 MHz frequency subblock, 996+484-tone MRU in the primary 160 MHz channel and the secondary 160 MHz channel, 2×996+484-tone MRU, 3×996-tone MRU, and 3×996+484-tone MRU in a 320 MHz channel for an OFDMA 80/160/320 MHz EHT PPDU unless the MRU size is larger than its supported bandwidth provided the entire MRU is located within the non-AP STA's operating bandwidth

#### 36.3.2.2.3.3 Location of large size MRUs

The locations of the large size MRUs are fixed as defined in Table 36-13, Table 36-14, and Table 36-15 for 80 MHz, 160 MHz and 320 MHz respectively.

For Table 36-13, the indices for MRUs are defined based on the indices for RUs in Table 36-5.

Table 36-13—Indices for large size MRUs in an OFDMA 80 MHz EHT PPDU and in a non-OFDMA 80 MHz EHT PPDU

| MRU type         | MRU index | Combinations                                                                   |
|------------------|-----------|--------------------------------------------------------------------------------|
| 484+242-tone MRU | MRU 1     | 484-tone RU 2 + 242-tone RU 2; [(gap-242-tone RU) - 242-tone RU - 484-tone RU] |
|                  | MRU 2     | 484-tone RU 2 + 242-tone RU 1; [242-tone RU - (gap-242-tone RU) - 484-tone RU] |
|                  | MRU 3     | 484-tone RU 1 + 242-tone RU 4; [484-tone RU - (gap-242-tone RU) - 242-tone RU] |
|                  | MRU 4     | 484-tone RU 1 + 242-tone RU 3; [484-tone RU - 242-tone RU - (gap-242-tone RU)] |

NOTE 1—“gap-242-tone RU” is not part of an MRU and is used to indicate the size of a gap between or beside RUs that form the MRU.

NOTE 2—In non-OFDMA transmission, “gap-242-tone RU” indicates that one 20 MHz subchannel corresponding to “gap-242-tone RU” is punctured and is to help indicate the frequency order of the MRU in an 80 MHz PPDU.

NOTE 3—In OFDMA transmission, “gap-242-tone RU” indicates that one 20 MHz subchannel corresponding to “gap-242-tone RU” is either punctured or unassigned or assigned to other RUs or MRUs for data transmission, and is to help indicate the frequency order of the MRU within an 80 MHz EHT PPDU.

For Table 36-14, the indices for MRUs are defined based on the indices for RUs in Table 36-6.

Table 36-14—Indices for large size MRUs in an OFDMA 160 MHz EHT PPDU and in a non-OFDMA 160 MHz EHT PPDU

| MRU type                          | MRU index | Combinations                                                                                           |
|-----------------------------------|-----------|--------------------------------------------------------------------------------------------------------|
| 484+242-tone MRU (only for OFDMA) | MRU 1     | 484-tone RU 2 + 242-tone RU 2; [(gap-242-tone RU) - 242-tone RU - 484-tone RU] in lower 80 MHz channel |
|                                   | MRU 2     | 484-tone RU 2 + 242-tone RU 1; [242-tone RU - (gap-242-tone RU) - 484-tone RU] in lower 80 MHz channel |
|                                   | MRU 3     | 484-tone RU 1 + 242-tone RU 4; [484-tone RU - (gap-242-tone RU) - 242-tone RU] in lower 80 MHz channel |
|                                   | MRU 4     | 484-tone RU 1 + 242-tone RU 3; [484-tone RU - 242-tone RU - (gap-242-tone RU)] in lower 80 MHz channel |
|                                   | MRU 5     | 484-tone RU 4 + 242-tone RU 6; [(gap-242-tone RU) - 242-tone RU - 484-tone RU] in upper 80 MHz channel |
|                                   | MRU 6     | 484-tone RU 4 + 242-tone RU 5; [242-tone RU - (gap-242-tone RU) - 484-tone RU] in upper 80 MHz channel |
|                                   | MRU 7     | 484-tone RU 3 + 242-tone RU 8; [484-tone RU - (gap-242-tone RU) - 242-tone RU] in upper 80 MHz channel |
|                                   | MRU 8     | 484-tone RU 3 + 242-tone RU 7; [484-tone RU - 242-tone RU - (gap-242-tone RU)] in upper 80 MHz channel |

Table 36-14—Indices for large size MRUs in an OFDMA 160 MHz EHT PPDU and in a non-OFDMA 160 MHz EHT PPDU (continued)

| MRU type                                                                                                                                                                                                                                                                                                              | MRU index | Combinations                                                                                                 |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------|--------------------------------------------------------------------------------------------------------------|
| 996+484-tone MRU                                                                                                                                                                                                                                                                                                      | MRU 1     | 996-tone RU 2 + 484-tone RU 2; [(gap-484-tone RU) - 484-tone RU - 996-tone RU]                               |
|                                                                                                                                                                                                                                                                                                                       | MRU 2     | 996-tone RU 2 + 484-tone RU 1; [484-tone RU - (gap-484-tone RU) - 996-tone RU]                               |
|                                                                                                                                                                                                                                                                                                                       | MRU 3     | 996-tone RU 1 + 484-tone RU 4; [996-tone RU - (gap-484-tone RU) - 484-tone RU]                               |
|                                                                                                                                                                                                                                                                                                                       | MRU 4     | 996-tone RU 1 + 484-tone RU 3; [996-tone RU - 484-tone RU - (gap-484-tone RU)]                               |
| 996+484+242-tone MRU (only for non-OFDMA)                                                                                                                                                                                                                                                                             | MRU 1     | 996-tone RU 2 + 484-tone RU 2 + 242-tone RU 2; [(gap-242-tone RU) - 242-tone - RU 484-tone RU - 996-tone RU] |
|                                                                                                                                                                                                                                                                                                                       | MRU 2     | 996-tone RU 2 + 484-tone RU 2 + 242-tone RU 1; [242-tone RU - (gap-242-tone RU) - 484-tone RU - 996-tone RU] |
|                                                                                                                                                                                                                                                                                                                       | MRU 3     | 996-tone RU 2 + 484-tone RU 1 + 242-tone RU 4; [484-tone RU - (gap-242-tone RU) - 242-tone RU - 996-tone RU] |
|                                                                                                                                                                                                                                                                                                                       | MRU 4     | 996-tone RU 2 + 484-tone RU 1 + 242-tone RU 3; [484-tone RU - 242-tone RU - (gap-242-tone RU) - 996-tone RU] |
|                                                                                                                                                                                                                                                                                                                       | MRU 5     | 996-tone RU 1 + 484-tone RU 4 + 242-tone RU 6; [996-tone RU - (gap-242-tone RU) - 242-tone RU - 484-tone RU] |
|                                                                                                                                                                                                                                                                                                                       | MRU 6     | 996-tone RU 1 + 484-tone RU 4 + 242-tone RU 5; [996-tone RU - 242-tone RU - (gap-242-tone RU) - 484-tone RU] |
|                                                                                                                                                                                                                                                                                                                       | MRU 7     | 996-tone RU 1 + 484-tone RU 3 + 242-tone RU 8; [996-tone RU - 484-tone RU - (gap-242-tone RU) - 242-tone RU] |
|                                                                                                                                                                                                                                                                                                                       | MRU 8     | 996-tone RU 1 + 484-tone RU 3 + 242-tone RU 7; [996-tone RU - 484-tone RU - 242-tone RU - (gap-242-tone RU)] |
| NOTE 1—“gap-242/484-tone RU” is not part of an MRU and is used to indicate the size of a gap between or beside RUs that form the MRU.                                                                                                                                                                                 |           |                                                                                                              |
| NOTE 2—In non-OFDMA transmission, “gap-242/484-tone RU” indicates that one or more 20 MHz subchannels corresponding to “gap-242/484-tone RU” are punctured and is to help indicate the frequency order of the MRU in a 160 MHz PPDU.                                                                                  |           |                                                                                                              |
| NOTE 3—In OFDMA transmission, “gap-242/484-tone RU” indicates that one or more 20 MHz subchannels corresponding to “gap-242/484-tone RU” are either punctured or unassigned or assigned to other RUs or MRUs for data transmission, and is to help indicate the frequency order of the MRU within a 160 MHz EHT PPDU. |           |                                                                                                              |

For Table 36-15, the indices for MRUs are defined based on the indices for RUs in Table 36-7.

Table 36-15—Indices for large size MRUs in an OFDMA 320 MHz EHT PPDU and in a non-OFDMA 320 MHz EHT PPDU

| MRU type                          | MRU index | Combinations                                                                                                             |
|-----------------------------------|-----------|--------------------------------------------------------------------------------------------------------------------------|
| 484+242-tone MRU (only for OFDMA) | MRU 1     | 484-tone RU 2 + 242-tone RU 2; [(gap-242-tone RU) - 242-tone RU - 484-tone RU] in lower 80 MHz channel in lower 160 MHz  |
|                                   | MRU 2     | 484-tone RU 2 + 242-tone RU 1; [242-tone RU - (gap-242-tone RU) - 484-tone RU] in lower 80 MHz channel in lower 160 MHz  |
|                                   | MRU 3     | 484-tone RU 1 + 242-tone RU 4; [484-tone RU - (gap-242-tone RU) - 242-tone RU] in lower 80 MHz channel in lower 160 MHz  |
|                                   | MRU 4     | 484-tone RU 1 + 242-tone RU 3; [484-tone RU - 242-tone RU - (gap-242-tone RU)] in lower 80 MHz channel in lower 160 MHz  |
|                                   | MRU 5     | 484-tone RU 4 + 242-tone RU 6; [(gap-242-tone RU) - 242-tone RU - 484-tone RU] in upper 80 MHz channel in lower 160 MHz  |
|                                   | MRU 6     | 484-tone RU 4 + 242-tone RU 5; [242-tone RU - (gap-242-tone RU) - 484-tone RU] in upper 80 MHz channel in lower 160 MHz  |
|                                   | MRU 7     | 484-tone RU 3 + 242-tone RU 8; [484-tone RU - (gap-242-tone RU) - 242-tone RU] in upper 80 MHz channel in lower 160 MHz  |
|                                   | MRU 8     | 484-tone RU 3 + 242-tone RU 7; [484-tone RU - 242-tone RU - (gap-242-tone RU)] in upper 80 MHz channel in lower 160 MHz  |
|                                   | MRU 9     | 484-tone RU 6 + 242-tone RU 10; [(gap-242-tone RU) - 242-tone RU - 484-tone RU] in lower 80 MHz channel in upper 160 MHz |
|                                   | MRU 10    | 484-tone RU 6 + 242-tone RU 9; [242-tone RU - (gap-242-tone RU) - 484-tone RU] in lower 80 MHz channel in upper 160 MHz  |
|                                   | MRU 11    | 484-tone RU 5 + 242-tone RU 12; [484-tone RU - (gap-242-tone RU) - 242-tone RU] in lower 80 MHz channel in upper 160 MHz |
|                                   | MRU 12    | 484-tone RU 5 + 242-tone RU 11; [484-tone RU - 242-tone RU - (gap-242-tone RU)] in lower 80 MHz channel in upper 160 MHz |
| 996+484-tone MRU (only for OFDMA) | MRU 13    | 484-tone RU 8 + 242-tone RU 14; [(gap-242-tone RU) - 242-tone RU - 484-tone RU] in upper 80 MHz channel in upper 160 MHz |
|                                   | MRU 14    | 484-tone RU 8 + 242-tone RU 13; [242-tone RU - (gap-242-tone RU) - 484-tone RU] in upper 80 MHz channel in upper 160 MHz |
|                                   | MRU 15    | 484-tone RU 7 + 242-tone RU 16; [484-tone RU - (gap-242-tone RU) - 242-tone RU] in upper 80 MHz channel in upper 160 MHz |
|                                   | MRU 16    | 484-tone RU 7 + 242-tone RU 15; [484-tone RU - 242-tone RU - (gap-242-tone RU)] in upper 80 MHz channel in upper 160 MHz |
|                                   | MRU 1     | 996-tone RU 2 + 484-tone RU 2; [(gap-484-tone RU) - 484-tone RU - 996-tone RU] in lower 160 MHz                          |
|                                   | MRU 2     | 996-tone RU 2 + 484-tone RU 1; [484-tone RU - (gap-484-tone RU) - 996-tone RU] in lower 160 MHz                          |
|                                   | MRU 3     | 996-tone RU 1 + 484-tone RU 4; [996-tone RU - (gap-484-tone RU) - 484-tone RU] in lower 160 MHz                          |
|                                   | MRU 4     | 996-tone RU 1 + 484-tone RU 3; [996-tone RU - 484-tone RU - (gap-484-tone RU)] in lower 160 MHz                          |
|                                   | MRU 5     | 996-tone RU 4 + 484-tone RU 6; [(gap-484-tone RU) - 484-tone RU - 996-tone RU] in upper 160 MHz                          |
|                                   |           |                                                                                                                          |
|                                   |           |                                                                                                                          |
|                                   |           |                                                                                                                          |

Table 36-15—Indices for large size MRUs in an OFDMA 320 MHz EHT PPDU and in a non-OFDMA 320 MHz EHT PPDU (continued)

| MRU type           | MRU index | Combinations                                                                                                                     |
|--------------------|-----------|----------------------------------------------------------------------------------------------------------------------------------|
| 2×996+484-tone MRU | MRU 6     | 996-tone RU 4 + 484-tone RU 5; [484-tone RU - (gap-484-tone RU) - 996-tone RU] in upper 160 MHz                                  |
|                    | MRU 7     | 996-tone RU 3 + 484-tone RU 8; [996-tone RU - (gap-484-tone RU) - 484-tone RU] in upper 160 MHz                                  |
|                    | MRU 8     | 996-tone RU 3 + 484-tone RU 7; [996-tone RU - 484-tone RU - (gap-484-tone RU)] in upper 160 MHz                                  |
|                    | MRU 1     | 996-tone RU 2 + 996-tone RU 3 + 484-tone RU 2; [(gap-484-tone RU) - 484-tone RU - 996-tone RU - 996-tone RU - (gap-996-tone RU)] |
|                    | MRU 2     | 996-tone RU 2 + 996-tone RU 3 + 484-tone RU 1; [484-tone RU - (gap-484-tone RU) - 996-tone RU - 996-tone RU - (gap-996-tone RU)] |
|                    | MRU 3     | 996-tone RU 1 + 996-tone RU 3 + 484-tone RU 4; [996-tone RU - (gap-484-tone RU) - 484-tone RU - 996-tone RU - (gap-996-tone RU)] |
|                    | MRU 4     | 996-tone RU 1 + 996-tone RU 3 + 484-tone RU 3; [996-tone RU - 484-tone RU - (gap-484-tone RU) - 996-tone RU - (gap-996-tone RU)] |
|                    | MRU 5     | 996-tone RU 1 + 996-tone RU 2 + 484-tone RU 6; [996-tone RU - 996-tone RU - (gap-484-tone RU) - 484-tone RU - (gap-996-tone RU)] |
|                    | MRU 6     | 996-tone RU 1 + 996-tone RU 2 + 484-tone RU 5; [996-tone RU - 996-tone RU - 484-tone RU - (gap-484-tone RU) - (gap-996-tone RU)] |
|                    | MRU 7     | 996-tone RU 3 + 996-tone RU 4 + 484-tone RU 4; [(gap-996-tone RU) - (gap-484-tone RU) - 484-tone RU - 996-tone RU - 996-tone RU] |
|                    | MRU 8     | 996-tone RU 3 + 996-tone RU 4 + 484-tone RU 3; [(gap-996-tone RU) - 484-tone RU - (gap-484-tone RU) - 996-tone RU - 996-tone RU] |
|                    | MRU 9     | 996-tone RU 2 + 996-tone RU 4 + 484-tone RU 6; [(gap-996-tone RU) - 996-tone RU - (gap-484-tone RU) - 484-tone RU - 996-tone RU] |
| 3×996-tone MRU     | MRU 10    | 996-tone RU 2 + 996-tone RU 4 + 484-tone RU 5; [(gap-996-tone RU) - 996-tone RU - 484-tone RU - (gap-484-tone RU) - 996-tone RU] |
|                    | MRU 11    | 996-tone RU 2 + 996-tone RU 3 + 484-tone RU 8; [(gap-996-tone RU) - 996-tone RU - 996-tone RU - (gap-484-tone RU) - 484-tone RU] |
|                    | MRU 12    | 996-tone RU 2 + 996-tone RU 3 + 484-tone RU 7; [(gap-996-tone RU) - 996-tone RU - 996-tone RU - 484-tone RU - (gap-484-tone RU)] |
|                    | MRU 1     | 996-tone RU 2 + 996-tone RU 3 + 996-tone RU 4; [(gap-996-tone RU) - 996-tone RU - 996-tone RU - 996-tone RU]                     |
| 3×996-tone MRU     | MRU 2     | 996-tone RU 1 + 996-tone RU 3 + 996-tone RU 4; [996-tone RU - (gap-996-tone RU) - 996-tone RU - 996-tone RU]                     |
|                    | MRU 3     | 996-tone RU 1 + 996-tone RU 2 + 996-tone RU 4; [996-tone RU - 996-tone RU - (gap-996-tone RU) - 996-tone RU]                     |
|                    | MRU 4     | 996-tone RU 1 + 996-tone RU 2 + 996-tone RU 3; [996-tone RU - 996-tone RU - 996-tone RU - (gap-996-tone RU)]                     |
|                    | MRU 4     | 996-tone RU 1 + 996-tone RU 2 + 996-tone RU 3; [996-tone RU - 996-tone RU - 996-tone RU - (gap-996-tone RU)]                     |

Table 36-15—Indices for large size MRUs in an OFDMA 320 MHz EHT PPDU and in a non-OFDMA 320 MHz EHT PPDU (continued)

| MRU type           | MRU index | Combinations                                                                                                                               |
|--------------------|-----------|--------------------------------------------------------------------------------------------------------------------------------------------|
| 3×996+484-tone MRU | MRU 1     | 996-tone RU 2 + 996-tone RU 3 + 996-tone RU 4 + 484-tone RU 2; [(gap-484-tone RU) - 484-tone RU - 996-tone RU - 996-tone RU - 996-tone RU] |
|                    | MRU 2     | 996-tone RU 2 + 996-tone RU 3 + 996-tone RU 4 + 484-tone RU 1; [484-tone RU - (gap-484-tone RU) - 996-tone RU - 996-tone RU - 996-tone RU] |
|                    | MRU 3     | 996-tone RU 1 + 996-tone RU 3 + 996-tone RU 4 + 484-tone RU 4; [996-tone RU - (gap-484-tone RU) - 484-tone RU - 996-tone RU - 996-tone RU] |
|                    | MRU 4     | 996-tone RU 1 + 996-tone RU 3 + 996-tone RU 4 + 484-tone RU 3; [996-tone RU - 484-tone RU - (gap-484-tone RU) - 996-tone RU - 996-tone RU] |
|                    | MRU 5     | 996-tone RU 1 + 996-tone RU 2 + 996-tone RU 4 + 484-tone RU 6; [996-tone RU - 996-tone RU - (gap-484-tone RU) - 484-tone RU - 996-tone RU] |
|                    | MRU 6     | 996-tone RU 1 + 996-tone RU 2 + 996-tone RU 4 + 484-tone RU 5; [996-tone RU - 996-tone RU - 484-tone RU - (gap-484-tone RU) - 996-tone RU] |
|                    | MRU 7     | 996-tone RU 1 + 996-tone RU 2 + 996-tone RU 3 + 484-tone RU 8; [996-tone RU - 996-tone RU - 996-tone RU - (gap-484-tone RU) - 484-tone RU] |
|                    | MRU 8     | 996-tone RU 1 + 996-tone RU 2 + 996-tone RU 3 + 484-tone RU 7; [996-tone RU - 996-tone RU - 996-tone RU - 484-tone RU - (gap-484-tone RU)] |

NOTE 1—“gap-242/484/996-tone RU” is not part of an MRU and is used to indicate the size of a gap between or beside RUs that form the MRU.

NOTE 2—In non-OFDMA transmission, “gap-242/484/996-tone RU” indicates that one or more 20 MHz subchannels corresponding to “gap-242/484/996-tone RU” are punctured and is to help indicate the frequency order of the MRU in a 320 MHz PPDU.

NOTE 3—In OFDMA transmission, “gap-242/484/996-tone RU” indicates that one or more 20 MHz subchannels corresponding to “gap-242/484/996-tone RU” are either punctured or unassigned or assigned to other RUs or MRUs for data transmission, and is to help indicate the frequency order of the MRU within a 320 MHz EHT PPDU.

### 36.3.2.3 Null subcarriers

The null subcarriers are located near the DC or edge tones to provide protection from transmit center frequency leakage, receiver DC offset, and interference from neighboring RU(s) or MRU(s). The null subcarriers have zero energy. The indices of the null subcarriers for 20 MHz and 40 MHz are enumerated in Table 27-10 (Null subcarrier indices). The indices of the null subcarriers for 80 MHz, 160 MHz, and 320 MHz are enumerated in Table 36-16.

**Table 36-16—Null subcarrier indices for 80 MHz, 160 MHz, and 320 MHz**

| Channel width | RU size                                         | Null subcarrier indices                                                                                                                                                                                                                                                                                                                                                                                                                          |
|---------------|-------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 80 MHz        | 26, 52, 106                                     | {null subcarrier indices in 40 MHz – 256,<br>null subcarrier indices in 40 MHz + 256,<br>$\pm 254$ , $\pm 255$ , $\pm 256$ , $\pm 257$ , $\pm 258$ }                                                                                                                                                                                                                                                                                             |
|               | 242, 484                                        | $\pm 254$ , $\pm 255$ , $\pm 256$ , $\pm 257$ , $\pm 258$                                                                                                                                                                                                                                                                                                                                                                                        |
|               | 996                                             | None                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| 160 MHz       | 26, 52, 106,<br>242, 484                        | {null subcarrier indices in 80 MHz – 512,<br>null subcarrier indices in 80 MHz + 512,<br>$\pm 501$ , $\pm 502$ , $\pm 503$ , $\pm 504$ , $\pm 505$ , $\pm 506$ , $\pm 507$ , $\pm 508$ , $\pm 509$ , $\pm 510$ ,<br>$\pm 511$ , $\pm 512$ , $\pm 513$ , $\pm 514$ , $\pm 515$ , $\pm 516$ , $\pm 517$ , $\pm 518$ , $\pm 519$ , $\pm 520$ ,<br>$\pm 521$ , $\pm 522$ , $\pm 523$ }                                                               |
|               | 996, $2\times 996$                              | $\pm 510$ , $\pm 511$ , $\pm 512$ , $\pm 513$ , $\pm 514$                                                                                                                                                                                                                                                                                                                                                                                        |
| 320 MHz       | 26, 52, 106,<br>242, 484, 996,<br>$2\times 996$ | {null subcarrier indices in 160 MHz – 1024,<br>null subcarrier indices in 160 MHz + 1024,<br>$\pm 1013$ , $\pm 1014$ , $\pm 1015$ , $\pm 1016$ , $\pm 1017$ , $\pm 1018$ , $\pm 1019$ , $\pm 1020$ ,<br>$\pm 1021$ , $\pm 1022$ , $\pm 1023$ , $\pm 1024$ , $\pm 1025$ , $\pm 1026$ , $\pm 1027$ , $\pm 1028$ ,<br>$\pm 1029$ , $\pm 1030$ , $\pm 1031$ , $\pm 1032$ , $\pm 1033$ , $\pm 1034$ , $\pm 1035$ }                                    |
|               | $4\times 996$                                   | $\pm 510$ , $\pm 511$ , $\pm 512$ , $\pm 513$ , $\pm 514$ , $\pm 1013$ , $\pm 1014$ , $\pm 1015$ , $\pm 1016$ ,<br>$\pm 1017$ , $\pm 1018$ , $\pm 1019$ , $\pm 1020$ , $\pm 1021$ , $\pm 1022$ , $\pm 1023$ , $\pm 1024$ ,<br>$\pm 1025$ , $\pm 1026$ , $\pm 1027$ , $\pm 1028$ , $\pm 1029$ , $\pm 1030$ , $\pm 1031$ , $\pm 1032$ ,<br>$\pm 1033$ , $\pm 1034$ , $\pm 1035$ , $\pm 1534$ , $\pm 1535$ , $\pm 1536$ , $\pm 1537$ , $\pm 1538$ } |

The indices of the null subcarriers for MRUs are determined by the size and the location of each component RU in each bandwidth.

#### 36.3.2.4 Pilot subcarriers

Pilot subcarriers are present in the Data field, and may be present in the EHT-LTF field. The pilot subcarrier indices for the Data field OFDM symbols are defined in 36.3.13.11.

One of three EHT-LTF types is used in the EHT-LTF field of an EHT PPDU:  $1\times$  EHT-LTF,  $2\times$  EHT-LTF, and  $4\times$  EHT-LTF. For an EHT TB PPDU with  $1\times$  EHT-LTF, pilots are not used (see 36.3.12.10). For an EHT PPDU with a  $4\times$  EHT-LTF or  $2\times$  EHT-LTF, the pilot subcarrier locations in the EHT-LTF field are the same as the pilot subcarrier locations in the Data field.

#### 36.3.2.5 20 MHz operating non-AP EHT STAs participating in wider bandwidth OFDMA

A 20 MHz operating non-AP EHT STA is a non-AP EHT STA that is operating in a 20 MHz channel width, such as a 20 MHz-only non-AP EHT STA or a non-AP EHT STA that reduces its operating channel width to 20 MHz (see 36.1.1).

The operating channel width of a non-AP EHT STA is identified by a CHANNEL\_WIDTH parameter contained in the PHYCONFIG\_VECTOR carried in a PHY-CONFIG.request primitive (see 36.2.4).

NOTE 1—The supported channel width of a non-AP EHT STA is indicated in the Supported Channel Width subfield in the HE PHY Capabilities Information field (see 9.4.2.248.3) and the Support For 320 MHz In 6 GHz subfield in the EHT Capabilities element (see 9.4.2.323.3).

NOTE 2—The operating channel width may be updated by Operating Mode Notification frame, Operating Mode Notification element with the Rx NSS Type subfield equal to 0, or Channel Width subfield in the OM Control subfield

(see 9.2.4.7.2) if the EHT OM Control subfield (9.2.4.7.8) is not present in the same A-Control field, or the Channel Width Extension subfield in the EHT OM Control subfield combined with the Channel Width subfield in the OM Control subfield sent by the EHT STA.

A 20 MHz operating non-AP EHT STA shall support the transmission and reception of 26-tone RU, 52-tone RU, and 106-tone RU in locations allowed in 36.3.2.6 within its operating channel for a 40 MHz, 80 MHz, 160 MHz, and 320 MHz OFDMA EHT PPDU.

A 20 MHz operating non-AP EHT STA shall support the transmission and reception of 52+26-tone MRU in locations allowed in 36.3.2.6 within its operating channel for a 40 MHz, 80 MHz, 160 MHz, and 320 MHz OFDMA EHT PPDU, except for a 20 MHz-only non-AP STA with dot11EHT20MHzOnly.LimitedCapabilitiesSupportImplemented equal to true.

A 20 MHz-only non-AP STA with dot11EHT20MHzOnly.LimitedCapabilitiesSupportImplemented equal to true may support the transmission and reception of 52+26-tone MRU in locations allowed in 36.3.2.6 within its operating channel for a 40 MHz, 80 MHz, 160 MHz, and 320 MHz OFDMA EHT PPDU.

A 20 MHz operating non-AP EHT STA may support the reception of 242-tone RU within its operating channel for a 40 MHz, 80 MHz, 160 MHz, and 320 MHz OFDMA EHT PPDU (see 36.3.2.6). An EHT AP with an operating channel width greater than 20 MHz shall be able to allocate an RU (see 36.3.2.1) or MRU (see 36.3.2.2) to a 20 MHz operating non-AP EHT STA within the operating channel of the non-AP EHT STA in a 40 MHz, 80 MHz, 160 MHz or 320 MHz OFDMA EHT PPDU as limited by the AP's operating channel width. The AP's operating channel width is the same as the BSS channel width. When an EHT AP assigns an RU or MRU to a 20 MHz operating non-AP EHT STA, the EHT AP shall follow the restrictions for 20 MHz operation in 36.3.2.6.

**NOTE 3**—As defined in 35.11.4, a 20 MHz operating non-AP EHT STA operates in the primary 20 MHz channel except when the 20 MHz operating non-AP EHT STA sets dot11HESubchannelSelectiveTransmissionImplemented equal to true in which case the 20 MHz operating non-AP EHT STA might operate in any 20 MHz channel within the BSS bandwidth of 40 MHz, 80 MHz or 160 MHz. The 20 MHz operating non-AP EHT STA might also operate in any 20 MHz channel within the primary 160 MHz when the BSS bandwidth is 320 MHz.

**NOTE 4**—An EHT AP does not allocate an RU or MRU in the secondary 160 MHz of a 320 MHz EHT MU or EHT TB PPDU to a 20 MHz operating non-AP EHT STA (see 35.5.1.2). An EHT AP does not allocate an RU or MRU outside of the primary 20 MHz in a 40 MHz, 80 MHz, 160 MHz, or 320 MHz EHT MU or EHT TB PPDU to a 20 MHz operating non-AP EHT STA if the 20 MHz operating non-AP EHT STA has not set up SST operation by following 26.8.7 on a nonprimary 20 MHz channel with the EHT AP.

A 20 MHz operating non-AP EHT STA may support the reception of 40 MHz, 80 MHz and 160 MHz EHT sounding NDP within its operating channel (see Table 9-42f).

### 36.3.2.6 RU and MRU restrictions for 20 MHz operation

For a 20 MHz operating non-AP EHT STA receiving a 40 MHz, 80 MHz, 160 MHz, or 320 MHz EHT MU PPDU, or transmitting a 40 MHz, 80 MHz, 160 MHz, or 320 MHz EHT TB PPDU, it is noteworthy that the 20 MHz RU or MRU tone mapping (see 36.3.2) is not aligned with the 40 MHz, 80 MHz, 160 MHz, or 320 MHz RU or MRU tone mapping (see 36.3.2.1).

A 20 MHz operating non-AP EHT STA does not support the following RU(s) or MRU(s) where the RU indices are defined in Table 27-8 (Data and pilot subcarrier indices for RUs in a 40 MHz HE PPDU and in a non-OFDMA 40 MHz HE PPDU) and the MRU indices are defined in Table 36-9:

- 26-tone RU 5 and 14 of a 40 MHz EHT MU PPDU (receive) and EHT TB PPDU (transmit)
- 52+26-tone MRU 2 and 5 of a 40 MHz EHT MU PPDU (receive) and EHT TB PPDU (transmit)

A 20 MHz operating non-AP EHT STA does not support the following RU(s) or MRU(s) where the RU indices are defined in Table 36-5 and the MRU indices are defined in Table 36-10:

- 26-tone RU 5, 14, 24, and 33 of an 80 MHz EHT MU PPDU (receive) and EHT TB PPDU (transmit)
- 52+26-tone MRU 2, 5, 8, and 11 of an 80 MHz EHT MU PPDU (receive) and EHT TB PPDU (transmit)

A 20 MHz operating non-AP EHT STA does not support the following RU(s) or MRU(s) where the RU indices are defined in Table 36-6 and the MRU indices are defined in Table 36-11:

- 26-tone RU 5, 14, 24, 33, 42, 51, 61, and 70 of a 160 MHz EHT MU PPDU (receive) and EHT TB PPDU (transmit)
- 52+26-tone MRU 2, 5, 8, 11, 14, 17, 20, and 23 of a 160 MHz EHT MU PPDU (receive) and EHT TB PPDU (transmit)

A 20 MHz operating non-AP EHT STA does not support the following RU(s) or MRU(s) where the RU indices are defined in Table 36-7 and the MRU indices are defined in Table 36-12:

- 26-tone RU 5, 14, 24, 33, 42, 51, 61, 70, 79, 88, 98, 107, 116, 125, 135, and 144 of a 320 MHz EHT MU PPDU (receive) and EHT TB PPDU (transmit)
- 52+26-tone MRU 2, 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35, 38, 41, 44, and 47 of a 320 MHz EHT MU PPDU (receive) and EHT TB PPDU (transmit)

A 20 MHz operating non-AP EHT STA does not support any 106+26-tone MRUs for 40 MHz, 80 MHz, 160 MHz, and 320 MHz EHT MU PPDU (receive) and EHT TB PPDU (transmit).

A 20 MHz operating non-AP EHT STA does not support any 242-tone RUs for 40 MHz, 80 MHz, 160 MHz, and 320 MHz EHT TB PPDU (transmit).

NOTE 1—As defined in 35.5.1.2, an EHT AP does not assign an RU or MRU to a STA that does not support the RU or MRU.

A 20 MHz operating non-AP EHT STA may support reception of a 242-tone RU for 40 MHz EHT MU PPDU (see Table 27-8) in the 2.4 GHz, 5 GHz, and 6 GHz bands, 80 MHz and 160 MHz EHT MU PPDU (see Table 36-5 and Table 36-6) in the 5 GHz and 6 GHz bands, and 320 MHz EHT MU PPDU (see Table 36-7) in the 6 GHz band. This PHY capability is indicated to the MAC sublayer by dot11EHTSupportFor242ToneRUInBWWiderThan20Implemented.

NOTE 2—The STA advertises the value of dot11EHTSupportFor242ToneRUInBWWiderThan20Implemented in the Support For 242-tone RU In BW Wider Than 20 MHz subfield in the EHT PHY Capabilities Information field in the EHT Capabilities element (see 9.4.2.323.3).

### 36.3.2.7 80 MHz operating non-AP EHT STAs participating in wider bandwidth OFDMA

An 80 MHz operating non-AP EHT STA is a non-AP EHT STA that supports an operating channel width up to 80 MHz in the current operating mode (see 36.1.1).

NOTE 1—The supported channel width of an EHT STA is indicated in the Supported Channel Width Set subfield in the HE PHY Capabilities Information field in the HE Capabilities element (see 9.4.2.248.3) and the Supported For 320 MHz In 6 GHz subfield in the EHT PHY Capabilities Information field in the EHT Capabilities element (see 9.4.2.323.3), and the operating channel width identified by the CHANNEL\_WIDTH parameter is contained in the PHYCONFIG\_VECTOR of an EHT STA.

An 80 MHz operating non-AP EHT STA shall be able to participate in 160 MHz, and 320 MHz EHT DL and UL OFDMA transmissions. An EHT AP with a CHANNEL\_WIDTH parameter greater than 80 MHz shall be able to allocate an RU (see 36.3.2.1) or MRU (see 36.3.2.2) within the 80 MHz operating bandwidth of the non-AP EHT STA in a 160 MHz or 320 MHz EHT MU or EHT TB PPDU.

**NOTE 2**—As defined in 35.11.4, an 80 MHz operating non-AP EHT STA operates in the primary 80 MHz channel and might operate in the secondary 80 MHz channel that does not include any inactive 20 MHz subchannel when the 80 MHz operating non-AP EHT STA sets dot11EHTSubchannelSelectiveTransmissionImplemented to true.

**NOTE 3**—As defined in 35.5.1.2, an EHT AP does not allocate an RU or MRU in the secondary 160 MHz of a 320 MHz EHT MU or EHT TB PPDU to an 80 MHz operating non-AP EHT STA. An EHT AP does not allocate an RU or MRU in the secondary 80 MHz channel of a 160 MHz or 320 MHz EHT MU or EHT TB PPDU to an 80 MHz operating non-AP EHT STA, if the 80 MHz operating non-AP EHT STA has not set up SST operation by following the procedure in 26.8.7 on the secondary 80 MHz channel with the EHT AP or if there is an inactive 20 MHz subchannel within the secondary 80 MHz channel.

An 80 MHz operating non-AP EHT STA shall support all RU and MRU sizes within its operating 80 MHz channel when participating in 160 MHz or 320 MHz EHT DL and UL OFDMA transmissions.

An 80 MHz operating non-AP EHT STA shall be able to transmit the preamble and data in the allocated RU or MRU within its operating 80 MHz channel in a 160 MHz or 320 MHz EHT TB PPDU.

An 80 MHz operating non-AP EHT STA shall be able to support the reception of the preamble and data in the allocated RU or MRU within its operating 80 MHz channel in a 160 MHz or 320 MHz EHT MU PPDU.

### 36.3.2.8 160 MHz operating non-AP EHT STAs participating in wider bandwidth OFDMA

A 160 MHz operating non-AP EHT STA is a non-AP EHT STA that supports an operating channel width up to 160 MHz in the current operating mode (see 36.1.1).

**NOTE 1**—The supported channel width of an EHT STA is indicated in the Supported Channel Width Set subfield in the HE PHY Capabilities Information field in the HE Capabilities element (see 9.4.2.248.3) and the Support For 320 MHz In 6 GHz subfield in the EHT PHY Capabilities Information field in the EHT Capabilities element (see 9.4.2.323.3), and the operating channel width identified by the CHANNEL\_WIDTH parameter is contained in the PHYCONFIG\_VECTOR of a 160 MHz operating EHT STA.

A 160 MHz operating non-AP EHT STA shall be able to participate in 320 MHz EHT DL and UL OFDMA transmissions. An EHT AP with CHANNEL\_WIDTH parameter greater than 160 MHz shall be able to allocate an RU or MRU on the primary 160 MHz channel in a 320 MHz EHT MU or EHT TB PPDU to a 160 MHz operating non-AP EHT STA.

**NOTE 2**—As defined in 35.5.1.2, an EHT AP can allocate an RU or MRU only on the primary 160 MHz in a 320 MHz EHT MU or EHT TB PPDU, to a 160 MHz operating non-AP EHT STA.

A 160 MHz operating non-AP EHT STA shall support all RU and MRU sizes within the primary 160 MHz channel when participating in 320 MHz EHT DL and UL OFDMA transmissions.

A 160 MHz operating non-AP EHT STA shall be able to transmit the preamble and data in the allocated RU or MRU on the primary 160 MHz channel in a 320 MHz EHT TB PPDU.

A 160 MHz operating non-AP EHT STA shall be able to support the reception of the preamble and data in the allocated RU or MRU on the primary 160 MHz channel in a 320 MHz EHT MU PPDU.

## 36.3.3 MU-MIMO

### 36.3.3.1 DL MU-MIMO

#### 36.3.3.1.1 Supported RU or MRU sizes in DL MU-MIMO

A STA that sets the Partial Bandwidth DL MU-MIMO subfield of the EHT PHY Capabilities Information field in the EHT Capabilities element that it transmits to 1, where, as defined in 35.11.3, this subfield is

determined in turn by dot11EHTPartialBWLDMUMIMOImplemented, shall support receiving an RU or MRU in an EHT PPDU where MU-MIMO is employed in the RU or MRU, the RU or MRU size being greater than or equal to 242 tones, and where there are multiple RU(s) or MRU(s) within the PPDU bandwidth.

#### 36.3.3.1.2 Maximum number of spatial streams in an EHT MU PPDU

An EHT STA shall support the reception of non-OFDMA DL MU-MIMO transmissions with a maximum number of spatial streams (per user) that is  $\min(N_{\text{max}}^{\text{SU}}, \lfloor 4 \rfloor)$  where  $N_{\text{max}}^{\text{SU}}$  is the maximum number of spatial streams supported for reception of an EHT SU transmission. The maximum number of spatial streams supported for reception of an EHT SU transmission is indicated for various bandwidths in the Supported EHT-MCS and NSS Set field in the EHT Capabilities element, where, as defined in 35.11.3, this field is determined in turn by dot11EHTSupportedEhtMesAndNssSet20MhzOnlyStaImplemented for a 20 MHz-only non-AP STA and by dot11EHTSupportedEhtMesAndNssSetImplemented for other STAs. The maximum number of spatial streams supported for reception of an EHT SU transmission can also be limited by either an operating mode notification, or the operating mode indication (OMI) procedure.

For EHT MU PPDU using a bandwidth less than or equal to 80 MHz, equal to 160 MHz, or equal to 320 MHz, a non-AP EHT STA shall support the reception of non-OFDMA DL MU-MIMO transmissions with the total number of spatial streams (across all users) that is supported for the reception of an EHT MU PPDU up to the value indicated by the Beamformee SS ( $\le 80$  MHz), Beamformee SS ( $= 160$  MHz), or Beamformee SS ( $= 320$  MHz) subfield, respectively, in the EHT PHY Capabilities Information field in the EHT Capabilities element, where, as defined in 35.11.3, this subfield is set to dot11EHTBeamformeeSSLessThanOrEqualTo80 – 1, dot11EHTBeamformeeSSEqualTo160 – 1, or dot11EHTBeamformeeSSEqualTo320 – 1, respectively.

For a non-AP EHT STA, the minimum value for each of the Beamformee SS ( $\le 80$  MHz), Beamformee SS ( $= 160$  MHz), and Beamformee SS ( $= 320$  MHz) subfields is 3, because the minimum value of each of dot11EHTBeamformeeSSLessThanOrEqualTo80, dot11EHTBeamformeeSSEqualTo160, and dot11EHTBeamformeeSSEqualTo320 is 4.

The support by an EHT AP of EHT non-OFDMA DL MU-MIMO transmission on an RU or MRU size greater than or equal to 242 tones in a bandwidth up to 80 MHz, 160 MHz or 320 MHz is indicated in the respective MU beamformer (BW  $\le 80$  MHz), MU beamformer (BW  $= 160$  MHz) or MU beamformer (BW  $= 320$  MHz) subfields in the EHT PHY Capabilities Information field in the EHT Capabilities element, where each of these subfields is determined in turn by dot11EHTMUBeamformerLessThanOrEqualTo80Implemented, dot11EHTMUBeamformerEqualTo160Implemented, or dot11EHTMUBeamformerEqualTo320Implemented, respectively (see 35.11.3). The number of spatial streams that an EHT AP supports for EHT SU transmission with bandwidth up to 80 MHz, 160 MHz or 320 MHz is determined from the transmit-related subfields for the respective bandwidth in the Supported EHT-MCS and NSS Set field in the EHT Capabilities element sent by the AP, where this field is determined in turn by dot11EHTSupportedEhtMesAndNssSetImplemented. An EHT AP shall set dot11EHTMUBeamformerLessThanOrEqualTo80Implemented, dot11EHTMUBeamformerEqualTo160Implemented, or dot11EHTMUBeamformerEqualTo320Implemented to true if the AP supports at least four spatial streams for EHT SU transmission in a bandwidth of up to 80 MHz, 160 MHz or 320 MHz, respectively; and accordingly the MU beamformer (BW  $\le 80$  MHz), MU beamformer (BW  $= 160$  MHz) or MU beamformer (BW  $= 320$  MHz) subfield is set to indicate support for EHT non-OFDMA DL MU-MIMO transmission in the respective bandwidths.

All of the aforementioned requirements in this subclause on the per user and total number of spatial streams are also applicable to an MU-MIMO transmission on an RU or MRU in an EHT PPDU that consists of more than one RU or MRU within the PPDU bandwidth if the STA indicates support for this feature.

### 36.3.3.2 UL MU-MIMO

#### 36.3.3.2.1 Introduction

UL MU-MIMO is a technique to allow multiple non-AP STAs to transmit simultaneously over the same frequency resource to the receiver. The concept is very similar to SU-MIMO where multiple spatial streams are transmitted simultaneously over the same frequency resource utilizing spatial multiplexing through multiple antennas at the transmitter and receiver. The key difference however is that in SU-MIMO, all the transmitted streams originate from the same STA, while in UL MU-MIMO, they originate from multiple non-AP STAs.

#### 36.3.3.2.2 Supported RU or MRU sizes in UL MU-MIMO

An AP that sets the Partial Bandwidth UL MU-MIMO subfield of the EHT PHY Capabilities Information field in the EHT Capabilities element that it transmits to 1 where, as defined in 35.11.3, this subfield is determined in turn by `dot11EHTPartialBWULMUMIMOImplemented`, shall support receiving an RU or MRU in an EHT TB PPDU where MU-MIMO is employed in an RU or MRU, the RU or MRU size being greater than or equal to 242 tones, and where there are multiple RU(s) or MRU(s) within the PPDU bandwidth.

The support by an EHT AP of EHT non-OFDMA UL MU-MIMO reception of an RU or MRU size greater than or equal to 242 tones in a bandwidth up to 80 MHz, 160 MHz or 320 MHz is indicated in the respective Non-OFDMA UL MU-MIMO (BW  $\le 80$  MHz), (BW = 160 MHz) or (BW = 320 MHz) subfield in the EHT PHY Capabilities Information field in the EHT Capabilities element, where each of these subfields is determined in turn by `dot11EHTNonOFDMAULMUMIMOLessThanOrEqualto80Implemented`, `dot11EHTNonOFDMAULMUMIMOEqualto160Implemented`, `dot11EHTNonOFDMAULMUMIMOEqualto320Implemented`, respectively (see 35.11.3). The number of spatial streams that an EHT AP supports for reception from a single STA in an EHT PPDU with bandwidth up to 80 MHz, 160 MHz or 320 MHz is determined from the receive-related subfields for the respective bandwidth in the Supported EHT-MCS And NSS Set field in the EHT Capabilities element sent by the AP, where this field is determined in turn by `dot11EHTSupportedEhtMcsAndNssSetImplemented`. An EHT AP shall `set` `dot11EHTNonOFDMAULMUMIMOLessThanOrEqualto80Implemented`, `dot11EHTNonOFDMAULMUMIMOEqualto160Implemented`, and `dot11EHTNonOFDMAULMUMIMOEqualto320Implemented` to true if the AP supports the reception of at least four spatial streams from a single STA in a bandwidth of up to 80 MHz, 160 MHz or 320 MHz; and accordingly the Non-OFDMA UL MU-MIMO (BW  $\le 80$  MHz), (BW = 160 MHz) or (BW = 320 MHz) subfield indicates support of EHT non-OFDMA UL MU-MIMO reception in the respective bandwidth.

A non-AP STA that sets the Partial Bandwidth UL MU-MIMO subfield of the EHT PHY Capabilities Information field in the EHT Capabilities element that it transmits to 1, where, as defined in 35.11.3, this subfield is determined by `dot11EHTPartialBWULMUMIMOImplemented`, shall support transmitting an RU or MRU in an EHT TB PPDU where UL MU-MIMO is employed in the RU or MRU, the RU or MRU size being greater than or equal to 242 tones, and where there are multiple RU(s) or MRU(s) within the PPDU bandwidth.

A non-AP STA shall support non-OFDMA UL MU-MIMO transmission on all RU or MRU sizes greater than or equal to 242 tones in the supported bandwidths.

#### 36.3.3.2.3 UL MU-MIMO EHT-LTF mode

A non-AP STA shall support, for UL MU-MIMO transmissions in an EHT TB PPDU, transmission of  $1\times$  EHT-LTFs without pilots and transmission of  $2\times$  and  $4\times$  EHT-LTFs with single stream pilots.

#### 36.3.3.2.4 Maximum number of spatial streams in UL MU-MIMO

A non-AP STA shall support transmitting an EHT TB PPDU using MU-MIMO where:

- The number of spatial streams allocated to the non-AP STA ranges from 1 to  $N$ , where  $N$  is  $\min(N_{ss}^{\max}, 4)$ , where  $N_{ss}^{\max}$  is the maximum number of spatial streams supported by the non-AP STA for EHT SU transmissions.

The maximum number of spatial streams supported by a STA for EHT SU transmissions is indicated in the Supported EHT-MCS And NSS Set field in the EHT Capabilities element, where, as defined in 35.11.3, this field is determined in turn by the maximum number of spatial streams supported among the transmit-related subfields of dot1EHTSupportedEhtMcsAndNssSet20MhzOnlyStaImplemented for a 20 MHz-only non-AP STA and by the maximum number of spatial streams supported among the transmit-related subfields of dot1EHTSupportedEhtMcsAndNssSetImplemented for other STAs.

The total number of spatial streams, summed across all users for UL MU-MIMO in an EHT TB PPDU is less than or equal to 8.

All the requirements in this subclause on the per user and total number of spatial streams are applicable to both

- Non-OFDMA UL MU-MIMO transmissions, and
- UL MU-MIMO transmissions in an EHT TB PPDU that consists of more than one RU or MRU within the PPDU bandwidth if the STA indicates support for this feature.

#### 36.3.3.3 Maximum number of users in MU-MIMO

The maximum number of EHT STAs that can be multiplexed using MU-MIMO on an RU or MRU is 8, both for DL and UL. This is applicable to non-OFDMA MU-MIMO transmissions as well as to MU-MIMO transmissions in an EHT PPDU that consists of more than one RU or MRU within the PPDU bandwidth.

#### 36.3.4 EHT PPDU formats

Two EHT PPDU formats are defined: EHT MU PPDU and EHT TB PPDU.

The format of the EHT MU PPDU is defined in Figure 36-17. This format is used for transmission to one or more users. The PPDU is not a response to a triggering frame. In the EHT MU PPDU, the EHT-SIG field is present.

![](8bd3ea20168944d008516777b998aff8_img.jpg)

Figure 36-17 illustrates the EHT MU PPDU format, showing the sequence of fields and their symbol durations:

| Field   | Duration                                             |  |
|---------|------------------------------------------------------|--|
| L-STF   | 8 $\mu$ s                                            |  |
| L-LTF   | 8 $\mu$ s                                            |  |
| L-SIG   | 4 $\mu$ s                                            |  |
| RL-SIG  | 4 $\mu$ s                                            |  |
| U-SIG   | 8 $\mu$ s, 4 $\mu$ s per symbol                      |  |
| EHT-SIG | 4 $\mu$ s per symbol                                 |  |
| EHT-STF | 4 $\mu$ s                                            |  |
| EHT-LTF | EHT-LTF symbol duration depends on the GI + LTF size |  |
| ...     | ...                                                  |  |
| EHT-LTF | ...                                                  |  |
| Data    | Data                                                 |  |

Figure 36-17—EHT MU PPDU format

The format of the EHT TB PPDU is defined in Figure 36-18. This format is used for a transmission that is a response to a triggering frame from an AP. In the EHT TB PPDU, the EHT-SIG field is not present and the duration of the EHT-STF field is twice the duration of the EHT-STF field in the EHT MU PPDU.

![](cdfc5afaa6416e042f5f49ea3922e6ca_img.jpg)

Diagram illustrating the EHT TB PPDU format. The format consists of a sequence of fields: L-STF (8  $\mu$ s), L-LTF (8  $\mu$ s), L-SIG (4  $\mu$ s), RL-SIG (4  $\mu$ s), U-SIG (8  $\mu$ s; 4  $\mu$ s per symbol), EHT-STF (8  $\mu$ s), EHT-LTF (EHT-LTF symbol duration depends on the GI + LTF size), Data, and PE. The EHT-LTF field is shown as a sequence of EHT-LTF fields.

Figure 36-18—EHT TB PPDU format

The fields of the EHT PPDU formats are summarized in Table 36-17.

Table 36-17—EHT PPDU fields

| Field   | Description                         |
|---------|-------------------------------------|
| L-STF   | Non-HT Short Training field         |
| L-LTF   | Non-HT Long Training field          |
| L-SIG   | Non-HT SIGNAL field                 |
| RL-SIG  | Repeated Non-HT SIGNAL field        |
| U-SIG   | Universal SIGNAL field              |
| EHT-SIG | EHT SIGNAL field                    |
| EHT-STF | EHT Short Training field            |
| EHT-LTF | EHT Long Training field             |
| Data    | The Data field carrying the PSDU(s) |
| PE      | Packet Extension field              |

The RL-SIG, U-SIG, EHT-STF, EHT-LTF, and PE fields are present in the two EHT PPDU formats. The EHT-SIG field is present only in the EHT MU PPDU. The PE field is defined in 36.3.14.

The L-STF, L-LTF, L-SIG, RL-SIG, U-SIG, and EHT-SIG fields are referred to as pre-EHT modulated fields, while the EHT-STF, EHT-LTF, Data, and PE fields are referred to as the EHT modulated fields.

In the EHT TB PPDU, the pre-EHT modulated fields, which include L-STF, L-LTF, L-SIG, RL-SIG, and U-SIG fields, are sent only on the 20 MHz channels where the STA's EHT modulated fields are present. If the STA's EHT modulated fields occupy more than one 20 MHz channel, the pre-EHT modulated fields are duplicated over all 20 MHz channels EHT modulated fields are occupied.

A signal extension as described in 10.3.8 shall be present in a transmitted PPDU if the TXVECTOR parameter NO\_SIG\_EXTN is false and one of the following conditions applies:

- The TXVECTOR parameter FORMAT is EHT, HE, HT\_MF, or HT\_GF.
- The TXVECTOR parameter FORMAT is NON\_HT and the TXVECTOR parameter NON\_HT\_MODULATION is ERP-OFDM or NON\_HT\_DUP\_OFDM.

A signal extension shall be assumed to be present (for the purpose of timing of PHY-RXEND indication and PHY-CCA indication primitives, as described below and in 36.3.23) in a received PPDU if one of the following conditions applies:

- The RXVECTOR parameter FORMAT is EHT, HE, HT  $MF$ , or HT  $GF$ .
- The RXVECTOR parameter FORMAT is NON\_HT and the RXVECTOR parameter NON\_HT\_-MODULATION is ERP\_OFDM or NON\_HT\_DUP\_OFDM.

A PPDU containing a signal extension is called a signal extended PPDU. When transmitting a signal extended PPDU, the PHY-TXEND indication primitive shall be emitted a period of aSignalExtension after the end of the actual ending time of the PPDU. When receiving a signal extended PPDU, the PHY-RXEND indication primitive shall be emitted a period of aSignalExtension after the end of the actual ending time of the PPDU.

### 36.3.5 EHT DUP transmission

EHT duplicate (EHT DUP) transmission is a mode wherein the transmitted data in the payload portion of the PPDU is duplicated in frequency.

EHT DUP mode is an optional mode that is applicable only in the 6 GHz band. EHT DUP mode is applicable only for an EHT SU transmission. EHT DUP mode shall only be used with bandwidth 80/160/320 MHz and without preamble puncturing.

EHT DUP mode is applicable only in conjunction with BPSK-DCM modulation, rate-1/2 LDPC coding, and  $N_{SS} = 1$ .

EHT DUP mode is signaled by setting the PPDU Type And Compression Mode subfield in the U-SIG field (Table 36-28) to 1 to indicate an EHT SU transmission, and setting the MCS subfield of the User field in EHT-SIG (Table 36-40) to 14.

In EHT DUP mode, the encoding and modulation are described as follows:

- For an 80 MHz EHT MU PPDU transmitted in EHT DUP mode, encoding and BPSK-DCM modulation are done for the lower 484-tone RU, and then the lower 484-tone RU is duplicated to the higher 484-tone RU along with a partial sign change to reduce PAPR.
- For a 160 MHz EHT MU PPDU transmitted in EHT DUP mode, encoding and BPSK-DCM modulation are done for the lower 996-tone RU, and then the lower 996-tone RU is duplicated to the higher 996-tone RU along with a partial sign change to reduce PAPR.
- For a 320 MHz EHT MU PPDU transmitted in EHT DUP mode, encoding and BPSK-DCM modulation are done for the lower  $2\times 996$ -tone RU, and then the lower  $2\times 996$ -tone RU is duplicated to the higher  $2\times 996$ -tone RU along with a partial sign change to reduce PAPR.

The above frequency domain duplication occurs after LDPC tone mapping (36.3.13.8) and segment deparing operations (36.3.13.9). The details of the duplication and partial sign change operations are described in 36.3.13.10.

The EHT-STF, EHT-LTF, and pilot subcarriers, defined in 36.3.13.11, for an 80 MHz EHT MU PPDU transmitted in EHT DUP mode are constructed in an identical manner to those of an 80 MHz OFDMA transmission using EHT MU PPDU with 484-tone RU1 and RU2 occupied.

The EHT-STF, EHT-LTF, and pilot subcarriers, defined in 36.3.13.11, for a 160/320 MHz EHT MU PPDU transmitted in EHT DUP mode are constructed in an identical manner to those of a 160/320 MHz non-OFDMA transmission using EHT MU PPDU.

### 36.3.6 Transmitter block diagram

The generation of each field in an EHT PPDU uses many of the following blocks:

1. Pre-FEC PHY padding
2. Scrambler
3. FEC (BCC or LDPC) encoders
4. Post-FEC PHY padding
5. Stream parser
6. Segment parser (for RU or MRU size larger than 996 tones)
7. BCC interleaver
8. Constellation mapper
9. DCM tone mapper
10. Pilot insertion
11. Replication over multiple 20 MHz (for bandwidth greater than 20 MHz)
12. LDPC tone mapper
13. Segment deparser
14. Frequency domain duplication if EHT-MCS equals 14
15. CSD per spatial stream insertion
16. Spatial mapper
17. Frequency mapping
18. IDFT
19. CSD per chain insertion
20. GI insertion
21. Windowing

Figure 36-19 to Figure 36-26 show example transmitter block diagrams. The actual structure of the transmitter is implementation dependent.

In particular, Figure 36-19 shows the transmit process for the L-SIG, RL-SIG, and U-SIG fields of an EHT MU PPDU using one 80 MHz frequency subblock. These transmit blocks are also used to generate the L-STF and L-LTF fields of the EHT MU PPDU with the following exceptions:

- The BCC encoder and interleaver as well as constellation mapper are not used when generating the L-STF and L-LTF fields.

NOTE—For an EHT MU PPDU, the duplication on 20 MHz channels is subject to the availability of 20 MHz channels in the case of preamble puncturing. The U-SIG field contents may be different in different 80 MHz frequency subblocks for PPDU bandwidth greater than 80 MHz.

![](39fb71fcebf8e973dc6bc22ad4591af2_img.jpg)

Figure 36-19 is a block diagram illustrating the transmitter process for the L-SIG, RL-SIG, and U-SIG fields for an EHT MU PPDU. The process is divided into a Single Spatial Stream path and  $N_{TX}$  Transmit Chains.

**Single Spatial Stream Path:** The input signal passes through a BCC Encoder, followed by a BCC Interleaver, then a Constellation Mapper, and finally a Duplicate over multiple 20 MHz if BW > 20 MHz block. This output feeds into the IDFT block.

**$N_{TX}$  Transmit Chains Path:** The output of the IDFT block is split and fed into  $N_{TX}$  parallel transmit chains. Each chain consists of a CSD per chain block, followed by an Insert GI and Window block, and finally an Analog and RF block. The output of the Analog and RF blocks feeds into the Analog and RF output port.

Figure 36-19—Transmitter block diagram for the L-SIG, RL-SIG, and U-SIG fields for an EHT MU PPDU

Figure 36-20 shows the transmit process for the L-SIG, RL-SIG, and U-SIG fields of an EHT TB PPDU. These transmit blocks are also used to generate the L-STF and L-LTF fields of the EHT TB PPDU with the following exception:

- The BCC encoder, interleaver, and constellation mapper are not used when generating the L-STF and L-LTF fields.

The L-SIG, RL-SIG, and U-SIG fields are duplicated over multiple 20 MHz if the EHT modulated fields are allocated in an RU or MRU > 242 tones.

![](d20f0126f8e86a7412e8d68c98057a29_img.jpg)

Figure 36-20 is a block diagram illustrating the transmitter process for the L-SIG, RL-SIG, and U-SIG fields of an EHT TB PPDU. The process is divided into a Single Spatial Stream path and  $N_{TX}$  Transmit Chains.

**Single Spatial Stream Path:** The input signal passes through a BCC Encoder, followed by a BCC Interleaver, then a Constellation Mapper. The output of the Constellation Mapper is labeled "Sent only on the 20 MHz channels where the EHT modulated fields are located." This output feeds into the IDFT block.

**$N_{TX}$  Transmit Chains Path:** The output of the IDFT block is split and fed into  $N_{TX}$  parallel transmit chains. Each chain consists of a CSD per chain block, followed by an Insert GI and Window block, and finally an Analog and RF block. The output of the Analog and RF blocks feeds into the Analog and RF output port.

Figure 36-20—Transmitter block diagram for the L-SIG, RL-SIG, and U-SIG fields of an EHT TB PPDU

Figure 36-21 shows the transmit process for the EHT-SIG field of an EHT MU PPDU. This block diagram is for transmitting EHT-SIG in one 20 MHz subchannel. Refer to 36.3.12.8.2 for the methods of transmitting EHT-SIG in 40 MHz, 80 MHz, 160 MHz, and 320 MHz. The DCM tone mapper, which is defined in

36.3.13.7, is applied only if the EHT-SIG MCS field in the U-SIG field equals 3 (i.e., indicates an EHT-MCS 15).

![](100780d99c709f80e1ac51f0b3441dbb_img.jpg)

Figure 36-21 is a block diagram illustrating the transmitter structure for the EHT-SIG field for an EHT MU PPDU. The diagram shows a single spatial stream path and multiple transmit chains.

The single spatial stream path consists of sequential blocks: Pre-FEC PHY Padding, BCC Encoder, BCC Interleaver, Constellation Mapper, and IDFT. The output of the IDFT block splits into  $N_{TX}$  transmit chains.

Each transmit chain consists of a CSD per chain block, followed by an Insert GI and Window block, and finally an Analog and RF block. The CSD per chain block receives input from the IDFT block.

Figure 36-21—Transmitter block diagram for the EHT-SIG field for an EHT MU PPDU

Figure 36-22 shows the transmitter blocks for the UL transmission or DL non-MU-MIMO transmission of a Data field with BCC encoding on an RU or MRU smaller than or equal to 242 tone if the number of spatial streams is less than or equal to 4. Figure 36-22 applies to the Data field of an EHT MU PPDU that is transmitted on an RU or MRU allocated to a single user and the Data field of an EHT TB PPDU (whether or not it is spatially multiplexed with other users).

A subset of these transmitter blocks consisting of the CSD blocks, as well as the blocks to the right of, and including, the spatial mapping block, are also used to generate the EHT-LTF and EHT-STF fields.

![](ae10bd6aef790f257f609b45dd94bd9d_img.jpg)

Figure 36-22 is a block diagram illustrating the transmitter structure for the UL transmission or DL non-MU-MIMO transmission of a Data field with BCC encoding on an RU or MRU size equal to or smaller than a 242-tone RU. The diagram shows  $N_{SS} (\le 4)$  spatial streams and  $N_{TX}$  transmit chains.

The spatial streams are processed by a Stream Parser block, which outputs to multiple parallel paths. Each path consists of a BCC Interleaver, followed by a Constellation Mapper, and then a CSD per SS block. The CSD per SS blocks feed into the Spatial and Frequency Mapping block.

The Spatial and Frequency Mapping block outputs to  $N_{TX}$  transmit chains. Each transmit chain consists of an IDFT block, followed by an Insert GI and Window block, and finally an Analog and RF block.

Figure 36-22—Transmitter block diagram for the UL transmission or DL non-MU-MIMO transmission of a Data field with BCC encoding on an RU or MRU size equal to or smaller than a 242-tone RU

Figure 36-23 shows the transmitter blocks for the UL transmission or DL non-MU-MIMO transmission of a Data field with LDPC encoding on an RU or MRU that is the same size or smaller than a 996-tone RU. Figure 36-23 applies to the Data field of an EHT MU PPDU that is transmitted on an RU or MRU allocated

IEEE Standard for Information Technology—Local and Metropolitan Area Networks—Specific Requirements

Part 11: Wireless LAN MAC and PHY Specifications

Amendment 2: Enhancements for Extremely High Throughput (EHT)

to a single user and the Data field of an EHT TB PPDU (whether or not it is spatially multiplexed with other users).

![](0ca02cb6104543da4f7a1f248c34b845_img.jpg)

**Figure 36-23—Transmitter block diagram for the UL transmission or DL non-MU-****MIMO transmission of a Data field with LDPC encoding on an RU or MRU size equal**  **to or smaller than a 996-tone RU**

[Figure 36-24](#page-727-0) shows the transmitter blocks for the transmission, in an EHT MU PPDU, of the Data field with BCC encoding on a 242-tone RU allocated to more than one user.

![](ad30c5c02b3c84e4d7d0797bdb26ba3a_img.jpg)

Figure 36-24 is a block diagram illustrating the Transmitter block diagram for the DL MU-MIMO transmission of a Data field with BCC encoding on a 242-tone RU. The diagram shows the processing flow for multiple users (User 0, ..., User  $N_{user\_total}-1$ ).

For each user, the processing steps are:

1. Pre-FEC PHY Padding
2. Scrambler
3. BCC Encoder
4. Post-FEC PHY Padding
5. Stream Parser

The Stream Parser output feeds into BCC Interleaver, BCC Interleaver, ..., BCC Interleaver, and Constellation Mapper, ..., Constellation Mapper, ..., Constellation Mapper. Each Constellation Mapper output feeds into a CSD per SS block, followed by a Spatial and Frequency Mapping block.

The Spatial and Frequency Mapping block outputs to the IDFT block. The IDFT block output feeds into Insert GI and Window, which then feeds into Analog and RF.

The diagram shows three parallel paths for IDFT, Insert GI and Window, and Analog and RF, corresponding to the multiple users.

Figure 36-24—Transmitter block diagram for the DL MU-MIMO transmission of a Data field with BCC encoding on a 242-tone RU

Figure 36-25 shows the transmitter blocks for the transmission, in an EHT MU PPDU, of the Data field with LDPC encoding on a 242-, 484-, 484+242-, or 996-tone RU or MRU allocated to more than one user.

![](c95affbfda0d764745b6e5dbe031b67b_img.jpg)

Figure 36-25 illustrates the Transmitter block diagram for the DL MU-MIMO transmission of a Data field with LDPC encoding. The diagram shows the processing flow for multiple users (User 0, ..., User  $N_{user, total}-1$ ).

**User Processing Flow (General):**

1. Pre-FEC PHY Padding
2. Scrambler
3. LDPC Encoder
4. Post-FEC PHY Padding
5. Stream Parser
6. Constellation Mapper (Multiple instances)
7. LDPC Tone Mapper (Multiple instances)
8. CSD per SS (Multiple instances)

**Aggregation and Transmission:**

- The outputs of the CSD per SS blocks are fed into the Spatial and Frequency Mapping block.
- The Spatial and Frequency Mapping block output is processed by IDFT, Insert GI and Window, and Analog and RF blocks.

The diagram shows multiple users (indicated by ellipses) sharing the Spatial and Frequency Mapping block, which is followed by IDFT, Insert GI and Window, and Analog and RF blocks for transmission.

Figure 36-25—Transmitter block diagram for the DL MU-MIMO transmission of a Data field with LDPC encoding on a 242-, 484-, 484+242-, or 996-tone RU or MRU

IEEE Standard for Information Technology—Local and Metropolitan Area Networks—Specific Requirements
Part 11: Wireless LAN MAC and PHY Specifications

Amendment 2: Enhancements for Extremely High Throughput (EHT)

Figure 36-26 shows the transmitter blocks used to generate the Data field of a single-user EHT transmission in RU or MRU size larger than 996 tone with LDPC encoding.

![](2a29b0dc6f339dbd7f07088317a698c9_img.jpg)

Figure 36-26—Transmitter block diagram for the Data field of an EHT SU transmission in RU or MRU size larger than a 996-tone RU with LDPC encoding

Figure 36-27 shows the transmit blocks used to generate the Data field of 80 MHz or 160 MHz PPDU if EHT-MCS 14 is used.

![](8cffff9ec2328b77fa5151d7e7c3862a_img.jpg)

Figure 36-27—Transmitter block diagram for the transmission of a Data field with EHT-MCS 14 in 80 MHz or 160 MHz PPDU

Figure 36-28 shows the transmit blocks used to generate the Data field of 320 MHz PPDU if EHT-MCS 14 is used.

![Figure 36-28: Transmitter block diagram for the transmission of a Data field with EHT-MCS 14 in 320 MHz PPDU. The diagram shows a Single Spatial Stream path. The data flow starts with Pre-OFDM Padding, followed by Scrambler, LDP Encoder, Post-OFDM PHY Padding, and Stream Parser (Ntx = 1). This leads to the Segment parser, which outputs Constellation Mapper (BPSK-QCM) and LDPC Tone Mapper. These are combined and fed into the Segment Deparser. The output of the Segment Deparser goes to Frequency Domain Duplication, which then feeds into the Spatial Mapper. The Spatial Mapper output branches into Ntx Transmit Chains. Each transmit chain consists of IDFT, Insert GI and Window, and Analog and RF. The IDFT block is repeated Ntx times, followed by Insert GI and Window, and finally Analog and RF.](e072d9fd6937d35e2c55aeb56d117291_img.jpg)

Figure 36-28: Transmitter block diagram for the transmission of a Data field with EHT-MCS 14 in 320 MHz PPDU. The diagram shows a Single Spatial Stream path. The data flow starts with Pre-OFDM Padding, followed by Scrambler, LDP Encoder, Post-OFDM PHY Padding, and Stream Parser (Ntx = 1). This leads to the Segment parser, which outputs Constellation Mapper (BPSK-QCM) and LDPC Tone Mapper. These are combined and fed into the Segment Deparser. The output of the Segment Deparser goes to Frequency Domain Duplication, which then feeds into the Spatial Mapper. The Spatial Mapper output branches into Ntx Transmit Chains. Each transmit chain consists of IDFT, Insert GI and Window, and Analog and RF. The IDFT block is repeated Ntx times, followed by Insert GI and Window, and finally Analog and RF.

Figure 36-28—Transmitter block diagram for the transmission of a Data field with EHT-MCS 14 in 320 MHz PPDU

### 36.3.7 Overview of the PPDU encoding process

#### 36.3.7.1 General

This subclause provides an overview of the EHT PPDU encoding process.

#### 36.3.7.2 Construction of L-STF

Construct the L-STF field as defined in 36.3.12.3 with the following highlights:

1. Determine the channel bandwidth from the TXVECTOR parameter CH\_BANDWIDTH.
2. Sequence generation: Generate the L-STF sequence over the channel bandwidth as described in 36.3.12.3.
3. Phase rotation: Apply appropriate phase rotation for each occupied 20 MHz subchannel as described in 36.3.11 and 36.3.11.4.
4. IDFT: Compute the inverse discrete Fourier transform.
5. CSD per chain: Apply CSD per chain for each transmit chain as described in 36.3.12.2.1.
6. Insert GI and apply windowing: Prepend a GI ( $T_{GI, Pre-EHT}$ ) and apply windowing as described in 36.3.11.
7. Analog and RF: Upconvert the resulting complex baseband waveform associated with each transmit chain to an RF signal according to the center frequency of the desired channel and transmit. Refer to 36.3.11 and 36.3.12 for details.

#### 36.3.7.3 Construction of L-LTF

Construct the L-LTF field as defined in 36.3.12.4 with the following highlights:

1. Determine the channel bandwidth from the TXVECTOR parameter CH\_BANDWIDTH.
2. Sequence generation: Generate the L-LTF sequence over the channel bandwidth as described in 36.3.12.4.

1. Phase rotation: Apply appropriate phase rotation for each occupied 20 MHz subchannel as described in 36.3.11 and 36.3.11.4.
2. IDFT: Compute the inverse discrete Fourier transform.
3. CSD per chain: Apply CSD per chain for each transmit chain as described 36.3.12.2.1.
4. Insert GI and apply windowing: Prepend a GI ( $T_{GI, L-LTF}$ ) and apply windowing as described in 36.3.11.
5. Analog and RF: Upconvert the resulting complex baseband waveform associated with each transmit chain to an RF signal according to the carrier frequency of the desired channel and transmit. Refer to 36.3.11 and 36.3.12 for details.

#### 36.3.7.4 Construction of L-SIG

Construct the L-SIG field as defined in 36.3.12.5 with the following highlights:

1. Set the RATE subfield in the L-SIG field to 6 Mb/s. Set the LENGTH, Parity, and Tail fields in the L-SIG field as described in 36.3.12.5.
2. BCC encoder: Encode the L-SIG field by a convolutional encoder at the rate of  $R = 1/2$  as described in 36.3.13.3.2.
3. BCC interleaver: Interleave as described in 17.3.5.7 (Data interleavers).
4. Constellation Mapper: BPSK modulate as described in 36.3.13.7.
5. Pilot insertion: Insert pilots as described in 36.3.12.5.
6. Extra subcarrier insertion: Four extra subcarriers are inserted at  $k \in \{-28, -27, 27, 28\}$  for channel estimation purpose and the values on these four extra subcarriers are  $\{-1, -1, -1, 1\}$ , respectively.
7. Duplication and phase rotation: Duplicate the L-SIG field over each occupied 20 MHz subchannel of the channel bandwidth. Apply appropriate phase rotation for each occupied 20 MHz subchannel as described in 36.3.11 and 36.3.11.4.
8. IDFT: Compute the inverse discrete Fourier transform.
9. CSD per chain: Apply CSD per chain for each transmit chain as described in 36.3.12.2.1.
10. Insert GI and apply windowing: Prepend a GI ( $T_{GI, Pre-EHT}$ ) and apply windowing as described in 36.3.11.
11. Analog and RF: Upconvert the resulting complex baseband waveform associated with each transmit chain. Refer to 36.3.11 and 36.3.12 for details.

#### 36.3.7.5 Construction of RL-SIG

Construct the RL-SIG field as defined in 36.3.12.6 with the following highlights:

1. Set the RATE subfield in the RL-SIG field to 6 Mb/s. Set the LENGTH, Parity, and Tail fields in the RL-SIG field as described in 36.3.12.6.
2. BCC encoder: Encode the RL-SIG field by a convolutional encoder at the rate of  $R = 1/2$  as described in 36.3.13.3.2.
3. BCC interleaver: Interleave as described in 17.3.5.7 (Data interleavers).
4. Constellation Mapper: BPSK modulate as described in 36.3.13.7.
5. Pilot insertion: Insert pilots as described in 36.3.12.6.
6. Extra subcarrier insertion: Four extra subcarriers are inserted at  $k \in \{-28, -27, 27, 28\}$  for the purpose of channel estimation and the values on these four extra subcarriers are  $\{-1, -1, -1, 1\}$ , respectively.
7. Duplication and phase rotation: Duplicate the RL-SIG field over each occupied 20 MHz subchannel of the channel bandwidth. Apply appropriate phase rotation for each occupied 20 MHz subchannel as described in 36.3.11 and 36.3.11.4.

h) IDFT: Compute the inverse discrete Fourier transform.  
i) CSD per chain: Apply CSD per chain for each transmit chain as described in 36.3.12.2.1.  
j) Insert GI and apply windowing: Prepend a GI ( $T_{GI, Pre-EHT}$ ) and apply windowing as described in 36.3.11.  
k) Analog and RF: Upconvert the resulting complex baseband waveform associated with each transmit chain. Refer to 36.3.11 and 36.3.12 for details.

### 36.3.7.6 Construction of U-SIG

Construct the U-SIG field as defined in 36.3.12.7 with the following highlights:

Steps a) to f) apply for each frequency subblock:

a) Obtain the U-SIG field values from the TXVECTOR. Set the values of the Disregard and Validate fields as defined in Table 36-28 in case of EHT MU PPDU. Append the calculated CRC and then append the  $N_{tail}$  tail bits as described in 36.3.12.7. This results in 52 uncoded bits.

NOTE 1—The values of the Disregard and Validate fields in an EHT TB PPDU is specified in the TXVECTOR.

b) BCC encoder: Encode the data by a convolutional encoder at the rate of  $R = 1/2$  as described in 17.3.5.6.  
c) BCC interleaver: Interleave as described in 27.3.12.8 (BCC interleavers) for HE-SIG-A/HE-SIG-B.  
d) Constellation mapper: BPSK modulate the first 52 interleaved bits as described in 17.3.5.8 to form the first OFDM symbol of U-SIG field. BPSK modulate the second 52 interleaved bits to form the second OFDM symbol of U-SIG field.  
e) Pilot insertion: Insert pilots as described in 36.3.12.7.3.  
f) Duplicate: Duplicate the U-SIG OFDM symbols over each occupied 20 MHz subchannel of the frequency subblock.

NOTE 2—20, 40, and 80 MHz EHT PPDU s have one 20, 40, and 80 MHz frequency subblock, respectively. 160 and 320 MHz EHT PPDU s have two and four 80 MHz frequency subblocks, respectively.

NOTE 3—U-SIG field content might vary between 80 MHz frequency subblocks in a 160 or 320 MHz EHT MU PPDU with the PPDU Type And Compression Mode field equal to 0 and the UL/DL field equal to 0 in the U-SIG field (DL OFDMA). For all other cases, U-SIG field content is the same for all frequency subblocks. See 36.3.12.7.

g) Phase rotation: Apply the appropriate phase rotation for each occupied 20 MHz subchannel as described in 36.3.11 and 36.3.11.4.  
h) IDFT: Compute the inverse discrete Fourier transform.  
i) CSD per chain: Apply CSD per chain for each transmit chain as described in 36.3.12.2.1.  
j) Insert GI and apply windowing: Prepend a GI ( $T_{GI, Pre-EHT}$ ) and apply windowing as described in 36.3.11.  
k) Analog and RF: Upconvert the resulting complex baseband waveform associated with each transmit chain to an RF signal according to the center frequency of the desired channel and transmit. Refer to 36.3.11 and 36.3.12 for details.

### 36.3.7.7 Construction of EHT-SIG

For an EHT MU PPDU, construct the EHT-SIG field as defined in 36.3.12.8 with the following highlights:

a) Obtain the EHT-SIG subfield values from the TXVECTOR. Add the Disregard fields. For each encoding block, append the calculated CRC and then append the  $N_{tail}$  tail bits as shown in 36.3.12.8. Append padding bits if needed.

1. BCC encoder: Encode each code block by a convolutional encoder as described in 27.3.12.5.1.
2. BCC interleaver: Interleave as described in 27.3.12.8 for HE-SIG-A/HE-SIG-B.
3. Constellation mapper: Obtain MCS\_EHT\_SIG from the TXVECTOR and use it to modulate the interleaved bits as described in 36.3.13.7 to form the EHT-SIG OFDM symbols.
4. Pilot insertion: Insert pilots as described in 36.3.12.8.6.
5. Duplicate and phase rotation: Duplicate EHT-SIG OFDM symbols as described in 36.3.12.8.6. Apply the appropriate phase rotation for each occupied 20 MHz subchannel as described in 36.3.11 and 36.3.11.4.
6. IDFT: Compute the inverse Fourier transform.
7. CSD per chain: Apply CSD per chain for each transmit chain as described in 36.3.12.2.1.
8. Insert GI and apply windowing: Prepend a GI ( $T_{GI, Pre-EHT}$ ) and apply windowing as described in 36.3.11.
9. Analog and RF: Upconvert the resulting complex baseband waveform associated with each transmit chain to an RF signal according to the center frequency of the desired channel and transmit. Refer to 36.3.11 and 36.3.12 for details.

### 36.3.7.8 Construction of EHT-STF

Construct the EHT-STF field as defined in 36.3.12.9 with the following highlights:

1. Sequence generation: Generate the EHT-STF in the frequency domain over the bandwidth indicated by the TXVECTOR parameter CH\_BANDWIDTH as described in 36.3.12.9.
2. CSD: Apply CSD for each spatial stream as described in 36.3.12.2.2.
3. Spatial mapping: Apply the  $Q$  matrix as described in 36.3.12.9.
4. IDFT: Compute the inverse discrete Fourier transform.
5. Insert GI and apply windowing: Prepend a GI of 0.8  $\mu$ s and 1.6  $\mu$ s GI for EHT MU PPDU and EHT TB PPDU, respectively. Apply windowing as described in 36.3.11.
6. Analog and RF: Upconvert the resulting complex baseband waveform associated with each transmit chain to an RF signal according to the center frequency of the desired channel and transmit. Refer to 36.3.11 and 36.3.12 for details.

### 36.3.7.9 Construction of EHT-LTF

Construct the EHT-LTF field as defined in 36.3.12.10 with the following highlights:

1. Sequence generation: Generate the EHT-LTF sequence in frequency domain over the bandwidth indicated by CH\_BANDWIDTH as described in 36.3.12.10.
2. $A_{EHT-LTF}$  matrix mapping: Apply the  $P_{EHT-LTF}$  matrix to the data tones of the EHT-LTF sequence and apply the  $R_{EHT-LTF}$  matrix to pilot subcarriers of the EHT-LTF sequence except for a UL MU-MIMO transmission using 1 $\times$  EHT-LTF as described in 36.3.12.10.
3. CSD: Apply CSD for each spatial stream as described in 36.3.12.2.2.
4. Spatial mapping: Apply the  $Q$  matrix as described in 36.3.12.10.
5. IDFT: Compute the inverse discrete Fourier transform.
6. Insert GI and apply windowing: Prepend a GI indicated by the TXVECTOR parameter GI\_TYPE and apply windowing as described in 36.3.11.
7. Analog and RF: Upconvert the resulting complex baseband waveform associated with each transmit chain to an RF signal according to the center frequency of the desired channel and transmit. Refer to 36.3.11 and 36.3.12 for details.

### 36.3.7.10 Construction of Data field in an EHT PPDU

Construct the Data field as defined in 36.3.13 with the following highlights:

For each user,

1. Construct the SERVICE field as described in 36.3.13.1 and append the PSDU to the SERVICE field.
2. Pre-FEC padding: Append the pre-FEC padding bits as described in 36.3.13. If the user is using BCC, then add tail bits.
3. Scrambler: Scramble the pre-FEC padded data as described in 36.3.13.2.
4. Encoder: If the user is using BCC, then BCC encode and, if EHT-MCS 15 is used in a 106-tone RU, 242-tone RU, or 106+26-tone MRU, insert a padding bit after every  $2 \times N_{DBPS, u}$  coded bits as described in 36.3.13.3.2. If the user is using LDPC, then LDPC encode as described in 36.3.13.3.3.
5. Post-FEC padding: Append the post-FEC padded bits as described in 36.3.13 and the PE field as described in 36.3.14.
6. Stream parser: Rearrange the output of encoder into blocks as described in 36.3.13.4.
7. Segment parser: In a 2 $\times$ 996-tone RU, 4 $\times$ 996-tone RU, 996+484-tone MRU, 996+484+242-tone MRU, 2 $\times$ 996+484-tone MRU, 3 $\times$ 996-tone MRU, or 3 $\times$ 996+484-tone MRU using EHT-MCS 0 to 13 or 15, divide each spatial stream output from the stream parser into multiple frequency subblocks as described in 36.3.13.5. This block is bypassed for RU(s) or MRU(s) of other sizes when using EHT-MCS 0 to 13 or 15. In a 320 MHz EHT MU PPDU using EHT-MCS 14, the output of the stream parser is divided into two 80 MHz frequency subblocks as described in 36.3.13.5. Segment parser is bypassed in an 80 MHz or 160 MHz EHT MU PPDU using EHT-MCS 14.
8. BCC interleaver: If the user is using BCC, interleave as described in 36.3.13.6. This block is bypassed if the user is using LDPC.
9. Constellation mapper: Map to BPSK, BPSK-DCM, QPSK, 16-QAM, 64-QAM, 256-QAM, 1024-QAM, or 4096-QAM constellation points as described in 36.3.13.7
10. LDPC tone mapper: If the user is using LDPC, the LDPC tone mapping is performed on all LDPC encoded streams as described in 36.3.13.8. This block is bypassed if the user is using BCC.
11. Segment deparser: In a 2 $\times$ 996-tone RU, 4 $\times$ 996-tone RU, 996+484-tone MRU, 996+484+242-tone MRU, 2 $\times$ 996+484-tone MRU, 3 $\times$ 996-tone MRU, or 3 $\times$ 996+484-tone MRU using EHT-MCS 0 to 13 or 15, merge the multiple 80 MHz frequency subblocks into one frequency segment as described in 36.3.13.9. This block is bypassed for RU(s) or MRU(s) of other sizes when using EHT-MCS 0 to 13 or 15. In a 320 MHz EHT MU PPDU using EHT-MCS 14, merge the two 80 MHz frequency subblocks into one frequency segment as described in 36.3.13.9. Segment deparser is bypassed in an 80 MHz or 160 MHz EHT MU PPDU using EHT-MCS 14.
12. Frequency domain duplication: For an EHT SU transmission using EHT-MCS 14, perform frequency domain duplication as described in 36.3.13.10. This block is bypassed for all other cases.
13. Pilot insertion: Insert pilots following the steps described in 36.3.13.11.
14. CSD: Apply CSD for each spatial stream as described in 36.3.12.2.2.

After steps a) to n) performed for all users in the PPDU,

1. Spatial mapping: Apply the  $Q$  matrix as described in 36.3.13.12. Signal from all users in each RU is combined in this block.
2. IDFT: Compute the inverse discrete Fourier transform.
3. Insert GI and apply windowing: Prepend a GI determined by the TXVECTOR parameter GI\_TYPE and apply windowing as described in 36.3.11.

r) Analog and RF: Upconvert the resulting complex baseband waveform with each transmit chain to an RF signal according to the center frequency of the desired channel and transmit. Refer to 36.3.11 for details.

#### 36.3.8 EHT modulation and coding schemes (EHT-MCSs)

The EHT-MCS is a compact representation of the modulation and coding used in the Data field of the PPDU. For an EHT MU PPDU, it is carried per user in the User Specific field of the EHT-SIG field. For an EHT TB PPDU, it is carried in the User Info field of the Trigger frame soliciting the EHT TB PPDU.

Rate dependent parameters for the full set of EHT-MCSs are shown in 36.5.

EHT-MCS 14 and EHT-MCS 15 enable DCM on top of EHT-MCS 0. EHT-MCS 14 and EHT-MCS 15 are supported only with one spatial stream.

#### 36.3.9 EHT-SIG modulation and coding schemes (EHT-SIG-MCSs)

The EHT-SIG-MCS is a compact representation of the modulation and coding used in the EHT-SIG field of the EHT MU PPDU. The EHT-SIG modulation and coding scheme is carried in the EHT-SIG MCS field of the U-SIG field in the EHT MU PPDU and supports EHT-MCS 0, EHT-MCS 1, EHT-MCS 3, and EHT-MCS 15.

#### 36.3.10 Timing-related parameters

Refer to Table 19-6 (Timing-related constants), Table 21-5 (Timing-related constants), and Table 27-13 (Timing related constants) for timing-related parameters for non-EHT PPDU formats.

Table 36-18 defines the timing-related parameters for EHT PPDU format.

Table 36-18—Timing-related constants

| Parameter                    | Value              | Description                                                                        |
|------------------------------|--------------------|------------------------------------------------------------------------------------|
| $\Delta_{F, \text{Pre-EHT}}$ | 312.5 kHz          | Subcarrier frequency spacing for the pre-EHT modulated fields                      |
| $\Delta_{F, \text{EHT}}$     | 78.125 kHz         | Subcarrier frequency spacing for the EHT modulated fields                          |
| $T_{\text{DFT, Pre-EHT}}$    | 3.2 $\mu\text{s}$  | IDFT/DFT period for the pre-EHT modulated fields                                   |
| $T_{\text{DFT, EHT}}$        | 12.8 $\mu\text{s}$ | IDFT/DFT period for the EHT Data field                                             |
| $T_{\text{GI, Pre-EHT}}$     | 0.8 $\mu\text{s}$  | Guard interval duration for the pre-EHT modulated fields excluding the L-LTF field |
| $T_{\text{GI, L-LTF}}$       | 1.6 $\mu\text{s}$  | Guard interval duration for the L-LTF field                                        |
| $T_{\text{GI, Data}}$        | 0.8 $\mu\text{s}$  | Base guard interval duration for the Data field                                    |
| $T_{\text{GI,2, Data}}$      | 1.6 $\mu\text{s}$  | Double guard interval duration for the Data field                                  |
| $T_{\text{GI,4, Data}}$      | 3.2 $\mu\text{s}$  | Quadruple guard interval duration for the Data field                               |

Table 36-18—Timing-related constants (continued)

| Parameter                 | Value                                                                                          | Description                                                           |
|---------------------------|------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------|
| $T_{GI, Data}$            | $T_{GI, Data} + T_{GI, Data}$ or $T_{GI, Data}$ depending on the GI used for the Data field    | Guard interval duration for the Data field                            |
| $T_{GI, EHT-LTF}$         | $T_{GI, Data}$                                                                                 | Guard interval duration for the EHT-LTF field, same as $T_{GI, Data}$ |
| $T_{SYM1}$                | $13.6 \mu s = T_{DFT, EHT} + T_{GI, Data} = 1.0625 \times T_{DFT, EHT}$                        | OFDM symbol duration with base GI                                     |
| $T_{SYM2}$                | $14.4 \mu s = T_{DFT, EHT} + T_{GI, Data} = 1.125 \times T_{DFT, EHT}$                         | OFDM symbol duration with double GI                                   |
| $T_{SYM4}$                | $16 \mu s = T_{DFT, EHT} + T_{GI, Data} = 1.25 \times T_{DFT, EHT}$                            | OFDM symbol duration with quadruple GI                                |
| $T_{SYM}$                 | $T_{SYM1}, T_{SYM2}$ or $T_{SYM4}$ depending on the GI used for EHT Data fields                | OFDM symbol interval for EHT Data fields.                             |
| $T_{L, STF}$              | $8 \mu s = 10 \times T_{DFT, Pw-EHT} / 4$                                                      | Non-HT Short Training field duration                                  |
| $T_{L, LTF}$              | $8 \mu s = 2 \times T_{DFT, Pw-EHT} + T_{GL, L-LTF}$                                           | Non-HT Long Training field duration                                   |
| $T_{L, SIG}$              | $4 \mu s$                                                                                      | Non-HT SIGNAL field duration                                          |
| $T_{RL-SIG}$              | $4 \mu s$                                                                                      | Repeated non-HT SIGNAL field duration                                 |
| $T_{U-SIG}$               | $8 \mu s = 2 \times 4 \mu s$                                                                   | U-SIG field duration in an EHT PPDU                                   |
| $T_{U-SIG-R}$             | $16 \mu s = 4 \times 4 \mu s$                                                                  | U-SIG field duration in an EHT ER preamble                            |
| $T_{EHT-SIG}$             | $4 \mu s = T_{DFT, Pw-EHT} + T_{GL, Pw-EHT}$                                                   | Duration of each OFDM symbol in the EHT-SIG field                     |
| $T_{EHT-STF-T}$           | $8 \mu s = 5 \times 1.6 \mu s$                                                                 | EHT-STF field duration for an EHT TB PPDU                             |
| $T_{EHT-STF-NT}$          | $4 \mu s = 5 \times 0.8 \mu s$                                                                 | EHT-STF field duration for an EHT MU PPDU                             |
| $T_{EHT-LTF-1X}$          | $3.2 \mu s$                                                                                    | Duration of each 1x EHT-LTF OFDM symbol without GI                    |
| $T_{EHT-LTF-2X}$          | $6.4 \mu s$                                                                                    | Duration of each 2x EHT-LTF OFDM symbol without GI                    |
| $T_{EHT-LTF-4X}$          | $12.8 \mu s$                                                                                   | Duration of each 4x EHT-LTF OFDM symbol without GI                    |
| $T_{EHT-LTF}$             | $T_{EHT-LTF-1X} + T_{EHT-LTF-2X}$ or $T_{EHT-LTF-4X}$ depending upon the EHT-LTF duration used | Duration of each OFDM symbol without GI in the EHT-LTF field          |
| $T_{EHT-LTF-SYM}$         | $T_{EHT-LTF} + T_{GL, EHT-LTF}$                                                                | Duration of each OFDM symbol including GI in the EHT-L-TF field       |
| $N_{service}$             | 16                                                                                             | Number of bits in the SERVICE field                                   |
| $N_{tail}$ , $N_{tail,u}$ | 6 for BCC encoder, 0 for LDPC encoder                                                          | Number of tail bits per encoder (for user $u$ )                       |

Table 36-18—Timing-related constants (continued)

| Parameter  | Value                                                                                                                      | Description                                                       |
|------------|----------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------|
| $T_{SYML}$ | 4 $\mu$ s                                                                                                                  | OFDM symbol duration including GI in the pre-EHT modulated fields |
| $T_{PE}$   | 0, 4 $\mu$ s, 8 $\mu$ s, 12 $\mu$ s, 16 $\mu$ s or 20 $\mu$ s<br>depending on the actual packet extension<br>duration used | Duration of the PE field                                          |

Table 36-19 defines tone allocation related parameters for a nonpunctured non-OFDMA EHT PPDU.

Table 36-19—Subcarrier allocation related constants for the EHT-modulated fields in a non-punctured non-OFDMA EHT PPDU

| Parameter          | CBW20 | CBW40 | CBW80<br>(non-EHT-<br>MCS 14) | CBW80<br>(EHT-<br>MCS 14) | CBW160 | CBW320-1<br>or<br>CBW-320 | Description                                |
|--------------------|-------|-------|-------------------------------|---------------------------|--------|---------------------------|--------------------------------------------|
| $N_{SD, total}$    | 234   | 468   | 980                           | 936                       | 1 960  | 3 920                     | Total number of data subcarriers           |
| $N_{SP}$           | 8     | 16    | 16                            | 32                        | 32     | 64                        | Number of pilot subcarriers                |
| $N_{ST}$           | 242   | 484   | 996                           | 968                       | 1 992  | 3 984                     | Total number of subcarriers                |
| $N_{SR}$           | 122   | 244   | 500                           | 500                       | 1 012  | 2 036                     | Highest data subcarrier index              |
| $N_{DC}$           | 3     | 5     | 5                             | 23                        | 23     | 23                        | Number of null subcarriers at DC           |
| $N_{Guard, Left}$  | 6     | 12    | 12                            | 12                        | 12     | 12                        | Number of low frequency guard subcarriers  |
| $N_{Guard, Right}$ | 5     | 11    | 11                            | 11                        | 11     | 11                        | Number of high frequency guard subcarriers |

Table 36-20 defines tone allocation related parameters for a punctured non-OFDMA EHT PPDU.

Table 36-20—Subcarrier allocation related constants for the EHT-modulated fields in a punctured non-OFDMA EHT PPDU

| Parameter          | CBW80 with 20 MHz puncturi ng 484+242-tone MRU | CBW160 with 40 MHz puncturi ng 996+484-tone MRU | CBW160 with 20 MHz puncturi ng 996+484+242-tone MRU | CBW320-1 or CBW320-2 with 120 MHz puncturi ng 2 $\times$ 996+484-tone MRU | CBW320-1 or CBW320-2 with 80 MHz puncturi ng 3 $\times$ 996-tone MRU | CBW320-1 or CBW320-2 with 40 MHz puncturi ng 3 $\times$ 996+484-tone MRU | Description                                                |
|--------------------|------------------------------------------------|-------------------------------------------------|-----------------------------------------------------|---------------------------------------------------------------------------|----------------------------------------------------------------------|--------------------------------------------------------------------------|------------------------------------------------------------|
| $N_{SD, total}$    | 702                                            | 1 448                                           | 1 682                                               | 2 428                                                                     | 2 940                                                                | 3 408                                                                    | Total number of data subcarriers among all punctured cases |
| $N_{SP}$           | 24                                             | 32                                              | 40                                                  | 48                                                                        | 48                                                                   | 64                                                                       | Number of pilot subcarriers                                |
| $N_{ST}$           | 726                                            | 1 480                                           | 1 722                                               | 2 476                                                                     | 2 988                                                                | 3 472                                                                    | Total number of subcarriers                                |
| $N_{SR}$           | 500                                            | 1 012                                           | 1 012                                               | 2 036                                                                     | 2 036                                                                | 2 036                                                                    | Highest data subcarrier index                              |
| $N_{DC}$           | 23                                             | 23                                              | 23                                                  | 23                                                                        | 23                                                                   | 23                                                                       | Number of null subcarriers at DC                           |
| $N_{Guard, Left}$  | 12                                             | 12                                              | 12                                                  | 12                                                                        | 12                                                                   | 12                                                                       | Number of low frequency guard subcarriers                  |
| $N_{Guard, Right}$ | 11                                             | 11                                              | 11                                                  | 11                                                                        | 11                                                                   | 11                                                                       | Number of high frequency guard subcarriers                 |

Table 36-21 defines tone allocation related parameters for an OFDMA EHT PPDU.

Table 36-21—Subcarrier allocation related constants for RUs in an OFDMA EHT PPDU

| Parameter                               | RU size (subcarriers) |    |     |     |     |     |                | Description |                                         |
|-----------------------------------------|-----------------------|----|-----|-----|-----|-----|----------------|-------------|-----------------------------------------|
|                                         | 26                    | 52 | 106 | 242 | 484 | 996 | 2 $\times$ 996 |             | 4 $\times$ 996                          |
| $N_{SD, total}$                         | 24                    | 48 | 102 | 234 | 468 | 980 | 1 960          | 3 920       | Total number of data subcarriers per RU |
| $N_{SP}$                                | 2                     | 4  | 4   | 8   | 16  | 16  | 32             | 64          | Number of pilot subcarriers per RU      |
| $N_{ST}$                                | 26                    | 52 | 106 | 242 | 484 | 996 | 1 992          | 3 984       | Total number of subcarriers per RU      |
| NOTE— $N_{ST} = N_{SD, total} + N_{SP}$ |                       |    |     |     |     |     |                |             |                                         |

Table 36-22 defines tone allocation related parameters for an OFDMA EHT PPDU.

Table 36-22—Subcarrier allocation related constants for MRUs in an OFDMA EHT PPDU

| Parameter                               | MRU size (subcarriers) |        |         |         |            |            | Description |                                          |
|-----------------------------------------|------------------------|--------|---------|---------|------------|------------|-------------|------------------------------------------|
|                                         | 52+26                  | 106+26 | 484+242 | 996+484 | 2×996 +484 | 3×996 +484 |             |                                          |
| $N_{SD, total}$                         | 72                     | 126    | 702     | 1 448   | 2 428      | 2 940      | 3 408       | Total number of data subcarriers per MRU |
| $N_{SP}$                                | 6                      | 6      | 24      | 32      | 48         | 48         | 64          | Number of pilot subcarriers per MRU      |
| $N_{ST}$                                | 78                     | 132    | 726     | 1 480   | 2 476      | 2 988      | 3 472       | Total number of subcarriers per MRU      |
| NOTE— $N_{ST} = N_{SD, total} + N_{SP}$ |                        |        |         |         |            |            |             |                                          |

Table 36-23 defines parameters used frequently in Clause 36.

Table 36-23—Frequently used parameters

| Symbol            | Explanation                                                                                                                                                                                                                        |
|-------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| $N_{RU}$          | For pre-EHT modulated fields, $N_{RU} = 1$ .<br>For EHT modulated fields, $N_{RU}$ represents the number of occupied RU(s) or MRU(s) in the transmission.                                                                          |
| $N_{user, r}$     | For pre-EHT modulated fields, $N_{user, r} = 1$ .<br>For EHT modulated fields, $N_{user, r}$ represents the total number of users in the $r$ -th occupied RU or MRU of the transmission.                                           |
| $N_{user, total}$ | Total number of users in all occupied RU(s) or MRU(s) of an EHT transmission, i.e.,<br>$N_{user, total} = \sum_{r=0}^{N_{RU}-1} N_{user, r}$                                                                                       |
| $N_{CBPS, u}$     | Number of coded bits per OFDM symbol for user $u$ , $u = 0, 1, \dots, N_{user, total} - 1$ .                                                                                                                                       |
| $N_{SD}$          | Effective number of data tones carrying unique data.<br>NOTE—The $N_{SD}$ value with SCM (when applicable) is half of the $N_{SD}$ value without SCM, for each RU or MRU size.                                                     |
| $N_{SD, u}$       | Effective number of data tones carrying unique data for user $u$ ,<br>$u = 0, 1, \dots, N_{user, total} - 1$ .                                                                                                                     |
| $N_{CBPSS, u}$    | Number of coded bits per OFDM symbol per spatial stream for user $u$ ,<br>$u = 0, 1, \dots, N_{user, total} - 1$ .                                                                                                                 |
| $N_{CBPSS, L, u}$ | Number of coded bits per OFDM symbol per spatial stream for user $u$ in the $L$ -th 80 MHz frequency block, $u = 0, 1, \dots, N_{user, total} - 1$ and $l = 0, 1, \dots, L - 1$ . $L$ is the number of 80 MHz frequency subblocks. |

Table 36-23—Frequently used parameters (continued)

| Symbol                                    | Explanation                                                                                                                                                                                                                                                                                                                                                                   |
|-------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| $N_{DBPSK}$                               | Number of data bits per OFDM symbol for user $u$ , $u = 0, 1, \dots, N_{user, total} - 1$ .<br>NOTE—For LDPC, $N_{DBPSK}$ is derived from $N_{CRBPSK}$ using $R_b$ , rather than the effective LDPC code rate, which may vary depending on shortening/puncturing/ repetition performed during LDPC encoding.                                                                  |
| $N_{BPSCS}$                               | Number of coded bits per subcarrier per spatial stream for user $u$ , $u = 0, 1, \dots, N_{user, total} - 1$ .                                                                                                                                                                                                                                                                |
| $N_{BPSCLL}$                              | Number of coded bits per subcarrier per spatial stream for user $u$ in the $l$ -th 80 MHz frequency block, $u = 0, 1, \dots, N_{user, total} - 1$ and $l = 0, 1, \dots, L - 1$ . $L$ is the number of 80 MHz frequency subblocks.                                                                                                                                             |
| $N_{RX}$                                  | Number of receive chains.                                                                                                                                                                                                                                                                                                                                                     |
| $N_{SS, r, u} \cdot N_{SS, u}$ , $N_{SS}$ | Number of spatial streams. For the Data field, $N_{SS, r, u}$ is the number of spatial streams at $r$ -th RU or MRU for user $u$ , $u = 0, 1, \dots, N_{user, r} - 1$ , and $N_{SS, u}$ is the number of spatial streams for user $u$ , $u = 0, 1, \dots, N_{user, total} - 1$ .<br>For the Data field of an EHT PPDU, $N_{SS} = \max_{r=0}^{N_{RU, r}-1} N_{SS, r, total}$ . |
| $N_{SS, r, total}$                        | For EHT modulated fields, $N_{SS, r, total}$ is the total number of spatial streams at $r$ -th RU or MRU in a PPDU:<br>$N_{SS, r, total} = \sum_{u=0}^{N_{user, r}-1} N_{SS, r, u}$<br>For pre-EHT modulated fields, $N_{SS, r, total}$ is undefined.                                                                                                                         |
| $N_{TX}$                                  | Number of transmit chains.                                                                                                                                                                                                                                                                                                                                                    |
| $N_{EHT-LTF}$                             | The number of OFDM symbols in the EHT-LTF field (see 36.3.12.10).                                                                                                                                                                                                                                                                                                             |
| $N_{EHT-SIG}$                             | The number of OFDM symbols in the EHT-SIG field (see 36.3.12.8).                                                                                                                                                                                                                                                                                                              |
| $K_r$                                     | Set of used subcarrier indices in the $r$ -th occupied RU or MRU.                                                                                                                                                                                                                                                                                                             |
| $R_u$                                     | Coding rate for user $u$ , $u = 0, 1, \dots, N_{user, total} - 1$ .                                                                                                                                                                                                                                                                                                           |
| $M_{r, u}$                                | The sum of the number of spatial streams of users prior to user $u$ in RU or MRU $r$ . For pre-EHT modulated fields, $M_{r, u} = 0$ . For EHT modulated fields, $M_{r, u} = 0$ for $u = 0$ and $M_{r, u} = \sum_{u'=0}^{u-1} N_{SS, r, u'}$ , for $u = 1, 2, \dots, N_{user, r} - 1$ .                                                                                        |

### 36.3.11 Mathematical description of signals

#### 36.3.11.1 Notation

For a description of the conventions used for the mathematical description of the signals, see 17.3.2.5. In addition, the following notational conventions are used in Clause 36:

—  $|Q|_{m,n}$  indicates the element in row  $m$  and column  $n$  of the matrix  $Q$ , where  $1 \le m \le N_{row}$  and  $1 \le n \le N_{col}$ , with  $N_{row}$  and  $N_{col}$  being the number of rows and columns, respectively, of the matrix  $Q$ .

—  $|Q|_{m,n}$  indicates a matrix consisting of columns  $m$  to  $n$  of the matrix  $Q$ .

### 36.3.11.2 Subcarrier indices in use

For a description on subcarrier indices over which the signal is transmitted for non-HT, HT, and VHT PPDU, see 21.3.7. For a description on subcarrier indices over which the signal is transmitted for HE PPDU, see 27.3.10.

For a 20 MHz EHT PPDU transmission, the 20 MHz is divided into 256 subcarriers for the EHT modulated fields. For a 20 MHz non-OFDMA EHT PPDU transmission, the signal of each EHT modulated field is transmitted on subcarriers  $-122$  to  $-2$  and  $2$  to  $122$ , with  $0$  being the center subcarrier. For a 20 MHz OFDMA EHT PPDU transmission, the signal of each EHT modulated field is transmitted on all or a subset of the subcarriers  $-122$  to  $-4$  and  $4$  to  $122$ , with  $0$  being the center subcarrier.

For a 40 MHz EHT PPDU transmission, the 40 MHz is divided into 512 subcarriers for the EHT modulated fields. For a 40 MHz non-OFDMA EHT PPDU transmission, the signal of each EHT modulated field is transmitted on subcarriers  $-244$  to  $-3$  and  $3$  to  $244$ , with  $0$  being the center subcarrier. For a 40 MHz OFDMA EHT PPDU transmission, the signal of each EHT modulated field is transmitted on all or a subset of subcarriers  $-244$  to  $-3$  and  $3$  to  $244$ , with  $0$  being the center subcarrier.

For an 80 MHz EHT PPDU transmission, the 80 MHz is divided into 1024 subcarriers for the EHT modulated fields. For an 80 MHz nonpunctured non-OFDMA EHT PPDU that is not in EHT DUP mode, the signal of each EHT modulated field is transmitted on subcarriers  $-500$  to  $-3$  and  $3$  to  $500$ , with  $0$  being the center subcarrier. For an 80 MHz nonpunctured non-OFDMA EHT PPDU in EHT DUP mode, the signal of each EHT modulated field is transmitted on subcarriers  $-500$  to  $-259$ ,  $-253$  to  $-12$ ,  $12$  to  $253$ , and  $259$  to  $500$ , with  $0$  being the center subcarrier. For an 80 MHz OFDMA EHT PPDU or punctured non-OFDMA EHT PPDU transmission, the signal of each EHT modulated field is transmitted on all or a subset of the subcarriers  $-500$  to  $-259$ ,  $-253$  to  $-12$ ,  $12$  to  $253$ , and  $259$  to  $500$ , with  $0$  being the center subcarrier.

For a 160 MHz EHT PPDU transmission, each half 80 MHz bandwidth is divided into 1024 subcarriers for EHT modulated fields, and the subcarriers on which the signal is transmitted in each 80 MHz bandwidth is identical to those in an 80 MHz EHT PPDU transmission with a corresponding subcarrier index shift, depending on whether it is nonpunctured non-OFDMA, punctured non-OFDMA, or OFDMA transmission within the corresponding 80 MHz.

For a 320 MHz EHT PPDU transmission, each quarter 80 MHz bandwidth is divided into 1024 subcarriers for EHT modulated fields, and the subcarriers on which the signal is transmitted in each 80 MHz bandwidth is identical to those in an 80 MHz EHT PPDU transmission with a corresponding subcarrier index shift, depending on whether it is nonpunctured non-OFDMA, punctured non-OFDMA, or OFDMA transmission within the corresponding 80 MHz.

For a 160 MHz or a 320 MHz EHT PPDU transmission in EHT DUP mode, the subcarriers on which the signal is transmitted in each 80 MHz bandwidth is identical to those in a nonpunctured non-OFDMA 80 MHz EHT PPDU transmission that is not in EHT DUP mode with a corresponding subcarrier index shift.

### 36.3.11.3 Channel frequencies

Let

$$f_{c, idx0} = \text{dot11EHTCurrentChannelCenterFrequencyIndex0} \quad (36-1)$$

$$f_{P20, \text{idx}} = \text{dot11CurrentPrimaryChannel} \quad (36-2)$$

$$f_{\text{CH, start}} = \text{dot11ChannelStartingFactor} \times 500 \text{ kHz} \quad (36-3)$$

where dot11EHTCurrentChannelCenterFrequencyIndex0 and dot11CurrentPrimaryChannel are defined in Table 36-24, and dot11ChannelStartingFactor is used to define channel starting frequency,  $f_{\text{CH, start}}$ .

Table 36-24—Fields to specify EHT channels

| Field                                       | Meaning                                                                                                                                                                                                            |
|---------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| dot11EHTCurrentChannelWidth                 | Channel width.<br>Possible values represent 20 MHz, 40 MHz, 80 MHz, 160 MHz, and 320 MHz channels.                                                                                                                 |
| dot11EHTCurrentChannelCenterFrequencyIndex0 | For a 20 MHz, 40 MHz, 80 MHz, 160 MHz, or 320 MHz channel, it denotes the location of the channel center frequency. Valid range is 1 to 13 for 2.4 GHz band, 1 to 200 for 5 GHz band, and 1 to 233 for 6 GHz band. |
| dot11CurrentPrimaryChannel                  | Denotes the location of the primary 20 MHz channel. Valid range is 1 to 13 for 2.4 GHz band, 1 to 200 for 5 GHz band, and 1 to 233 for 6 GHz band.                                                                 |

When dot11EHTCurrentChannelWidth is 20 MHz,  $f_{P20, \text{idx}} = f_{c, \text{idx}0}$ . When dot11EHTCurrentChannelWidth is 40 MHz, 80 MHz, or 160 MHz, the relationship between  $f_{P20, \text{idx}}$  and  $f_{c, \text{idx}0}$  is specified in Equation (21-5) in 21.3.7.3.

When dot11EHTCurrentChannelWidth is 320 MHz,  $f_{P20, \text{idx}}$  and  $f_{c, \text{idx}0}$  shall have the relationship specified in Equation (36-4).

$$f_{P20, \text{idx}} = f_{c, \text{idx}0} - 4 \cdot \left( \frac{N_{20\text{MHz}}}{2} - n_{P20} \right) + 2 \quad (36-4)$$

where

$$N_{20\text{MHz}} = 16.$$

$n_{P20}$  is an integer indicating the primary 20 MHz channel location corresponding to dot11EHTCurrentChannelCenterFrequencyIndex0 and dot11EHTCurrentChannelWidth values, with possible range  $0 \le n_{P20} \le N_{20\text{MHz}} - 1$ .

When dot11EHTCurrentChannelWidth is 40 MHz, 80 MHz, 160 MHz, or 320 MHz, the relationship between  $f_{P20, \text{idx}}$  and  $f_{S20, \text{idx}}$  is specified in Equation (21-6) in 21.3.7.3 (Channel frequencies).

When dot11EHTCurrentChannelWidth is 80 MHz, 160 MHz, or 320 MHz, the relationship between  $f_{P40, \text{idx}}$  and  $f_{c, \text{idx}0}$  is specified in Equation (21-7), and the relationship between  $f_{P40, \text{idx}}$  and  $f_{S40, \text{idx}}$  is specified in Equation (21-8) in 21.3.7.3.

When dot11EHTCurrentChannelWidth is 160 MHz or 320 MHz, the relationship between  $f_{P80, \text{idx}}$  and  $f_{c, \text{idx}0}$  are specified in Equation (21-9), and the relationship between  $f_{P80, \text{idx}}$  and  $f_{S80, \text{idx}}$  are specified in Equation (21-10) in 21.3.7.3.

When dot11EHTCurrentChannelWidth is 320 MHz,

— The primary 160 MHz channel is the channel with 160 MHz bandwidth centered at  $f_{CH, start} + 5 \times f_{P160, idx}$  MHz, where  $f_{P160, idx}$  is given in Equation (36-5).  
— The secondary 160 MHz channel is the channel with 160 MHz bandwidth centered at  $f_{CH, start} + 5 \times f_{S160, idx}$  MHz, where  $f_{S160, idx}$  is given in Equation (36-6).

$$f_{P160, idx} = f_{c, idx0} - 32 \cdot \left( \frac{N_{20MHz}}{16} - n_{P160} \right) + 16 \quad (36-5)$$

$$f_{S160, idx} = \begin{cases} f_{P160, idx} + 32, & \text{if } n_{P160} \text{ is even} \\ f_{P160, idx} - 32, & \text{if } n_{P160} \text{ is odd} \end{cases} \quad (36-6)$$

$$\text{where } n_{P160} = \left\lfloor \frac{n_{P20}}{8} \right\rfloor$$

#### 36.3.11.4 Transmitted signal

The transmitted signal is described in complex baseband signal notation. The actual transmitted signal on transmit chain  $i_{TX}$  is related to the complex baseband signal by the relation shown in Equation (36-7).

$$r_{RF}^{i_{TX}}(t) = \operatorname{Re}\{r_{PPDU}^{i_{TX}}(t) \cdot \exp(j2\pi f_c t)\}, \quad i_{TX} = 1, \dots, N_{TX} \quad (36-7)$$

where

$r_{PPDU}^{i_{TX}}(t)$  represents the complex baseband signal of transmit chain  $i_{TX}$ .

$f_c$  represents the center frequency of the transmitted PPDU. Table 36-25 shows  $f_c$  as a function of the channel starting frequency, dot11EHTCurrentChannelWidth and CH\_BANDWIDTH, where  $f_{CH, start}$ ,  $f_{c, idx0}$ ,  $f_{P20, idx}$ ,  $f_{P40, idx}$ ,  $f_{P80, idx}$ , and  $f_{P160, idx}$  are described in 36.3.11.3.

Table 36-25—Center frequency of the transmitted PPDU

| dot11EHTCurrentChannelWidth | CH_BANDWIDTH | $f_c = f_{CH, Start} + 5 \times f_{(0)}$ |
|-----------------------------|--------------|------------------------------------------|
|                             |              | $f_{(0)}$                                |
| 20 MHz                      | CBW20        | $f_{c, idx0}$                            |
|                             | CBW20        | $f_{P20, idx}$                           |
| 40 MHz                      | CBW40        | $f_{c, idx0}$                            |
|                             | CBW20        | $f_{P20, idx}$                           |
|                             | CBW40        | $f_{P40, idx}$                           |
| 80 MHz                      | CBW20        | $f_{P20, idx}$                           |
|                             | CBW40        | $f_{P40, idx}$                           |
|                             | CBW80        | $f_{c, idx0}$                            |
| 160 MHz                     | CBW20        | $f_{P20, idx}$                           |
|                             | CBW40        | $f_{P40, idx}$                           |
|                             | CBW80        | $f_{P80, idx}$                           |
|                             | CBW160       | $f_{c, idx0}$                            |
|                             |              |                                          |

Table 36-25—Center frequency of the transmitted PPDU (continued)

| dot11EHTCurrentChannelWidth | CH_BANDWIDTH       | $f_c = f_{CH, Start} + 5 \times f_{(0)}$ |
|-----------------------------|--------------------|------------------------------------------|
|                             |                    | $f_{(0)}$                                |
| 320 MHz                     | CBW20              | $f_{p20, idx}$                           |
|                             | CBW40              | $f_{p40, idx}$                           |
|                             | CBW80              | $f_{p80, idx}$                           |
|                             | CBW160             | $f_{p160, idx}$                          |
|                             | CBW320-1, CBW320-2 | $f_{c, idx0}$                            |

The transmitted RF signal is derived by upconverting the complex baseband signal, which consists of several fields. The timing boundaries for the various fields are shown in Figure 36-29, where  $N_{EHT-LTF}$  is the number of EHT-LTF symbols and is defined in Table 36-23,  $N_{EHT-SIG}$  is the number of OFDM symbols in the EHT-SIG field present in an EHT MU PPDU, and  $N_{SYM}$  is the number of OFDM symbols in the Data field.

![Figure 36-29 shows the timing boundaries for EHT PPDU fields. The diagram illustrates the Non-EHT portion and the EHT portion of the PPDU. The Non-EHT portion contains pre-EHT modulated fields: L-STF, L-LTF, L-SIG, RL-SIG, U-SIG. The EHT portion contains EHT modulated fields: EHT-SIG, EHT-STF, EHT-LTF symbols (N_EHT-LTF), Data symbols (N_SYM), and PE. The timing boundaries are marked below the fields.](1dd265dc15b932557666e092c5c0aa31_img.jpg)

Figure 36-29 shows the timing boundaries for EHT PPDU fields. The diagram illustrates the Non-EHT portion and the EHT portion of the PPDU. The Non-EHT portion contains pre-EHT modulated fields: L-STF, L-LTF, L-SIG, RL-SIG, U-SIG. The EHT portion contains EHT modulated fields: EHT-SIG, EHT-STF, EHT-LTF symbols (N\_EHT-LTF), Data symbols (N\_SYM), and PE. The timing boundaries are marked below the fields.

Figure 36-29—Timing boundaries for EHT PPDU fields

The time offset,  $t_{Field}$ , determines the starting time of the corresponding field relative to the start of L-STF ( $t = 0$ ).

The complex baseband signal transmitted on transmit chain  $i_{TX}$  shall be as shown in Equation (36-8).

$$\begin{aligned}i_{PPDU}^{TX}(t) = & i_{L-STF}^{TX}(t) + i_{L-LTF}^{TX}(t - t_{L-LTF}) + i_{L-SIG}^{TX}(t - t_{L-SIG}) + \\& i_{RL-SIG}^{TX}(t - t_{RL-SIG}) + i_{U-SIG}^{TX}(t - t_{U-SIG}) + i_{EHT-SIG}^{TX}(t - t_{EHT-SIG}) + \\& i_{EHT-STF}^{TX}(t - t_{EHT-STF}) + i_{EHT-LTF}^{TX}(t - t_{EHT-LTF}) + i_{EHT-Data}^{TX}(t - t_{EHT-Data}) + i_{EHT-PE}^{TX}(t - t_{EHT-PE})\end{aligned}\tag{36-8}$$

where

$i_{EHT-SIG}^{TX}(t - t_{EHT-SIG})$  is only applicable to an EHT MU PPDU.

$$1 \le i_{TX} \le N_{TX}$$

$$t_{L-LTF} = T_{L-STF}$$

$$t_{L-SIG} = t_{L-LTF} + T_{L-LTF}$$

$$t_{RL-SIG} = t_{L-SIG} + T_{L-SIG}$$

$$t_{U-SIG} = t_{RL-SIG} + T_{L-SIG}$$

$$t_{\text{EHT-SIG}} = \begin{cases} t_{\text{U-SIG}} + T_{\text{U-SIG}^*} & \text{for an EHT MU PPDU} \\ \text{undefined} & \text{otherwise} \end{cases}$$
$$t_{\text{EHT-STF}} = \begin{cases} t_{\text{U-SIG}} + T_{\text{U-SIG}^*} & \text{for an EHT TB PPDU} \\ t_{\text{EHT-SIG}} + N_{\text{EHT-SIG}}T_{\text{EHT-SIG}} & \text{for an EHT MU PPDU} \end{cases}$$
$$t_{\text{EHT-LTF}} = \begin{cases} t_{\text{EHT-STF}} + T_{\text{EHT-STF-T}} & \text{for an EHT TB PPDU} \\ t_{\text{EHT-STF}} + T_{\text{EHT-STF-NT}} & \text{for an EHT MU PPDU} \end{cases}$$
$$t_{\text{EHT-Data}} = t_{\text{EHT-LTF}} + N_{\text{EHT-LTF}}T_{\text{EHT-LTF-SYM}}$$
$$t_{\text{EHT-PE}} = t_{\text{EHT-Data}} + N_{\text{SYM}}T_{\text{SYM}}$$

In the remainder of this subclause, Field is used as a generic name to represent one of the valid EHT PPDU fields in all the mathematical symbols with Field as subscript or superscript.

In an EHT MU PPDU, for each field excluding the PE field,  $r_{\text{Subfield}}^{\text{TX}}(t)$  is defined as the summation of one or more subfields. Each subfield,  $r_{\text{Subfield}}^{\text{TX}}(t)$ , is defined to be an inverse Fourier transform in Equation (36-9).

$$r_{\text{Subfield}}^{\text{TX}}(t) = \quad (36-9)$$

$$w_{T_{\text{Subfield}}}(t) \sum_{r=0}^{N_{\text{RU}}-1} \frac{\alpha_r \beta_r^{\text{Field}}}{\sqrt{N_{\text{norm},r}}} \sum_{k \in K_r} \sum_{u=0}^{N_{\text{SS},r,u}} \sum_{m=1}^{N_{\text{SS},r,u}} [Q_{k,u}]_{i_{\text{TX}},m} \gamma_k \text{BW}_{k,r,u}^m \exp(j2\pi k \Delta_{F,\text{Field}}(t - T_{G\text{I},\text{Field}} - T_{\text{CS},\text{EHT}}(M_{r,u} + m)))$$

In an EHT TB PPDU, transmitted by user  $u$  in the  $r$ -th occupied RU or MRU, each subfield,  $r_{\text{Subfield},r,u}^{\text{TX}}(t)$ , is defined in Equation (36-10).

$$r_{\text{Subfield},r,u}^{\text{TX}}(t) = w_{T_{\text{Subfield}}}(t) \frac{\beta_r^{\text{Field}}}{\sqrt{N_{\text{norm},r}}} \eta_{\text{Pre-EHT}} \sum_{k \in K_r} \sum_{m=1}^{N_{\text{SS},r,u}} [Q_{k,u}]_{i_{\text{TX}},m} \gamma_k \text{BW}_{k,r,u}^m \exp(j2\pi k \Delta_{F,\text{Field}}(t - T_{G\text{I},\text{Field}} - T_{\text{CS},\text{EHT}}(M_{r,u} + m))) \quad (36-10)$$

For an EHT MU PPDU, the total power of the time domain EHT modulated field signals summed over all transmit chains should not exceed the total power of the time domain pre-EHT modulated field signals summed over all transmit chains.

For an EHT TB PPDU, the total power of the time domain EHT modulated field signals summed over all transmit chains may exceed the total power of the time domain pre-EHT modulated field signals summed over all transmit chains by up to 3 dB only if the size of the assigned RU or MRU is the same or smaller than 242 tones. Otherwise, the total power of the time domain EHT modulated field signals summed over all transmit chains should not exceed the total power of the time domain pre-EHT modulated field signals summed over all transmit chains.

For notational simplicity, the parameter bandwidth is omitted from some bandwidth dependent terms.

In Equation (36-9) and Equation (36-10), the following notations are used:

$W_{\text{Subfield}}(t)$  is a windowing function. An example function,  $W_{\text{Subfield}}(t)$ , is given in 17.3.2.5 (Mathematical conventions in the signal descriptions).  $T_{\text{Subfield}}$  is  $T_{\text{L-STF}}$  for L-STF,  $T_{\text{L-LTF}}$  for L-LTF,  $T_{\text{L-SIG}}$  for L-SIG,  $T_{\text{RL-SIG}}$  for RL-SIG,  $T_{\text{SYML}}$  for U-SIG field,  $T_{\text{EHT-SIG}}$  for EHT-SIG,  $T_{\text{EHT-STF-NT}}$  for EHT-STF of EHT MU PPDU,  $T_{\text{EHT-STF-T}}$  for EHT-STF of EHT TB PPDU,  $T_{\text{EHT-LTF-SYM}}$  for EHT-LTF, or  $T_{\text{SYM}}$  for EHT-Data.

$N_{\text{RU}}$  is defined in Table 36-23.

$N_{\text{Norm},r}$ . For pre-EHT modulated fields,  $N_{\text{Norm},r} = N_{\text{TX}}$ . For EHT modulated fields,  $N_{\text{Norm},r} = N_{\text{SS},r,\text{total}}$  for an EHT MU PPDU, and  $N_{\text{Norm},r} = N_{\text{SS},r,u}$  for an EHT TB PPDU, where  $N_{\text{SS},r,\text{total}}$  and  $N_{\text{SS},r,u}$  are given in Table 36-23.

$\alpha_r$  is the power boost factor of the  $r$ -th occupied RU or MRU in an EHT MU PPDU as defined in 35.11.1.2 and is set to the value of POWER\_BOOST\_FACTOR parameter in the TXVECTOR.

$K_r$ . For pre-EHT modulated fields,  $K_r$  is the set of subcarriers indices for all the tones in the corresponding 20 MHz channels where EHT modulated fields are located for the  $r$ -th occupied RU or MRU. For EHT modulated fields in a nonpunctured non-OFDMA EHT PPDU that is not in EHT DUP mode,  $K_r$  is the set of subcarriers indices from  $-N_{\text{SR}}$  to  $N_{\text{SR}}$  excluding DC subcarriers as defined in Table 36-19 and null subcarriers as defined in Table 36-16 if present. For EHT modulated fields in a nonpunctured non-OFDMA EHT MU PPDU transmitted in EHT DUP mode,  $K_r$  is the set of subcarriers indices for the tones in the  $r$ -th RU. For EHT modulated fields in a punctured non-OFDMA EHT PPDU and an OFDMA EHT PPDU,  $K_r$  is the set of subcarriers indices for the tones in the  $r$ -th RU or MRU. Data and pilot subcarrier indices for RUs are defined in Table 27-8 (Data and pilot subcarrier indices for RUs in a 20 MHz HE PPDU and in a non-OFDMA 20 MHz HE PPDU), Table 27-9 (Data and pilot subcarrier indices for RUs in a 40 MHz HE PPDU and in a non-OFDMA 40 MHz HE PPDU), Table 36-5, Table 36-6, and Table 36-7. Data and pilot subcarrier indices for MRUs consist of the data and pilot subcarrier indices of all component RUs.

$\beta_r^{\text{Field}}$  is the power normalization factor of the corresponding field in the  $r$ -th occupied RU or MRU and is defined in Equation (36-11).

$$\beta_r^{\text{Field}} = \begin{cases} \sqrt{\frac{\epsilon_{\text{Field}}}{N_{\text{Tone}}^{\text{Field}} \cdot \frac{\Omega_{20\text{MHz}}}{N_{20\text{MHz}}}}}, & \text{for pre-EHT modulated fields} \\ \frac{1}{\sqrt{\Gamma_r^{\text{Field}}}}, & \text{for EHT modulated fields in an EHT TB PPDU} \\ \sqrt{\frac{|K_r|}{\Gamma_r^{\text{Field}}}}, & \text{otherwise} \end{cases} \quad (36-11)$$

$N_{\text{Tone}}^{\text{Field}}$  is the number of tones in the corresponding field. Table 36-26 summarizes the various values of  $N_{\text{Tone}}^{\text{Field}}$  as a function of bandwidth.

Table 36-26—Number of modulated subcarriers and guard interval duration values for EHT PPDU fields

| Field                                                                                                                                          | $N_{\text{Field}}^{\text{tone}}$ as a function of bandwidth |        |        |         |         | Guard interval duration |
|------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------|--------|--------|---------|---------|-------------------------|
|                                                                                                                                                | 20 MHz                                                      | 40 MHz | 80 MHz | 160 MHz | 320 MHz |                         |
| L-STF                                                                                                                                          | 12                                                          | 24     | 48     | 96      | 192     | —                       |
| L-LTF                                                                                                                                          | 52                                                          | 104    | 208    | 416     | 832     | $T_{GL,L-LTF}$          |
| L-SIG in an EHT PPDU                                                                                                                           | 56                                                          | 112    | 224    | 448     | 896     | $T_{GL,Pre-EHT}$        |
| L-SIG in a non-HT duplicate PPDU                                                                                                               | —                                                           | 104    | 208    | 416     | 832     |                         |
| RL-SIG                                                                                                                                         | 56                                                          | 112    | 224    | 448     | 896     | $T_{GL,Pre-EHT}$        |
| U-SIG                                                                                                                                          | 56                                                          | 112    | 224    | 448     | 896     | $T_{GL,Pre-EHT}$        |
| EHT-SIG                                                                                                                                        | 56                                                          | 112    | 224    | 448     | 896     | $T_{GL,Pre-EHT}$        |
| NON_HT_DUP_OFD M-Data (see NOTE)                                                                                                               | —                                                           | 104    | 208    | 416     | 832     | $T_{GL,Pre-EHT}$        |
| NOTE—For notational convenience, NON_HT_DUP_OFDM-Data is used as a label for the Data field of a NON_HT PPDU with format type NON_HT_DUP_OFDM. |                                                             |        |        |         |         |                         |

$$N_{20\text{MHz}} = \begin{cases} 1, & \text{if CH_BANDWIDTH is CBW20} \\ 2, & \text{if CH_BANDWIDTH is CBW40} \\ 4, & \text{if CH_BANDWIDTH is CBW80} \\ 8, & \text{if CH_BANDWIDTH is CBW160} \\ 16, & \text{if CH_BANDWIDTH_IN_NON_HT is CBW320 or} \\ & \text{CH_BANDWIDTH is CBW320-1 or CBW320-2} \end{cases}$$

$\Omega_{20\text{MHz}}$  is a set of 20 MHz channels where pre-EHT modulated fields are located. The set of 20 MHz channels contains one or more values in the range 0 to  $N_{20\text{MHz}} - 1$  for an EHT MU PPDU with preamble puncturing, or an EHT TB PPDU, and it contains all values in the range 0 to  $N_{20\text{MHz}} - 1$  for an EHT MU PPDU without preamble puncturing.

$|\Omega_{20\text{MHz}}|$  is the cardinality of the set of 20 MHz channels  $\Omega_{20\text{MHz}}$ .

$\epsilon_{\text{field}}$  is the power debouncing factor of the corresponding pre-EHT modulated field relative to the L-SIG field defined as:

$$\epsilon_{\text{field}} = \begin{cases} \frac{N_{\text{L-LTF}}^{\text{tone}}}{N_{\text{L-SIG}}^{\text{tone}}}, & \text{for the L-STF and L-LTF fields} \\ 1, & \text{otherwise} \end{cases}$$

$|K|$  is the cardinality of the set of subcarriers  $K_r$ .

$\Gamma_{\text{field}}^{\text{field}}$  equals the number of modulated subcarriers within  $K_r$  (see Table 36-23) for the EHT-STF and Data fields. For the EHT-LTF field,  $\Gamma_{\text{field}}^{\text{field}}$  is defined as below to ensure per tone power are the same for both EHT-LTF and Data fields, regardless of 1 $\times$ , 2 $\times$ , or 4 $\times$  EHT-LTF.

$$I_r^{\text{EHT-LTF}} = \begin{cases} |K_r|, & \text{for a } 4 \times \text{EHT-LTF} \\ |K_r|/2, & \text{for a } 2 \times \text{EHT-LTF} \\ |K_r|/4, & \text{for an } 1 \times \text{EHT-LTF} \end{cases}$$

$\eta_{\text{Pre-EHT}}$  is the power scaling factor of a given field for an EHT TB PPDU. For the pre-EHT modulated fields,  $\eta_{\text{Pre-EHT}}$  is in the range  $[\frac{1}{\sqrt{2}}, 1]$  when the size of the  $r$ -th occupied RU or MRU is the same or smaller than 242 tones; otherwise,  $\eta_{\text{Pre-EHT}} = 1$ . The same  $\eta_{\text{Pre-EHT}}$  value applies to all pre-EHT modulated fields. For EHT modulated fields,  $\eta_{\text{Pre-EHT}} = 1$ .

$Q_{k,u}$  is the spatial mapping matrix for user  $u$  on subcarrier  $k$ . For EHT modulated fields,  $Q_{k,u}$  is a matrix with  $N_{TX}$  rows and  $N_{SS,r,u}$  columns. For pre-EHT modulated fields,  $Q_{k,u}$  is a column vector with  $N_{TX}$  elements, with element  $i_{TX}$  being  $\exp(-j2\pi k\Delta_{F,\text{Pre-EHT}}T_{CS}^{i_{TX}})$ , where  $T_{CS}^{i_{TX}}$  represents the cyclic shift for the transmitter chain whose value is defined in 36.3.12.2.1.

$\Delta_{F,\text{Field}}$  is the subcarrier frequency spacing of the corresponding field. For pre-EHT modulated fields,  $\Delta_{F,\text{Field}} = \Delta_{F,\text{Pre-EHT}}$  given in Table 36-18. For EHT modulated fields,  $\Delta_{F,\text{Field}} = \Delta_{F,\text{EHT}}$  given in Table 36-18.

$M_{r,u}$  is given in Table 36-23.

$\lambda_{k,r,u}^m$  is the frequency-domain symbol assigned for subcarrier  $k$  of user  $u$  in the  $r$ -th RU or MRU for the  $m$ -th spatial stream. Some of the  $\lambda_{k,r,u}^m$  within  $-N_{SR} \le k \le N_{SR}$  have a value of zero. Examples of such cases include the DC tones, guard tones on each side of the transmit spectrum, the null subcarriers in an EHT OFDMA PPDU, as well as the unmodulated tones of L-STF, EHT-STF, and EHT-LTF fields.

$T_{GI,\text{Field}}$  is the guard interval duration used for each OFDM symbol in the corresponding field. The value of guard interval duration for each EHT PPDU field is defined in Table 36-18.

$T_{CS,\text{EHT}}(l)$  For pre-EHT modulated fields,  $T_{CS,\text{EHT}}(l) = 0$ . For EHT modulated fields,  $T_{CS,\text{EHT}}(l)$  represents the cyclic shift per spatial stream, whose value is defined in 36.3.12.2.2.

$\gamma_{k,BW}$  is used to represent a phase rotation applied to the  $k$ -th subcarrier for a given bandwidth  $BW$ , which is determined by the TXVECTOR parameter CH\_BANDWIDTH as defined in Table 36-27. For EHT modulated fields,  $\gamma_{k,BW} = 1$  for all subcarriers. For pre-EHT modulated fields,  $\gamma_{k,BW}$  is defined as in 21.3.7.5 for 20 MHz, 40 MHz, 80 MHz, and 160 MHz PPDU transmission, and in Equation (36-12) for a 320 MHz PPDU transmission,

$$\gamma_{k,320} = \begin{cases} 1, & k < -448 \\ -1, & -448 \le k < -256 \\ \varphi_1, & -256 \le k < -192 \\ -\varphi_1, & -192 \le k < 0 \\ \varphi_2, & 0 \le k < 64 \\ -\varphi_2, & 64 \le k < 256 \\ \varphi_3, & 256 \le k < 320 \\ -\varphi_3, & k \ge 320 \end{cases} \quad (36-12)$$

where  $\phi_1$ ,  $\phi_2$ ,  $\phi_3$  are implementation dependent per 80 MHz frequency subblock rotation coefficient with value of +1 and -1. Two examples of such 320 MHz phase rotations are given in Equation (36-13), where  $\phi_1 = 1$ ,  $\phi_2 = -1$ , and  $\phi_3 = -1$ , and Equation (36-14), where  $\phi_1 = 1$ ,  $\phi_2 = 1$ , and  $\phi_3 = -1$ .

$$\gamma_{k, 320} = \begin{cases} 1, & k < -448 \\ -1, & -448 \le k < -256 \\ 1, & -256 \le k < -192 \\ -1, & -192 \le k < 0 \\ -1, & 0 \le k < 64 \\ 1, & 64 \le k < 256 \\ -1, & 256 \le k < 320 \\ 1, & k \ge 320 \end{cases} \quad (36-13)$$

$$\gamma_{k, 320} = \begin{cases} 1, & k < -448 \\ -1, & -448 \le k < -256 \\ 1, & -256 \le k < -192 \\ -1, & -192 \le k < 0 \\ 1, & 0 \le k < 64 \\ -1, & 64 \le k < 256 \\ -1, & 256 \le k < 320 \\ 1, & k \ge 320 \end{cases} \quad (36-14)$$

Table 36-27—CH\_BANDWIDTH/CH\_BANDWIDTH\_IN\_NON\_HT and phase rotation for a given bandwidth for pre-EHT modulated fields

| CH_BANDWIDTH/<br>CH_BANDWIDTH_IN_NON_HT | $\gamma_{k, BW}$  |
|-----------------------------------------|-------------------|
| CBW20                                   | $\gamma_{k, 20}$  |
| CBW40                                   | $\gamma_{k, 40}$  |
| CBW80                                   | $\gamma_{k, 80}$  |
| CBW160                                  | $\gamma_{k, 160}$ |
| CBW320                                  | $\gamma_{k, 320}$ |
| CBW320-1, CBW320-2                      | $\gamma_{k, 320}$ |

### 36.3.12 EHT preamble

#### 36.3.12.1 Introduction

The EHT preamble consists of pre-EHT modulated fields and EHT modulated fields. The pre-EHT modulated fields for the two EHT PPDU formats are the following:

- L-STF, L-LTF, L-SIG, RL-SIG, and U-SIG fields of an EHT TB PPDU
- L-STF, L-LTF, L-SIG, RL-SIG, U-SIG, and EHT-SIG fields of an EHT MU PPDU

The EHT modulated fields in the preamble for the two EHT PPDU formats are the EHT-STF and EHT-LTF fields.

For an EHT STA with operating bandwidth larger than 80 MHz, the pre-EHT modulated field design ensures that an EHT STA is required to process only one 80 MHz frequency subblock of the pre-EHT modulated fields to get all the assignment information for itself. For an EHT PPDU with bandwidth larger than 80 MHz, an EHT STA can get all required information from processing the primary 80 MHz or the 80 MHz in which the STA is operating and does not need to process other 80 MHz frequency subblocks.

The pre-EHT modulated fields (see Figure 36-29) are not transmitted in 20 MHz subchannels in which the preamble is punctured.

#### 36.3.12.2 Cyclic shift

##### 36.3.12.2.1 Cyclic shift for pre-EHT modulated fields

The cyclic shift value  $T_{CS}^{i_{TX}}$  for the L-STF, L-LTF, L-SIG, RL-SIG, U-SIG, and EHT-SIG fields of the PPDU for transmit chain  $i_{TX}$  out of a total of  $N_{TX}$  are defined in Table 21-10 (Cyclic shift values for L-STF, L-LTF, L-SIG, and VHT-SIG-A fields of the PPDU). In UL MU transmission, the cyclic shift value  $T_{CS}^{i_{TX}}$  is based on the local transmit chain indices at each STA.

##### 36.3.12.2.2 Cyclic shift for EHT modulated fields

Throughout the EHT modulated fields of the preamble, cyclic shifts are applied to prevent unintended beamforming when correlated signals are transmitted in multiple spatial streams. The same cyclic shifts are also applied to these streams during the transmission of the Data field of the EHT PPDU. For the  $r$ -th RU, the cyclic shift value  $T_{CS,EHT}(n)$  for the EHT modulated fields for spatial stream  $n$  out of  $N_{SS,r,total}$  total spatial streams is shown in Table 21-11 (Cyclic shift values for the VHT modulated fields of a PPDU).

#### 36.3.12.3 L-STF

The time domain representation of the L-STF field, transmitted on transmit chain  $i_{TX}$  shall be as specified in Equation (36-15). The equation applies to all signals up to 320 MHz bandwidth PPDU with or without preamble puncturing.

$$r_{L-STF}^{i_{TX}}(t) = \frac{\varepsilon}{\sqrt{N_{TX} \cdot N_{L-STF}^{Tone} \cdot \frac{\Omega_{20MHz}}{N_{20MHz}}}} w_{L-STF}(t) \Pi_{Pre-EHT} \sum_{i_{BW} \in \Omega_{20MHz}} \sum_{k=-26}^{26} (\gamma_{(k-K_{shift}(i_{BW}))} \cdot \text{BW}_{k,20} \exp(j2\pi(k-K_{shift}(i_{BW}))) \Delta_{F,Pre-EHT}(t-T_{CS}^{i_{TX}})) \quad (36-15)$$

where

$\epsilon$  is a power scaling factor with the value  $\epsilon = \sqrt{\frac{N_{\text{Tone}}^{\text{L-LTF}}}{N_{\text{L-SIG}}^{\text{Tone}}}}$ .

$\eta_{\text{Pre-EHT}}$  is defined in Equation (36-10) for EHT TB PPDU. Otherwise,  $\eta_{\text{Pre-EHT}} = 1$ .

$K_{\text{Shift}}(i) = (N_{20\text{MHz}} - 1 - 2i) \cdot 32$

$T_{\text{CS}}^{\text{TX}}$  represents the cyclic shift for transmit chain  $i_{\text{TX}}$  with a value as described in 36.3.12.2.1.

$N_{\text{L-STF}}^{\text{Tone}}$  is the value given in Table 36-26.

$\Omega_{20\text{MHz}}$  is a set of 20 MHz channels where pre-EHT modulated fields are located. The set of 20 MHz channels contains one or more values in the range 0 to  $N_{20\text{MHz}} - 1$  for an EHT TB PPDU or EHT MU PPDU with preamble puncturing, and it contains all values in the range 0 to  $N_{20\text{MHz}} - 1$  for an EHT MU PPDU without preamble puncturing.

$$N_{20\text{MHz}} = \begin{cases} 1, & \text{if CH\_BANDWIDTH is CBW20} \\ 2, & \text{if CH\_BANDWIDTH is CBW40} \\ 4, & \text{if CH\_BANDWIDTH is CBW80} \\ 8, & \text{if CH\_BANDWIDTH is CBW160} \\ 16, & \text{if CH\_BANDWIDTH\_IN\_NON\_HT is CBW320 or} \\ & \text{CH\_BANDWIDTH is CBW320-1 or CBW320-2} \end{cases}$$

$S_{k,20}$  is defined as  $S_k$ , where  $S_k$  is an element of  $S_{-26,26}$  for  $-26 \le k \le 26$  from Equation (19-8).

$i_{BW}$  is the index of 20 MHz channels,  $0 \le i_{BW} \le N_{20\text{MHz}} - 1$ .

Other variables in Equation (36-15) are defined in 36.3.10 and 36.3.11.

#### 36.3.12.4 L-LTF

The time domain representation of the L-LTF field, transmitted on transmit chain  $i_{\text{TX}}$ , shall be as specified in Equation (36-16). The equation applies to all signals up to 320 MHz bandwidth PPDU with or without preamble puncturing.

$$r_{\text{L-LTF}}^{\text{TX}}(t) = \frac{\epsilon}{\sqrt{N_{\text{TX}}^{\text{L-LTF}} \cdot N_{\text{L-LTF}}^{\text{Tone}} \cdot \frac{\Omega_{20\text{MHz}}}{N_{20\text{MHz}}}}} w_{\text{L-LTF}}(t) \eta_{\text{Pre-EHT}} \sum_{i_{BW} \in \Omega_{20\text{MHz}}, k=-26}^{26} \sum$$
 (36-16)

$$(\gamma_{(k-K_{\text{Shift}}(i_{BW})), \text{BW}} L_{k,20} \exp(j2\pi(k-K_{\text{Shift}}(i_{BW}))\Delta_{F, \text{Pre-EHT}}(t-T_{\text{GL-L-LTF}}^{\text{TX}} T_{\text{CS}}^{\text{TX}})))$$

where

$\epsilon$  is a power scaling factor with the value  $\epsilon = \sqrt{\frac{N_{\text{Tone}}^{\text{L-LTF}}}{N_{\text{L-SIG}}^{\text{Tone}}}}$ .

$T_{\text{GL-L-LTF}}$  is given in Table 36-18.

$K_{\text{Shift}}(i) = (N_{20\text{MHz}} - 1 - 2i) \cdot 32$

$T_{\text{CS}}^{\text{TX}}$  represents the cyclic shift for transmit chain  $i_{\text{TX}}$  with a value as described in 36.3.12.2.1.

$N_{\text{L-LTF}}^{\text{Tone}}$  is the value given in Table 36-26.

$L_{k,20}$  is defined as  $L_k$ , where  $L_k$  is an element of  $L_{-26,26}$  for  $-26 \le k \le 26$  from Equation (17-8).

Other variables in Equation (36-16) are defined in 36.3.10 and 36.3.11.

#### 36.3.12.5 L-SIG

The L-SIG field is used to communicate rate and length information. The structure of the L-SIG field is defined in Figure 17-5 (SIGNAL field bit assignment).

In an EHT PPDU, the RATE field shall be set to the value representing 6 Mb/s in the 20 MHz channel spacing column of Table 17-6 (Contents of the SIGNAL field). In a non-HT duplicate PPDU, the RATE field is defined in 17.3.4.2 (RATE field) using the L\_DATARATE parameter in the TXVECTOR.

The LENGTH field in an EHT PPDU is set to a value satisfying the condition that the remainder is zero when LENGTH is divided by 3. This remainder is used to differentiate an EHT PPDU from an HE PPDU.

For an EHT TB PPDU, the LENGTH field is set to the TXVECTOR parameter L\_LENGTH + 2. For an EHT MU PPDU, the LENGTH field is set to the value given by Equation (36-17).

NOTE—The TXVECTOR parameter L\_LENGTH field of an EHT TB PPDU has the same value as the UL Length subfield of a Trigger frame. The UL Length subfield of a Trigger frame that solicits either an HE TB PPDU or an EHT TB PPDU is set following Equation (27-11) with  $m = 2$  as defined in 35.5.2.2.4, then the nonzero  $m$  is reversed for EHT TB PPDU by adding 2 as above.

$$\text{Length} = \left\lceil \frac{\text{TXTIME} - \text{SignalExtension} - 20}{4} \right\rceil \times 3 - 3 \quad (36-17)$$

where

TXTIME (in microseconds) is defined in 36.4.3.

*SignalExtension* is defined in Table 27-61 (HE PHY characteristics).

In a non-HT duplicate PPDU, the LENGTH field is defined in 17.3.4.3 (PHY LENGTH field) using the L\_LENGTH parameter in the TXVECTOR.

The Reserved (R) field shall be set to 0.

The Parity (P) field has the even parity of bits 0–16.

The SIGNAL TAIL field shall be set to 0.

The L-SIG field shall be encoded, interleaved, and mapped following the steps described in 17.3.5.6, 17.3.5.7, and 17.3.5.8 (Subcarrier modulation mapping). The stream of 48 complex numbers generated by these steps is denoted by  $d_k$ ,  $k = 0, 1, \dots, 47$  and is mapped to the data subcarriers within the range  $[-26, 26]$ . In addition, values  $[-1, -1, -1, 1]$  are mapped to the extra subcarriers  $[-28, -27, 27, 28]$  of the L-SIG field of a 20 MHz EHT PPDU. Pilots shall be inserted as described in 17.3.5.9.

The time domain waveform of the L-SIG field, transmitted on transmit chain  $i_{TX}$ , shall be as given by Equation (36-18).

$$r_{\text{L-SIG}}^{i_{TX}}(t) \qquad (36-18)$$

$$= \frac{1}{\sqrt{N_{TX} \cdot N_{\text{L-SIG}}^{\text{Tone}} \cdot \frac{\Omega_{20\text{MHz}}}{N_{20\text{MHz}}}}} w_{\text{L-SIG}}(t) \eta_{\text{Pre-EHT}} \sum_{i_{BW} \in \Omega_{20\text{MHz}}} \sum_{k=-28}^{28} \\ (\gamma_{(k-K_{\text{Shift}}(i_{BW}))} \cdot \text{BW}(D_{k,20} + p_0 P_k) \exp(j 2\pi (k - K_{\text{Shift}}(i_{BW})) \Delta_{F, \text{Pre-EHT}} (t - T_{GI, \text{Pre-EHT}} - T_{CS}^{i_{TX}})))$$

where

$T_{GI, \text{Pre-EHT}}$  is given in Table 36-18.

$K_{\text{Shift}}(i) = (N_{20\text{MHz}} - 1 - 2i) \cdot 32$

$$D_{k,20} = \begin{cases} 0, & k = 0, \pm 7, \pm 21 \\ -1, & k = -28, \pm 27 \\ 1, & k = 28 \\ d_{M_{20}^{*}(k)}, & \text{otherwise} \end{cases}$$

$$M_{20}^{*}(k) = \begin{cases} k + 26, & -26 \le k \le -22 \\ k + 25, & -20 \le k \le -8 \\ k + 24, & -6 \le k \le -1 \\ k + 23, & 1 \le k \le 6 \\ k + 22, & 8 \le k \le 20 \\ k + 21, & 22 \le k \le 26 \end{cases}$$

$P_k$  is defined in 17.3.5.10 (OFDM modulation).

$p_0$  is the first pilot value in the sequence defined in 17.3.5.10 (OFDM modulation)

$N_{\text{L-SIG}}^{\text{Tone}}$  is defined in Table 36-26.

$T_{CS}^{i_{TX}}$  represents the cyclic shift for transmit chain  $i_{TX}$  with a value given in 36.3.12.2.1.

Other variables in Equation (36-18) are defined in 36.3.10 and 36.3.11.

NOTE— $M_{20}^{*}(k)$  is a “reverse” function of the function  $M(k)$  defined in 17.3.5.10 (OFDM modulation).

### 36.3.12.6 RL-SIG

The RL-SIG field is a repeat of the L-SIG field and is used to differentiate an EHT PPDU from a non-HT PPDU, HT PPDU, and VHT PPDU.

The time domain waveform of the RL-SIG field, transmitted on transmit chain  $i_{TX}$ , shall be as given by Equation (36-19).

$$r_{\text{RL-SIG}}^{i_{\text{TX}}}(t) = \quad (36-19)$$

$$\frac{1}{\sqrt{N_{\text{TX}} \cdot N_{\text{RL-SIG}}^{\text{Tone}} \cdot \frac{\Omega_{20\text{MHz}}}{N_{20\text{MHz}}}}} w_{\text{RL-SIG}}(t) \eta_{\text{Pre-EHT}} \sum_{i_{BW} \in \Omega_{20\text{MHz}}, k=-28}^{28} \left( \gamma_{(k-K_{\text{Shin}}(i_{BW}))} \text{BW}(D_{k,20} + p_1 P_k) \exp(j2\pi(k - K_{\text{Shin}}(i_{BW}))\Delta_F, \text{Pre-EHT}(t - T_{GL, \text{Pre-EHT}} - t_{CS}^{i_{\text{TX}}})) \right)$$

where

$p_1$  is the second pilot value in the sequence defined in 17.3.5.10 (OFDM modulation).

Other variables in Equation (36-19) are defined in 36.3.10 and 36.3.11.

All the other parameters are described in the variable list of Equation (36-15).

### 36.3.12.7 U-SIG

#### 36.3.12.7.1 General

The U-SIG field carries information necessary to interpret EHT PPDU. The integer fields of the U-SIG field are transmitted in unsigned binary format, LSB first, where the LSB is in the lowest numbered bit position.

#### 36.3.12.7.2 Content

The U-SIG field is designed to bring forward compatibility to the EHT preamble via the introduction of version independent fields. These are the fields that will be consistent in location and interpretation across multiple IEEE 802.11 PHY clauses. The intent of the version independent fields is to achieve better coexistence among IEEE 802.11 PHY clauses that are defined for 2.4 GHz, 5 GHz, and 6 GHz spectrum from Clause 36 onwards. In addition, the U-SIG field can have some version dependent fields that are fields specific to an IEEE 802.11 PHY clause. The U-SIG field includes 5 version independent fields, i.e., PHY Version Identifier, Bandwidth, UL/DL, BSS Color, and TXOP, followed by the version dependent fields, and CRC and Tail fields at the end. The location, bitwidth, and polynomial of the CRC field, and location and bitwidth of the Tail field need to be consistent across different IEEE 802.11 PHY clauses that are defined for 2.4 GHz, 5 GHz, and 6 GHz spectrum from Clause 36 onwards. The purpose of the PHY Version Identifier field is to simplify detection for IEEE 802.11 PHY clauses that are defined for 2.4 GHz, 5 GHz, and 6 GHz spectrum from Clause 36 onwards, i.e., the value of this field is used to identify the exact PHY version starting with EHT.

The length of the U-SIG field for EHT MU PPDU and EHT TB PPDU is two OFDM symbols. For forward compatibility, EHT also defines the U-SIG field of an ER preamble while not defining an ER PPDU with the PHY Version Identifier field in the U-SIG equal to 0 (EHT) for an EHT STA. An EHT STA shall be able to decode and interpret the version independent fields in the U-SIG field of an ER preamble that may be introduced in IEEE 802.11 PHY clauses that are defined for 2.4 GHz, 5 GHz, and 6 GHz spectrum from Clause 36 onwards. Regardless of the value of the PHY Version Identifier field in the U-SIG field of an ER preamble, an EHT STA shall defer for the duration of the PPDU as defined in 36.3.23, report the information from the version independent fields within the RXVECTOR, and terminate the reception of the PPDU. The length of the U-SIG field for an ER preamble is four OFDM symbols.

Reserved fields in the EHT preamble or reserved values of the fields in the EHT preamble are divided into two categories: Validate and Disregard. An EHT STA shall set the Disregard fields and Validate fields in accordance with the requirements specified in this subclause. Validate field values serve to indicate whether to continue reception of a PPDU at an EHT STA. If an EHT STA encounters a PPDU where at least one Validate field in the preamble is not set to the value specified in Clause 36, or at least one field in the EHT preamble equals a value that is identified as Validate for the STA, the STA shall defer for the duration of the PPDU as defined in 36.3.23 and report the information from the version independent fields within the RXVECTOR. If an EHT STA sees any of the fields identified as Disregard for the STA set to a value that is different from its specified value in this subclause or field values of any field in the EHT preamble as being set to a value identified as Disregard for the STA in this subclause, it shall ignore these field values and they will have no impact on the STA's continued reception of the PPDU (i.e., reception at the STA can continue as usual). For further details on receive behavior when encountered with Validate and Disregard fields or any field as being set to a value identified as Validate or Disregard, refer to 36.3.23.

It is possible that a certain combination of U-SIG field values in a U-SIG field that indicates a valid CRC, leads to an invalid EHT-SIG CRC. Further details on receive behavior for the aforementioned case, can be found in 36.3.23.

For a 40 MHz EHT MU PPDU or ER preamble, the U-SIG field content shall be identical in both 20 MHz subchannels. For an 80 MHz EHT MU PPDU or ER preamble, the U-SIG field content shall be identical in all nonpunctured 20 MHz subchannels. For a 160 MHz or 320 MHz EHT MU PPDU or ER preamble, the U-SIG field content shall be identical in all nonpunctured 20 MHz subchannels within each 80 MHz frequency subblock, and the U-SIG field content in different 80 MHz frequency subblocks may be different. For a 40 MHz, 80 MHz, 160 MHz or 320 MHz EHT TB PPDU, the U-SIG content shall be identical in all nonpunctured 20 MHz subchannels where the non-AP EHT STA's EHT modulated fields are occupied. An EHT MU PPDU with TXVECTOR parameter EHT\_PPDU\_TYPE equal to 1 or 2 has the same U-SIG content for all nonpunctured 20 MHz subchannel for all PPDU bandwidths. An EHT MU PPDU with TXVECTOR parameter EHT\_PPDU\_TYPE equal to 0 has the same U-SIG content for all nonpunctured 20 MHz subchannel for all PPDU bandwidths, except that the Punctured Channel Information field might have different values between different 80 MHz frequency subblocks.

The U-SIG field for an EHT MU PPDU contains the fields listed in Table 36-28.

Table 36-28—U-SIG field of an EHT MU PPDU

| Two parts of U-SIG | Bit   | Field                  | Number of bits | Description                                                                                                                                                                                                                                    |
|--------------------|-------|------------------------|----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| U-SIG-1            | B0-B2 | PHY Version Identifier | 3              | Differentiate between different PHY clauses.<br>Set to 0 for EHT.<br>Values 1-7 are Validate.                                                                                                                                                  |
|                    | B3-B5 | Bandwidth              | 3              | Set to 0 for 20 MHz.<br>Set to 1 for 40 MHz.<br>Set to 2 for 80 MHz.<br>Set to 3 for 160 MHz.<br>Set to 4 for 320 MHz-1.<br>Set to 5 for 320 MHz-2.<br>See definition of 320 MHz-1 and 320 MHz-2 in 36.3.24.2.<br>Values 6 and 7 are Validate. |

Table 36-28—U-SIG field of an EHT MU PPDU (continued)

| Two parts of U-SIG | Bit     | Field                          | Number of bits | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|--------------------|---------|--------------------------------|----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| U-SIG-2            | B6      | UL/DL                          | 1              | Indicates whether the PPDU is sent in UL or DL. Set to the TXVECTOR parameter UPLINK_FLAG.<br>A value of 1 indicates the PPDU is addressed to an AP.<br>A value of 0 indicates the PPDU is addressed to a non-AP STA.                                                                                                                                                                                                                                                                                                                                |
|                    | B7–B12  | BSS Color                      | 6              | An identifier of the BSS.<br>Set to the TXVECTOR parameter BSS_COLOR.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|                    | B13–B19 | TXOP                           | 7              | If the TXVECTOR parameter TXOP_DURATION is UNSPECIFIED, set to 127 to indicate the absence of duration information.<br>If the TXVECTOR parameter TXOP_DURATION is an integer value, set to a value less than 127 to indicate duration information for NAV setting and protection of the TXOP as follows:<br>If the TXVECTOR parameter TXOP_DURATION is less than 512, set to $2 \times \lfloor TXOP\_DURATION/8 \rfloor$ .<br>Otherwise, set to $2 \times \lfloor (TXOP\_DURATION - 512)/128 \rfloor + 1$ .                                          |
| U-SIG-2            | B20–B24 | Disregard                      | 5              | Set to all 1s and treat as Disregard.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|                    | B25     | Validate                       | 1              | Set to 1 and treat as Validate.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| U-SIG-2            | B0–B1   | PPDU Type And Compression Mode | 2              | If the UL/DL field is set to 0:<br>A value of 0 indicates a DL OFDMA transmission.<br>A value of 1 indicates an EHT SU transmission or an EHT sounding NDP.<br>A value of 2 indicates a non-OFDMA DL MU-MIMO transmission.<br>A value of 3 is Validate.<br>If the UL/DL field is set to 1:<br>A value of 1 indicates an EHT SU transmission or an EHT sounding NDP.<br>Values 2 and 3 are Validate.<br>NOTE—A value of 0 indicates a TB PPDU. Refer to Table 36-31.<br>For further clarifications on all values of this field, refer to Table 36-29. |
|                    | B2      | Validate                       | 1              | Set to 1 and treat as Validate.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |

Table 36-28—U-SIG field of an EHT MU PPDU (continued)

| Two parts of U-SIG | Bit     | Field                         | Number of bits | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|--------------------|---------|-------------------------------|----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                    | B3–B7   | Punctured Channel Information | 5              | <p>If the PPDU Type And Compression Mode field is set to 1 regardless of the value of the UL/DL field, or the PPDU Type And Compression Mode field is set to 2 and the UL/DL field is 0:</p> <p>Indicates the puncturing information of this non-OFDMA transmission. See Table 36-30 for the definition. Note that each defined puncturing pattern corresponds to an RU or MRU allocation in the non-OFDMA transmission, as shown in Table 36-30. Undefined values of this field are Validate.</p> <p>If the PPDU Type And Compression Mode field is set to 0 and the UL/DL field is 0:</p> <p>If the Bandwidth field is set to a value between 2 and 5, which indicates an 80 MHz, 160 MHz or 320 MHz PPDU, then B3–B6 is a 4-bit bitmap that indicates which 20 MHz subchannel is punctured in the 80 MHz frequency subblock where U-SIG processing is performed. The 4-bit bitmap is indexed by the 20 MHz subchannels in ascending order with B3 indicating the lowest frequency 20 MHz subchannel. For each of the bits B3–B6, a value of 0 indicates that the corresponding 20 MHz channel is punctured, and a value of 1 is used otherwise. The following allowed punctured patterns (B3–B6) are defined for an 80 MHz frequency subblock: 1111 (no puncturing), 0111, 1011, 1101, 1110, 0011, 1100, and 1001. Any field values other than the allowed punctured patterns are Validate. Field value may be varied from one 80 MHz to the other.</p> <p>If the Bandwidth field is set to 0 or 1, which indicates a 20/40 MHz PPDU, B3–B6 are set to all 1s. Other values are Validate.</p> <p>B7 is set to 1 and Disregard.</p> <p>For further information on punctured channels, refer to 36.3.12.11.</p> |
|                    | B8      | Validate                      | 1              | Set to 1 and treat as Validate.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|                    | B9–B10  | EHT-SIG MCS                   | 2              | Indicates the MCS used for modulating the EHT-SIG field.<br>Set to 0 for EHT-MCS 0.<br>Set to 1 for EHT-MCS 1.<br>Set to 2 for EHT-MCS 3.<br>Set to 3 for EHT-MCS 15.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|                    | B11–B15 | Number Of EHT-SIG Symbols     | 5              | Indicates the number of EHT-SIG symbols. Set to a value that is the number of EHT-SIG symbols minus 1.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |

Table 36-28—U-SIG field of an EHT MU PPDU (continued)

| Two parts of U-SIG | Bit     | Field | Number of bits | Description                                                                                                                                                                                                                                        |
|--------------------|---------|-------|----------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                    | B16–B19 | CRC   | 4              | CRC for bits 0–41 of the U-SIG field. Bits 0–41 of the U-SIG field correspond to bits 0–25 of the U-SIG-1 field followed by bits 0–15 of the U-SIG-2 field. The CRC computation uses the same polynomial as that in 27.3.11.7.3 (CRC computation). |
|                    | B20–B25 | Tail  | 6              | Used to terminate the trellis of the convolutional decoder. Set to 0.                                                                                                                                                                              |

Table 36-29—Combination of UL/DL and PPDU Type And Compression Mode field

| UL/DL  | U-SIG fields                   |                 | Description      |                                  |                                                                   |                                                                                                                                                |  |
|--------|--------------------------------|-----------------|------------------|----------------------------------|-------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------|--|
|        | PPDU Type And Compression Mode | EHT PPDU format | EHT-SIG present? | RU Allocation subfields present? | Total number of User fields in MU PPDU or transmitters in TB PPDU | Note                                                                                                                                           |  |
| 0 (DL) | 0                              | EHT MU          | Yes              | Yes                              | $\ge 1$                                                           | DL OFDMA (including non-MU-MIMO and MU-MIMO).                                                                                                  |  |
|        | 1                              | EHT MU          | Yes              | No                               | 1 for EHT SU transmission; 0 for EHT sounding NDP.                | EHT SU transmission or EHT sounding NDP that is not addressed to an AP.<br>NOTE—One such case is a DL transmission from an AP to a non-AP STA. |  |
|        | 2                              | EHT MU          | Yes              | No                               | $> 1$                                                             | DL non-OFDMA MU-MIMO.                                                                                                                          |  |
|        | 3                              | —               | —                | —                                | —                                                                 | Validate.                                                                                                                                      |  |
| 1 (UL) | 0                              | EHT TB          | No               | —                                | $\ge 1$                                                           | UL OFDMA or UL non-OFDMA (including non-MU-MIMO and MU-MIMO).                                                                                  |  |
|        | 1                              | EHT MU          | Yes              | No                               | 1 for EHT SU transmission; 0 for EHT sounding NDP.                | EHT SU transmission or EHT sounding NDP that is addressed to an AP.                                                                            |  |
|        | 2–3                            | —               | —                | —                                | —                                                                 | Validate.                                                                                                                                      |  |

If the PPDU Type And Compression Mode field is set to 1, the EHT MU PPDU is an EHT SU transmission or an EHT sounding NDP regardless of the value of the UL/DL field. In addition to the PPDU Type And Compression Mode field being set to 1, if the EHT-SIG MCS field is set to 0 and the Number Of EHT-SIG Symbols field is set to 0, it indicates an EHT sounding NDP. In the case of the EHT SU transmission, the Number Of EHT-SIG Symbols field should be set to 0 if the EHT-SIG MCS field is set to 1 or 2, 1 if the EHT-SIG MCS field is set to 0, or 3 if the EHT-SIG MCS field is set to 3.

**Table 36-30—Definition of the Punctured Channel Information field in the U-SIG for an EHT MU PPDU using non-OFDMA transmissions**

| PPDU bandwidth | Cases             | Puncturing pattern (RU or MRU Index) | Field value |
|----------------|-------------------|--------------------------------------|-------------|
| 20 MHz         | No puncturing     | [1]<br>(242-tone RU 1)               | 0           |
| 40 MHz         | No puncturing     | [1 1]<br>(484-tone RU 1)             | 0           |
| 80 MHz         | No puncturing     | [1 1 1 1]<br>(996-tone RU 1)         | 0           |
|                |                   | [x 1 1 1]<br>(484+242-tone MRU 1)    | 1           |
|                | 20 MHz puncturing | [1 x 1 1]<br>(484+242-tone MRU 2)    | 2           |
|                |                   | [1 1 x 1]<br>(484+242-tone MRU 3)    | 3           |
|                |                   | [1 1 1 x]<br>(484+242-tone MRU 4)    | 4           |

Table 36-30—Definition of the Punctured Channel Information field in the U-SIG for an EHT MU PPDU using non-OFDMA transmissions (continued)

| PPDU bandwidth                     | Cases                                  | Puncturing pattern (RU or MRU Index)   | Field value |
|------------------------------------|----------------------------------------|----------------------------------------|-------------|
| 160 MHz                            | No puncturing                          | [11111111]<br>(2x996-tone RU 1)        | 0           |
|                                    |                                        | [x1111111]<br>(996+484+242-tone MRU 1) | 1           |
|                                    | [11x11111]<br>(996+484+242-tone MRU 2) | 2                                      |             |
|                                    | [11x11111]<br>(996+484+242-tone MRU 3) | 3                                      |             |
|                                    | [111x1111]<br>(996+484+242-tone MRU 4) | 4                                      |             |
|                                    | [1111x111]<br>(996+484+242-tone MRU 5) | 5                                      |             |
|                                    | [11111x11]<br>(996+484+242-tone MRU 6) | 6                                      |             |
|                                    | [111111x1]<br>(996+484+242-tone MRU 7) | 7                                      |             |
|                                    | [1111111x]<br>(996+484+242-tone MRU 8) | 8                                      |             |
|                                    | 40 MHz puncturing                      | [xx111111]<br>(996+484-tone MRU 1)     | 9           |
|                                    |                                        | [11xx1111]<br>(996+484-tone MRU 2)     | 10          |
|                                    |                                        | [1111xx11]<br>(996+484-tone MRU 3)     | 11          |
| [111111xx]<br>(996+484-tone MRU 4) |                                        | 12                                     |             |

Table 36-30—Definition of the Punctured Channel Information field in the U-SIG for an EHT MU PPDU using non-OFDMA transmissions (continued)

| PPDU bandwidth    | Cases                                | Puncturing pattern (RU or MRU Index) | Field value |
|-------------------|--------------------------------------|--------------------------------------|-------------|
| 320 MHz           | No puncturing                        | [11111111]<br>(4x996-tone RU 1)      | 0           |
|                   |                                      | [x1111111]<br>(3x996+484-tone MRU 1) | 1           |
|                   | [1x111111]<br>(3x996+484-tone MRU 2) | 2                                    |             |
|                   | [11x11111]<br>(3x996+484-tone MRU 3) | 3                                    |             |
|                   | [111x1111]<br>(3x996+484-tone MRU 4) | 4                                    |             |
|                   | [1111x111]<br>(3x996+484-tone MRU 5) | 5                                    |             |
|                   | [11111x11]<br>(3x996+484-tone MRU 6) | 6                                    |             |
|                   | [111111x1]<br>(3x996+484-tone MRU 7) | 7                                    |             |
|                   | [1111111x]<br>(3x996+484-tone MRU 8) | 8                                    |             |
|                   | [xx111111]<br>(3x996-tone MRU 1)     | 9                                    |             |
|                   | [11xx1111]<br>(3x996-tone MRU 2)     | 10                                   |             |
|                   | [1111xx11]<br>(3x996-tone MRU 3)     | 11                                   |             |
| 80 MHz puncturing | [111111xx]<br>(3x996-tone MRU 4)     | 12                                   |             |

Table 36-30—Definition of the Punctured Channel Information field in the U-SIG for an EHT MU PPDU using non-OFDMA transmissions (continued)

| PPDU bandwidth                          | Cases             | Puncturing pattern (RU or MRU Index) | Field value |
|-----------------------------------------|-------------------|--------------------------------------|-------------|
| Concurrent 80 MHz and 40 MHz puncturing | [x x x 1 1 1 1]   | (2×996+484-tone MRU 7)               | 13          |
|                                         | [x x 1 x 1 1 1]   | (2×996+484-tone MRU 8)               | 14          |
|                                         | [x x 1 1 x 1 1]   | (2×996+484-tone MRU 9)               | 15          |
|                                         | [x x 1 1 1 x 1]   | (2×996+484-tone MRU 10)              | 16          |
|                                         | [x x 1 1 1 1 x]   | (2×996+484-tone MRU 11)              | 17          |
|                                         | [x x 1 1 1 1 1 x] | (2×996+484-tone MRU 12)              | 18          |
|                                         | [x 1 1 1 1 1 x x] | (2×996+484-tone MRU 1)               | 19          |
|                                         | [1 x 1 1 1 1 x x] | (2×996+484-tone MRU 2)               | 20          |
|                                         | [1 1 x 1 1 1 x x] | (2×996+484-tone MRU 3)               | 21          |
|                                         | [1 1 1 x 1 1 x x] | (2×996+484-tone MRU 4)               | 22          |
|                                         | [1 1 1 1 x 1 x x] | (2×996+484-tone MRU 5)               | 23          |
|                                         | [1 1 1 1 1 x x x] | (2×996+484-tone MRU 6)               | 24          |

In the puncturing patterns in Table 36-30, a “1” denotes a nonpunctured subchannel and an “x” denotes a punctured subchannel. The puncturing granularity for 20 MHz, 40 MHz, 80 MHz, and 160 MHz PPDU bandwidth is 20 MHz, and the puncturing granularity for 320 MHz PPDU bandwidth is 40 MHz. Parameters from left to right refer to 20 MHz or 40 MHz subchannels in the order of increasing frequency.

The U-SIG field for an EHT TB PPDU contains the fields listed in Table 36-31.

Table 36-31—U-SIG field of an EHT TB PPDU

| Two parts of U-SIG | Bit     | Field                         | Number of bits | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|--------------------|---------|-------------------------------|----------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| U-SIG-1            | B0-B2   | PHY Version Identifier        | 3              | Differentiate between different PHY clauses.<br>Set to 0 for EHT.<br>Values 1–7 are Validate.                                                                                                                                                                                                                                                                                                                                                                                                             |
|                    | B3-B5   | Bandwidth                     | 3              | Set to 0 for 20 MHz.<br>Set to 1 for 40 MHz.<br>Set to 2 for 80 MHz.<br>Set to 3 for 160 MHz.<br>Set to 4 for 320 MHz-1.<br>Set to 5 for 320 MHz-2.<br>See definition of 320 MHz-1 and 320 MHz-2 in 36.3.24.2.<br>Values 6 and 7 are Validate.                                                                                                                                                                                                                                                            |
|                    | B6      | UL/DL                         | 1              | Set to 1 to indicate that the PPDU is addressed to the AP.                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|                    | B7-B12  | BSS Color                     | 6              | An identifier of the BSS.<br>Set to the TXVECTOR parameter BSS_COLOR.                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|                    | B13-B19 | TXOP                          | 7              | If the TXVECTOR parameter TXOP_DURATION is UNSPECIFIED, set to 127 to indicate the absence of duration information.<br>If the TXVECTOR parameter TXOP_DURATION is an integer value, set to a value less than 127 to indicate duration information for NAV setting and protection of the TXOP as follows:<br>If the TXVECTOR parameter TXOP_DURATION is less than 512, set to $2 \times \lfloor TXOP\_DURATION/8 \rfloor$ .<br>Otherwise, set to $2 \times \lfloor (TXOP\_DURATION-512)/128 \rfloor + 1$ . |
|                    | B20-B25 | Disregard                     | 6              | Set to the value of the TXVECTOR parameter TB_DISREGARD_IN_USIG1 and treat as Disregard. See Table 9-46h.                                                                                                                                                                                                                                                                                                                                                                                                 |
| U-SIG-2            | B0-B1   | PPDU Type And Compressed Mode | 2              | Set to 0 for a TB PPDU.<br>Values of 2 and 3 are Validate.<br>NOTE—A value of 1 indicates an EHT SU transmission or an EHT sounding NDP. Refer to Table 36-28.<br>For further clarification on all values of this field, refer to Table 36-29.                                                                                                                                                                                                                                                            |
|                    | B2      | Validate                      | 1              | Set to the value of the TXVECTOR parameter TB_VALIDATE_IN_USIG2 and treat as Validate. See Table 9-46h. The default value is 1.                                                                                                                                                                                                                                                                                                                                                                           |

Table 36-31—U-SIG field of an EHT TB PPDU (continued)

| Two parts of U-SIG | Bit   | Field           | Number of bits | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|--------------------|-------|-----------------|----------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                    | B3–B6 | Spatial Reuse 1 | 4              | <p>Indicates whether or not PSR spatial reuse is allowed in a subband of the PPDU during the transmission of this PPDU, and if PSR spatial reuse is allowed, indicates a value that is used to determine a limit on the transmit power of the PSRT PPDU.</p> <p>If the Bandwidth field indicates 20 MHz or 40 MHz, then this field applies to the lowest 20 MHz subband in frequency. If the Bandwidth field indicates 80 MHz, then this field applies to each 20 MHz subchannel of the lowest 40 MHz subband in frequency within the 80 MHz operating band.</p> <p>If the Bandwidth field indicates 160 MHz, then this field applies to each 20 MHz subchannel of the lowest 80 MHz subband in frequency within the 160 MHz operating band.</p> <p>If the Bandwidth field indicates 320 MHz-1 or 320 MHz-2, then this field applies to each 20 MHz subchannel of the lower 160 MHz subband in frequency within the 320 MHz operating band.</p> <p>Set to the value of the SPATIAL_REUSE(1) parameter of the TXVECTOR, which contains a value from Table 27-24. Note that Table 27-24 (Spatial Reuse field encoding for an HE TB PPDU) is also applied for an EHT TB PPDU (see 35.11.2 and 35.10).</p> |

Table 36-31—U-SIG field of an EHT TB PPDU (continued)

| Two parts of U-SIG | Bit     | Field           | Number of bits | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|--------------------|---------|-----------------|----------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                    | B7–B10  | Spatial Reuse 2 | 4              | <p>Indicates whether or not PSR spatial reuse is allowed in a subband of the PPDU during the transmission of this PPDU, and if PSR spatial reuse is allowed, indicates a value that is used to determine a limit on the transmit power of the PSRT PPDU.</p> <p>If the Bandwidth field indicates 20 MHz, this field is set to the same value as the Spatial Reuse 1 field, and Disregard.</p> <p>If the Bandwidth field indicates 40 MHz, this field applies to the upper 20 MHz subband in frequency. If operating in the 2.4 GHz band, this field is set to the same value as the Spatial Reuse 1 field.</p> <p>If the Bandwidth field indicates 80 MHz, then this field applies to each 20 MHz subchannel of the upper 40 MHz subband in frequency within the 80 MHz operating band.</p> <p>If the Bandwidth field indicates 160 MHz, then this field applies to each 20 MHz subchannel of the upper 80 MHz subband in frequency within the 160 MHz operating band.</p> <p>If the Bandwidth field indicates 320 MHz-1 or 320 MHz-2, then this field applies to each 20 MHz subchannel of the upper 160 MHz subband in frequency within the 320 MHz operating band.</p> <p>Set to the value of the SPATIAL_REUSE(2) parameter of the TXVECTOR, which contains a value from Table 27-24 (Spatial Reuse field encoding for an HE TB PPDU). Note that Table 27-24 (Spatial Reuse field encoding for an HE TB PPDU) is also applied for an EHT TB PPDU (see 35.11.2 and 35.10).</p> |
|                    | B11–B15 | Disregard       | 5              | Set to the value of the TXVECTOR parameter TB_DISREGARD_IN_USIG2 and treat as Disregard. See Table 9-46h.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|                    | B16–B19 | CRC             | 4              | CRC for bits 0–41 of the U-SIG field. Bits 0–41 of the U-SIG field correspond to bits 0–25 of the U-SIG-1 field followed by bits 0–15 of the U-SIG-2 field. The CRC computation uses the same polynomial as that in 27.3.11.7.3 (CRC computation).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|                    | B20–B25 | Tail            | 6              | Used to terminate the trellis of the convolutional decoder. Set to 0.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |

For forward compatibility, EHT also defines the U-SIG field of an ER preamble while not defining an ER PPDU with the PHY Version Identifier field in the U-SIG equal to 0 (EHT) for an EHT STA. The U-SIG field for an ER preamble contains the fields listed in Table 36-32.

Table 36-32—U-SIG field of an ER preamble

| Two parts of U-SIG | Bit     | Field                  | Number of bits | Description                                                                                                                                                                                                                                                                                                   |
|--------------------|---------|------------------------|----------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| U-SIG-1            | B0–B2   | PHY Version Identifier | 3              | Differentiate between different PHY clauses<br>Values 0–7 are Validate.                                                                                                                                                                                                                                       |
|                    | B3–B5   | Bandwidth              | 3              | A value of 0 indicates 20 MHz.<br>A value of 1 indicates 40 MHz.<br>A value of 2 indicates 80 MHz.<br>A value of 3 indicates 160 MHz.<br>A value of 4 indicates 320 MHz-1.<br>A value of 5 indicates 320 MHz-2.<br>See definition of 320 MHz-1 and 320 MHz-2<br>in 36.3.24.2.<br>Values 6 and 7 are Validate. |
|                    | B6      | UL/DL                  | 1              | Indicates whether the PPDU is sent in UL or DL.<br>A value of 1 indicates the PPDU is addressed to an AP.<br>A value of 0 indicates that PPDU is addressed to a non-AP STA.                                                                                                                                   |
|                    | B7–B12  | BSS Color              | 6              | An identifier of the BSS.                                                                                                                                                                                                                                                                                     |
|                    | B13–B19 | TXOP                   | 7              | Indicates a scaled version of the TXOP duration. The TXOP duration could be derived as follows:<br>If TXOP = 127, the TXOP duration is unspecified.<br>If TXOP is an even number, the TXOP duration is $8 \times TXOP/2$ $\mu$ s.<br>Otherwise, the TXOP duration is $512 + 128 \times (TXOP - 1)/2$ $\mu$ s. |
|                    | B20–B25 | Disregard              | 6              | The default values are all 1s. Treat as Disregard.                                                                                                                                                                                                                                                            |
| U-SIG-2            | B0–B15  | Disregard              | 16             | The default values are all 1s. Treat as Disregard.                                                                                                                                                                                                                                                            |
|                    | B16–B19 | CRC                    | 4              | CRC for bits 0–41 of the U-SIG field. Bits 0–41 of the U-SIG field correspond to bits 0–25 of the U-SIG-1 field followed by bits 0–15 of the U-SIG-2 field. The CRC computation uses the same polynomial as that in 27.3.11.7.3 (CRC computation).                                                            |
|                    | B20–B25 | Tail                   | 6              | Used to terminate the trellis of the convolutional decoder. The value is 0.                                                                                                                                                                                                                                   |

### 36.3.12.7.3 Encoding and modulation

For an EHT MU PPDU and EHT TB PPDU, the U-SIG field is composed of two parts, the U-SIG-1 and U-SIG-2 fields, each containing 26 data bits. The U-SIG-1 field is transmitted before the U-SIG-2 field. The data bits of the U-SIG OFDM symbols shall be BCC encoded at rate  $R = 1/2$ , interleaved, mapped to a BPSK constellation, and have pilots inserted following the steps described in 17.3.5.6 (Convolutional encoder), 27.3.12.8 (BCC interleavers), 17.3.5.8 (Subcarrier modulation mapping), and 17.3.5.9 (Pilot subcarriers), respectively. This process happens on a per-80 MHz frequency subblock basis as the U-SIG field may have different contents in different 80 MHz frequency subblocks, while always having identical

content in every nonpunctured 20 MHz subchannel of a given 80 MHz frequency subblock. For every 80 MHz frequency subblock in the EHT PPDU, the stream of 104 BPSK constellation points generated by these steps (before pilot insertion) is divided into two groups of 52 BPSK constellation points, where respectively, the first 52 BPSK constellation points form the first OFDM symbol of the U-SIG field (denoted as U-SIG-sym-1) and the second 52 BPSK constellation points form the second OFDM symbol of the U-SIG field (denoted as U-SIG-sym-2).

For the U-SIG field in 80 MHz frequency subblock  $l$ , the BPSK constellation point assigned to the  $k$ -th data subcarrier of the  $n$ -th symbol is denoted as  $d_{k,n}^l$ . The time domain waveform for the U-SIG field of an EHT MU PPDU, transmitted on transmit chain  $i_{TX}$ , shall be as specified in Equation (36-20).

$$r_{\text{U-SIG}}^{(i_{TX})}(t) = \quad (36-20)$$

$$\frac{1}{\sqrt{N_{TX} \cdot N_{\text{U-SIG}}^{\text{Tone}} \cdot \frac{\Omega_{20\text{MHz}}}{N_{20\text{MHz}}}}} \sum_{n=0}^{1} w_{T_{\text{SYML}}} (t - nT_{\text{SYML}}) \sum_{i_{BW} \in \Omega_{20\text{MHz}} k=-28}^{28} \left( \gamma_{(k - K_{\text{Shift}}(i_{BW})), \text{BW}} (D_{k,n,i_{BW}} + p_n + 2P_k) \exp(j2\pi(k - K_{\text{Shift}}(i_{BW}))) \Delta_{F, \text{Pre-EHT}} (t - nT_{\text{SYML}} - T_{GI, \text{Pre-EHT}} - T_{CS}^{i_{TX}}) \right)$$

where

$T_{\text{SYML}}$  is given in Table 36-18.

$K_{\text{Shift}}$  is defined in 36.3.12.5.

$$D_{k,n,i_{BW}} = \begin{cases} 0, & k = 0, \pm 7, \pm 21 \\ d_{M_{20}^{\prime}(k),n}^{(i_{BW}^{\prime 4})}, & \text{otherwise} \end{cases}$$
$$M_{20}^{\prime}(k) = \begin{cases} k + 28, & -28 \le k \le -22 \\ k + 27, & -20 \le k \le -8 \\ k + 26, & -6 \le k \le -1 \\ k + 25, & 1 \le k \le 6 \\ k + 24, & 8 \le k \le 20 \\ k + 23, & 22 \le k \le 28 \end{cases}$$

$P_k$  and  $p_n$  are defined in 17.3.5.10.

$N_{\text{U-SIG}}^{\text{Tone}}$  is defined in Table 36-26.

$T_{CS}^{i_{TX}}$  represents the cyclic shift for transmit chain  $i_{TX}$  with a value given in 36.3.12.2.1.

The time domain waveform for the U-SIG field of an EHT TB PPDU, transmitted on transmit chain  $i_{TX}$ , shall be as specified in Equation (36-21).

$$r_{\text{U-SIG}}^{(i_{TX})}(t) = \frac{1}{\sqrt{N_{TX} \cdot N_{\text{U-SIG}}^{\text{Tone}} \cdot \frac{\Omega_{20\text{MHz}}}{N_{20\text{MHz}}}}} \sum_{n=0}^{1} w_{T_{\text{SYML}}}(t - nT_{\text{SYML}}) \eta_{\text{Pre-EHT}} \sum_{i_{BW} \in \Omega_{20\text{MHz}}, k=-28}^{28} \left( \gamma_{(k - K_{\text{Shif}}(i_{BW})), B} W(D_{k, n, i_{BW}} + p_n + 2^p k) \exp(j2\pi(k - K_{\text{Shif}}(i_{BW}))\Delta_{F, \text{Pre-EHT}}(t - nT_{\text{SYML}} - T_{GI, \text{Pre-EHT}} - T_{CS}^{i_{TX}})) \right) \quad (36-21)$$

where

$\eta_{\text{Pre-EHT}}$  is the power scale factor of the pre-EHT modulated fields within an OFDM symbol for an EHT TB PPDU defined in 36.3.11.

Other variables in Equation (36-20) and Equation (36-21) are defined in 36.3.10 and 36.3.11.

For an ER preamble, the length of the U-SIG field is four OFDM symbols. The coded bits of the first OFDM symbol are identical to the coded bits of the second OFDM symbol, and the coded bits of the third OFDM symbol are identical to the coded bits of the fourth OFDM symbol. For better frequency diversity, the encoded bits in the first and third OFDM symbols are interleaved, while the encoded bits in the second and fourth OFDM symbols are not interleaved. The constellation mapping of the U-SIG field in an ER preamble is the same as that of the HE-SIG-A field in an HE ER SU PPDU, and is shown in Figure 36-30. The QBPSK constellation on the data subcarriers in the second OFDM symbol of the U-SIG field is used to differentiate an ER preamble from an EHT MU PPDU or an EHT TB PPDU. The U-SIG field is composed of two parts, i.e., the U-SIG-1 and U-SIG-2 fields, each containing 26 data bits. The U-SIG-1 is transmitted before the U-SIG-2. The data bits of the U-SIG-1 and U-SIG-2 fields shall be BCC encoded at rate  $R = 1/2$  to form total 104 encoded bits, following the steps described in 17.3.5.6. To form the first and third OFDM symbols of the U-SIG field, the encoded bits are further interleaved, mapped to a BPSK constellation, and have pilots inserted, following the steps described in 27.3.12.8, 17.3.5.8, and 17.3.5.9, respectively. The stream of 104 BPSK constellation points generated by these steps (before pilot insertion) is divided into two groups of 52 BPSK constellation points, where respectively, the first 52 BPSK constellation points form the first OFDM symbol of the U-SIG field (denoted as U-SIG-sym-1) and the second 52 BPSK constellation points form the third OFDM symbol of the U-SIG field (denoted as U-SIG-sym-2) for the ER preamble. To form the second OFDM symbol of the U-SIG field (denoted as U-SIG-sym-1-R) for the ER preamble, the first 52 encoded bits shall be mapped to a QBPSK constellation without interleaving and have pilots inserted following the steps described in 17.3.5.8 and 17.3.5.9, respectively. To form the fourth OFDM symbol of the U-SIG field (denoted as U-SIG-sym-2-R) for the ER preamble, the second 52 encoded bits shall be mapped to a BPSK constellation without interleaving and have pilots inserted following the steps described in 17.3.5.8 and 17.3.5.9, respectively. This process happens on a per-80 MHz frequency subblock basis as the U-SIG field may have different contents in different 80 MHz frequency subblocks, while always having identical content in every nonpunctured 20 MHz subchannel of a given 80 MHz frequency subblock.

![](75d36b2bd3af872ccd25fdb6df9b8ae6_img.jpg)

Figure 36-30 illustrates the data subcarrier constellation of U-SIG symbols for EHT MU PPDU and EHT TB PPDU, and for the ER Preamble.

**EHT MU PPDU and EHT TB PPDU:**

- U-SIG-sym-1: Constellation points at  $(-1, 0)$  and  $(1, 0)$ .
- U-SIG-sym-2: Constellation points at  $(-1, 0)$  and  $(1, 0)$ .

**ER Preamble:**

- U-SIG-sym-1: Constellation points at  $(-1, 0)$  and  $(1, 0)$ .
- U-SIG-sym-1-R: Constellation points at  $(-1, 0)$  and  $(1, 0)$ .
- U-SIG-sym-2: Constellation points at  $(-1, 0)$  and  $(1, 0)$ .
- U-SIG-sym-2-R: Constellation points at  $(-1, 0)$  and  $(1, 0)$ .

The figure shows four pairs of constellation diagrams, each pair representing a different U-SIG symbol type, plotted on a complex plane with real (I) and imaginary (Q) axes.

Figure 36-30—Data subcarrier constellation of U-SIG symbols

The time domain waveform for the U-SIG field of an EHT ER preamble, transmitted on transmit chain  $i_{TX}$ , shall be as specified in Equation (36-22).

$$r_{\text{U-SIG}}^{(i_{TX})}(t) = \quad (36-22)$$

$$\frac{1}{\sqrt{N_{TX} \cdot N_{\text{Tone}} \cdot N_{\text{U-SIG}} \cdot \frac{\Omega_{20\text{MHz}}}{N_{20\text{MHz}}}}} \sum_{n=0}^{3} w_{\text{SYML}}(t - nT_{\text{SYML}}) \\ \sum_{i_{BW} \in \Omega_{20\text{MHz},k}=-28}^{28} \sum_{k=-K_{\text{Shtf}}(i_{BW}),B,W} (\gamma_k R_n D_{k,n,i_{BW}} + P_n + 2P_k) \\ (\exp(j2\pi(k - K_{\text{Shtf}}(i_{BW}))\Delta_{F,\text{Pre-EHT}}(t - nT_{\text{SYML}} - T_{GL,\text{Pre-EHT}} - T_{CS}^{i_{TX}})))$$

where

$R_n$  is a phase rotation vector defined as  $[1, j, 1, 1]$ .

Other variables in Equation (36-22) are defined in 36.3.10 and 36.3.11.

### 36.3.12.8 EHT-SIG

#### 36.3.12.8.1 General

The EHT-SIG field provides additional signaling to the U-SIG field for STAs to interpret an EHT MU PPDU. In an EHT MU PPDU, the EHT-SIG field contains U-SIG overflow bits that are common to all users. The EHT-SIG field further contains resource allocation information to allow the STAs to look up the corresponding resources to be used in the EHT modulated fields of the PPDU. The integer fields of the EHT-SIG field are transmitted in unsigned binary format, LSB first, where the LSB is in the lowest numbered bit position.

### 36.3.12.8.2 EHT-SIG content channels

The EHT-SIG field of a 20 MHz EHT MU PPDU contains one EHT-SIG content channel. For OFDMA transmission and for non-OFDMA transmission to multiple users, the EHT-SIG field of an EHT MU PPDU that is 40 MHz or 80 MHz contains two EHT-SIG content channels. For OFDMA transmission and for non-OFDMA transmission to multiple users, the EHT-SIG field of an EHT MU PPDU that is 160 MHz or wider contains two EHT-SIG content channels per 80 MHz frequency subblock. The EHT-SIG content channels per 80 MHz frequency subblock are allowed to carry different information when EHT MU PPDU bandwidth for OFDMA transmission is wider than 80 MHz. The EHT-SIG field of an EHT SU transmission or the EHT-SIG field of an EHT sounding NDP contains one EHT-SIG content channel and it is duplicated in each nonpunctured 20 MHz subchannel when the EHT PPDU is equal to or wider than 40 MHz.

The EHT-SIG content channel format is shown in Figure 36-31, Figure 36-32, Figure 36-33, Figure 36-34, Figure 36-35, and Figure 36-36. For an EHT MU PPDU except for an EHT sounding NDP, each EHT-SIG content channel consists of a Common field followed by a User Specific field. For an EHT sounding NDP, the User Specific field is not present and the EHT-SIG content channel consists of only a Common field.

![](b5e0c4a1c4d9109b3c92d34cf0faceba_img.jpg)

Diagram illustrating the EHT-SIG content channel format for OFDMA transmission if bandwidth is equal to 20/40/80 MHz.

The EHT-SIG content channel is divided into a Common field and a User Specific field.

The Common field is labeled "U-SIG overflow + 1 or 2 RU Allocation-A subfields + CRC + Tail" and is labeled "The common encoding block".

The User Specific field is divided into multiple encoding blocks:

- 1st user encoding block: 2 User fields + CRC + Tail
- 2nd user encoding block: 2 User fields + CRC + Tail
- ... (indicated by ellipsis)
- Final user encoding block: 1 or 2 User fields + CRC + Tail (Padding (if present))

Figure 36-31—EHT-SIG content channel format for OFDMA transmission if bandwidth is equal to 20/40/80 MHz

![](d62e4cd678468b4fce6fb8b98eababbc_img.jpg)

Diagram illustrating the EHT-SIG content channel format for OFDMA transmission if bandwidth is equal to 160 MHz.

The EHT-SIG content channel is divided into a Common field and a User Specific field.

The Common field is divided into two encoding blocks:

- 1st common encoding block: U-SIG overflow + 2 RU Allocation-A subfields + CRC + Tail
- 2nd common encoding block: 2 RU Allocation-B subfields + CRC + Tail

The User Specific field is divided into multiple encoding blocks:

- 1st user encoding block: 2 User fields + CRC + Tail
- 2nd user encoding block: 2 User fields + CRC + Tail
- ... (indicated by ellipsis)
- Final user encoding block: 1 or 2 User fields + CRC + Tail (Padding (if present))

Figure 36-32—EHT-SIG content channel format for OFDMA transmission if bandwidth is equal to 160 MHz

![](725b5c72659851d65d6381575e3c3a26_img.jpg)

Diagram illustrating the EHT-SIG content channel format for OFDMA transmission if bandwidth is equal to 320 MHz. The channel is divided into a Common field and a User Specific field. The Common field is further divided into 1st common encoding block and 2nd common encoding block. The User Specific field is divided into 1st user encoding block, 2nd user encoding block, ..., Final User encoding block.

| EHT-SIG content channel                                   |                                          |                            |                            |                                 |
|-----------------------------------------------------------|------------------------------------------|----------------------------|----------------------------|---------------------------------|
| Common field                                              |                                          | User Specific field        |                            |                                 |
| 1st common encoding block                                 | 2nd common encoding block                | 1st user encoding block    | 2nd user encoding block    | Final User encoding block       |
| U-SIG Overflow + 2 RU Allocation-A subfields + CRC + Tail | 6 RU Allocation-B subfields + CRC + Tail | 2 User fields + CRC + Tail | 2 User fields + CRC + Tail | 1 or 2 User fields + CRC + Tail |
|                                                           |                                          |                            |                            | Padding (if present)            |

**Figure 36-33—EHT-SIG content channel format for OFDMA transmission if bandwidth is equal to 320 MHz**

For OFDMA transmission, the Common field of an EHT-SIG content channel contains information regarding the resource unit allocation such as the RU assignment to be used in the EHT modulated fields of the PPDU, the RUs allocated for MU-MIMO and the number of users in MU-MIMO allocations. The Common field for OFDMA transmission is defined in 36.3.12.8.3. The Common field is organized into one or two common encoding blocks.

In non-OFDMA transmission, the Common field of the EHT-SIG content channel does not contain the RU Allocation subfield. For non-OFDMA transmission except for EHT sounding NDP, the Common field of the EHT-SIG content channel is encoded together with the first User field and this encoding block contains a CRC and Tail, referred to as a common encoding block.

For EHT sounding NDP, the Common field of the EHT-SIG content channel consists of U-SIG overflow information, CRC, and Tail. The Common field for non-OFDMA transmission is defined in 36.3.12.8.4. The Common field is organized into one common encoding block.

The union of the User Specific fields in the EHT-SIG content channels contains information for all users in the PPDU on how to decode their payload. As shown in Figure 36-31, Figure 36-32, and Figure 36-33, the User Specific field is organized into user encoding blocks that in turn contain User fields in OFDMA transmission. As shown in Figure 36-34, the User Specific field in an EHT SU transmission contains one User field but there exists no user encoding block. As shown in Figure 36-35, EHT-SIG content channel for EHT sounding NDP does not contain the User Specific field. As shown in Figure 36-36, in the non-OFDMA transmission to multiple users, the User Specific field is organized into user encoding blocks that in turn contain User fields except for the first User field. The contents of the User Specific field are described in 36.3.12.8.5.

![](0b91d76e0c6c81a0b4b9e70f50ddb479_img.jpg)

Diagram illustrating the EHT-SIG content channel format for an EHT SU transmission. The channel is divided into a Common field and a User Specific field. The Common field is further divided into 1st common encoding block and 2nd common encoding block. The User Specific field is divided into 1st user encoding block, 2nd user encoding block, ..., Final User encoding block.

| EHT-SIG content channel                             |                           |                           |                         |                           |
|-----------------------------------------------------|---------------------------|---------------------------|-------------------------|---------------------------|
| Common field                                        |                           | User Specific field       |                         |                           |
| 1st common encoding block                           | 2nd common encoding block | 1st user encoding block   | 2nd user encoding block | Final User encoding block |
| U-SIG Overflow + Number of Non-OFDMA Users subfield |                           | 1 User field + CRC + Tail |                         | Padding (if present)      |

**Figure 36-34—EHT-SIG content channel format for an EHT SU transmission**

![Figure 36-35: EHT-SIG content channel format for EHT sounding NDP. The channel consists of a Common field followed by a U-SIG Overflow + CRC + Tail block, which is labeled 'The common encoding block'.](13bf26bb5cfc5e32a986cbe20803e70d_img.jpg)

Figure 36-35: EHT-SIG content channel format for EHT sounding NDP. The channel consists of a Common field followed by a U-SIG Overflow + CRC + Tail block, which is labeled 'The common encoding block'.

Figure 36-35—EHT-SIG content channel format for EHT sounding NDP

![Figure 36-36: EHT-SIG content channel format for non-OFDMA transmission to multiple users. The channel consists of a Common field followed by a User Specific field. The User Specific field is divided into multiple user encoding blocks (1 User field + CRC + Tail, 2 User fields + CRC + Tail, etc.) and a Final user encoding block (1 or 2 User fields + CRC + Tail). The first block is labeled 'The common encoding block'.](cc4ea4387b91566e32ca015f6ad1e685_img.jpg)

Figure 36-36: EHT-SIG content channel format for non-OFDMA transmission to multiple users. The channel consists of a Common field followed by a User Specific field. The User Specific field is divided into multiple user encoding blocks (1 User field + CRC + Tail, 2 User fields + CRC + Tail, etc.) and a Final user encoding block (1 or 2 User fields + CRC + Tail). The first block is labeled 'The common encoding block'.

Figure 36-36—EHT-SIG content channel format for non-OFDMA transmission to multiple users

Examples of EHT-SIG are shown in Annex Z.

#### 36.3.12.8.3 Common field for OFDMA transmission

The Common field for OFDMA transmission is defined in Table 36-33.

Table 36-33—Common field for OFDMA transmission

| Bit   | Subfield      | Number of subfields | Number of bits per subfield | Description                                                                                                                                                                                                                                                             |
|-------|---------------|---------------------|-----------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| B0–B3 | Spatial Reuse | 1                   | 4                           | Indicates whether or not spatial reuse modes are allowed during the transmission of this PPDU.<br>Set to a value from Table 27-23. Note that Table 27-23 also applies to EHT MU PPDU. See 35.11.2 and 35.10.                                                            |
| B4–B5 | GI+LTF Size   | 1                   | 2                           | Indicates the GI duration and EHT-LTF size:<br>Set to 0 to indicate $2 \times LTF + 0.8 \mu s$ GI.<br>Set to 1 to indicate $2 \times LTF + 1.6 \mu s$ GI.<br>Set to 2 to indicate $4 \times LTF + 0.8 \mu s$ GI.<br>Set to 3 to indicate $4 \times LTF + 3.2 \mu s$ GI. |

Table 36-33—Common field for OFDMA transmission (continued)

| Bit           | Subfield                  | Number of subfields | Number of bits per subfield | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|---------------|---------------------------|---------------------|-----------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| B6–B8         | Number Of EHT-LTF Symbols | 1                   | 3                           | Indicate the number of EHT-LTF symbols:<br>Set to 0 to indicate 1 EHT-LTF symbol.<br>Set to 1 to indicate 2 EHT-LTF symbols.<br>Set to 2 to indicate 4 EHT-LTF symbols.<br>Set to 3 to indicate 6 EHT-LTF symbols.<br>Set to 4 to indicate 8 EHT-LTF symbols.<br>Values 5–7 are Valid.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| B9            | LDPC Extra Symbol Segment | 1                   | 1                           | Indicates the presence of the LDPC extra symbol segment:<br>Set to 1 if an LDPC extra symbol segment is present.<br>Set to 0 if an LDPC extra symbol segment is not present.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| B10–B11       | Pre-FEC Padding Factor    | 1                   | 2                           | Indicates the pre-FEC padding factor:<br>Set to 0 to indicate a pre-FEC padding factor of 4.<br>Set to 1 to indicate a pre-FEC padding factor of 1.<br>Set to 2 to indicate a pre-FEC padding factor of 2.<br>Set to 3 to indicate a pre-FEC padding factor of 3.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| B12           | PE Disambiguity           | 1                   | 1                           | Indicates PE disambiguity as defined in 36.3.14.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| B13–B16       | Disregard                 | 1                   | 4                           | Set to all 1s.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| B17–B16+9N    | RU Allocation-A           | N                   | 9                           | <p>N RU Allocation-A subfields are present in an EHT-SIG content channel, where:<br/>N is set to 1 if the Bandwidth field in the U-SIG field is equal to 0 or 1.<br/>N is set to 2 if the Bandwidth field in the U-SIG field is equal to 2, 3, 4, or 5.</p> <p>Each RU Allocation-A subfield in an EHT-SIG content channel corresponding to a 20 MHz frequency subchannel indicates the RU or MRU assignment, including the size of the RU(s) or MRU(s) and their placement in the frequency domain, to be used in the EHT modulated fields of the EHT MU PPDU in the frequency domain, where the subcarrier indices of the RU(s) or MRU(s) meet the conditions in Table 36-35. Each RU Allocation-A subfield also indicates information needed to compute the number of users allocated to each of these RU(s) or MRU(s).</p> |
| B17+9N–B20+9N | CRC                       | 1                   | 4                           | The CRC is calculated over bits 0 to 16+9N. The CRC computation uses the same polynomial as that in 27.3.11.7.3.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |

Table 36-33—Common field for OFDMA transmission (continued)

| Bit                         | Subfield        | Number of subfields | Number of bits per subfield | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|-----------------------------|-----------------|---------------------|-----------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| B21+9N<br>-B26+9N           | Tail            | 1                   | 6                           | Used to terminate the trellis of the convolutional decoder. Set to 0.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| B27+9N<br>-<br>B26+9N+9M    | RU Allocation-B | M                   | 9                           | <p>M RU Allocation-B subfields are present in an EHT-SIG content channel if the Bandwidth subfield in the U-SIG field indicates a 160 MHz, 320 MHz-1, or 320 MHz-2 EHT MU PPDU where <math>M</math> is equal to 2 or 6 as follows:</p> <p><math>M</math> is set to 2 if the Bandwidth field in the U-SIG field is 3.</p> <p><math>M</math> is set to 6 if the Bandwidth field in the U-SIG field is 4 or 5.</p> <p>The subfields are not present otherwise (i.e., <math>M</math> is equal to 0).</p> <p>Each RU Allocation-B subfield in an EHT-SIG content channel corresponding to a 20 MHz frequency subchannel indicates the RU or MRU assignment, including the size of the RU(s) or MRU(s) and their placement in the frequency domain, to be used in the EHT modulated fields of the EHT MU PPDU in the frequency domain, where the subcarrier indices of the RU(s) or MRU(s) meet the conditions in Table 36-35. Each RU Allocation-B subfield also indicates information needed to compute the number of users allocated to each of these RU(s) or MRU(s).</p> |
| B27+9N+9M<br>-<br>B30+9N+9M | CRC             | 0 or 1              | 4                           | <p>The CRC subfield is present if the Bandwidth subfield in the U-SIG field indicates a 160 MHz, 320 MHz-1, or 320 MHz-2 EHT MU PPDU and not present otherwise.</p> <p>If present, the CRC is calculated over bits <math>27+9N</math> to <math>26+9N+9M</math>. The CRC computation uses the same polynomial as that in 27.3.11.7.3.</p> <p>NOTE—<math>N=2</math> when the CRC subfield exists.</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| B31+9N+9M<br>-<br>B36+9N+9M | Tail            | 0 or 1              | 6                           | <p>The Tail subfield is present if the Bandwidth subfield in the U-SIG field indicates a 160 MHz, 320 MHz-1, or 320 MHz-2 EHT MU PPDU and not present otherwise.</p> <p>If present, then it is used to terminate the trellis of the convolutional decoder. Set to 0.</p> <p>NOTE—<math>N=2</math> when the Tail subfield exists.</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |

B0–B16 of Table 36-33 are U-SIG Overflow bits for OFDMA transmission and are duplicated in each content channel.

Both RU Allocation-A subfield and RU Allocation-B subfield refer to an RU Allocation subfield, located in different common encoding blocks.

For OFDMA transmission that is wider than 80 MHz, RU Allocation subfields per 80 MHz frequency subblock shall carry consistent RU or MRU size and placement information for the entire PPDU.

B0-B26+9N of Table 36-33 composes the first common encoding block. B27+9N-B36+9N+9M composes the second common encoding block if present.

If a single RU or MRU in an 80 MHz, 160 MHz or 320 MHz PPDU overlaps more than one 20 MHz subchannel, the corresponding RU Allocation subfields in the respective content channels shall all refer to the same RU or MRU.

An RU Allocation subfield shall not indicate an RU or MRU that occupies all nonpunctured 20 MHz channels within the PPDU bandwidth.

NOTE 1—For example, a 4x996-tone RU cannot be indicated by the RU Allocation subfield. A 996-tone RU cannot be indicated by the RU Allocation subfield in an 80 MHz EHT MU PPDU. A 3x996+484-tone RU cannot be indicated in a 320 MHz EHT MU PPDU with 40 MHz puncturing indicated in the U-SIG field.

NOTE 2—For a DL OFDMA transmission to a single user, RU Allocation subfields can indicate an RU or MRU that occupies part of nonpunctured 20 MHz channels within the PPDU bandwidth. For example, a 3x996+484-tone MRU can be indicated to a single user with the other 484-tone RU unassigned in a 320 MHz EHT MU PPDU.

A 3x996+484-tone MRU is referred to by seven RU Allocation subfields per EHT-SIG content channel, for both EHT-SIG content channels. The seven RU Allocation subfields per EHT-SIG content channel are labeled from the first RU Allocation subfield to the seventh RU Allocation subfield in an increasing frequency order.

A 3x996-tone MRU is referred to by six RU Allocation subfields per EHT-SIG content channel, for both EHT-SIG content channels. The six RU Allocation subfields per EHT-SIG content channel are labeled from the first RU Allocation subfield to the sixth RU Allocation subfield in an increasing frequency order.

A 2x996+484-tone MRU is referred to by five RU Allocation subfields per EHT-SIG content channel, for both EHT-SIG content channels. The five RU Allocation subfields per EHT-SIG content channel are labeled from the first RU Allocation subfield to the fifth RU Allocation subfield in an increasing frequency order.

A 2x996-tone RU is referred to by four consecutive RU Allocation subfields per EHT-SIG content channel, for both EHT-SIG content channels. The four RU Allocation subfields per EHT-SIG content channel are labeled from the first RU Allocation subfield to the fourth RU Allocation subfield in an increasing frequency order.

A 996+484-tone MRU is referred to by three RU Allocation subfields per EHT-SIG content channel, for both EHT-SIG content channels. The three RU Allocation subfields per EHT-SIG content channel are labeled from the first RU Allocation subfield to the third RU Allocation subfield in an increasing frequency order.

A 996-tone RU is referred to by two consecutive RU Allocation subfields per EHT-SIG content channel, for both EHT-SIG content channels. The two consecutive RU Allocation subfields per EHT-SIG content channel are labeled the first RU Allocation subfield and the second RU Allocation subfield in an increasing frequency order.

A 484+242-tone MRU is referred to by two RU allocation subfields in the EHT-SIG content channel that overlaps with the 242-tone RU and one RU Allocation subfield in the other EHT-SIG content channel. The two RU Allocation subfields in the EHT-SIG content channel (with two RU Allocation subfields) are

labeled the first RU Allocation subfield and the second RU Allocation subfield in an increasing frequency order.

A 484-tone RU is referred to by a single RU Allocation subfield per EHT-SIG content channel, for both EHT-SIG content channels.

RU or MRU of size smaller than or equal to 242-tone RU is referred to by a single RU Allocation subfield in a single EHT-SIG content channel.

The mapping from the 9-bit RU Allocation subfield to the RU assignment and the number of User fields per RU or MRU contributed to the User Specific field in the same EHT-SIG content channel as the RU Allocation subfield is defined in Table 36-34.

Table 36-34—RU Allocation subfield

| RU Allocation subfield<br>(B8 B7 B6 B5 B4 B3 B2<br>B1 B0) | 1  | 2   | 3  | 4  | 5  | 6  | 7   | 8  | 9  | Number<br>of entries |
|-----------------------------------------------------------|----|-----|----|----|----|----|-----|----|----|----------------------|
| 0 (000000000)                                             | 26 | 26  | 26 | 26 | 26 | 26 | 26  | 26 | 26 | 1                    |
| 1 (000000001)                                             | 26 | 26  | 26 | 26 | 26 | 26 | 26  | 52 |    | 1                    |
| 2 (000000010)                                             | 26 | 26  | 26 | 26 | 26 | 52 | 26  | 26 | 26 | 1                    |
| 3 (000000011)                                             | 26 | 26  | 26 | 26 | 26 | 52 | 26  | 52 |    | 1                    |
| 4 (000000100)                                             | 26 | 26  | 52 | 26 | 26 | 26 | 26  | 26 | 26 | 1                    |
| 5 (000000101)                                             | 26 | 26  | 52 | 26 | 26 | 26 | 26  | 52 |    | 1                    |
| 6 (000000110)                                             | 26 | 26  | 52 | 26 | 26 | 52 | 26  | 26 | 26 | 1                    |
| 7 (000000111)                                             | 26 | 26  | 52 | 26 | 26 | 52 | 26  | 52 |    | 1                    |
| 8 (000001000)                                             | 52 | 26  | 26 | 26 | 26 | 26 | 26  | 26 | 26 | 1                    |
| 9 (000001001)                                             | 52 | 26  | 26 | 26 | 26 | 26 | 26  | 52 |    | 1                    |
| 10 (000001010)                                            | 52 | 26  | 26 | 26 | 26 | 52 | 26  | 26 | 26 | 1                    |
| 11 (000001011)                                            | 52 | 26  | 26 | 26 | 26 | 52 | 26  | 52 |    | 1                    |
| 12 (000001100)                                            | 52 | 52  | 26 | 26 | 26 | 26 | 26  | 26 | 26 | 1                    |
| 13 (000001101)                                            | 52 | 52  | 26 | 26 | 26 | 26 | 26  | 52 |    | 1                    |
| 14 (000001110)                                            | 52 | 52  | 26 | 26 | 26 | 52 | 26  | 26 | 26 | 1                    |
| 15 (000001111)                                            | 52 | 52  | 26 | 26 | 26 | 52 | 26  | 52 |    | 1                    |
| 16 (000010000)                                            | 26 | 26  | 26 | 26 | 26 | 26 | 106 |    |    | 1                    |
| 17 (000010001)                                            | 26 | 26  | 52 | 26 | 26 | 26 | 106 |    |    | 1                    |
| 18 (000010010)                                            | 52 | 26  | 26 | 26 | 26 | 26 | 106 |    |    | 1                    |
| 19 (000010011)                                            | 52 | 26  | 52 | 26 | 26 | 26 | 106 |    |    | 1                    |
| 20 (000010100)                                            |    | 106 | 26 | 26 | 26 | 26 | 26  | 26 | 26 | 1                    |
| 21 (000010101)                                            |    | 106 | 26 | 26 | 26 | 26 | 26  | 52 |    | 1                    |
| 22 (000010110)                                            |    | 106 | 26 | 26 | 52 | 26 | 26  | 26 |    | 1                    |

Table 36-34—RU Allocation subfield (continued)

| RU Allocation subfield<br>(B8 B7 B6 B5 B4 B3 B2<br>B1 B0) | 1  | 2   | 3                                                                                                                                                      | 4  | 5                      | 6     | 7   | 8  | 9  | Number<br>of entries |
|-----------------------------------------------------------|----|-----|--------------------------------------------------------------------------------------------------------------------------------------------------------|----|------------------------|-------|-----|----|----|----------------------|
| 23 (000010111)                                            |    | 106 |                                                                                                                                                        |    | 26                     | 52    |     | 52 |    | 1                    |
| 24 (000011000)                                            |    | 52  |                                                                                                                                                        | 52 | —                      |       | 52  |    | 52 | 1                    |
| 25 (000011001)                                            |    | 106 |                                                                                                                                                        |    | 26                     |       | 106 |    |    | 1                    |
| 26 (000011010)                                            |    |     |                                                                                                                                                        |    | Punctured 242-tone RU  |       |     |    |    | 1                    |
| 27 (000011011)                                            |    |     |                                                                                                                                                        |    | Unassigned 242-tone RU |       |     |    |    | 1                    |
| 28 (000011100)                                            |    |     | 242-tone RU; allocated but contributes zero User fields to the User Specific field in the same EHT-SIG content channel as this RU Allocation subfield. |    |                        |       |     |    |    | 1                    |
| 29 (000011101)                                            |    |     | 484-tone RU; allocated but contributes zero User fields to the User Specific field in the same EHT-SIG content channel as this RU Allocation subfield. |    |                        |       |     |    |    | 1                    |
| 30 (000011110)                                            |    |     | 996-tone RU; allocated but contributes zero User fields to the User Specific field in the same EHT-SIG content channel as this RU Allocation subfield. |    |                        |       |     |    |    | 1                    |
| 31 (000011111)                                            |    |     | Validate                                                                                                                                               |    |                        |       |     |    |    | 1                    |
| 32 (000100000)                                            | 26 | 26  | 26                                                                                                                                                     | 26 | 26                     | 52+26 |     | 26 |    | 1                    |
| 33 (000100001)                                            | 26 | 26  |                                                                                                                                                        | 52 | 26                     | 52+26 |     | 26 |    | 1                    |
| 34 (000100010)                                            |    | 52  | 26                                                                                                                                                     | 26 | 26                     | 52+26 |     | 26 |    | 1                    |
| 35 (000100011)                                            |    | 52  |                                                                                                                                                        | 52 | 26                     | 52+26 |     | 26 |    | 1                    |
| 36 (000100100)                                            | 26 |     | 52+26                                                                                                                                                  |    | 26                     | 26    | 26  | 26 | 26 | 1                    |
| 37 (000100101)                                            | 26 |     | 52+26                                                                                                                                                  |    | 26                     | 26    | 26  |    | 52 | 1                    |
| 38 (000100110)                                            | 26 |     | 52+26                                                                                                                                                  |    | 26                     | 52    |     | 26 | 26 | 1                    |
| 39 (000100111)                                            | 26 |     | 52+26                                                                                                                                                  |    | 26                     | 52    |     | 52 |    | 1                    |
| 40 (000101000)                                            | 26 | 26  | 26                                                                                                                                                     | 26 | 106+26                 |       |     |    |    | 1                    |
| 41 (000101001)                                            | 26 | 26  |                                                                                                                                                        | 52 | 106+26                 |       |     |    |    | 1                    |
| 42 (000101010)                                            |    | 52  | 26                                                                                                                                                     | 26 | 106+26                 |       |     |    |    | 1                    |
| 43 (000101011)                                            |    | 52  |                                                                                                                                                        | 52 | 106+26                 |       |     |    |    | 1                    |
| 44 (000101100)                                            |    |     | 106+26                                                                                                                                                 |    | 26                     | 26    | 26  | 26 |    | 1                    |
| 45 (000101101)                                            |    |     | 106+26                                                                                                                                                 |    | 26                     | 26    |     | 52 |    | 1                    |
| 46 (000101110)                                            |    |     | 106+26                                                                                                                                                 |    |                        | 52    | 26  | 26 |    | 1                    |
| 47 (000101111)                                            |    |     | 106+26                                                                                                                                                 |    |                        | 52    |     | 52 |    | 1                    |
| 48 (000110000)                                            |    |     | 106+26                                                                                                                                                 |    | 106                    |       |     |    |    | 1                    |
| 49 (000110001)                                            |    |     | 106+26                                                                                                                                                 |    | 52+26                  |       | 26  |    |    | 1                    |
| 50 (000110010)                                            |    |     | 106                                                                                                                                                    |    | 106+26                 |       |     |    |    | 1                    |
| 51 (000110011)                                            | 26 |     | 52+26                                                                                                                                                  |    | 106+26                 |       |     |    |    | 1                    |

Table 36-34—RU Allocation subfield (continued)

| RU Allocation subfield<br>(B8 B7 B6 B5 B4 B3 B2<br>B1 B0) | 1                                                                                                                                                                                                  | 2   | 3     | 4 | 5  | 6  | 7     | 8  | 9  | Number of entries |
|-----------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----|-------|---|----|----|-------|----|----|-------------------|
| 52 (000110100)                                            |                                                                                                                                                                                                    | 106 |       |   | 26 |    | 52+26 |    | 26 | 1                 |
| 53 (000110101)                                            | 26                                                                                                                                                                                                 |     | 52+26 |   | 26 |    | 106   |    |    | 1                 |
| 54 (000110110)                                            | 26                                                                                                                                                                                                 |     | 52+26 |   | 26 |    | 52+26 |    | 26 | 1                 |
| 55 (000110111)                                            | 52                                                                                                                                                                                                 |     | 52+26 |   |    | 52 |       | 52 |    | 1                 |
| 56-63<br>(000111000-000111111)                            | Validate                                                                                                                                                                                           |     |       |   |    |    |       |    |    | 8                 |
| 64-71 (001000y2y1y0)                                      | 242                                                                                                                                                                                                |     |       |   |    |    |       |    |    | 8                 |
| 72-79 (001001y2y1y0)                                      | 484                                                                                                                                                                                                |     |       |   |    |    |       |    |    | 8                 |
| 80-87 (001010y2y1y0)                                      | 996                                                                                                                                                                                                |     |       |   |    |    |       |    |    | 8                 |
| 88-95 (001011y2y1y0)                                      | 2x996                                                                                                                                                                                              |     |       |   |    |    |       |    |    | 8                 |
| 96-103 (001100y2y1y0)                                     | MRU of pattern [gap-242]-242-484, specifically 484+242-tone MRU-1, 5, 9, and 13 within the first, second, third, and fourth 80 MHz frequency subblock in increasing frequency order, respectively  |     |       |   |    |    |       |    |    | 8                 |
| 104-111 (001101y2y1y0)                                    | MRU of pattern 242-[gap-242]-484, specifically 484+242-tone MRU-2, 6, 10, and 14 within the first, second, third, and fourth 80 MHz frequency subblock in increasing frequency order, respectively |     |       |   |    |    |       |    |    | 8                 |
| 112-119 (001110y2y1y0)                                    | MRU of pattern 484-[gap-242]-242, specifically 484+242-tone MRU-3, 7, 11, and 15 within the first, second, third, and fourth 80 MHz frequency subblock in increasing frequency order, respectively |     |       |   |    |    |       |    |    | 8                 |
| 120-127 (001111y2y1y0)                                    | MRU of pattern 484-242-[gap-242], specifically 484+242-tone MRU-4, 8, 12, and 16 within the first, second, third, and fourth 80 MHz frequency subblock in increasing frequency order, respectively |     |       |   |    |    |       |    |    | 8                 |
| 128-135 (010000y2y1y0)                                    | MRU of pattern [gap-484]-484-996, specifically 996+484-tone MRU-1 and 5 within the first and second 160 MHz subblock in increasing frequency order, respectively                                   |     |       |   |    |    |       |    |    | 8                 |
| 136-143 (010001y2y1y0)                                    | MRU of pattern 484-[gap-484]-996, specifically 996+484-tone MRU-2 and 6 within the first and second 160 MHz subblock in increasing frequency order, respectively                                   |     |       |   |    |    |       |    |    | 8                 |
| 144-151 (010010y2y1y0)                                    | MRU of pattern 996-[gap-484]-484, specifically 996+484-tone MRU-3 and 7 within the first and second 160 MHz subblock in increasing frequency order, respectively                                   |     |       |   |    |    |       |    |    | 8                 |
| 152-159 (010011y2y1y0)                                    | MRU of pattern 996-484-[gap-484], specifically 996+484-tone MRU-4 and 8 within the first and second 160 MHz subblock in increasing frequency order, respectively                                   |     |       |   |    |    |       |    |    | 8                 |
| 160-167 (010100y2y1y0)                                    | MRU of pattern [gap-996]-996-996, specifically 3x996-tone MRU-1                                                                                                                                    |     |       |   |    |    |       |    |    | 8                 |
| 168-175 (010101y2y1y0)                                    | MRU of pattern 996-[gap-996]-996-996, specifically 3x996-tone MRU-2                                                                                                                                |     |       |   |    |    |       |    |    | 8                 |
| 176-183 (010110y2y1y0)                                    | MRU of pattern 996-996-[gap-996]-996, specifically 3x996-tone MRU-3                                                                                                                                |     |       |   |    |    |       |    |    | 8                 |
| 184-191 (010111y2y1y0)                                    | MRU of pattern 996-996-996-[gap-996], specifically 3x996-tone MRU-4                                                                                                                                |     |       |   |    |    |       |    |    | 8                 |

Table 36-34—RU Allocation subfield (continued)

| RU Allocation subfield<br>(B8 B7 B6 B5 B4 B3 B2<br>B1 B0) | 1                                                                                                                                                                                                                                                                                                                      | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | Number of entries |
|-----------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---|---|---|---|---|---|---|---|-------------------|
| 192–199 (011000y2y1y0)                                    | MRU of pattern [gap-484]-484-996-996-996, specifically 3x996+484-tone MRU-1                                                                                                                                                                                                                                            |   |   |   |   |   |   |   |   | 8                 |
| 200–207 (011001y2y1y0)                                    | MRU of pattern 484-[gap-484]-996-996-996, specifically 3x996+484-tone MRU-2                                                                                                                                                                                                                                            |   |   |   |   |   |   |   |   | 8                 |
| 208–215 (011010y2y1y0)                                    | MRU of pattern 996-[gap-484]-484-996-996, specifically 3x996+484-tone MRU-3                                                                                                                                                                                                                                            |   |   |   |   |   |   |   |   | 8                 |
| 216–223 (011011y2y1y0)                                    | MRU of pattern 996-484-[gap-484]-996-996, specifically 3x996+484-tone MRU-4                                                                                                                                                                                                                                            |   |   |   |   |   |   |   |   | 8                 |
| 224–231 (011100y2y1y0)                                    | MRU of pattern 996-996-[gap-484]-484-996, specifically 3x996+484-tone MRU-5                                                                                                                                                                                                                                            |   |   |   |   |   |   |   |   | 8                 |
| 232–239 (011101y2y1y0)                                    | MRU of pattern 996-996-484-[gap-484]-996, specifically 3x996+484-tone MRU-6                                                                                                                                                                                                                                            |   |   |   |   |   |   |   |   | 8                 |
| 240–247 (01110y2y1y0)                                     | MRU of pattern 996-996-996-[gap-484]-484, specifically 3x996+484-tone MRU-7                                                                                                                                                                                                                                            |   |   |   |   |   |   |   |   | 8                 |
| 248–255 (01111y2y1y0)                                     | MRU of pattern 996-996-996-484-[gap-484], specifically 3x996+484-tone MRU-8                                                                                                                                                                                                                                            |   |   |   |   |   |   |   |   | 8                 |
| 256–263 (100000y2y1y0)                                    | MRU of pattern [gap-484]-484-996-996, specifically 2x996+484-tone MRU-1 and 7 within the 240 MHz subblock composed of the first, second, and third 80 MHz frequency subblock and the 240 MHz subblock composed of the second, third, and fourth 80 MHz frequency subblock in increasing frequency order, respectively  |   |   |   |   |   |   |   |   | 8                 |
| 264–271 (100001y2y1y0)                                    | MRU of pattern 484-[gap-484]-996-996, specifically 2x996+484-tone MRU-2 and 8 within the 240 MHz subblock composed of the first, second, and third 80 MHz frequency subblock and the 240 MHz subblock composed of the second, third, and fourth 80 MHz frequency subblock in increasing frequency order, respectively  |   |   |   |   |   |   |   |   | 8                 |
| 272–279 (100010y2y1y0)                                    | MRU of pattern 996-[gap-484]-484-996, specifically 2x996+484-tone MRU-3 and 9 within the 240 MHz subblock composed of the first, second, and third 80 MHz frequency subblock and the 240 MHz subblock composed of the second, third, and fourth 80 MHz frequency subblock in increasing frequency order, respectively  |   |   |   |   |   |   |   |   | 8                 |
| 280–287 (100011y2y1y0)                                    | MRU of pattern 996-484-[gap-484]-996, specifically 2x996+484-tone MRU-4 and 10 within the 240 MHz subblock composed of the first, second, and third 80 MHz frequency subblock and the 240 MHz subblock composed of the second, third, and fourth 80 MHz frequency subblock in increasing frequency order, respectively |   |   |   |   |   |   |   |   | 8                 |
| 288–295 (100010y2y1y0)                                    | MRU of pattern 996-996-[gap-484]-484, specifically 2x996+484-tone MRU-5 and 11 within the 240 MHz subblock composed of the first, second, and third 80 MHz frequency subblock and the 240 MHz subblock composed of the second, third, and fourth 80 MHz frequency subblock in increasing frequency order, respectively |   |   |   |   |   |   |   |   | 8                 |
| 296–303 (100010y2y1y0)                                    | MRU of pattern 996-996-484-[gap-484], specifically 2x996+484-tone MRU-6 and 12 within the 240 MHz subblock composed of the first, second, and third 80 MHz frequency subblock and the 240 MHz subblock composed of the second, third, and fourth 80 MHz frequency subblock in increasing frequency order, respectively |   |   |   |   |   |   |   |   | 8                 |

Table 36-34—RU Allocation subfield (continued)

| RU Allocation subfield<br>(B8 B7 B6 B5 B4 B3 B2<br>B1 B0)         | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | Number<br>of entries |
|-------------------------------------------------------------------|---|---|---|---|---|---|---|---|---|----------------------|
| 304–511 (100110 $y_2$ $y_1$ $y_0$ —<br>111111 $y_2$ $y_1$ $y_0$ ) |   |   |   |   |   |   |   |   |   | 26 $\times$ 8        |
| Disregard                                                         |   |   |   |   |   |   |   |   |   |                      |

For an RU Allocation subfield with value greater than or equal to 64,  $y_2y_1y_0 = 000-111$  indicates the number of User fields in the EHT-SIG content channel that contains the corresponding 9-bit RU Allocation subfield. The binary vector  $y_2y_1y_0$  indicates  $N_{user}(r, c) = 2^2 \times y_2 + 2^1 \times y_1 + y_0 + 1$  User fields in the EHT-SIG content channel that contains the corresponding 9-bit RU Allocation subfield.

[Gap-242/484/996] indicates a 242/484/996-tone RU that is not overlapped with the RU or MRU indicated by the 9-bit RU Allocation subfield and is to help indicate the frequency order of the MRU within an 80/160/240/320 MHz subblock.

An RU Allocation subfield shall indicate an RU or MRU as defined in 36.3.2.

NOTE 3—Any RU or MRU allocation in combination with EHT-SIG MCS selection that results in a number of EHT-SIG symbols that is larger than 32 symbols is not allowed.

“Punctured 242-tone RU (value 26 of RU Allocation field)” shall be used when the preamble portion of corresponding 20 MHz is punctured. In this case, the corresponding 242-tone RU shall not be used for data transmission.

“Unassigned 242-tone RU (value 27 of RU Allocation field)” shall be used when the preamble portion of corresponding 20 MHz is not punctured and when the corresponding 242-tone RU is not used for data transmission.

NOTE 4—Punctured 242-tone RU or unassigned 242-tone RU contributes zero User fields to the User Specific field in the same EHT-SIG content channel as this RU Allocation subfield.

In Table 36-34, the Number of entries column refers to the number of RU Allocation subfield values that refer to the same RU assignment to be used in the frequency domain, but the different RU Allocation subfield values contribute different number of User fields to the User Specific field in the same EHT-SIG content channel as this RU Allocation subfield.

For an RU or MRU that is referred to by the first or single RU Allocation subfield in an EHT-SIG content channel, the RU Allocation subfield encodes the number of User fields per RU contributed to the User Specific field in the same EHT-SIG content channel as the RU Allocation subfield. This number is labeled  $N_{user}(r, c)$  for RU  $r$  and EHT-SIG content channel  $c$  as described in Table 36-34.

If the RU Allocation subfield has a value designated to be Disregard, the EHT STA shall skip  $N_{user}(r, c)$  User fields indicated by the subfield value and continue processing the EHT-SIG field.

For an RU or MRU that is referred to by two or more RU Allocation subfields in an EHT-SIG content channel (e.g., a 996-tone RU in a 160 MHz PPDU), the RU Allocation subfield other than the first one in the EHT-SIG content channel encodes zero additional User fields per RU or MRU contributed to the User Specific field in the same EHT-SIG content channel as the RU Allocation subfield.

In an EHT MU PPDU, an RU or MRU that is not allocated to a user can be indicated as follows:

— The RU Allocation subfield in the EHT-SIG Common field is set to 26 or 27 (see Table 36-34).

— The STA-ID subfield in the EHT-SIG User field is set to 2046 for RU(s) or MRU(s) with fewer than 242 tones (see 35.11.1.1 and 36.3.12.8.5).  
— The RU Allocation subfield in the EHT-SIG Common field is set to 24 (see Table 36-34). In this case, the middle 26-tone RU is not allocated.

If an RU or MRU is an unallocated RU or MRU, zero user is allocated to it. Otherwise, the number of users allocated to RU or MRU  $r$  is determined from the RU size and  $N_{user}(r, c)$  as follows:

— If RU or MRU  $r$  is a 26-tone, 52-tone RU, 106-tone RU, 52+26-tone MRU, or 106+26-tone MRU, then one user is allocated to the RU or MRU.  
— If RU  $r$  is 242-tone RU, then the number of users allocated to the RU is  $N_{user}(r, c)$ .  
— If RU or MRU  $r$  is a 484-tone or larger RU or MRU, then the number of users allocated to the RU or MRU equals the number of User fields for the RU or MRU summed across both EHT-SIG content channels, i.e.,  $N_{user}(r, 1) + N_{user}(r, 2)$ .

NOTE 5—The exact dynamic split of User fields between the two content channels,  $N_{user}(r, 1)$  and  $N_{user}(r, 2)$ , is not specified and might be used to reduce any disparity in the number of User fields between content channels.

NOTE 6—If the number of users per RU or MRU is greater than one, then the users in the RU(s) or MRU(s) are multiplexed using MU-MIMO.

For the EHT-SIG content channel that includes one or more User fields associated with an RU or MRU larger than 484-tone, the first RU Allocation subfield referring to the RU or MRU may use values in the range 80 to 303 (001010 $y_1$  $y_2$  $y_3$  $y_4$ 100101 $y_5$  $y_6$  $y_7$  $y_8$  in binary representation) as in Table 36-34 with  $y_2$  $y_3$  $y_4$  indicating the number of User fields signaled in the corresponding content channel, while the remaining 9-bit RU Allocation subfields referring to the RU or MRU shall be set as follows:

— The RU Allocation subfield corresponding to 242-tone RU in large-size MRU combinations of 484+242-tone MRU is set to 28 (000011100 in binary representation), which encodes zero additional User fields in the corresponding content channel.  
— The RU Allocation subfield corresponding to 484-tone RU in large-size MRU combinations of 484+242-tone MRU, 996+484-tone MRU, 2 $\times$ 996+484-tone MRU, and 3 $\times$ 996+484-tone MRU is set to 29 (000011101 in binary representation), which encodes zero additional User fields in the corresponding content channel.  
— The RU Allocation subfield corresponding to 996-tone RU in large-size MRU combinations of 996+484-tone MRU, 2 $\times$ 996+484-tone MRU, 3 $\times$ 996+484-tone MRU, 3 $\times$ 996-tone MRU, and in RUs of 996-tone RU and 2 $\times$ 996-tone RU is set to 30 (000011110 in binary representation), which encodes zero additional User fields in the corresponding content channel.

Table 36-35—RUs or MRUs associated with each RU Allocation subfield for each EHT-SIG content channel and PPDU bandwidth

| PPDU bandwidth | RU Allocation subfield                                         | RUs or MRUs in the subcarrier range, or overlapping with the subcarrier range if the RU or MRU is larger than a 242-tone RU |
|----------------|----------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------|
| 20 MHz         | The RU Allocation subfield in a single EHT-SIG content channel | [–122; 122]                                                                                                                 |
| 40 MHz         | The RU Allocation subfield in EHT-SIG content channel 1        | [–244; –3]                                                                                                                  |
|                | The RU Allocation subfield in EHT-SIG content channel 2        | [3; 244]                                                                                                                    |

Table 36-35—RUs or MRUs associated with each RU Allocation subfield for each EHT-SIG content channel and PPDU bandwidth (continued)

| PPDU bandwidth | RU Allocation subfield                                         | RUs or MRUs in the subcarrier range, or overlapping with the subcarrier range if the RU or MRU is larger than a 242-tone RU |
|----------------|----------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------|
| 80 MHz         | The first RU Allocation subfield in EHT-SIG content channel 1  | [-500: -259]                                                                                                                |
|                | The first RU Allocation subfield in EHT-SIG content channel 2  | [-253: -12]                                                                                                                 |
|                | The second RU Allocation subfield in EHT-SIG content channel 1 | [12: 253]                                                                                                                   |
|                | The second RU Allocation subfield in EHT-SIG content channel 2 | [259: 500]                                                                                                                  |
| 160 MHz        | The first RU Allocation subfield in EHT-SIG content channel 1  | [-1012: -771]                                                                                                               |
|                | The first RU Allocation subfield in EHT-SIG content channel 2  | [-765: -524]                                                                                                                |
|                | The second RU Allocation subfield in EHT-SIG content channel 1 | [-500: -259]                                                                                                                |
|                | The second RU Allocation subfield in EHT-SIG content channel 2 | [-253: -12]                                                                                                                 |
|                | The third RU Allocation subfield in EHT-SIG content channel 1  | [12: 253]                                                                                                                   |
|                | The third RU Allocation subfield in EHT-SIG content channel 2  | [259: 500]                                                                                                                  |
|                | The fourth RU Allocation subfield in EHT-SIG content channel 1 | [524: 765]                                                                                                                  |
|                | The fourth RU Allocation subfield in EHT-SIG content channel 2 | [771: 1012]                                                                                                                 |

Table 36-35—RUs or MRUs associated with each RU Allocation subfield for each EHT-SIG content channel and PPDU bandwidth (continued)

| PPDU bandwidth | RU Allocation subfield                                          | RUs or MRUs in the subcarrier range, or overlapping with the subcarrier range if the RU or MRU is larger than a 242-tone RU |
|----------------|-----------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------|
| 320 MHz        | The first RU Allocation subfield in EHT-SIG content channel 1   | [-2036: -1795]                                                                                                              |
|                | The first RU Allocation subfield in EHT-SIG content channel 2   | [-1789: -1548]                                                                                                              |
|                | The second RU Allocation subfield in EHT-SIG content channel 1  | [-1524: -1283]                                                                                                              |
|                | The second RU Allocation subfield in EHT-SIG content channel 2  | [-1277: -1036]                                                                                                              |
|                | The third RU Allocation subfield in EHT-SIG content channel 1   | [-1012: -771]                                                                                                               |
|                | The third RU Allocation subfield in EHT-SIG content channel 2   | [-765: -524]                                                                                                                |
|                | The fourth RU Allocation subfield in EHT-SIG content channel 1  | [-500: -259]                                                                                                                |
|                | The fourth RU Allocation subfield in EHT-SIG content channel 2  | [-253: -12]                                                                                                                 |
|                | The fifth RU Allocation subfield in EHT-SIG content channel 1   | [12: 253]                                                                                                                   |
|                | The fifth RU Allocation subfield in EHT-SIG content channel 2   | [259: 500]                                                                                                                  |
|                | The sixth RU Allocation subfield in EHT-SIG content channel 1   | [524: 765]                                                                                                                  |
|                | The sixth RU Allocation subfield in EHT-SIG content channel 2   | [771: 1012]                                                                                                                 |
|                | The seventh RU Allocation subfield in EHT-SIG content channel 1 | [1036: 1277]                                                                                                                |
|                | The seventh RU Allocation subfield in EHT-SIG content channel 2 | [1283: 1524]                                                                                                                |
|                | The eighth RU Allocation subfield in EHT-SIG content channel 1  | [1548: 1789]                                                                                                                |
|                | The eighth RU Allocation subfield in EHT-SIG content channel 2  | [1795: 2036]                                                                                                                |

For an MU-MIMO allocation of RU or MRU size greater than 242 tones in an OFDMA transmission, the dynamic split of User fields between EHT-SIG content channel 1 and EHT-SIG content channel 2 is decided by the AP (on a per case basis) and signaled by the AP using the RU Allocation subfields in each EHT-SIG content channel. The dynamic split of User fields can be different in each 80 MHz frequency subblock if the Bandwidth of the PPDU is greater than or equal to 160 MHz.

#### 36.3.12.8.4 Common field for non-OFDMA transmission

The Common field for an EHT SU transmission and non-OFDMA transmission to multiple users is defined in Table 36-36.

Table 36-36—Common field for an EHT SU transmission and non-OFDMA transmission to multiple users

| Bit     | Subfield                  | Number of bits | Description                                                                                                                                                                                                                                                                                                                                                            |
|---------|---------------------------|----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| B0-B3   | Spatial Reuse             | 4              | Indicates whether or not spatial reuse modes are allowed during the transmission of this PPDU.<br>Set to a value from Table 27-23 (Spatial Reuse field encoding for an HE SU PPDU, HE ER PPDU, and HE MU PPDU). Note that Table 27-23 (Spatial Reuse field encoding for an HE SU PPDU, HE ER PPDU, and HE MU PPDU) also applies to EHT MU PPDU. See 35.11.2 and 35.10. |
| B4-B5   | GI+LTF Size               | 2              | Indicates the GI duration and EHT-LTF size:<br>Set to 0 to indicate $2 \times \text{LTF} + 0.8 \mu\text{s}$ GI.<br>Set to 1 to indicate $2 \times \text{LTF} + 1.6 \mu\text{s}$ GI.<br>Set to 2 to indicate $4 \times \text{LTF} + 0.8 \mu\text{s}$ GI.<br>Set to 3 to indicate $4 \times \text{LTF} + 3.2 \mu\text{s}$ GI.                                            |
| B6-B8   | Number Of EHT-LTF Symbols | 3              | Indicate the number of EHT-LTF symbols:<br>Set to 0 to indicate 1 EHT-LTF symbol.<br>Set to 1 to indicate 2 EHT-LTF symbols.<br>Set to 2 to indicate 4 EHT-LTF symbols.<br>Set to 3 to indicate 6 EHT-LTF symbols.<br>Set to 4 to indicate 8 EHT-LTF symbols.<br>Values 5–7 are Validate.                                                                              |
| B9      | LDPC Extra Symbol Segment | 1              | Indicates the presence of the LDPC extra symbol segment:<br>Set to 1 if an LDPC extra symbol segment is present.<br>Set to 0 if an LDPC extra symbol segment is not present.                                                                                                                                                                                           |
| B10-B11 | Pre-FEC Padding Factor    | 2              | Indicates the pre-FEC padding factor:<br>Set to 0 to indicate a pre-FEC padding factor of 4.<br>Set to 1 to indicate a pre-FEC padding factor of 1.<br>Set to 2 to indicate a pre-FEC padding factor of 2.<br>Set to 3 to indicate a pre-FEC padding factor of 3.                                                                                                      |
| B12     | PE Disambiguity           | 1              | Indicates PE disambiguity as defined in 36.3.14.                                                                                                                                                                                                                                                                                                                       |

Table 36-36—Common field for an EHT SU transmission and non-OFDMA transmission to multiple users (continued)

| Bit     | Subfield                  | Number of bits | Description                                                                                                                                                                                                                                                                                                                                                         |
|---------|---------------------------|----------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| B13–B16 | Disregard                 | 4              | Set to all 1s.                                                                                                                                                                                                                                                                                                                                                      |
| B17–B19 | Number Of Non-OFDMA Users | 3              | Indicates the total number of non-OFDMA users. Set to $n$ to indicate $n+1$ non-OFDMA users.<br>For a non-OFDMA transmission to a single user, set to 0 to indicate an EHT SU transmission.<br>For a non-OFDMA transmission to multiple users, set to a value larger than 0 to indicate more than one non-OFDMA users for non-OFDMA transmission to multiple users. |

B0–B16 of Table 36-36 are U-SIG Overflow bits for an EHT SU transmission and non-OFDMA transmission to multiple users. Both the U-SIG Overflow bits and Number Of Non-OFDMA Users subfields are duplicated in each content channel.

For an EHT SU transmission using BCC, the LDPC Extra Symbol Segment field is set to 0 to indicate that an LDPC extra symbol segment is not present.

The Common field for an EHT sounding NDP is defined in Table 36-37.

Table 36-37—Common field for EHT sounding NDP

| Bit   | Subfield                  | Number of bits per subfield | Description                                                                                                                                                                                                                                                                               |
|-------|---------------------------|-----------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| B0–B3 | Spatial Reuse             | 4                           | Indicates whether or not spatial reuse modes are allowed during the transmission of this PPDU.<br>Set to 15 from Table 27-23. Note that Table 27-23 also applies to EHT MU PPDU. See 35.11.2 and 35.10.                                                                                   |
| B4–B5 | GI+LTF Size               | 2                           | Indicates the GI duration and EHT-LTF size:<br>Set to 0 to indicate $2 \times LTF + 0.8 \mu s$ GI.<br>Set to 1 to indicate $2 \times LTF + 1.6 \mu s$ GI.<br>Set to 3 to indicate $4 \times LTF + 3.2 \mu s$ GI.<br>Value 2 is Validate.                                                  |
| B6–B8 | Number Of EHT-LTF Symbols | 3                           | Indicate the number of EHT-LTF symbols:<br>Set to 0 to indicate 1 EHT-LTF symbol.<br>Set to 1 to indicate 2 EHT-LTF symbols.<br>Set to 2 to indicate 4 EHT-LTF symbols.<br>Set to 3 to indicate 6 EHT-LTF symbols.<br>Set to 4 to indicate 8 EHT-LTF symbols.<br>Values 5–7 are Validate. |

Table 36-37—Common field for EHT sounding NDP (continued)

| Bit     | Subfield   | Number of bits per subfield | Description                                                                                                                                                       |
|---------|------------|-----------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| B9–B12  | NSS        | 4                           | Indicates the number of spatial streams of the EHT sounding NDP. Set to the number of spatial streams minus 1 for up to 8 spatial streams. Values 8–15 are Valid. |
| B13     | Beamformed | 1                           | Set to 1 if a beamforming steering matrix is applied to the EHT modulated fields. Set to 0 otherwise.                                                             |
| B14–B15 | Disregard  | 2                           | Set to both 1s.                                                                                                                                                   |
| B16–B19 | CRC        | 4                           | CRC for bits 0–15 of the EHT-SIG field. The CRC is calculated over bits B0–B15. The CRC computation uses the same polynomial as that in 27.3.11.7.3.              |
| B20–B25 | Tail       | 6                           | Used to terminate the trellis of the convolutional decoder. Set to 0.                                                                                             |

B0–B15 of Table 36-37 are U-SIG Overflow bits for EHT sounding NDP and are duplicated in each content channel.

If the Beamformed field in EHT-SIG of an EHT sounding NDP is 1, then the receiver of the EHT sounding NDP should not perform channel smoothing when generating the compressed beamforming feedback report.

#### 36.3.12.8.5 User Specific field

The User Specific field of an EHT-SIG content channel consists of zero or more user encoding blocks followed by padding (if present) as shown in Figure 36-31, Figure 36-32, Figure 36-33, Figure 36-34, and Figure 36-36. There is no User Specific field for EHT sounding NDP as shown in Figure 36-35.

For a DL OFDMA transmission (in the U-SIG field, the UL/DL field is set to 0, and the PPDU Type And Compression Mode field is set to 0), the number of user fields is indicated by the RU Allocation subfields. Each nonfinal user encoding block is made up of two user fields that contain information for two STAs that are used to decode their payloads. The final user encoding block contains information for one or two users depending on the number of User fields in the EHT-SIG content channel.

For an EHT SU transmission (in the U-SIG field, the UL/DL field is set to either 0 or 1, the PPDU Type And Compression Mode field is set to 1, and the EHT-SIG MCS field and the Number of EHT-SIG Symbols field are not set to 0 at the same time), and a DL non-OFDMA transmission to multiple users (in the U-SIG field, the UL/DL field is set to 0, and the PPDU Type And Compression Mode field is set to 2), the number of user fields is indicated by the Number Of Non-OFDMA Users subfield. The Common field of the EHT-SIG content channel is encoded together with the first User field in the same content channel. This common encoding block contains a CRC and a Tail. The content of the common encoding block in the EHT-SIG field for an EHT SU transmission and non-OFDMA transmission to multiple users is defined in Table 36-38. In the case of a non-OFDMA transmission to multiple users, the remaining user fields (if present) in each content channel are grouped into user encoding blocks using the same method as the OFDMA transmission.

Table 36-38—The common encoding block in an EHT-SIG field for an EHT SU transmission and a non-OFDMA transmission to multiple users

| Bit     | Subfield                                                                             | Number of bits per subfield | Description                                                                                                                                              |
|---------|--------------------------------------------------------------------------------------|-----------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------|
| B0–B19  | Common field for an EHT SU transmission and non-OFDMA transmission to multiple users | 20                          | The Common field for an EHT SU transmission and non-OFDMA transmission to multiple users is defined in Table 36-36.                                      |
| B20–B41 | User field                                                                           | 22                          | The User field format for a non-MU-MIMO allocation is defined in Table 36-40. The User field format for an MU-MIMO allocation is defined in Table 36-41. |
| B42–B45 | CRC                                                                                  | 4                           | The CRC is calculated over bits 0 to 41. The CRC computation uses the same polynomial as that in 27.3.11.7.3.                                            |
| B46–B51 | Tail                                                                                 | 6                           | Used to terminate the trellis of the convolutional decoder. Set to 0.                                                                                    |

For an EHT sounding NDP (in the U-SIG field, the UL/DL field is set to either 0 or 1, the PPDU Type And Compression Mode field is set to 1, the EHT-SIG MCS field is set to 0, and the Number Of EHT-SIG Symbols field is set to 0), there is no User field.

The user encoding block is defined in Table 36-39. For non-OFDMA transmission to multiple users, the user encoding block is present if there are more than one User fields in the corresponding content channel.

Table 36-39—The user encoding block

| Bit           | Subfield   | Number of subfields | Number of bits per subfield | Description                                                                                                                                                                                                                                                                                                                        |
|---------------|------------|---------------------|-----------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| B0–B22N-1     | User field | N                   | 22                          | N User fields are present, where:<br>N = 1 if it is the final user encoding block, and if there is only one user in the final user encoding block.<br>N = 2 otherwise.<br>The User field format for a non-MU-MIMO allocation is defined in Table 36-40. The User field format for an MU-MIMO allocation is defined in Table 36-41. |
| B22N-1–B22N+3 | CRC        | 1                   | 4                           | The CRC is calculated over bits 0 to 21 for a user encoding block that contains one User field, and bits 0 to 43 for a user encoding block that contains two User fields. The CRC computation uses the same polynomial as that in 27.3.11.7.3.                                                                                     |
| B22N+4–B22N+9 | Tail       | 1                   | 6                           | Used to terminate the trellis of the convolutional decoder. Set to 0.                                                                                                                                                                                                                                                              |

The contents of the User field differ depending on whether the field addresses a user in a non-MU-MIMO allocation in an RU or a user in an MU-MIMO allocation in an RU. For an EHT SU transmission, the User field format for a non-MU-MIMO allocation is used.

The User field format for a non-MU-MIMO allocation is defined in Table 36-40.

Table 36-40—User field format for a non-MU-MIMO allocation

| Bit     | Subfield | Number of bits | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|---------|----------|----------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| B0–B10  | STA-ID   | 11             | Set to a value of the TXVECTOR parameter STA-ID (see 35.11.1.1).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| B11–B14 | MCS      | 4              | If the STA-ID subfield is not equal to 2046, this subfield indicates the following modulation and coding scheme:<br>Set to $n$ for EHT-MCS $n$ , where $n = 0, 1, \dots, 15$ .<br>Set to an arbitrary value if the STA-ID subfield is equal to 2046.<br>If the UL/DL subfield of the U-SIG field is set to 0:<br>— If the value of STA-ID subfield matches the user's STA-ID, the value of EHT-MCS 14 or EHT-MCS 15 is Validate if the condition described in 36.1.1 is not met.<br>— If the value of STA-ID subfield does not match the user's STA-ID, all values are Disregard.<br>If the UL/DL subfield of the U-SIG field is set to 1, the value of EHT-MCS 14 or EHT-MCS 15 is Validate if the condition described in 36.1.1 is not met. |
| B15     | Reserved | 1              | Reserved and set to 1.<br>If the UL/DL subfield of the U-SIG field is set to 0:<br>— If the value of STA-ID subfield matches the user's STA-ID, the Reserved subfield is Validate.<br>— If the value of STA-ID subfield does not match the user's STA-ID, the Reserved subfield is Disregard.<br>If the UL/DL subfield of the U-SIG field is set to 1, the Reserved subfield is Validate.                                                                                                                                                                                                                                                                                                                                                     |

Table 36-40—User field format for a non-MU-MIMO allocation (continued)

| Bit     | Subfield   | Number of bits | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|---------|------------|----------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| B16-B19 | NSS        | 4              | <p>If the STA-ID subfield is not equal to 2046, it indicates the number of spatial streams for up to eight spatial streams.</p> <p>Set to the number of spatial streams minus 1.</p> <p>Set to an arbitrary value if the STA-ID subfield is equal to 2046.</p> <p>If the UL/DL subfield of the U-SIG field is set to 0:</p> <ul><li>If the value of STA-ID subfield matches the user's STA-ID, values indicating more than eight spatial streams are Validate.</li><li>If the value of STA-ID subfield does not match the user's STA-ID, all values are Disregard.</li></ul> <p>If the UL/DL subfield of the U-SIG field is set to 1, values indicating more than eight spatial streams are Validate.</p> |
| B20     | Beamformed | 1              | <p>If the STA-ID subfield is not 2046, this subfield is used to indicate transmit beamforming:</p> <p>Set to 1 if a beamforming steering matrix is applied to the waveform in a non-MU-MIMO allocation.</p> <p>Set to 0 otherwise.</p> <p>Set to an arbitrary value if the STA-ID subfield is 2046.</p>                                                                                                                                                                                                                                                                                                                                                                                                   |
| B21     | Coding     | 1              | <p>If the STA-ID subfield is not equal to 2046, this subfield indicates whether BCC or LDPC is used:</p> <p>Set to 0 for BCC.</p> <p>Set to 1 for LDPC.</p> <p>Set to an arbitrary value if the STA-ID subfield is 2046.</p> <p>If the UL/DL subfield of the U-SIG field is set to 0 and if the value of STA-ID subfield does not match the user's STA-ID, all values are Disregard.</p>                                                                                                                                                                                                                                                                                                                  |

The User field format for an MU-MIMO allocation is defined in Table 36-41.

Table 36-41—User field format for an MU-MIMO allocation

| Bit     | Subfield              | Number of bits | Description                                                                                                                                                                                                                                                                                                                                                       |
|---------|-----------------------|----------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| B0–B10  | STA-ID                | 11             | Set to a value of the TXVECTOR parameter STA-ID (see 35.11.1.1).<br>NOTE—An RU/MRU using MU-MIMO has RU/MRU size greater than or equal to 242 tones. Thus, the STA ID subfield is not set to 2046 for an MU-MIMO RU allocation (see 36.3.12.8.3).                                                                                                                 |
| B11–B14 | MCS                   | 4              | Indicates the following modulation and coding scheme:<br>Set to $n$ for EHT-MCS $n$ , where $n = 0, 1, \dots, 13$ .<br>If the value of STA-ID subfield matches the user's STA-ID, other values are Validate. If the value of STA-ID subfield does not match the user's STA-ID, all values are Disregard.                                                          |
| B15     | Coding                | 1              | Indicates whether BCC or LDPC is used:<br>Set to 0 for BCC.<br>Set to 1 for LDPC.<br>If the RU size is larger than 242, this bit is reserved and set to 1.<br>If the value of STA-ID subfield matches the user's STA-ID, the Reserved subfield is Validate. If the value of STA-ID subfield does not match the user's STA-ID, the Reserved subfield is Disregard. |
| B16–B21 | Spatial Configuration | 6              | Indicates the number of spatial streams for a user in an MU-MIMO allocation (see Table 36-42).<br>If STA-ID matches, the values that are reserved or do not exist in Table 36-42 are Validate.<br>If STA-ID does not match, all values are Disregard.                                                                                                             |

For a DL non-OFDMA transmission to multiple users when the bandwidth of the PPDU is greater than or equal to 40 MHz, an equitable split is defined as the split of User fields across the EHT-SIG content channels, i.e., a User field  $k$  of a K-user non-OFDMA MU-MIMO transmission is carried in an EHT-SIG content channel  $c$ , where  $c$  is defined in Equation (36-23).

$$c = \begin{cases} 1, & \text{if } k \in 1, 2, \dots, \lceil K/2 \rceil \\ 2, & \text{if } k \in \lceil K/2 \rceil + 1, \dots, K \end{cases} \quad (36-23)$$

A User field for an MU-MIMO allocation includes a 6-bit Spatial Configuration subfield that indicates the number of spatial streams for each user and the total number of spatial streams in the MU-MIMO allocation. The subfield shown in Table 36-42 is constructed by using the entries corresponding to the value of the number of users ( $N_{user}$ ) multiplexed using MU-MIMO in an RU.

For OFDMA transmission when MU-MIMO is used in an RU or MRU of size greater than 242 tones, the AP performs a dynamic split of the User fields corresponding to the same MU-MIMO allocations as described in 36.3.12.8.3 into two EHT-SIG content channels and the number of users ( $N_{user}$ ) is computed as

the sum of the number of User fields indicated for the RU by the 9-bit RU Allocation subfield in each EHT-SIG content channel.

For OFDMA transmission when MU-MIMO is used in an RU of size equal to 242 tones, the number of users in the RU is equal to the number of User fields signaled for the RU in the associated RU Allocation subfield of the Common field in the same EHT-SIG content channel.

The positions of the User field within an RU are defined to be logically continuous: the last User field corresponding to an RU in EHT-SIG content channel 1 is immediately followed by the first User field corresponding to the same RU in EHT-SIG content channel 2.

For a given value of  $N_{user}$ , the six bits of the Spatial Configuration subfield are used as follows: A STA with a STA-ID that matches the 11-bit ID signaled in the User field for an MU-MIMO allocation derives the number of spatial streams allocated to it using the row corresponding to the signaled 6-bit Spatial Configuration subfield and the column corresponding to the position of the User field in the User Specific field. The starting stream index for the user is computed by summing the  $N_{SS}$  in the columns prior to the column indicated by the position of the user's User field.

Table 36-42—Spatial Configuration subfield encoding

| $N_{user}$ | B5...B0       | $N_{SS}$ [1] | $N_{SS}$ [2] | $N_{SS}$ [3] | $N_{SS}$ [4] | $N_{SS}$ [5] | $N_{SS}$ [6] | $N_{SS}$ [7] | $N_{SS}$ [8] | Total $N_{SS}$ | Total entries |
|------------|---------------|--------------|--------------|--------------|--------------|--------------|--------------|--------------|--------------|----------------|---------------|
| 2          | 000000-000011 | 1-4          | 1            |              |              |              |              |              |              | 2-5            | 10            |
|            | 000100-000110 | 2-4          | 2            |              |              |              |              |              |              | 4-6            |               |
|            | 000111-001000 | 3-4          | 3            |              |              |              |              |              |              | 6-7            |               |
|            | 001001        | 4            | 4            |              |              |              |              |              |              | 8              |               |
| 3          | 000000-000011 | 1-4          | 1            | 1            |              |              |              |              |              | 3-6            | 13            |
|            | 000100-000110 | 2-4          | 2            | 1            |              |              |              |              |              | 5-7            |               |
|            | 000111-001000 | 3-4          | 3            | 1            |              |              |              |              |              | 7-8            |               |
|            | 001001        | Reserved     |              |              |              |              |              |              |              |                |               |
|            | 001010-001100 | 2-4          | 2            | 2            |              |              |              |              |              | 6-8            |               |
|            | 001101        | 3            | 3            | 2            |              |              |              |              |              | 8              |               |
|            | 001110-010011 | Reserved     |              |              |              |              |              |              |              |                |               |

Table 36-42—Spatial Configuration subfield encoding (continued)

| $N_{user}$    | B5...B0       | $N_{SS}$ [1]  | $N_{SS}$ [2] | $N_{SS}$ [3] | $N_{SS}$ [4] | $N_{SS}$ [5] | $N_{SS}$ [6] | $N_{SS}$ [7] | $N_{SS}$ [8] | Total $N_{SS}$ | Total entries |   |
|---------------|---------------|---------------|--------------|--------------|--------------|--------------|--------------|--------------|--------------|----------------|---------------|---|
| 4             | 000000-000011 | 1-4           | 1            | 1            | 1            |              |              |              |              | 4-7            | 11            |   |
|               | 000100-000110 | 2-4           | 2            | 1            | 1            |              |              |              |              | 6-8            |               |   |
|               | 000111        | 3             | 3            | 1            | 1            |              |              |              |              | 8              |               |   |
|               | 001000-001001 | Reserved      |              |              |              |              |              |              |              |                |               |   |
|               | 001010-001011 | 2-3           | 2            | 2            | 1            |              |              |              |              | 7-8            |               |   |
|               | 001100-010011 | Reserved      |              |              |              |              |              |              |              |                |               |   |
|               | 010100        | 2             | 2            | 2            | 2            |              |              |              |              | 8              |               |   |
|               | 010101-100010 | Reserved      |              |              |              |              |              |              |              |                |               |   |
|               | 5             | 000000-000011 | 1-4          | 1            | 1            | 1            | 1            |              |              |                | 5-8           | 7 |
|               |               | 000100-000101 | 2-3          | 2            | 1            | 1            | 1            |              |              |                | 7-8           |   |
|               |               | 000110-001001 | Reserved     |              |              |              |              |              |              |                |               |   |
| 001010        |               | 2             | 2            | 2            | 1            | 1            |              |              |              | 8              |               |   |
| 001011-110000 |               | Reserved      |              |              |              |              |              |              |              |                |               |   |
| 000000-000010 |               | 1-3           | 1            | 1            | 1            | 1            | 1            |              |              | 6-8            | 4             |   |
| 6             | 000011        | Reserved      |              |              |              |              |              |              |              |                |               |   |
|               | 000100        | 2             | 2            | 1            | 1            | 1            | 1            |              |              | 8              |               |   |
|               | 000101-110101 | Reserved      |              |              |              |              |              |              |              |                |               |   |
| 7             | 000000-000001 | 1-2           | 1            | 1            | 1            | 1            | 1            | 1            |              | 7-8            | 2             |   |
|               | 000010-110001 | Reserved      |              |              |              |              |              |              |              |                |               |   |
| 8             | 000000        | 1             | 1            | 1            | 1            | 1            | 1            | 1            | 1            | 8              | 1             |   |
|               | 000001-011010 | Reserved      |              |              |              |              |              |              |              |                |               |   |

NOTE—Total entries do not include the reserved entries.

The user ordering identified by the column headers  $N_{SS}[s]$ ,  $s = 1, 2, 3, \dots$  in Table 36-42 shall be the same as the user index  $u$ ,  $u = 0, 1, 2, \dots$  in Equation (36-35), Equation (36-44), and Equation (36-87), i.e.,  $u = s - 1$ .

The total number of spatial streams (total  $N_{SS}$ ) is computed by summing all columns for the row signaled by the Spatial Configuration field and is indicated in Table 36-42 under the column Total  $N_{SS}$ .

### 36.3.12.8.6 Encoding and modulation

For OFDMA transmission, the Common field of each EHT-SIG content channel is included into one or two common encoding blocks. For EHT sounding NDP, the Common field of each EHT-SIG content channel is included in a single common encoding block. Each common encoding block shall be BCC encoded at rate  $R = 1/2$ . For EHT-SIG for an EHT SU transmission or non-OFDMA transmission to multiple users, the Common field of each EHT-SIG content channel, together with the only User field or the first User field of the User Specific field, is included into a single common encoding block, which shall be BCC encoded at rate  $R = 1/2$ .

For EHT-SIG for OFDMA transmission and non-OFDMA transmission to multiple users, each user encoding block in the User Specific field of EHT-SIG content channel shall be BCC encoded at rate  $R = 1/2$ . For OFDMA transmission, if the number of User fields in an EHT-SIG content channel is odd, there is a single User field in the final user encoding block. For non-OFDMA transmission, the first User field is encoded together with the Common field of the EHT-SIG field. If the number of User fields in an EHT-SIG content channel is even, there is a single User field in the final user encoding block. CRC and tail bits are added immediately after the last User field in each user encoding block.

Pre-FEC padding bits are appended immediately after the tail bits corresponding to the final user encoding block in each EHT-SIG content channel to round up to the next multiple of number of data bits per EHT-SIG OFDM symbol.

The padding bits may be set to any value. Further pre-FEC padding bits are appended to each EHT-SIG content channel so that the number of OFDM symbols after encoding and modulation in different 20 MHz subchannels is the same and equal to the number of EHT-SIG symbols signaled in the Number Of EHT-SIG Symbol subfield in U-SIG field. For the common encoding block and each user encoding block, the information bits, tail bits and padding bits (if present) are BCC encoded at rate  $R = 1/2$  using the encoder described in 17.3.5.6.

The coded bits are interleaved as described in 36.3.13.6. The interleaved bits are mapped to constellation points from the EHT-SIG-MCS specified in U-SIG field and have pilots inserted following the steps described in 17.3.5.8 and 17.3.5.9 respectively. Each EHT-SIG OFDM symbol shall have 52 data tones.

The guard interval used for each EHT-SIG OFDM symbol shall be 0.8  $\mu$ s.

The number of OFDM symbols in the EHT-SIG field, denoted  $N_{SYM\_EHT\_SIG}$ , shall be indicated in the Number Of EHT-SIG Symbols field in the U-SIG field of an EHT MU PPDU (see 36.3.12.7.2).

In EHT-SIG for OFDMA transmission,  $d_{k,n,c}$  denotes the complex number assigned to the  $k$ -th data subcarrier of the  $n$ -th symbol in the EHT-SIG content channel  $c$  ( $c = 1$  to 2) and 80 MHz frequency subblock  $l$ . In EHT-SIG for non-OFDMA transmission to multiple users,  $d_{k,n,c}$  denotes the complex number assigned to the  $k$ -th data subcarrier of the  $n$ -th symbol in the EHT-SIG content channel  $c$ . In EHT-SIG for an EHT SU transmission or EHT sounding NDP,  $d_{k,n}$  denotes the complex number assigned to the  $k$ -th data subcarrier of the  $n$ -th symbol in the single EHT-SIG content channel.

The time domain waveform for the EHT-SIG field, transmitted on transmit chain  $l_{TX}$ , is given by Equation (36-24).

$$r_{\text{EHT-SIG}}^{i_{\text{TX}}}(t) \quad (36-24)$$

$$= \frac{1}{\sqrt{N_{TX} \cdot N_{\text{EHT-SIG}}^{\text{Tone}} \cdot \frac{\Omega_{20\text{MHz}}}{N_{20\text{MHz}}}}} \sum_{n=0}^{N_{\text{sym, EHT-SIG}} - 1} w_{\text{EHT-SIG}}(t - nT_{\text{SYML}}) \\ \sum_{i_{BW} \in \Omega_{20\text{MHz}}, k = -28}^{28} \left( \gamma(k - K_{\text{Shift}}(i_{BW})), \text{BW} \right. \\ \left. \left( \Gamma_{M_{20}^{\prime}(k)}^{D} D_{k, n, i_{BW}} + p_{n+4} P_{k} \right) \exp(j2\pi(k - K_{\text{Shift}}(i_{BW}))\Delta_{F, \text{Pre-EHT}}(t - nT_{\text{SYML}} - T_{G, \text{Pre-EHT}} - T_{CS}^{i_{\text{TX}}})) \right)$$

where

$N_{\text{EHT-SIG}}^{\text{Tone}}$  is given in Table 36-26.

$\Gamma_{M_{20}^{\prime}(k)}$  is the phase rotation value for EHT-SIG field PAPR reduction. If the EHT-SIG field is modulated with EHT-SIG MCS field set to 3 (EHT-MCS 15),  $\Gamma_{M_{20}^{\prime}(k)} = 1$ . For all the other modulation schemes:

$$\Gamma_{M_{20}^{\prime}(k)} = \begin{cases} 1, & 0 \le M_{20}^{\prime}(k) < 26 \\ (-1)^{M_{20}^{\prime}(k)}, & 26 \le M_{20}^{\prime}(k) < 52 \end{cases}$$

$K_{\text{Shift}}(i_{BW})$  is defined in 36.3.12.5.

$$D_{k, n, i_{BW}} = \begin{cases} 0, & k = 0, \pm 7, \pm 21 \\ d^{[i_{BW} \cdot 4]} & \text{otherwise} \end{cases} \quad \text{for EHT-SIG for OFDMA transmission.} \\ M_{20}^{\prime}(k, n, (i_{BW} \text{ mod } 2) + 1)'$$

$$D_{k, n, i_{BW}} = \begin{cases} 0, & k = 0, \pm 7, \pm 21 \\ d^{M_{20}^{\prime}(k, n, (i_{BW} \text{ mod } 2) + 1)} & \text{otherwise} \end{cases} \quad \text{for EHT-SIG for non-OFDMA transmission to multiple users.}$$

$$D_{k, n, i_{BW}} = \begin{cases} 0, & k = 0, \pm 7, \pm 21 \\ d^{M_{20}^{\prime}(k, n)} & \text{otherwise} \end{cases} \quad \text{for EHT-SIG for an EHT SU transmission or EHT sounding NDP.}$$

$$M_{20}^{\prime}(k) = \begin{cases} k + 28, & -28 \le k \le -22 \\ k + 27, & -20 \le k \le -8 \\ k + 26, & -6 \le k \le -1 \\ k + 25, & 1 \le k \le 6 \\ k + 24, & 8 \le k \le 20 \\ k + 23, & 22 \le k \le 28 \end{cases}$$

$P_k$  and  $p_n$  are defined in 17.3.5.10 (OFDM modulation).

$N_{\text{sym, EHT-SIG}}$  is the number of OFDM symbols in the EHT-SIG field.

Other variables in Equation (36-24) are defined in 36.3.10 and 36.3.11.

For OFDMA transmission and non-OFDMA transmission to multiple users, a 20 MHz PPDU contains one EHT-SIG content channel as shown in Figure 36-37 according to Equation (36-24) and 36.3.12.8.2.

![](9ccdcd035b7f7f46decd678d136f7206_img.jpg)

Diagram illustrating the structure of the EHT-SIG content channel for a 20 MHz PPDU for OFDMA transmission and non-OFDMA transmission to multiple users.

The channel is divided into a Common field and a User Specific field.

- The Common field contains the U-SIG Overflow and RU Allocation subfield for RUs overlapping tone range  $-122$ : $122$  (if present) and the Number of Non-OFDMA Users subfield (if present).
- The User Specific field contains User fields for RUs signaled in Common field.
- The EHT-SIG content channel 1 is associated with the User Specific field.

**Figure 36-37—EHT-SIG content channel for a 20 MHz PPDU for OFDMA transmission and non-OFDMA transmission to multiple users**

For OFDMA transmission and non-OFDMA transmission to multiple users, a 40 MHz PPDU contains two EHT-SIG content channels, each occupying a 20 MHz frequency subchannel as shown in Figure 36-38 according to Equation (36-24) and 36.3.12.8.2.

![](37a86940ed725a2120d67b7c10124455_img.jpg)

Diagram illustrating the structure of the EHT-SIG content channels for a 40 MHz PPDU for OFDMA transmission and non-OFDMA transmission to multiple users.

The channel is divided into a Common field and a User Specific field, spanning two subchannels (EHT-SIG content channel 1 and EHT-SIG content channel 2).

Low to high sub-carrier index

- The Common field contains the U-SIG Overflow and RU Allocation subfield for RUs overlapping tone range  $3$ : $244$  (if present) and the Number of Non-OFDMA Users subfield (if present).
- The User Specific field contains User fields for RUs signaled in Common field.
- EHT-SIG content channel 1 is associated with the User Specific field of the first subchannel.
- EHT-SIG content channel 2 is associated with the User Specific field of the second subchannel.

**Figure 36-38—EHT-SIG content channel for a 40 MHz PPDU for OFDMA transmission and non-OFDMA transmission to multiple users**

For OFDMA transmission and non-OFDMA transmission to multiple users, an 80 MHz PPDU contains two EHT-SIG content channels each of which is duplicated as shown in Figure 36-39 according to Equation (36-24) and 36.3.12.8.2.

![](ed1bd550b7bc4ed98a0a5167d7d65eff_img.jpg)

Diagram illustrating the structure of the EHT-SIG content channels and their duplication in an 80 MHz PPDU for OFDMA transmission and non-OFDMA transmission to multiple users.

Low to high sub-carrier index

- The Common field contains the U-SIG Overflow and RU Allocation subfields for RUs overlapping with tone ranges  $-253$ : $-12$  and  $259$ : $500$  (if present) and the Number of Non-OFDMA Users subfield (if present).
- The User Specific field contains User fields for RUs signaled in Common field.
- EHT-SIG content channel 2 is associated with the User Specific field of the first subchannel.
- EHT-SIG content channel 1 is associated with the User Specific field of the second subchannel.
- EHT-SIG content channel 2 is associated with the User Specific field of the third subchannel.
- EHT-SIG content channel 1 is associated with the User Specific field of the fourth subchannel.

DUP (Duplication) is indicated between the first and second subchannels, and between the third and fourth subchannels.

**Figure 36-39—EHT-SIG content channels and their duplication in an 80 MHz PPDU for OFDMA transmission and non-OFDMA transmission to multiple users**

If an RU or MRU for an allocation in an 80 MHz PPDU overlaps more than one of the subcarrier ranges  $[-500$ : $-259]$ ,  $[-253$ : $-12]$ ,  $[12$ : $253]$ , or  $[259$ : $500]$ , the corresponding RU Allocation subfields in the respective content channels shall all refer to the same RU or MRU.

If the Bandwidth subfield and Punctured Channel Indication subfield in the U-SIG field of an EHT MU PPDU (see Table 36-28) indicates 80 MHz and preamble is punctured, the mapping of the EHT-SIG content channels to 20 MHz subchannels shall be the same as for an 80 MHz PPDU (see Figure 36-39), with the exception that punctured 20 MHz subchannels shall be excluded.

For OFDMA transmission and non-OFDMA transmission to multiple users, a 160 MHz PPDU contains two EHT-SIG content channels for each of the two 80 MHz frequency subblocks, each of which is duplicated as shown in Figure 36-40 according to Equation (36-24) and 36.3.12.8.2. EHT-SIG content channels with the same index  $c$  may carry different information in different 80 MHz frequency subblocks for EHT-SIG for OFDMA transmission but shall carry the same information in different 80 MHz frequency subblocks for EHT-SIG for non-OFDMA transmission to multiple users.

![](5dc9400912ebc81d61aa56219a3c122c_img.jpg)

Figure 36-40 illustrates the EHT-SIG content channels and their duplication in a 160 MHz PPDU for OFDMA transmission and non-OFDMA transmission to multiple users. The diagram shows the structure of the PPDU, divided into a Common field and User Specific field, and further divided into two 80 MHz frequency subblocks (Low to High sub-carrier index and High to Low sub-carrier index).

Each 80 MHz subblock contains two EHT-SIG content channels (Channel 1 and Channel 2). Each channel is duplicated (DUP) and contains two subfields:

- U-SIG Overflow and RU Allocation subfields for RUs overlapping with tone ranges (e.g., -765: -524, -253: -12, 259:500 and 771:1012 (if present)) and Number of Non-OFDMA Users subfield (if present).
- User fields for RUs signaled in Common field.

The duplication (DUP) ensures that the same information is carried in both 80 MHz subblocks for OFDMA transmission, while for non-OFDMA transmission, the same information is carried in both subblocks.

Figure 36-40—EHT-SIG content channels and their duplication in a 160 MHz PPDU for OFDMA transmission and non-OFDMA transmission to multiple users

If an RU or MRU for an allocation in a 160 MHz PPDU overlaps more than one of the subcarrier ranges [-1012: -771], [-765: -524], [-500: -259], [-253: -12], [12: 253], [259: 500], [524: 765], or [771: 1012], the corresponding RU Allocation subfields in the respective content channels shall all refer to the same RU or MRU.

If the Bandwidth subfield and Punctured Channel Indication subfield in the U-SIG field of an EHT MU PPDU (see Table 36-28) indicates 160 MHz and preamble is punctured, the mapping of the EHT-SIG content channels to 20 MHz subchannels shall be the same as for a 160 MHz PPDU (see Figure 36-40), with the exception that punctured 20 MHz subchannels shall be excluded.

For OFDMA transmission and non-OFDMA transmission to multiple users, a 320 MHz PPDU contains two EHT-SIG content channels for each of the four 80 MHz frequency subblocks, each of which is duplicated as shown in Figure 36-41 according to Equation (36-24) and 36.3.12.8.2. EHT-SIG content channels with the same index  $c$  may carry different information in different 80 MHz frequency subblocks for EHT-SIG for

IEEE Std 802.11be-2024  
IEEE Standard for Information Technology—Local and Metropolitan Area Networks—Specific Requirements  
Part 11: Wireless LAN MAC and PHY Specifications  
Amendment 2: Enhancements for Extremely High Throughput (EHT)

OFDMA transmission but shall carry the same information in different 80 MHz frequency subblocks for EHT-SIG for non-OFDMA transmission to multiple users.

![](8095f2ff6133e81eccc7b32a47fbc96c_img.jpg)

Figure 36-41 is a flowchart illustrating the EHT-SIG content channels and their duplication in a 320 MHz PPDU for OFDMA transmission and non-OFDMA transmission to multiple users. The flow starts with the "Common Field" and proceeds through several iterations of "User Specific Field" and "EHT-SIG content channel" blocks, detailing the allocation of subcarriers for RU and MRU.

The flowchart shows the allocation of subcarriers for RU and MRU, detailing the allocation of subcarriers for RU and MRU, and the duplication of EHT-SIG content channels in a 320 MHz PPDU for OFDMA transmission and non-OFDMA transmission to multiple users.

Figure 36-41—EHT-SIG content channels and their duplication in a 320 MHz PPDU for OFDMA transmission and non-OFDMA transmission to multiple users

If an RU or MRU for an allocation in a 320 MHz PPDU overlaps more than one of the subcarrier ranges [-2036; -1795], [-1789; -1548], [-1524; -1283], [-1277; -1036], [-1012; -771], [-765; -524], [-500; -259], [-253; -12], [12; 253], [259; 500], [524; 765], [771; 1012], [1036; 1277], [1283; 1524], [1548; 1789], or [1795; 2036], the corresponding RU Allocation subfields in the respective content channels shall all refer to the same RU or MRU.

If the Bandwidth subfield and the Punctured Channel Indication subfield in the U-SIG field of an EHT MU PPDU (see Table 36-28) indicates 320 MHz and preamble is punctured, the mapping of the EHT-SIG content channels to 20 MHz subchannels shall be the same as for a 320 MHz PPDU (see Figure 36-41), with the exception that punctured 20 MHz subchannels shall be excluded.

EHT-SIG in an EHT SU transmission or EHT sounding NDP has a single EHT-SIG content channel regardless of the PPDU bandwidth, which is duplicated on every 20 MHz subchannel as shown in Figure 36-42 to Figure 36-46.

![](3c9c2558d867c83a3765b40faadc5963_img.jpg)

| Common field                                                       |  | User Specific field                                                                   |  |
|--------------------------------------------------------------------|--|---------------------------------------------------------------------------------------|--|
| U-SIG Overflow and Number of Non-OFDMA Users subfield (if present) |  | One User field for an EHT SU transmission<br>Zero User fields for an EHT sounding NDP |  |
|                                                                    |  | EHT-SIG content channel 1                                                             |  |

Figure 36-42—EHT-SIG content channel for a 20 MHz EHT SU transmission or EHT sounding NDP

![](1cd9d7f93f95255c2f3ade97a3a2fe40_img.jpg)

| Common field                                                       |  | User Specific field                                                                   |  |
|--------------------------------------------------------------------|--|---------------------------------------------------------------------------------------|--|
| U-SIG Overflow and Number of Non-OFDMA Users subfield (if present) |  | One User field for an EHT SU transmission<br>Zero User fields for an EHT sounding NDP |  |
|                                                                    |  | EHT-SIG content channel 1                                                             |  |
| U-SIG Overflow and Number of Non-OFDMA Users subfield (if present) |  | One User field for an EHT SU transmission<br>Zero User fields for an EHT sounding NDP |  |
|                                                                    |  | EHT-SIG content channel 1                                                             |  |

Figure 36-43—EHT-SIG content channel for a 40 MHz EHT SU transmission or EHT sounding NDP

![](4404da7dea53df35cffe5c24015bd29e_img.jpg)

| Common field                                                       |  | User Specific field                                                                   |  |
|--------------------------------------------------------------------|--|---------------------------------------------------------------------------------------|--|
| U-SIG Overflow and Number of Non-OFDMA Users subfield (if present) |  | One User field for an EHT SU transmission<br>Zero User fields for an EHT sounding NDP |  |
|                                                                    |  | EHT-SIG content channel 1                                                             |  |
| U-SIG Overflow and Number of Non-OFDMA Users subfield (if present) |  | One User field for an EHT SU transmission<br>Zero User fields for an EHT sounding NDP |  |
|                                                                    |  | EHT-SIG content channel 1                                                             |  |
| U-SIG Overflow and Number of Non-OFDMA Users subfield (if present) |  | One User field for an EHT SU transmission<br>Zero User fields for an EHT sounding NDP |  |
|                                                                    |  | EHT-SIG content channel 1                                                             |  |
| U-SIG Overflow and Number of Non-OFDMA Users subfield (if present) |  | One User field for an EHT SU transmission<br>Zero User fields for an EHT sounding NDP |  |
|                                                                    |  | EHT-SIG content channel 1                                                             |  |

Figure 36-44—EHT-SIG content channel for an 80 MHz EHT SU transmission or EHT sounding NDP

![](1029bb72e41250a951f9b5def7f02d95_img.jpg)

Diagram illustrating the EHT-SIG content channel structure for a 160 MHz EHT SU transmission or EHT sounding NDP.

The diagram shows a vertical axis labeled "Down to high subcarrier index" and "80MHz frequency subblock 1". The horizontal axis is divided into "Common field" and "User specific field".

The structure is repeated 8 times, corresponding to 8 subcarriers. Each repetition consists of a DLP (Downlink Physical Layer) field followed by the EHT-SIG content channel.

**DLP Field:** U-SIG Overflow and Number of Non-OFDMA Users subfield (if present).

**EHT-SIG content channel 1:**

- One User field for an EHT SU transmission
- Zero User fields for an EHT sounding NDP

Figure 36-45—EHT-SIG content channel for a 160 MHz EHT SU transmission or EHT sounding NDP

IEEE Std 802.11be-2024  
IEEE Standard for Information Technology—Local and Metropolitan Area Networks—Specific Requirements  
Part 11: Wireless LAN MAC and PHY Specifications  
Amendment 2: Enhancements for Extremely High Throughput (EHT)

![](2c703cd906c99c7dc06fe6ad68093947_img.jpg)

Diagram illustrating the EHT-SIG content channel structure for a 320 MHz EHT SU transmission or EHT sounding NDP. The diagram shows 10 repetitions of the EHT-SIG content channel 1, spanning 80 MHz frequency subbands 1 through 80 MHz frequency subband 10. Each repetition consists of a Common field and a User specific field.

**Common field:** U-SIG Overflow and Number of Non-OFDMA Users subfield (if present).

**User specific field:**

- One User field for an EHT SU transmission
- Zero User fields for an EHT sounding NDP

The diagram also labels the DLP (Data Link Protocol) and DUP (Duplication) fields.

Figure 36-46—EHT-SIG content channel for a 320 MHz EHT SU transmission or EHT sounding NDP

### 36.3.12.9 EHT-STF

The main purpose of the EHT-STF field is to improve automatic gain control estimation in a MIMO transmission. The EHT-STF field is positioned immediately after the EHT-SIG field for EHT MU PPDU. The EHT-STF field is positioned immediately after the U-SIG field for EHT TB PPDU. The duration of the EHT-STF field for EHT MU PPDU is  $T_{\text{EHT-STF-NT}}$  (periodicity of 0.8  $\mu$ s with 5 periods as given in

Table 36-18) and the duration of the EHT-STF field for EHT TB PPDU is  $T_{\text{EHT-STF-T}}$  (periodicity of 1.6  $\mu\text{s}$  with 5 periods as given in Table 36-18).

For a 20 MHz transmission, the frequency domain sequence for EHT MU PPDU is given by Equation (36-25).

$$EHTS_{-112:16:112} = HES_{-112:16:112} \quad (36-25)$$

where  $EHTS_{a,b,c}$  means coefficients of the EHT-STF on every  $b$  subcarrier indices from  $a$  to  $c$  subcarrier indices and coefficients on other subcarrier indices are set to zero and  $HES_{-112:16:112}$  is defined in Equation (27-23).

For a 40 MHz transmission, the frequency domain sequence for EHT MU PPDU is given by Equation (36-26).

$$EHTS_{-240:16:240} = HES_{-240:16:240} \quad (36-26)$$

where  $HES_{-240:16:240}$  is defined in Equation (27-24).

For an 80 MHz transmission, the frequency domain sequence for EHT MU PPDU is given by Equation (36-27).

$$EHTS_{-496:16:496} = HES_{-496:16:496} \quad (36-27)$$

where  $HES_{-496:16:496}$  is defined in Equation (27-25).

For a 160 MHz transmission, the frequency domain sequence for EHT MU PPDU is given by Equation (36-28).

$$EHTS_{-1008:16:1008} = HES_{-1008:16:1008} \quad (36-28)$$

where  $HES_{-1008:16:1008}$  is defined in Equation (27-26).

For a 320 MHz transmission, the frequency domain sequence for EHT MU PPDU is given by Equation (36-29).

$$EHTS_{-2032:16:2032} = \{ M, 1, -M, 0, -M, 1, -M, 0, M, 1, -M, 0, -M, 1, -M, 0, \\ -M, -1, M, 0, M, -1, M, 0, -M, -1, M, 0, M, -1, M \} \times (1+j)/(\sqrt{2}) \quad (36-29)$$

where  $M$  is defined by Equation (27-22).

For a 20 MHz transmission, the frequency domain sequence for EHT TB PPDU is given by Equation (36-30).

$$EHTS_{-120:8:120} = HES_{-120:8:120} \quad (36-30)$$

where  $HES_{-120:8:120}$  is defined in Equation (27-28).

For a 40 MHz transmission, the frequency domain sequence for EHT TB PPDU is given by Equation (36-31).

$$EHTS_{-248:8:248} = HES_{-248:8:248} \quad (36-31)$$

where  $HES_{-248:8:248}$  is defined in Equation (27-30).

For an 80 MHz transmission, the frequency domain sequence for EHT TB PPDU is given by Equation (36-32).

$$EHTS_{-504:8:504} = HES_{-504:8:504} \quad (36-32)$$

where  $HES_{-504:8:504}$  is defined in Equation (27-32).

For a 160 MHz transmission, the frequency domain sequence for EHT TB PPDU is given by Equation (36-33).

$$EHTS_{-1016:8:1016} = HES_{-1016:8:1016} \quad (36-33)$$

where  $HES_{-1016:8:1016}$  is defined in Equation (27-34).

For a 320 MHz transmission, the frequency domain sequence for EHT TB PPDU is given by Equation (36-34).

$$\begin{aligned} EHTS_{-2040:8:2040} &= \{M, -1, M, -1, -M, -1, M, 0, -M, 1, M, 1, -M, 1, -M, 0, M, -1, M, -1, -M, -1, \\ & \quad M, 0, -M, 1, M, 1, -M, 1, -M, 0, -M, 1, M, 1, -M, 0, M, -1, -M, -1, \\ & \quad M, -1, M, 0, -M, 1, -M, 1, M, 1, -M, 0, M, -1, -M, -1, M, -1, M\} \times (1+j)/(\sqrt{2}) \end{aligned} \quad (36-34)$$

where  $M$  is defined by Equation (27-22).

The values of the EHT-STF sequence at indices  $\pm 8$ ,  $\pm 1016$ ,  $\pm 1032$ , and  $\pm 2040$  are  $EHTS_{\pm 8} = EHTS_{\pm 1016} = EHTS_{\pm 1032} = EHTS_{\pm 2040} = 0$ .

The coefficients in Equation (36-25) to Equation (36-34) are set to zero if those values are corresponding to subcarrier indices that are not modulated in the Data field, such as subcarriers falling within RUs that have no users assigned to them in OFDMA or subcarriers that are punctured.

The time domain representation of the signal for EHT MU PPDU on transmit chain  $i_{TX}$  shall be as specified in Equation (36-35).

$$r_{\text{EHT-STF}}^{(i_{TX})}(t) \quad (36-35)$$

$$= w_{\text{EHT-STF-NT}}(t) \sum_{r=0}^{N_{\text{RU}}-1} \frac{\alpha_r \beta_r}{\sqrt{N_{\text{SS}, r, \text{total}}}} \\ \sum_{k \in K_r} \sum_{u=0}^{N_{\text{user}, r}-1} \sum_{m=1}^{N_{\text{SS}, r, u}} \left( \left[ Q_{k, u} \right]_{i_{TX}, m} EHTS_k \cdot \exp(j2\pi k \Delta_{F, \text{EHT}}(t - T_{\text{CS, EHT}}(M_{r, u} + m))) \right)$$

where

$\alpha_r$  is defined in 36.3.11.4.

$\beta_r$  is the per-RU power normalization factor and defined by  $\beta_r = \frac{\left( \sum_{r=0}^{N_{\text{RU}}-1} \alpha_r^2 |K_r| \right)}{\left( \sum_{r=0}^{N_{\text{RU}}-1} \alpha_r^2 |K_r| \right)}$ .

$|K_r|$  is the cardinality of the set of subcarriers  $K_r$  as defined in 36.3.11.

$K_r^{\text{EHT-STF}}$  is the set of subcarriers that have nonzero values within  $K_r$  in the EHT-STF field.

$T_{\text{CS, EHT}}(M_{r, u} + m)$  represents the cyclic shift for spatial stream  $M_{r, u} + m$  as defined in 36.3.12.2.2.

$Q_{k, u}$  is defined in 36.3.11.4.

$w_{\text{EHT-STF-NT}}$  is the windowing function for EHT-STF field in the EHT MU PPDU.

$|K_r^{\text{EHT-STF}}|$  is the cardinality of the set of subcarriers  $K_r^{\text{EHT-STF}}$ .

$N_{\text{RU}s}$ ,  $N_{\text{SS}, r, \text{total}}$ ,  $N_{\text{user}, r}$ , and  $N_{\text{SS}, r, u}$  are defined in Table 36-23.

The time domain representation of the signal for an EHT TB PPDU transmitted by user  $u$  in the  $r$ -th RU on transmit chain  $i_{TX}$  shall be as specified in Equation (36-36).

$$r_{\text{EHT-STF}, r, u}^{(i_{TX})}(t) = \frac{1}{\sqrt{|K_r^{\text{EHT-STF}}| N_{\text{SS}, r, u}}} w_{\text{EHT-STF-T}}(t) \quad (36-36)$$

$$\sum_{k \in K_r} \sum_{m=1}^{N_{\text{SS}, r, u}} \left( \left[ Q_{k, u} \right]_{i_{TX}, m} EHTS_k \cdot \exp(j2\pi k \Delta_{F, \text{EHT}}(t - T_{\text{CS, EHT}}(M_{r, u} + m))) \right)$$

where

$w_{\text{EHT-STF-T}}$  is the windowing function for EHT-STF field in the EHT TB PPDU.

$Q_{k, u}$  is defined in 36.3.11.4.

Other variables in Equation (36-35) and Equation (36-36) are defined in 36.3.10 and 36.3.11.

It is recommended that the spatial mapping matrix applied to EHT-STF and beyond is chosen such that it preserves the smoothness of the physical channel, achieved by limiting the variation of each element's real and imaginary values in the spatial mapping matrix across successive tones within one RU.

### 36.3.12.10 EHT-LTF

The EHT-LTF field provides a means for the receiver to estimate the MIMO channel between the set of constellation mapper outputs and the receive chains. In an EHT MU PPDU, the transmitter provides training for  $N_{SS,r,total}$  spatial streams used for the transmission of the PSDU(s) in the  $r$ -th RU or MRU. In an EHT TB PPDU, the transmitter of user  $u$  in the  $r$ -th RU or MRU provides training for  $N_{SS,r,u}$  spatial streams used for the transmission of the PSDU. For each subcarrier in the  $r$ -th RU or MRU, the MIMO channel that can be estimated is an  $N_{RX} \times N_{SS,r,total}$  matrix. An EHT transmission has a preamble that contains EHT-LTF symbols, where the data tones of each EHT-LTF symbol are multiplied by entries belonging to a matrix  $P_{EHT-LTF}$ , to enable channel estimation at the receiver. When single stream pilots are used in  $2 \times$  or  $4 \times$  EHT-LTF, the pilot subcarriers of each EHT-LTF symbol are multiplied by the entries of a matrix  $R_{EHT-LTF}$  to allow receivers to track phase and/or frequency offset during MIMO channel estimation using the EHT-LTF. Single stream pilots shall be used for all spatial multiplexing modes (both UL and DL) defined in EHT except when  $1 \times$  EHT-LTF is used.  $P_{EHT-LTF}$  is defined such that each modulated spatial stream in an RU or MRU is active on all subcarriers in that RU or MRU for which the EHT-LTF sequence takes a nonzero value.

In an EHT MU PPDU,  $N_{EHT-LTF}$  is indicated in the EHT-SIG field. In a non-OFDMA EHT MU PPDU or EHT sounding NDP, the initial number of EHT-LTF symbols, initial  $N_{EHT-LTF}$ , is a function of the total number of spatial streams  $N_{SS}$  as shown in Table 36-43.

Table 36-43—Initial number of EHT-LTFs required for different number of spatial streams

| $N_{SS}$ | Initial $N_{EHT-LTF}$ |
|----------|-----------------------|
| 1        | 1                     |
| 2        | 2                     |
| 3–4      | 4                     |
| 5–6      | 6                     |
| 7–8      | 8                     |

In order to improve the MIMO channel estimation for the reception of non-OFDMA EHT MU PPDU or EHT sounding NDP, the number of EHT-LTFs may be larger than the initial number of EHT-LTFs determined by the total number of spatial streams. If additional EHT-LTFs are used, then the total number of EHT-LTFs (which is signaled separately from  $N_{SS}$ ) shall be no more than twice the initial number of EHT-LTFs determined by the number of spatial streams as shown in Table 36-43, and chosen from the set  $\{2, 4, 8\}$ . Supporting additional EHT-LTFs is optional for the receiver, which is indicated by the Maximum Number Of Supported EHT-LTFs subfield of the EHT PHY Capabilities Information field.

The maximum number of supported EHT-LTFs shall be no less than the value indicated in Table 36-43 based on the maximum number of supported spatial streams, which is the highest  $N_{SS}$  value indicated by the STA in Beamformee SS subfield and Supported EHT-MCS And NSS Set field over all supported bandwidths and EHT-MCSs in the EHT Capabilities element.

In an OFDMA EHT MU PPDU,  $N_{EHT-LTF}$  may take a value that is greater than or equal to the maximum value of the initial number of EHT-LTF symbols for each RU or MRU, where the initial number of EHT-LTF symbols is calculated as a function of  $N_{SS,r,total}$  (where  $r$  is the index of the RU or MRU) based on Table 36-43.

In an EHT TB PPDU,  $N_{\text{EHT-LTF}}$  is indicated in the Trigger frame that triggers the transmission of the PPDU. For an EHT TB PPDU,  $N_{\text{EHT-LTF}}$  may be greater than or equal to the maximum value of the initial number of EHT-LTF symbols for each RU or MRU  $r$ , which is calculated as a function of  $N_{\text{SS}, r, \text{total}}$ , separately based on Table 36-43.

An EHT PPDU supports three EHT-LTF types: 1× EHT-LTF, 2× EHT-LTF, and 4× EHT-LTF. Table 36-44 defines whether a particular EHT-LTF type and GI duration combination is mandatory, optional, or not supported for each EHT PPDU format.

Table 36-44—EHT-LTF type and GI duration combinations for various EHT PPDU formats

| EHT-LTF type and GI duration combination | EHT MU PPDU | EHT sounding NDP | EHT TB PPDU  |
|------------------------------------------|-------------|------------------|--------------|
| 1× EHT-LTF and 1.6 µs GI                 | N/A         | N/A              | M (See NOTE) |
| 2× EHT-LTF and 0.8 µs GI                 | M           | M                | N/A          |
| 2× EHT-LTF and 1.6 µs GI                 | M           | M                | M            |
| 4× EHT-LTF and 0.8 µs GI                 | O           | N/A              | N/A          |
| 4× EHT-LTF and 3.2 µs GI                 | M           | O                | M            |

M = Mandatory  
O = Optional  
N/A = Not supported by the PPDU format

NOTE—1× EHT-LTF and 1.6 µs GI are only allowed for UL non-OFDMA transmission for two or more users.

If a STA does not support transmission or reception of a particular PPDU format, then the M/O designation is not applicable for the transmission or reception, respectively, of that PPDU format.

In an EHT MU PPDU, the combination of EHT-LTF type and GI duration is indicated in EHT-SIG field. In an EHT TB PPDU, the combination of EHT-LTF type and GI duration is indicated in the Trigger frame that triggers the transmission of the PPDU. If an EHT PPDU is an EHT sounding NDP, the combinations of EHT-LTF types and GI durations are listed in 36.3.18.

$T_{\text{EHT-LTF}}$ , described in Table 36-18, is given by Equation (36-37).

$$T_{\text{EHT-LTF}} = \begin{cases} T_{\text{EHT-LTF-1X}} & \text{if } 1 \times \text{EHT-LTF} \\ T_{\text{EHT-LTF-2X}} & \text{if } 2 \times \text{EHT-LTF} \\ T_{\text{EHT-LTF-4X}} & \text{if } 4 \times \text{EHT-LTF} \end{cases} \quad (36-37)$$

where  $T_{\text{EHT-LTF-1X}}$ ,  $T_{\text{EHT-LTF-2X}}$ , and  $T_{\text{EHT-LTF-4X}}$  are defined in Table 36-18.

In a 20 MHz transmission, the 1× EHT-LTF sequence transmitted on subcarriers [-122: 122] is given by Equation (27-41) with  $\text{HELT}_{-122, 122}$  replaced by  $\text{EHTLT}_{-122, 122}$ .

In a 20 MHz transmission, the 2× EHT-LTF sequence transmitted on subcarriers [-122: 122] is given by Equation (27-42) with  $\text{HELT}_{-122, 122}$  replaced by  $\text{EHTLT}_{-122, 122}$ .

In a 20 MHz transmission, the  $4 \times$  EHT-LTF sequence transmitted on subcarriers  $[-122: 122]$  is given by Equation (27-43) with  $HELTF_{-122, 122}$  replaced by  $EHTLTF_{-122, 122}$ .

In a 40 MHz transmission, the  $1 \times$  EHT-LTF sequence transmitted on subcarriers  $[-244: 244]$  is given by Equation (27-44) with  $HELTF_{-244, 244}$  replaced by  $EHTLTF_{-244, 244}$ .

In a 40 MHz transmission, the  $2 \times$  EHT-LTF sequence transmitted on subcarriers  $[-244: 244]$  is given by Equation (27-45) with  $HELTF_{-244, 244}$  replaced by  $EHTLTF_{-244, 244}$ .

In a 40 MHz transmission, the  $4 \times$  EHT-LTF sequence transmitted on subcarriers  $[-244: 244]$  is given by Equation (27-46) with  $HELTF_{-244, 244}$  replaced by  $EHTLTF_{-244, 244}$ .

In an 80 MHz transmission, the  $1 \times$  EHT-LTF sequence transmitted on subcarriers  $[-500: 500]$  is given by Equation (27-47) with  $HELTF_{-500, 500}$  replaced by  $EHTLTF_{-500, 500}$ .

In an 80 MHz transmission, the  $2 \times$  EHT-LTF sequence transmitted on subcarriers  $[-500: 500]$  is given by Equation (27-48) with  $HELTF_{-500, 500}$  replaced by  $EHTLTF_{-500, 500}$ .

In an 80 MHz transmission, the  $4 \times$  EHT-LTF sequence transmitted on subcarriers  $[-500: 500]$  is given by Equation (27-49) with  $HELTF_{-500, 500}$  replaced by  $EHTLTF_{-500, 500}$ .

In a 160 MHz transmission, the  $1 \times$  EHT-LTF sequence transmitted on subcarriers  $[-1012: 1012]$  is given by Equation (27-50) with  $HELTF_{-1012, 1012}$  replaced by  $EHTLTF_{-1012, 1012}$ .

In a 160 MHz transmission, the  $2 \times$  EHT-LTF sequence transmitted on subcarriers  $[-1012: 1012]$  is given by Equation (27-51) with  $HELTF_{-1012, 1012}$  replaced by  $EHTLTF_{-1012, 1012}$ .

In a 160 MHz transmission, the  $4 \times$  EHT-LTF sequence transmitted on subcarriers  $[-1012: 1012]$  is given by Equation (27-52) with  $HELTF_{-1012, 1012}$  replaced by  $EHTLTF_{-1012, 1012}$ .

In a 320 MHz transmission using a  $1 \times$  EHT-LTF, the  $1 \times$  EHT-LTF sequence is given by Equation (36-38).

$$EHTLTF_{-2036, 2036} = \{LTF_{80MHz\_1st\_1x} 0_{23}, LTF_{80MHz\_2nd\_1x} 0_{23}, LTF_{80MHz\_3rd\_1x} 0_{23}, LTF_{80MHz\_4th\_1x}\} \quad (36-38)$$

where

$0_{23}$  means 23 consecutive 0s.

$$LTF_{80MHz\_1st\_1x} = \{LTF_{80MHz\_left\_1x} 0, LTF_{80MHz\_right\_1x}\}$$

$$LTF_{80MHz\_2nd\_1x} = \{LTF_{80MHz\_left\_1x} 0, LTF_{80MHz\_right\_1x}\}$$

$$LTF_{80MHz\_3rd\_1x} = \{-LTF_{80MHz\_left\_1x} 0, -LTF_{80MHz\_right\_1x}\}$$

$$LTF_{80MHz\_4th\_1x} = \{-LTF_{80MHz\_left\_1x} 0, -LTF_{80MHz\_right\_1x}\}$$

$LTF_{80MHz\_left\_1x}$  and  $LTF_{80MHz\_right\_1x}$  are defined in 27.3.11.10 (HE-LTF field).

In a 320 MHz transmission using a  $2 \times$  EHT-LTF, the  $2 \times$  EHT-LTF sequence is given by Equation (36-39).

$$EHTLTF_{-2036, 2036} = \{LTF_{80MHz\_2x}(1:245), LTF_{80MHz\_2x}(246:500), 0, LTF_{80MHz\_2x}(502:756), LTF_{80MHz\_2x}(757:1001), 0_{23}, LTF_{80MHz\_2x}(1:245), -LTF_{80MHz\_2x}(246:500), 0, LTF_{80MHz\_2x}(502:756), -LTF_{80MHz\_2x}(757:1001), 0_{23}, LTF_{80MHz\_2x}(1:245), -LTF_{80MHz\_2x}(246:500), 0, -LTF_{80MHz\_2x}(502:756), LTF_{80MHz\_2x}(757:1001), 0_{23}, LTF_{80MHz\_2x}(1:245), LTF_{80MHz\_2x}(246:500), 0, -LTF_{80MHz\_2x}(502:756), -LTF_{80MHz\_2x}(757:1001)\} \quad (36-39)$$

where

IEEE Standard for Information Technology—Local and Metropolitan Area Networks—Specific Requirements
Part 11: Wireless LAN MAC and PHY Specifications

Amendment 2: Enhancements for Extremely High Throughput (EHT)

```
LTF_{\text{80MHz 2x}} = \{+1, 0, +1, 0, +1, 0, -1, 0, -1, 0, -1, 0, +1, 0, -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, -1, 0, +1, 0, -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, 
                                                                                                                                                                                 +1, 0, +1, 0, -1, 0, -1, 0, +1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, +1, 0, -1, 0, +1, 0, -1, 0, +1, 0,
                                                                                                                                                                              +1, 0, -1, 0, -1, 0, +1, 0, -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, -1, 0, +1, 0, -1, 0, -1, 0, -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, 
                                                                                                                                                                              +1, 0, -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, -1, 0, +1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, 
                                                                                                                                                                                 +1, 0, -1, 0, +1, 0, +1, 0, -1, 0, -1, 0, +1, 0, +1, 0, +1, 0, -1, 0, -1, 0, +1, 0, +1, 0, -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, 
                                                                                                                                                                              -1, 0, -1, 0, -1, 0, -1, 0, +1, 0, -1, 0, +1, 0, -1, 0, -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, 
                                                                                                                                                                              +1, 0, +1, 0, -1, 0, +1, 0, -1, 0, -1, 0, +1, 0, +1, 0, -1, 0, -1, 0, +1, 0, -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, 
                                                                                                                                                                                 +1, 0, -1, 0, +1, 0, -1, 0, -1, 0, -1, 0, +1, 0, +1, 0, -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, -1, 0,
                                                                                                                                                                              +1, 0, -1, 0, -1, 0, -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, -1, 0, -1, 0, +1, 0, -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, 
                                                                                                                                                                              +1, 0, -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, +1, 0,
                                                                                                                                                                              -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, -1, 0, -1, 0, +1, 0, -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, 
                                                                                                                                                                              -1, 0, -1, 0, -1, 0, +1, 0, +1, 0, -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, -1, 0, +1, 0, -1, 0, +1, 0, -1, 0, +1, 0, -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, 
                                                                                                                                                                              +1,\,0,\,+1,\,0,\,-1,\,0,\,+1,\,0,\,-1,\,0,\,+1,\,0,\,+1,\,0,\,-1,\,0,\,-1,\,0,\,+1,\,0,\,-1,\,0,\,+1,\,0,\,+1,\,0,\,+1,\,0,
                                                                                                                                                                              -1, 0, -1, 0, +1, 0, -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, 
                                                                                                                                                                                 +1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, +1, 0, -1, 0, +1, 0, -1, 0, -1, 0, -1, 0, +1, 0, +1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, 
                                                                                                                                                                              +1, 0, -1, 0, -1, 0, -1, 0, -1, 0, +1, 0, -1, 0, +1, 0, +1, 0, +1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, 
                                                                                                                                                                              -1, 0, -1, 0, -1, 0, +1, 0, -1, 0, +1, 0, +1, 0, -1, 0, -1, 0, +1, 0, 0, 0, 0, 0, 0, 0, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, 
                                                                                                                                                                              0, -1, 0, -1, 0, -1, 0, -1, 0, +1, 0, +1, 0, -1, 0, +1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, +1, 0, -1, 0, +1, 0, -1, 0, +1, 0, -1, 0, +1, 0, -1, 0, +1, 0, -1, 0, +1, 0, -1, 0, +1, 0, -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 
                                                                                                                                                                              0, -1, 0, -1, 0, +1, 0, +1, 0, -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, -1, 0, +1, 0, -1, 0, +1, 0, -1, 0, +1, 0, -1, 0, +1, 0, -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 
                                                                                                                                                                              0, -1, 0, +1, 0, +1, 0, -1, 0, +1, 0, -1, 0, -1, 0, -1, 0, -1, 0, +1, 0, -1, 0, +1, 0, +1, 0, +1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 
                                                                                                                                                                                 0, -1, 0, +1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, +1, 0, -1, 0, +1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 
                                                                                                                                                                              0, +1, 0, -1, 0, +1, 0, +1, 0, -1, 0, -1, 0, +1, 0, +1, 0, -1, 0, -1, 0, -1, 0, +1, 0, +1, 0, -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 
                                                                                                                                                                              0, -1, 0, -1, 0, -1, 0, -1, 0, +1, 0, -1, 0, +1, 0, -1, 0, -1, 0, +1, 0, +1, 0, -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 
                                                                                                                                                                              0, +1, 0, +1, 0, -1, 0, +1, 0, -1, 0, -1, 0, +1, 0, +1, 0, -1, 0, -1, 0, +1, 0, -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 
                                                                                                                                                                              0, +1, 0, -1, 0, +1, 0, -1, 0, -1, 0, -1, 0, +1, 0, +1, 0, -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, -1,
                                                                                                                                                                                 0, +1, 0, -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, -1, 0, -1, 0, +1, 0, -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 
                                                                                                                                                                                 0, +1, 0, -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, +1,
                                                                                                                                                                                 0, -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, -1, 0, -1, 0, +1, 0, -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, -1, 0, +1,
                                                                                                                                                                              0, -1, 0, -1, 0, -1, 0, +1, 0, +1, 0, -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, -1, 0, +1, 0, -1, 0, +1, 0, -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 
                                                                                                                                                                              0, +1, 0, -1, 0, -1, 0, +1, 0, +1, 0, +1, 0, -1, 0, -1, 0, -1, 0, +1, 0, -1, 0, +1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 0, -1, 
                                                                                                                                                                              0, +1, 0, +1, 0, -1, 0, +1, 0, -1, 0, -1, 0, -1, 0, -1, 0, +1, 0, -1, 0, -1, 0, -1, 0, -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 
                                                                                                                                                                              0, -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, -1, 0, -1, 0, +1,
                                                                                                                                                                              0, -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, -1, 0, +1, 0, -1, 0, -1, 0, -1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 0, +1, 
                                                                                                                                                                                 0, +1, 0, +1, 0, +1, 0, -1, 0, +1, 0, +1.
```

$0_{23}$  means 23 consecutive 0s.

In a 320 MHz transmission using a 4× EHT-LTF, the 4× EHT-LTF sequence is given by Equation (36-40).

```
EHTLTF_{-2036,\,2036} = \\ \{LTF_{80\text{MHz\_sublock\_left\_4x}},\, 0_5, LTF_{80\text{MHz\_subblock\_right\_4x}},\, 0_{23},\\ LTF_{80\text{MHz\_subblock\_left\_4x}},\, 0_5, -LTF_{80\text{MHz\_subblock\_right\_4x}},\, 0_{23},\\ -LTF_{80\text{MHz\_subblock\_left\_4x}},\, 0_5, -LTF_{80\text{MHz\_subblock\_right\_4x}},\, 0_{23},\\ -LTF_{80\text{MHz\_subblock\_left\_4x}},\, 0_5, LTF_{80\text{MHz\_subblock\_right\_4x}}\}
```

where

```
LTF_{80\text{MHz\_subblock\_left\_4x}} = \{+1, -1, -1, -1, +1, -1, -1, +1, -1, -1, -1, +1, +1, -1, -1, -1, +1, -1, -1, +1, -1, -1, +1, -1, -1, +1, -1, -1, +1, -1, -1, -1, +1, -1, -1, -1, +1, -1, -1, -1, +1, -1, -1, -1, -1, +1, -1, -1, -1, +1, -1, -1, -1, +1, -1, -1, +1, -1, -1, +1, -1, -1, +1, -1, -1, +1, -1, -1, +1, -1, -1, -1, +1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -
```

IEEE Standard for Information Technology—Local and Metropolitan Area Networks—Specific Requirements Part 11: Wireless LAN MAC and PHY Specifications

Amendment 2: Enhancements for Extremely High Throughput (EHT)

```
–1, +1, +1, –1, –1, –1, –1, +1, +1, +1, +1, +1, –1, +1, +1, +1, +1, +1, –1, +1, –1, +1, –1, –1, +1,
–1, –1, –1, –1, –1, +1, –1, –1, –1, +1, +1, –1, +1, –1, +1, –1, –1, –1, –1, –1, +1, +1, +1, +1, –1,
+1, –1, –1, +1, +1, –1, –1, –1, +1, +1, +1, +1, +1, –1, +1, –1, +1, –1, –1, +1, +1, +1, –1, +1, +1,
+1, +1, +1, –1, +1, +1, –1, +1, –1, +1, –1, –1, –1, –1, –1, +1, –1, –1, –1, –1, –1, +1, +1, +1, +1,
–1, –1, +1, +1, –1, –1, +1, –1, –1, +1, –1, –1, –1, +1, +1, –1, –1, +1, –1, –1, –1, –1, –1, +1, +1,
–1, +1, –1, +1, +1, –1, +1, –1, –1, –1, –1, –1, –1, +1, –1, –1, –1, –1, +1, +1, +1, –1, +1, +1, –1,
–1, +1, –1, –1, –1, +1, +1, +1, –1, +1, –1, +1, –1, –1, –1, +1, –1, +1, –1, +1, –1, –1, –1, +1, –1,
–1, +1, –1, +1, +1, –1, –1, –1, +1, +1, –1, –1, –1, –1, +1, –1, +1, +1, –1, +1, –1, +1, +1, +1, +1,
+1, +1, –1, –1, +1, –1, –1, –1, +1, –1, +1, –1, –1, –1, +1, +1, +1, +1, +1, +1, –1, +1, –1, +1, +1,
+1, –1, +1, –1, +1, +1, –1, +1, –1, –1, +1, +1, –1, –1, +1, +1, +1, –1, –1, –1, +1, –1, –1, +1, +1,
–1, –1, –1, +1, –1, +1, –1, –1, +1, +1, +1, +1, +1, –1, –1, –1, –1, +1, –1, +1, –1, +1, +1, +1, –1,
+1, –1, –1, +1, –1, –1, –1, +1, +1, –1, –1, –1, +1, –1, –1, +1, –1, –1, –1, –1, +1, –1, +1, +1, –1,
–1, –1, +1, –1, –1}.
```

= {–1, –1, +1, –1, +1, +1, +1, +1, +1, +1, –1, –1, –1, –1, +1, –1, –1, +1, –1, –1, –1, +1, +1, –1, –1, –1, +1, –1, –1, +1, –1, +1, +1, +1, –1, +1, –1, +1, –1, –1, –1, –1, +1, +1, +1, +1, +1, –1, –1, +1, –1, +1, –1, –1, –1, +1, +1, –1, –1, +1, –1, –1, –1, +1, +1, +1, –1, –1, +1, +1, –1, –1, +1, –1, +1, +1, –1, +1, –1, +1, +1, +1, –1, +1, –1, +1, +1, +1, +1, +1, +1, –1, –1, –1, +1, –1, +1, –1, –1, –1, +1, –1, –1, +1, +1, +1, +1, +1, +1, –1, +1, –1, +1, +1, –1, +1, –1, –1, –1, –1, +1, +1, –1, –1, –1, +1, +1, –1, +1, –1, –1, +1, –1, –1, –1, +1, –1, +1, –1, +1, –1, –1, –1, +1, –1, +1, –1, +1, +1, +1, –1, –1, –1, +1, –1, –1, +1, +1, –1, +1, +1, +1, –1, –1, –1, –1, +1, –1, –1, –1, –1, –1, –1, +1, –1, +1, +1, –1, +1, –1, +1, +1, –1, –1, –1, –1, –1, +1, –1, –1, +1, +1, –1, –1, –1, +1, –1, –1, +1, –1, –1, +1, +1, –1, –1, +1, +1, +1, +1, –1, –1, –1, –1, –1, +1, –1, –1, –1, –1, –1, +1, –1, +1, –1, +1, +1, –1, +1, +1, +1, +1, +1, –1, +1, +1, +1, –1, –1, +1, –1, +1, –1, +1, +1, +1, +1, +1, –1, –1, –1, +1, +1, –1, –1, –1, –1, –1, –1, –1, –1, +1, +1, +1, +1, +1, –1, +1, –1, +1, –1, –1, +1, +1, +1, –1, +1, +1, +1, +1, +1, –1, +1, +1, –1, +1, –1, +1, –1, –1, –1, –1, –1, +1, –1, –1, –1, –1, –1, +1, +1, +1, +1, –1, –1, +1, +1, –1, –1, +1, –1, –1, +1, –1, –1, –1, +1, +1, –1, –1, +1, –1, –1, –1, –1, –1, +1, +1, –1, +1, –1, +1, +1, –1, +1, –1, –1, –1, –1, –1, –1, +1, –1, –1, –1, –1, +1, +1, +1, –1, +1, +1, –1, –1, +1, –1, –1, –1, +1, +1, +1, –1, +1, –1, –1, –1, +1, +1, –1, +1, +1, –1, +1, +1, +1, +1, +1, +1, +1, +1, –1, –1, –1, –1, +1, +1, –1, +1, –1, +1, –1, +1, –1, +1, –1, –1, +1, –1, +1, –1, –1, –1, –1, –1, –1, +1, +1, –1, +1, +1, +1, –1, +1, –1, +1, +1, +1, –1, –1, –1, –1, –1, –1, +1, –1, +1, –1, –1, –1, +1, –1, +1, –1, –1, +1, –1, +1, +1, –1, –1, +1, +1, –1, –1, –1, +1, +1, +1, –1, +1, +1, –1, –1, +1, +1, +1, –1, +1, –1, +1, +1, –1, –1, –1, –1, –1, +1, +1, +1, +1, –1, +1, –1, +1, –1, –1, –1, +1, –1, +1, +1, –1, +1, +1, +1, –1, –1, +1, +1, +1, –1, +1, +1, –1, +1, +1, +1, +1, –1}. *LTF*80MHz\_subblock\_right\_4x

- means 5 consecutive 0s. 05
- means 23 consecutive 0s. 023

For a non-OFDMA transmission when preamble puncturing is applied, a single large size MRU spans the nonpunctured portions of the PPDU bandwidth. In the puncturing case, the values of the EHT-LTF sequence [defined in Equation (27-41) to Equation (27-52) and [Equation \(36-38\)](#page-806-0) to [Equation \(36-40\)](#page-807-0)] are replaced by zero for subcarriers that fall outside the aforementioned single large size MRU. This is also applicable to an EHT sounding NDP with preamble puncturing. The mapping of the non-OFDMA puncturing pattern signaled in the U-SIG field to the corresponding large size MRU is defined in [Table 36-30.](#page-759-0)

For an OFDMA transmission, the values of the EHT-LTF sequence [defined in Equation (27-41)] to Equation (27-52) and [Equation](#page-806-0) (36-38) to [Equation \(36-40\)\)](#page-807-0) are replaced by zero, for all subcarriers that are unassigned or punctured as well as for DC tones or null subcarriers.

The generation of the time domain EHT-LTF symbols in Figure 36-47, where  $A_{\text{EHT-LTF}}^k$  is given by Equation (36-41).

![Block diagram illustrating the generation of EHT-LTF symbols. The input signal EHT-LTF is multiplied by a set of coefficients, resulting in a stream of symbols. These symbols are processed by a CSD (Cyclic Shift Demodulation) block, which outputs a stream of symbols. These symbols are then processed by an IDFT (Inverse Discrete Fourier Transform) block, which outputs the final EHT-LTF symbols. The diagram shows two parallel paths for the IDFT output, corresponding to different stream indices.](aaf497a2cc32b4377bd207d61f5ffded_img.jpg)

Block diagram illustrating the generation of EHT-LTF symbols. The input signal EHT-LTF is multiplied by a set of coefficients, resulting in a stream of symbols. These symbols are processed by a CSD (Cyclic Shift Demodulation) block, which outputs a stream of symbols. These symbols are then processed by an IDFT (Inverse Discrete Fourier Transform) block, which outputs the final EHT-LTF symbols. The diagram shows two parallel paths for the IDFT output, corresponding to different stream indices.

Figure 36-47—Generation of EHT-LTF symbols in an EHT MU PPDU and EHT TB PPDU

$$A_{\text{EHT-LTF}}^k = \begin{cases} R_{\text{EHT-LTF}}, & \text{if } k \in K_{\text{Pilot}} \text{ and EHT-LTF with single stream pilot is used} \\ P_{\text{EHT-LTF}}, & \text{otherwise} \end{cases} \quad (36-41)$$

where

$K_{\text{Pilot}}$  is the set of subcarrier indices for the pilot subcarriers as defined in 36.3.2.4.

$R_{\text{EHT-LTF}}$  is a  $N_{\text{EHT-LTF}} \times N_{\text{EHT-LTF}}$  matrix whose elements are defined in Equation (36-42).

$$[R_{\text{EHT-LTF}}]_{m, n} = [P_{\text{EHT-LTF}}]_{1, n} \quad 1 \le m, n \le N_{\text{EHT-LTF}} \quad (36-42)$$

$P_{\text{EHT-LTF}}$  is defined in Equation (36-43).

$$P_{\text{EHT-LTF}} = \begin{cases} P_{4 \times 4}, & N_{\text{EHT-LTF}} = 1, 2, 4 \\ P_{6 \times 6}, & N_{\text{EHT-LTF}} = 6 \\ P_{8 \times 8}, & N_{\text{EHT-LTF}} = 8 \end{cases} \quad (36-43)$$

where  $P_{4 \times 4}$ ,  $P_{6 \times 6}$ , and  $P_{8 \times 8}$  are defined in Equation (19-27), Equation (21-44), and Equation (21-45), respectively.

The generation of the time domain symbols of a  $1 \times$  EHT-LTF is equivalent to modulating every fourth subcarriers in an OFDM symbol of  $12.8 \mu\text{s}$  excluding GI, and then transmitting only the first quarter of the OFDM symbol in the time domain as shown in Figure 36-48.

![](f4d506d214522da12d5c249327cf010b_img.jpg)

Figure 36-48 illustrates the generation of  $1 \times$  EHT-LTF symbols. The process starts with "Modulate Every 4th Tone". This signal is processed by the  $A_{\text{EHT-LTF}}$  block, which outputs multiple streams labeled "CSD per SS". These streams are input to the "Spatial Mapping" block. The output of Spatial Mapping is processed by multiple parallel paths, each consisting of an IDFT, followed by "Truncate  $\frac{1}{2}$  of Time Symbol", then "Insert GI and Window", and finally "Analog and RF".

Figure 36-48—Generation of  $1 \times$  EHT-LTF symbols

There are no pilot subcarriers in the EHT-LTF field when  $1 \times$  EHT-LTF is used.

The generation of the time domain symbols of a  $2 \times$  EHT-LTF is equivalent to modulating every second subcarriers in an OFDM symbol of  $12.8 \mu\text{s}$  excluding GI, and then transmitting only the first half of the OFDM symbol in the time domain as shown in Figure 36-49.

![](b80df124dec3d404c313973a66fcdf9b_img.jpg)

Figure 36-49 illustrates the generation of  $2 \times$  EHT-LTF symbols. The process starts with "Modulate Every 2nd Tone". This signal is processed by the  $A_{\text{EHT-LTF}}$  block, which outputs multiple streams labeled "CSD per SS". These streams are input to the "Spatial Mapping" block. The output of Spatial Mapping is processed by multiple parallel paths, each consisting of an IDFT, followed by "Truncate  $\frac{1}{2}$  of Time Symbol", then "Insert GI and Window", and finally "Analog and RF".

Figure 36-49—Generation of  $2 \times$  EHT-LTF symbols

In an EHT MU PPDU, the time domain representation of the EHT-LTF waveform transmitted on the transmit chain  $i_{TX}$  shall be as described in Equation (36-44).

$$r_{\text{EHT-LTF}}^{(i_{TX})}(t) = \frac{1}{\sqrt{\sum_{r=0}^{N_{RU}-1} \alpha_r^2 |K_r|^2}} \sum_{n=0}^{N_{\text{EHT-LTF}}-1} w_{\text{EHT-LTF}}(t-nT_{\text{EHT-LTF}}) \sum_{r=0}^{N_{RU}-1} \frac{\alpha_r \sqrt{|K_r|}}{\sqrt{N_{\text{SS}, r, \text{total}}}} r_{\text{EHT-LTF}}^{(k, u, m)} \exp(j2\pi k \Delta_{F, \text{EHT}}(t-nT_{\text{EHT-LTF-SYM}} - T_{\text{GI, EHT-LTF}} - T_{\text{CS, EHT}}(M_{r, u} + m)))$$

$\sum_{k \in K_r} \sum_{u=0}^{N_{\text{user}, r}-1} \sum_{m=1}^{N_{\text{SS}, r, u}} (\{Q_{k, u}\}_{i_{TX, m}} A_{\text{EHT-LTF}}^k (M_{r, u} + m), (n+1) \text{EHT-LTF}_{k, u, m})$

In an EHT TB PPDU, the time domain representation of the EHT-LTF waveform of user  $u$  in the  $r$ -th RU or MRU transmitted on the transmit chain  $i_{TX}$  shall be as described in Equation (36-45).

$$r_{\text{EHT-LTF}, r, u}^{(i_{\text{EHT}})}(t) = \frac{1}{\sqrt{N_{\text{SS}, r, u}^{\text{EHT-LTF}}}} \sum_{n=0}^{N_{\text{EHT-LTF}} - 1} w_{\text{EHT-LTF}}(t - nT_{\text{EHT-LTF}}) \left( \sum_{k \in K_{r, u}} \sum_{m=1}^{M_{r, u}} \left( (Q_{k, u})_{i_{\text{EHT-LTF}}, m} A_{\text{EHT-LTF}}^{(k, u, m)} (t + n + 1) \right) \right) \exp(j(2\pi k \Delta_{\text{F, EHT}}(t - nT_{\text{EHT-LTF}} - T_{\text{GL, EHT-LTF}} - T_{\text{CS, EHT}}(M_{r, u} + m)))) \quad (36-45)$$

In Equation (36-44) and Equation (36-45), the following notations are used.

$N_{\text{sser}, r}$  is the number of EHT MU PPDU recipients (see Table 36-23) in RU or MRU  $r$ .

$\text{EHT-LTF}_{k, u, m}$  is the EHT-LTF sequence applied on subcarrier  $k$  for spatial stream  $m$  of user  $u$ .

$\text{EHT-LTF}_{k, u, m} = \text{EHT-LTF}_1$  for all values of  $u$  and  $m$ .

$\alpha_u$  is defined in 36.3.11.4.

$N_{\text{EHT-LTF}}$  is the number of OFDM symbols in the EHT-LTF field.

$T_{\text{CS, EHT}}(M_{r, u} + m)$  represents the cyclic shift for the spatial stream  $M_{r, u} + m$  as defined in 36.3.12.2.2.

$Q_{k, u}$  are defined in 36.3.11.4.

$A_{\text{EHT-LTF}}$  is defined in Equation (36-41).

$M_{r, u}$  is given in Table 36-23 for EHT MU PPDU. For an EHT TB PPDU, it is given by the TXVEC-TOR parameter STARTING\_STS\_NUM.

$K_r$  is the set of subcarrier indices for the tones in the RU or MRU  $r$  as defined in 36.3.11.

$|K_r|$  and  $r_{\text{EHT-LTF}}$  are defined after Equation (36-11) in 36.3.11.4.

Other variables in Equation (36-45) and Equation (36-46) are defined in 36.3.10 and 36.3.11.

### 36.3.12.11 EHT preamble of preamble punctured EHT MU PPDU

#### 36.3.12.11.1 General

Preamble puncturing refers to the transmission of a PPDU in which no signal is present in at least one of the 20 MHz subchannels within the PPDU bandwidth.

Preamble puncturing might be the result of the unavailability of 20 MHz subchannel(s) within the PPDU bandwidth, such as a busy channel indicated by the CCA or the setting of the Disabled Subchannel Bitmap subfield in the EHT Operations element (see 9.4.2.321).

Preamble puncturing may exist in an EHT MU PPDU transmitted in the DL or the UL and in an EHT TB PPDU transmitted by a non-AP STA in the UL. For an EHT MU PPDU in an OFDMA transmission, the U-SIG and the EHT-SIG fields include information on preamble puncturing. For an EHT MU PPDU in a non-OFDMA transmission, the U-SIG includes information on preamble puncturing. There is no indication about the preamble puncturing in an EHT TB PPDU.

Preamble puncturing shall not be applied in the primary 20 MHz channel of an EHT MU PPDU.

Transmission of an EHT PPDU with preamble puncturing is subject to the restrictions defined in 36.3.20.1.

Puncturing of subchannels that are not indicated in the Disabled Subchannel Bitmap subfield in 9.4.2.321 shall follow the restrictions described in 35.15.2.

### 36.3.12.11.2 Preamble puncturing for EHT MU PPDU in an OFDMA transmission

Preamble puncturing may exist in PPDU transmitted to one or more users using OFDMA transmission. The U-SIG and EHT-SIG fields include information on the preamble puncturing of the PPDU.

The preamble puncturing resolution shall be 20 MHz for an EHT MU PPDU using OFDMA transmission for a bandwidth larger than 40 MHz. In other words, puncturing a subchannel smaller than a 242-tone RU is not allowed in PPDU bandwidths larger than 40 MHz.

The U-SIG field contains signaling of the punctured 20 MHz subchannel(s) in the 80 MHz frequency subblock where it is transmitted (see Table 36-28).

The following punctured patterns are defined for an 80 MHz frequency subblock: 1111, 0111, 1101, 1101, 1110, 0011, 1100, and 1001. The puncturing pattern may vary for different 80 MHz frequency subblocks. In these patterns a “1” denotes a nonpunctured 20 MHz subchannel and a “0” denotes a punctured 20 MHz subchannel. See the Punctured Channel Information field in Table 36-28 for the definition of these 4-bit patterns.

The EHT-SIG field contains an indication of the punctured channels in the entire bandwidth of the PPDU by using the “Punctured 242-tone RU” entry in the RU Allocation subfield (see Table 36-34).

The puncturing pattern “0000” represents a fully unoccupied 80 MHz frequency subblock and is also a valid pattern, however contrary to the other puncturing patterns, there is no signaling in such an 80 MHz frequency subblock.

### 36.3.12.11.3 Preamble puncturing for EHT MU PPDU in a non-OFDMA transmission

The preamble puncturing resolution shall be 20 MHz for an EHT MU PPDU with 80 MHz and 160 MHz PPDU bandwidths. In other words, puncturing a subchannel smaller than a 242-tone RU is not allowed in 80 MHz and 160 MHz PPDU bandwidths.

The preamble puncturing resolution shall be 40 MHz for an EHT MU PPDU with a 320 MHz PPDU bandwidth. In other words, puncturing a subchannel smaller than a 484-tone RU is not allowed in a 320 MHz PPDU bandwidth.

In the preamble puncturing of a non-OFDMA transmission, at least one 20 MHz subchannel, in the pre-EHT modulated fields, is not occupied and the EHT modulated fields consist of a single large size MRU that occupies all the nonpunctured 20 MHz channel within the PPDU bandwidth. The supported MRUs for non-OFDMA transmission are defined in 36.3.2.2.3 and signaled in the U-SIG field by setting the Punctured Channel Information field to the puncturing pattern of the large size MRU corresponding to the punctured subchannel (see Table 36-30).

NOTE—A non-OFDMA transmission includes the EHT SU transmission, PPDU to multiple users using MU-MIMO, and an EHT sounding NDP.

### 36.3.12.11.4 Preamble puncturing for EHT TB PPDU

A non-AP EHT STA transmitting an EHT TB PPDU occupies the 20 MHz subchannels that are overlapped with its assigned RU or MRU and has no knowledge on whether the unallocated 20 MHz subchannels are due to puncturing or not, unless indicated as inactive in the Disabled Subchannel Bitmap subfield in 9.4.2.321.

For mask compliance purpose, the non-AP EHT STA shall treat all the subchannels, indicated as inactive in the Disabled Subchannel Bitmap subfield in 9.4.2.321, as punctured subchannels that are subject to the

IEEE Standard for Information Technology—Local and Metropolitan Area Networks—Specific Requirements
Part 11: Wireless LAN MAC and PHY Specifications

Amendment 2: Enhancements for Extremely High Throughput (EHT)

additional restrictions as defined in 36.3.20.1.2. Any other unoccupied subcarriers outside of the assigned RU or MRU shall meet the transmitter modulation accuracy requirements for unoccupied subcarriers defined in 36.3.20.4.4.

## 36.3.13 Data field

## 36.3.13.1 **SERVICE** field

The SERVICE field of the EHT DATA field is shown in Table 36-45.

Table 36-45—SERVICE field

| Bits    | Field                    | Description |  |  |  |  |
|---------|--------------------------|-------------|--|--|--|--|
| B0-B10  | Scrambler Initialization | Set to 0    |  |  |  |  |
| B11-B15 | Reserved                 | Set to 0    |  |  |  |  |

## 36.3.13.2 EHT PHY DATA scrambler and descrambler

The DATA field, composed of SERVICE, PSDU, Tail (if BCC is used), and pre-FEC padding bits added by PHY, shall be scrambled with a length-2047 PPDU-synchronous scrambler. The octets of the PSDU are placed in the transmit serial bit stream, bit 0 first and bit 7 last. The PPDU synchronous scrambler uses the generator polynomial S(x) as shown in Equation (36-46) and is illustrated in Figure 36-50.

$$S(x) = x^{11} + x^9 + 1 ag{36-46}$$

![](162f28866e6845dc55b80145e21434ac_img.jpg)

Figure 36-50—Data scrambler

NOTE 1—When the 11 initialization bits in Figure 36-50 are all 1s, the 2047-bit sequence generated repeatedly by the scrambler is (leftmost used first)

1111111111111000000000110000000111100000

IEEE Standard for Information Technology—Local and Metropolitan Area Networks—Specific Requirements Part 11: Wireless LAN MAC and PHY Specifications

Amendment 2: Enhancements for Extremely High Throughput (EHT)

000001010010001000110101010111000000010110000010011100010111011010010101100110000111111100110000 011111100011000011011110011101001111010011100100111011101110101010101000000000010000000010100000 010001000010101010010000000110100000111001000110111010111010100010100001010001001000101011010100 001100001001111001011100111001011110111001001010111011000010101110010000101110100100101001101100 011110111011001010101111000000100110000101111100100100011101101011010110001100011101111011010100 101100001100111001111110111100001010011001000111111010110000100011100101011011100001101011001110 001111101101100010110111010011010100111100001110011001101111111110100000001001000001011010001001 100101011111100001000011001010011111000111000110110110111011011010101101100000110111000111010110 110100011011001011101111001010100111000001110110001101011101110001010101101000000110010000111110 100110001001111101011100010001011010101001100000011111000011000110011110111111001010000111000100 110110101111011000100101110101100101000111100010110011010011111100111000011110110011001011111111 001000000111010000110100100111001101110111110101010001000000101010000100000100101000101100010100 1110100011101001011010011001100.

The same scrambler is used to scramble transmit data and to descramble receive data. When transmitting, the first eleven bits of scrambling sequence, which are also used to set the state of the scrambler for the subsequent scrambling bits, shall be set to a pseudorandom nonzero state. During reception by an EHT STA, the initial state can be estimated from the eleven LSBs of the scrambled SERVICE field.

When an MU-RTS frame is transmitted using an EHT PPDU, the first seven initialization bits as shown in [Figure 36-50,](#page-813-1) equivalent to the seven LSBs of the SERVICE field after scrambling, shall not be set to all 0s.

NOTE 2—The seven LSBs are used to initialize the scrambler of the non-HT PPDU response to MU-RTS Trigger frame.

## **36.3.13.3 Coding**

## **36.3.13.3.1 General**

The Data field shall be encoded using either BCC defined in [36.3.13.3.2](#page-814-0) or the LDPC code defined in [36.3.13.3.3.](#page-814-1) For an EHT MU PPDU, the coding type is selected by the Coding subfield in the User field of EHT-SIG, as defined in [36.3.12.8.](#page-769-0) For an EHT TB PPDU, the coding type is selected by the UL FEC Coding Type subfield in User Info field in the soliciting Trigger frame, or the RU size indicated in RU Allocation subfield in the soliciting frame carrying a TRS Control subfield, as defined in [9.3.1.22](#page-144-0) and [35.5.2.3.3,](#page-593-0) respectively.

When conducting BCC FEC encoding for an EHT PPDU, the number of encoders is always 1 per STA.

## **36.3.13.3.2 BCC coding**

Support for BCC coding is limited to less than or equal to four spatial streams per user, EHT-MCSs 0 to 9, EHT-MCS 15 (BPSK-DCM with ), and RU or MRU that is the same size as or smaller than a 242-tone RU. BCC support is mandatory (for both transmit and receive) for RU or MRU that is the same size or smaller than a 242-tone RU. *NSS u*, = 1

BCC encoding process is described in 27.3.12.5.1.

## **36.3.13.3.3 LDPC coding**

LDPC is the only FEC coding scheme in the EHT PPDU Data field for RU(s) or MRU(s) with more than 242 tones. LDPC is the only FEC coding scheme in the EHT PPDU Data field for RU(s) or MRU(s) assigned with EHT-MCSs 10 to 14. Support for LDPC coding (for both transmit and receive) is mandatory for an EHT STA that supports at least one of:

- 40/80/160/320 MHz EHT SU transmission,
- more than four spatial streams,

— any EHT-MCS from 10 to 14.

Otherwise, support of LDPC coding for either transmit or receive is optional. An EHT STA supports the transmission and reception of LDPC encoded EHT PPDU if the STA sets the LDPC Coding In Payload subfield of the HE Capabilities element (see 9.4.2.247) to 1, where this subfield is determined in turn by dot11HELDPCCodingInPayloadImplemented.

#### 36.3.13.3.4 EHT PPDU padding process

A two-step padding process is applied to an EHT PPDU. A pre-FEC padding process including both pre-FEC MAC and pre-FEC PHY padding is applied before conducting FEC coding, and a post-FEC PHY padding process is applied on the FEC encoded bits.

Four pre-FEC padding boundaries partition the last OFDM symbol of an EHT PPDU into four symbol segments. The pre-FEC padding may pad toward one of the four possible boundaries. The four pre-FEC padding boundaries are represented by a pre-FEC padding factor parameter  $a$ .

Figure 36-51 illustrates these four possible symbol segments in the last OFDM symbol, and the general padding process assuming the desired pre-FEC padding boundary, represented by the pre-FEC padding factor, is 1.

![](c49914fed90a1821c70e8d38eecb2238_img.jpg)

Diagram illustrating the EHT PPDU padding process in the last OFDM symbol when the pre-FEC padding factor  $a = 1$ .

The process starts with two input segments: Excess information bits and Pre-FEC padding bits. These are combined and fed into a Scrambler, followed by FEC coding.

The output of the FEC coding is the FEC output bits. The FEC output bits are followed by post-FEC padding bits.

The total length of the FEC output bits and post-FEC padding bits is labeled  $N_{CBPS,u}$  bits. The length of the FEC output bits is labeled  $N_{CBPS, LAST, u}$  bits. The padding factor  $a = 1$  is indicated between the  $N_{CBPS, LAST, u}$  bits and the  $N_{CBPS,u}$  bits.

Figure 36-51—EHT PPDU padding process in the last OFDM-symbol if  $a = 1$  for the  $u$ -th

#### 36.3.13.3.5 Encoding process for an EHT MU PPDU

The encoding process described in this subclause applies to both an EHT SU transmission and a transmission of an EHT MU PPDU to multiple users.

For an EHT MU PPDU, all the users shall use a common value of pre-FEC padding factor  $a$  and a common value of  $N_{SYM}$ . The padding process is described as follows.

In an EHT MU PPDU transmission, the transmitter first computes the number of data bits left in the last OFDM symbol for user  $u$  as in Equation (36-47).

$$N_{Excess, u} = (8 \cdot APEP_{LENGTH}_u + N_{tail, u} + N_{service}) \bmod N_{DBPS, u} \quad (36-47)$$

where

$APEP_{LENGTH}_u$  is the TXVECTOR parameter  $APEP_{LENGTH}$  for the  $u$ -th user.

$N_{tail, u}$  is the number of tails bits per encoder for user  $u$  as defined in Table 36-18.

$N_{service}$  is the number of bits in the SERVICE field as defined in Table 36-18.

$N_{DBPS, u}$  is the number of data bits per OFDM symbol for the  $u$ -th user as defined in Table 36-23.

Based on  $N_{Excess, u}$ , the transmitter then computes the initial number of symbol segments in the last OFDM symbol, i.e., initial pre-FEC padding factor value  $a_{init, u}$  as shown Equation (36-48), and the initial number of OFDM symbols,  $N_{SYM, init, u}$ , for user  $u$  using Equation (36-49).

$$a_{init, u} = \begin{cases} 4, & \text{if } N_{Excess, u} = 0 \\ \min\left(\left\lceil \frac{N_{Excess, u}}{N_{DBPS, short, u}} \right\rceil, 4\right), & \text{otherwise} \end{cases} \quad (36-48)$$

$$N_{SYM, init, u} = \left\lceil \frac{8 \cdot APEP_{LENGTH}_u + N_{tail, u} + N_{service}}{N_{DBPS, u}} \right\rceil \quad (36-49)$$

where

$N_{DBPS, short, u} = N_{CBPS, short, u} \cdot R_u$ , in which  $R_u$  is the coding rate for the  $u$ -th user

$N_{CBPS, short, u} = N_{SD, short, u} \cdot N_{SS, u} \cdot N_{BPSCS, u}$ , in which  $N_{SD, short, u}$  is the  $N_{SD, short}$  value corresponding to the occupied RU or MRU size of the  $u$ -th user,  $N_{SS, u}$  and  $N_{BPSCS, u}$  are defined in Table 36-23.

The parameter  $N_{SD, short}$  values for different RU and MRU sizes are shown in Table 36-46 and Table 36-47.

Table 36-46— $N_{SD, short}$  values for EHT-MCS values from 0 to 13 and 15

| RU or MRU size | $N_{SD, short}$       |              |
|----------------|-----------------------|--------------|
|                | EHT-MCS $\in [0, 13]$ | EHT-MCS = 15 |
| 26-tone        | 6                     | 2            |
| 52-tone        | 12                    | 6            |
| 52+26-tone     | 18                    | 8            |
| 106-tone       | 24                    | 12           |
| 106+26-tone    | 30                    | 14           |
| 242-tone       | 60                    | 30           |
| 484-tone       | 120                   | 60           |
| 484+242-tone   | 180                   | 90           |

Table 36-46— $N_{SD,short}$  values for EHT-MCS values from 0 to 13 and 15 (continued)

| RU or MRU size                                                                                                                 | $N_{SD,short}$        |              |
|--------------------------------------------------------------------------------------------------------------------------------|-----------------------|--------------|
|                                                                                                                                | EHT-MCS $\in [0, 13]$ | EHT-MCS = 15 |
| 996-tone                                                                                                                       | 240                   | 120          |
| 996+484-tone                                                                                                                   | 360                   | 180          |
| 996+484+242-tone                                                                                                               | 420                   | 210          |
| 2 $\times$ 996-tone                                                                                                            | 492                   | 246          |
| 2 $\times$ 996+484-tone                                                                                                        | 612                   | N/A          |
| 3 $\times$ 996-tone                                                                                                            | 732                   | 366          |
| 3 $\times$ 996+484-tone                                                                                                        | 852                   | N/A          |
| 4 $\times$ 996-tone                                                                                                            | 984                   | 492          |
| NOTE—EHT-MCS 15 is not supported for transmit and receive over MRU 2 $\times$ 996+484 and MRU 3 $\times$ 996+484 (See 36.1.1). |                       |              |

Table 36-47— $N_{SD,short}$  values for EHT-MCS 14

| Bandwidth | $N_{SD,short}$ |
|-----------|----------------|
| 80 MHz    | 60             |
| 160 MHz   | 120            |
| 320 MHz   | 246            |

Among all the users, derive the set of the user indices  $S$ , with the longest encoded packet duration as in Equation (36-50), and select one value from the set as  $u_{max}$ .

$$S = \arg \max_{u=0}^{N_{user, total}-1} \left( N_{SYM, init, u} - 1 + \frac{a_{init, u}}{4} \right) \quad (36-50)$$

where

$$\arg \max f(x) := \{x \in [0, N_{user, total}-1] : f(y) \le f(x) \text{ for all } y \in [0, N_{user, total}-1]\}$$

Then the common  $a_{init}$  and  $N_{SYM, init}$  values among all the users are derived using Equation (36-51).

$$\begin{aligned} N_{SYM, init} &= N_{SYM, init, u_{max}} \\ a_{init} &= a_{init, u_{max}} \end{aligned} \quad (36-51)$$

Next calculate each user's initial number of data bits and initial number of coded bits in its last OFDM symbol as shown in Equation (36-52) and Equation (36-53).

$$N_{DBPS, last, init, u} = \begin{cases} a_{init} \cdot N_{DBPS, short, u}, & \text{if } a_{init} < 4 \\ N_{DBPS, u}, & \text{if } a_{init} = 4 \end{cases} \quad (36-52)$$

$$N_{CBPS, last, init, u} = \begin{cases} a_{init} \cdot N_{CBPS, short, u}, & \text{if } a_{init} < 4 \\ N_{CBPS, w}, & \text{if } a_{init} = 4 \end{cases} \quad (36-53)$$

For each user with LDPC encoding, the parameters  $N_{pId, u}$  and  $N_{avbits, u}$  are computed using Equation (36-54) and Equation (36-55), respectively.

$$N_{pId, u} = (N_{SYM, init} - 1)N_{DBPS, u} + N_{DBPS, last, init, u} \quad (36-54)$$

$$N_{avbits, u} = (N_{SYM, init} - 1)N_{CBPS, u} + N_{CBPS, last, init, u} \quad (36-55)$$

For each user with LDPC encoding, continue LDPC encoding process as in 19.3.11.7.5 (LDPC PPDU encoding process) starting with the parameters  $N_{pId, u}$  and  $N_{avbits, u}$ . If there is at least one user with LDPC encoding for which the following condition in step d) of LDPC encoding process as described in 19.3.11.7.5 (LDPC PPDU encoding process) is met:

$$(N_{punc, u} > 0.1 \times N_{CW, u} \times L_{LDPC, u} \times (1 - R_u)) \text{ AND } (N_{shrt, u} < 1.2 \times N_{punc, u} \times \frac{R_u}{1 - R_u}) \text{ is true OR if}$$

$$N_{punc, u} > 0.3 \times N_{CW, u} \times L_{LDPC, u} \times (1 - R_u) \text{ is true,}$$

where  $N_{punc, u}$ ,  $N_{CW, u}$ ,  $L_{LDPC, u}$ , and  $N_{shrt, u}$  are the LDPC encoding parameters for user  $u$ , as defined in 19.3.11.7.5 (LDPC PPDU encoding process), and  $R_u$  is the coding rate of user  $u$ , then the LDPC Extra Symbol Segment field of EHT-SIG shall be set to 1, and all users with LDPC encoding shall increment  $N_{avbits}$  and recompute  $N_{punc}$ , using Equation (36-56) and Equation (36-57).

$$N_{avbits, u} = \begin{cases} N_{avbits, u} + N_{CBPS, u} - 3N_{CBPS, short, w}, & \text{if } a_{init} = 3 \\ N_{avbits, u} + N_{CBPS, short, w}, & \text{otherwise} \end{cases} \quad (36-56)$$

$$N_{punc, c} = \max(0, (N_{CW, u} \times L_{LDPC, u}) - N_{avbits, u} - N_{shrt, u}) \quad (36-57)$$

Then update the common pre-FEC padding factor  $a$  and  $N_{SYM}$  values for all users using Equation (36-58).

$$\begin{cases} N_{SYM} = N_{SYM, init} + 1 \text{ and } a = 1, & \text{if } a_{init} = 4 \\ N_{SYM} = N_{SYM, init} \text{ and } a = a_{init} + 1, & \text{otherwise} \end{cases} \quad (36-58)$$

If the condition mentioned above in step d) of LDPC encoding process as described in 19.3.11.7.5 (LDPC PPDU encoding process) is not met by any of the users with LDPC encoding, or if all the users scheduled in the EHT MU PPDU are BCC encoded, then the LDPC Extra Symbol Segment field of EHT-SIG shall be set to 0, and the common pre-FEC padding factor  $a$  and  $N_{SYM}$  values for all users shall be updated by Equation (36-59).

$$\begin{aligned} N_{SYM} &= N_{SYM, init} \\ a &= a_{init} \end{aligned} \quad (36-59)$$

For the users with LDPC encoding,

$$N_{DBPS, last, u} = N_{DBPS, last, init, u} \quad (36-60)$$

For the users with BCC encoding, update  $N_{DBPS}$  of the last OFDM symbol as

$$N_{DBPS, last, u} = \begin{cases} a \cdot N_{DBPS, short, u} & \text{if } a < 4 \\ N_{DBPS, u} & \text{if } a = 4 \end{cases} \quad (36-61)$$

For each user with either LDPC or BCC encoding, update  $N_{CBPS}$  of the last OFDM symbol as

$$N_{CBPS, last, u} = \begin{cases} a \cdot N_{CBPS, short, u} & \text{if } a < 4 \\ N_{CBPS, u} & \text{if } a = 4 \end{cases} \quad (36-62)$$

For each user with LDPC encoding, the number of pre-FEC padding bits for the  $u$ -th user is computed as in Equation (36-63).

$$N_{PAD, Pre-FEC, u} = (N_{SYM, init} - 1)N_{DBPS, u} + N_{DBPS, last, init, u} - 8 \cdot APEP\_LENGTH_u - N_{service} \quad (36-63)$$

For the users with BCC encoding, the number of pre-FEC padding bits is shown in Equation (36-64).

$$N_{PAD, Pre-FEC, u} = (N_{SYM} - 1)N_{DBPS, u} + N_{DBPS, last, u} - 8 \cdot APEP\_LENGTH_u - N_{tail, u} - N_{service} \quad (36-64)$$

Additionally, if EHT-MCS 15 (BPSK-DCM with  $N_{SS, u} = 1$ ) is used in a 106-tone RU, 242-tone RU, or 106+26-tone MRU with BCC coding, then after every  $2 \times N_{DBPS, u}$  coded bits, one padding bit is added. The padding bit may be set to any value.

For each user with either LDPC or BCC encoding, the number of post-FEC padding bits in the last symbol is computed as in Equation (36-65). The values of the post-FEC padding bits are not specified and are left up to implementation.

$$N_{PAD, Post-FEC, u} = N_{CBPS, u} - N_{CBPS, last, u} \quad (36-65)$$

Among the pre-FEC padding bits, the MAC delivers a PSDU that fills the available octets in the Data field of the EHT PPDU, toward the desired initial pre-FEC padding boundary represented by  $a_{init}$  for users encoded by LDPC, and toward the desired pre-FEC padding boundary represented by  $a$  for users encoded by BCC, in the last OFDM symbol. The PHY then determines the number of padding bits to add and appends them to the PSDU. The number of pre-FEC padding bits added by PHY will always be 0 to 7. The procedure is defined in Equation (36-66) and Equation (36-67).

$$N_{PAD, Pre-FEC, MAC, u} = 8 \cdot \left\lfloor \frac{N_{PAD, Pre-FEC, u}}{8} \right\rfloor \quad (36-66)$$

$$N_{PAD, Pre-FEC, PHY, u} = N_{PAD, Pre-FEC, u} \bmod 8 \quad (36-67)$$

### 36.3.13.3.6 Encoding process for an EHT TB PPDU

For an EHT TB PPDU sent in response to a Trigger frame, the AP indicates the UL Length, GI And EHT-LTF Type, Number Of EHT-LTF Symbols, Pre-FEC Padding Factor, LDPC Extra Symbol Segment, and PE Disambiguity fields in the Trigger frame. The common values  $T_{PE}$  and  $N_{SYM}$  are derived by non-AP STAs as shown in Equation (36-92) and Equation (36-93), respectively. The AP shall set the LDPC Extra Symbol Segment field in the Common Info field of the Trigger frame to 1 if the condition in step d) of LDPC encoding process described in 36.3.13.3.5 is met for at least one LDPC encoded user solicited by the AP for an EHT TB PPDU transmission. AP may select any value (1–4) for the Pre-FEC Padding Factor field.

NOTE—The AP might set the LDPC Extra Symbol Segment field to 1 regardless of the value derived from the calculations.

For an EHT TB PPDU sent in response to a frame containing a TRS Control subfield, the parameters used to derive the common values  $T_{PE}$  and  $N_{SYM}$  are described in 35.5.2.3.3.

For an EHT TB PPDU with BCC encoding, follow the EHT MU padding and encoding process as described in 36.3.13.3.5 with parameters set as follows:

- If the TXVECTOR parameter TRIGGER\_METHOD is TRIGGER\_FRAME,  $a$  is the pre-FEC padding factor indicated in the Pre-FEC Padding Factor subfield of the Common Info field in the Trigger frame, and  $N_{SYM}$  is the common number of data OFDM symbols derived from the UL Length and Number Of EHT-LTF Symbols subfields of the Common Info field in the Trigger frame.
- If the TXVECTOR parameter TRIGGER\_METHOD is TRS, the parameters are set to  $N_{SYM} = F_{VAL} + 1$  and  $a = 4$ , where  $F_{VAL}$  is the value of the UL Data Symbol subfield of the TRS Control subfield.

For an EHT TB PPDU with LDPC encoding, follow the EHT MU padding and encoding process as described in 36.3.13.3.5 with initial parameters as follows:

- If the TXVECTOR parameter TRIGGER\_METHOD is TRIGGER\_FRAME and the LDPC Extra Symbol Segment field in the Trigger frame is 1, set the initial parameter using Equation (36-68).

$$\begin{cases} a_{init} = 4 \text{ and } N_{SYM,init} = N_{SYM} - 1, & \text{if } a = 1 \\ a_{init} = a - 1 \text{ and } N_{SYM,init} = N_{SYM}, & \text{otherwise} \end{cases} \quad (36-68)$$

Then continue with the LDPC encoding process as in 36.3.13.3.5, during which  $N_{avbits,u}$  is always incremented as in Equation (36-56), and  $N_{punc,u}$  is always recomputed as in Equation (36-57).

- If the TXVECTOR parameter TRIGGER\_METHOD is TRIGGER\_FRAME and the LDPC Extra Symbol Segment field in the Trigger frame is 0, set initial parameters to  $N_{SYM,init} = N_{SYM}$  and  $a_{init} = a$ . Then continue with the LDPC encoding process as in 36.3.13.3.5, during which  $N_{avbits,u}$  and  $N_{punc,u}$  are not changed.
- If the TXVECTOR parameter TRIGGER\_METHOD is TRS, then the parameter LDPC EXTRA\_SYMBOL is 1, and initial parameters are set to  $N_{SYM,init} = F_{VAL} + 1$  and  $a_{init} = 3$ , where  $F_{VAL}$  is the value of the UL Data Symbols subfield of the TRS Control subfield. Then continue with the LDPC encoding process as in 36.3.13.3.5, during which  $N_{avbits,u}$  is always incremented as in Equation (36-56), and  $N_{punc,u}$  is always recomputed as in Equation (36-57).

#### 36.3.13.4 Stream parser

After scrambling, coding, puncturing and post-FEC padding, the data bits are parsed into spatial stream(s) as described in 27.3.12.6.

#### 36.3.13.5 Segment parser

The segment parser operation is applied to each 80 MHz frequency subblock.

Segment parsing shall be performed for RU or MRU of size  $2 \times 996$ -,  $996+484$ -,  $996+484+242$ -,  $2 \times 996+484$ -,  $3 \times 996$ -,  $3 \times 996+484$ -, or  $4 \times 996$ -tone. For a 26-, 52-,  $52+26$ -, 106-,  $106+26$ -, 242-, 484-,  $484+242$ -, and 996-tone RU or MRU, the segment parser is bypassed and the output bits are as specified in Equation (36-69).

$$y_{k,l,u} = x_{k,u} \quad (36-69)$$

where

$x_{k,u}$  is bit  $k$  of a block of  $N_{CBPSS,u}$  bits,  $k = 0$  to  $N_{CBPSS,u} - 1$ .

$l$  is the frequency subblock index.

$y_{k,l,u}$  is bit  $k$  of the frequency subblock  $l$  for user  $u$ .

$u$  is the user index,  $u = 0, 1, \dots, N_{user} - 1$ .

NOTE—For EHT-MCS 14, the RU size refers to the RU size before duplication. Specifically, this means that segment parsing with EHT-MCS 14 is only required using 320 MHz.

For a 160 MHz and 320 MHz transmission with a  $2 \times 996$ -,  $996+484$ -,  $996+484+242$ -,  $2 \times 996+484$ -,  $3 \times 996$ -,  $3 \times 996+484$ -, or  $4 \times 996$ -tone RU or MRU, the output bits of each stream parser are provided in blocks of  $N_{CBPSS,u}$  bits. The segment parser further divides each block into  $L$  blocks of  $N_{CBPSS,l,u}$  bits respectively for  $l = 0, 1, \dots, L - 1$ , such that  $\sum N_{CBPSS,l,u} = N_{CBPSS,u}$ .  $L$  is the number of frequency subblocks in the RU or MRU. The values for  $N_{CBPSS,l,u}$  are given in Table 36-48 for various RU and MRU cases.

Table 36-48—Values of  $N_{CBPSS,l,u}$

| RU or MRU           | RU order (low to high frequency) | L | Is DCM used? | $N_{CBPSS,0,u}$          | $N_{CBPSS,1,u}$          | $N_{CBPSS,2,u}$          | $N_{CBPSS,3,u}$          |
|---------------------|----------------------------------|---|--------------|--------------------------|--------------------------|--------------------------|--------------------------|
| 996+484             | 484+996                          | 2 | No           | $468 \times N_{BPSCS,u}$ | $980 \times N_{BPSCS,u}$ |                          |                          |
|                     | 996+484                          |   | Yes          | 234                      | 490                      |                          |                          |
| 996+484 +242        | (242+484)+996                    | 2 | No           | $980 \times N_{BPSCS,u}$ | $468 \times N_{BPSCS,u}$ |                          |                          |
|                     | 996+(242+484)                    |   | Yes          | 490                      | 234                      |                          |                          |
| 2 $\times$ 996 +484 | 484+996+996                      | 3 | No           | $702 \times N_{BPSCS,u}$ | $980 \times N_{BPSCS,u}$ |                          |                          |
|                     | 996+484+996                      |   | Yes          | 351                      | 490                      |                          |                          |
| 3 $\times$ 996 +484 | 484+996+996+996                  | 4 | No           | $980 \times N_{BPSCS,u}$ | $702 \times N_{BPSCS,u}$ |                          |                          |
|                     | 996+484+996+996                  |   | Yes          | 490                      | 351                      |                          |                          |
| 2 $\times$ 996      | 484+996+996+996                  | 2 | No           | $468 \times N_{BPSCS,u}$ | $980 \times N_{BPSCS,u}$ | $980 \times N_{BPSCS,u}$ | $980 \times N_{BPSCS,u}$ |
|                     | 996+484+996+996                  |   | Yes          | 234                      | 490                      | 490                      | 490                      |
| 3 $\times$ 996      | 484+996+996+996                  | 3 | No           | $980 \times N_{BPSCS,u}$ | $468 \times N_{BPSCS,u}$ | $980 \times N_{BPSCS,u}$ | $980 \times N_{BPSCS,u}$ |
|                     | 996+484+996+996                  |   | Yes          | 490                      | 234                      | 490                      | 490                      |
| 4 $\times$ 996      | 484+996+996+996                  | 4 | No           | $980 \times N_{BPSCS,u}$ | $980 \times N_{BPSCS,u}$ | $468 \times N_{BPSCS,u}$ | $980 \times N_{BPSCS,u}$ |
|                     | 996+484+996+996                  |   | Yes          | 490                      | 490                      | 490                      | 490                      |

The segment parser bit distribution sequence starts from the lowest frequency location to the highest frequency.

The bits in each block of  $N_{CBPSS, l, u}$  bits are determined by the segment parser as shown in Equation (36-70).

$$y_{k, l, u} = x_{m, u} \\ m = \left( \sum_{i=0}^{L-1} m_i \right) \cdot \left\lfloor \frac{k}{m_l} \right\rfloor + \sum_{i=0}^{l-1} m_i + (k \bmod m_l) \quad (36-70)$$

where

$y_{k, l, u}$  is bit  $k$  of the frequency subblock (or RU in 80 MHz frequency subblock)  $l$  for user  $u$ .

$k = 0, 1, \dots, (N_{CBPSS, l, u} - n_l \cdot 44 \cdot N_{BPSCS, u} - 1)$  when DCM is not used and  
 $k = 0, 1, \dots, (N_{CBPSS, l, u} - n_l \cdot 22 \cdot N_{BPSCS, u} - 1)$  when DCM is used.

$n_l$  is 1 for fully occupied frequency subblock  $l$  with nonzero leftover bits,  $n_l = 0$  for partially or fully occupied frequency subblock  $l$  with zero leftover bits.

$x_{m, u}$  is bit  $m$  of a block  $\sum_{i=0}^{L-1} N_{CBPSS, l, u}$  bits and  $m = 0, 1, \dots, \sum_{i=0}^{L-1} N_{CBPSS, l, u} - 1$ .

$m_l, m_i$  are the number of bits assigned to a block of output bits for each round of the round robin parser. Values are given in Table 36-49. The values are proportional or approximately proportional to the number of occupied data subcarriers in each 80 MHz frequency subblock.

$l$  is the frequency subblock index,  $l = 0, 1, \dots, L - 1$ .

$L$  is the number of frequency subblocks.  $L = 2$  for 996+484-, 996+484+242-, 2×996-tone RU or MRU;  $L = 3$  for 2×996+484- and 3×996-tone MRU;  $L = 4$  for 3×996+484- and 4×996-tone RU or MRU.

$u$  is the user index,  $u = 0, 1, \dots, N_{user} - 1$

$\sum_{i=0}^{l-1} m_i = 0$  for frequency subblock  $l = 0$ .

In Table 36-49,  $s = \max\left(1, \frac{N_{BPSCS, u}}{2}\right)$ .

If the RU or MRU contains a frequency subblock that is not fully occupied [i.e., the frequency subblock consists of 484 or 484+242 occupied tones), that frequency subblock will reach its full value  $N_{CBPSS, l, u}$  before the other frequency subblocks. At that point, no further bits are outputted by the segment parser for that frequency subblock. For the other frequency subblocks, the number of leftover bits as defined in Table 36-49 is not equal to zero, and proportional round robin parser (Equation (36-70)) will continue to process the leftover bits, using the values of  $m$  and  $k$  given in Equation (36-71).

$$m = \left( \sum_{i=0}^{L-1} m_i \right) \cdot \left\lfloor \frac{N_{CBPSS, l, u}}{m_{l_0}} \right\rfloor + \left( \sum_{i=0, i \neq l_0}^{L-1} m_i \right) \cdot \left\lfloor \frac{k}{m_l} \right\rfloor + \sum_{i=0, i \neq l_0}^{l-1} m_i + (k \bmod m_l) \quad (36-71)$$

where

$k = (N_{CBPSS, l, u} - n_l \cdot 44 \cdot N_{BPSCS, u}), \dots, N_{CBPSS, l, u} - 1$  when DCM is not used and

$k = (N_{CBPSS, l, u} - n_l \cdot 22 \cdot N_{BPSCS, u}), \dots, N_{CBPSS, l, u} - 1$  when DCM is used.

$k' = k - (N_{CBPSS, l, u} - n_l \cdot 44 \cdot N_{BPSCS, u})$  when DCM is not used and

$k' = k - (N_{CBPSS, l, u} - n_l \cdot 22 \cdot N_{BPSCS, u})$  when DCM is used.

Table 36-49—Segment parser parameters

| RU or MRU   | RU order (low to high frequency) | L | Is DCM used? | $m_0$ | $m_1$ | $m_2$ | $m_3$ | Leftover bits per fully occupied frequency subblock |
|-------------|----------------------------------|---|--------------|-------|-------|-------|-------|-----------------------------------------------------|
| 996+484     | 484+996                          |   | No           | s     | 2s    |       |       | $44 \times N_{BPSCS, u}$                            |
|             |                                  |   | Yes          |       |       |       |       | 22                                                  |
| 996+484+242 | 996+484                          | 2 | No           | 2s    | s     |       |       | $44 \times N_{BPSCS, u}$                            |
|             |                                  |   | Yes          |       |       |       |       | 22                                                  |
|             | (242+484)+996                    |   | No           | 3s    | 4s    |       |       | $44 \times N_{BPSCS, u}$                            |
|             |                                  |   | Yes          |       |       |       |       | 22                                                  |
|             | 996+(242+484)                    |   | No           | 4s    | 3s    |       |       | $44 \times N_{BPSCS, u}$                            |
|             |                                  |   | Yes          |       |       |       |       | 22                                                  |
| 2x996+484   | 484+996+996                      | 3 | No           | s     | 2s    | 2s    |       | $44 \times N_{BPSCS, u}$                            |
|             | 996+484+996                      |   | No           | 2s    | s     | 2s    |       | $44 \times N_{BPSCS, u}$                            |
|             | 996+996+484                      |   | No           | 2s    | 2s    | s     |       | $44 \times N_{BPSCS, u}$                            |
| 3x996+484   | 484+996+996+996                  | 4 | No           | s     | 2s    | 2s    | 2s    | $44 \times N_{BPSCS, u}$                            |
|             | 996+484+996+996                  |   | No           | 2s    | s     | 2s    | 2s    | $44 \times N_{BPSCS, u}$                            |
|             | 996+996+484+996                  |   | No           | 2s    | 2s    | s     | 2s    | $44 \times N_{BPSCS, u}$                            |
|             | 996+996+996+484                  |   | No           | 2s    | 2s    | 2s    | s     | $44 \times N_{BPSCS, u}$                            |
| 2x996       | 996+996                          | 2 | No           | s     | s     |       |       | 0                                                   |
|             |                                  |   | Yes          |       |       |       |       |                                                     |
| 3x996       | 996+996+996                      | 3 | No           | s     | s     | s     |       | 0                                                   |
|             |                                  |   | Yes          |       |       |       |       |                                                     |
| 4x996       | 996+996+996+996                  | 4 | No           | s     | s     | s     | s     | 0                                                   |
|             |                                  |   | Yes          |       |       |       |       |                                                     |

$l_0$  is the subblock index with  $n_{l_0} = 0$  (i.e., the partially occupied frequency subblock zero leftover bits).

$$\sum_{i=0, i \neq l_0}^{L-1} m_i = 0 \text{ for frequency subblock } l = 0.$$

Illustration of the proportional round robin parser with leftover bits processing for  $2 \times 996 + 484$ -tone MRU is shown in Figure 36-52.

![](7ed789e42c0843de1a6d78df8d48c746_img.jpg)

Diagram illustrating the proportional round robin parser with leftover bits processing for  $2 \times 996 + 484$ -tone MRU.

The diagram shows a sequence of bit groups (m0, m1, m2) being processed. The first segment is labeled "Proportional round robin parser processing based on Equation (36-70)". The second segment is labeled "Leftover bits processing based on Equation (36-71)". The flow continues sequentially, with pointers indicating "To 1<sup>st</sup> RU996" and "To 2<sup>nd</sup> RU996".

**Figure 36-52—Illustration of the proportional round robin parser with leftover bits processing for  $2 \times 996 + 484$ -tone MRU**

Illustration of the segment parser for  $996 + 484$ -tone MRU and  $996 + 484 + 242$ -tone MRU are shown in Figure 36-53 and Figure 36-54, respectively.

![](0f04a0785d9c581d335e24af8c7eaf77_img.jpg)

Diagram illustrating the segment parser for  $996 + 484$ -tone RU.

The diagram shows two parallel processing paths, both starting from a Stream Parser input.

**Path 1 (Top):**

- Input: 1<sup>st</sup> stream
- Block: Segment Parser (1s:2s)
- Output splits into two parallel streams: RU484 and RU996.
- For RU484: constellation mapper  $\to$  LDPC tone mapper ( $D_{TM} = 12$ )  $\to$  Segment Deparser.
- For RU996: constellation mapper  $\to$  LDPC tone mapper ( $D_{TM} = 20$ )  $\to$  Segment Deparser.

**Path 2 (Bottom):**

- Input:  $n_{th}$  stream
- Block: Segment Parser (1s:2s)
- Output splits into two parallel streams: RU484 and RU996.
- For RU484: constellation mapper  $\to$  LDPC tone mapper ( $D_{TM} = 12$ )  $\to$  Segment Deparser.
- For RU996: constellation mapper  $\to$  LDPC tone mapper ( $D_{TM} = 20$ )  $\to$  Segment Deparser.

**Figure 36-53—Illustration of the segment parser for  $996 + 484$ -tone RU**

![Figure 36-54 illustrates the segment parser for 996+484+242-tone RU. The diagram shows a Stream Parser input feeding into two parallel paths: the 1st stream and the n-th stream. Each stream passes through a Segment Parser (3s-4s). The output of the Segment Parser (3s-4s) feeds into a constellation mapper. The constellation mapper output feeds into an LDPC tone mapper. The LDPC tone mapper output feeds into a Joint tone mapper with D_{MU}=18 for RU(242+484). The Joint tone mapper output feeds into a Segment Deparser. The diagram shows two parallel paths for the 1st stream and the n-th stream, both using the same sequence of components (Segment Parser, constellation mapper, LDPC tone mapper, Joint tone mapper, Segment Deparser). The Joint tone mapper is labeled with D_{MU}=18 for RU(242+484) and D_{MU}=20 for RU(996).](a40cd8f21bef1c6cbb7936270af37a1a_img.jpg)

Figure 36-54 illustrates the segment parser for 996+484+242-tone RU. The diagram shows a Stream Parser input feeding into two parallel paths: the 1st stream and the n-th stream. Each stream passes through a Segment Parser (3s-4s). The output of the Segment Parser (3s-4s) feeds into a constellation mapper. The constellation mapper output feeds into an LDPC tone mapper. The LDPC tone mapper output feeds into a Joint tone mapper with D\_{MU}=18 for RU(242+484). The Joint tone mapper output feeds into a Segment Deparser. The diagram shows two parallel paths for the 1st stream and the n-th stream, both using the same sequence of components (Segment Parser, constellation mapper, LDPC tone mapper, Joint tone mapper, Segment Deparser). The Joint tone mapper is labeled with D\_{MU}=18 for RU(242+484) and D\_{MU}=20 for RU(996).

Figure 36-54—Illustration of the segment parser for 996+484+242-tone RU

### 36.3.13.6 BCC interleavers

BCC is applicable only to an RU or an MRU of size no larger than 242 tones, with number of spatial streams less than or equal to 4 and with one of the following modulations: BPSK, QPSK, 16-QAM, 64-QAM, or 256-QAM.

A BCC encoder can be applied to small size RUs and MRUs. The BCC encoded bits are interleaved over the RU or the whole MRU. The interleaver parameters for BCC encoded RUs are shown in Table 27-36 (BCC interleaver parameters), and the interleaver parameters for BCC encoded MRUs are shown in Table 36-50. The interleaver parameters for U-SIG and EHT-SIG are the same as the interleaver parameters for HE-SIG-A/HE-SIG-B as shown in Table 27-36 (BCC interleave parameters). Since DCM is applied only to the BPSK and single stream case,  $N_{ROT}$  is not applicable and  $N_{ROW}$  is determined without  $N_{BPSCS}$ .

Table 36-50—Joint BCC interleaver parameters for small size MRUs

| DCM      | Parameter | MRU size             |                      |
|----------|-----------|----------------------|----------------------|
|          |           | 52+26                | 106+26               |
| Not used | $N_{SD}$  | 72                   | 126                  |
|          | $N_{COL}$ | 18                   | 21                   |
|          | $N_{ROW}$ | $4 \times N_{BPSCS}$ | $6 \times N_{BPSCS}$ |
|          | $N_{ROT}$ | 18                   | 31                   |
| Used     | $N_{SD}$  | 36                   | 63                   |
|          | $N_{COL}$ | 12                   | 21                   |
|          | $N_{ROW}$ | 3                    | 3                    |
|          | $N_{ROT}$ | N/A                  | N/A                  |

### 36.3.13.7 Constellation mapping

The mapping between the input bits of the constellation mapper and complex constellation points for BPSK, QPSK, 16-QAM, 64-QAM, 256-QAM, and 1024-QAM is defined in 27.3.12.9 (Constellation mapping).

For 4096-QAM, each constellation point encodes 12 bits ( $B_0$ - $B_{11}$ ).  $B_0B_1B_2B_3B_4B_5$  determine the I value and  $B_6B_7B_8B_9B_{10}B_{11}$  determine the Q value, as illustrated in Table 36-51.

Table 36-51—4096-QAM encoding table

| Input bits ( $B_0$ $B_1$ $B_2$ $B_3$ $B_4$ $B_5$ ) | I-out | Input bits ( $B_6$ $B_7$ $B_8$ $B_9$ $B_{10}$ $B_{11}$ ) | Q-out |
|----------------------------------------------------|-------|----------------------------------------------------------|-------|
| 000000                                             | -63   | 000000                                                   | -63   |
| 000001                                             | -61   | 000001                                                   | -61   |
| 000010                                             | -59   | 000010                                                   | -59   |
| 000011                                             | -57   | 000011                                                   | -57   |
| 000100                                             | -55   | 000100                                                   | -55   |
| 000101                                             | -53   | 000101                                                   | -53   |
| 000110                                             | -51   | 000110                                                   | -51   |
| 000111                                             | -49   | 000111                                                   | -49   |
| 001000                                             | -47   | 001000                                                   | -47   |
| 001001                                             | -45   | 001001                                                   | -45   |
| 001010                                             | -43   | 001010                                                   | -43   |
| 001011                                             | -41   | 001011                                                   | -41   |
| 001100                                             | -39   | 001100                                                   | -39   |
| 001101                                             | -37   | 001101                                                   | -37   |
| 001110                                             | -35   | 001110                                                   | -35   |
| 001111                                             | -33   | 001111                                                   | -33   |
| 010000                                             | -31   | 010000                                                   | -31   |
| 010001                                             | -29   | 010001                                                   | -29   |
| 010010                                             | -27   | 010010                                                   | -27   |
| 010011                                             | -25   | 010011                                                   | -25   |
| 010100                                             | -23   | 010100                                                   | -23   |
| 010101                                             | -21   | 010101                                                   | -21   |
| 010110                                             | -19   | 010110                                                   | -19   |
| 010111                                             | -17   | 010111                                                   | -17   |
| 011000                                             | -15   | 011000                                                   | -15   |
| 011001                                             | -13   | 011001                                                   | -13   |

Table 36-51—4096-QAM encoding table (continued)

| Input bits ( $B_0 B_1 B_2 B_3 B_4 B_5$ ) | I-out | Input bits ( $B_6 B_7 B_8 B_9 B_{10} B_{11}$ ) | Q-out |
|------------------------------------------|-------|------------------------------------------------|-------|
| 010111                                   | -11   | 010111                                         | -11   |
| 010110                                   | -9    | 010110                                         | -9    |
| 010010                                   | -7    | 010010                                         | -7    |
| 010011                                   | -5    | 010011                                         | -5    |
| 010001                                   | -3    | 010001                                         | -3    |
| 010000                                   | -1    | 010000                                         | -1    |
| 110000                                   | 1     | 110000                                         | 1     |
| 110001                                   | 3     | 110001                                         | 3     |
| 110011                                   | 5     | 110011                                         | 5     |
| 110010                                   | 7     | 110010                                         | 7     |
| 110110                                   | 9     | 110110                                         | 9     |
| 110111                                   | 11    | 110111                                         | 11    |
| 110101                                   | 13    | 110101                                         | 13    |
| 110100                                   | 15    | 110100                                         | 15    |
| 111100                                   | 17    | 111100                                         | 17    |
| 111101                                   | 19    | 111101                                         | 19    |
| 111111                                   | 21    | 111111                                         | 21    |
| 111110                                   | 23    | 111110                                         | 23    |
| 111010                                   | 25    | 111010                                         | 25    |
| 111011                                   | 27    | 111011                                         | 27    |
| 111001                                   | 29    | 111001                                         | 29    |
| 111000                                   | 31    | 111000                                         | 31    |
| 101000                                   | 33    | 101000                                         | 33    |
| 101001                                   | 35    | 101001                                         | 35    |
| 101011                                   | 37    | 101011                                         | 37    |
| 101010                                   | 39    | 101010                                         | 39    |
| 101110                                   | 41    | 101110                                         | 41    |
| 101111                                   | 43    | 101111                                         | 43    |

Table 36-51—4096-QAM encoding table (continued)

| Input bits ( $B_0 B_1 B_2 B_3 B_4 B_5$ ) | I-out | Input bits ( $B_6 B_7 B_8 B_9 B_{10} B_{11}$ ) | Q-out |
|------------------------------------------|-------|------------------------------------------------|-------|
| 101101                                   | 45    | 101101                                         | 45    |
| 101100                                   | 47    | 101100                                         | 47    |
| 100100                                   | 49    | 100100                                         | 49    |
| 100101                                   | 51    | 100101                                         | 51    |
| 100111                                   | 53    | 100111                                         | 53    |
| 100110                                   | 55    | 100110                                         | 55    |
| 100010                                   | 57    | 100010                                         | 57    |
| 100011                                   | 59    | 100011                                         | 59    |
| 100001                                   | 61    | 100001                                         | 61    |
| 100000                                   | 63    | 100000                                         | 63    |

The normalization factor  $K_{mod}$  for 4096-QAM is  $1/\sqrt{2730}$ .

DCM is a modulation scheme that is applied to EHT-MCSs 14 and 15. It only applies to BPSK and  $N_{SS} = 1$ .

When DCM is employed for a 996-tone or smaller RU or MRU, bit sequences are mapped to pairs of symbols ( $d_{k,0}, d_{k,1}$ ) where  $k$  is in the range  $0 \le k \le N_{SD} - 1$  and  $q(k)$  is in the range  $N_{SD} \le k \le 2N_{SD} - 1$ . For RU and MRU equal to or smaller than 996 tones,  $q(k) = k + N_{SD}$ ,  $N_{SD}$  values for use with DCM for each RU and MRU equal to or smaller than 996 tones are given in Table 36-71 to Table 36-79 for EHT-MCS 15 (column  $N_{SD}$ ) and in the first two rows of Table 36-87 for EHT-MCS 14.

For BPSK modulation with DCM on RU or MRU equal to or smaller than 996 tones, the input bits of the constellation mapper are broken into groups of  $N_{BPS}$  bits ( $B_0, B_1, \dots, B_{N_{BPS}-1}$ ).  $N_{BPS}$  values for use with DCM for each RU and MRU equal to or smaller than 996 tones are given in Table 36-71 to Table 36-79 for EHT-MCS 15 (column  $N_{BPS}$ ) and in the first two rows of Table 36-87 for EHT-MCS 14. Each bit  $B_k$  is BPSK modulated to a sample  $d_k$ . This generates the samples for the lower half of the data subcarriers ( $k = 0, 1, \dots, N_{SD}-1$ ). For the upper half of the data subcarriers, the samples are generated as  $d_{k+N_{SD}} = d_{k+N_{SD}-N_{SD}}$ ,  $k = 0, 1, \dots, N_{SD}-1$ . Lower half and upper half of the data subcarriers refer to the first  $N_{SD}$  used data subcarriers and the next  $N_{SD}$  used data subcarriers, respectively.

For RU or MRU sizes larger than 996 tones, DCM is performed on the segment parser output for each 80 MHz frequency subblock. For each frequency subblock, DCM mapping is performed as if that frequency subblock consists of an RU or MRU of size equal to or smaller than 996 tones, as described above.

#### 36.3.13.8 LDPC tone mapper

The LDPC tone mapping shall be performed on all LDPC encoded streams mapped in an RU or MRU as described in this subclause. LDPC tone mapping shall not be performed on streams that are encoded using BCC. If DCM is applied to LDPC encoded streams,  $D_{DM,DCM}$  shall be applied on both the lower half data subcarriers in an RU or MRU and the upper half data subcarriers of the RU or MRU. The LDPC tone mapping distance parameters  $D_{DM}$  and  $D_{DM,DCM}$  are constant for each RU or MRU size and the values for different RU or MRU sizes are given in Table 36-52.

Table 36-52—LDPC tone mapping distance for each RU or MRU size within an 80 MHz frequency subblock

| Parameter    | RU or MRU size (tones) |    |       |     |        |     |     |         |     |
|--------------|------------------------|----|-------|-----|--------|-----|-----|---------|-----|
|              | 26                     | 52 | 52+26 | 106 | 106+26 | 242 | 484 | 484+242 | 996 |
| $D_{TM}$     | 1                      | 3  | 4     | 6   | 6      | 9   | 12  | 18      | 20  |
| $D_{TM,DCM}$ | 1                      | 1  | 3     | 3   | 3      | 9   | 9   | 9       | 14  |

For an RU or MRU that spans multiple 80 MHz frequency subblocks, LDPC tone mapping is performed separately in each frequency subblock on the portion of the RU or MRU falling within that frequency subblock. The values of tone mapping parameters  $D_{TM,l}$  and  $D_{TM,DCM,l}$  for the portion of the RU or MRU falling within the  $l$ -th frequency subblock shall be determined as in Table 36-52.

For an EHT PPDU without DCM, the LDPC tone mapping for the LDPC encoded stream for user  $u$  in the portion of  $r$ -th RU or MRU located in the  $l$ -th 80 MHz frequency subblock is done by permuting the stream of complex numbers generated by the constellation mappers (see 36.3.13.7) as defined by Equation (36-72).

$$d_{l(k,l),i,n,l,r,u}'' = d_{k,i,n,l,r,u}' \quad (36-72)$$

where

$k = 0, 1, \dots, N_{SD,l} - 1$  for a 26-, 52-, 52+26-, 106-, 106+26-, 242-, 484-, 484+242-, and 996-tone RU or MRU in the  $l$ -th frequency subblock.

$i = 1, 2, \dots, N_{SS,r,u}$

$n = 0, 1, \dots, N_{SYM} - 1$

$$l = \begin{cases} 0, & \text{for a 26-, 52-, 52+26-, 106-, 106+26-, 242-, 484-, 484+242-, and 996-tone RU or MRU} \\ 0, 1, & \text{for a } 996+484\text{-, } 996+484+242\text{-, and } 2 \times 996\text{-tone RU or MRU} \\ 0, 1, 2, & \text{for a } 2 \times 996+484\text{- and } 3 \times 996\text{-tone MRU} \\ 0, 1, 2, 3, & \text{for a } 3 \times 996+484\text{- and } 4 \times 996\text{-tone RU or MRU} \end{cases}$$

$u = 0, 1, \dots, N_{user,r} - 1$

$r = 0, 1, \dots, N_{RU} - 1$

$N_{SD,l}$  is the number of data tones in the portion of  $r$ -th RU or MRU located in the  $l$ -th frequency subblock.

$$t(k, l) = D_{TM,l} \left( k \bmod \frac{N_{SD,l}}{D_{TM,l}} \right) + \left\lfloor \frac{k \cdot D_{TM,l}}{N_{SD,l}} \right\rfloor$$

$D_{TM,l}$  is the LDPC tone mapping distance for the portion of  $r$ -th RU or MRU located in  $l$ -th frequency subblock if DCM is not applied, defined in Table 36-52.

For an EHT PPDU with DCM applied to the Data field, the LDPC tone mapping for the LDPC encoded stream corresponding to user  $u$  in the portion of  $r$ -th RU or MRU located in the  $l$ -th 80 MHz frequency subblock is done by permuting the stream of complex numbers generated by the constellation mappers (see 36.3.13.7) as defined by Equation (36-73).

$$d_{l(k,l),i,n,l,r,u}'' = d_{k,i,n,l,r,u}' \quad (36-73)$$

where

$k = 0, 1, \dots, 2N_{SD, l} - 1$  for the portion of an RU or MRU in the  $l$ -th frequency subblock that corresponds to 26-, 52-, 52+26-, 106-, 106+26-, 242-, 484-, 484+242-, and 996-tone.

$i = 1, 2, \dots, N_{SS, r, u}$

$n = 0, 1, \dots, N_{SYM} - 1$

$l = \begin{cases} 0, & \text{for a 26-, 52-, 52+26-, 106-, 106+26-, 242-, 484-,} \\ & \text{484+242-, and 996-tone RU or MRU} \\ 0, 1, & \text{for a 996+484-, 996+484+242-, and } 2 \times 996\text{-tone RU or MRU} \\ 0, 1, 2, & \text{for a } 2 \times 996 + 484\text{- and } 3 \times 996\text{-tone MRU} \\ 0, 1, 2, 3, & \text{for a } 3 \times 996 + 484\text{- and } 4 \times 996\text{-tone RU or MRU} \end{cases}$

$u = 0, 1, \dots, N_{user, r} - 1$

$r = 0, 1, \dots, N_{RU} - 1$

$N_{SD, l}$  is the number of data tones in the portion of  $r$ -th RU or MRU located in the  $l$ -th frequency subblock if DCM is applied.

$$t(k, l) = \begin{cases} D_{TM, DCM, l} \left( k \bmod \frac{N_{SD, l}}{D_{TM, DCM, l}} \right) + \left\lfloor \frac{k \cdot D_{TM, DCM, l}}{N_{SD, l}} \right\rfloor, & \text{for } k < N_{SD, l} \\ D_{TM, DCM, l} \left( (k - N_{SD, l}) \bmod \frac{N_{SD, l}}{D_{TM, DCM, l}} \right) + \left\lfloor \frac{(k - N_{SD, l}) \cdot D_{TM, DCM, l}}{N_{SD, l}} \right\rfloor + N_{SD, l}, & \text{for } k \ge N_{SD, l} \end{cases}$$

$D_{DCM, TM, l}$  is the LDPC tone mapping distance for the portion of  $r$ -th RU or MRU located in  $l$ -th frequency subblock if DCM is applied, defined in Table 36-52.

LDPC tone mapper for a 26-, 52-, 52+26-, 106-, 106+26-, 242-, 484-, and 996-tone RU or MRU is defined within one frequency subblock. LDPC tone mapping is performed separately for each 80 MHz frequency subblock.

Since LDPC tone mapping is not performed on BCC coded streams, for BCC coded spatial streams, Equation (36-74) applies.

$$d''_{k, i, n, l, r, u} = d'_{k, i, n, l, r, u} \quad (36-74)$$

where

$k = 0, 1, \dots, N_{SD, l} - 1$  for a 26-, 52-, 52+26-, 106-, 106+26-, and 242-tone RU or MRU in the  $l$ -th frequency subblock.

$i = 1, 2, \dots, N_{SS, r, u}$

$n = 0, 1, \dots, N_{SYM} - 1$

$l = 0$  for a 26-, 52-, 52+26-, 106-, 106+26-, and 242-tone RU or MRU.

$u = 0, 1, \dots, N_{user, r} - 1$

$r = 0, 1, \dots, N_{RU} - 1$

### 36.3.13.9 Segment deparser

The segment deparser combines 80 MHz frequency subblocks from the output of the LDPC tone mapper into a single frequency segment.

For a 26-, 52-, 52+26-, 106-, 106+26-, 242-, 484-, 484+242-, and 996-tone RU or MRU, the segment deparsing is not performed and is specified in Equation (36-75).

$$d_{k,i,n,r,u} = d_{k,i,n,0,r,u}^{\prime} \quad \text{if } 0 \le k \le N_{SD} - 1 \quad (36-75)$$

For a 996+484-, 996+484+242-, 2×996-, 2×996+484-, 3×996-, 3×996+484-, and 4×996-tone RU or MRU in EHT PPDU, the frequency subblocks at the output of the LDPC tone mapper are combined into one frequency segment as specified in Equation (36-76).

$$d_{k,i,n,r,u} = d_{k}^{\prime} \sum_{q=0}^{l-1} N_{SD,q,i,n,l,r,u} \quad \text{if } \sum_{q=0}^{l-1} N_{SD,q} \le k \le \sum_{q=0}^{l} N_{SD,q} - 1 \quad (36-76)$$

where

$$l \in [0, L - 1].$$

$$\sum_{q=0}^{l-1} N_{SD,q} = 0 \quad \text{for frequency subblock } l = 0.$$

### 36.3.13.10 Frequency domain duplication

For an EHT PPDU that is not encoded with EHT-MCS 14, frequency domain duplication is not performed and  $\tilde{d}_{k,m,n,r,u}$  is specified in Equation (36-77).

$$\tilde{d}_{k,m,n,r,u} = d_{k,m,n,r,u} \quad (36-77)$$

where

$$k = 0, 1, \dots, N_{SD,u} - 1$$

$$m = 1, 2, \dots, N_{SS,r,u}$$

$$n = 0, 1, \dots, N_{SYM} - 1$$

$$r = 0, 1, \dots, N_{RU} - 1$$

$$u = 0, 1, \dots, N_{user,r} - 1$$

$N_{SD,u}$  is the number of data subcarriers in the  $r$ -th RU or MRU for the user  $u$ ,  $u = 0, 1, \dots, N_{user,r} - 1$

For an EHT SU transmission using EHT-MCS 14, the output of the segment deparser is further duplicated to map to two RUs according to Equation (36-78) and Equation (36-79).

$$\tilde{d}_{k,m,n,r,u} = d_{k,m,n,r,u}, \quad 0 \le k \le 2N_{SD,u} - 1 \quad (36-78)$$

$$\tilde{d}_{k,m,n,r+1,u} = \begin{cases} -d_{k,m,n,r,u}, & 0 \le k \le N_{SD,u} - 1 \\ d_{k,m,n,r,u}, & N_{SD,u} \le k \le 2N_{SD,u} - 1 \end{cases} \quad (36-79)$$

where

$$m = 1 \text{ since } N_{SS,r,u} = 1 \text{ for EHT-MCS 14.}$$

$$n = 0, 1, \dots, N_{SYM} - 1$$

$$r = 0, \text{ since EHT-MCS 14 is only supported in an EHT SU transmission.}$$

$$u = 0, \text{ since EHT-MCS 14 is only supported in an EHT SU transmission.}$$

Here,  $\tilde{d}_{k,m,n,r,u}$  maps to data subcarriers in RU1 and  $\tilde{d}_{k,m,n,r+1,u}$  maps to data subcarriers in RU2, where RU1 and RU2 correspond to:

- 484-tone RUs for an 80 MHz PPDU (defined in Table 36-5),
- 996-tone RUs for a 160 MHz PPDU (defined in Table 36-6),
- 2×996-tone RUs for a 320 MHz PPDU (defined in Table 36-7).

#### 36.3.13.11 Pilot subcarriers

For a user transmitting on the  $i$ -th 26-, 52-, 106-, 242-, and 484-tone RU in a 20 MHz or 40 MHz PPDU bandwidth (see Table 27-8 and Table 27-9), the pilot subcarriers defined in 27.3.12.13 (Pilot subcarriers) shall be used.

For a user transmitting on the  $i$ -th 26-tone RU in an 80 MHz, a 160 MHz, or a 320 MHz PPDU bandwidth (see Table 36-5, Table 36-6, and Table 36-7), the pilot subcarriers shall be inserted at subcarriers  $k \in K_{R26_i}$ , where  $K_{R26_i}$  is given by the  $i$ -th pilot index set in the row of given PPDU bandwidth of Table 36-53.

Table 36-53—Pilot indices for a 26-tone RU transmission

| PPDU bandwidth       | $K_{R26_i}$                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|----------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 80 MHz, $i = 1:37$   | {-494, -480}, {-468, -454}, {-440, -426}, {-414, -400}, {-386, -372}, {-360, -346}, {-334, -320}, {-306, -292}, {-280, -266}, {-246, -232}, {-220, -206}, {-192, -178}, {-166, -152}, {-140, -126}, {-112, -98}, {-86, -72}, {-58, -44}, {-32, -18}, {not defined}, {18, 32}, {44, 58}, {72, 86}, {98, 112}, {126, 140}, {152, 166}, {178, 192}, {206, 220}, {232, 246}, {266, 280}, {292, 306}, {320, 334}, {346, 360}, {372, 386}, {400, 414}, {426, 440}, {454, 468}, {480, 494} |
| 160 MHz, $i = 1:74$  | {pilot subcarrier indices in 80 MHz - 512, pilot subcarrier indices in 80 MHz + 512}                                                                                                                                                                                                                                                                                                                                                                                                |
| 320 MHz, $i = 1:148$ | {pilot subcarrier indices in 160 MHz - 1024, pilot subcarrier indices in 160 MHz + 1024}                                                                                                                                                                                                                                                                                                                                                                                            |

NOTE—The 26-tone RU 19 is not defined in an 80 MHz EHT PPDU (see 36.3.2.1).

The pilot mapping  $P_n^k$  for the subcarrier  $k$  for symbol  $n$  shall be as specified in Equation (27-101) in 27.3.12.13 (Pilot subcarriers).

For a user transmitting on the  $i$ -th 52-tone RU in an 80 MHz, a 160 MHz, or a 320 MHz PPDU bandwidth (see Table 36-5, Table 36-6, and Table 36-7), the pilot subcarriers shall be inserted at subcarriers  $k \in K_{R52_i}$ , where  $K_{R52_i}$  is given by the  $i$ -th pilot index set in the row of given PPDU bandwidth of Table 36-54.

Table 36-54—Pilot indices for a 52-tone RU transmission

| PPDU bandwidth      | $K_{R52_i}$                                                                                                                                                                                                                                                                                                                                                                      |
|---------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 80 MHz, $i = 1:16$  | {-494, -480, -468, -454}, {-440, -426, -414, -400}, {-360, -346, -334, -320}, {-306, -292, -280, -266}, {-246, -232, -220, -206}, {-192, -178, -166, -152}, {-112, -98, -86, -72}, {-58, -44, -32, -18}, {18, 32, 44, 58}, {72, 86, 98, 112}, {152, 166, 178, 192}, {206, 220, 232, 246}, {266, 280, 292, 306}, {320, 334, 346, 360}, {400, 414, 426, 440}, {454, 468, 480, 494} |
| 160 MHz, $i = 1:32$ | {pilot subcarrier indices in 80 MHz - 512, pilot subcarrier indices in 80 MHz + 512}                                                                                                                                                                                                                                                                                             |
| 320 MHz, $i = 1:72$ | {pilot subcarrier indices in 160 MHz - 1024, pilot subcarrier indices in 160 MHz + 1024}                                                                                                                                                                                                                                                                                         |

The pilot mapping  $P_k^i$  for the subcarrier  $k$  for symbol  $n$  shall be as specified in Equation (27-102) in 27.3.12.13 (Pilot subcarriers).

For a user transmitting on the  $i$ -th 106-tone RU in an 80 MHz, a 160 MHz, or a 320 MHz PPDU bandwidth (see Table 36-5, Table 36-6, and Table 36-7), the pilot subcarriers shall be inserted at subcarriers  $k \in K_{R106}$ , where  $K_{R106}$  is given by the  $i$ -th pilot index set in the row of given PPDU bandwidth of Table 36-55.

Table 36-55—Pilot indices for a 106-tone RU transmission

| PPDU bandwidth      | $K_{R106}$                                                                                                                                                                               |
|---------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 80 MHz, $i = 1:8$   | {-494, -468, -426, -400}, {-360, -334, -292, -266}, {-246, -220, -178, -152}, {-112, -86, -44, -18}, {18, 44, 86, 112}, {152, 178, 220, 246}, {266, 292, 334, 360}, {400, 426, 468, 494} |
| 160 MHz, $i = 1:16$ | {pilot subcarrier indices in 80 MHz - 512, pilot subcarrier indices in 80 MHz + 512}                                                                                                     |
| 320 MHz, $i = 1:32$ | {pilot subcarrier indices in 160 MHz - 1024, pilot subcarrier indices in 160 MHz + 1024}                                                                                                 |

The pilot mapping  $P_k^i$  for the subcarrier  $k$  for symbol  $n$  shall be as specified in Equation (27-103) in 27.3.12.13 (Pilot subcarriers).

For a user transmitting on the  $i$ -th 242-tone RU in an 80 MHz, a 160 MHz, or a 320 MHz PPDU bandwidth (see Table 36-5, Table 36-6, and Table 36-7), the pilot subcarriers shall be inserted at subcarriers  $k \in K_{R242}$ , where  $K_{R242}$  is given by the  $i$ -th pilot index set in the row of given PPDU bandwidth of Table 36-56.

Table 36-56—Pilot indices for a 242-tone RU transmission

| PPDU bandwidth      | $K_{R242}$                                                                                                                                                                       |
|---------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 80 MHz, $i = 1:4$   | {-494, -468, -426, -400, -360, -334, -292, -266}, {-246, -220, -178, -152, -112, -86, -44, -18}, {18, 44, 86, 112, 152, 178, 220, 246}, {266, 292, 334, 360, 400, 426, 468, 494} |
| 160 MHz, $i = 1:8$  | {pilot subcarrier indices in 80 MHz - 512, pilot subcarrier indices in 80 MHz + 512}                                                                                             |
| 320 MHz, $i = 1:16$ | {pilot subcarrier indices in 160 MHz - 1024, pilot subcarrier indices in 160 MHz + 1024}                                                                                         |

The pilot mapping  $P_k^i$  for the subcarrier  $k$  for symbol  $n$  shall be as specified in Equation (27-104) in 27.3.12.13 (Pilot subcarriers).

For a user transmitting on the  $i$ -th 484-tone RU in an 80 MHz, a 160 MHz, or a 320 MHz PPDU bandwidth (see Table 36-5, Table 36-6, and Table 36-7), the pilot subcarriers shall be inserted in subcarriers  $k \in K_{R484}$ , where  $K_{R484}$  is given by the  $i$ -th pilot index set in the row of given PPDU bandwidth of Table 36-57.

Table 36-57—Pilot indices for a 484-tone RU transmission

| PPDU bandwidth     | $K_{84 \times 484}$                                                                                                                                                          |
|--------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 80 MHz, $i = 1:2$  | {-494, -468, -426, -400, -360, -334, -292, -266, -246, -220, -178, -152, -112, -86, -44, -18}, {18, 44, 86, 112, 152, 178, 220, 246, 266, 292, 334, 360, 400, 426, 468, 494} |
| 160 MHz, $i = 1:4$ | {pilot subcarrier indices in 80 MHz - 512, pilot subcarrier indices in 80 MHz + 512}                                                                                         |
| 320 MHz, $i = 1:8$ | {pilot subcarrier indices in 160 MHz - 1024, pilot subcarrier indices in 160 MHz + 1024}                                                                                     |

The pilot mapping  $P_n^k$  for the subcarrier  $k$  for symbol  $n$  shall be as specified in Equation (27-105) in 27.3.12.13 (Pilot subcarriers).

For a user transmitting on the  $i$ -th 996-tone RU in an 80 MHz, a 160 MHz, or a 320 MHz PPDU bandwidth (see Table 36-5, Table 36-6, and Table 36-7), the pilot subcarriers shall be inserted at subcarriers  $k \in K_{8096}$ , where  $K_{8096}$  is given by the  $i$ -th pilot index set in the row of given PPDU bandwidth of Table 36-58.

Table 36-58—Pilot indices for a 996-tone RU transmission

| PPDU bandwidth     | $K_{8096}$                                                                                 |
|--------------------|--------------------------------------------------------------------------------------------|
| 80 MHz, $i = 1$    | {-468, -400, -334, -266, -220, -152, -86, -18, 18, 86, 152, 220, 266, 334, 400, 468}       |
| 160 MHz, $i = 1:2$ | {pilot subcarrier indices in 80 MHz - 512}, {pilot subcarrier indices in 80 MHz + 512}     |
| 320 MHz, $i = 1:4$ | {pilot subcarrier indices in 160 MHz - 1024}, {pilot subcarrier indices in 160 MHz + 1024} |

The pilot mapping  $P_n^k$  for the subcarrier  $k$  for symbol  $n$  shall be specified in Equation (27-106) in 27.3.12.13 (Pilot subcarriers).

For a user transmitting on the  $i$ -th  $2 \times 996$ -tone RU in a 160 MHz or a 320 MHz PPDU bandwidth (see Table 36-6, and Table 36-7), the pilot subcarriers shall be inserted in subcarriers  $k \in K_{82 \times 996}$ , where  $K_{82 \times 996}$  is given by the  $i$ -th pilot index set in the row of given PPDU bandwidth of Table 36-59.

Table 36-59—Pilot indices for a  $2 \times 996$ -tone RU transmission

| PPDU bandwidth     | $K_{82 \times 996}$                                                                                                                                                            |
|--------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 160 MHz, $i = 1$   | {-980, -912, -846, -778, -732, -664, -598, -530, -494, -426, -360, -292, -246, -178, -112, -44, 44, 112, 178, 246, 292, 360, 426, 494, 530, 598, 664, 732, 778, 846, 912, 980} |
| 320 MHz, $i = 1:2$ | {pilot subcarrier indices in 160 MHz - 1024}, {pilot subcarrier indices in 160 MHz + 1024}                                                                                     |

The pilot mapping  $P_n^k$  for the subcarrier  $k$  for symbol  $n$  shall be as specified in Equation (27-107) in 27.3.12.13 (Pilot subcarriers).

For a user transmitting on a  $4 \times 996$ -tone RU in a 320 MHz PPDU bandwidth (see Table 36-7), the pilot subcarriers shall be inserted at subcarriers  $k \in K_{84 \times 996}$ , where  $K_{84 \times 996}$  is given by the pilot index set in the row of given PPDU bandwidth of Table 36-60.

Table 36-60—Pilot indices for a 4×996-tone RU transmission

| PPDU bandwidth   | $K_{24 \times 996}$                                                                                                                                                                                                                                                                                                                                                                            |
|------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 320 MHz, $i = 1$ | {-2004, -1936, -1870, -1802, -1756, -1688, -1622, -1554, -1518, -1450, -1384, -1316, -1270, -1202, -1136, -1068, -980, -912, -846, -778, -732, -664, -598, -530, -494, -426, -360, -292, -246, -178, -112, -44, 44, 112, 178, 246, 292, 360, 426, 494, 530, 598, 664, 732, 778, 846, 912, 980, 1068, 1136, 1202, 1270, 1316, 1384, 1450, 1518, 1554, 1622, 1688, 1756, 1802, 1870, 1936, 2004} |

The pilot mapping  $P_n^k$  for the subcarrier  $k$  for symbol  $n$  shall be as specified in Equation (36-80) and Equation (36-81).

$$P_n^{K_{24 \times 996}} = \left\{ \begin{array}{l} \Psi_{(n+1) \text{ mod } 8} \Psi_{(n+2) \text{ mod } 8} \Psi_{(n+3) \text{ mod } 8} \Psi_{(n+4) \text{ mod } 8} \Psi_{(n+5) \text{ mod } 8} \\ \Psi_{(n+6) \text{ mod } 8} \Psi_{(n+7) \text{ mod } 8} \Psi_{(n+8) \text{ mod } 8} \Psi_{(n+9) \text{ mod } 8} \Psi_{(n+10) \text{ mod } 8} \Psi_{(n+11) \text{ mod } 8} \\ \Psi_{(n+12) \text{ mod } 8} \Psi_{(n+13) \text{ mod } 8} \Psi_{(n+14) \text{ mod } 8} \Psi_{(n+15) \text{ mod } 8} \Psi_{(n+16) \text{ mod } 8} \Psi_{(n+17) \text{ mod } 8} \Psi_{(n+18) \text{ mod } 8} \\ \Psi_{(n+19) \text{ mod } 8} \Psi_{(n+20) \text{ mod } 8} \Psi_{(n+21) \text{ mod } 8} \Psi_{(n+22) \text{ mod } 8} \Psi_{(n+23) \text{ mod } 8} \Psi_{(n+24) \text{ mod } 8} \\ \Psi_{(n+25) \text{ mod } 8} \Psi_{(n+26) \text{ mod } 8} \Psi_{(n+27) \text{ mod } 8} \Psi_{(n+28) \text{ mod } 8} \Psi_{(n+29) \text{ mod } 8} \Psi_{(n+30) \text{ mod } 8} \Psi_{(n+31) \text{ mod } 8} \\ \Psi_{(n+32) \text{ mod } 8} \Psi_{(n+33) \text{ mod } 8} \Psi_{(n+34) \text{ mod } 8} \Psi_{(n+35) \text{ mod } 8} \Psi_{(n+36) \text{ mod } 8} \Psi_{(n+37) \text{ mod } 8} \Psi_{(n+38) \text{ mod } 8} \\ \Psi_{(n+39) \text{ mod } 8} \Psi_{(n+40) \text{ mod } 8} \Psi_{(n+41) \text{ mod } 8} \Psi_{(n+42) \text{ mod } 8} \Psi_{(n+43) \text{ mod } 8} \Psi_{(n+44) \text{ mod } 8} \\ \Psi_{(n+45) \text{ mod } 8} \Psi_{(n+46) \text{ mod } 8} \Psi_{(n+47) \text{ mod } 8} \Psi_{(n+48) \text{ mod } 8} \Psi_{(n+49) \text{ mod } 8} \Psi_{(n+50) \text{ mod } 8} \Psi_{(n+51) \text{ mod } 8} \\ \Psi_{(n+52) \text{ mod } 8} \Psi_{(n+53) \text{ mod } 8} \Psi_{(n+54) \text{ mod } 8} \Psi_{(n+55) \text{ mod } 8} \Psi_{(n+56) \text{ mod } 8} \Psi_{(n+57) \text{ mod } 8} \Psi_{(n+58) \text{ mod } 8} \\ \Psi_{(n+59) \text{ mod } 8} \Psi_{(n+60) \text{ mod } 8} \Psi_{(n+61) \text{ mod } 8} \Psi_{(n+62) \text{ mod } 8} \Psi_{(n+63) \text{ mod } 8} \Psi_{(n+64) \text{ mod } 8} \Psi_{(n+65) \text{ mod } 8} \\ \Psi_{(n+66) \text{ mod } 8} \Psi_{(n+67) \text{ mod } 8} \Psi_{(n+68) \text{ mod } 8} \Psi_{(n+69) \text{ mod } 8} \Psi_{(n+70) \text{ mod } 8} \Psi_{(n+71) \text{ mod } 8} \Psi_{(n+72) \text{ mod } 8} \\ \Psi_{(n+73) \text{ mod } 8} \Psi_{(n+74) \text{ mod } 8} \Psi_{(n+75) \text{ mod } 8} \Psi_{(n+76) \text{ mod } 8} \Psi_{(n+77) \text{ mod } 8} \Psi_{(n+78) \text{ mod } 8} \Psi_{(n+79) \text{ mod } 8} \\ \Psi_{(n+80) \text{ mod } 8} \Psi_{(n+81) \text{ mod } 8} \Psi_{(n+82) \text{ mod } 8} \Psi_{(n+83) \text{ mod } 8} \Psi_{(n+84) \text{ mod } 8} \Psi_{(n+85) \text{ mod } 8} \Psi_{(n+86) \text{ mod } 8} \\ \Psi_{(n+87) \text{ mod } 8} \Psi_{(n+88) \text{ mod } 8} \Psi_{(n+89) \text{ mod } 8} \Psi_{(n+90) \text{ mod } 8} \Psi_{(n+91) \text{ mod } 8} \Psi_{(n+92) \text{ mod } 8} \Psi_{(n+93) \text{ mod } 8} \\ \Psi_{(n+94) \text{ mod } 8} \Psi_{(n+95) \text{ mod } 8} \Psi_{(n+96) \text{ mod } 8} \Psi_{(n+97) \text{ mod } 8} \Psi_{(n+98) \text{ mod } 8} \Psi_{(n+99) \text{ mod } 8} \Psi_{(n+100) \text{ mod } 8} \\ \Psi_{(n+101) \text{ mod } 8} \Psi_{(n+102) \text{ mod } 8} \Psi_{(n+103) \text{ mod } 8} \Psi_{(n+104) \text{ mod } 8} \Psi_{(n+105) \text{ mod } 8} \Psi_{(n+106) \text{ mod } 8} \Psi_{(n+107) \text{ mod } 8} \\ \Psi_{(n+108) \text{ mod } 8} \Psi_{(n+109) \text{ mod } 8} \Psi_{(n+110) \text{ mod } 8} \Psi_{(n+111) \text{ mod } 8} \Psi_{(n+112) \text{ mod } 8} \Psi_{(n+113) \text{ mod } 8} \Psi_{(n+114) \text{ mod } 8} \\ \Psi_{(n+115) \text{ mod } 8} \Psi_{(n+116) \text{ mod } 8} \Psi_{(n+117) \text{ mod } 8} \Psi_{(n+118) \text{ mod } 8} \Psi_{(n+119) \text{ mod } 8} \Psi_{(n+120) \text{ mod } 8} \Psi_{(n+121) \text{ mod } 8} \\ \Psi_{(n+122) \text{ mod } 8} \Psi_{(n+123) \text{ mod } 8} \Psi_{(n+124) \text{ mod } 8} \Psi_{(n+125) \text{ mod } 8} \Psi_{(n+126) \text{ mod } 8} \Psi_{(n+127) \text{ mod } 8} \Psi_{(n+128) \text{ mod } 8} \\ \Psi_{(n+129) \text{ mod } 8} \Psi_{(n+130) \text{ mod } 8} \Psi_{(n+131) \text{ mod } 8} \Psi_{(n+132) \text{ mod } 8} \Psi_{(n+133) \text{ mod } 8} \Psi_{(n+134) \text{ mod } 8} \Psi_{(n+135) \text{ mod } 8} \end{array} \right\} \quad (36-80)$$
$$P_n^{k \notin K_{24 \times 996}} = 0 \quad (36-81)$$

where

$\Psi_m$  is defined in Table 27-44 (The 8 pilot values in a 242-tone RU).

For a user transmitting on the MRUs, the pilot subcarriers, mapping and values of MRUs shall follow the pilot subcarriers, mapping, and values of each component RU of the MRU except the following pilot mapping and values.

For a user transmitting on the 52+26-tone MRU and 106+26-tone MRU, the pilot mapping  $P_n^k$  for the subcarrier  $k$  for symbol  $n$  and the pilot values shall be as specified in from Equation (36-82) to Equation (36-86).

$$P_n^{K_{52+26}} = \left\{ \Psi_{n \text{ mod } 6} \Psi_{(n+1) \text{ mod } 6} \Psi_{(n+2) \text{ mod } 6} \Psi_{(n+3) \text{ mod } 6} \Psi_{(n+4) \text{ mod } 6} \Psi_{(n+5) \text{ mod } 6} \right\} \quad (36-82)$$

$$P_n^{k \notin K_{52+26}} = 0 \quad (36-83)$$

$$P_n^{K_{R106+26_i}} = \{ \Psi_n \bmod 6^*, \Psi_{(n+1) \bmod 6^*}, \Psi_{(n+2) \bmod 6^*}, \Psi_{(n+3) \bmod 6^*}, \Psi_{(n+4) \bmod 6^*}, \Psi_{(n+5) \bmod 6^*} \} \quad (36-84)$$

$$P_n^{k \notin K_{R106+26_i}} = 0 \quad (36-85)$$

where

$$\Psi_0 = 1, \Psi_1 = 1, \Psi_2 = 1, \Psi_3 = -1, \Psi_4 = -1, \Psi_5 = 1 \quad (36-86)$$

$K_{R52+26_i}$  and  $K_{R106+26_i}$  are the pilot subcarrier index sets for the  $i$ -th 52+26-tone MRU and  $i$ -th 106+26-tone MRU, respectively (see Table 36-8 to Table 36-12).

The above pilot mapping shall be copied to all spatial streams before the spatial stream cyclic shifts are applied.

### 36.3.13.12 OFDM modulation

The time domain waveform of the Data field of an EHT PPDU that is not an EHT TB PPDU for transmit chain  $i_{TX}$ ,  $1 \le i_{TX} \le N_{TX}$ , shall be as defined in Equation (36-87).

$$r_{\text{EHT-Data}}^{(i_{TX})}(t) = \quad (36-87)$$

$$\frac{1}{\sqrt{\sum_{r=0}^{N_{RU}-1} \alpha_r^2 |K_r|}} \sum_{n=0}^{N_{SYM}-1} w_{\text{EHT-Data}}(t - nT_{SYM}) \sum_{r=0}^{N_{RU}-1} \frac{\alpha_r}{\sqrt{N_{SS,r, \text{total}}}} \sum_{k \in K_r} \sum_{u=0}^{N_{user,r}-1} \sum_{m=1}^{N_{SS,r,u}} (\{Q_{k,u}\}_{i_{TX},m}) \\ (D_{k,m,n,r}^u + p_{n+2+N_{U-SIG}+N_{EHT-SIG}} P_n^k \exp(j2\pi k \Delta_{F, \text{EHT}} (t - nT_{SYM} - T_{GI, \text{Data}} - T_{CS, \text{EHT}} (M_{r,u} + m))))$$

where

$T_{SYM}$  is defined in Table 36-18.

$p_n$  is defined in 17.3.5.10.

$P_n^k$  is defined based on the RU or MRU size. For any RU or MRU smaller than 4x996, except 52+26-tone MRU and 106+26-tone MRU, the value is defined for each component RU using Equation (27-101) to Equation (27-107) in 27.3.12.13 (Pilot subcarriers). For 52+26-tone MRU and 106+26-tone MRU, the value is defined from Equation (36-82) to Equation (36-85). For 4x996-tone MRU, the value is defined in Equation (36-80) in 36.3.13.11.

$N_{U-SIG}$  equals 2 for any EHT PPDU transmitted by an EHT STA.

$T_{CS, \text{EHT}}(M_{r,u} + m)$  represents the cyclic shift for spatial stream  $M_{r,u} + m$  as defined in 36.3.12.2.2.

$T_{GI, \text{Data}}$  is the guard interval duration as defined in Table 36-18.

$D_{k,m,n,r}^u$  is the transmitted constellation for user  $u$  in the  $r$ -th RU or MRU at subcarrier  $k$ , spatial stream  $m$ , and Data field OFDM symbol  $n$  and is defined by Equation (36-88).

$$D_{k, m, n, r}^u = \begin{cases} 0, & k \in K_{Pilot} \\ d_{M_r(k), m, n, r, u}, & \text{otherwise} \end{cases} \quad (36-88)$$

where

$K_{Pilot}$  is the set of pilot subcarrier indices for the Data field OFDM symbols as defined in 36.3.13.11

$M_r(k)$  is defined in Equation (36-89).

$$M_r(k) = |\{k': K_{r, \min} \le k' \le k\} \cap K_r| - 1 - |\{k': K_{r, \min} \le k' \le k\} \cap K_{Pilot}| \quad (36-89)$$

where

$K_{r, \min}$  is the minimum value of the set  $K_r$ .

$|\Phi|$  is the cardinality of a set  $\Phi$ .

NOTE— $M_r(k)$  translates a subcarrier index ( $k \in K_r$ ) into the index of data symbols in a transmission over RU or MRU  $r$ , ( $0 \le M_r(k) \le N_{SD, total} - 1$ ). The subcarrier index  $k$  for the data subcarrier is first offset by the minimum value of subcarrier index  $K_{r, \min}$  (for the lower edge subcarrier) in this RU or MRU and number of the unoccupied tones, and then subtracted by the number of pilot subcarriers falling in between the data subcarrier and the edge subcarrier.

The time domain waveform of the Data field of an EHT TB PPDU for user  $u$  in the  $r$ -th RU or MRU from transmit chain  $i_{TX}$ ,  $1 \le i_{TX} \le N_{TX}$ , shall be as defined in Equation (36-90).

$$r_{\text{EHT-Data}, r, u}^{(i_{TX})}(t) = \quad (36-90)$$

$$\frac{1}{\sqrt{|K_r|}} \sum_{n=0}^{N_{SYM}-1} w_{\text{EHT-Data}}(t - nT_{SYM}) \frac{1}{\sqrt{N_{SS, r, u}}} \sum_{k \in K_r} \sum_{m=1}^{N_{SS, r, u}} (\{Q_{k, u}\}_{i_{TX}, m} \\ (D_{k, m, n, r}^u + P_{n+4} P^k) \exp(j2\pi k \Delta f_{\text{EHT}}(t - nT_{SYM} - T_{GI, \text{Data}} - T_{CS, \text{EHT}}(M_{r, u} + m))))$$

where

$Q_{k, u}$  is defined in 36.3.11.4.

Other variables in Equation (36-87) and Equation (36-90) are defined in 36.3.10 and 36.3.11.

### 36.3.13.13 Dual carrier modulation

DCM modulates the same information on a pair of subcarriers. DCM is a modulation scheme for EHT-SIG and Data fields, which is applied for EHT-MCSs 14 and 15. DCM is applicable only to BPSK, rate-1/2 coding and single spatial stream non-MU-MIMO transmission.

The constellation mapper for DCM is defined in 36.3.13.7. The LDPC tone mapper for DCM is defined in 36.3.13.8. The BCC interleaver for DCM is defined in 36.3.13.6. The segment parser for DCM is defined in 36.3.13.5.

### 36.3.14 Packet extension

A PE field of duration 0  $\mu$ s, 4  $\mu$ s, 8  $\mu$ s, 12  $\mu$ s, 16  $\mu$ s, or 20  $\mu$ s is present in an EHT PPDU. A PE field of duration 20  $\mu$ s is only allowed in the following cases:

- An EHT MU PPDU with at least one participating STA being modulated with 4096-QAM,
- A 320 MHz EHT MU PPDU if the size of one of the allocated RU or MRU is greater than  $2 \times 996$ ,

— an EHT TB PPDU

A non-AP EHT STA shall support transmission of an EHT TB PPDU with a PE field of duration up to 20  $\mu$ s, and reception of an EHT MU PPDU with a PE field of duration up to 20  $\mu$ s. The PE field provides additional receive processing time at the end of the EHT PPDU. The PE field, if present, shall be transmitted with the same average power as the Data field. Other than that, its content is arbitrary. The spectrum used by the PE field shall be commensurate with the locations and sizes of the occupied RU(s) or MRU(s) in the Data field to minimize power leakage outside of the spectrum used by the Data field. For example, for a 20 MHz OFDMA EHT PPDU, if the occupied RU in the Data field is a 106-tone RU, the PE would have a spectrum that is approximately 10 MHz wide.

The duration of the PE field for an EHT MU PPDU is determined by both the pre-FEC padding factor value in the last OFDM symbol of the Data field, and the TXVECTOR parameter NOMINAL\_PACKET\_PADDING as described in 35.13.

For an EHT MU PPDU, the nominal  $T_{PE}$  value ( $T_{PE,nominal}$ ) is given by Equation (36-91).

$$T_{PE,nominal} = \max_{u} T_{PE,nominal,u} \quad (36-91)$$

where

$T_{PE,nominal,u}$  is the nominal  $T_{PE}$  value for user  $u$  and is also given by Table 36-61.

$\max_{u} f(u)$  is the maximum value of  $f(u)$  over all values of  $u$ .

In this case,  $a$  in Table 36-61 is given by either Equation (36-58) or Equation (36-59).

Table 36-61—Nominal  $T_{PE}$  values

| $a$ | TXVECTOR parameter NOMINAL_PACKET_PADDING[u] (EHT MU PPDU) |           |            |            |
|-----|------------------------------------------------------------|-----------|------------|------------|
|     | 0 $\mu$ s                                                  | 8 $\mu$ s | 16 $\mu$ s | 20 $\mu$ s |
| 1   | 0 $\mu$ s                                                  | 0 $\mu$ s | 4 $\mu$ s  | 8 $\mu$ s  |
| 2   | 0 $\mu$ s                                                  | 0 $\mu$ s | 8 $\mu$ s  | 12 $\mu$ s |
| 3   | 0 $\mu$ s                                                  | 4 $\mu$ s | 12 $\mu$ s | 16 $\mu$ s |
| 4   | 0 $\mu$ s                                                  | 8 $\mu$ s | 16 $\mu$ s | 20 $\mu$ s |

The duration of the PE field,  $T_{PE}$ , may take values of 0  $\mu$ s, 4  $\mu$ s, 8  $\mu$ s, 12  $\mu$ s, 16  $\mu$ s, or 20  $\mu$ s.  $T_{PE}$  for an EHT MU PPDU shall not be less than  $T_{PE,nominal}$ .  $T_{PE}$  for an EHT MU PPDU should be equal to  $T_{PE,nominal}$  to minimize the packet extension overhead. Figure 36-55, Figure 36-56, and Figure 36-57 show examples of the PE field duration in an EHT MU PPDU if the maximum value of TXVECTOR parameters NOMINAL\_PACKET\_PADDING[u] is 8  $\mu$ s, 16  $\mu$ s, and 20  $\mu$ s, respectively, and  $T_{PE} = T_{PE,nominal}$ .

$T_{PE}$  for an EHT sounding NDP is 4  $\mu$ s if the PPDU bandwidth is less than or equal to 160 MHz. Otherwise,  $T_{PE}$  for an EHT sounding NDP is 8  $\mu$ s.

![](f674b1cc73a62bacc6adb7eaecd0dd82_img.jpg)

Figure 36-55 illustrates the PE field duration of an EHT MU PPDU for various values of  $a$  (1, 2, 3, 4). The input consists of FEC output bits and Post FEC padding bits, which are subjected to OFDM modulation to form a Data field containing a Symbol and a PE field.

- $a=1$ : Data field duration is  $4\mu\text{s}$ .
- $a=2$ : Data field duration is  $8\mu\text{s}$ .
- $a=3$ : Data field duration is  $12\mu\text{s}$ .
- $a=4$ : Data field duration is  $16\mu\text{s}$ .

Figure 36-55—PE field duration of an EHT MU PPDU if the maximum value of TXVECTOR parameters NOMINAL\_PACKET\_PADDING $[u]$  is equal to  $8\mu\text{s}$  and  $T_{PE} = T_{PE,nominal}$

![](aa287ca7457c26765aacdd0e4ce74ce9_img.jpg)

Figure 36-56 illustrates the E field duration of an EHT MU PPDU for various values of  $a$  (1, 2, 3, 4). The input consists of FEC output bits and Post FEC padding bits, which are subjected to OFDM modulation to form a Data field containing a Symbol and an E field.

- $a=1$ : Data field duration is  $4\mu\text{s}$ .
- $a=2$ : Data field duration is  $8\mu\text{s}$ .
- $a=3$ : Data field duration is  $12\mu\text{s}$ .
- $a=4$ : Data field duration is  $16\mu\text{s}$ .

Figure 36-56—E field duration of an EHT MU PPDU if the maximum value of TXVECTOR parameters NOMINAL\_PACKET\_PADDING $[u]$  is equal to  $16\mu\text{s}$  and  $T_{PE} = T_{PE,nominal}$

![](36f00b65c1ffa5dfe916215cb079b18c_img.jpg)

Figure 36-57 illustrates the PE field duration of an EHT MU PPDU based on the maximum value of the TXVECTOR parameter NOMINAL\_PACKET\_PADDING[u] being equal to 20  $\mu$ s. The diagram shows four scenarios (a=1, a=2, a=3, a=4) where FEC output bits and Post FEC padding bits are processed via OFDM modulation to form a Data field (Symbol + PE).

- For a=1: PE duration is 8  $\mu$ s.
- For a=2: PE duration is 12  $\mu$ s.
- For a=3: PE duration is 16  $\mu$ s.
- For a=4: PE duration is 20  $\mu$ s.

Figure 36-57—PE field duration of an EHT MU PPDU if the maximum value of TXVECTOR parameters NOMINAL\_PACKET\_PADDING[u] is equal to 20  $\mu$ s and  $T_{PE} = T_{PE,nominal}$

If transmitting an EHT TB PPDU for which the TXVECTOR parameter TRIGGER\_METHOD is TRIGGER\_FRAME, each transmitter of an EHT TB PPDU shall append a PE field with a duration  $T_{PE}$  calculated using Equation (36-92).

$$T_{PE} = \left[ \frac{\left( \frac{LENGTH + 2 + 3}{3} \times 4 - T_{EHT-PREAMBLE} \right) - N_{SYM} T_{SYM}}{4} \right] \times 4 \quad (36-92)$$

where

LENGTH is the value indicated by UL Length subfield of the Common Info field in the Trigger frame.

$T_{EHT-PREAMBLE}$  is the value for an EHT TB PPDU in Equation (36-97).

$N_{SYM}$  is computed as defined in Equation (36-93).

$$N_{SYM} = \left[ \frac{\frac{LENGTH + 2 + 3}{3} \times 4 - T_{EHT-PREAMBLE}}{T_{SYM}} \right] - b_{PE-Disambiguity} \quad (36-93)$$

$b_{PE-Disambiguity}$  is the value of the TXVECTOR parameter EHT\_TB\_PE\_DISAMBIGUITY.

If transmitting an EHT TB PPDU for which the TXVECTOR parameter TRIGGER\_METHOD is TRS, each transmitter of the EHT TB PPDU shall append a PE field with the duration  $T_{PE}$  equal to the value specified in the TXVECTOR parameter DEFAULT\_PE\_DURATION.

The PE Disambiguity field of the EHT-SIG field for an EHT MU PPDU shall be set to 1 if the condition in Equation (36-94) is met, otherwise, it shall be set to 0.

The PE Disambiguity subfield in the Common Info field of the Trigger frame shall be set to 1 if the condition in Equation (36-94) is met for the EHT TB PPDU solicited by the Trigger frame. Otherwise, it shall be set to 0.

$$T_{PE} + 4 \times \left( \left\lceil \frac{TXTIME - SignalExtension - 20}{4} \right\rceil - \left( \frac{TXTIME - SignalExtension - 20}{4} \right) \right) \ge T_{SYM} \quad (36-94)$$

where

$T_{PE}$  is the PE field duration.

$T_{SYM}$  is the symbol duration of the Data field as defined in Table 36-18.

TXTIME(in microseconds) is defined in 36.4.3.

SignalExtension is 0  $\mu$ s if TXVECTOR parameter NO\_SIG\_EXTN is true and is aSignalExtension as defined in Table 27-54 (HE PHY characteristics) if TXVECTOR parameter NO\_SIG\_EXTN is false.

The receiver computes  $N_{SYM}$  and  $T_{PE}$  of the received EHT MU PPDU using Equation (36-95) and Equation (36-96).

$$N_{SYM} = \left\lfloor \frac{\frac{L_{\text{LENGTH}} + 3}{3} \times 4 - T_{\text{EHT-PREAMBLE}}}{T_{\text{SYM}}} \right\rfloor - b_{\text{PE-Disambiguity}} \quad (36-95)$$

$$T_{PE} = \left\lfloor \frac{\left( \frac{L_{\text{LENGTH}} + 3}{3} \times 4 - T_{\text{EHT-PREAMBLE}} \right) - N_{\text{SYM}} T_{\text{SYM}}}{4} \right\rfloor \times 4 \quad (36-96)$$

where

$L_{\text{LENGTH}}$  is the value indicated by the LENGTH field of the L-SIG field.

$$T_{\text{EHT-PREAMBLE}} \quad (36-97)$$

$$= \begin{cases} T_{\text{RL-SIG}} + T_{\text{U-SIG}} + T_{\text{EHT-STF-T}} + N_{\text{EHT-LTF}} T_{\text{EHT-LTF-SYM}} & \text{for an EHT TB PPDU} \\ T_{\text{RL-SIG}} + T_{\text{U-SIG}} + N_{\text{EHT-SIG}} T_{\text{EHT-SIG}} + T_{\text{EHT-STF-NT}} + N_{\text{EHT-LTF}} T_{\text{EHT-LTF-SYM}} & \text{for an EHT MU PPDU} \end{cases}$$

$T_{\text{RL-SIG}}$ ,  $T_{\text{EHT-STF-T}}$ ,  $T_{\text{EHT-STF-NT}}$ ,  $T_{\text{EHT-LTF-SYM}}$ ,  $T_{\text{U-SIG}}$ , and  $T_{\text{EHT-SIG}}$  are defined in Table 36-18.

$N_{\text{EHT-SIG}}$  and  $N_{\text{EHT-LTF}}$  are defined in Table 36-23.

$b_{\text{PE-Disambiguity}}$  is the value indicated by the PE Disambiguity subfield of the EHT-SIG field for an EHT MU PPDU, or the value indicated by the PE Disambiguity subfield in the Common Info field in the Trigger frame for an EHT TB PPDU.

### 36.3.15 Non-HT duplicate transmission

If the TXVECTOR parameter FORMAT is NON\_HT and the TXVECTOR parameter NON\_HT\_MODULATION is NON\_HT\_DUP\_OFDM, the transmitted PPDU is a non-HT duplicate PPDU. Non-HT duplicate transmission is used to transmit to non-HT STAs, HT STAs, VHT STAs, HE STAs, and EHT STAs that may be present in a part of a 40 MHz, 80 MHz, 160 MHz, or 320 MHz channel (see Table 36-3). The RL-SIG, U-SIG, EHT-SIG, EHT-STF, EHT-LTF, and PE fields are not transmitted.

The L-STF and L-LTF fields shall be transmitted in the same way as in the EHT transmission. The L-SIG field shall be transmitted in the same way as in the EHT transmission, with the following exceptions:

- The Rate and Length fields shall follow 17.3.4 (SIGNAL field)
- The four additional subcarriers at indices  $\pm 27$  and  $\pm 28$  are not modulated (no energy)

NOTE—For a non-HT duplicate PPDU transmission that is a preamble punctured PPDU, the L-STF, L-LTF, and L-SIG fields are not transmitted in each punctured 20 MHz subchannel.

In a 40 MHz non-HT duplicate transmission, the Data field shall be as defined by Equation (19-61).

In an 80 MHz or 160 MHz non-HT duplicate transmission, the Data field shall be as defined by Equation (27-123).

In a 320 MHz non-HT duplicate transmission, the Data field shall be as defined by Equation (36-98).

$$t_{\text{non-HT, BW}}^{f_{\text{TX}}} = \frac{1}{N_{\text{TX}}^{\text{Tone}} N_{\text{NON-HT, DUP, OFDM-Data}} \Omega_{20\text{MHz}}} \quad (36-98)$$
$$\sum_{n=0}^{N_{\text{SYM}}-1} w_{\text{SYM}}(t - n T_{\text{SYM}}) \sum_{i_{\text{BW}}=0}^{N_{\text{SUBCHNL}}-1} \left( (1 - \text{INACTIVE\_SUBCHANNELS}[i_{\text{BW}}]) \right)$$
$$\sum_{k=-26}^{26} \gamma_{(k - K_{\text{Sinh}}(i_{\text{BW}}), BW)} (D_{k,n} + p_n + t_{\text{TX}}) \exp(j2\pi(k - K_{\text{Sinh}}(i_{\text{BW}}))\Delta_f (t - n T_{\text{SYM}} - T_{\text{GI}} - t_{\text{CS}}^{f_{\text{TX}}}))$$

where

$N_{20\text{MHz}}$  and  $K_{\text{Sinh}}(i)$  are defined in 36.3.12.3.

$P_i$  and  $p_n$  are defined in 17.3.5.10 (OFDM modulation).

$D_{k,n}$  is defined in Equation (21-26).

$t_{\text{TX, BW}}$  is defined in Equation (36-12).

$t_{\text{CS}}^{f_{\text{TX}}}$  represents the cyclic shift for transmit chain  $t_{\text{TX}}$  with a value defined in 36.3.12.2.1.

$N_{\text{NON-HT, DUP, OFDM-Data}}$  has the value given in Table 36-26.

INACTIVE\_SUBCHANNELS[x] is a bit x of the TXVECTOR parameter INACTIVE\_SUBCHANNELS if present, and is 0 otherwise.

$|\Omega_{20\text{MHz}}|$  is, if the TXVECTOR parameter INACTIVE\_SUBCHANNELS is present, equal to the number of bits with value 0 in the TXVECTOR parameter INACTIVE\_SUBCHANNELS. Otherwise, it is equal to  $N_{\text{SUBCHNL}}$ .

Other variables in Equation (36-98) are defined in 36.3.10 and 36.3.11.

For a non-HT duplicate PPDU transmission that is a preamble punctured PPDU, each punctured 20 MHz subchannel is indicated as punctured by the value of 1 in the corresponding bit of the TXVECTOR parameter INACTIVE\_SUBCHANNELS. If the TXVECTOR parameter RU\_ALLOCATION is included when transmitting a non-HT duplicate PPDU, then RU\_ALLOCATION shall be set to the value of 26 (000011010 in binary representation) for any 242-tone RU aligned with the punctured 20 MHz subchannel. Each 20 MHz subchannel that is not punctured is indicated as such by including the value of 64 (001000000 in binary representation) in the 9 bits of the TXVECTOR parameter RU\_ALLOCATION corresponding to the 242-tone RU aligned with that 20 MHz subchannel.

### 36.3.16 Transmit requirements for PPDU sent in response to a triggering frame

#### 36.3.16.1 Introduction

An AP may solicit simultaneous EHT TB PPDU transmissions, or simultaneous non-HT or non-HT duplicate PPDU transmissions from multiple non-AP STAs using a triggering frame. Since there are multiple transmitters (non-AP STAs) in the above simultaneous transmissions, the pre-corrections of transmission time, frequency, sampling symbol clock, and power (in the case of an EHT TB PPDU) by the non-AP STAs are necessary to mitigate synchronization and interference issues at the AP. Frequency and sampling clock pre-corrections are needed to prevent inter-carrier interference. Power pre-correction is necessary to control interference between EHT TB PPDU transmissions from the non-AP STAs. An AP may solicit simultaneous EHT TB PPDU transmissions from both Class A and Class B devices. A non-AP STA that supports EHT TB PPDU transmission shall support power pre-correction as described in 36.3.16.2 and shall meet the pre-correction accuracy requirements described in 36.3.16.3.

#### 36.3.16.2 Power pre-correction

A STA transmits an EHT TB PPDU at the STA's maximum transmit power for the assigned EHT-MCS if the UL Target Receive Power subfield of the User Info field in the Trigger frame that solicits the EHT TB PPDU or the UL Target Receive Power subfield of the TRS Control field of the frame that solicits a response in an EHT TB PPDU indicates that the maximum transmit power is needed.

Otherwise, the STA calculates the transmit power  $Tx_{pwr}^{STA}$ , in units of dBm, of the EHT TB PPDU for the assigned EHT-MCS using Equation (36-99).

$$Tx_{pwr}^{STA} = PL_{DL} + TargetRx_{pwr} \quad (36-99)$$

where

$PL_{DL}$  is the DL pathloss.

$TargetRx_{pwr}$  is the expected receive signal power in units of dBm indicated in the UL Target Receive Power subfield in the User Info field in the Trigger frame or the UL Target Receive Power subfield in the TRS Control field.

The STA computes  $PL_{DL}$  using Equation (36-100).

$$PL_{DL} = Tx_{pwr}^{AP} - Rx_{pwr} \quad (36-100)$$

where

$Tx_{pwr}^{AP}$  is the AP's transmit power, normalized to 20 MHz and expressed in dBm/20 MHz, as indicated by the AP Tx Power subfield of the Common Info field in the Trigger frame, the encoding of which is specified in 9.3.1.22, or the AP Tx Power subfield of the TRS Control field, the encoding of which is specified in 9.2.4.7.1 (TRS Control).

$Rx_{pwr}$  is the receive signal power, normalized to 20 MHz and expressed in dBm/20 MHz, at the antenna connector of the STA of the triggering PPDU.  $Rx_{pwr}$  is an average of the receive signal power over the antennas on which the average  $PL_{DL}$  is being computed. If the triggering PPDU is a HT-mixed, VHT, HE, or EHT PPDU, then the receive signal power is measured from the fields prior to the HT-STF, VHT-STF, HE-STF, or EHT-STF, respectively.

NOTE 1— $Tx_{pwr}^{AP}$  and  $Rx_{pwr}$  are normalized to 20 MHz and expressed in dBm/20 MHz, where the normalization only includes nonpunctured channels.  $Tx_{pwr}^{STA}$  and  $TargetRx_{pwr}$  are expressed in dBm without normalization.

A STA that applies beamforming in the UL should take the beamforming gain into account when calculating the transmit power needed to meet the UL target receive power.

NOTE 2—An AP could account for its beamforming gain in  $T_{ppu}^{AP}$  or  $TargetRx_{ppu}$  if the triggering PPDU used beamforming.

The transmit power of the EHT TB PPDU is further subject to a STA's minimum and maximum transmit power limit due to hardware capability, regulatory requirements and local maximum transmit power levels (see 11.7.5) as well as non-IEEE 802.11 in-device coexistence requirements.

A STA includes its UL power headroom in the EHT TB PPDU following the rules defined in 26.5.2.4 (A-MPDU contents in an HE TB PPDU), where the rules related to HE TB PPDUs also apply to EHT TB PPDU. See 35.5.2.3 for details.

### 36.3.16.3 Pre-correction accuracy requirements

A STA that transmits an EHT TB PPDU shall support per chain  $\max(P - 32, -10)$  dBm as the minimum transmit power, where  $P$  is the maximum power, in dBm, that the STA can transmit at the antenna connector of that chain using EHT-MCS 0 while meeting the transmit EVM and spectral mask requirements. A STA transmitting at and above the minimum power, but below  $P_{\max, MCS7}$ , shall support the EVM requirements for EHT-MCS 7 even if the EHT-MCS used for the transmission is lower than EHT-MCS 7, where  $P_{\max, MCS7}$  is the maximum transmit power supported by the STA for EHT-MCS 7 in an EHT TB PPDU.

A STA that transmits an EHT TB PPDU shall support the absolute and relative transmit power requirements and the RSSI measurement accuracy requirements defined in Table 36-62.

Table 36-62—Transmit power and RSSI measurement accuracy

| Parameter                        | Minimum requirement |            | Comments                                                                                                                                                 |
|----------------------------------|---------------------|------------|----------------------------------------------------------------------------------------------------------------------------------------------------------|
|                                  | Class A             | Class B    |                                                                                                                                                          |
| Absolute transmit power accuracy | $\pm 3$ dB          | $\pm 9$ dB | Accuracy of achieving a specified transmit power.                                                                                                        |
| RSSI measurement accuracy        | $\pm 3$ dB          | $\pm 5$ dB | The difference between RSSI and the received power. Requirements are valid from minimum receive to maximum receive input power.                          |
| Relative transmit power accuracy | N/A                 | $\pm 3$ dB | Accuracy of achieving a change in transmit power for consecutive EHT TB PPDU. The relative transmit power accuracy is applicable only to Class B device. |

The absolute transmit power accuracy is applicable for the entire range of transmit power that the STA is intending to use for the current band of operation. The RSSI accuracy requirements shall be applied to receive signal power level range from  $-82$  dBm to  $-20$  dBm in the  $2.4$  GHz band and from  $-82$  dBm to  $-30$  dBm in the  $5$  GHz and  $6$  GHz bands. The requirements are for nominal (room) temperature conditions. The RSSI shall be measured during the reception of the non-EHT portion of the EHT PPDU preamble.

A STA compensates for carrier frequency offset (CFO) error and symbol clock error with respect to the corresponding triggering PPDU when transmitting the following types of PPDU:

— EHT TB PPDU

— Non-HT or non-HT duplicate PPDU with the TXVECTOR parameter TRIGGER\_RESPONDING set to true

NOTE 3—The MU-RTS Trigger frame solicits transmission of a non-HT or non-HT duplicate PPDU and not an EHT TB PPDU. The non-HT or non-HT duplicate PPDU transmitted as a response to an MU-RTS Trigger frame carries a CTS frame.

After compensation, the absolute value of residual CFO error with respect to the corresponding triggering PPDU shall not exceed the following levels when measured at the 10% point of the complementary cumulative distribution function (CCDF) of CFO errors in AWGN at a received power of -60 dBm in the primary 20 MHz channel:

— 350 Hz for the data subcarriers of an EHT TB PPDU  
— 2 kHz for a non-HT PPDU or non-HT duplicate PPDU

The residual CFO error measurement on an EHT TB PPDU shall be made after the U-SIG field. The residual CFO error measurement on the non-HT or non-HT duplicate PPDU shall be made after the L-STF field. The symbol clock error shall be compensated by the same ppm amount as the CFO error.

A STA that transmits an EHT TB PPDU, non-HT PPDU, or non-HT duplicate PPDU in response to a triggering PPDU shall ensure that the transmission start time of the EHT TB PPDU, non-HT PPDU, or non-HT duplicate PPDU is within  $\pm 0.4 \mu\text{s} + 16 \mu\text{s}$  from the end, at the STA's transmit antenna connector, of the last OFDM symbol of the triggering PPDU (if it contains no PE field) or of the PE field of the triggering PPDU (if the PE field is present).

NOTE 4—This end instant is before any signal extension, so this is equivalent to EHT TB PPDU transmission within  $0.4 \mu\text{s}$  of SIFS after the end of the triggering PPDU including signal extension.

### 36.3.17 Beamforming

#### 36.3.17.1 General

SU-MIMO and DL MU-MIMO beamforming are techniques used by a STA with multiple antennas (the beamformer) to steer signals using knowledge of the channel to improve throughput. With SU-MIMO beamforming all spatial streams in the transmitted signal are intended for reception at a single STA in an RU or MRU. With DL MU-MIMO beamforming, disjoint subsets of the spatial streams are intended for reception at different STAs in an RU or MRU of size greater than or equal to 242-tone.

For SU-MIMO and DL MU-MIMO beamforming in RU or MRU  $r$ , the receive signal vector in subcarrier  $k$  (where subcarrier  $k$  is one of the subcarriers in RU or MRU  $r$ ,  $k \in K_r$ ) at beamformee  $u$ ,  $\mathbf{y}_{k,u} = [\mathbf{y}_{k,0}, \mathbf{y}_{k,1}, \dots, \mathbf{y}_{k,N_{RX,u}-1}]^T$ , is shown in Equation (36-101), where  $\mathbf{x}_k = [\mathbf{x}_{k,0}, \mathbf{x}_{k,1}, \dots, \mathbf{x}_{k,N_{user,r}-1}]^T$  denotes the transmit signal vector in subcarrier  $k$  for all  $N_{user,r}$  beamformees, with  $\mathbf{x}_{k,u} = [\mathbf{x}_{k,0}, \mathbf{x}_{k,1}, \dots, \mathbf{x}_{k,N_{SS,r,u}-1}]^T$  being the transmit signal for beamformee  $u$ .

$$\mathbf{y}_{k,u} = \mathbf{H}_{k,u} \times [\mathbf{Q}_{k,0} \mathbf{Q}_{k,1} \dots \mathbf{Q}_{k,N_{user,r}-1}] \times \mathbf{x}_k + \mathbf{n} \quad (36-101)$$

where

$\mathbf{H}_{k,u}$  is the channel matrix from the beamformer to beamformee  $u$  in subcarrier  $k$  with dimensions  $N_{RX,u} \times N_{TX}$ .

$N_{RX,u}$  is the number of receive RF chains at beamformee  $u$ .

$\mathbf{Q}_{k,u}$  is a steering matrix for beamformee  $u$  in subcarrier  $k$  with dimensions  $N_{TX} \times N_{SS,r,u}$ .

$N_{user,r}$  is the number of EHT MU PPDU recipients (see Table 36-23) in RU or MRU  $r$ .

$\mathbf{n}$  is a vector of additive noise and may include interference.

The DL MU-MIMO steering matrix  $\mathcal{Q}_k = [\mathcal{Q}_{k,0} \mathcal{Q}_{k,1} \cdots \mathcal{Q}_{k,N_{user,r}-1}]$  can be determined by the beamformer using the beamforming feedback for subcarrier  $k$  from beamformee  $u$ , where  $u = 0, 1, \dots, N_{user,r}-1$ . The feedback report format is described in 9.4.1.73 and 9.4.1.74. The steering matrix that is computed (or updated) using new beamforming feedback from some or all of the participating beamformees might replace the existing steering matrix  $\mathcal{Q}_k$  for the next DL MU-MIMO data transmission.

For SU-MIMO beamforming, the steering matrix  $\mathcal{Q}_k$  can be determined from the beamforming feedback matrix  $V_k$  that is sent back to the beamformer by the beamformee using the compressed beamforming feedback matrix format as defined in 19.3.12.3.6 (Compressed beamforming feedback matrix). The feedback report format is described in 9.4.1.73.

### 36.3.17.2 EHT beamforming feedback matrix V

Upon receipt of an EHT sounding NDP, the beamformee computes a set of matrices for feedback to the beamformer as described in 27.3.16.2 (Beamforming feedback matrix V). The eligible beamformees shall remove the spatial stream CSD in 36.3.12.2.2 from the measured channel before computing a set of matrices for feedback to the beamformer.

The beamforming feedback matrix,  $V_{k,u}$ , found by the beamformee  $u$  for subcarrier  $k$  in RU or MRU  $r$  shall be compressed in the form of angles using the method described in 19.3.12.3.6 (Compressed beamforming feedback matrix). The angles,  $\phi(k, u)$  and  $\psi(k, u)$ , are quantized according to Table 9-92 (Quantization of angles) with  $b_\phi$  and  $b_\psi$  respectively, as defined by the Codebook Information field of the EHT MIMO Control field (see 9.4.1.72). The compressed beamforming feedback matrix as defined in 19.3.12.3.6 (Compressed beamforming feedback matrix) is the only Clause 36 beamforming feedback matrix defined.

The beamformee shall generate the beamforming feedback matrices with the number of rows ( $N_r$ ) equal to the  $N_{SS}$  of the EHT sounding NDP.

After receiving the angle information,  $\phi(k, u)$  and  $\psi(k, u)$ , the beamformer reconstructs  $V_{k,u}$  using Equation (19-79). For SU-MIMO beamforming, the beamformer uses  $V_{k,0}$ , matrix to determine the steering matrix  $\mathcal{Q}_k$ . For DL MU-MIMO beamforming, the beamformer shall calculate a steering matrix  $\mathcal{Q}_k = [\mathcal{Q}_{k,0} \mathcal{Q}_{k,1} \cdots \mathcal{Q}_{k,N_{user,r}-1}]$  using  $V_{k,u}$  and  $\Delta SNR_{k,u}$ ,  $0 \le u \le N_{user,r}-1$ , in order to suppress the crosstalk between participating beamformees. The method used by the beamformer to calculate the steering matrix  $\mathcal{Q}_k$  is implementation specific.

### 36.3.17.3 EHT CQI feedback

If the EHT NDP Announcement frame requests CQI feedback, then upon receipt of the EHT sounding NDP, the beamformee computes CQI feedback for all the RUs indicated by the EHT NDP Announcement frame as described in 9.4.1.75. The CQI feedback,  $CQI_{s,r,u}$ , for beamformee  $u$  in RU  $r$  for spatial stream  $s$  shall be estimated using the method described in 9.4.1.75. The CQI values to be fed back are derived from quantized SNRs according to Table 9-129. The beamformer shall transmit the CQI feedback for spatial stream  $1, 2, \dots, N_c$  for each of the RU indices for which the CQI report is being requested by the beamformer. The beamformer may use the CQI feedback to determine the best range of RUs for a compressed beamforming/CQI report or for RU assignment during a subsequent MU transmissions. The actual use is implementation specific.

### 36.3.18 EHT sounding NDP

The EHT sounding NDP is a variant of the EHT MU PPDU. An EHT sounding NDP is indicated by setting the PPDU Type And Compression Mode field to 1, the EHT-SIG MCS field to 0, and the Number Of EHT-SIG Symbols field to 0 in the U-SIG field. The format of an EHT sounding NDP is defined in Figure 36-58.

![](77dd0184ba098fbfd0fada3d3e6594a5_img.jpg)

Figure 36-58 illustrates the EHT sounding NDP format, showing the duration of each field in microseconds ( $\mu\text{s}$ ).

| Field    | Duration                                                            |
|----------|---------------------------------------------------------------------|
| L-STF    | 8 $\mu\text{s}$                                                     |
| L-LTF    | 8 $\mu\text{s}$                                                     |
| L-SIG    | 4 $\mu\text{s}$                                                     |
| RL-SIG   | 4 $\mu\text{s}$                                                     |
| U-SIG    | 8 $\mu\text{s}$                                                     |
| EHT-SIG  | 4 $\mu\text{s}$                                                     |
| EHT-STF  | 4 $\mu\text{s}$                                                     |
| EHT-LTFs | 7.2 or 8 $\mu\text{s}$ per symbol, using 2x EHT-LTF and 16x EHT-LTF |
| PE       | 4 $\mu\text{s}$ or 8 $\mu\text{s}$                                  |

Figure 36-58—EHT sounding NDP format

NOTE—The number of EHT-LTF symbols in the EHT sounding NDP is indicated in the Number Of EHT-LTF Symbols field of the EHT-SIG field.

The EHT sounding NDP is an EHT MU PPDU with a single EHT-SIG symbol encoded using EHT-MCS 0 and no Data field. The EHT-SIG field only contains a Common field as defined in Table 36-37 and no User Specific field.

In the EHT sounding NDP, the 242-tone RUs overlapping the 20 MHz channels that are signaled as punctured through the Punctured Channel Indication field of the U-SIG field are punctured. The allowed punctured patterns are given in Table 36-30.

It is mandatory to support the 2x EHT-LTF with 0.8  $\mu\text{s}$  GI and 2x EHT-LTF with 1.6  $\mu\text{s}$  GI. It is optional to support the 4x EHT-LTF with 3.2  $\mu\text{s}$  GI. The other combinations of EHT-LTF type and GI duration are disallowed.

If the Beamformed subfield in EHT-SIG of an EHT sounding NDP is equal to 1, then the receiver of the EHT sounding NDP should not perform channel smoothing when generating the compressed beamforming feedback report.

The EHT sounding NDP has a PE field that is given as follows:

- 4  $\mu\text{s}$  when the PPDU bandwidth is less than or equal to 160 MHz.
- 8  $\mu\text{s}$  for all the other cases.

### 36.3.19 EHT SU transmission

The EHT SU transmission is a transmission to a single user using the EHT MU PPDU format with the following settings in the U-SIG field:

- The PPDU Type And Compression Mode subfield has value equal to 1.
- One of the following conditions is true:
  - The EHT-SIG MCS subfield has value greater than 0, or

— The EHT-SIG MCS subfield has value equal to 0 and the Number Of EHT-SIG Symbols subfield has value greater than 0.

See also Table 36-29.

### 36.3.20 Transmit specification

#### 36.3.20.1 Transmit spectral mask

##### 36.3.20.1.1 General

The bandwidth of the spectral mask applied to an EHT MU PPDU and EHT TB PPDU shall be determined by the bandwidth indicated in the Bandwidth subfield of the U-SIG field.

NOTE 1—In the presence of additional regulatory restrictions, the device has to meet both the regulatory requirements and the mask defined in this subclause.

NOTE 2—Transmit spectral mask figures in this subclause are not drawn to scale.

NOTE 3—For rules regarding transmit center frequency leakage levels, see 36.3.20.4.2. The spectral mask requirements in this subclause do not apply to the RF local oscillator.

For a 20 MHz mask PPDU of EHT format, the interim transmit spectral mask shall have a 0 dBr (dB relative to the maximum spectral density of the signal) bandwidth of 19.5 MHz, -20 dB at 10.5 MHz frequency offset, -28 dB at 20 MHz frequency offset, and -40 dB at 30 MHz frequency offset and above. The interim transmit spectral mask for frequency offsets between 9.75 MHz and 10.5 MHz, 10.5 MHz and 20 MHz, and 20 MHz and 30 MHz shall be linearly interpolated in decibels domain from the requirements for 9.75 MHz, 10.5 MHz, 20 MHz, and 30 MHz frequency offsets. The transmit spectrum shall not exceed the maximum of the interim transmit spectral mask and -53 dBm/MHz at any frequency offset in the 2.4 GHz band. The transmit spectrum shall not exceed the maximum of the interim transmit spectral mask and -39 dBm/MHz at any frequency offset in the 5 GHz and 6 GHz bands. Figure 36-59 shows an example of the resulting overall spectral mask when the -40 dBr spectrum level is above -53 dBm/MHz in the 2.4 GHz band or when the -40 dB spectrum level is above -39 dBm/MHz in the 5 GHz and 6 GHz bands.

![Figure 36-59 shows an example transmit spectral mask (PSD vs Freq [MHz]) for a 20 MHz mask PPDU. The mask is a trapezoidal shape centered at 0 MHz. The maximum spectral density is 0 dB. The mask drops to -20 dB at 10.5 MHz offset, -28 dB at 20 MHz offset, and -40 dB at 30 MHz offset. The mask is linearly interpolated between these points for offsets between 9.75 MHz and 30 MHz. The x-axis is Freq [MHz] and the y-axis is PSD (0 dB, 20 dB, 28 dB, 40 dB).](44a853b3e8f5a54f15ae0fcbae60e8ca_img.jpg)

Figure 36-59 shows an example transmit spectral mask (PSD vs Freq [MHz]) for a 20 MHz mask PPDU. The mask is a trapezoidal shape centered at 0 MHz. The maximum spectral density is 0 dB. The mask drops to -20 dB at 10.5 MHz offset, -28 dB at 20 MHz offset, and -40 dB at 30 MHz offset. The mask is linearly interpolated between these points for offsets between 9.75 MHz and 30 MHz. The x-axis is Freq [MHz] and the y-axis is PSD (0 dB, 20 dB, 28 dB, 40 dB).

Figure 36-59—Example transmit spectral mask for a 20 MHz mask PPDU

For a 40 MHz mask PPDU of EHT format, the interim transmit spectral mask shall have a 0 dB (dB relative to the maximum spectral density of the signal) bandwidth of 39 MHz, -20 dB at 20.5 MHz frequency offset, -28 dB at 40 MHz frequency offset, and -40 dB at 60 MHz frequency offset and above. The interim transmit spectral mask for frequency offsets in between 19.5 MHz and 20.5 MHz, 20.5 MHz and 40 MHz, and 40 MHz and 60 MHz shall be linearly interpolated in decibels domain from the requirements for 19.5 MHz, 20.5 MHz, 40 MHz, and 60 MHz frequency offsets. The transmit spectrum shall not exceed the maximum of the interim transmit spectral mask and -56 dBm/MHz at any frequency offset in the 2.4 GHz band. The transmit spectrum shall not exceed the maximum of the interim spectral mask and -39 dBm/MHz at any frequency offset in the 5 GHz and 6 GHz bands. Figure 36-60 shows an example of the resulting overall spectral mask when the -40 dB spectrum level is above -39 dBm/MHz in the 5 GHz and 6 GHz bands.

![Figure 36-60 shows an example transmit spectral mask for a 40 MHz mask PPDU. The graph plots PSD (Power Spectral Density) in dB relative to 0 dB (Y-axis) against Frequency (MHz) (X-axis). The mask is a piecewise linear function. Key points are marked: 0 dB at 0 MHz, -20 dB at 20.5 MHz, -28 dB at 40 MHz, and -40 dB at 60 MHz. The mask is linearly interpolated between these points. The X-axis ranges from -60 MHz to 60 MHz, with major ticks at 0, 20.5, and 40 MHz.](d74addf69ad66925eea01f6debf58297_img.jpg)

Figure 36-60 shows an example transmit spectral mask for a 40 MHz mask PPDU. The graph plots PSD (Power Spectral Density) in dB relative to 0 dB (Y-axis) against Frequency (MHz) (X-axis). The mask is a piecewise linear function. Key points are marked: 0 dB at 0 MHz, -20 dB at 20.5 MHz, -28 dB at 40 MHz, and -40 dB at 60 MHz. The mask is linearly interpolated between these points. The X-axis ranges from -60 MHz to 60 MHz, with major ticks at 0, 20.5, and 40 MHz.

Figure 36-60—Example transmit spectral mask for a 40 MHz mask PPDU

For an 80 MHz mask PPDU of EHT format, if the preamble puncturing is not applied, the interim transmit spectral mask shall have a 0 dB (dB relative to the maximum spectral density of the signal) bandwidth of 79 MHz, -20 dB at 40.5 MHz frequency offset, -28 dB at 80 MHz frequency offset, and -40 dB at 120 MHz frequency offset and above. The interim transmit spectral mask for frequency offsets in between 39.5 MHz and 40.5 MHz, 40.5 MHz and 80 MHz, and 80 MHz and 120 MHz shall be linearly interpolated in decibels domain from the requirements for 39.5 MHz, 40.5 MHz, 80 MHz, and 120 MHz frequency offsets. The transmit spectrum shall not exceed the maximum of the interim transmit spectrum mask and -39 dBm/MHz at any frequency offset. Figure 36-61 shows an example of the resulting overall spectral mask when the -40 dB spectrum level is above -39 dBm/MHz.

For an 80 MHz mask PPDU of EHT format, if the preamble puncturing is applied, the interim spectral mask is subject to the mask defined in Figure 36-61 and the additional restrictions defined for preamble puncturing in 36.3.20.1.2.

![Figure 36-61: Example transmit spectral mask for an 80 MHz mask PPDU. The graph plots PSD (Power Spectral Density) in dBm/MHz versus Frequency (Freq) in MHz. The mask is symmetric around 0 MHz. The maximum PSD is 0 dBm/MHz at 0 MHz. The mask drops to -20 dBm/MHz at 80.5 MHz and -28 dBm/MHz at 159 MHz. It continues to drop to -40 dBm/MHz at 240 MHz. The mask is flat at 0 dBm/MHz from -120 MHz to -80.5 MHz and from 80.5 MHz to 120 MHz.](0b454ad5700f31f75dfc3cdf76b579bc_img.jpg)

Figure 36-61: Example transmit spectral mask for an 80 MHz mask PPDU. The graph plots PSD (Power Spectral Density) in dBm/MHz versus Frequency (Freq) in MHz. The mask is symmetric around 0 MHz. The maximum PSD is 0 dBm/MHz at 0 MHz. The mask drops to -20 dBm/MHz at 80.5 MHz and -28 dBm/MHz at 159 MHz. It continues to drop to -40 dBm/MHz at 240 MHz. The mask is flat at 0 dBm/MHz from -120 MHz to -80.5 MHz and from 80.5 MHz to 120 MHz.

Figure 36-61—Example transmit spectral mask for an 80 MHz mask PPDU

For a 160 MHz mask PPDU of EHT format, if the preamble puncturing is not applied, the interim transmit spectral mask shall have a 0 dBm/MHz (dB relative to the maximum spectral density of the signal) bandwidth of 159 MHz, -20 dBm/MHz at 80.5 MHz frequency offset, -28 dBm/MHz at 160 MHz frequency offset, and -40 dBm/MHz at 240 MHz frequency offset and above. The interim transmit spectral mask for frequency offsets in between 79.5 MHz and 80.5 MHz, 80.5 MHz and 160 MHz, and 160 MHz and 240 MHz shall be linearly interpolated in dB domain from the requirements for 79.5 MHz, 80.5 MHz, 160 MHz, and 240 MHz frequency offsets. The transmit spectrum shall not exceed the maximum of the interim transmit spectrum mask and -39 dBm/MHz at any frequency offset. Figure 36-62 shows an example of the resulting overall spectral mask when the -40 dBm/MHz spectrum level is above -39 dBm/MHz.

For a 160 MHz mask PPDU of EHT format, if the preamble puncturing is applied, the interim spectral mask is subject to the mask defined in Figure 36-62 and the additional restrictions defined for preamble puncturing in 36.3.20.1.2.

![Figure 36-62: Example transmit spectral mask for a 160 MHz mask PPDU. The graph plots PSD (Power Spectral Density) in dBm/MHz versus Frequency (Freq) in MHz. The mask is centered at 0 MHz. The maximum PSD is 0 dBm/MHz. The mask drops to -20 dBm/MHz at 160.5 MHz and -28 dBm/MHz at 320 MHz. It continues to drop to -40 dBm/MHz at 480 MHz. The mask is linearly interpolated between these points.](ce8c2d0d9566ed6da64caebe78f140d1_img.jpg)

Figure 36-62: Example transmit spectral mask for a 160 MHz mask PPDU. The graph plots PSD (Power Spectral Density) in dBm/MHz versus Frequency (Freq) in MHz. The mask is centered at 0 MHz. The maximum PSD is 0 dBm/MHz. The mask drops to -20 dBm/MHz at 160.5 MHz and -28 dBm/MHz at 320 MHz. It continues to drop to -40 dBm/MHz at 480 MHz. The mask is linearly interpolated between these points.

Figure 36-62—Example transmit spectral mask for a 160 MHz mask PPDU

For a 320 MHz mask PPDU of EHT format, if the preamble puncturing is not applied, the interim transmit spectral mask shall have a 0 dBm (dB relative to the maximum spectral density of the signal) bandwidth of 319 MHz, -20 dBm at 160.5 MHz frequency offset, -28 dBm at 320 MHz frequency offset, and -40 dBm at 480 MHz frequency offset and above. The interim transmit spectral mask for frequency offsets in between 159.5 MHz and 160.5 MHz, 160.5 MHz and 320 MHz, and 320 MHz and 480 MHz shall be linearly interpolated in decibels domain from the requirements for 159.5 MHz, 160.5 MHz, 320 MHz, and 480 MHz frequency offsets. The transmit spectrum shall not exceed the maximum of the interim transmit spectrum mask and -39 dBm/MHz at any frequency offset. Figure 36-63 shows an example of the resulting overall spectral mask when the -40 dBm spectrum level is above -39 dBm/MHz.

![Figure 36-63: Example transmit spectral mask for a 320 MHz mask PPDU. The graph plots PSD (Power Spectral Density) in dBm/MHz versus Frequency (Freq) in MHz. The mask is centered at 0 MHz. The maximum PSD is 0 dBm/MHz. The mask drops to -20 dBm/MHz at 160.5 MHz and -28 dBm/MHz at 320 MHz. It continues to drop to -40 dBm/MHz at 480 MHz. The mask is linearly interpolated between these points.](5e6d3e3ff254b2761e92d9eb1c2a06a8_img.jpg)

Figure 36-63: Example transmit spectral mask for a 320 MHz mask PPDU. The graph plots PSD (Power Spectral Density) in dBm/MHz versus Frequency (Freq) in MHz. The mask is centered at 0 MHz. The maximum PSD is 0 dBm/MHz. The mask drops to -20 dBm/MHz at 160.5 MHz and -28 dBm/MHz at 320 MHz. It continues to drop to -40 dBm/MHz at 480 MHz. The mask is linearly interpolated between these points.

Figure 36-63—Example transmit spectral mask for a 320 MHz mask PPDU

For a 320 MHz mask PPDU of EHT format, if the preamble puncturing is applied, the interim spectral mask is subject to the interim mask defined in Figure 36-63 and the additional restrictions defined for preamble puncturing in 36.3.20.1.2.

For 320 MHz non-HT duplicate PPDU, if the preamble puncturing is not applied, the interim transmit spectral mask shall have a 0 dB (dB relative to the maximum spectral density of the signal) bandwidth of 318 MHz, -20 dB at 161 MHz frequency offset, -28 dB at 320 MHz frequency offset, and -40 dB at 480 MHz frequency offset and above. The interim transmit spectral mask for frequency offsets in between 159 MHz and 161 MHz, 161 MHz and 320 MHz, and 320 MHz and 480 MHz shall be linearly interpolated in decibels domain from the requirements for 159 MHz, 161 MHz, 320 MHz, and 480 MHz frequency offsets. The transmit spectrum shall not exceed the maximum of the interim transmit spectrum mask and -39 dBm/MHz at any frequency offset. Figure 36-64 shows an example of the resulting overall spectral mask when the -40 dBm spectrum level is above -39 dBm/MHz.

![Figure 36-64: Example transmit spectral mask for a 320 MHz non-HT duplicate PPDU. The graph plots spectral mask level (in dB) versus frequency offset (in MHz). The mask is flat at 0 dB from -159 MHz to 159 MHz. It drops to -20 dB at 161 MHz and -28 dB at 320 MHz. It continues dropping linearly to -40 dB at 480 MHz and remains flat at -40 dB for offsets greater than 480 MHz. The mask level is shown at 0 dB, -20 dB, -28 dB, and -40 dB.](0616c4f49b54a34465a54eeea02c3be8_img.jpg)

Figure 36-64: Example transmit spectral mask for a 320 MHz non-HT duplicate PPDU. The graph plots spectral mask level (in dB) versus frequency offset (in MHz). The mask is flat at 0 dB from -159 MHz to 159 MHz. It drops to -20 dB at 161 MHz and -28 dB at 320 MHz. It continues dropping linearly to -40 dB at 480 MHz and remains flat at -40 dB for offsets greater than 480 MHz. The mask level is shown at 0 dB, -20 dB, -28 dB, and -40 dB.

Figure 36-64—Example transmit spectral mask for a 320 MHz non-HT duplicate PPDU

For 320 MHz non-HT duplicate PPDU, if the preamble puncturing is applied, the spectral mask is subject to the interim mask defined in Figure 36-64 and the additional restrictions defined for preamble puncturing in 36.3.20.1.3.

Measurements shall be made using a 100 kHz resolution bandwidth and a 7.5 kHz video bandwidth for EHT PPDU.

Measurements shall be made using a 100 kHz resolution bandwidth and a 30 kHz video bandwidth for non-HT duplicate PPDU.

#### 36.3.20.1.2 Additional restrictions for puncturing in EHT PPDU

For preamble puncturing in EHT MU PPDU, EHT TB PPDU, and non-HT duplicate PPDU, the signal leakage from the occupied subchannels to the punctured subchannels shall follow the restrictions as described below subject to the puncturing pattern in EHT MU PPDU, EHT TB PPDU, and non-HT duplicate PPDU, respectively. The puncturing pattern in an EHT MU PPDU is indicated by the punctured channel information in U-SIG field. The puncturing pattern in an EHT TB PPDU and non-HT duplicate PPDU is determined by TXVECTOR parameter INACTIVE\_SUBCHANNELS.

### Case 1: preamble puncturing at the edge of the EHT PPDU bandwidth

When the lowest and/or the highest subchannel(s) are/is punctured in a PPDU, the subchannel edge mask as defined in Figure 36-65 shall be applied at the lower edge of the lowest occupied subchannel and at the higher edge of the highest occupied subchannel.  $M$  is the separation in MHz between the lower edge of the lowest occupied subchannel and the higher edge of the highest occupied subchannel in the PPDU.

![Figure 36-65 shows two diagrams illustrating the preamble puncturing mask for the EHT PPDU. Diagram (a) shows the mask applied at the lower edge of the occupied subchannel, where the mask value is 0 dB. Diagram (b) shows the mask applied at the higher edge of the occupied subchannel, where the mask value is 0 dB. Both diagrams show the mask dropping to -20 dB and -28 dB relative to the edge of the punctured subchannel.](a63dad0ba7c9bcfd554aef404ede337c_img.jpg)

Figure 36-65 shows two diagrams illustrating the preamble puncturing mask for the EHT PPDU. Diagram (a) shows the mask applied at the lower edge of the occupied subchannel, where the mask value is 0 dB. Diagram (b) shows the mask applied at the higher edge of the occupied subchannel, where the mask value is 0 dB. Both diagrams show the mask dropping to -20 dB and -28 dB relative to the edge of the punctured subchannel.

**Figure 36-65—Preamble puncturing mask for preamble puncturing at the edge of the EHT PPDU**

In this case, the overall spectral mask is constructed in the following manner. First, the interim spectral mask (without preamble puncturing) is applied according to the PPDU bandwidth. Second, the preamble puncturing mask in Figure 36-65 is applied on the lower edge and higher edge of the occupied subchannel(s). Then for each frequency where the interim spectral mask (without preamble puncturing) has a value of 0 dB but the preamble puncturing mask does not have a value (in the subchannels where preamble puncturing is not applied), 0 dB shall be taken as the overall interim spectral mask value. For the other frequency where both the interim spectral mask (without preamble puncturing) and the preamble puncturing mask have values greater than or equal to  $-40$  dB, the lower value shall be taken as the overall interim spectral mask value.

Figure 36-66 is an example for the construction of the overall interim spectral mask for 80 MHz EHT PPDU with the lowest 20 MHz subchannel punctured.

![Figure 36-66 shows three graphs illustrating the construction of the overall interim spectral mask for an 80 MHz EHT PPDU with the lowest 20 MHz subchannel punctured. The top left graph shows the 80 MHz Spectral mask without preamble puncture, featuring a 20 dB, 28 dB, and 40 dB mask. The top right graph shows the Preamble puncture mask, which is a 20 dB mask applied at the lower edge of the occupied subchannel(s) and a 28 dB mask applied at the higher edge of the occupied subchannel(s). The bottom graph shows the Overall spectral mask (bold line), which is the result of combining the 80 MHz Spectral mask and the Preamble puncture mask, resulting in a 20 dB, 28 dB, and 40 dB mask.](3d1ef3958ca4d8168dea39d8672f76ef_img.jpg)

Figure 36-66 shows three graphs illustrating the construction of the overall interim spectral mask for an 80 MHz EHT PPDU with the lowest 20 MHz subchannel punctured. The top left graph shows the 80 MHz Spectral mask without preamble puncture, featuring a 20 dB, 28 dB, and 40 dB mask. The top right graph shows the Preamble puncture mask, which is a 20 dB mask applied at the lower edge of the occupied subchannel(s) and a 28 dB mask applied at the higher edge of the occupied subchannel(s). The bottom graph shows the Overall spectral mask (bold line), which is the result of combining the 80 MHz Spectral mask and the Preamble puncture mask, resulting in a 20 dB, 28 dB, and 40 dB mask.

Figure 36-66—Example for the construction of the overall interim spectral mask for 80 MHz EHT PPDU with the lowest 20 MHz subchannel punctured

**Case 2: preamble puncturing of two or more contiguous 20 MHz subchannels not at the edge of the EHT PPDU bandwidth**

When two or more contiguous 20 MHz subchannels are punctured in a PPDU and the punctured channels are not at the edge of the PPDU, the subchannel edge mask as defined in Figure 36-67 shall be applied at the lower edge of the lowest punctured subchannel(s) and at the higher edge of the highest punctured subchannel(s).  $M$  is the contiguous occupied bandwidth in MHz adjacent to the punctured subchannel(s). Depending on the contiguous occupied bandwidth adjacent to the lower edge of the punctured subchannel(s) and the contiguous occupied bandwidth adjacent to the higher edge of the punctured subchannel(s), the mask applied at the lower edge and the mask applied at the higher edge of the punctured subchannel can have different value of  $M$ .

![Figure 36-67 shows two graphs illustrating the Preamble puncturing mask for preamble puncturing in the EHT PPDU. Both graphs show a spectral mask (0 dB) and a punctured subchannel mask (20 dB and 25 dB). The x-axis represents frequency offset (Hz) relative to the edge of the punctured subchannel. (a) Preamble puncturing mask at the lower edge of the punctured subchannel. (b) Preamble puncturing mask at the higher edge of the punctured subchannel.](bbc6264ad2d9d836a8aba8fe8dd0a642_img.jpg)

Figure 36-67 shows two graphs illustrating the Preamble puncturing mask for preamble puncturing in the EHT PPDU. Both graphs show a spectral mask (0 dB) and a punctured subchannel mask (20 dB and 25 dB). The x-axis represents frequency offset (Hz) relative to the edge of the punctured subchannel. (a) Preamble puncturing mask at the lower edge of the punctured subchannel. (b) Preamble puncturing mask at the higher edge of the punctured subchannel.

**Figure 36-67—Preamble puncturing mask for preamble puncturing in the EHT PPDU when the bandwidth of the punctured subchannel is equal to or greater than 40 MHz and the punctured subchannel is not at the edge of the PPDU bandwidth**

In this case, the overall spectral mask is constructed in the following manner. First, the interim spectral mask (without preamble puncturing) is applied according to the PPDU bandwidth. Second, the preamble puncturing mask in Figure 36-67 is applied on both the lower edge and higher edge of the punctured subchannel(s). Note that for each frequency at which both the lower edge puncture mask and higher edge puncture mask have value greater than  $-25$  dB and less than  $-20$  dB, the larger value of the two masks shall be taken as the preamble puncturing mask. Then for each frequency where the interim spectral mask (without preamble puncturing) has a value but the preamble puncturing mask does not have a value (in the subchannels where preamble puncturing is not applied), the value of the interim spectral mask (without preamble puncturing) shall be taken as the overall interim spectral mask value. For the other frequency where both the interim spectral mask (without preamble puncturing) and the preamble puncturing mask have values greater than or equal to  $-25$  dB, the lower value shall be taken as the overall interim spectral mask value.

Figure 36-68 is an example for the construction of the overall interim spectral mask for 160 MHz EHT PPDU with the second lowest 40 MHz subchannel punctured.

![Figure 36-68 shows the construction of the overall interim spectral mask for a 160 MHz EHT PPDU with the second lowest 40 MHz subchannel punctured. The figure displays three graphs: 1. 160 MHz Spectral mask without preamble puncture. 2. Preamble puncture mask, showing puncture masks at the lower and higher edges of the punctured subchannel. 3. Overall spectral mask (Bold line), which is the result of combining the 160 MHz mask and the preamble puncture mask.](fb9373d55ceb0ca7643131a02cc49599_img.jpg)

Figure 36-68 shows the construction of the overall interim spectral mask for a 160 MHz EHT PPDU with the second lowest 40 MHz subchannel punctured. The figure displays three graphs: 1. 160 MHz Spectral mask without preamble puncture. 2. Preamble puncture mask, showing puncture masks at the lower and higher edges of the punctured subchannel. 3. Overall spectral mask (Bold line), which is the result of combining the 160 MHz mask and the preamble puncture mask.

Figure 36-68—Example for the construction of the overall interim spectral mask for 160 MHz EHT PPDU with the second lowest 40 MHz subchannel punctured

### Case 3: preamble puncturing of single 20 MHz subchannel not at the edge of the EHT PPDU bandwidth

When the punctured subchannel is equal to 20 MHz and the punctured 20 MHz subchannel is not at the edge of the PPDU, the mask in Figure 36-69 shall be applied at the punctured 20 MHz subchannel.

![Figure 36-69 shows the Preamble puncturing mask for a 20 MHz subchannel when the punctured subchannel is not at the edge of the PPDU bandwidth. The graph displays the spectral mask (PSD) relative to the edge of the punctured subchannel, showing a -20 dBm level and a -23 dBm level, with a frequency offset of 0.5 MHz indicated.](816a81b45d0da2f839450fc2dcdcc89f_img.jpg)

Figure 36-69 shows the Preamble puncturing mask for a 20 MHz subchannel when the punctured subchannel is not at the edge of the PPDU bandwidth. The graph displays the spectral mask (PSD) relative to the edge of the punctured subchannel, showing a -20 dBm level and a -23 dBm level, with a frequency offset of 0.5 MHz indicated.

Figure 36-69—Preamble puncturing mask for preamble puncturing in the EHT PPDU when the bandwidth of the punctured subchannel is equal to 20 MHz and the punctured subchannel is not at the edge of the PPDU bandwidth

In this case, the overall spectral mask is constructed in the following manner. First, the interim spectral mask (without preamble puncturing) is applied according to the PPDU bandwidth. Second, the preamble puncturing mask in Figure 36-69 is applied on the punctured 20 MHz subchannel. Then for each frequency where the interim spectral mask (without preamble puncturing) has a value but the preamble puncturing mask does not have a value (in the subchannels where preamble puncturing is not applied), the value of the interim spectral mask (without preamble puncturing) shall be taken as the overall interim spectral mask value. For the other frequency where both the interim spectral mask (without preamble puncturing) and the preamble puncturing mask have values greater than or equal to  $-23$  dBm, the lower value shall be taken as the overall interim spectral mask value.

Figure 36-70 is an example for the construction of the overall interim spectral mask for 80 MHz EHT PPDU with the second lowest 20 MHz subchannel punctured.

![Figure 36-70 shows three spectral masks plotted against Frequency (MHz). The top left is the 80MHz Spectral mask without preamble puncture, showing a mask shape with levels at 0 dBm, -20 dBm, -28 dBm, and -40 dBm. The top right is the Preamble puncture mask for the punctured middle 20MHz subchannel, showing a sharp peak at 0 dBm and levels at -25 dBm and -28 dBm. The bottom center is the Overall spectral mask (bold line), which is the result of combining the two masks, showing the resulting mask shape with levels at 0 dBm, -20 dBm, -28 dBm, and -40 dBm.](2cf62ade21eac2c51895b2bd57fe5273_img.jpg)

Figure 36-70 shows three spectral masks plotted against Frequency (MHz). The top left is the 80MHz Spectral mask without preamble puncture, showing a mask shape with levels at 0 dBm, -20 dBm, -28 dBm, and -40 dBm. The top right is the Preamble puncture mask for the punctured middle 20MHz subchannel, showing a sharp peak at 0 dBm and levels at -25 dBm and -28 dBm. The bottom center is the Overall spectral mask (bold line), which is the result of combining the two masks, showing the resulting mask shape with levels at 0 dBm, -20 dBm, -28 dBm, and -40 dBm.

**Figure 36-70—Example for the construction of the overall interim spectral mask for 80 MHz EHT PPDU with the second lowest 20 MHz subchannel punctured**

Measurements shall be made using a 100 kHz resolution bandwidth and a 7.5 kHz video bandwidth.

#### 36.3.20.1.3 Additional restrictions of preamble puncturing for non-HT duplicate PPDU

If preamble puncturing is applied to a non-HT duplicate PPDU, the signal leakage from the occupied subchannels to the punctured subchannels shall also follow the restrictions in 36.3.20.1.2 except that the transition frequency width from 0 dBm to  $-20$  dBm is set to 1 MHz instead of 0.5 MHz. For the three cases defined in 36.3.20.1.2, the preamble puncturing mask for non-HT duplicate PPDU are shown in Figure 36-71, Figure 36-72, and Figure 36-73, respectively.

![](7f17ce8a421402f644d736962f4f830d_img.jpg)

Figure 36-71 illustrates the preamble puncturing mask for preamble puncturing at the edge of the non-HT duplicate PPDU. The figure consists of two graphs, (a) and (b), showing the frequency offset (MHz) relative to the edge of the punctured subchannel versus the mask level (dB).

(a) Preamble puncturing mask at the lower edge of the occupied subchannel: The mask starts at 0 dB at the edge of the occupied subchannel and decreases linearly to -28 dB at 20 dB offset, and continues linearly to -28 dB at 40 dB offset.

(b) Preamble puncturing mask at the higher edge of the occupied subchannel: The mask starts at 0 dB at the edge of the occupied subchannel and decreases linearly to -28 dB at 20 dB offset, and continues linearly to -28 dB at 40 dB offset.

Figure 36-71—Preamble puncturing mask for preamble puncturing at the edge of the non-HT duplicate PPDU

![](8dc4e2b62e4114734e991e14d3f1635a_img.jpg)

Figure 36-72 illustrates the preamble puncturing mask for preamble puncturing in the non-HT duplicate PPDU when the bandwidth of the punctured subchannel is equal to or greater than 40 MHz and the punctured subchannel is not at the edge of the PPDU bandwidth. The figure consists of two graphs, (a) and (b), showing the frequency offset (MHz) relative to the edge of the punctured subchannel versus the mask level (dB).

(a) Preamble puncturing mask at the lower edge of the punctured subchannel: The mask starts at 0 dB at the edge of the punctured subchannel and decreases linearly to -25 dB at 20 dB offset, and continues linearly to -25 dB at 40 dB offset.

(b) Preamble puncturing mask at the higher edge of the punctured subchannel: The mask starts at 0 dB at the edge of the punctured subchannel and decreases linearly to -25 dB at 20 dB offset, and continues linearly to -25 dB at 40 dB offset.

Figure 36-72—Preamble puncturing mask for preamble puncturing in the non-HT duplicate PPDU when the bandwidth of the punctured subchannel is equal to or greater than 40 MHz and the punctured subchannel is not at the edge of the PPDU bandwidth

![Figure 36-73: Reamble puncture mask for preamble puncturing in the non-HT duplicate PPDU. The graph shows a spectral mask (PPDU) with a central band labeled -23dBm and a surrounding band labeled 0dBm. The mask is punctured, indicated by a dashed line labeled 'Punctured subchannel' and a dotted line labeled 'Punctured subchannel(s)'. The frequency offset (MHz) is relative to the edge of the punctured subchannel.](0778e82c1db179606fa9cf718b74abb9_img.jpg)

Figure 36-73: Reamble puncture mask for preamble puncturing in the non-HT duplicate PPDU. The graph shows a spectral mask (PPDU) with a central band labeled -23dBm and a surrounding band labeled 0dBm. The mask is punctured, indicated by a dashed line labeled 'Punctured subchannel' and a dotted line labeled 'Punctured subchannel(s)'. The frequency offset (MHz) is relative to the edge of the punctured subchannel.

Figure 36-73—reamble puncture mask for preamble puncturing in the non-HT duplicate PPDU when the bandwidth of the punctured subchannel is equal to 20 MHz and the punctured subchannel is not at the edge of the PPDU bandwidth

The rules of constructing the overall spectral mask for preamble punctured non-HT duplicate PPDU are the same as the rules defined in 36.3.20.1.2 that are used to construct the overall spectral mask for preamble punctured EHT PPDU. Figure 36-74 is an example for the construction of the overall interim spectral mask for 320 MHz non-HT duplicate PPDU with the lowest 40 MHz subchannel punctured.

![Figure 36-74: Example for the construction of the overall interim spectral mask for 320 MHz non-HT duplicated transmission with the lowest 40 MHz subchannel punctured. The figure shows three graphs: 1. 320MHz Spectral mask without preamble puncture (a wide mask). 2. Preamble puncture mask (a narrow mask). 3. Overall spectral mask (bold line) (the result of combining the first two masks, showing the 40 MHz subchannel punctured).](5a466ff7afc52a75d1c7ba14947672f4_img.jpg)

Figure 36-74: Example for the construction of the overall interim spectral mask for 320 MHz non-HT duplicated transmission with the lowest 40 MHz subchannel punctured. The figure shows three graphs: 1. 320MHz Spectral mask without preamble puncture (a wide mask). 2. Preamble puncture mask (a narrow mask). 3. Overall spectral mask (bold line) (the result of combining the first two masks, showing the 40 MHz subchannel punctured).

Figure 36-74—Example for the construction of the overall interim spectral mask for 320 MHz non-HT duplicated transmission with the lowest 40 MHz subchannel punctured

NOTE—For non-HT duplicate 80 MHz and 160 MHz PPDU $s$ , the mask defined in 21.3.17.1 shall be used as the interim spectral mask (without preamble puncturing) to construct the overall preamble puncturing mask.

Measurements shall be made using a 100 kHz resolution bandwidth and a 30 kHz video bandwidth.

### 36.3.20.2 Spectral flatness

Spectral flatness measurements shall be conducted using BPSK modulated EHT PPDU. The EHT PPDU shall be demodulated using the following (or equivalent) procedure:

1. Start of PPDU shall be detected.
2. Transition from L-STF to L-LTF shall be detected and fine timing shall be established.
3. Coarse and fine frequency offsets shall be estimated.
4. Symbols in a PPDU shall be manipulated to account for both frequency error and sampling offset drift.
5. For each EHT-LTF symbol, transform the symbol into subcarrier received values, estimate the phase from the pilot subcarriers, and compensate the subcarrier values according to the estimated phase.
6. For each of the data OFDM symbols: transform the symbol into subcarrier received values.

The spectral flatness test shall be performed over at least 20 EHT PPDU. The PPDU under test shall be at least 16 data OFDM symbols long.

Evaluate spectral flatness using the subcarrier received values or the magnitude of the channel estimation of the occupied subcarriers of the transmission EHT PPDU. Nonoccupied subcarriers of the transmitted EHT PPDU shall be ignored during averaging and testing. Resource unit power boosting and beamforming shall not be used when measuring spectral flatness.

Let  $E_{i,avg}$  denote the magnitude of the channel estimation on subcarrier  $i$  or the average constellation energy of a BPSK modulated subcarrier  $i$  in an EHT data symbol. In a contiguous EHT transmission having a bandwidth listed in Table 36-63,  $E_{i,avg}$  of each of the subcarriers with indices listed as tested subcarrier indices shall not deviate by more than the specified maximum deviation in Table 36-63 from the average of  $E_{i,avg}$  over subcarrier indices listed as averaging subcarrier indices. Averaging of  $E_{i,avg}$  is done in the linear domain. For PPDU bandwidth equal to 80 MHz, 160 MHz, and 320 MHz, the maximum deviation is different depending on whether the preamble puncturing is applied or not.

Table 36-63—Maximum transmit spectral flatness deviations for EHT PPDU

| Bandwidth of EHT transmission (MHz) | Averaging subcarrier indices (inclusive) | Tested subcarrier indices (inclusive) | Maximum deviation (dB) without preamble puncturing | Maximum deviation (dB) with preamble puncturing |
|-------------------------------------|------------------------------------------|---------------------------------------|----------------------------------------------------|-------------------------------------------------|
| 20                                  | -84 to -2 and +2 to +84                  | -84 to -2 and +2 to +84               | $\pm 4$                                            | N/A                                             |
|                                     |                                          | -122 to -85 and +85 to +122           | +4/-6                                              | N/A                                             |
| 40                                  | -168 to -3 and +3 to +168                | -168 to -3 and +3 to +168             | $\pm 4$                                            | N/A                                             |
|                                     |                                          | -244 to -169 and +169 to +244         | +4/-6                                              | N/A                                             |
| 80                                  | -344 to -3 and +3 to +344                | -344 to -3 and +3 to +344             | $\pm 4$                                            | +4/-6                                           |
|                                     |                                          | -500 to -345 and +345 to +500         | +4/-6                                              | +4/-6                                           |

Table 36-63—Maximum transmit spectral flatness deviations for EHT PPDU (continued)

| Bandwidth of EHT transmission (MHz) | Averaging subcarrier indices (inclusive)                                                                  | Tested subcarrier indices (inclusive)                                                                     | Maximum deviation (dB) without preamble puncturing | Maximum deviation (dB) with preamble puncturing |
|-------------------------------------|-----------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------|----------------------------------------------------|-------------------------------------------------|
| 160                                 | -696 to -515,<br>-509 to -12,<br>+12 to +509, and<br>+515 to +696                                         | -696 to -515,<br>-509 to -12,<br>+12 to +509, and<br>+515 to +696                                         | ±4                                                 | +4/-6                                           |
|                                     |                                                                                                           | -1012 to -697 and<br>+697 to +1012                                                                        | +4/-6                                              | +4/-6                                           |
| 320                                 | -1400 to -1036,<br>-1012 to -515,<br>-509 to -12,<br>+12 to +509,<br>+515 to +1012, and<br>+1036 to +1400 | -1400 to -1036,<br>-1012 to -515,<br>-509 to -12,<br>+12 to +509,<br>+515 to +1012, and<br>+1036 to +1400 | ±4                                                 | +4/-6                                           |
|                                     |                                                                                                           | -2036 to -1539,<br>-1533 to -1401,<br>+1401 to +1533,<br>and +1539 to +2036                               | +4/-6                                              | +4/-6                                           |

In a contiguous non-HT duplicate transmission having a bandwidth listed in Table 36-64,  $E_{i,avg}$  of each of the subcarriers with indices listed as tested subcarrier indices shall not deviate by more than the specified maximum deviation in Table 36-64 from the average of  $E_{i,avg}$  over subcarrier indices listed as averaging subcarrier indices. Averaging of  $E_{i,avg}$  is done in the linear domain. For PPDU Bandwidth equal to 80 MHz, 160 MHz, and 320 MHz, the maximum deviation is different depending on whether the preamble puncturing is applied.

Table 36-64—Maximum transmit spectral flatness deviations for non-HT duplicate PPDU

| Bandwidth of EHT transmission (MHz) | Averaging subcarrier indices (inclusive)                                                | Tested subcarrier indices (inclusive)                                                   | Maximum deviation (dB) without preamble puncturing | Maximum deviation (dB) with preamble puncturing |
|-------------------------------------|-----------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------|----------------------------------------------------|-------------------------------------------------|
| 40                                  | -42 to -33,<br>-31 to -6,<br>+6 to +31, and<br>+33 to +42                               | -42 to -33,<br>-31 to -6,<br>+6 to +31, and<br>+33 to +42                               | ±4                                                 | N/A                                             |
|                                     |                                                                                         | -58 to -43 and<br>+43 to +58                                                            | +4/-6                                              | N/A                                             |
| 80                                  | -84 to -70,<br>-58 to -33,<br>-31 to -6,<br>+6 to +31,<br>+33 to +58, and<br>+70 to +84 | -84 to -70,<br>-58 to -33,<br>-31 to -6,<br>+6 to +31,<br>+33 to +58, and<br>+70 to +84 | ±4                                                 | +4/-6                                           |
|                                     |                                                                                         | -122 to -97,<br>-95 to -85,<br>+85 to +95, and<br>+97 to +122                           | +4/-6                                              | +4/-6                                           |

Table 36-64—Maximum transmit spectral flatness deviations for non-HT duplicate PPDU

| Bandwidth of EHT transmission (MHz) | Averaging subcarrier indices (inclusive)                                                                                                                        | Tested subcarrier indices (inclusive)                                                                                                                           | Maximum deviation (dB) without preamble puncturing | Maximum deviation (dB) with preamble puncturing |
|-------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|-------------------------------------------------|
| 160                                 | -172 to -161,<br>-159 to -134,<br>-122 to -97,<br>-95 to -70,<br>-58 to -44,<br>+44 to +58,<br>+70 to +95,<br>+97 to +122,<br>+134 to +159, and<br>+161 to +172 | -172 to -161,<br>-159 to -134,<br>-122 to -97,<br>-95 to -70,<br>-58 to -44,<br>+44 to +58,<br>+70 to +95,<br>+97 to +122,<br>+134 to +159, and<br>+161 to +172 | $\pm 4$                                            | +4/-6                                           |
|                                     |                                                                                                                                                                 | -250 to -225,<br>-223 to -198,<br>-186 to -173,<br>-43 to -33,<br>-31 to -6,<br>+6 to +31,<br>+33 to +43,<br>+173 to +186,<br>+198 to +223, and<br>+225 to +250 | +4/-6                                              | +4/-6                                           |

Table 36-64—Maximum transmit spectral flatness deviations for non-HT duplicate PPDU

| Bandwidth of EHT transmission (MHz) | Averaging subcarrier indices (inclusive)                                                                                                                                                                                                | Tested subcarrier indices (inclusive)                                                                                                                                                                                                                                                                                                                                                                                                       | Maximum deviation (dB) without preamble puncturing | Maximum deviation (dB) with preamble puncturing |
|-------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------|-------------------------------------------------|
| 320                                 | -348 to -326,<br>-314 to -300,<br>-212 to -198,<br>-186 to -161,<br>-159 to -134,<br>-122 to -97,<br>-95 to -84,<br>+84 to +95,<br>+97 to +122,<br>+134 to +159,<br>+161 to +186,<br>+198 to +212,<br>+300 to +314, and<br>+326 to +348 | -348 to -326,<br>-314 to -300,<br>-212 to -198,<br>-186 to -161,<br>-159 to -134,<br>-122 to -97,<br>-95 to -84,<br>+84 to +95,<br>+97 to +122,<br>+134 to +159,<br>+161 to +186,<br>+198 to +212,<br>+300 to +314, and<br>+326 to +348                                                                                                                                                                                                     | $\pm 4$                                            | +4/-6                                           |
|                                     |                                                                                                                                                                                                                                         | -506 to -481,<br>-479 to -454,<br>-442 to -417,<br>-415 to -390,<br>-378 to -353,<br>-351 to -349,<br>-299 to -289,<br>-287 to -262,<br>-250 to -225,<br>-223 to -213,<br>-83 to -70,<br>-58 to -33,<br>-31 to -6,<br>+6 to +31,<br>+33 to +58,<br>+70 to +83,<br>+213 to +223,<br>+225 to +250,<br>+262 to +287,<br>+289 to +299,<br>+349 to +351,<br>+353 to +378,<br>+390 to +415,<br>+417 to +442,<br>+454 to +479, and<br>+481 to +506 | +4/-6                                              | +4/-6                                           |

For the spectral flatness test, the transmitting STA shall be configured to use a spatial mapping matrix  $Q_k$  (see 36.3.13.12) with flat frequency response. Each output port under test of the transmitting STA shall be connected through a cable to one input port of the testing instrumentation. The requirements shall apply to 20 MHz, 40 MHz, 80 MHz, 160 MHz, and 320 MHz contiguous transmissions.

#### 36.3.20.3 Transmit center frequency and symbol clock frequency tolerance

Transmit center frequency and the symbol clock frequency for all transmit antennas shall be derived from the same reference oscillator. The symbol clock frequency and transmit center frequency tolerance shall be  $\pm 20$  ppm in the 5 GHz and 6 GHz bands and  $\pm 25$  ppm in the 2.4 GHz band. EHT TB PPDU format is subject to additional requirements as defined in 36.3.16.

Transmit signals with TXVECTOR parameter CH\_BANDWIDTH set to CBW320-1 or CBW320-2 or CH\_BANDWIDTH\_IN\_NON\_HT set to CBW320 may be generated using two separate RF local oscillators, one for each of the lower and upper 160 MHz frequency portions.

NOTE—Although constrained by the requirements in 36.3.20.4, the signal phase of the two 160 MHz frequency portions might not be entirely correlated.

### 36.3.20.4 Modulation accuracy

#### 36.3.20.4.1 Introduction to modulation accuracy tests

Transmit modulation accuracy specifications are described in 36.3.20.4.2 and 36.3.20.4.3. The test method is described in 36.3.20.4.4.

#### 36.3.20.4.2 Transmit center frequency leakage

For 20/40/80/160/320 MHz transmission, the power measured at the location of the RF local oscillator using resolution bandwidth 78.125 kHz shall not exceed the maximum of -32 dB relative to the total transmit power and -20 dBm, or equivalently  $\max(P - 32, -20)$ , where  $P$  is the transmit power per antenna in dBm. The transmit center frequency leakage is specified per antenna.

#### 36.3.20.4.3 Transmitter constellation error

The relative constellation RMS error in the test, calculated by first averaging over subcarriers, EHT PPDU, and spatial streams [see Equation (36-102)] as described in 36.3.20.4.4 shall not exceed a data-rate dependent value according to Table 36-65. The number of spatial streams under test shall be equal to the number of utilized transmitting STA physical antenna (output) ports and also equal to the number of utilized testing instrumentation input ports. In the test, no beamforming steering matrix shall be used. Each output port of the transmitting STA shall be connected through a cable to one input port of the testing instrumentation. The requirements shall apply to 20 MHz, 40 MHz, 80 MHz, 160 MHz, and 320 MHz contiguous transmissions.

Table 36-65—Allowed relative constellation error versus constellation size and coding rate

| Modulation | Coding rate | Relative constellation error in an EHT MU PPDU (dB) | Relative constellation error in an EHT TB PPDU when transmit power is larger than the maximum power of EHT-MCS 7 (dB) | Relative constellation error in an EHT TB PPDU when transmit power is less than or equal to the maximum power of EHT-MCS 7 (dB) |
|------------|-------------|-----------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------|
| BPSK       | 1/2         | -5                                                  | -13                                                                                                                   | -27                                                                                                                             |
| QPSK       | 1/2         | -10                                                 | -13                                                                                                                   | -27                                                                                                                             |
| QPSK       | 3/4         | -13                                                 | -13                                                                                                                   | -27                                                                                                                             |
| 16-QAM     | 1/2         | -16                                                 | -16                                                                                                                   | -27                                                                                                                             |
| 16-QAM     | 3/4         | -19                                                 | -19                                                                                                                   | -27                                                                                                                             |
| 64-QAM     | 2/3         | -22                                                 | -22                                                                                                                   | -27                                                                                                                             |
| 64-QAM     | 3/4         | -25                                                 | -25                                                                                                                   | -27                                                                                                                             |
| 64-QAM     | 5/6         | -27                                                 | -27                                                                                                                   | -27                                                                                                                             |

Table 36-65—Allowed relative constellation error versus constellation size and coding rate  
(continued)

| Modulation            | Coding rate | Relative constellation error in an EHT MU PPDU (dB) | Relative constellation error in an EHT TB PPDU when transmit power is larger than the maximum power of EHT-MCS 7 (dB) | Relative constellation error in an EHT TB PPDU when transmit power is less than or equal to the maximum power of EHT-MCS 7 (dB) |
|-----------------------|-------------|-----------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------|
| 256-QAM               | 5/6         | -32                                                 | -32                                                                                                                   | -32                                                                                                                             |
| 1024-QAM              | 3/4         | -35                                                 | -35                                                                                                                   | -35                                                                                                                             |
| 1024-QAM              | 5/6         | -35                                                 | -35                                                                                                                   | -35                                                                                                                             |
| 4096-QAM              | 3/4         | -38                                                 | -38                                                                                                                   | -38                                                                                                                             |
| 4096-QAM              | 5/6         | -38                                                 | -38                                                                                                                   | -38                                                                                                                             |
| BPSK-DCM (EHT-MCS 15) | 1/2         | -5                                                  | -13                                                                                                                   | -27                                                                                                                             |
| BPSK-DCM (EHT-MCS 14) | 1/2         | -5                                                  | N/A                                                                                                                   | N/A                                                                                                                             |

NOTE 1—The maximum power of EHT-MCS 7 can be measured by setting the UL Target Receive Power subfield as defined in Table 9-46k in the Trigger frame to 127 for the RU for which the EVM test is conducted.

NOTE 2—N/A = not supported by the PPDU format.

#### 36.3.20.4.4 Transmitter modulation accuracy (EVM) test

The transmit modulation accuracy test shall be performed by instrumentation capable of converting the transmitted signals into a stream of complex samples at sampling rate greater than or equal to the bandwidth of the signal being transmitted.

In this case, transmit modulation accuracy shall meet the required value in Table 36-65 using only the occupied data subcarriers. For EHT TB PPDU transmission, two sets of EVM requirements are defined in Table 36-65 for different transmission power levels to assist AP in better managing the interference among multiple STAs responding to a Trigger frame.

Local oscillator leakage that can potentially show up at the center frequency of the EHT PPDU tone plan and within  $\pm 3$  neighboring subcarriers shall be excluded from the computation of the transmitter modulation accuracy test. The potential local oscillator leakage subcarriers for 20 MHz operating devices are the center of primary 20 MHz of the EHT PPDU tone plan and  $\pm 3$  subcarriers of it. The potential local oscillator leakage subcarriers for 40 MHz operating devices are the center of the primary 40 MHz of the PPDU tone plan and  $\pm 3$  subcarriers. The potential local oscillator leakage subcarriers for 80 MHz operating devices are the center of the primary 80 MHz of the PPDU tone plan and  $\pm 3$  subcarriers of it. The potential local oscillator leakage tones for 160 MHz operating devices are the center of the primary 160 MHz of the PPDU tone plan and  $\pm 3$  subcarriers of it. The potential local oscillator leakage tones for 320 MHz operating devices are the center of the 320 MHz of the PPDU tone plan and  $\pm 3$  subcarriers of it. For 40 MHz operating devices that transmits 20 MHz, the potential local oscillator leakage subcarriers exist outside the PPDU bandwidth and should not affect the transmitter modulation accuracy test. For 80 MHz operating devices that transmits 20 MHz or 40 MHz PPDU, the potential local oscillator leakage subcarriers exist outside the PPDU bandwidth and should not affect the transmitter modulation accuracy test. For 160 MHz operating devices that transmits 20 MHz or 40 MHz PPDU or 80 MHz PPDU, the potential local oscillator leakage subcarriers exist outside the PPDU bandwidth and should not affect the transmitter modulation accuracy test. For

320 MHz operating devices that transmits 20 MHz or 40 MHz PPDU or 80 MHz PPDU or 160 MHz PPDU, the potential local oscillator leakage subcarriers exist outside the PPDU bandwidth and should not affect the transmitter modulation accuracy test.

The transmitter modulation accuracy test procedure for the occupied subcarriers of the PPDU is similar as in steps of the transmit modulation accuracy test procedure defined in 27.3.21.4.4 as follows:

1. Start of PPDU shall be detected.
2. Transition from L-STF to L-LTF shall be detected and fine timing shall be established.
3. Coarse and fine frequency offsets shall be estimated.
4. Symbols in a PPDU shall be derotated according to a single estimated frequency offset. Sampling offset drift shall be also compensated.
5. For each EHT-LTF symbol, transform the symbol into subcarrier received values, estimate a single phase from the pilot subcarriers, and derotate the subcarrier values according to the estimated phase.
6. Estimate the complex channel response coefficient for each of the subcarriers and each of the transmit streams.
7. For each of the data OFDM symbols, transform the symbol into subcarrier received values, estimate a single phase from the pilot subcarriers, and compensate the subcarrier values according to the estimated phase, group the results from all of the receiver chains in each subcarrier to a vector, and multiply the vector by a zero-forcing equalization matrix generated from the estimated channel.
8. For each data-carrying subcarrier in each spatial stream of RU under test, find the closest constellation point and compute the Euclidean distance from it.
9. Compute the average across PPDU of the RMS of all errors per PPDU as given by Equation (36-102).

$$Error_{RMS} = \quad (36-102)$$

$$\frac{1}{N_f} \sum_{i_f=1}^{N_f} \sqrt{\frac{\sum_{l=1}^{N_{SS}} \sum_{i_{ss}=1}^{N_{SD, total}} (I_0(i_f, i_{ss}, i_{ss'}, i_{ss''}) - I_0(i_f, i_{ss'}, i_{ss''}))^2 + (Q_0(i_f, i_{ss}, i_{ss'}, i_{ss''}) - Q_0(i_f, i_{ss'}, i_{ss''}))^2}{N_{SYM} N_{SS} N_{SD, total} P_0}}$$

where

$I_0(i_f, i_{ss}, i_{ss'}, i_{ss''})$  and  $Q_0(i_f, i_{ss}, i_{ss'}, i_{ss''})$  denotes the ideal symbol point in the complex plane in data subcarrier  $i_{ss}$  of the RU under test, spatial stream  $i_{ss}$ , and OFDM symbol  $i_f$  of PPDU  $i_f$ .

$I_c(i_f, i_{ss}, i_{ss'}, i_{ss''})$  and  $Q_c(i_f, i_{ss}, i_{ss'}, i_{ss''})$  denotes the equalized observed symbol point in the complex plane of the data subcarrier  $i_{ss}$  of the RU under test, spatial stream  $i_{ss}$ , and OFDM symbol  $i_f$  of PPDU  $i_f$ .

$P_0$  is the average power of constellation.

$N_f$  is the number of tested PPDU.

$N_{SD, total}$  is the total number of data tones of the occupied RU.

$N_{SS}$  is the number of spatial streams of the data.

$N_{SYM}$  is the number of data OFDM symbols.

The test shall be performed over at least 20 PPDU  $[N_f]$  as defined in Equation (36-102). If the occupied RU has 26 tones, the PPDU under test shall be at least 32 data OFDM symbols long. For occupied RUs that

have more than 26 tones, the PPDU under test shall be at least 16 data OFDM symbols long. Random data shall be used for the symbols.

For an EHT TB PPDU with an RU or MRU smaller than a 4×996-tone RU, additional transmit modulation accuracy test for the unoccupied subcarriers of the PPDU shall be performed. There are two cases, one with a single RU or a contiguous MRU and the other with a noncontiguous MRU.

In case of a single RU or a contiguous MRU, the transmit modulation accuracy test procedure for the unoccupied subcarriers of the PPDU is similar as in steps of the transmit modulation accuracy test procedure for the unoccupied subcarriers of the PPDU defined in 27.3.21.4.4 as follows:

1. Start of PPDU shall be detected.
2. Transition from L-STF to L-LTF shall be detected and fine timing shall be established.
3. Coarse and fine frequency offsets shall be estimated.
4. Symbols in a PPDU shall be derotated according to estimated frequency offset. Sampling offset drift shall be also compensated.
5. For each of the data OFDM symbols, transform the symbol into subcarrier received values and estimate the power of each subcarrier.
6. Compute the average unoccupied subcarrier error vector magnitude for each unoccupied 26-tone RU and average the RMS across PPDU of all errors per PPDU as given by Equation (36-103).

$$UnusedToneError_{RMS}(k) = \frac{1}{N_f} \sum_{i_f=1}^{N_f} \sqrt{\frac{\sum_{i_s=1}^{N_{SYM}} \sum_{i_{sc} \in \Omega_k} (I_u(i_f, i_s, i_{sc}))^2 + (Q_u(i_f, i_s, i_{sc}))^2}{N_{SYM} \cdot 26 \cdot P_S}} \quad (36-103)$$

where

$I_u(i_f, i_s, i_{sc})$  and  $Q_u(i_f, i_s, i_{sc})$  denotes unequalized observed symbol point in the complex plane in subcarrier  $i_{sc}$  of the unoccupied 26-tone RU and OFDM symbol  $i_f$  of PPDU  $i_f$ .

$\Omega_k$  is a set of subcarriers for k-th 26-tone RU as defined in Table 27-8 (Data and pilot subcarrier indices for RUs in a 20 MHz HE PPDU and in a non-OFDMA 20 MHz HE PPDU), Table 27-9 (Data and pilot subcarrier indices for RUs in a 40 MHz HE PPDU and in a non-OFDMA 40 MHz HE PPDU), Table 36-5, Table 36-6, and Table 36-7.

$P_S$  is the average data subcarrier power of the occupied RU under test and is given by Equation (36-104).

$$P_S = \frac{1}{N_{SYM} N_{SD, total}} \sum_{i_s=1}^{N_{SYM}} \sum_{i_{sc}=1}^{N_{SD, total}} (I_u(i_f, i_s, i_{sc}))^2 + (Q_u(i_f, i_s, i_{sc}))^2 \quad (36-104)$$

where

$N_f$  is the number of tested PPDU.

$N_{SYM}$  is the number of data OFDM symbols.

$N_{SD, total}$  is the total number of data subcarriers in the occupied RU.

g) For all EHT-MCSs, for an occupied RU bandwidth of  $r$  in units of a 26-tone RU as defined by Equation (36-105).

$$r = \begin{cases} 1, & \text{if 26-tone RU} \\ 2, & \text{if 52-tone RU} \\ 3, & \text{if 52+26-tone MRU} \\ 4, & \text{if 106-tone RU} \\ 5, & \text{if 106+26-tone MRU} \\ 9, & \text{if 242-tone RU} \\ 18, & \text{if 484-tone RU} \\ 28, & \text{if 484+242-tone MRU} \\ 37, & \text{if 996-tone RU} \\ 55, & \text{if 996+484-tone MRU} \\ 74, & \text{if } 2 \times 996\text{-tone RU} \\ 92, & \text{if } 2 \times 996+484\text{-tone MRU} \\ 111, & \text{if } 3 \times 996\text{-tone MRU} \\ 129, & \text{if } 3 \times 996+484\text{-tone MRU} \end{cases} \quad (36-105)$$

The average unused subcarrier error vector magnitude for each unoccupied 26-tone RU as calculated in step f) shall meet the staircase mask requirement in Equation (36-106) and Equation (36-107), where  $m$  defines the gap in the units of 26-tone RU to the occupied RU from either side with  $m = \pm 1$  being the adjacent 26-tone RUs.

$$UnusedToneError(i_{RU26, start} + m) \le \begin{cases} \max(\epsilon - 2, -38 \text{ dB}), & \text{if } -r \le m \le -1 \\ \max(\epsilon - 12, -38 \text{ dB}), & \text{if } -2r \le m \le -r-1 \\ \max(\epsilon - 22, -38 \text{ dB}), & \text{if } -3r \le m \le -2r-1 \\ -38 \text{ dB}, & \text{otherwise} \end{cases} \quad (36-106)$$

$$UnusedToneError(i_{RU26, end} + m) \le \begin{cases} \max(\epsilon - 2, -38 \text{ dB}), & \text{if } 1 \le m \le r \\ \max(\epsilon - 12, -38 \text{ dB}), & \text{if } r + 1 \le m \le 2r \\ \max(\epsilon - 22, -38 \text{ dB}), & \text{if } 2r + 1 \le m \le 3r \\ -38 \text{ dB}, & \text{otherwise} \end{cases} \quad (36-107)$$

where

$i_{RU26, start}$  is equal to  $i_{RU}$  if the occupied RU is a 26-tone RU, and is defined in Table 36-66 for other RU sizes. All the RUs with N/A in Table 36-66 are for noncontiguous MRU.

Table 36-66— $i_{RU26, start}$  for RUs other than a 26-tone RU

| $i_{RU}$ | 52-tone RU | 52+26-tone MRU | 106-tone RU | 106+26-tone MRU | 242-tone RU | 484-tone RU | 484+242-tone MRU | 996-tone RU | 996+484-tone MRU | 2 $\times$ 996-tone RU | 2 $\times$ 996+484-tone MRU | 3 $\times$ 996-tone MRU | 3 $\times$ 996+484-tone MRU |
|----------|------------|----------------|-------------|-----------------|-------------|-------------|------------------|-------------|------------------|------------------------|-----------------------------|-------------------------|-----------------------------|
| 1        | 1          | 2              | 1           | 1               | 1           | 1           | 10               | 1           | 20               | 1                      | 20                          | 38                      | 20                          |
| 2        | 3          | 3              | 6           | 5               | 10          | 20          | N/A              | 38          | N/A              | 75                     | N/A                         | N/A                     | N/A                         |
| 3        | 6          | 6              | 10          | 10              | 20          | 38          | N/A              | 75          | N/A              |                        | N/A                         | N/A                     | N/A                         |

IEEE Standard for Information Technology—Local and Metropolitan Area Networks—Specific Requirements

Part 11: Wireless LAN MAC and PHY Specifications Amendment 2: Enhancements for Extremely High Throughput (EHT)

# **Table 36-66—***iRU26, start* **for RUs other than a 26-tone RU** *(continued)*

| iRU | 52-<br>tone<br>RU | 52+<br>26-<br>tone<br>MRU | 106-<br>tone<br>RU | 106+<br>26-<br>tone<br>MRU | 242-<br>tone<br>RU | 484-<br>tone<br>RU | 484+<br>242-<br>tone<br>MRU | 996-<br>tone<br>RU | 996+<br>484-<br>tone<br>MRU | 2×996<br>-tone<br>RU | 2×996<br>+484-<br>tone<br>MRU | 3×996<br>-tone<br>MRU | 3×996<br>+484-<br>tone<br>MRU |
|-----|-------------------|---------------------------|--------------------|----------------------------|--------------------|--------------------|-----------------------------|--------------------|-----------------------------|----------------------|-------------------------------|-----------------------|-------------------------------|
| 4   | 8                 | 11                        | 15                 | 14                         | 29                 | 57                 | 1                           | 112                | 1                           |                      | N/A                           | 1                     | N/A                           |
| 5   | 10                | 12                        | 20                 | 20                         | 38                 | 75                 | 47                          |                    | 94                          |                      | N/A                           |                       | N/A                           |
| 6   | 12                | 15                        | 25                 | 24                         | 47                 | 94                 | N/A                         |                    | N/A                         |                      | 1                             |                       | N/A                           |
| 7   | 15                | 21                        | 29                 | 29                         | 57                 | 112                | N/A                         |                    | N/A                         |                      | 57                            |                       | N/A                           |
| 8   | 17                | 22                        | 34                 | 33                         | 66                 | 131                | 38                          |                    | 75                          |                      | N/A                           |                       | 1                             |
| 9   | 20                | 25                        | 38                 | 38                         | 75                 |                    | 84                          |                    |                             |                      | N/A                           |                       |                               |
| 10  | 22                | 30                        | 43                 | 42                         | 84                 |                    | N/A                         |                    |                             |                      | N/A                           |                       |                               |
| 11  | 25                | 31                        | 47                 | 47                         | 94                 |                    | N/A                         |                    |                             |                      | N/A                           |                       |                               |
| 12  | 27                | 34                        | 52                 | 51                         | 103                |                    | 75                          |                    |                             |                      | 38                            |                       |                               |
| 13  | 29                | 39                        | 57                 | 57                         | 112                |                    | 121                         |                    |                             |                      |                               |                       |                               |
| 14  | 31                | 40                        | 62                 | 61                         | 121                |                    | N/A                         |                    |                             |                      |                               |                       |                               |
| 15  | 34                | 43                        | 66                 | 66                         | 131                |                    | N/A                         |                    |                             |                      |                               |                       |                               |
| 16  | 36                | 48                        | 71                 | 70                         | 140                |                    | 112                         |                    |                             |                      |                               |                       |                               |
| 17  | 38                | 49                        | 75                 | 75                         |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 18  | 40                | 52                        | 80                 | 79                         |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 19  | 43                | 58                        | 84                 | 84                         |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 20  | 45                | 59                        | 89                 | 88                         |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 21  | 47                | 62                        | 94                 | 94                         |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 22  | 49                | 67                        | 99                 | 98                         |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 23  | 52                | 68                        | 103                | 103                        |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 24  | 54                | 71                        | 108                | 107                        |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 25  | 57                | 76                        | 112                | 112                        |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 26  | 59                | 77                        | 117                | 116                        |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 27  | 62                | 80                        | 121                | 121                        |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 28  | 64                | 85                        | 126                | 125                        |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 29  | 66                | 86                        | 131                | 131                        |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 30  | 68                | 89                        | 136                | 135                        |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 31  | 71                | 95                        | 140                | 140                        |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 32  | 73                | 96                        | 145                | 144                        |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 33  | 75                | 99                        |                    |                            |                    |                    |                             |                    |                             |                      |                               |                       |                               |

IEEE Standard for Information Technology—Local and Metropolitan Area Networks—Specific Requirements

Part 11: Wireless LAN MAC and PHY Specifications

Amendment 2: Enhancements for Extremely High Throughput (EHT)

## **Table 36-66—***iRU26, start* **for RUs other than a 26-tone RU** *(continued)*

| iRU | 52-<br>tone<br>RU | 52+<br>26-<br>tone<br>MRU | 106-<br>tone<br>RU | 106+<br>26-<br>tone<br>MRU | 242-<br>tone<br>RU | 484-<br>tone<br>RU | 484+<br>242-<br>tone<br>MRU | 996-<br>tone<br>RU | 996+<br>484-<br>tone<br>MRU | 2×996<br>-tone<br>RU | 2×996<br>+484-<br>tone<br>MRU | 3×996<br>-tone<br>MRU | 3×996<br>+484-<br>tone<br>MRU |
|-----|-------------------|---------------------------|--------------------|----------------------------|--------------------|--------------------|-----------------------------|--------------------|-----------------------------|----------------------|-------------------------------|-----------------------|-------------------------------|
| 34  | 77                | 104                       |                    |                            |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 35  | 80                | 105                       |                    |                            |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 36  | 82                | 108                       |                    |                            |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 37  | 84                | 113                       |                    |                            |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 38  | 86                | 114                       |                    |                            |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 39  | 89                | 117                       |                    |                            |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 40  | 91                | 122                       |                    |                            |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 41  | 94                | 123                       |                    |                            |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 42  | 96                | 126                       |                    |                            |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 43  | 99                | 132                       |                    |                            |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 44  | 101               | 133                       |                    |                            |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 45  | 103               | 136                       |                    |                            |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 46  | 105               | 141                       |                    |                            |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 47  | 108               | 142                       |                    |                            |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 48  | 110               | 145                       |                    |                            |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 49  | 112               |                           |                    |                            |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 50  | 114               |                           |                    |                            |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 51  | 117               |                           |                    |                            |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 52  | 119               |                           |                    |                            |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 53  | 121               |                           |                    |                            |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 54  | 123               |                           |                    |                            |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 55  | 126               |                           |                    |                            |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 56  | 128               |                           |                    |                            |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 57  | 131               |                           |                    |                            |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 58  | 133               |                           |                    |                            |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 59  | 136               |                           |                    |                            |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 60  | 138               |                           |                    |                            |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 61  | 140               |                           |                    |                            |                    |                    |                             |                    |                             |                      |                               |                       |                               |
| 62  | 142               |                           |                    |                            |                    |                    |                             |                    |                             |                      |                               |                       |                               |

Table 36-66— $i_{RU26, start}$  for RUs other than a 26-tone RU (continued)

| $i_{RU}$ | 52-tone RU | 52+26-tone MRU | 106-tone RU | 106+26-tone MRU | 242-tone RU | 484-tone RU | 484+242-tone MRU | 996-tone RU | 996+484-tone MRU | 2×996-tone RU | 2×996+484-tone MRU | 3×996-tone MRU |
|----------|------------|----------------|-------------|-----------------|-------------|-------------|------------------|-------------|------------------|---------------|--------------------|----------------|
| 63       | 145        |                |             |                 |             |             |                  |             |                  |               |                    |                |
| 64       | 147        |                |             |                 |             |             |                  |             |                  |               |                    |                |

$i_{RU26, end}$  is equal to  $i_{RU26, start} + r - 1$ .

$i_{RU}$  is the index of the occupied RU or MRU.

$N_{RU26}$  is the maximum number of 26-tone RUs for the given bandwidth of the EHT TB PPDU.  $N_{RU26}$  is 9, 18, 37, 74, and 148 for a 20 MHz, 40 MHz, 80 MHz, 160 MHz, and 320 MHz PPDU, respectively.

$\epsilon$  is the relative constellation error requirement for an occupied RU of an EHT TB PPDU as defined in Table 36-65.

The valid range for  $m$  for Equation (36-106) is as follows:

—  $-i_{RU26, start} + 1 \le m \le -1$  for a 20 MHz, 40 MHz, 80 MHz, 160 MHz, or 320 MHz PPDU when  $i_{RU26, start} > 1$ , otherwise, there is no valid  $m$ .

The valid range for  $m$  for Equation (36-107) is as follows:

—  $1 \le m \le N_{RU26} - i_{RU26, end}$  for a 20 MHz, 40 MHz, 80 MHz, 160 MHz, or 320 MHz PPDU when  $i_{RU26, start} < N_{RU26}$ , otherwise, there is no valid  $m$ .

The test shall be performed over at least 20 PPDU s [ $N_f$  as defined in Equation (36-102)]. The PPDU s under test shall be at least 16 data OFDM symbols long. The unevaluated observed symbol of potential local oscillator leakage subcarrier locations shall be treated as zero during unoccupied subcarriers transmit modulation accuracy test. Random data shall be used for the symbols.

In case of a noncontiguous MRU, the transmit modulation accuracy test for the unoccupied subcarriers of the PPDU is performed by constructing the overall relative constellation error staircase mask in the following manner. First, treat noncontiguous MRU as a large RU or MRU that does not have an unmodulated portion in between multiple RUs. For example, a noncontiguous 2×996+484-tone MRU is treated as 3×996-tone MRU, and find the average unused subcarrier error vector magnitude for each unoccupied 26-tone RU based on the large RU or MRU. Then, replace the unmodulated portion in between multiple RUs to  $\max(\epsilon - 2, -38)$  dB.

### 36.3.21 Receiver specification

#### 36.3.21.1 General

For receiver minimum input sensitivity, adjacent channel rejection, nonadjacent channel rejection, receiver maximum input level, and CCA sensitivity requirements described in this subclause, the input levels are measured at the antenna connector and are referenced as the average power per receive antenna. The number of spatial streams under test shall be equal to the number of utilized transmitting STA physical antenna (output) ports and also equal to the number of utilized receiving STA antenna (input) ports. Each output port of the transmitting STA shall be connected through a cable to one input port of the receiving STA.

NOTE—Additional test requirements and/or test methods might be needed to meet regulatory requirements.

The requirements on receiver minimum input sensitivity in 36.3.21.2, adjacent channel rejection in 36.3.21.3 and nonadjacent channel rejection in 36.3.21.4 apply to PPDU s that meet all the following conditions:

- 0.8  $\mu$ s GI is used.
- If the PPDU bandwidth is 20 MHz and the EHT-MCS is less than 10 or equal to 15, then BCC is used. Otherwise, LDPC is used.
- The PPDU is an EHT MU PPDU without puncturing and a PPDU Type And Compression Mode field in U-SIG field is equal to 1.

#### 36.3.21.2 Receiver minimum input sensitivity

The PER shall be less than 10% for a PSDU with the rate-dependent input levels listed in Table 36-67. The PSDU length shall be 2048 octets for EHT-MCS 14 or EHT-MCS 15 or 4096 octets for all other modulations.

Table 36-67—Receiver minimum input level sensitivity

| Modulation            | Rate (R) | Minimum sensitivity (20 MHz PPDU) (dBm) | Minimum sensitivity (40 MHz PPDU) (dBm) | Minimum sensitivity (80 MHz PPDU) (dBm) | Minimum sensitivity (160 MHz PPDU) (dBm) | Minimum sensitivity (320 MHz PPDU) (dBm) |
|-----------------------|----------|-----------------------------------------|-----------------------------------------|-----------------------------------------|------------------------------------------|------------------------------------------|
| BPSK                  | 1/2      | -82                                     | -79                                     | -76                                     | -73                                      | -70                                      |
| QPSK                  | 1/2      | -79                                     | -76                                     | -73                                     | -70                                      | -67                                      |
| QPSK                  | 3/4      | -77                                     | -74                                     | -71                                     | -68                                      | -65                                      |
| 16-QAM                | 1/2      | -74                                     | -71                                     | -68                                     | -65                                      | -62                                      |
| 16-QAM                | 3/4      | -70                                     | -67                                     | -64                                     | -61                                      | -58                                      |
| 64-QAM                | 2/3      | -66                                     | -63                                     | -60                                     | -57                                      | -54                                      |
| 64-QAM                | 3/4      | -65                                     | -62                                     | -59                                     | -56                                      | -53                                      |
| 64-QAM                | 5/6      | -64                                     | -61                                     | -58                                     | -55                                      | -52                                      |
| 256-QAM               | 3/4      | -59                                     | -56                                     | -53                                     | -50                                      | -47                                      |
| 256-QAM               | 5/6      | -57                                     | -54                                     | -51                                     | -48                                      | -45                                      |
| 1024-QAM              | 3/4      | -54                                     | -51                                     | -48                                     | -45                                      | -42                                      |
| 1024-QAM              | 5/6      | -52                                     | -49                                     | -46                                     | -43                                      | -40                                      |
| 4096-QAM              | 3/4      | -49                                     | -46                                     | -43                                     | -40                                      | -37                                      |
| 4096-QAM              | 5/6      | -46                                     | -43                                     | -40                                     | -37                                      | -34                                      |
| BPSK-DCM (EHT-MCS 15) | 1/2      | -82                                     | -79                                     | -76                                     | -73                                      | -70                                      |
| BPSK-DCM (EHT-MCS 14) | 1/2      | N/A                                     | N/A                                     | -78                                     | -75                                      | -72                                      |

NOTE—N/A = not supported by the PPDU format.

### 36.3.21.3 Adjacent channel rejection

Adjacent channel rejection for  $W$  MHz (where  $W$  is 20, 40, 80, 160, or 320) shall be measured by setting the desired signal's strength 3 dB above the rate-dependent sensitivity specified in Table 36-67 and raising the power of the interfering signal of  $W$  MHz bandwidth until 10% PER is caused for a PSDU length of 2048 octets for BPSK modulation with DCM or 4096 octets for all other modulations. The difference in power between the signals in the interfering channel and the desired channel is the corresponding adjacent channel rejection. The center frequency of the adjacent channel shall be placed  $W$  MHz away from the center frequency of the desired signal.

The interfering signal in the adjacent channel shall be a signal compliant with the EHT PHY, unsynchronized with the signal in the channel under test, and shall have a minimum duty cycle of 50%. The corresponding rejection shall be no less than specified in Table 36-68.

Table 36-68—Minimum required adjacent and nonadjacent channel rejection levels

| Modulation            | Rate (R) | Adjacent channel rejection (dB) | Nonadjacent channel rejection (dB) |
|-----------------------|----------|---------------------------------|------------------------------------|
|                       |          | 20/40/80/160/320 MHz channel    | 20/40/80/160/320 MHz channel       |
| BPSK                  | 1/2      | 16                              | 32                                 |
| QPSK                  | 1/2      | 13                              | 29                                 |
| QPSK                  | 3/4      | 11                              | 27                                 |
| 16-QAM                | 1/2      | 8                               | 24                                 |
| 16-QAM                | 3/4      | 4                               | 20                                 |
| 64-QAM                | 2/3      | 0                               | 16                                 |
| 64-QAM                | 3/4      | -1                              | 15                                 |
| 64-QAM                | 5/6      | -2                              | 14                                 |
| 256-QAM               | 3/4      | -7                              | 9                                  |
| 256-QAM               | 5/6      | -9                              | 7                                  |
| 1024-QAM              | 3/4      | -12                             | 4                                  |
| 1024-QAM              | 5/6      | -14                             | 2                                  |
| 4096-QAM              | 3/4      | -17                             | -1                                 |
| 4096-QAM              | 5/6      | -20                             | -4                                 |
| BPSK-DCM (EHT-MCS 15) | 1/2      | 16                              | 32                                 |
| BPSK-DCM (EHT-MCS 14) | 1/2      | 16                              | 32                                 |

The measurement of adjacent channel rejection for 160 MHz and 320 MHz operation in regulatory domain is required only if such a frequency band plan is permitted in the regulatory domain.

### 36.3.21.4 Nonadjacent channel rejection

Nonadjacent channel rejection for  $W$  MHz channels (where  $W$  is 20, 40, 80, 160, or 320) shall be measured by setting the desired signal's strength 3 dB above the rate-dependent sensitivity specified in Table 36-67, and raising the power of the interfering signal of  $W$  MHz bandwidth until a 10% PER occurs for a PSDU length of 2048 octets for BPSK modulation with DCM or 4096 octets for all other modulations. The difference in power between the signals in the interfering channel and the desired channel is the corresponding nonadjacent channel rejection. The nonadjacent channel rejection shall be met with any nonadjacent channels located at least  $2 \times W$  MHz away from the center frequency of the desired signal.

The interfering signal in the nonadjacent channel shall be a signal compliant with the EHT PHY, unsynchronized with the signal in the channel under test, and shall have a minimum duty cycle of 50%. The corresponding rejection shall be no less than specified in Table 36-68.

The measurement of nonadjacent channel rejection for 160 MHz and 320 MHz operation in regulatory domain is required only if such a frequency band plan is permitted in the regulatory domain.

### 36.3.21.5 Receiver maximum input level

The receiver shall provide a maximum PER of 10% at a PSDU length of 2048 octets for BPSK modulation with DCM or 4096 octets for all other modulations, for a maximum input level of -30 dBm in the 5 GHz and 6 GHz bands and -20 dBm in the 2.4 GHz band, measured at each physical antenna port for any baseband EHT modulation.

### 36.3.21.6 CCA sensitivity

#### 36.3.21.6.1 General

The thresholds in this subclause are compared with the signal level at each receiving antenna.

#### 36.3.21.6.2 CCA sensitivity for operating classes requiring CCA-ED

For the operating classes requiring CCA-Energy Detect (CCA-ED), the PHY shall indicate a medium busy condition if CCA-ED detects a channel busy condition. For improved spectrum sharing, CCA-ED is required in some bands. The behavior class indicating CCA-ED is given in Table D-2. The operating classes requiring the corresponding CCA-ED behavior class are given in E.1. The PHY of a STA that is operating within an operating class that requires CCA-ED shall operate with CCA-ED.

CCA-ED shall detect a channel busy condition if the received signal strength exceeds the CCA-ED threshold as given by  $\text{dot11OFDMEDThreshold}$  for the primary 20 MHz channel and each nonprimary 20 MHz subchannel (if present). The CCA-ED thresholds for the operating classes requiring CCA-ED are subject to the criteria in D.2.5.

For the EHT TB PPDU transmission, for each of 20 MHz subchannels that require CCA, CCA-ED shall detect a channel busy condition if the received signal strength exceeds the CCA-ED threshold as given by  $\text{dot11OFDMEDThreshold}$ . The CCA-ED thresholds for the operating classes requiring CCA-ED are subject to the criteria in D.2.5.

For transmissions that carry a frame that includes a BQR Control subfield (see 9.2.4.7), CCA-ED shall detect a channel busy condition if the received signal strength exceeds the CCA-ED threshold as given by  $\text{dot11OFDMEDThreshold}$  for primary 20 MHz channel and for each nonprimary 20 MHz channel (if present). The CCA-ED thresholds for the operating classes requiring CCA-ED are subject to the criteria in D.2.5.

NOTE—The requirement to detect a channel busy condition as stated in 36.3.21.6.3 and 36.3.21.6.4 is a mandatory energy detect requirement on all Clause 36 receivers. Support for CCA-ED is an additional requirement that relates specifically to the sensitivities described in D.2.5.

### 36.3.21.6.3 CCA sensitivity for the primary 20 MHz channel

An EHT STA with a  $W$  MHz operating channel width shall detect, with greater than 90% probability, the start of a PPDU that occupies at least the primary 20 MHz channel in an otherwise idle  $W$  MHz operating channel width, and issue a PHY-CCA.indication with the STATUS parameter set to BUSY within a period of aCCATime (see 36.4.4) if one of the following conditions is met:

- The start of a non-HT PPDU as defined in 17.3.10.6 (CCA requirements) when operating in the 5 GHz or 6 GHz band and 18.4.6 (CCA performance) when operating in the 2.4 GHz band.
- The start of an HT PPDU as defined in 19.3.19.6 (CCA sensitivity).
- The start of a non-HT duplicate, VHT, HE, or EHT PPDU for which the power measured within the primary 20 MHz channel is at or above -82 dBm.

The channel-list parameter is present and set to {primary} if the operating channel width is greater than 20 MHz. The CCA signal shall be held busy (not issue a PHY-CCA.indication primitive with the STATUS parameter set to IDLE) for the duration of the PPDU, unless it receives a CCARESET.request primitive before the end of the PPDU for instance during spatial reuse operation as described in 35.10.

The receiver shall issue a PHY-CCA.indication primitive with the STATUS parameter set to BUSY for any signal that exceeds the threshold below in the primary 20 MHz channel within a period of aCCATime after the signal arrives at the receiver's antenna(s):

- A value specified by dot11MSDOFDMEDthreshold if any MediumSyncDelay timer at that STA has not expired (see 35.3.16.8).
- -62 dBm otherwise.

NOTE—-62 dBm is 20 dB above the minimum modulation and coding rate sensitivity ( $-82 + 20 = -62$  dBm).

If the operating channel width is greater than 20 MHz, then the channel-list parameter is present and shall be set to {primary}. Following the indication and while the threshold continues to be exceeded, the receiver shall not issue a PHY-CCA.indication primitive with the STATUS parameter set to IDLE or with a change in the channel-list parameter.

### 36.3.21.6.4 Per 20 MHz CCA sensitivity

If the operating channel width is greater than 20 MHz and the PHY issues a PHY-CCA.indication primitive, the PHY shall set the per20bitmap to indicate the busy/idle status of each 20 MHz subchannel. A 20 MHz subchannel is busy if at least one of the following conditions is present:

- A signal is present on the 20 MHz subchannel at or above a threshold of -62 dBm at the receiver's antenna(s). The PHY shall indicate that the 20 MHz subchannel is busy a period aCCATime after the signal starts and shall continue to indicate the 20 MHz subchannel is busy while the threshold continues to be exceeded.
- A non-HT, HT\_MF, HT\_GF, VHT, HE, or EHT PPDU for which the power measured within this 20 MHz subchannel is at or above  $\max(-72 \text{ dBm}, \text{OBSS\_PD}_{\text{level}})$  at the receiver's antenna(s). The PHY shall indicate that the 20 MHz subchannel is busy with greater than 90% probability within a period aCCAMidTime (see 36.3).

NOTE—Following the receipt of a Trigger frame with the CS Required subfield in the Common Info field set to 1, the EHT PHY is only required to detect a signal at the -62 dBm threshold since the other conditions require more time than is available before the response is expected.

$OBSS_{PD_{level}}$  is defined in 26.10.2.4 (Adjustment of OBSS PD and transmit power) and applied in the equations to define the detection level in this subclause if an EHT STA has ignored a 40 MHz, 80 MHz, 160 MHz, or 320 MHz inter-BSS PPDU following the procedure in 26.10.2.2 or 26.10.2.3. It is applied to any secondary channels within the PPDU bandwidth of the inter-BSS PPDU and during the RXTIME of the inter-BSS PPDU. Otherwise,  $OBSS_{PD_{level}}$  is not applied in the equations to define the detection level in this subclause.

### 36.3.22 EHT transmit procedure

There are three paths for the transmit PHY procedure.

The first two paths, for which typical transmit procedures are shown in Figure 36-75 and Figure 36-76, are selected if the FORMAT field of the PHY-TXSTART.request primitive (containing TXVECTOR) is equal to EHT\_MU or EHT\_TB, respectively.

![](bcc330964c1675ad7aa9f5b7bb205f6a_img.jpg)

Diagram illustrating the PHY transmit procedure for an EHT MU PPDU, showing the MAC and PHY layers.

The MAC layer sends the PHY-TXSTART.request (TXVECTOR) to the PHY layer. The PHY layer confirms this request with PHY-TXSTART.confirm.

The PHY layer transmits the PPDU structure, which includes:

- Service (L-SIG, U-SIG, EHT-SIG, Service)
- PSDU
- Pre-FEC PHY padding if needed
- Tail bits if needed
- Post-FEC padding if needed

The PPDU structure is followed by the PHY-TXEND.request, which is confirmed by PHY-TXEND.confirm.

The PPDU structure details the data fields:

- L-STF, L-LTF, L-SIG, RL-SIG, U-SIG-1, U-SIG-2, EHT-SIG, EHT-STF & EHT-LTF, Data (Variable number of OFDM symbols), Packet Extension & Signal Extension (if present).

Below the L-STF, L-LTF, L-SIG, RL-SIG, U-SIG-1, U-SIG-2, and EHT-SIG fields, the following parameters are indicated:

- Coded OFDM, SF/SC, Rate%,
- Coded OFDM, SF/SC, Rate%,
- Coded OFDM, SF/SC, Rate%,
- Coded OFDM, SF/SC, Rate%,
- Coded OFDM, EHT-SIG-MCS, Rate%,
- Coded OFDM, EHT-SIG-MCS, Rate%,
- Coded OFDM, EHT-SIG-MCS, Rate%,
- Coded OFDM, EHT-SIG-MCS, Rate%,

The Data field is indicated by a variable number of OFDM symbols, and the Packet Extension & Signal Extension field is indicated by EHT-BG.

Figure 36-75—PHY transmit procedure for an EHT MU PPDU

![](3ecb4c2a8aa5f044287c42589f7e5ff4_img.jpg)

Figure 36-76 illustrates the PHY transmit procedure for an EHT TB PPDU, showing the interaction between the MAC and PHY layers.

The MAC layer initiates the process with a **PHY-TXSTART.request** (TXVECTOR) to the PHY layer. The PHY layer responds with a **PHY-TXSTART.confirm** to the MAC layer.

The MAC layer then transmits the **A-MPDU including EOF padding** to the PHY layer. The PHY layer transmits the PPDU structure, which includes:

- **Pre-FEC PHY padding if needed**
- **Packet Extension & Signal Extension (if present)**
- **Data (Variable number of OFDM symbols)**
- **Post-FEC padding if needed**

The PPDU structure is composed of the following fields:

- **L-SIG**
- **U-SIG**
- **Service**
- **PSDU**

The **PSDU** is further decomposed into:

- **L-STF**
- **L-LTF**
- **L-SIG**
- **RL-SIG**
- **U-SIG-1**
- **U-SIG-2**
- **EHT-STF & EHT-LTF**

Each OFDM symbol within the Data field is associated with **Coded OFDM (BPSK, Rate %)**.

The MAC layer also sends **PHY-Data.request** and **PHY-TXEND.request** to the PHY layer, and the PHY layer sends **PHY-Data.confirm** and **PHY-TXEND.confirm** back to the MAC layer.

Figure 36-76—PHY transmit procedure for an EHT TB PPDU

The third path is to follow the transmit procedure in Clause 17 if the FORMAT parameter of the PHY-TXSTART.request primitive (containing TXVECTOR) is NON\_HT and the NON\_HT\_MODULATION parameter is NON\_HT\_DUP\_OFDM, except that the signal is generated simultaneously on each of the 20 MHz channels identified by the CH\_BANDWIDTH parameter as defined in 36.3.12 and 36.3.15.

NOTE 1—For an EHT MU PPDU the A-MPDU is per user in the MAC sublayer and the EHT-STF and EHT-LTF, and Data are per user in the PHY in Figure 36-75.

NOTE 2—The transmission of NON\_HT, HT\_MF, HT\_GF, VHT, and HE formats is specified in 36.2.6.

In all options, in order to transmit data, the MAC generates a PHY-TXSTART.request primitive, which causes the PHY entity to respond with a PHY-TXSTART.confirm primitive and enter the transmit state. Further, the PHY is set to operate at the appropriate frequency through station management via the PLME, as specified in 36.4. Other transmit parameters, such as EHT-MCS, coding types, and transmit power, are set via the PHY-SAP using the PHY-TXSTART.request primitive (containing TXVECTOR), as described in 36.2.2. After transmitting a PPDU that carries a Trigger frame, the MAC sublayer issues a PHY-TRIGGER.request with a TRIGVECTOR parameter that provides the PHY entity with the information needed to demodulate the expected EHT TB PPDU response. The remainder of the subclause applies to the first two paths.

The PHY indicates the state of the primary channel and other channels (if any) via the PHY-CCA.indication primitive (see 36.3.21.6 and 8.3.5.12). Transmission of the PPDU shall be initiated by the PHY after receiving the PHY-TXSTART.request primitive (containing TXVECTOR). The TXVECTOR parameters for the PHY-TXSTART.request primitive are specified in Table 36-1.

After the PHY preamble transmission is started, the PHY entity immediately initiates scrambling and encoding of the SERVICE field and PSDU. The encoding method for the Data field is based on the FEC\_CODING, CH\_BANDWIDTH, NUM\_STS, MCS, RU\_ALLOCATION, and STA\_ID parameters of the TXVECTOR, as described in 36.3.4.

The data shall be exchanged between the MAC and the PHY through a series of PHY-DATA.request(DATA) primitives issued by the MAC, and PHY-DATA.confirm primitives issued by the PHY. PHY padding bits are appended to the PSDU to make the number of bits in the coded PSDU an integral multiple of the number of coded bits per OFDM symbol.

Transmission can be prematurely terminated by the MAC through the PHY-TXEND.request primitive. PSDU transmission is terminated by receiving a PHY-TXEND.request primitive. Each PHY-TXEND.request primitive is acknowledged with a PHY-TXEND.confirm primitive from the PHY.

A packet extension and/or a signal extension may be present in the PPDU. The PHY-TXEND.confirm primitive is generated at the latest of the actual ending time of the PPDU, the end of the packet extension if present, and the end of the signal extension if present.

In the PHY, the GI with GI duration indicated in the GI\_TYPE parameter of the TXVECTOR is inserted in every data OFDM symbol as a countermeasure against delay spread.

Once the PPDU transmission is completed the PHY entity enters the receive state.

A typical state machine implementation for the transmission of an EHT PPDU is shown in Figure 36-77. Request (.request) and confirmation (.confirm) primitives are issued once per state as shown.

Amendment 2: Enhancements for Extremely High Throughput (EHT)

![](9cdc20b8e8e80a31fa30ad1688194b33_img.jpg)

Figure 36-77—PHY transmit state machine for an EHT PPDU

### 36.3.23 EHT receive procedure

Typical PHY receive procedures are shown in Figure 36-78 and Figure 36-79.

![](66e6f60f5c39d3ef4b3fb9633a73a6ce_img.jpg)

Figure 36-78 illustrates the PHY receive procedure for an EHT MU PPDU, showing the interaction between the MAC and PHY layers during the CS/CCA state and the RX state.

**MAC Layer (CS/CCA state):**

- PHY/CCA indication (long primary) is received.
- PHY/RXRLV/SIG indication is received.
- PHY/RXSTART indication (RXVECTOR) is received.
- PHY/DATA indication is received.
- PHY/END indication (ME/ERROR/VECTOR) is received.

**PHY Layer (CS/CCA state):**

- Measure RSSI, LEGACY is issued.
- Measure RSSI, U-SIG-1 is issued.
- Measure RSSI, U-SIG-2 is issued.
- Measure RSSI, EHT-SIG is issued.
- Measure RSSI, EHT-STF & EHT-LTF is issued.

**MAC Layer (RX state):**

- A-MPDU is received.
- Pre-FEC padding (if present), tail bits (if present) and post-FEC padding is issued at the same time.

**PHY Layer (RX state):**

- Decoding Delay occurs.
- Decoded and descrambled data is received.
- Measure RCFI is issued.
- Packet extension (if present) is received.
- Signal extension (if present) is received.

**PHY Layer (CS/CCA state):**

- Coded OFDM (SPK, Rate %) is received.
- Coded OFDM (SPK, Rate %) is received.
- Coded OFDM (SPK, Rate %) is received.
- Coded OFDM (SPK, Rate %) is received.
- Coded OFDM (SPK, Rate %) is received.

Figure 36-78—PHY receive procedure for an EHT MU PPDU

![](22089dee6e70db84a5ee62446b356fc7_img.jpg)

Figure 36-79 illustrates the PHY receive procedure for an EHT TB PPDU, showing the interaction between the MAC and PHY layers during the CS/CCA state and the RX state.

**MAC Layer (CS/CCA state):**

- PHY/CCA indication (long primary) is received.
- PHY/RXRLV/SIG indication is received.
- PHY/RXSTART indication (RXVECTOR) is received.
- PHY/DATA indication is received.
- PHY/END indication (ME/ERROR/VECTOR) is received.

**PHY Layer (CS/CCA state):**

- Measure RSSI, LEGACY is issued.
- Measure RSSI, U-SIG-1 is issued.
- Measure RSSI, U-SIG-2 is issued.
- Measure RSSI, EHT-STF & EHT-LTF is issued.

**MAC Layer (RX state):**

- A-MPDU is received.
- Pre-FEC padding (if present), tail bits (if present) and post-FEC padding is issued at the same time.

**PHY Layer (RX state):**

- Decoding Delay occurs.
- Decoded and descrambled data is received.
- Measure RCFI is issued.
- Packet extension (if present) is received.
- Signal extension (if present) is received.

**PHY Layer (CS/CCA state):**

- Coded OFDM (SPK, Rate %) is received.
- Coded OFDM (SPK, Rate %) is received.
- Coded OFDM (SPK, Rate %) is received.
- Coded OFDM (SPK, Rate %) is received.
- Coded OFDM (SPK, Rate %) is received.

Figure 36-79—PHY receive procedure for an EHT TB PPDU

Amendment 2: Enhancements for Extremely High Throughput (EHT)

A typical state machine implementation of the receive PHY is given in Figure 36-80.

![](250e8a1de91318e7d7b48c015117f230_img.jpg)

Figure 36-80—PHY receive state machine

If the detected format indicates a non-HT PPDU, refer to the receive procedure and state machine in Clause 15, Clause 16, Clause 17, and Clause 18. If the detected format indicates an HT PPDU format, refer to the receive procedure and state machine in Clause 19. If the detected format indicates a VHT PPDU format, refer to the receive procedure and state machine in Clause 21. If the detected format indicates an HE PPDU format, refer to the receive procedure and state machine in Clause 27. Furthermore, while a particular format has not been excluded, the corresponding receive procedure may operate such that multiple receive procedures operate in parallel until a single format is indicated and a single receive procedure is operating. Through station management (via the PLME), the PHY is set to the appropriate frequency as specified in 36.4. The PHY has also been configured with BSS identification information and STA identification information (i.e., BSS color value and STA-ID) so that it can receive data intended for the STA in the

specific BSS. Other receive parameters, such as RSSI and indicated DATARATE, can be accessed via the PHY SAP.

Upon receiving the transmitted PHY preamble in a greater than or equal to 20 MHz BSS, the PHY measures a receive signal strength. This activity is indicated by the PHY to the MAC via a PHY-CCA.indication primitive. A PHY-CCA.indication(BUSY, channel-list) primitive is also issued as an initial indication of reception of a signal as specified in 36.3.21.6. The channel-list parameter of the PHY-CCA.indication primitive is absent when the operating channel width is 20 MHz. The channel-list parameter is present when the operating channel width is 40 MHz, 80 MHz, 160 MHz, or 320 MHz.

The PHY shall not issue a PHY-RXEARLYSIG.indication nor a PHY-RXSTART.indication primitive in response to a PPDU that does not overlap the primary channel unless the PHY at an AP receives the EHT TB PPDU solicited by the AP. The PHY shall issue both a PHY-RXEARLYSIG.indication primitive and a PHY-RXSTART.indication primitive for the EHT TB PPDU solicited by the AP.

The PHY includes the measured RSSI and RSSI\_LEGACY values in the PHY-RXSTART.indication(RXVECTOR) primitive issued to the MAC.

After the PHY-CCA.indication(BUSY, channel-list) primitive is issued, the PHY entity shall begin receiving the training symbols and searching for L-SIG in order to set the maximum duration of the data stream. Then the PHY will search for the preambles for non-HT, HT-MF, VHT, HE, and EHT PPDU. If the constellation used in the first symbol after the first long training field is QBPSK, the PHY entity shall continue to detect the received signal using the receive procedure for HT-GF depicted in Clause 19. For detecting the EHT preamble, the PHY entity shall search for RL-SIG and evaluate the LENGTH field. If RL-SIG is detected, the PHY entity should check the parity bit and RATE fields in L-SIG and RL-SIG. If either the check of the parity bit is invalid or the RATE field is not set to 6 Mb/s, neither a PHY-RXEARLYSIG.indication nor a PHY-RXSTART.indication primitive is issued. If the check of the parity bit is valid and the RATE field indicates 6 Mb/s but the LENGTH field value in L-SIG is a not a multiple of three, neither a PHY-RXEARLYSIG.indication nor a PHY-RXSTART.indication primitive is issued. A PHY entity may determine from L-SIG that EHT PPDU format is excluded via other means, in which case neither a PHY-RXEARLYSIG.indication nor a PHY-RXSTART.indication primitive is issued. If the EHT preamble is not detected, the PHY should continue to detect the received signal using non-HT, HT, VHT, and HE receive procedure in Clause 17, Clause 19, Clause 21, and Clause 27, respectively.

If a valid parity bit and the RATE with 6 Mb/s are indicated in L-SIG and RL-SIG and the LENGTH field value in L-SIG and RL-SIG is a multiple of three, U-SIG field is present after RL-SIG. PHY entity shall issue a PHY-RXEARLYSIG.indication primitive and shall begin receiving the U-SIG field and identify the PPDU version based on the PHY Version Identifier field in the U-SIG field. The PHY entity shall check the constellation of the second symbol of the U-SIG field. If the constellation is QBPSK, the PHY entity shall receive the U-SIG field and the repeated U-SIG field (four symbols in total following the RL-SIG). If the constellation is BPSK, the PHY entity shall receive the U-SIG field (two symbols in total following the RL-SIG). Then the PHY entity shall check the CRC of the U-SIG field (and the repeated U-SIG field if present).

- If the U-SIG field indicates a valid CRC, the PHY entity shall report the version independent fields in the U-SIG field (e.g., TXOP, BSS color, and Bandwidth) to the MAC entity.
- If the U-SIG field indicates a valid CRC, and the PHY version identifier or the BSS color or the UL/DL does not contain an intended value, or the constellation of the second symbol of the U-SIG field is QBPSK, the PHY entity shall issue a PHY-RXSTART.indication(RXVECTOR) then issue a PHY-RXEND.indication(Filtered).
- If the U-SIG field indicates a valid CRC and the U-SIG field indicates a Validate U-SIG indication, the PHY shall issue the error condition PHY-RXEND.indication(FormatViolation) primitive and maintain PHY-CCA.indication(BUSY, channel-list) primitive for the predicted duration of the transmitted PPDU derived from the LENGTH field in L-SIG as defined in Equation (36-108) unless it receives a PHY-CCARESET.request primitive before the end of the PPDU for instance during spa-

tial reuse operation as described in 35.10. A Validate U-SIG indication is defined as a Validate field in the U-SIG field being set to 0 or a field value of a field in the U-SIG field being set to a Validate state.

- If the U-SIG field indicates a valid CRC and the U-SIG field indicates a Disregard U-SIG indication, the PHY entity shall continue processing the U-SIG. A Disregard U-SIG indication is defined as a Disregard field in the U-SIG field being set to any value or a field value of a field in the U-SIG field being set to a Disregard state. The PHY entity shall not process the Disregard field.
- If the U-SIG field indicates an invalid CRC, the PHY shall issue the error condition PHY-RXEND.indication(FormatViolation) primitive and maintain PHY-CCA.indication(BUSY, channelist) primitive for the predicted duration of the transmitted PPDU derived from the LENGTH field in L-SIG as defined in Equation (36-108) unless it receives a PHY-CCARESET.request primitive before the end of the PPDU for instance during spatial reuse operation as described in 35.10.

$$RXTIME(\mu s) = \frac{LENGTH + 3}{3} \times 4 + 20 + SignalExtension \quad (36-108)$$

where

LENGTH is the value of the LENGTH field in L-SIG.

SignalExtension is defined in Table 27-61 (HE PHY characteristics).

If the CRC checks in U-SIG field is valid, and PHY version identifier, the BSS color, and the UL/DL all indicates an intended value, and a Validate U-SIG indication is not indicated, then the PHY entity will parse the PPDU Type And Compression Mode subfield and the DL/UL subfield in the U-SIG field and identify the EHT PPDU type.

If the received PPDU is EHT MU PPDU, the PHY entity shall begin receiving the EHT-SIG, EHT-STF, and EHT-LTF fields for EHT MU PPDU as shown in Figure 36-78. The PHY entity shall check the CRC of the Common field of EHT-SIG.

- If the CRCs protecting the Common field of EHT-SIG field are valid, for all supported modes, unsupported modes and Validate indication, the PHY entity shall maintain PHY-CCA.indication(BUSY, channelist) primitive for the predicted duration of the transmitted PPDU, as defined by RXTIME in Equation (36-109), unless it receives a PHY-CCARESET.request primitive before the end of the PPDU for instance during spatial reuse operation as described in 35.10. A Validate EHT-SIG indication is defined as a field value of a subfield either in the EHT-SIG common field or in the receiver's own user field being set to a Validate state.
- If the UL/DL subfield of the U-SIG field is set to 0 and the CRCs protecting the Common field of the EHT-SIG field are valid, the PHY entity shall search for intended STA-ID in each User field. If an intended STA-ID is detected in a user encoding block or in the common encoding block of EHT-SIG (STA-ID can be present in the common encoding block of EHT-SIG only if the PPDU type and compression mode and UL/DL indicate a DL non-OFDMA transmission) with valid CRC, and an unsupported mode or a Validate EHT-SIG indication is not indicated, the PHY entity shall continue receiving the EHT-STF after the EHT-SIG field.
- If the receiving PHY entity is contained in an AP, the UL/DL subfield of the U-SIG field is set to 1, the value of the BSS Color subfield matches a value in the PHYCONFIG VECTOR parameter BSS\_COLOR\_LIST, the CRC protecting the common encoding block of the EHT-SIG field is valid and an unsupported mode or a Validate EHT-SIG indication is not indicated, the PHY entity may check the STA-ID in the User field.
  - If the PHY entity checks the STA-ID in the User field and the STA-ID value matches the 11 LBSs of the AID of a STA in the AP's BSS, then the PHY shall continue receiving the EHT-STF after the EHT-SIG field.
  - If the PHY entity does not check the STA-ID in the User field, then the PHY shall continue receiving the EHT-STF after the EHT-SIG field.

- If the UL/DL subfield of the U-SIG field is set to 0 and the CRCs protecting the Common field of the EHT-SIG field are valid and no intended STA-ID is detected in all the User fields, the PHY entity shall issue a PHY-RXSTART.indication(RXVECTOR) then issue a PHY-RXEND.indication(Filtered).
- If the UL/DL subfield of the U-SIG field is set to 0 and the CRCs protecting the Common field of the EHT-SIG field are valid and an intended STA-ID is detected, but an unsupported mode or a Validate EHT-SIG indication is indicated in EHT-SIG field, the PHY shall issue a PHY-RXSTART.indication(RXVECTOR) then issue a PHY-RXEND.indication(UnsupportedRate) primitive.
- If the UL/DL subfield of the U-SIG field is set to 1 and the CRC protecting the common encoding block of the EHT-SIG field is valid, but an unsupported mode or a Validate EHT-SIG indication is indicated in EHT-SIG field, the PHY shall issue a PHY-RXSTART.indication(RXVECTOR) then issue a PHY-RXEND.indication(UnsupportedRate) primitive.
- If the CRCs protecting the Common field of the EHT-SIG field are not valid, the PHY shall issue the error condition PHY-RXEND.indication(FormatViolation) primitive and maintain PHY-CCA.indication(BUSY, channelist) primitive for the predicted duration of the transmitted PPDU derived from the LENGTH field in L-SIG as defined in Equation (36-108) unless it receives a PHY-CCA-RESET.request primitive before the end of the PPDU for instance during spatial reuse operation as described in 35.10.

If the received PPDU is EHT TB PPDU, the PHY entity shall continue receiving the EHT-STF and EHT-LTF for an EHT TB PPDU shown in Figure 36-79. If a STA receives an EHT TB PPDU and the TRIGVECTOR parameters are not present in its PHY entity, the STA shall use Equation (36-108) to calculate the predicted duration of the EHT TB PPDU.

If signal loss occurs during reception prior to completion of the PSDU reception, the error condition PHY-RXEND.indication(CarrierLost) shall be reported to the MAC. After waiting for the end of the PPDU as determined by Equation (36-109), the PHY shall set the PHY-CCA.indication(IDLE) primitive and return to the RX IDLE state.

$$RXTIME(\mu s) = 20 + T_{EHT\_PREAMBLE} + N_{SYM}T_{SYM} + T_{PE} + SignalExtension \quad (36-109)$$

where

$T_{EHT\_PREAMBLE}$ ,  $N_{SYM}$ , and  $T_{PE}$  are defined in Equation (36-97), Equation (36-95), and Equation (36-96), respectively.

*SignalExtension* is defined in Table 27-61 (HE PHY characteristics).

Except in an EHT sounding NDP, a Data field follows the EHT-STF and EHT-LTF fields. The number of symbols in the Data field and the packet extension duration are computed from Equation (36-95) and Equation (36-96), respectively.

The received PSDU bits are assembled into octets, decoded, and present to the MAC using a series of PHY-DATA.indication(DATA) primitive exchanges. Any final bits that cannot be assembled into a complete octet are considered pad bits and discarded. After the reception of the final bit of the last PSDU octet, and possible padding and tail bits, the PHY entity shall check whether packet extension and/or signal extension is applied. If packet extension and/or signal extension is applied, the PHY entity shall wait until the packet extension and/or signal extension expires before issuing a PHY-RXEND.indication (NoError, RXVECTOR) returning to the RX IDLE state, as shown in Figure 36-80.

## 36.3.24 Channel numbering and channelization

### 36.3.24.1 General

The STA may operate in the 2.4 GHz band, 5 GHz band, or 6 GHz band. The set of valid operating channel numbers by regulatory domain is defined in Annex E. Channel allocation for each band is defined as follows:

- In 19.3.15.2 (Channel allocation in the 2.4 GHz band) for the 2.4 GHz band
- In 19.3.15.3 (Channel allocation in the 5 GHz band) for the 5 GHz band
- In 27.3.25.2 (Channel allocation in the 6 GHz band) for the 6 GHz band

### 36.3.24.2 Channelization for 320 MHz channel

The 320 MHz channel consists of any two adjacent 160 MHz channels in the 6 GHz band. Two types of channelizations for a 320 MHz channel are defined: 320 MHz-1 and 320 MHz-2. 320 MHz-1 is defined as a 320 MHz channel with channel center frequency numbered 31, 95, and 159. 320 MHz-2 is defined as a 320 MHz channel with channel center frequency numbered 63, 127, and 191.

### 36.3.25 Regulatory requirements

WLANs implemented in accordance with this standard are subject to equipment certification and operating requirements established by regional and national regulatory administrations. The PHY specification establishes minimum technical requirements for interoperability, based upon established regulations at the time this standard was issued. These regulations are subject to change. Requirements that are subject to local geographic regulations are annotated within the PHY specification. Regulatory requirements that do not affect interoperability are not addressed in this standard. Implementers are referred to the regulatory sources in Annex D for further information. Operation in countries within defined regulatory domains might be subject to additional or alternative national regulations.

## 36.4 EHT PLME

### 36.4.1 PLME\_SAP sublayer management primitives

Table 36-69 lists the MIB attributes that are accessible by the PHY entities and the intralayer of higher level LMEs. These attributes are accessed via the PLME-GET, PLME-SET, PLME-RESET, and PLME-CHARACTERISTICS primitives defined in 6.7.

### 36.4.2 PHY MIB

PHY MIB attributes for an EHT STA are defined in Annex C with specific values defined in Table 15-4, Table 16-3 (MIB attribute default values/ranges), Table 17-23, Table 18-4 (MIB attribute default values/ranges), Table 19-24 (HT PHY MIB attributes), Table 21-27 (VHT PHY MIB attributes), Table 27-60, and Table 36-69. The “Operational semantics” column in Table 36-69 contains two types: static and dynamic.

- Static MIB attributes are fixed and cannot be modified for a given PHY implementation.
- Dynamic MIB attributes are interpreted according to the MAX-ACCESS field of the MIB attribute. If MAX-ACCESS is equal to read-only, the MIB attribute value may be updated by the PLME and read from the MIB attribute by management entities. If MAX-ACCESS is equal to read-write, the MIB attribute may be read and written by management entities.

Table 36-69—EHT PHY MIB attributes

| Managed object                                          | Default value/<br>range     | Operational<br>semantics |
|---------------------------------------------------------|-----------------------------|--------------------------|
| <strong>dot11PHYOperationTable</strong>                 |                             |                          |
| dot11PHYType                                            | echt                        | Static                   |
| <strong>dot11PHYEHTTable</strong>                       |                             |                          |
| dot11EHTCurrentChannelWidth                             | Implementation<br>dependent | Dynamic                  |
| dot11EHTSupportFor320MHzImplemented                     | false/Boolean               | Static                   |
| dot11EHTNonOFDMAULMUMIMOLessThanOrEqualto80Implemented  | false/Boolean               | Static                   |
| dot11EHTNonOFDMAULMUMIMOEqualto160Implemented           | false/Boolean               | Static                   |
| dot11EHTNonOFDMAULMUMIMOEqualto320Implemented           | false/Boolean               | Static                   |
| dot11EHTPartialBWULMUMIMOImplemented                    | false/Boolean               | Static                   |
| dot11EHTMUPPDUwith4xEHTLTFand0point8usecGIImplemented   | false/Boolean               | Static                   |
| dot11EHTPSRBasedSRImplemented                           | false/Boolean               | Static                   |
| dot11EHTPowerBoostFactorImplemented                     | false/Boolean               | Static                   |
| dot11EHTTx102QAMand4096QAMLessThan242ToneRUImplemented  | false/Boolean               | Static                   |
| dot11EHTRx102QAMand4096QAMLessThan242ToneRUImplemented  | false/Boolean               | Static                   |
| dot11EHTExtraLTsImplemented                             | false/Boolean               | Static                   |
| dot11EHTMaxNumberOfSupportedEHTLTsForSU                 | Implementation<br>dependent | Static                   |
| dot11EHTMaxNumberOfSupportedEHTLTsForMUandNDP           | Implementation<br>dependent | Static                   |
| dot11EHTMCS15For52p26and106p26MRUImplemented            | false/Boolean               | Static                   |
| dot11EHTMCS15For484p242MRUImplemented                   | false/Boolean               | Static                   |
| dot11EHTMCS15For996p484and996p484p242MRUImplemented     | false/Boolean               | Static                   |
| dot11EHTMCS15For3x996MRUImplemented                     | false/Boolean               | Static                   |
| dot11EHTDupImplemented                                  | false/Boolean               | Static                   |
| dot11EHTSupportFor242ToneRUInBWWiderThan20Implemented   | false/Boolean               | Static                   |
| dot11EHT20MHzOperatingSTARxNDPwithWiderBWImplemented    | false/Boolean               | Static                   |
| dot11EHTCurrentChannelCenterFrequencyIndex0             | Implementation<br>dependent | Dynamic                  |
| dot11EHTDisabledSubchannelBitmap                        | 0/0...65 535                | Dynamic                  |
| <strong>dot11EHTTransmitBeamformingConfigTable</strong> |                             |                          |
| dot11EHTSUBeamformerImplemented                         | false/Boolean               | Static                   |
| dot11EHTSUBeamformeeImplemented                         | false/Boolean               | Static                   |
| dot11EHTMUBeamformerLessThanOrEqualto80Implemented      | false/Boolean               | Static                   |

Table 36-69—EHT PHY MIB attributes (continued)

| Managed object                                             | Default value/<br>range  | Operational semantics |
|------------------------------------------------------------|--------------------------|-----------------------|
| dot11EHTMUBeamformerEqualTo160Implemented                  | false/Boolean            | Static                |
| dot11EHTMUBeamformerEqualTo320Implemented                  | false/Boolean            | Static                |
| dot11EHTPartialBWDLUMIMOImplemented                        | false/Boolean            | Static                |
| dot11EHTTriggeredSUBeamformingFeedbackImplemented          | false/Boolean            | Static                |
| dot11EHTTriggeredMUBeamformingPartialBWFeedbackImplemented | false/Boolean            | Static                |
| dot11EHTTriggeredCQIFeedbackImplemented                    | false/Boolean            | Static                |
| dot11EHTNonTriggeredCQIFeedbackImplemented                 | false/Boolean            | Static                |
| dot11EHTBeamformeeSSLessThanOrEqualTo80                    | Implementation dependent | Static                |
| dot11EHTBeamformeeSSEqualTo160                             | Implementation dependent | Static                |
| dot11EHTBeamformeeSSEqualTo320                             | Implementation dependent | Static                |
| dot11EHTNumberSoundingDimensionsLessThanOrEqualTo80        | Implementation dependent | Static                |
| dot11EHTNumberSoundingDimensionsEqualTo160                 | Implementation dependent | Static                |
| dot11EHTNumberSoundingDimensionsEqualTo320                 | Implementation dependent | Static                |
| dot11EHTNG16SUFFeedbackImplemented                         | false/Boolean            | Static                |
| dot11EHTNG16MUFFeedbackImplemented                         | false/Boolean            | Static                |
| dot11EHTCodebookSizePhi4Psi2SUFeedbackImplemented          | false/Boolean            | Static                |
| dot11EHTCodebookSizePhi7Psi5MUFFeedbackImplemented         | false/Boolean            | Static                |
| dot11EHTMaxNc                                              | Implementation dependent | Static                |
| dot11EHTNDPwith4xEHTLTFand3point2GIImplemented             | false/Boolean            | Static                |

#### 36.4.3 TXTIME and PSDU\_LENGTH calculation

The value of the TXTIME parameter returned by the PLME-TXTIME.confirm primitive shall be calculated for an EHT PPDU using Equation (36-110).

$$TXTIME = 20 + T_{EHT-PREAMBLE} + N_{SYM}T_{SYM} + T_{PE} + SignalExtension \quad (36-110)$$

where

$T_{EHT-PREAMBLE}$  is defined as in Equation (36-97).

$SignalExtension$  takes the value of  $aSignalExtension$  as defined in Table 27-61.

For an EHT MU PPDU, the total number of data OFDM symbols,  $N_{SYM}$ , is given in 36.3.13.3.5.

For an EHT TB PPDU, the total number of data OFDM symbols,  $N_{SYM}$ , is given in 36.3.13.3.6.

For an EHT sounding NDP, the total number of data OFDM symbols,  $N_{SYM}$ , is 0.

$T_{PE}$  is given in 36.3.14.

The value of the PSDU\_LENGTH parameter for user  $u$  returned in the PLME-TXTIME.confirm primitive for an EHT TB PPDU is calculated using Equation (36-111).

$$\text{PSDU\_LENGTH}_u = \left\lfloor \frac{(N_{SYM,init} - 1)N_{DBPS,u} + N_{DBPS,last,init,u} - N_{service} - N_{tail,u}}{8} \right\rfloor \quad (36-111)$$

where

$N_{SYM,init}$  is given in 36.3.13.3.6.

$N_{DBPS,u}$  is given in 36.5.

$N_{DBPS,last,init,u}$  is given by Equation (36-52), with  $a_{init}$  given in 36.3.13.3.6.

The value of the PSDU\_LENGTH parameter for user  $u$  returned in the PLME-TXTIME.confirm primitive for an EHT MU PPDU is calculated using Equation (36-112) and Equation (36-113) for users using BCC and LDPC, respectively.

$$\text{PSDU\_LENGTH}_u = \left\lfloor \frac{(N_{SYM} - 1)N_{DBPS,u} + N_{DBPS,last,u} - N_{service} - N_{tail,u}}{8} \right\rfloor \quad (36-112)$$

$$\text{PSDU\_LENGTH}_u = \left\lfloor \frac{(N_{SYM,init} - 1)N_{DBPS,u} + N_{DBPS,last,init,u} - N_{service}}{8} \right\rfloor \quad (36-113)$$

where

$N_{SYM,init}$  is given by Equation (36-51).

$N_{DBPS,u}$  is given in Table 36-23.

$N_{DBPS,last,u}$  is given by Equation (36-61) for users using BCC and Equation (36-60) for users using LDPC.

$N_{DBPS,last,init,u}$  is given by Equation (36-52).

The value of the PSDU\_LENGTH parameter returned in the PLME-TIME.confirm primitive for an EHT sounding NDP is 0.

For an EHT TB PPDU, the value of the PSDU\_LENGTH parameter for user  $u$  returned in the RXVECTOR is calculated using Equation (36-114).

$$\text{PSDU\_LENGTH}_u = \left\lfloor \frac{(N_{SYM,RX,u} - 1)N_{DBPS,u} + N_{DBPS,last,RX,u} - N_{service} - N_{tail,u}}{8} \right\rfloor \quad (36-114)$$

where

$N_{SYM,RX,u}$  is given by Equation (36-115).

$N_{DBPS,last,RX,u}$  is given by Equation (36-116).

$N_{DBPS,u}$  is defined in Table 36-23.

$N_{service}$  and  $N_{tail,u}$  are defined in Table 36-18.

$$N_{SYM, RX, u} = \begin{cases} N_{SYM} - 1, & \text{if in the corresponding TRIGVECTOR,} \\ & \text{the entry in the FEC_CODING_LIST for the user } u \text{ is equal to 1} \\ & \text{the LDPC_EXTRA_SYMBOL parameter is equal to 1 and} \\ & \text{the PRE_FEC_PADDING_FACTOR parameter is equal to 1} \\ N_{SYM}, & \text{otherwise} \end{cases} \quad (36-115)$$

where

$N_{SYM}$  is given by Equation (36-93).

$$N_{DBPS, last, RX, u} = \begin{cases} N_{DBPS, u}, & \text{if } a_{RX} = 4 \\ a_{RX, u} \cdot N_{SD, short, u} \cdot N_{SS, u} \cdot N_{BPSCS, u} \cdot R_{u}, & \text{otherwise} \end{cases} \quad (36-116)$$

where

$a_{RX, u}$  is given by Equation (36-117).

$N_{SD, short, u}$  is  $N_{SD, short}$  defined in Table 36-46 for user  $u$ .

$N_{SS, u}$ ,  $N_{BPSCS, u}$  and  $R_{u}$  are defined in Table 36-23.

$$a_{RX, u} = \begin{cases} 4, & \text{if in the corresponding TRIGVECTOR,} \\ & \text{the entry in the FEC_CODING_LIST for the user } u \text{ is equal to 1} \\ & \text{the LDPC_EXTRA_SYMBOL parameter is equal to 1 and} \\ & a = 1 \\ a - 1, & \text{if in the corresponding TRIGVECTOR,} \\ & \text{the entry in the FEC_CODING_LIST for the user } u \text{ is equal to 1} \\ & \text{the LDPC_EXTRA_SYMBOL parameter is equal to 1 and} \\ & a > 1 \\ a, & \text{otherwise} \end{cases} \quad (36-117)$$

where

$a$  is the pre-FEC padding factor (ranging from 1 to 4) indicated in TRIGVECTOR parameter PRE\_FEC\_PADDING\_FACTOR.

For an EHT MU PPDU, the value of the RXVECTOR parameter PSDU\_LENGTH returned for user  $u$  is calculated using Equation (36-118).

$$PSDU_LENGTH_{u} = \left\lfloor \frac{(N_{SYM, RX, u} - 1)N_{DBPS, u} + N_{DBPS, last, RX, u} - N_{service} - N_{tail, u}}{8} \right\rfloor \quad (36-118)$$

where

$N_{SYM, RX, u}$  is given by Equation (36-119).

$N_{DBPS, last, RX, u}$  is given by Equation (36-120).

$N_{DBPS, u}$  is defined in Table 36-23.

$N_{service}$  and  $N_{tail, u}$  are defined in Table 36-18.

$$N_{SYM, RX, u} = \begin{cases} N_{SYM} - 1, & \text{if the user } u \text{ is using LDPC coding,} \\ & \text{the LDPC Extra Symbol Segment field in EHT-SIG is equal to 1} \\ & \text{and the Pre-FEC Padding Factor field in EHT-SIG is equal to 1} \\ N_{SYM}, & \text{otherwise} \end{cases} \quad (36-119)$$

where

$N_{SYM}$  is given by Equation (36-95).

$$N_{DBPS, last, RX, u} = \begin{cases} N_{DBPS, u}, & \text{if } a_{RX, u} = 4 \\ a_{RX, u} \cdot N_{SD, short, u} \cdot N_{SS, u} \cdot N_{BPSCS, u} \cdot R_u, & \text{otherwise} \end{cases} \quad (36-120)$$

where

$a_{RX, u}$  is given by Equation (36-121).

$N_{SD, short, u}$  is  $N_{SD, short}$  defined in Table 36-46 and Table 36-47 for user  $u$ .

$N_{SS, u}$ ,  $N_{BPSCS, u}$ ,  $R_u$  are defined in Table 36-23.

$$a_{RX, u} = \begin{cases} 4, & \text{if the user } u \text{ is using LDPC coding,} \\ & \text{LDPC Extra Symbol Segment field in EHT-SIG is equal to 1 and} \\ & a = 1 \\ a - 1, & \text{if the user } u \text{ is using LDPC coding,} \\ & \text{LDPC Extra Symbol Segment field in EHT-SIG is equal to 1 and} \\ & a > 1 \\ a, & \text{otherwise} \end{cases} \quad (36-121)$$

where

$a$  is the pre-FEC padding factor (ranging from 1 to 4) indicated in the Pre-FEC Padding Factor field in the EHT-SIG field.

#### 36.4.4 EHT PHY

The static EHT PHY characteristics are provided through the PLME-CHARACTERISTICS service primitive. If listed in Table 36-70, then the static EHT PHY characteristics shall be as shown in Table 36-70. Otherwise, if listed in Table 27-61, then the static EHT PHY characteristics shall be as shown in Table 27-61. Otherwise, the static EHT PHY characteristics shall be as shown in Table 19-25. The definitions for these characteristics are given in 6.7.

Table 36-70—EHT PHY characteristics

| Characteristics  | Value                                                                             |
|------------------|-----------------------------------------------------------------------------------|
| aPPDUMaxTime     | 5.484 ms                                                                          |
| aPSDUMaxLength   | 15 523 198 bytes                                                                  |
| aRxPHYStartDelay | 32 + $4 \times N_{EHT-SIG}$ $\mu$ s for EHT MU PPDU<br>32 $\mu$ s for EHT TB PPDU |

NOTE—This is the maximum length in octets for an EHT SU transmission using EHT-SIG MCS 1, 320 MHz bandwidth, EHT-MCS 13, 8 spatial streams, 0.8  $\mu$ s GI duration,  $2 \times$  EHT-LTF, PE field with 0  $\mu$ s duration, pre-FEC padding factor value of 4, and 396 Data field OFDM symbols (396 is the maximum number of Data field OFDM symbols that fits within the aPPDUMaxTime of 5.484 ms. This is the maximum PSDU length an EHT PHY could support assuming no restrictions in MAC. See 10.12.2 and 9.2.4.6.1 for additional restrictions on the maximum number of octets the MAC could support.

#### 36.5 Parameters for EHT-MCSs

The rate-dependent parameters for various RU or MRU sizes using  $N_{SS,u} = 1$  are provided in Table 36-71 through Table 36-86. The rate-dependent parameters for EHT DUP mode are provided in Table 36-87.

$N_{CBPS,u}$  for a given EHT-MCS  $M$  using  $N_{SS,u}$  ( $>1$ ) can be obtained as the product of  $N_{SS,u}$  and  $N_{CBPS,u}$  for EHT-MCS  $M$  using  $N_{SS,u} = 1$ .

$N_{DBPS,u}$  and data rate in megabits per second ( $D$ ) are computed using Equation (36-122) and Equation (36-123), respectively.

$$N_{DBPS,u} = \lfloor N_{CBPS,u} \cdot R_u \rfloor \quad (36-122)$$

$$D = \frac{N_{DBPS,u}}{12.8 + T_{GI,Data}} \quad (36-123)$$

where

$R_u$  is the coding rate for user  $u$ ,  $u = 0, 1, \dots, N_{user, total} - 1$ .

$T_{GI,Data}$  is the GI duration for the Data field in microseconds.

EHT-MCSs 14 and 15 are supported only with  $N_{SS,u} = 1$ .

EHT-MCSs 0–13 and 15 are defined for user  $u$  in SU transmission or MU transmission. EHT-MCS 14 is defined for user  $u$  in SU transmission only, and for bandwidths 80 MHz, 160 MHz, and 320 MHz only.

#### 36.5.1 EHT-MCSs for 26-tone RU

The rate-dependent parameters for the 26-tone RU are provided in Table 36-71.

Table 36-71—EHT-MCSs for 26-tone RU,  $N_{SS,U} = 1$

| EHT-MCS index | Modulation | $R_u$ | $N_{BPSCS,u}$ | $N_{SD,u}$ | $N_{CBPS,u}$ | $N_{DBPS,u}$ | Data rate (Mb/s) |                |                |
|---------------|------------|-------|---------------|------------|--------------|--------------|------------------|----------------|----------------|
|               |            |       |               |            |              |              | 0.8 $\mu$ s GI   | 1.6 $\mu$ s GI | 3.2 $\mu$ s GI |
| 0             | BPSK       | 1/2   | 1             | 24         | 24           | 12           | 0.9              | 0.8            | 0.8            |
| 1             | QPSK       | 1/2   | 2             |            | 48           | 24           | 1.8              | 1.7            | 1.5            |
| 2             |            | 3/4   |               |            |              | 36           | 2.6              | 2.5            | 2.3            |
| 3             | 16-QAM     | 1/2   | 4             |            | 96           | 48           | 3.5              | 3.3            | 3.0            |
| 4             |            | 3/4   |               |            |              | 72           | 5.3              | 5.0            | 4.5            |
| 5             | 64-QAM     | 2/3   | 6             |            | 144          | 96           | 7.1              | 6.7            | 6.0            |
| 6             |            | 3/4   |               |            |              | 108          | 7.9              | 7.5            | 6.8            |
| 7             |            | 5/6   |               |            |              | 120          | 8.8              | 8.3            | 7.5            |
| 8             | 256-QAM    | 3/4   | 8             |            | 192          | 144          | 10.6             | 10.0           | 9.0            |
| 9             |            | 5/6   |               |            |              | 160          | 11.8             | 11.1           | 10.0           |
| 10            | 1024-QAM   | 3/4   | 10            |            | 240          | 180          | 13.2             | 12.5           | 11.3           |
| 11            |            | 5/6   |               |            |              | 200          | 14.7             | 13.9           | 12.5           |
| 12            | 4096-QAM   | 3/4   | 12            |            | 288          | 216          | 15.9             | 15.0           | 13.5           |
| 13            |            | 5/6   |               | 240        |              | 17.6         | 16.7             | 15.0           |                |
| 15            | BPSK-DCM   | 1/2   | 1             | 12         | 12           | 6            | 0.4              | 0.4            | 0.4            |

#### 36.5.2 EHT-MCSs for 52-tone RU

The rate-dependent parameters for the 52-tone RU are provided in Table 36-72.

Table 36-72—EHT-MCSs for 52-tone RU,  $N_{SS,U} = 1$

| EHT-MCS index | Modulation | $R_n$ | $N_{BPSCS,n}$ | $N_{SD,n}$ | $N_{CBPS,n}$ | $N_{DBPS,n}$ | Data rate (Mb/s) |                |                |
|---------------|------------|-------|---------------|------------|--------------|--------------|------------------|----------------|----------------|
|               |            |       |               |            |              |              | 0.8 $\mu$ s GI   | 1.6 $\mu$ s GI | 3.2 $\mu$ s GI |
| 0             | BPSK       | 1/2   | 1             | 48         | 48           | 24           | 1.8              | 1.7            | 1.5            |
| 1             | QPSK       | 1/2   | 2             |            | 96           | 48           | 3.5              | 3.3            | 3.0            |
| 2             |            | 3/4   |               |            |              | 72           | 5.3              | 5.0            | 4.5            |
| 3             | 16-QAM     | 1/2   | 4             |            | 192          | 96           | 7.1              | 6.7            | 6.0            |
| 4             |            | 3/4   |               |            |              | 144          | 10.6             | 10.0           | 9.0            |
| 5             | 64-QAM     | 2/3   | 6             |            | 288          | 192          | 14.1             | 13.3           | 12.0           |
| 6             |            | 3/4   |               |            |              | 216          | 15.9             | 15.0           | 13.5           |
| 7             |            | 5/6   |               |            |              | 240          | 17.6             | 16.7           | 15.0           |
| 8             | 256-QAM    | 3/4   | 8             |            | 384          | 288          | 21.2             | 20.0           | 18.0           |
| 9             |            | 5/6   |               |            |              | 320          | 23.5             | 22.2           | 20.0           |
| 10            | 1024-QAM   | 3/4   | 10            | 480        | 360          | 26.5         | 25.0             | 22.5           |                |
| 11            |            | 5/6   |               |            | 400          | 29.4         | 27.8             | 25.0           |                |
| 12            | 4096-QAM   | 3/4   | 12            | 576        | 432          | 31.8         | 30.0             | 27.0           |                |
| 13            |            | 5/6   |               |            | 480          | 35.3         | 33.3             | 30.0           |                |
| 15            | BPSK-DCM   | 1/2   | 1             | 24         | 24           | 12           | 0.9              | 0.8            | 0.8            |

#### 36.5.3 EHT-MCSs for 52+26-tone MRU

The rate-dependent parameters for the 52+26-tone MRU are provided in Table 36-73.

Table 36-73—EHT-MCSs for 52+26-tone MRU,  $N_{SS,U} = 1$

| EHT-<br>MCS<br>index | Modulation | $R_n$ | $N_{BPSK,U}$ | $N_{SD,U}$ | $N_{CBPSK,U}$ | $N_{DBPSK,U}$ | Data rate (Mb/s) |                |                |
|----------------------|------------|-------|--------------|------------|---------------|---------------|------------------|----------------|----------------|
|                      |            |       |              |            |               |               | 0.8 $\mu$ s GI   | 1.6 $\mu$ s GI | 3.2 $\mu$ s GI |
| 0                    | BPSK       | 1/2   | 1            | 72         | 72            | 36            | 2.6              | 2.5            | 2.3            |
| 1                    | QPSK       | 1/2   | 2            |            | 144           | 72            | 5.3              | 5.0            | 4.5            |
| 2                    |            | 3/4   |              |            | 108           | 7.9           | 7.5              | 6.8            |                |
| 3                    | 16-QAM     | 1/2   | 4            |            | 288           | 144           | 10.6             | 10.0           | 9.0            |
| 4                    |            | 3/4   |              |            | 216           | 15.9          | 15.0             | 13.5           |                |
| 5                    | 64-QAM     | 2/3   | 6            |            | 432           | 288           | 21.2             | 20.0           | 18.0           |
| 6                    |            | 3/4   |              |            | 324           | 23.8          | 22.5             | 20.3           |                |
| 7                    | 256-QAM    | 5/6   | 8            |            | 576           | 360           | 26.5             | 25.0           | 22.5           |
| 8                    |            | 3/4   |              |            | 432           | 31.8          | 30.0             | 27.0           |                |
| 9                    | 1024-QAM   | 5/6   | 10           |            | 720           | 480           | 35.3             | 33.3           | 30.0           |
| 10                   |            | 3/4   |              |            | 540           | 39.7          | 37.5             | 33.8           |                |
| 11                   | 4096-QAM   | 5/6   | 12           |            | 864           | 600           | 44.1             | 41.7           | 37.5           |
| 12                   |            | 3/4   |              | 648        | 47.6          | 45.0          | 40.5             |                |                |
| 13                   | BPSK-DCM   | 5/6   | 1            | 36         | 36            | 720           | 52.9             | 50.0           | 45.0           |
| 15                   |            | 1/2   |              |            |               | 18            | 1.3              | 1.3            | 1.1            |

#### 36.5.4 EHT-MCSs for 106-tone RU

The rate-dependent parameters for the 106-tone RU are provided in Table 36-74.

Table 36-74—EHT-MCSs for 106-tone RU,  $N_{SS,U}$  = 1

| EHT-<br>MCS<br>index | Modulation | $R_n$ | $N_{BPSK,n}$ | $N_{SD,n}$ | $N_{CBPSK,n}$ | $N_{DBPSK,n}$ | Data rate (Mb/s) |                |                |
|----------------------|------------|-------|--------------|------------|---------------|---------------|------------------|----------------|----------------|
|                      |            |       |              |            |               |               | 0.8 $\mu$ s GI   | 1.6 $\mu$ s GI | 3.2 $\mu$ s GI |
| 0                    | BPSK       | 1/2   | 1            | 102        | 102           | 51            | 3.8              | 3.5            | 3.2            |
| 1                    | QPSK       | 1/2   | 2            |            | 204           | 102           | 7.5              | 7.1            | 6.4            |
| 2                    |            | 3/4   |              |            |               | 153           | 11.3             | 10.6           | 9.6            |
| 3                    | 16-QAM     | 1/2   | 4            |            | 408           | 204           | 15.0             | 14.2           | 12.8           |
| 4                    |            | 3/4   |              |            |               | 306           | 22.5             | 21.3           | 19.1           |
| 5                    | 64-QAM     | 2/3   | 6            |            | 612           | 408           | 30.0             | 28.3           | 25.5           |
| 6                    |            | 3/4   |              |            |               | 459           | 33.8             | 31.9           | 28.7           |
| 7                    |            | 5/6   |              |            |               | 510           | 37.5             | 35.4           | 31.9           |
| 8                    | 256-QAM    | 3/4   | 8            |            | 816           | 612           | 45.0             | 42.5           | 38.3           |
| 9                    |            | 5/6   |              |            |               | 680           | 50.0             | 47.2           | 42.5           |
| 10                   | 1024-QAM   | 3/4   | 10           | 1 020      | 765           | 56.3          | 53.1             | 47.8           |                |
| 11                   |            | 5/6   |              |            | 850           | 62.5          | 59.0             | 53.1           |                |
| 12                   | 4096-QAM   | 3/4   | 12           | 1 224      | 918           | 67.5          | 63.8             | 57.4           |                |
| 13                   |            | 5/6   |              |            | 1 020         | 75.0          | 70.8             | 63.8           |                |
| 15                   | BPSK-DCM   | 1/2   | 1            | 51         | 51            | 25            | 1.8              | 1.7            | 1.6            |

#### 36.5.5 EHT-MCSs for 106+26-tone MRU

The rate-dependent parameters for the 106+26-tone MRU are provided in Table 36-75,

Table 36-75—EHT-MCSs for 106+26-tone MRU,  $N_{SS,u} = 1$

| EHT-MCS index | Modulation | $R_u$ | $N_{BPSCS,u}$ | $N_{SD,u}$ | $N_{CBPS,u}$ | $N_{DBPS,u}$ | Data rate (Mb/s) |                |                |
|---------------|------------|-------|---------------|------------|--------------|--------------|------------------|----------------|----------------|
|               |            |       |               |            |              |              | 0.8 $\mu$ s GI   | 1.6 $\mu$ s GI | 3.2 $\mu$ s GI |
| 0             | BPSK       | 1/2   | 1             | 126        | 126          | 63           | 4.6              | 4.4            | 3.9            |
| 1             | QPSK       | 1/2   | 2             |            | 252          | 126          | 9.3              | 8.8            | 7.9            |
| 2             |            | 3/4   |               |            | 189          | 13.9         | 13.1             | 11.8           |                |
| 3             | 16-QAM     | 1/2   | 4             |            | 504          | 252          | 18.5             | 17.5           | 15.8           |
| 4             |            | 3/4   |               |            | 378          | 27.8         | 26.3             | 23.6           |                |
| 5             | 64-QAM     | 2/3   | 6             |            | 756          | 504          | 37.1             | 35.0           | 31.5           |
| 6             |            | 3/4   |               |            | 567          | 41.7         | 39.4             | 35.4           |                |
| 7             | 256-QAM    | 5/6   | 8             |            | 1 008        | 630          | 46.3             | 43.8           | 39.4           |
| 8             |            | 3/4   |               |            | 756          | 55.6         | 52.5             | 47.3           |                |
| 9             | 1024-QAM   | 5/6   | 10            |            | 1 260        | 840          | 61.8             | 58.3           | 52.5           |
| 10            |            | 3/4   |               |            | 945          | 69.5         | 65.6             | 59.1           |                |
| 11            | 4096-QAM   | 5/6   | 12            |            | 1 260        | 1 050        | 77.2             | 72.9           | 65.6           |
| 12            |            | 3/4   |               | 1 134      | 83.4         | 78.8         | 70.9             |                |                |
| 13            | BPSK-DCM   | 5/6   | 1             | 63         | 1 512        | 1 260        | 92.6             | 87.5           | 78.8           |
| 15            |            | 1/2   |               |            | 63           | 31           | 2.3              | 2.2            | 1.9            |

#### 36.5.6 EHT-MCSs for 242-tone RU

The rate-dependent parameters for the 242-tone RU are provided in Table 36-76.

Table 36-76—EHT-MCSs for 242-tone RU,  $N_{SS,U} = 1$

| EHT-MCS index | Modulation | $R_u$ | $N_{BPSCS,u}$ | $N_{SD,u}$ | $N_{CBPS,u}$ | $N_{DBPS,u}$ | Data rate (Mb/s) |                |                |
|---------------|------------|-------|---------------|------------|--------------|--------------|------------------|----------------|----------------|
|               |            |       |               |            |              |              | 0.8 $\mu$ s GI   | 1.6 $\mu$ s GI | 3.2 $\mu$ s GI |
| 0             | BPSK       | 1/2   | 1             | 234        | 234          | 117          | 8.6              | 8.1            | 7.3            |
| 1             | QPSK       | 1/2   | 2             |            | 468          | 234          | 17.2             | 16.3           | 14.6           |
| 2             |            | 3/4   |               |            | 351          | 25.8         | 24.4             | 21.9           |                |
| 3             | 16-QAM     | 1/2   | 4             |            | 468          | 34.4         | 32.5             | 29.3           |                |
| 4             |            | 3/4   |               |            | 936          | 51.6         | 48.8             | 43.9           |                |
| 5             | 64-QAM     | 2/3   | 6             |            | 936          | 68.8         | 65.0             | 58.5           |                |
| 6             |            | 3/4   |               |            | 1 404        | 1 053        | 77.4             | 73.1           | 65.8           |
| 7             |            | 5/6   |               |            | 1 170        | 86.0         | 81.3             | 73.1           |                |
| 8             | 256-QAM    | 3/4   | 8             |            | 1 872        | 1 404        | 103.2            | 97.5           | 87.8           |
| 9             |            | 5/6   |               |            | 1 560        | 114.7        | 108.3            | 97.5           |                |
| 10            | 1024-QAM   | 3/4   | 10            | 2 340      | 1 755        | 129.0        | 121.9            | 109.7          |                |
| 11            |            | 5/6   |               | 1 950      | 143.4        | 135.4        | 121.9            |                |                |
| 12            | 4096-QAM   | 3/4   | 12            | 2 808      | 2 106        | 154.9        | 146.3            | 131.6          |                |
| 13            |            | 5/6   |               | 2 340      | 172.1        | 162.5        | 146.3            |                |                |
| 15            | BPSK-DCM   | 1/2   | 1             | 117        | 117          | 58           | 4.3              | 4.0            | 3.6            |

#### 36.5.7 EHT-MCSs for 484-tone RU

The rate-dependent parameters for the 484-tone RU are provided in Table 36-77.

Table 36-77—EHT-MCSs for 484-tone RU,  $N_{SS,U} = 1$

| EHT-MCS index | Modulation | $R_u$ | $N_{BPSCS,u}$ | $N_{SD,u}$ | $N_{CBPS,u}$ | $N_{DBPS,u}$ | Data rate (Mb/s) |                |                |
|---------------|------------|-------|---------------|------------|--------------|--------------|------------------|----------------|----------------|
|               |            |       |               |            |              |              | 0.8 $\mu$ s GI   | 1.6 $\mu$ s GI | 3.2 $\mu$ s GI |
| 0             | BPSK       | 1/2   | 1             | 468        | 468          | 234          | 17.2             | 16.3           | 14.6           |
| 1             | QPSK       | 1/2   | 2             |            | 936          | 468          | 34.4             | 32.5           | 29.3           |
| 2             |            | 3/4   |               |            | 702          | 51.6         | 48.8             | 43.9           |                |
| 3             | 16-QAM     | 1/2   | 4             |            | 936          | 51.6         | 48.8             | 43.9           |                |
| 4             |            | 3/4   |               |            | 1 872        | 68.8         | 65.0             | 58.5           |                |
| 5             |            | 2/3   |               |            | 1 404        | 103.2        | 97.5             | 87.8           |                |
| 6             | 64-QAM     | 3/4   | 6             |            | 2 808        | 1 376        | 130.0            | 117.0          |                |
| 7             |            | 5/6   |               |            | 2 106        | 154.9        | 146.3            | 131.6          |                |
| 8             |            | 3/4   |               |            | 2 340        | 172.1        | 162.5            | 146.3          |                |
| 9             | 256-QAM    | 3/4   | 8             |            | 3 744        | 2 808        | 206.5            | 195.0          | 175.5          |
| 10            |            | 5/6   |               |            | 3 120        | 229.4        | 216.7            | 195.0          |                |
| 11            | 1024-QAM   | 3/4   | 10            |            | 4 680        | 3 510        | 258.1            | 243.8          | 219.4          |
| 12            |            | 5/6   |               |            | 3 900        | 286.8        | 270.8            | 243.8          |                |
| 13            | 4096-QAM   | 3/4   | 12            |            | 5 616        | 4 212        | 309.7            | 292.5          | 263.3          |
| 15            |            | 5/6   |               |            | 4 680        | 344.1        | 325.0            | 292.5          |                |
| 15            | BPSK-DCM   | 1/2   | 1             | 234        | 234          | 117          | 8.6              | 8.1            | 7.3            |

#### 36.5.8 EHT-MCSs for 484+242-tone MRU

The rate-dependent parameters for the 484+242-tone MRU are provided in Table 36-78.

Table 36-78—EHT-MCSs for 484+242-tone MRU,  $N_{SS,u} = 1$

| EHT-MCS index | Modulation | $R_u$ | $N_{BPSCS,u}$ | $N_{SD,u}$ | $N_{CBPS,u}$ | $N_{DBPS,u}$ | Data rate (Mb/s) |                |                |
|---------------|------------|-------|---------------|------------|--------------|--------------|------------------|----------------|----------------|
|               |            |       |               |            |              |              | 0.8 $\mu$ s GI   | 1.6 $\mu$ s GI | 3.2 $\mu$ s GI |
| 0             | BPSK       | 1/2   | 1             | 702        | 702          | 351          | 25.8             | 24.4           | 21.9           |
| 1             | QPSK       | 1/2   | 2             |            | 1 404        | 702          | 51.6             | 48.8           | 43.9           |
| 2             |            | 3/4   |               |            | 1 053        | 77.4         | 73.1             | 65.8           |                |
| 3             | 16-QAM     | 1/2   | 4             |            | 2 808        | 1 404        | 103.2            | 97.5           | 87.8           |
| 4             |            | 3/4   |               |            | 2 106        | 154.9        | 146.3            | 131.6          |                |
| 5             | 64-QAM     | 2/3   | 6             |            | 4 212        | 2 808        | 206.5            | 195.0          | 175.5          |
| 6             |            | 3/4   |               |            | 3 159        | 232.3        | 219.4            | 197.4          |                |
| 7             |            | 5/6   |               |            | 3 510        | 258.1        | 243.8            | 219.4          |                |
| 8             | 256-QAM    | 3/4   | 8             |            | 5 616        | 4 212        | 309.7            | 292.5          | 263.3          |
| 9             |            | 5/6   |               |            | 4 680        | 344.1        | 325.0            | 292.5          |                |
| 10            | 1024-QAM   | 3/4   | 10            |            | 7 020        | 5 265        | 387.1            | 365.6          | 329.1          |
| 11            |            | 5/6   |               |            | 5 850        | 430.1        | 406.3            | 365.6          |                |
| 12            | 4096-QAM   | 3/4   | 12            |            | 8 424        | 6 318        | 464.6            | 438.8          | 394.9          |
| 13            |            | 5/6   |               |            | 7 020        | 516.2        | 487.5            | 438.8          |                |
| 15            | BPSK-DCM   | 1/2   | 1             |            | 351          | 351          | 175              | 12.9           | 12.2           |

#### 36.5.9 EHT-MCSs for 996-tone RU

The rate-dependent parameters for the 996-tone RU are provided in Table 36-79.

Table 36-79—EHT-MCSs for 996-tone RU,  $N_{SS,U} = 1$

| EHT-MCS index | Modulation | $R_u$ | $N_{BPSCS,u}$ | $N_{SD,u}$ | $N_{CBPS,u}$ | $N_{DBPS,u}$ | Data rate (Mb/s) |                |                |       |       |       |       |
|---------------|------------|-------|---------------|------------|--------------|--------------|------------------|----------------|----------------|-------|-------|-------|-------|
|               |            |       |               |            |              |              | 0.8 $\mu$ s GI   | 1.6 $\mu$ s GI | 3.2 $\mu$ s GI |       |       |       |       |
| 0             | BPSK       | 1/2   | 1             | 980        | 980          | 490          | 36.0             | 34.0           | 30.6           |       |       |       |       |
| 1             | QPSK       | 1/2   | 2             |            | 980          | 1 960        | 980              | 72.1           | 68.1           | 61.3  |       |       |       |
| 2             |            | 3/4   |               |            |              | 1 470        | 108.1            | 102.1          | 91.9           |       |       |       |       |
| 3             | 16-QAM     | 1/2   | 4             |            |              | 980          | 3 920            | 1 960          | 144.1          | 136.1 | 122.5 |       |       |
| 4             |            | 3/4   |               |            |              |              | 2 940            | 216.2          | 204.2          | 183.8 |       |       |       |
| 5             | 64-QAM     | 2/3   | 6             |            |              |              | 980              | 5 880          | 3 920          | 288.2 | 272.2 | 245.0 |       |
| 6             |            | 3/4   |               |            |              |              |                  | 4 410          | 324.3          | 306.3 | 275.6 |       |       |
| 7             |            | 5/6   |               |            |              |              |                  | 4 900          | 360.3          | 340.3 | 306.3 |       |       |
| 8             | 256-QAM    | 3/4   | 8             |            |              |              |                  | 980            | 7 840          | 5 880 | 432.4 | 408.3 | 367.5 |
| 9             |            | 5/6   |               |            |              |              |                  |                | 6 533          | 480.4 | 453.7 | 408.3 |       |
| 10            | 1024-QAM   | 3/4   | 10            | 980        |              |              |                  |                | 9 800          | 7 350 | 540.4 | 510.4 | 459.4 |
| 11            |            | 5/6   |               |            | 8 166        |              |                  |                | 600.4          | 567.1 | 510.4 |       |       |
| 12            | 4096-QAM   | 3/4   | 12            |            | 980          |              |                  |                | 11 760         | 8 820 | 648.5 | 612.5 | 551.3 |
| 13            |            | 5/6   |               |            |              | 9 800        |                  |                | 720.6          | 680.6 | 612.5 |       |       |
| 15            | BPSK-DCM   | 1/2   | 1             |            |              | 490          |                  |                | 490            | 245   | 18.0  | 17.0  | 15.3  |

### 36.5.10 EHT-MCSs for 996+484-tone MRU

The rate-dependent parameters for the 996+484-tone MRU are provided in Table 36-80.

Table 36-80—EHT-MCSs for 996+484-tone MRU,  $N_{SS,u} = 1$

| EHT-MCS index | Modulation | $R_u$ | $N_{BPSCS,u}$ | $N_{SD,u}$ | $N_{CBPS,u}$ | $N_{DBPS,u}$ | Data rate (Mb/s) |                |                |
|---------------|------------|-------|---------------|------------|--------------|--------------|------------------|----------------|----------------|
|               |            |       |               |            |              |              | 0.8 $\mu$ s GI   | 1.6 $\mu$ s GI | 3.2 $\mu$ s GI |
| 0             | BPSK       | 1/2   | 1             | 1 448      | 1 448        | 724          | 53.2             | 50.3           | 45.3           |
| 1             | QPSK       | 1/2   | 2             |            | 2 896        | 1 448        | 106.5            | 100.6          | 90.5           |
| 2             |            | 3/4   |               |            | 2 172        | 159.7        | 150.8            | 135.8          |                |
| 3             | 16-QAM     | 1/2   | 4             |            | 5 792        | 2 896        | 212.9            | 201.1          | 181.0          |
| 4             |            | 3/4   |               |            | 4 344        | 319.4        | 301.7            | 271.5          |                |
| 5             | 64-QAM     | 2/3   | 6             |            | 8 688        | 5 792        | 425.9            | 402.2          | 362.0          |
| 6             |            | 3/4   |               |            | 6 516        | 479.1        | 452.5            | 407.3          |                |
| 7             |            | 5/6   |               |            | 7 240        | 532.4        | 502.8            | 452.5          |                |
| 8             | 256-QAM    | 3/4   | 8             |            | 11 584       | 8 688        | 638.8            | 603.3          | 543.0          |
| 9             |            | 5/6   |               |            | 9 653        | 709.8        | 670.3            | 603.3          |                |
| 10            | 1024-QAM   | 3/4   | 10            |            | 14 480       | 10 860       | 798.5            | 754.2          | 678.8          |
| 11            |            | 5/6   |               |            | 12 066       | 887.2        | 837.9            | 754.1          |                |
| 12            | 4096-QAM   | 3/4   | 12            |            | 17 376       | 13 032       | 958.2            | 905.0          | 814.5          |
| 13            |            | 5/6   |               |            | 14 480       | 1 064.7      | 1 005.6          | 905.0          |                |
| 15            | BPSK-DCM   | 1/2   | 1             |            | 724          | 724          | 362              | 26.2           | 25.1           |

#### 36.5.11 EHT-MCSs for 996+484+242-tone MRU

The rate-dependent parameters for the 996+484+242-tone MRU are provided in Table 36-81.

Table 36-81—EHT-MCSs for 996+484+242-tone MRU,  $N_{SS,u} = 1$

| EHT-MCS index | Modulation | $R_u$ | $N_{BPSCS,u}$ | $N_{SD,u}$ | $N_{CBPS,u}$ | $N_{DBPS,u}$ | Data rate (Mb/s) |                |                |         |         |       |
|---------------|------------|-------|---------------|------------|--------------|--------------|------------------|----------------|----------------|---------|---------|-------|
|               |            |       |               |            |              |              | 0.8 $\mu$ s GI   | 1.6 $\mu$ s GI | 3.2 $\mu$ s GI |         |         |       |
| 0             | BPSK       | 1/2   | 1             | 1 682      | 1 682        | 841          | 61.8             | 58.4           | 52.6           |         |         |       |
| 1             | QPSK       | 1/2   | 2             |            | 3 364        | 1 682        | 123.7            | 116.8          | 105.1          |         |         |       |
| 2             |            | 3/4   |               |            |              | 2 523        | 185.5            | 175.2          | 157.7          |         |         |       |
| 3             | 16-QAM     | 1/2   | 4             |            |              | 6 728        | 3 364            | 247.4          | 233.6          | 210.3   |         |       |
| 4             |            | 3/4   |               |            |              |              | 5 046            | 371.0          | 350.4          | 315.4   |         |       |
| 5             | 64-QAM     | 2/3   | 6             |            |              |              | 10 092           | 6 728          | 494.7          | 467.2   | 420.5   |       |
| 6             |            | 3/4   |               |            |              |              |                  | 7 569          | 556.5          | 525.6   | 473.1   |       |
| 7             |            | 5/6   |               |            |              |              |                  | 8 410          | 618.4          | 584.0   | 525.6   |       |
| 8             | 256-QAM    | 3/4   | 8             |            |              |              |                  | 13 456         | 10 092         | 742.1   | 700.8   | 630.8 |
| 9             |            | 5/6   |               |            |              |              |                  |                | 11 213         | 824.5   | 778.7   | 700.8 |
| 10            | 1024-QAM   | 3/4   | 10            | 16 820     |              |              |                  |                | 12 615         | 927.6   | 876.0   | 788.4 |
| 11            |            | 5/6   |               |            | 14 016       |              |                  |                | 1 030.6        | 973.3   | 876.0   |       |
| 12            | 4096-QAM   | 3/4   | 12            |            | 20 184       |              |                  |                | 15 138         | 1 113.1 | 1 051.3 | 946.1 |
| 13            |            | 5/6   |               |            |              | 16 820       |                  |                | 1 236.8        | 1 168.1 | 1 051.3 |       |
| 15            | BPSK-DCM   | 1/2   | 1             |            |              | 841          |                  |                | 841            | 420     | 30.9    | 29.2  |

#### 36.5.12 EHT-MCSs for 2×996-tone RU

The rate-dependent parameters for the 2×996-tone RU are provided in Table 36-82.

Table 36-82—EHT-MCSs for 2×996-tone RU,  $N_{SS,u} = 1$

| EHT-MCS index | Modulation | $R_u$ | $N_{BPSCS,u}$ | $N_{SD,u}$ | $N_{CBPS,u}$ | $N_{DBPS,u}$ | Data rate (Mb/s) |                |                |       |
|---------------|------------|-------|---------------|------------|--------------|--------------|------------------|----------------|----------------|-------|
|               |            |       |               |            |              |              | 0.8 $\mu$ s GI   | 1.6 $\mu$ s GI | 3.2 $\mu$ s GI |       |
| 0             | BPSK       | 1/2   | 1             | 1 960      | 1 960        | 980          | 72.1             | 68.1           | 61.3           |       |
| 1             | QPSK       | 1/2   | 2             |            | 3 920        | 1 960        | 1 960            | 144.1          | 136.1          | 122.5 |
| 2             |            | 3/4   |               |            |              |              |                  |                |                |       |
| 3             | 16-QAM     | 1/2   | 4             |            | 7 840        | 3 920        | 3 920            | 216.2          | 204.2          | 183.5 |
| 4             |            | 3/4   |               |            |              |              |                  |                |                |       |
| 5             | 64-QAM     | 2/3   | 6             |            | 11 760       | 7 840        | 7 840            | 432.4          | 408.3          | 367.5 |
| 6             |            | 3/4   |               |            |              |              |                  |                |                |       |
| 7             |            | 5/6   |               |            |              |              |                  |                |                |       |
| 8             | 256-QAM    | 3/4   | 8             |            | 15 680       | 11 760       | 11 760           | 648.5          | 612.5          | 551.3 |
| 9             |            | 5/6   |               |            |              |              |                  |                |                |       |
| 10            | 1024-QAM   | 3/4   | 10            |            | 19 600       | 14 700       | 14 700           | 720.6          | 680.6          | 612.5 |
| 11            |            | 5/6   |               |            |              |              |                  |                |                |       |
| 12            | 4096-QAM   | 3/4   | 12            |            | 23 520       | 16 333       | 16 333           | 864.7          | 816.7          | 735.0 |
| 13            |            | 5/6   |               |            |              |              |                  |                |                |       |
| 15            | BPSK-DCM   | 1/2   | 1             |            | 980          | 980          | 490              | 36.0           | 34.0           | 30.6  |

#### 36.5.13 EHT-MCSs for 2×996+484-tone MRU

The rate-dependent parameters for the 2×996+484-tone MRU are provided in Table 36-83.

Table 36-83—EHT-MCSs for 2×996+484-tone MRU,  $N_{SS,U} = 1$

| EHT-MCS index | Modulation | $R_u$ | $N_{BPSCS,u}$ | $N_{SD,u}$ | $N_{CBPS,u}$ | $N_{DBPS,u}$ | Data rate (Mb/s) |                |                |
|---------------|------------|-------|---------------|------------|--------------|--------------|------------------|----------------|----------------|
|               |            |       |               |            |              |              | 0.8 $\mu$ s GI   | 1.6 $\mu$ s GI | 3.2 $\mu$ s GI |
| 0             | BPSK       | 1/2   | 1             | 2 428      | 2 428        | 1 214        | 89.3             | 84.3           | 75.9           |
| 1             | QPSK       | 1/2   | 2             |            | 4 856        | 2 428        | 178.5            | 168.6          | 151.8          |
| 2             |            | 3/4   |               |            | 3 642        | 267.8        | 252.9            | 227.6          |                |
| 3             | 16-QAM     | 1/2   | 4             |            | 9 712        | 4 856        | 357.1            | 337.2          | 303.5          |
| 4             |            | 3/4   |               |            | 7 284        | 535.6        | 505.8            | 455.3          |                |
| 5             | 64-QAM     | 2/3   | 6             |            | 14 568       | 9 712        | 714.1            | 674.4          | 607.0          |
| 6             |            | 3/4   |               |            | 10 926       | 803.4        | 758.8            | 682.9          |                |
| 7             |            | 5/6   |               |            | 12 140       | 892.6        | 843.1            | 758.8          |                |
| 8             | 256-QAM    | 3/4   | 8             |            | 19 424       | 14 568       | 1 071.2          | 1 011.7        | 910.5          |
| 9             |            | 5/6   |               |            | 16 186       | 1 190.1      | 1 124.0          | 1 011.6        |                |
| 10            | 1024-QAM   | 3/4   | 10            |            | 24 280       | 18 210       | 1 339.0          | 1 264.6        | 1 138.1        |
| 11            |            | 5/6   |               |            | 20 233       | 1 487.7      | 1 405.1          | 1 264.6        |                |
| 12            | 4096-QAM   | 3/4   | 12            |            | 29 136       | 21 852       | 1 606.8          | 1 517.5        | 1 365.8        |
| 13            |            | 5/6   |               | 24 280     | 1 785.3      | 1 686.1      | 1 517.5          |                |                |
| 15            | BPSK-DCM   |       |               |            | Not valid    |              |                  |                |                |

#### 36.5.14 EHT-MCSs for 3×996-tone MRU

The rate-dependent parameters for the 3×996-tone MRU are provided in Table 36-84.

Table 36-84—EHT-MCSs for 3×996-tone MRU,  $N_{SS,u} = 1$

| EHT-MCS index | Modulation | $R_u$ | $N_{BPSCS,u}$ | $N_{SD,u}$ | $N_{CBPS,u}$ | $N_{DBPS,u}$ | Data rate (Mb/s) |                |                |         |
|---------------|------------|-------|---------------|------------|--------------|--------------|------------------|----------------|----------------|---------|
|               |            |       |               |            |              |              | 0.8 $\mu$ s GI   | 1.6 $\mu$ s GI | 3.2 $\mu$ s GI |         |
| 0             | BPSK       | 1/2   | 1             | 2 940      | 2 940        | 1 470        | 108.1            | 102.1          | 91.9           |         |
| 1             | QPSK       | 1/2   | 2             |            | 5 880        | 2 940        | 2 940            | 216.2          | 204.2          | 183.8   |
| 2             |            | 3/4   |               |            |              |              |                  |                |                |         |
| 3             | 16-QAM     | 1/2   | 4             |            | 11 760       | 5 880        | 5 880            | 432.4          | 408.3          | 367.5   |
| 4             |            | 3/4   |               |            |              |              |                  |                |                |         |
| 5             | 64-QAM     | 2/3   | 6             |            | 17 640       | 11 760       | 11 760           | 864.7          | 816.7          | 735.0   |
| 6             |            | 3/4   |               |            |              |              |                  |                |                |         |
| 7             |            | 5/6   |               |            |              |              |                  |                |                |         |
| 8             | 256-QAM    | 3/4   | 8             |            | 23 520       | 17 640       | 17 640           | 1 297.1        | 1 225.0        | 1 102.5 |
| 9             |            | 5/6   |               |            |              |              |                  |                |                |         |
| 10            | 1024-QAM   | 3/4   | 10            |            | 29 400       | 22 050       | 22 050           | 1 621.3        | 1 531.3        | 1 378.1 |
| 11            |            | 5/6   |               |            |              |              |                  |                |                |         |
| 12            | 4096-QAM   | 3/4   | 12            |            | 35 280       | 26 460       | 26 460           | 1 945.6        | 1 837.5        | 1 653.8 |
| 13            |            | 5/6   |               |            |              |              |                  |                |                |         |
| 15            | BPSK-DCM   | 1/2   | 1             |            | 1 470        | 1 470        | 735              | 54.0           | 51.0           | 45.9    |

#### 36.5.15 EHT-MCSs for 3×996+484-tone MRU

The rate-dependent parameters for the 3×996+484-tone MRU are provided in Table 36-85.

Table 36-85—EHT-MCSs for 3×996+484-tone MRU,  $N_{SS,U} = 1$

| EHT-MCS index | Modulation | $R_u$ | $N_{BPSCS,u}$ | $N_{SD,u}$ | $N_{CBPS,u}$ | $N_{DBPS,u}$ | Data rate (Mb/s) |                |                |
|---------------|------------|-------|---------------|------------|--------------|--------------|------------------|----------------|----------------|
|               |            |       |               |            |              |              | 0.8 $\mu$ s GI   | 1.6 $\mu$ s GI | 3.2 $\mu$ s GI |
| 0             | BPSK       | 1/2   | 1             | 3 408      | 3 408        | 1 704        | 125.3            | 118.3          | 106.5          |
| 1             | QPSK       | 1/2   | 2             |            | 6 816        | 3 408        | 250.6            | 236.7          | 213.0          |
| 2             |            | 3/4   |               |            | 5 112        | 375.9        | 355.0            | 319.5          |                |
| 3             | 16-QAM     | 1/2   | 4             |            | 13 632       | 6 816        | 501.2            | 473.3          | 426.0          |
| 4             |            | 3/4   |               |            | 10 224       | 751.8        | 710.0            | 639.0          |                |
| 5             | 64-QAM     | 2/3   | 6             |            | 20 448       | 13 632       | 1 002.4          | 946.7          | 852.0          |
| 6             |            | 3/4   |               |            | 15 336       | 1 127.6      | 1 065.0          | 958.5          |                |
| 7             |            | 5/6   |               |            | 17 040       | 1 252.9      | 1 183.3          | 1 065.0        |                |
| 8             | 256-QAM    | 3/4   | 8             |            | 27 264       | 20 448       | 1 503.5          | 1 420.0        | 1 278.0        |
| 9             |            | 5/6   |               |            | 22 720       | 1 670.6      | 1 577.8          | 1 420.0        |                |
| 10            | 1024-QAM   | 3/4   | 10            |            | 34 080       | 25 560       | 1 879.4          | 1 775.0        | 1 597.5        |
| 11            |            | 5/6   |               |            | 28 400       | 2 088.2      | 1 972.2          | 1 775.0        |                |
| 12            | 4096-QAM   | 3/4   | 12            |            | 40 896       | 30 672       | 2 255.3          | 2 130.0        | 1 917.0        |
| 13            |            | 5/6   |               | 34 080     | 2 505.9      | 2 366.7      | 2 130.0          |                |                |
| 15            | BPSK-DCM   | 1/2   |               |            |              |              | Not valid        |                |                |

### 36.5.16 EHT-MCSs for 4×996-tone RU

The rate-dependent parameters for the 4×996-tone RU are provided in Table 36-86.

Table 36-86—EHT-MCSs for 4×996-tone RU,  $N_{SS,U} = 1$

| EHT-MCS index | Modulation | $R_d$ | $N_{BPSCS,u}$ | $N_{SD,u}$ | $N_{CBPS,u}$ | $N_{DBPS,u}$ | Data rate (Mb/s) |                |                |
|---------------|------------|-------|---------------|------------|--------------|--------------|------------------|----------------|----------------|
|               |            |       |               |            |              |              | 0.8 $\mu$ s GI   | 1.6 $\mu$ s GI | 3.2 $\mu$ s GI |
| 0             | BPSK       | 1/2   | 1             | 3 920      | 3 920        | 1 960        | 144.1            | 136.1          | 122.5          |
| 1             | QPSK       | 1/2   | 2             |            | 7 840        | 3 920        | 288.2            | 272.2          | 245.0          |
| 2             |            | 3/4   |               |            | 5 880        | 432.4        | 408.3            | 367.5          |                |
| 3             | 16-QAM     | 1/2   | 4             |            | 15 680       | 7 840        | 576.5            | 544.4          | 490.0          |
| 4             |            | 3/4   |               |            | 11 760       | 864.7        | 816.7            | 735.0          |                |
| 5             |            | 2/3   |               |            | 15 680       | 1 152.9      | 1 088.9          | 980.0          |                |
| 6             | 64-QAM     | 3/4   | 6             |            | 23 520       | 17 640       | 1 297.1          | 1 225.0        | 1 102.5        |
| 7             |            | 5/6   |               |            | 19 600       | 1 441.2      | 1 361.1          | 1 225.0        |                |
| 8             | 256-QAM    | 3/4   | 8             |            | 31 360       | 23 520       | 1 729.4          | 1 633.3        | 1 470.0        |
| 9             |            | 5/6   |               |            | 26 133       | 1 921.5      | 1 814.8          | 1 633.3        |                |
| 10            | 1024-QAM   | 3/4   | 10            | 39 200     | 29 400       | 2 161.8      | 2 041.7          | 1 837.5        |                |
| 11            |            | 5/6   |               | 32 666     | 2 401.9      | 2 268.5      | 2 041.6          |                |                |
| 12            | 4096-QAM   | 3/4   | 12            | 47 040     | 35 280       | 2 594.1      | 2 450.0          | 2 205.0        |                |
| 13            |            | 5/6   |               | 39 200     | 2 882.4      | 2 722.2      | 2 450.0          |                |                |
| 15            | BPSK-DCM   | 1/2   | 1             | 1 960      | 1 960        | 980          | 72.1             | 68.1           | 61.3           |

### 36.5.17 EHT-MCS 14 for EHT DUP mode

The rate-dependent parameters for EHT-MCS 14 are provided in Table 36-87.

Table 36-87—EHT-MCS 14 for EHT DUP mode,  $N_{SS,U} = 1$

| Modulation | Bandwidth | $R$ | $N_{BPSCS}$ | $N_{SD}$ | $N_{CBPS}$ | $N_{DBPS}$ | Data rate (Mb/s) |                |                |
|------------|-----------|-----|-------------|----------|------------|------------|------------------|----------------|----------------|
|            |           |     |             |          |            |            | 0.8 $\mu$ s GI   | 1.6 $\mu$ s GI | 3.2 $\mu$ s GI |
| BPSK-DCM   | 80 MHz    | 1/2 | 1           | 234      | 234        | 117        | 8.6              | 8.1            | 7.3            |
| BPSK-DCM   | 160 MHz   | 1/2 | 1           | 490      | 490        | 245        | 18.0             | 17.0           | 15.3           |
| BPSK-DCM   | 320 MHz   | 1/2 | 1           | 980      | 980        | 490        | 36.0             | 34.0           | 30.6           |

### 36.6 Parameters for EHT-SIG MCSs

The EHT-SIG MCSs, defined in Table 36-88, are used for the EHT-SIG field transmission in the EHT MU PPDU.

Table 36-88—EHT-SIG MCSs

| Value of the EHT-SIG MCS field                                                                                                    | EHT-MCS index | Modulation | R   | $N_{BPSCS}$ | $N_{SD}$ | $N_{CBPS}$ | $N_{DBPS}$ | EHT-SIG rate (Mb/s) |
|-----------------------------------------------------------------------------------------------------------------------------------|---------------|------------|-----|-------------|----------|------------|------------|---------------------|
| 0                                                                                                                                 | EHT-MCS 0     | BPSK       | 1/2 | 1           | 52       | 52         | 26         | 6.5                 |
| 1                                                                                                                                 | EHT-MCS 1     | QPSK       | 1/2 | 2           | 52       | 104        | 52         | 13                  |
| 2                                                                                                                                 | EHT-MCS 3     | 16-QAM     | 1/2 | 4           | 52       | 208        | 104        | 26.0                |
| 3                                                                                                                                 | EHT-MCS 15    | BPSK-DCM   | 1/2 | 1           | 26       | 26         | 13         | 3.3                 |
| NOTE—The parameters $N_{SD}$ , $N_{CBPS}$ , and $N_{DBPS}$ are used for the EHT-SIG field transmission in each 20 MHz subchannel. |               |            |     |             |          |            |            |                     |

## Annex B

(normative)

### Protocol Implementation Conformance Statement (PICS) proforma

#### B.2 Abbreviations and special symbols

##### B.2.2 General abbreviations for Item and Support columns

*Insert the following abbreviations (maintaining alphabetical order):*

| EHTM | Extremely high throughput MAC        |
|------|--------------------------------------|
| EHTP | Extremely high throughput PHY        |
| MLD  | Multi-link device                    |
| NSTR | Nonsimultaneous transmit and receive |

#### B.4 PICS proforma—IEEE Std 802.11-2024

##### B.4.3 IUT configuration

*Change two existing rows and insert the following rows at the end of the table:*

| Item      | IUT configuration                 | References | Status                                                          | Support                                                  |
|-----------|-----------------------------------|------------|-----------------------------------------------------------------|----------------------------------------------------------|
| CFDID     | Device ID                         | 12.2.13.1  | PC34 AND CFAP:O<br>PC34 AND CFSTAofAP:O<br>PC34 AND CFEHT-MLD:O | Yes <input type="checkbox"/> No <input type="checkbox"/> |
| CFIRM     | IRM                               | 12.2.13.2  | PC34 AND CFAP:O<br>PC34 AND CFSTAofAP:O<br>PC34 AND CFEHT-MLD:O | Yes <input type="checkbox"/> No <input type="checkbox"/> |
| *CFEHT    | EHT operation                     | Clause 36  | O                                                               | Yes <input type="checkbox"/> No <input type="checkbox"/> |
| *CFEHT2G4 | EHT operation in the 2.4 GHz band | Clause 36  | CFEHT: O.10                                                     | Yes <input type="checkbox"/> No <input type="checkbox"/> |

| Item                 | IUT configuration                                              | References | Status                                                                                       | Support                                                  |
|----------------------|----------------------------------------------------------------|------------|----------------------------------------------------------------------------------------------|----------------------------------------------------------|
| *CFFHTSG             | EHT operation in the 5 GHz band                                | Clause 36  | CFFHT: O.10                                                                                  | Yes <input type="checkbox"/> No <input type="checkbox"/> |
| *CFFHT6G             | EHT operation in the 6 GHz band                                | Clause 36  | CFFHT: O.10                                                                                  | Yes <input type="checkbox"/> No <input type="checkbox"/> |
| *CFFHT20             | EHT operation as a 20 MHz-only non-AP EHT STA                  | Clause 36  | CFlndepSTA AND CFFHT: O.11                                                                   | Yes <input type="checkbox"/> No <input type="checkbox"/> |
| *CFFHT80             | EHT operation with capability of 80 MHz or wider channel width | Clause 36  | CFAP AND CFFHT AND CFFHTSG: M<br>CFAP AND CFFHT AND CFFHT6G: M<br>CFlndepSTA AND CFFHT: O.11 | Yes <input type="checkbox"/> No <input type="checkbox"/> |
| *CFFHT-MLD           | EHT MLD operation                                              | Clause 35  | CFFHT AND CFAP: M<br>CFFHT AND CFSTAofAP: O                                                  | Yes <input type="checkbox"/> No <input type="checkbox"/> |
| *CFFHTML-LDAP        | EHT AP MLD operation                                           | Clause 35  | CFFHTMLD: O.12                                                                               | Yes <input type="checkbox"/> No <input type="checkbox"/> |
| *CFFHTML-LDnonAP     | EHT non-AP MLD operation                                       | Clause 35  | CFFHTMLD: O.12                                                                               | Yes <input type="checkbox"/> No <input type="checkbox"/> |
| *CFFHTN-STRMo-bileAP | NSTR mobile AP MLD operation                                   | Clause 35  | CFFHTMLD: O.12                                                                               | Yes <input type="checkbox"/> No <input type="checkbox"/> |

#### B.4.4 MAC protocol

##### B.4.4.2 MAC frames

*Insert the following rows at the end of the table (maintaining item order):*

| Item   | MAC frame                                              | References | Status                  | Support                                                                               |
|--------|--------------------------------------------------------|------------|-------------------------|---------------------------------------------------------------------------------------|
| ...    | Is transmission of the following MAC frames supported? | ...        | ...                     | ...                                                                                   |
| FT75   | EHT Action frame                                       | 9.6.37     | CFFHT: O                | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| FT75.1 | EHT Compressed Beamforming/CQI frame                   | 9.6.37.2   | CFAP: O<br>CFSTAofAP: M | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| FT76   | Protected EHT Action frame                             | 9.6.38     | CFFHT: O                | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| FT76.1 | TID-To-Link Mapping Request frame                      | 9.6.38.2   | EHTM0.4.1: M            | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| FT76.2 | TID-To-Link Mapping Response frame                     | 9.6.38.3   | EHTM0.4.1: M            | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| FT76.3 | TID-To-Link Mapping Teardown frame                     | 9.6.38.4   | EHTM0.4.1: M            | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |

IEEE Std 802.11be-2024  
IEEE Standard for Information Technology—Local and Metropolitan Area Networks—Specific Requirements  
Part 11: Wireless LAN MAC and PHY Specifications  
Amendment 2: Enhancements for Extremely High Throughput (EHT)

| Item   | MAC frame                                           | References | Status                            | Support                                                                               |
|--------|-----------------------------------------------------|------------|-----------------------------------|---------------------------------------------------------------------------------------|
| FT6.4  | EPCS Priority Access Enable Request frame           | 9.6.38.5   | EHTM5: M                          | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| FT6.5  | EPCS Priority Access Enable Response frame          | 9.6.38.6   | EHTM5: M                          | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| FT6.6  | EPCS Priority Access Teardown frame                 | 9.6.38.7   | EHTM5: M                          | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| FT6.7  | EML Operating Mode Notification frame               | 9.6.38.8   | EHTM10.10 OR EHTM10.11: M         | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| FT6.8  | Link Recommendation frame                           | 9.6.38.9   | CFEHTM-LDAP AND EHTM10.7.4: O     | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| FT6.9  | Multi-Link Operation Update Request frame           | 9.6.38.10  | CFEHTMLD-nonAP AND EHTM10.4.2: M  | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| FT6.10 | Multi-Link Operation Update Response frame          | 9.6.38.11  | CFEHTM-LDAP AND EHTM10.4.2: M     | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| FT6.11 | Link Reconfiguration Notify frame                   | 9.6.38.12  | CFEHTM-LDAP AND EHTM10.14.4: M    | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| FT6.12 | Link Reconfiguration Request frame                  | 9.6.38.13  | CFEHTMLD-nonAP AND EHTM10.14.3: M | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| FT6.13 | Link Reconfiguration Response frame                 | 9.6.38.14  | CFEHTM-LDAP AND EHTM10.14.3: M    | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| FT77   | EHT NDP Announcement frame                          | 9.3.1.19.5 | EHTM8.1:M                         | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| ...    | Is reception of the following MAC frames supported? | Clause 9   |                                   |                                                                                       |
| ...    | ...                                                 | ...        | ...                               | ...                                                                                   |
| FR76   | EHT Action frame                                    | 9.6.37     | CFEHT: M                          | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| FR77   | Protected EHT Action frame                          | 9.6.38     | CFEHT: O                          | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| FR77.1 | TID-To-Link Mapping Request frame                   | 9.6.38.2   | EHTM10.4.1: M                     | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| FR77.2 | TID-To-Link Mapping Response frame                  | 9.6.38.3   | EHTM10.4.1: M                     | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| FR77.3 | TID-To-Link Mapping Teardown frame                  | 9.6.38.4   | EHTM10.4.1: M                     | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| FR77.4 | EPCS Priority Access Enable Request frame           | 9.6.38.5   | EHTM5: M                          | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| FR77.5 | EPCS Priority Access Enable Response frame          | 9.6.38.6   | EHTM5: M                          | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| FR77.6 | EPCS Priority Access Teardown frame                 | 9.6.38.7   | EHTM5: M                          | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |

| Item    | MAC frame                                  | References | Status                            | Support                                                                               |
|---------|--------------------------------------------|------------|-----------------------------------|---------------------------------------------------------------------------------------|
| FR77.7  | EML Operating Mode Notification frame      | 9.6.38.8   | EHTM10.10 OR EHTM10.11: M         | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| FR77.8  | Link Recommendation frame                  | 9.6.38.9   | CFEHTMLD-nonAP AND EHTM10.7.4: M  | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| FR77.9  | Multi-Link Operation Update Request frame  | 9.6.38.10  | CFEHTMLD-LDAP AND EHTM10.4.2: M   | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| FR77.10 | Multi-Link Operation Update Response frame | 9.6.38.11  | CFEHTMLD-nonAP AND EHTM10.4.2: M  | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| FR77.11 | Link Reconfiguration Notify frame          | 9.6.38.12  | CFEHTMLD-nonAP AND EHTM10.14.4: M | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| FR77.12 | Link Reconfiguration Request frame         | 9.6.38.13  | CFEHTMLD-LDAP AND EHTM10.14.3: M  | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| FR77.13 | Link Reconfiguration Response frame        | 9.6.38.14  | CFEHTMLD-nonAP AND EHTM10.14.3: M | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| FR78    | EHT NDP Announcement frame                 | 9.3.1.19.5 | EHTM8.1:M                         | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |

*Insert the following new subclause at the end of Annex B.4:*

## B.4.40 Extremely High Throughput (EHT) features

### B.4.40.1 EHT PHY features

| Item    | Protocol capability                                                                                    | References | Status                                                           | Support                                                                               |
|---------|--------------------------------------------------------------------------------------------------------|------------|------------------------------------------------------------------|---------------------------------------------------------------------------------------|
|         | Are the following PHY protocol features supported?                                                     |            |                                                                  |                                                                                       |
| EHTP1   | PHY operating modes                                                                                    |            |                                                                  |                                                                                       |
| EHTP1.1 | Operation according to Clause 17 (Orthogonal frequency division multiplexing (OFDM) PHY specification) | Clause 17  | CFEHTG6: M<br>CFEHTS5G: M<br>CFEHTG4: M                          | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP1.2 | Operation according to Clause 19 (High Throughput (HT) PHY specification)                              | Clause 19  | CFEHTS5G AND CFEHT80: M<br>CFEHTS5G AND CFEHT20: M<br>CFEHTG4: M | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |

| Item     | Protocol capability                                                                                                                             | References | Status                                                               | Support                                                                               |
|----------|-------------------------------------------------------------------------------------------------------------------------------------------------|------------|----------------------------------------------------------------------|---------------------------------------------------------------------------------------|
| EHTP1.3  | Operation according to Clause 21 (Very High Throughput (VHT) PHY specification)                                                                 | Clause 21  | CFEHT5G AND CFEHT80: M CFEHT5G AND CFEHT20: M                        | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP1.4  | Operation according to Clause 27 (High Efficiency (HE) PHY specification)                                                                       | Clause 27  | CFEHT5G AND CFEHT80: M CFEHT5G AND CFEHT20: M CFEHT2G4: M CFEHT6G: M | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP2    | EHT PPDU formats                                                                                                                                |            |                                                                      |                                                                                       |
| EHTP2.1  | Transmission of an EHT SU transmission                                                                                                          | 36.1.1     | CFEHT: M                                                             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP2.2  | Reception of an EHT SU transmission                                                                                                             | 36.1.1     | CFEHT: M                                                             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP2.3  | Transmission of an EHT MU PPDU where none of the RU(s) or MRU(s) utilize MU-MIMO (DL OFDMA)                                                     | 36.1.1     | CFEHT and CFAP: M                                                    | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP2.4  | Reception of an EHT MU PPDU where the RU or MRU allocated to the non-AP STA is not utilizing MU-MIMO (DL OFDMA)                                 | 36.1.1     | CFEHT AND CFSTAofAP: M                                               | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP2.5  | Transmission of an EHT MU PPDU consisting of a single RU or MRU spanning the entire PPDU bandwidth and utilizing MU-MIMO (DL MU-MIMO)           | 36.3.3.1.2 | CFEHT and CFAP AND EHTP7.68: M                                       | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP2.6  | Reception of an EHT MU PPDU consisting of a single RU or MRU in the entire PPDU bandwidth and utilizing MU-MIMO (DL MU-MIMO)                    | 36.3.3.1.2 | CFEHT AND CFSTAofAP: M                                               | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP2.7  | MU-MIMO transmission on an RU or MRU in an EHT MU PPDU where there are multiple RU(s) or MRU(s) in the PPDU bandwidth (DL MU-MIMO within OFDMA) | 36.3.3.1   | CFEHT and CFAP: O                                                    | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP2.8 | MU-MIMO reception on an RU or MRU in an EHT MU PPDU where there are multiple RU(s) or MRU(s) in the PPDU bandwidth (DL MU-MIMO within OFDMA)    | 36.3.3.1.1 | CFEHT AND CFSTAofAP: O                                               | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP2.9  | Transmission of an EHT TB PPDU where the RU or MRU allocated to the non-AP STA is not utilizing MU-MIMO (UL OFDMA)                              | 36.1.1     | CFEHT AND CFSTAofAP: M                                               | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP2.10 | Reception of an EHT TB PPDU where none of the RU(s) or MRU(s) utilize MU-MIMO (UL OFDMA)                                                        | 36.1.1     | CFEHT and CFAP: M                                                    | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |

| Item     | Protocol capability                                                                                                                   | References                   | Status                                                                          | Support                                                                               |
|----------|---------------------------------------------------------------------------------------------------------------------------------------|------------------------------|---------------------------------------------------------------------------------|---------------------------------------------------------------------------------------|
| EHTP2.11 | Transmission of an EHT TB PPDU consisting of a single RU or MRU spanning the entire PPDU bandwidth and utilizing MU-MIMO (UL MU-MIMO) | 36.3.3.2.4                   | CFEHT and CFSTAofAP: M                                                          | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP2.12 | Reception of an EHT TB PPDU consisting of a single RU or MRU spanning the entire PPDU bandwidth and utilizing MU-MIMO (UL MU-MIMO)    | 36.3.3.2                     | CFEHT and CFAP AND NOT EHTP7.69; O CFEHT and CFAP AND EHTP7.69: M               | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP2.13 | Transmission of an EHT TB PPDU where the RU or MRU allocated to the non-AP STA is utilizing MU-MIMO (UL MU-MIMO within OFDMA)         | 36.3.3.2                     | CFEHT and CFSTAofAP: O                                                          | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP2.14 | Reception of an EHT TB PPDU where RU or MRU allocated to a non-AP STA are utilizing MU-MIMO (UL MU-MIMO within OFDMA)                 | 36.3.3.2                     | CFEHT and CFAP: O                                                               | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP3    | BSS bandwidth                                                                                                                         |                              |                                                                                 |                                                                                       |
| EHTP3.1  | 20 MHz operation                                                                                                                      | 36.1.1                       | CFEHT: M                                                                        | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP3.2 | 40 MHz operation                                                                                                                      | 36.1.1                       | CFEHT80 AND CFEHT5G: M CFEHT80 AND CFEHT6G: M CFEHT2G4: O EHTP3.3: M            | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP3.3 | 80 MHz operation                                                                                                                      | 36.1.1                       | CFEHT80 AND CFEHT5G: M CFEHT80 AND CFEHT6G: M EHTP3.4: M                        | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP3.4 | 160 MHz operation                                                                                                                     | 36.1.1                       | CFEHT80 AND CFEHT5G: O CFAP AND CFE-HT6G: M CFSTAofAP AND CFEHT6G: O EHTP3.5: M | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP3.5 | 320 MHz operation                                                                                                                     | 36.1.1                       | CFEHT80 AND CFEHT6G: O                                                          | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP3.6  | Ability to participate in 40 MHz DL OFDMA                                                                                             | 36.3.2.5                     | CFEHT20: M                                                                      | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP3.7  | Ability to participate in 80 MHz DL OFDMA                                                                                             | 36.3.2.5                     | CFEHT20: M                                                                      | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP3.8  | Ability to participate in 160 MHz DL OFDMA                                                                                            | 36.3.2.5, 36.3.2.7           | CFEHT20: M CFEHT80: M                                                           | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP3.9  | Ability to participate in 320 MHz DL OFDMA                                                                                            | 36.3.2.5, 36.3.2.7, 36.3.2.8 | CFEHT20: M CFEHT80: M EHTP3.4: M                                                | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |

| Item     | Protocol capability                                                                                                                         | References                         | Status                                 | Support                                                                               |
|----------|---------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------|----------------------------------------|---------------------------------------------------------------------------------------|
| EHTP3.10 | Ability to participate in 40 MHz UL OFDMA                                                                                                   | 36.3.2.5                           | CFEHT20: M                             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP3.11 | Ability to participate in 80 MHz UL OFDMA                                                                                                   | 36.3.2.5                           | CFEHT20: M                             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP3.12 | Ability to participate in 160 MHz UL OFDMA                                                                                                  | 36.3.2.5,<br>36.3.2.7              | CFEHT20: M<br>CFEHT80: M               | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP3.13 | Ability to participate in 320 MHz UL OFDMA                                                                                                  | 36.3.2.5,<br>36.3.2.7,<br>36.3.2.8 | CFEHT20: M<br>CFEHT80: M<br>EHTP3.4: M | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP4    | EHT LTF formats                                                                                                                             |                                    |                                        |                                                                                       |
| EHTP4.1  | Transmission and reception of an EHT SU transmission with a $2\times$ EHT-LTF and $0.8\ \mu\text{s}$ GI duration                            | 36.1.1                             | CFEHT: M                               | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP4.2  | Transmission and reception of an EHT SU transmission with a $2\times$ EHT-LTF and $1.6\ \mu\text{s}$ GI duration                            | 36.1.1                             | CFEHT: M                               | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP4.3  | Transmission and reception of an EHT SU transmission with a $4\times$ EHT-LTF and $3.2\ \mu\text{s}$ GI duration                            | 36.1.1                             | CFEHT: M                               | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP4.4  | Transmission and reception of an EHT SU transmission with a $4\times$ EHT-LTF and $0.8\ \mu\text{s}$ GI duration                            | 36.1.1                             | CFEHT: O                               | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP4.5  | Multiple user transmission of an EHT MU PPDU with a $2\times$ EHT-LTF and $0.8\ \mu\text{s}$ GI duration                                    | 36.1.1                             | CFEHT and CFAP: M                      | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP4.6  | Multiple user transmission of an EHT MU PPDU with a $2\times$ EHT-LTF and $1.6\ \mu\text{s}$ GI duration                                    | 36.1.1                             | CFEHT and CFAP: M                      | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP4.7  | Multiple user transmission of an EHT MU PPDU with a $4\times$ EHT-LTF and $3.2\ \mu\text{s}$ GI duration                                    | 36.1.1                             | CFEHT and CFAP: M                      | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP4.8  | Multiple user transmission of an EHT MU PPDU with a $4\times$ EHT-LTF and $0.8\ \mu\text{s}$ GI duration                                    | 36.1.1                             | CFEHT AND CFAP: O                      | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP4.9  | Reception of a non-OFDMA EHT TB PPDU with a $1\times$ EHT-LTF and $1.6\ \mu\text{s}$ GI duration on the EHT-LTF and Data field OFDM symbols | 36.1.1                             | CFEHT AND CFAP: M                      | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP4.10 | Reception of an EHT TB PPDU with a $2\times$ EHT-LTF and $1.6\ \mu\text{s}$ GI duration on the EHT-LTF and Data field OFDM symbols          | 36.1.1                             | CFEHT AND CFAP: M                      | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP4.11 | Reception of an EHT TB PPDU with a $4\times$ EHT-LTF and $3.2\ \mu\text{s}$ GI duration on the EHT-LTF and Data field OFDM symbols          | 36.1.1                             | CFEHT AND CFAP: M                      | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |

| Item      | Protocol capability                                                                                                                           | References  | Status                   | Support                                                                               |
|-----------|-----------------------------------------------------------------------------------------------------------------------------------------------|-------------|--------------------------|---------------------------------------------------------------------------------------|
| EHTP4.12  | Reception of an EHT MU PPDU to multiple users with a $2\times$ EHT-LTF and 0.8 $\mu$ s GI duration on the EHT-LTF and Data field OFDM symbols | 36.1.1      | CFEHT AND CFSToAofAP: M  | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP4.13  | Reception of an EHT MU PPDU to multiple users with a $2\times$ EHT-LTF and 1.6 $\mu$ s GI duration on the EHT-LTF and Data field OFDM symbols | 36.1.1      | CFEHT AND CFSToAofAP: M  | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP4.14  | Reception of an EHT MU PPDU to multiple users with a $4\times$ EHT-LTF and 3.2 $\mu$ s GI duration on the EHT-LTF and Data field OFDM symbols | 36.1.1      | CFEHT AND CFSToAofAP: M  | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP4.15  | Reception of an EHT MU PPDU to multiple users with a $4\times$ EHT-LTF and 0.8 $\mu$ s GI duration on the EHT-LTF and Data field OFDM symbols | 36.1.1      | CFEHT AND CFSToAofAP: O  | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP4.16  | Transmission of a non-OFDMA EHT TB PPDU with a $1\times$ EHT-LTF and 1.6 $\mu$ s GI duration on the EHT-LTF and Data field OFDM symbols       | 36.1.1      | CFEHT AND CFSToAofAP: M  | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP4.17  | Transmission of an EHT TB PPDU with a $2\times$ EHT-LTF and 1.6 $\mu$ s GI duration on the EHT-LTF and Data field OFDM symbols                | 36.1.1      | CFEHT AND CFSToAofAP: M  | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP4.18  | Transmission of an EHT TB PPDU with a $4\times$ EHT-LTF and 3.2 $\mu$ s GI duration on the EHT-LTF and Data field OFDM symbols                | 36.1.1      | CFEHT AND CFSToAofAP: M  | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP4.19  | Support of extra EHT-LTF for non-OFDMA transmissions                                                                                          | 9.4.2.323.3 | CFEHT: O                 | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP5     | RU support                                                                                                                                    |             |                          |                                                                                       |
| EHTP5.1   | (single) RU support in all applicable locations                                                                                               |             |                          |                                                                                       |
| EHTP5.1.1 | 26-tone RU mapping                                                                                                                            | 36.1.1      | CFEHT: M                 | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP5.1.2 | 52-tone RU mapping                                                                                                                            | 36.1.1      | CFEHT: M                 | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP5.1.3 | 106-tone RU mapping                                                                                                                           | 36.1.1      | CFEHT: M                 | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP5.1.4 | 242-tone RU mapping                                                                                                                           | 36.1.1      | CFEHT: M                 | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP5.1.5 | Support of 242-tone RU in wider BW OFDMA                                                                                                      | 36.1.1      | CFEHT20: O               | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP5.1.6 | 484-tone RU mapping                                                                                                                           | 36.1.1      | CFEHT80: M<br>EHTP3.2: M | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP5.1.7 | 996-tone RU mapping                                                                                                                           | 36.1.1      | CFEHT80: M               | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP5.1.8 | 2 $\times$ 996-tone RU mapping                                                                                                                | 36.1.1      | EHTP3.4: M<br>EHTP3.5: M | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP5.1.9 | 4 $\times$ 996-tone RU mapping                                                                                                                | 36.1.1      | EHTP3.5: M               | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |

| Item       | Protocol capability                                      | References       | Status                                          | Support                                                                               |
|------------|----------------------------------------------------------|------------------|-------------------------------------------------|---------------------------------------------------------------------------------------|
| EHTP5.2    | Large MRU support in all applicable locations            |                  |                                                 |                                                                                       |
| EHTP5.2.1  | 484+242-tone RU in non-OFDMA                             | 36.3.2.2.3       | CFEHT80: M                                      | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP5.2.2  | 996+484-tone RU in non-OFDMA                             | 36.3.2.2.3       | EHTP3.4: M                                      | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP5.2.3  | 996+484+242-tone RU in non-OFDMA                         | 36.3.2.2.3       | EHTP3.4: M                                      | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP5.2.4  | 2×996+484-tone RU in non-OFDMA                           | 36.3.2.2.3       | EHTP3.5: M                                      | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP5.2.5  | 3×996-tone RU in non-OFDMA                               | 36.3.2.2.3       | EHTP3.5: M                                      | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP5.2.6  | 3×996+484-tone RU in non-OFDMA                           | 36.3.2.2.3       | EHTP3.5: M                                      | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP5.2.7  | 484+242-tone RU in OFDMA                                 | 36.3.2.2.3       | CFEHT80 AND CFSTAofAP: M<br>CFEHT AND CFAP: O   | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP5.2.8  | 996+484-tone RU in OFDMA                                 | 36.3.2.2.3.<br>2 | CFSTAofAP AND EHTP3.4: M<br>CFAP AND EHTP3.4: O | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP5.2.9  | 2×996+484-tone RU in OFDMA                               | 36.3.2.2.3.<br>2 | CFSTAofAP AND EHTP3.5: M<br>CFAP AND EHTP3.5: O | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP5.2.10 | 3×996-tone RU in OFDMA                                   | 36.3.2.2.3.<br>2 | CFSTAofAP AND EHTP3.5: M<br>CFAP AND EHTP3.5: O | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP5.2.11 | 3×996+484-tone RU in OFDMA                               | 36.3.2.2.3.<br>2 | CFSTAofAP AND EHTP3.5: M<br>CFAP AND EHTP3.5: O | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP5.3    | Small MRU support in all applicable locations            |                  |                                                 | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP5.3.1  | 52+26-tone RU in OFDMA in a 20 MHz PPDU                  | 36.3.2.2.2       | CFEHT: M                                        | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP5.3.2  | 52+26-tone RU in OFDMA in a 40 MHz PPDU                  | 36.3.2.2.2       | CFEHT80: M                                      | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP5.3.3  | 52+26-tone RU in OFDMA in each 80 MHz frequency subblock | 36.3.2.2.2       | CFEHT80: M                                      | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP5.3.4  | 106+26-tone RU in OFDMA in a 20 MHz PPDU                 | 36.3.2.2.2       | CFEHT: M                                        | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP5.3.5  | 106+26-tone RU in OFDMA in a 40 MHz PPDU                 | 36.3.2.2.2       | CFEHT80: M                                      | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP5.3.6  | 106+26-tone RU in OFDMA in each 80 MHz subblock          | 36.3.2.2.2       | CFEHT80: M                                      | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP6      | Coding                                                   |                  |                                                 |                                                                                       |
| EHTP6.1    | BCC coding                                               | 36.1.1           | CFEHT: M                                        | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |

| Item      | Protocol capability                                                                                         | References | Status                                  | Support                                                                               |
|-----------|-------------------------------------------------------------------------------------------------------------|------------|-----------------------------------------|---------------------------------------------------------------------------------------|
| EHTP6.2   | LDDC coding in all supported EHT PPDU types, RU and MRU sizes and NSS                                       | 36.1.1     | EHTP3.2: M<br>EHTP7.4: M<br>EHTP7.29: M | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP6.3   | LDDC coding when the STA supports less than or equal to 4 SS and does not support EHT-MCS 10, 11, 12, or 13 | 36.1.1     | CFEHT20: O                              | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP7     | EHT MCS support                                                                                             |            |                                         |                                                                                       |
| EHTP7.1   | EHT-MCS 0–7 with $N_{SS} = 1$                                                                               | 36.1.1     | CFEHT: M                                | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.2  | EHT-MCS 8 with $N_{SS} = 1$                                                                                 | 36.1.1     | CFEHT80: M<br>CFEHT20: O                | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.3  | EHT-MCS 9 with $N_{SS} = 1$                                                                                 | 36.1.1     | CFEHT80: M<br>CFEHT20 AND<br>EHTP7.2: O | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.4  | EHT-MCS 10 with $N_{SS} = 1$                                                                                | 36.1.1     | EHTP7.3: O                              | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.5  | EHT-MCS 11 with $N_{SS} = 1$                                                                                | 36.1.1     | EHTP7.4: O                              | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.6  | EHT-MCS 12 with $N_{SS} = 1$                                                                                | 36.1.1     | EHTP7.5: O                              | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP7.7   | EHT-MCS 13 with $N_{SS} = 1$                                                                                | 36.1.1     | EHTP7.6: O                              | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.8  | EHT-MCS 0–7 with $N_{SS} = 2$                                                                               | 36.1.1     | CFEHT: O                                | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.9  | EHT-MCS 8 with $N_{SS} = 2$                                                                                 | 36.1.1     | EHTP7.8: O                              | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.10 | EHT-MCS 9 with $N_{SS} = 2$                                                                                 | 36.1.1     | EHTP7.9: O                              | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.11 | EHT-MCS 10 with $N_{SS} = 2$                                                                                | 36.1.1     | EHTP7.10: O                             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.12 | EHT-MCS 11 with $N_{SS} = 2$                                                                                | 36.1.1     | EHTP7.11: O                             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.13 | EHT-MCS 12 with $N_{SS} = 2$                                                                                | 36.1.1     | EHTP7.12: O                             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP7.14  | EHT-MCS 13 with $N_{SS} = 2$                                                                                | 36.1.1     | EHTP7.13: O                             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.15 | EHT-MCS 0–7 with $N_{SS} = 3$                                                                               | 36.1.1     | EHTP7.8: O                              | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.16 | EHT-MCS 8 with $N_{SS} = 3$                                                                                 | 36.1.1     | EHTP7.15: O                             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.17 | EHT-MCS 9 with $N_{SS} = 3$                                                                                 | 36.1.1     | EHTP7.16: O                             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.18 | EHT-MCS 10 with $N_{SS} = 3$                                                                                | 36.1.1     | EHTP7.17: O                             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.19 | EHT-MCS 11 with $N_{SS} = 3$                                                                                | 36.1.1     | EHTP7.18: O                             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.20 | EHT-MCS 12 with $N_{SS} = 3$                                                                                | 36.1.1     | EHTP7.19: O                             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP7.21  | EHT-MCS 13 with $N_{SS} = 3$                                                                                | 36.1.1     | EHTP7.20: O                             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.22 | EHT-MCS 0–7 with $N_{SS} = 4$                                                                               | 36.1.1     | EHTP7.15: O                             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.23 | EHT-MCS 8 with $N_{SS} = 4$                                                                                 | 36.1.1     | EHTP7.22: O                             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.24 | EHT-MCS 9 with $N_{SS} = 4$                                                                                 | 36.1.1     | EHTP7.23: O                             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.25 | EHT-MCS 10 with $N_{SS} = 4$                                                                                | 36.1.1     | EHTP7.24: O                             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.26 | EHT-MCS 11 with $N_{SS} = 4$                                                                                | 36.1.1     | EHTP7.25: O                             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.27 | EHT-MCS 12 with $N_{SS} = 4$                                                                                | 36.1.1     | EHTP7.26: O                             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |

IEEE Std 802.11be-2024  
IEEE Standard for Information Technology—Local and Metropolitan Area Networks—Specific Requirements  
Part 11: Wireless LAN MAC and PHY Specifications  
Amendment 2: Enhancements for Extremely High Throughput (EHT)

| Item      | Protocol capability                                                                 | References | Status      | Support                                                                               |
|-----------|-------------------------------------------------------------------------------------|------------|-------------|---------------------------------------------------------------------------------------|
| EHTP7.28  | EHT-MCS 13 with $N_{SS} = 4$                                                        | 36.1.1     | EHTP7.27: O | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.29 | EHT-MCS 0-7 with $N_{SS} = 5$                                                       | 36.1.1     | EHTP7.22: O | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.30 | EHT-MCS 8 with $N_{SS} = 5$                                                         | 36.1.1     | EHTP7.29: O | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.31 | EHT-MCS 9 with $N_{SS} = 5$                                                         | 36.1.1     | EHTP7.30: O | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.32 | EHT-MCS 10 with $N_{SS} = 5$                                                        | 36.1.1     | EHTP7.31: O | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.33 | EHT-MCS 11 with $N_{SS} = 5$                                                        | 36.1.1     | EHTP7.32: O | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.34 | EHT-MCS 12 with $N_{SS} = 5$                                                        | 36.1.1     | EHTP7.33: O | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP7.35  | EHT-MCS 13 with $N_{SS} = 5$                                                        | 36.1.1     | EHTP7.34: O | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.36 | EHT-MCS 0-7 with $N_{SS} = 6$                                                       | 36.1.1     | EHTP7.29: O | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.37 | EHT-MCS 8 with $N_{SS} = 6$                                                         | 36.1.1     | EHTP7.36: O | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.38 | EHT-MCS 9 with $N_{SS} = 6$                                                         | 36.1.1     | EHTP7.37: O | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.39 | EHT-MCS 10 with $N_{SS} = 6$                                                        | 36.1.1     | EHTP7.38: O | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.40 | EHT-MCS 11 with $N_{SS} = 6$                                                        | 36.1.1     | EHTP7.39: O | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.41 | EHT-MCS 12 with $N_{SS} = 6$                                                        | 36.1.1     | EHTP7.40: O | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP7.42  | EHT-MCS 13 with $N_{SS} = 6$                                                        | 36.1.1     | EHTP7.41: O | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.43 | EHT-MCS 0-7 with $N_{SS} = 7$                                                       | 36.1.1     | EHTP7.36: O | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.44 | EHT-MCS 8 with $N_{SS} = 7$                                                         | 36.1.1     | EHTP7.43: O | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.45 | EHT-MCS 9 with $N_{SS} = 7$                                                         | 36.1.1     | EHTP7.44: O | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.46 | EHT-MCS 10 with $N_{SS} = 7$                                                        | 36.1.1     | EHTP7.45: O | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.47 | EHT-MCS 11 with $N_{SS} = 7$                                                        | 36.1.1     | EHTP7.46: O | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.48 | EHT-MCS 12 with $N_{SS} = 7$                                                        | 36.1.1     | EHTP7.47: O | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP7.49  | EHT-MCS 13 with $N_{SS} = 7$                                                        | 36.1.1     | EHTP7.48: O | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.50 | EHT-MCS 0-7 with $N_{SS} = 8$                                                       | 36.1.1     | EHTP7.43: O | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.51 | EHT-MCS 8 with $N_{SS} = 8$                                                         | 36.1.1     | EHTP7.50: O | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.52 | EHT-MCS 9 with $N_{SS} = 8$                                                         | 36.1.1     | EHTP7.51: O | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.53 | EHT-MCS 10 with $N_{SS} = 8$                                                        | 36.1.1     | EHTP7.52: O | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.54 | EHT-MCS 11 with $N_{SS} = 8$                                                        | 36.1.1     | EHTP7.53: O | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.55 | EHT-MCS 12 with $N_{SS} = 8$                                                        | 36.1.1     | EHTP7.54: O | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP7.56  | EHT-MCS 13 with $N_{SS} = 8$                                                        | 36.1.1     | EHTP7.55: O | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP7.57  | EHT-MCS 15 with $N_{SS} = 1$ and RU $\le 242$ tones, excluding MRUs, in non-MU-MIMO | 36.1.1     | CFEHT20: M  | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP7.58  | EHT-MCS 15 with $N_{SS} = 1$ and RU $\le 996$ tones, excluding MRUs, in non-MU-MIMO | 36.1.1     | CFEHT80: M  | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |

| Item      | Protocol capability                                                                                                                                                                     | References | Status                 | Support                                                                               |
|-----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------|------------------------|---------------------------------------------------------------------------------------|
| EHTP7.59  | EHT-MCS 15 with $N_{SS} = 1$ and RU $\le 2 \times 996$ tones, excluding MRUs, in non-MU-MIMO                                                                                            | 36.1.1     | EHTP3.4: M             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP7.60  | EHT-MCS 15 with $N_{SS} = 1$ and RU $\le 4 \times 996$ tones, excluding MRUs, in non-MU-MIMO                                                                                            | 36.1.1     | EHTP3.5: M             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP7.61  | EHT-MCS 15 with $N_{SS} = 1$ and RU $52+26$                                                                                                                                             | 36.1.1     | CFEHT: O               | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP7.62  | EHT-MCS 15 with $N_{SS} = 1$ and RU $106+26$                                                                                                                                            | 36.1.1     | CFEHT: O               | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP7.63  | EHT-MCS 15 with $N_{SS} = 1$ and RU $484+242$                                                                                                                                           | 36.1.1     | CFEHT80: O             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP7.64  | EHT-MCS 15 with $N_{SS} = 1$ and RU $996+484$                                                                                                                                           | 36.1.1     | EHTP3.4: O             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP7.65  | EHT-MCS 15 with $N_{SS} = 1$ and RU $996+484+242$                                                                                                                                       | 36.1.1     | EHTP3.4: O             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP7.66  | EHT-MCS 15 with $N_{SS} = 1$ and RU $3 \times 996$ tones                                                                                                                                | 36.1.1     | EHTP3.5: O             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP7.67  | EHT-MCS 14 with $N_{SS} = 1$                                                                                                                                                            | 36.1.1     | CFEHT6G: O             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.68 | Supports transmission of four or more spatial streams                                                                                                                                   | 36.1.1     | CFEHT: O               | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTP7.69 | Supports reception of four or more spatial streams                                                                                                                                      | 36.1.1     | CFEHT: O               | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP8     | Preamble                                                                                                                                                                                |            |                        |                                                                                       |
| EHTP8.1   | Reception of the EHT-SIG field in an EHT MU PPDU at EHT-MCSs 0, 1, 3, and 15                                                                                                            | 36.1.1     | CFEHT: M               | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP8.2   | Transmission and reception of a non-OFDMA EHT MU PPDU with any preamble puncturing pattern needed to support mandatory MRU for non-OFDMA                                                | 36.1.1     | CFEHT: M               | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP8.3   | Transmission of an OFDMA EHT MU PPDU with any preamble puncturing pattern needed to support mandatory MRU for non-OFDMA                                                                 | 36.1.1     | CFEHT AND CFAP: M      | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP8.4   | Transmission of an OFDMA EHT MU PPDU with any preamble puncturing pattern as specified in sub-clause 36.3.12.11 but excluding any pattern needed to support mandatory MRU for non-OFDMA | 36.1.1     | CFEHT AND CFAP: O      | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP8.5   | Reception of an OFDMA EHT MU PPDU with any preamble puncturing pattern                                                                                                                  | 36.1.1     | CFEHT AND CFSTAofAP: M | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP9     | Sounding                                                                                                                                                                                |            |                        |                                                                                       |

| Item     | Protocol capability                                                                                                                                                                                       | References | Status                                    | Support                                                                               |
|----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------|-------------------------------------------|---------------------------------------------------------------------------------------|
| EHTP9.1  | Non-triggered SU beamforming feedback (full bandwidth only)                                                                                                                                               | 35.7.2     | CFEHT: M                                  | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP9.2  | Non-triggered CQI feedback (full bandwidth only)                                                                                                                                                          | 35.7.2     | CFEHT: O                                  | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP9.3  | Triggered MU beamforming full bandwidth feedback                                                                                                                                                          | 35.7.2     | CFEHT: M                                  | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP9.4  | Triggered MU beamforming partial bandwidth feedback                                                                                                                                                       | 35.7.2     | EHTP2.8: M<br>CFEHT AND<br>NOT EHTP2.8: O | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP9.5  | Triggered SU beamforming feedback (full and partial bandwidth)                                                                                                                                            | 35.7.2     | CFEHT: O                                  | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP9.6  | Triggered CQI feedback (full and partial bandwidth)                                                                                                                                                       | 35.7.2     | CFEHT: O                                  | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP9.7  | Responding with requested beamforming feedback in an EHT sounding procedure with the maximum number of spatial streams in the EHT sounding NDP that the non-AP EHT STA can respond to equal to at least 4 | 35.7.3     | CFEHT AND<br>CFSTAofAP: M                 | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP9.8  | EHT sounding PPDU with $2\times$ EHT-LTF and $0.8\ \mu\text{s}$ GI                                                                                                                                        | 36.3.18    | CFEHT: M                                  | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP9.9  | EHT sounding PPDU with $2\times$ EHT-LTF and $1.6\ \mu\text{s}$ GI                                                                                                                                        | 36.3.18    | CFEHT: M                                  | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP9.10 | EHT sounding PPDU with $4\times$ EHT-LTF and $3.2\ \mu\text{s}$ GI                                                                                                                                        | 36.3.18    | CFEHT: O                                  | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP9.11 | $N_g = 4$ SU feedback                                                                                                                                                                                     | 9.4.1.72   | CFEHT: M                                  | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP9.12 | $N_g = 4$ MU feedback                                                                                                                                                                                     | 9.4.1.72   | CFEHT: M                                  | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP9.13 | $N_g = 16$ SU feedback                                                                                                                                                                                    | 9.4.1.72   | CFEHT: O                                  | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP9.14 | $N_g = 16$ MU feedback                                                                                                                                                                                    | 9.4.1.72   | CFEHT: O                                  | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP9.15 | Codebook size $(\phi, \psi) = \{6, 4\}$ SU feedback                                                                                                                                                       | 9.4.1.72   | CFEHT: M                                  | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP9.16 | Codebook size $(\phi, \psi) = \{4, 2\}$ SU feedback                                                                                                                                                       | 9.4.1.72   | CFEHT: O                                  | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP9.17 | Codebook size $(\phi, \psi) = \{9, 7\}$ MU feedback                                                                                                                                                       | 9.4.1.72   | CFEHT: M                                  | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP9.18 | Codebook size $(\phi, \psi) = \{7, 5\}$ MU feedback                                                                                                                                                       | 9.4.1.72   | CFEHT: O                                  | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP9.19 | Receiving and NDP with bandwidth of 40, 80 or 160 MHz                                                                                                                                                     | 35.7.2     | CFEHT20: O                                | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP9.20 | Reception of 160 MHz EHT sounding NDP in 5 GHz and 6 GHz bands if the non-AP EHT STA's operating channel width is 80 MHz                                                                                  | 36.1.1     | CFEHT AND<br>CFSTAofAP: M                 | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |

| Item     | Protocol capability                                                                                                | References | Status                             | Support                                                                               |
|----------|--------------------------------------------------------------------------------------------------------------------|------------|------------------------------------|---------------------------------------------------------------------------------------|
| EHTP9.21 | Reception of 320 MHz EHT sounding NDP in 6 GHz band if the non-AP EHT STA's operating channel is 80 MHz or 160 MHz | 36.1.1     | CFEHT AND CFSTAofAP AND CFEHT6G: M | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP10   | Spatial reuse                                                                                                      |            |                                    |                                                                                       |
| EHTP10.1 | EHT PSR-based SR support                                                                                           | 35.10      | CFEHT AND CFSTAofAP: O             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTP11   | Power boost factor                                                                                                 | 36.3.11.4  | CFEHT: O                           | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |

#### B.4.40.2 EHT MAC features

| Item    | Protocol capability                                                                                                                           | References                                                           | Status                       | Support                                                                               |
|---------|-----------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------|------------------------------|---------------------------------------------------------------------------------------|
|         | Are the following MAC protocol features supported?                                                                                            |                                                                      |                              |                                                                                       |
| EHTM1   | EHT capabilities signaling                                                                                                                    |                                                                      |                              |                                                                                       |
| EHTM1.1 | EHT Capabilities element                                                                                                                      | 9.4.2.323                                                            | CFEHT: M                     | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM1.2 | Signaling of EHT STA capabilities in Probe Request and (Re)Association Request frames                                                         | 9.3.3.5,<br>9.3.3.7,<br>9.3.3.9,<br>9.4.2.323                        | CFEHT AND CFIndepSTA:M       | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM1.3 | Signaling of EHT STA capabilities and EHT BSS capabilities in Beacon, Probe Response, and (Re)Association Response frames                     | 9.3.3.2,<br>9.3.3.6,<br>9.3.3.8,<br>9.3.3.10,<br>9.4.2.323           | CFEHT AND CFAP: M            | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM1.4 | Signaling of MLD capabilities using MLD Capabilities And Operations subfield present in the Common Info field of the Basic Multi-Link element | 9.3.3.2,<br>9.3.3.5,<br>9.3.3.6,<br>9.3.3.7,<br>9.3.3.8,<br>9.3.3.10 | CFEHTMLD: M                  | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM2   | Signaling of EHT operation                                                                                                                    | 9.4.2.321                                                            | CFEHT AND CFAP: M            | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM3   | HE variant HT Control field                                                                                                                   |                                                                      |                              |                                                                                       |
| EHTM3.1 | EHT OM control                                                                                                                                | 9.2.4.7.8                                                            | CFAP AND EHTP3.5: M CFEHT: O | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM3.2 | SRS control                                                                                                                                   | 9.2.4.7.9                                                            | CFEHTMLD: O                  | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM3.3 | AAR control                                                                                                                                   | 9.2.4.7.10                                                           | CFEHTMLD: O                  | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM4   | Restricted TWT                                                                                                                                | 35.8                                                                 | CFEHT: O                     | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTM5  | EPCS priority access                                                                                                                          | 35.16                                                                | CFEHT: O                     | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM6   | Triggered TXOP sharing procedure                                                                                                              | 35.2.1.2                                                             | CFEHT: O                     | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM7   | EHT BSS operation                                                                                                                             |                                                                      |                              |                                                                                       |

| Item      | Protocol capability                                                                                                                                    | References | Status                                      | Support                                                                               |
|-----------|--------------------------------------------------------------------------------------------------------------------------------------------------------|------------|---------------------------------------------|---------------------------------------------------------------------------------------|
| EHTM7.1   | EHT BSS 6 GHz operation                                                                                                                                | 35.15.1    | CFEHT6G: M                                  | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM7.2   | Preamble puncturing operation                                                                                                                          | 35.15.2    | CFEHT AND CFAP: M<br>CFEHT AND CFSTAoFAP: M | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM8     | Transmit beamforming                                                                                                                                   |            |                                             |                                                                                       |
| *EHTM8.1  | SU beamformer capable if the supported maximum number of transmit spatial streams is less than 4                                                       | 9.4.2.323  | CFEHT: O                                    | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTPM8.2 | SU beamformer capable if the supported maximum number of transmit spatial streams is greater than or equal to 4                                        | 9.4.2.323  | CFEHT: M                                    | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM8.3   | SU beamformee capable                                                                                                                                  | 9.4.2.323  | CFEHT AND CFAP: O<br>CFEHT AND CFSTAoFAP: M | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM8.4   | MU beamformer capable if the supported maximum number of transmit spatial streams is less than 4                                                       | 9.4.2.323  | CFAP AND EHTM8.1: O                         | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM8.5   | MU beamformer capable if the supported maximum number of transmit spatial streams is greater than or equal to 4                                        | 9.4.2.323  | CFAP AND EHTM8.2: M                         | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM8.6   | MU beamformee capable                                                                                                                                  | 9.4.2.323  | CFEHT AND CFSTAoFAP: M                      | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM8.7   | MU beamformer capable if the MU Beamformer (BW $\le$ 80 MHz), MU Beamformer (BW = 160 MHz), and MU Beamformer (BW = 320 MHz), any is at least set to 1 | 35.7.2     | CFEHT AND CFAP: M                           | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM9     | MU Beamforming capable                                                                                                                                 |            |                                             |                                                                                       |
| *EHTM9.1  | MU beamformer capable if the MU Beamformer (BW $\le$ 80 MHz), MU Beamformer (BW = 160 MHz), and MU Beamformer (BW = 320 MHz), any is at least set to 1 | 35.7.1     | CFEHT AND CFAP: M                           | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTM9.2  | MU beamformer capable if the MU Beamformer (BW $\le$ 80 MHz), MU Beamformer (BW = 160 MHz), and MU Beamformer (BW = 320 MHz), is 0                     | 35.7.1     | CFEHT AND CFSTAoFAP: M                      | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM10    | EHT MLD features                                                                                                                                       |            |                                             |                                                                                       |
| EHTM10.1  | ML discovery procedures                                                                                                                                | 35.3.4     | CFEHTMLD: M                                 | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM10.2  | ML (re)setup procedure                                                                                                                                 | 35.3.5     | CFEHTMLD: M                                 | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM10.3  | Block ack procedures in MLO                                                                                                                            | 35.3.8     | CFEHTMLD: M                                 | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM10.4  | Link management                                                                                                                                        | 35.3.7     |                                             |                                                                                       |

| Item         | Protocol capability                                         | References | Status                                                                  | Support                                                                               |
|--------------|-------------------------------------------------------------|------------|-------------------------------------------------------------------------|---------------------------------------------------------------------------------------|
| *EHTM10.4.1  | TTLM                                                        | 35.3.7.2   | CFEHTMLD:O                                                              | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM10.4.1.1 | Link management procedure with default TTLM                 | 35.3.7.2   | EHTM10.4.1: M                                                           | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM10.4.2   | Non-AP MLD operation parameter update                       | 35.3.6.6   | CFEHTMLD: O                                                             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM10.5     | ML sequence number spaces, duplicate detection and recovery | 10.3.2.14  | CFEHTMLD: M                                                             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM10.6     | BSS parameter critical update procedure                     | 35.3.10    | CFEHTMLD: M                                                             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM10.7     | ML power management                                         |            |                                                                         |                                                                                       |
| EHTM10.7.1   | Dynamic link transitions                                    | 35.3.7.3   | CFEHTMLDAP: M<br>CFEHTMLD-<br>nonAP: O<br>CFEHTMLDN-<br>STRnMobileAP: M | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM10.7.2   | MLD max idle period management                              | 35.3.12.3  | CFEHTMLD: M                                                             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM10.7.3   | WNM sleep mode in MLO                                       | 35.3.12.5  | CFEHTMLD-<br>nonAP: O                                                   | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTM10.7.4  | Traffic indication                                          | 35.3.12.4  | CFEHTMLD: O                                                             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM10.7.5   | MLD listen interval                                         | 35.3.12.6  | CFEHTMLD: M                                                             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTM10.8    | NSTR operation                                              | 35.3.16.4  | CFEHTMLDN-<br>STRnMobileAP: M<br>CFEHTMLD-<br>nonAP: O                  | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM10.8.1   | PPDU end time alignment                                     | 35.3.16.5  | EHTM10.8: M<br>CFEHTMLDAP: M                                            | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM10.8.2   | Start time sync PPDU's medium access                        | 35.3.16.6  | EHTM10.8: O                                                             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM10.8.3   | Medium access recovery procedure                            | 35.3.16.8  | EHTM10.8: M<br>EHTM10.10: M<br>EHTM10.11: M                             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM10.9     | ML group addressed frame delivery                           | 35.3.15    | CFEHTMLD: M                                                             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTM10.10   | EMLSR mode                                                  | 35.3.17    | CFEHTMLD: O                                                             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM10.10.1  | EMLSR configuration                                         | 35.3.17    | EHTM10.10: M                                                            | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTM10.11   | EMLMR mode                                                  | 35.3.18    | CFEHTMLD: O                                                             | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM10.12    | STR operation                                               | 35.3.16.3  | CFEHTMLDAP: M<br>CFEHTMLD-<br>nonAP: O                                  | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |

| Item             | Protocol capability                                                                   | References | Status                                                     | Support                                                                               |
|------------------|---------------------------------------------------------------------------------------|------------|------------------------------------------------------------|---------------------------------------------------------------------------------------|
| EHTM10.13        | NSTR mobile AP MLD operation                                                          | 35.3.19    | CFEHTNSTRMobileAP: M                                       | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTM10.1<br>4   | ML reconfiguration                                                                    | 35.3.6     |                                                            |                                                                                       |
| EHTM10.14.<br>1  | Adding affiliated APs                                                                 | 35.3.6.2   | CFEHTMLDAP: O<br>CFEHTMLD-nonAP: O                         | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM10.14.<br>2  | Removing affiliated APs                                                               | 35.3.6.3   | CFEHTMLDAP: O<br>CFEHTMLD-nonAP: M                         | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTM10.1<br>4.3 | Link reconfiguration to the ML setup                                                  | 35.3.6.4   | CFEHTMLD: O                                                | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| *EHTM10.1<br>4.4 | AP MLD recommendation for link reconfiguration                                        | 35.3.6.5   | CFEHTMLD: O                                                | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM10.15        | TDLS procedure in MLO                                                                 | 35.3.21    | CFEHTMLD-nonAP: O                                          | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM10.16        | EHT SCS procedure                                                                     | 35.17      | CFEHTMLD: O                                                | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM10.17        | Proxy ARP service in AP MLDs                                                          | 35.3.22    | CFEHTMLDAP: O<br>CFEHTNSTRMobileAP: O                      | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM10.18        | EHT MSCS procedure                                                                    | 35.18      | CFEHTMLD: O                                                | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM10.19        | ML procedures for channel switching, extended channel switching, and channel quieting | 35.3.11    | CFEHTMLDAP: M<br>CFEHTNSTRMobileAP: O<br>CFEHTMLD-nonAP: M | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM11           | EHT sounding protocol                                                                 |            |                                                            |                                                                                       |
| EHTM11.1         | EHT sounding protocol as MU beamformer                                                | 35.7       | EHTM9.1: M                                                 | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |
| EHTM11.2         | EHT sounding protocol as MU beamformee                                                | 35.7       | EHTM9.2: M                                                 | Yes <input type="checkbox"/> No <input type="checkbox"/> N/A <input type="checkbox"/> |

## Annex C

(normative)

### ASN.1 encoding of the MAC and PHY MIB

#### C.1 General

*Insert the following NOTE at the end of the subclause:*

NOTE 3—The MAC MIBs in an MLD are subject to synchronization requirements as defined in 35.3.26.

#### C.3 MIB Detail

*Change the comment list following the dot11smt definition (not all lines shown) as follows:*

```
-- **********************************************************************  
-- * Major sections  
-- **********************************************************************  
  
-- Station Management (SMT) Attributes  
-- DEFINED AS "The SMT object class provides the necessary support  
-- at the station to manage the processes in the station such that  
-- the station may work cooperatively as a part of an IEEE 802.11  
-- network."  
  
dot11smt OBJECT IDENTIFIER ::= { ieee802dot11 1 }  
-- dot11smt GROUPS  
-- ...  
-- dot11WURStationConfigTable ::= ( dot11smt 45 )  
-- dot11EHTStationConfigTable ::= ( dot11smt 46 )  
-- dot11EHTPETHresholdsMappingsTable ::= ( dot11smt 47 )  
-- dot11EBSCTrafficStreamTable ::= ( dot11smt 48 )
```

*Change the comment list following PHY GROUPS (not all lines shown) as follows:*

```
-- PHY Attributes  
-- DEFINED AS "The PHY object class provides the necessary support  
-- for required PHY operational information that may vary from PHY  
-- to PHY and from STA-to-STA to be communicated to upper layers."  
dot11phy OBJECT IDENTIFIER ::= { ieee802dot11 4 }  
  
-- PHY GROUPS  
-- dot11PhyOperationTable ::= { dot11phy 1 }  
-- ...  
-- dot11EDMGBeamformingConfigTable ::= { dot11phy 34 }  
-- dot11PhyEHTTable ::= { dot11phy 35 }  
-- dot11EHTTransmitBeamformingConfigTable ::= { dot11phy 36 }
```

**Change Dot11StationConfigEntry (not all lines shown) as follows:**

```
-- **********************************************************************  
-- * dot11StationConfig TABLE  
-- **********************************************************************  
  
Dot11StationConfigEntry ::= SEQUENCE  
{  
    dot11StationID MacAddress,  
    ...  
    dot11EBCSAPGroupID OCTET STRING,  
    dot11EHTOptionImplemented TruthValue,  
    dot11EHTTXSTFOptionImplemented TruthValue,  
    dot11EHTNSTRMobileAPMLDImplemented TruthValue,  
    dot11RestrictedTWOOptionImplemented TruthValue,  
    dot11TwoBQROptionImplemented TruthValue,  
    dot11SRSOptionImplemented TruthValue,  
    dot11AAROptionImplemented TruthValue,  
    dot11AlignedTWOOptionImplemented TruthValue  
}
```

**Insert the following after the dot11EBCSAPGroupID OBJECT-TYPE in the dot11StationConfig TABLE:**

```
dot11EHTOptionImplemented OBJECT-TYPE  
    SYNTAX TruthValue  
    MAX-ACCESS read-only  
    STATUS current  
    DESCRIPTION  
        "This is a capability variable.  
        Its value is determined by device capabilities.  
  
        This attribute indicates whether the entity is EHT capable."  
    ::= { dot11StationConfigEntry 205 }  
  
dot11EHTTXSTFOptionImplemented OBJECT-TYPE  
    SYNTAX TruthValue  
    MAX-ACCESS read-only  
    STATUS current  
    DESCRIPTION  
        "This is a capability variable.  
        Its value is determined by device capabilities.  
  
        This attribute, when true, indicates the ability of the EHT STA to support  
        the TXS procedure. If the attribute is false, the station does not support  
        the TXS procedure."  
    ::= { dot11StationConfigEntry 222 }  
  
dot11EHTNSTRMobileAPMLDImplemented OBJECT-TYPE  
    SYNTAX TruthValue  
    MAX-ACCESS read-only  
    STATUS current  
    DESCRIPTION  
        "This is a capability variable.  
        Its value is determined by device capabilities.  
  
        This attribute, when true, indicates the ability of the EHT STA to support  
        NSTR mobile AP MLO. If the attribute is false, the station does not support  
        NSTR mobile AP MLO."  
    ::= { dot11StationConfigEntry 223 }
```

```
dot11RestrictedTWTOptionImplemented OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    This attribute, when true, indicates the ability of the EHT STA to support
    the R-TWT operation. If the attribute is false, the EHT STA does not sup-
    port the R-TWT operation."
::= { dot11StationConfigEntry 228 }

dot11TwoBQROptionImplemented OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    This attribute, when true, indicates the ability of the EHT STA to support
    two BQR control operation. If the attribute is false, the EHT STA does not
    support the two BQR control operation."
::= { dot11StationConfigEntry 229 }

dot11SRSOptionImplemented OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    This attribute, when true, indicates the ability of the EHT STA to support
    the SRS operation. If the attribute is false, the EHT STA does not support
    the SRS operation."
::= { dot11StationConfigEntry 230 }

dot11AAROptionImplemented OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    This attribute, when true, indicates the ability of the EHT STA to support
    the AAR operation. If the attribute is false, the EHT STA does not support
    the AAR operation."
::= { dot11StationConfigEntry 231 }

dot11AlignedTWTOptionImplemented OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    This attribute, when true, indicates the ability of the MLD to support the
    aligned TWT operation. If the attribute is false, the MLD does not support
    the aligned TWT operation."
::= { dot11StationConfigEntry 232 }
```

**Change Dot11WirelessMgmtOptionsEntry (not all lines shown) as follows:**

```
-- *****************************  
-- * dot11WirelessMgmtOptions TABLE  
-- *****************************  
  
Dot11WirelessMgmtOptionsEntry ::= SEQUENCE  
{  
    dot11LocationActivated                                TruthValue,  
    ...  
    dot11ChannelUsageCapabilityNotificationImplemented    TruthValue,  
    dot11ChannelUsageGratuitousImplemented               TruthValue,  
    dot11ChannelUsageGratuitousActivated                 TruthValue  
}
```

**Insert the following after the dot11ChannelUsageCapabilityNotificationImplemented in the dot11StationConfig TABLE:**

```
dot11wirelessMgmtOptions table OBJECT-TYPE  
    SYNTAX TruthValue  
    MAX-ACCESS read-only  
    STATUS current  
    DESCRIPTION  
        "This is a capability variable.  
        Its value is determined by STA capabilities.  
  
        This attribute, when true, indicates that the station implementation is  
        capable of supporting gratuitous channel usage."  
    ::= { dot11WirelessMgmtOptionsEntry 67 }  
  
dot11ChannelUsageGratuitousActivated OBJECT-TYPE  
    SYNTAX TruthValue  
    MAX-ACCESS read-write  
    STATUS current  
    DESCRIPTION  
        "This is a control variable.  
        It is written by an external management entity or the SME.  
        Changes take effect as soon as practical in the implementation.  
  
        This attribute, when true, indicates that gratuitous channel usage is  
        enabled. Gratuitous channel usage is disabled when both this attribute and  
        dot11ChannelUsageActivated are false."  
    DEFVAL { false }  
    ::= { dot11WirelessMgmtOptionsEntry 68 }
```

**Insert the following after the dot11STACivicLocationConfig TABLE:**

```
-- *****************************  
-- * dot11EHTStationConfig TABLE  
-- *****************************  
  
dot11EHTStationConfigTable OBJECT-TYPE  
    SYNTAX SEQUENCE OF Dot11EHTStationConfigEntry  
    MAX-ACCESS not-accessible  
    STATUS current  
    DESCRIPTION  
        "Station Configuration attributes. In tabular form to allow for multiple  
        instances on an agent."  
    ::= { dot11smt 46 }
```

```
dot11EHTStationConfigEntry OBJECT-TYPE
SYNTAX Dot11EHTStationConfigEntry
MAX-ACCESS not-accessible
STATUS current
DESCRIPTION
    "An entry (conceptual row) in the dot11EHTStationConfig Table.

    ifIndex - Each IEEE 802.11 interface is represented by an ifEntry. Interface tables in this MIB module are indexed by ifIndex."
    INDEX { ifIndex }
    ::= { dot11EHTStationConfigTable 1 }

dot11EHTStationConfigEntry ::=
SEQUENCE {
    dot11EHTPPEThresholdsRequired TruthValue,
    dot11IDtoLinkMappingActivated TruthValue,
    dot11EHTPCSPriorityAccessActivated TruthValue,
    dot11MSDTimerDuration Unsigned32,
    dot11MSDTXOPMax Unsigned32,
    dot11MultiLinkActivated TruthValue,
    dot11MLDassociationQueryMaximumTimeout Unsigned32,
    dot11HTMCSFeedbackOptionImplemented INTEGER,
    dot11EHTEMPLSROptionImplemented TruthValue,
    dot11EHTEMPLSROptionActivated TruthValue,
    dot11EHTEMPLMROptionImplemented TruthValue,
    dot11EHTEMPLMROptionActivated TruthValue,
    dot11OperationStatusUpdateOperationImplemented TruthValue,
    dot11EHTLinkReconfigurationOperationActivated TruthValue,
    dot11MultiLinkTrafficIndicationActivated TruthValue,
    dot11NSTStatusUpdateImplemented TruthValue,
    dot11EHTPCSPriorityAccessParamUnsolicitedModeSupport TruthValue,
    dot11EHTEMPLSREnableOnOneLinkImplemented TruthValue,
    dot11EHTBMLDRRecommendationForMultipleAPsImplemented TruthValue
}

dot11EHTPPEThresholdsRequired OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    This attribute, when true, indicates that PPE thresholds exist and are
    provided in dot11EHTPPEThresholdsTable."
    DEFVAL { false }
    ::= { dot11EHTStationConfigEntry 1 }

dot11IDtoLinkMappingActivated OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-write
STATUS current
DESCRIPTION
    "This is a control variable.
    It is written by an external management entity. Changes take effect as
    soon as practical in the implementation.

    This attribute, when true, indicates that TTLN negotiation is enabled.
    TTLN negotiation is disabled otherwise."
    DEFVAL { false }
    ::= { dot11EHTStationConfigEntry 2 }
```

```
dot11EHTEPSPriorityAccessActivated OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-write
STATUS current
DESCRIPTION
    "This is a control variable.
    It is written by an external management entity or the SME. Changes take
    effect as soon as practical in the implementation.

    This attribute, when true, indicates the ability of the MLD to support the
    EPCS priority access capability. If the attribute is false, the MLD does
    not support EPCS priority access capability."
DEFVAL { false }
::= { dot11EHTStationConfigEntry 3 }

dot11MSDTimerDuration OBJECT-TYPE
SYNTAX Unsigned32 (0..8160)
UNITS "microseconds"
MAX-ACCESS read-write
STATUS current
DESCRIPTION
    "This is a control variable.
    It is written by an external management entity or by the MAC of a non-AP
    EHT STA upon receiving a Basic Multi-Link element containing a Medium Syn-
    chronization Duration field value from the EHT AP with which it is associ-
    ated. Changes take effect as soon as practical in the implementation.

    This attribute indicates the duration of MediumSyncDelay timer when the
    timer is (re)started."
DEFVAL { 5484 }
::= { dot11EHTStationConfigEntry 4 }

dot11MSDTXOPMax OBJECT-TYPE
SYNTAX Unsigned32 (1..16)
MAX-ACCESS read-write
STATUS current
DESCRIPTION
    "This is a control variable.
    It is written by an external management entity or by the MAC of a non-AP
    EHT STA upon receiving a Basic Multi-Link element containing a Medium Syn-
    chronization Maximum Number Of TXOPs field value from the EHT AP with
    which it is associated. Changes take effect as soon as practical in the
    implementation.

    This attribute indicates the maximum number of TXOPs a STA is allowed to
    initiate when the MediumSyncDelay timer of the MAC has nonzero value
    except that the value 16 indicates the STA can initiate any number of
    TXOPs."
DEFVAL { 1 }
::= { dot11EHTStationConfigEntry 5 }

dot11MultiLinkActivated OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-write
STATUS current
DESCRIPTION
    "This is a control variable.
    It is written by an external management entity or the SME. Changes take
    effect as soon as practical in the implementation.

    This attribute, when true, indicates that the ML feature is currently
    operational. This attribute, when false or not present, indicates that the
    ML feature is currently not operational."
DEFVAL { false }
```

```
 ::= { dot11EHTStationConfigEntry 6 }

dot11MLDAssociationSAQueryMaximumTimeout OBJECT-TYPE
SYNTAX Unsigned32 (1..4294967295)
UNITS "TUs"
MAX-ACCESS read-write
STATUS current
DESCRIPTION
    "This is a control variable.
    It is written by an external management entity. Changes take effect as
    soon as practical in the implementation.

    This attribute specifies the time period that an AP MLD can wait, from the
    scheduling of the first SA Query Request to allow association process to
    be started without starting additional SA Query procedure if a successful
    SA Query Response is not received."
DEFVAL { 1000 }
 ::= { dot11EHTStationConfigEntry 7 }

dot11EHTMCSFeedbackOptionImplemented OBJECT-TYPE
SYNTAX INTEGER {none(0), unsolicited(2), solicitedandunsolicited(3)}
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    This attribute indicates the EHT-MCS feedback capability supported by the
    station implementation."
DEFVAL { 0 }
 ::= { dot11EHTStationConfigEntry 8 }

dot11EHTMLSROptionImplemented OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    This attribute, when true, indicates that the station implementation is
    capable of supporting EMLSR operation."
DEFVAL { false }
 ::= { dot11EHTStationConfigEntry 9 }

dot11EHTMLSROptionActivated OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-write
STATUS current
DESCRIPTION
    "This is a control variable.
    It is written by an external management entity or the SME. Changes take
    effect as soon as practical in the implementation.

    This attribute, when true, indicates that the capability of the station to
    provide EMLSR operation is enabled. The capability is disabled, other-
    wise."
DEFVAL { false }
 ::= { dot11EHTStationConfigEntry 10 }
```

```
dot11EHTMLMROptionImplemented OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    This attribute, when true, indicates that the station implementation is
    capable of supporting EMLMR operation."
DEFVAL { false }
::= { dot11EHTSStationConfigEntry 11 }

dot11EHTMLMROptionActivated OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-write
STATUS current
DESCRIPTION
    "This is a control variable.
    It is written by an external management entity or the SME. Changes take
    effect as soon as practical in the implementation.

    This attribute, when true, indicates that the capability of the station to
    provide EMLMR operation is enabled. The capability is disabled, other-
    wise."
DEFVAL { false }
::= { dot11EHTSStationConfigEntry 12 }

dot11OperationParameterUpdateImplemented OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-write
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    This attribute, when true, indicates that the station implementation is
    capable of supporting MLD operation parameter update (See 35.3.6.6)."
DEFVAL { false }
::= { dot11EHTSStationConfigEntry 13 }

dot11EHTLinkReconfigurationOperationActivated OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-write
STATUS current
DESCRIPTION
    "This is a control variable.
    It is written by an external management entity or the SME. Changes take
    effect as soon as practical in the implementation.

    This attribute, when true, indicates support by the MLD for ML reconfigu-
    ration operations for adding and deleting link(s) to the ML setup of a
    non-AP MLD without requiring reassociation. If the attribute is false, the
    MLD does not support ML reconfiguration operations for adding and deleting
    link(s) to the ML setup of a non-AP MLD without re-quiring reassociation."
DEFVAL { false }
::= { dot11EHTSStationConfigEntry 14 }

dot11MultiLinkTrafficIndicationActivated OBJECT-TYPE
```

```
SYNTAX TruthValue
MAX-ACCESS read-write
STATUS current DESCRIPTION
    "This is a control variable.
    It is written by an external management entity or the SME. Changes take
    effect as soon as practical in the implementation.

    This attribute, when true, indicates that the AP affiliated with an AP MLD
    includes a Multi-Link Traffic Indication element in the Beacon frames that
    it transmits. If the attribute is false, the AP does not include the
    Multi-Link Traffic Indication element in the Beacon frames that it trans-
    mits."
DEFVAL { false }
    ::= { dotllEHTStationConfigEntry 15 }

dotllNSTRStatusUpdateImplemented OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    This attribute, when true, indicates that the station implementation is
    capable of supporting NSTR status update operation."
DEFVAL { false }
    ::= { dotllEHTStationConfigEntry 16 }

dotllEHTEPCSPriorityAccessParamUnsolicitedModeSupport OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-write
STATUS current
DESCRIPTION
    "This is a control variable.
    It is written by an external management entity or the SME. Changes take
    effect as soon as practical in the implementation.

    This attribute, when true, indicates the ability of the MLD that supports
    the EPCS priority access capability to also support the unsolicited mode
    of updating the EPCS priority access parameters. If the attribute is
    false, the MLD does not support unsolicited mode of updating the EPCS pri-
    ority access parameters."
DEFVAL { false }
    ::= { dotllEHTStationConfigEntry 17 }

dotllEHTMLSREnablementOnOneLinkImplemented OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    This attribute, when true, indicates that the station implementation is
    capable of enabling EMLSR operation when a single bit position of the
    EMLSR Link Bitmap subfield of the EML Control field of the EML Operating
    Mode Notification frame is set to 1."
DEFVAL { false }
    ::= { dotllEHTStationConfigEntry 18 }

dotllEHTBTMMLDRecommendationForMultipleAPsImplemented OBJECT-TYPE
```

```
SYNTAX TruthValue
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
     Its value is determined by device capabilities.

     This attribute, when true, indicates that the station implementation is
     capable of receiving a BTM Request frame with a Neighbor Report element
     with a Basic Multi-Link element that includes one or more Per STA Profile
     subelement(s) providing recommended links for an AP MLD."
DEFVAL { false }
::= { dot11EHTStationConfigEntry 19 }

-- ************************************************************
-- * End of dot11EHTStationConfig TABLE
-- *************************************************************

-- ************************************************************
-- * dot11EHTPPEThresholdsTable TABLE
-- *************************************************************

dot11EHTPPEThresholdsMappingsTable OBJECT-TYPE
SYNTAX SEQUENCE OF Dot11EHTPPEThresholdsMappingsEntry
MAX-ACCESS not-accessible
STATUS current
DESCRIPTION
    "A conceptual table for EHT PPE thresholds mappings, that determines the
     nominal packet padding value as a function of the two PPE thresholds,
     PPET8 and PPETmax, for an EHT PPDU of a particular RU allocation size and
     NSS value. The MIB supports the ability to share separate PPE thresholds
     for each NSS/RU pair. The thresholds mappings table contains one entry for
     each NSS/RU pair and contains two fields for each entry: PPET8 and
     PPETmax."
REFERENCE "IEEE Std 802.11-2024, 35.13"
::= { dot11smt 47 }

dot11EHTPPEThresholdsMappingsEntry OBJECT-TYPE
SYNTAX Dot11EHTPPEThresholdsMappingsEntry
MAX-ACCESS not-accessible
STATUS current
DESCRIPTION
    "An Entry (conceptual row) in the EHT PPE Thresholds Mappings Table.

     ifIndex - Each IEEE Std 802.11 interface is represented by an ifEntry.
     Interface tables in this MIB module are indexed by ifIndex."
INDEX { ifIndex, dot11EHTPPEThresholdsMappingIndex }
::= { dot11EHTPPEThresholdsMappingsTable 1 }

Dot11EHTPPEThresholdsMappingsEntry ::= 
SEQUENCE {
    dot11EHTPPEThresholdsMappingIndex      Unsigned32,
    dot11EHTPPEThresholdsMappingNSS        Unsigned32,
    dot11EHTPPEThresholdsMappingRUIndex    Unsigned32,
    dot11EHTPPEThresholdsMappingPPET8      INTEGER,
    dot11EHTPPEThresholdsMappingPPETmax    INTEGER,
    dot11EHTPPEThresholdsMappingStatus    RowStatus
}

dot11EHTPPEThresholdsMappingIndex OBJECT-TYPE
SYNTAX Unsigned32
```

## IEEE Standard for Information Technology—Local and Metropolitan Area Networks—Specific Requirements Part 11: Wireless LAN MAC and PHY Specifications

Amendment 2: Enhancements for Extremely High Throughput (EHT)

```
MAX-ACCESS not-accessible
   STATUS current
   DESCRIPTION
      "The auxiliary variable used to identify instances of the columnar objects 
      in the EHT PPE Thresholds Mappings Table."
   ::= { dot11EHTPPEThresholdsMappingsEntry 1 }
dot11EHTPPEThresholdsMappingNSS OBJECT-TYPE
   SYNTAX Unsigned32
   MAX-ACCESS read-create
   STATUS current
   DESCRIPTION
      "The NSS value portion of the NSS/RU pair for which the values from this 
      Thresholds mapping entry are to be used."
   ::= { dot11EHTPPEThresholdsMappingsEntry 2 }
dot11EHTPPEThresholdsMappingRUIndex OBJECT-TYPE
   SYNTAX Unsigned32
   MAX-ACCESS read-create
   STATUS current
   DESCRIPTION
      "The index of the RU value portion of the NSS/RU pair for which the values 
      from this thresholds mapping entry are to be used. The index values map to 
      an RU as follows: RU Index of 0 is 242 tones, 1 is 484 tones, 2 is 484+242/
      996 tones, 3 is 996+484/996+484+242/2x996 tones, 4 is 2x996+484/3x996/
      3x996+484/4x996."
   ::= { dot11EHTPPEThresholdsMappingsEntry 3 }
dot11EHTPPEThresholdsMappingPPET8 OBJECT-TYPE
   SYNTAX INTEGER{BPSK(0), QPSK(1), 16-QAM(2), 64-QAM(3), 256-QAM(4), 1024-
      QAM(5), 4096-QAM(6), NONE(7)}
   MAX-ACCESS read-create
   STATUS current
   DESCRIPTION
      "An index that determines a constellation value at or above which a nomi-
      nal packet padding value of at least 8 microseconds is required for the 
      given NSS/RU pair corresponding to the row of the entry."
   ::= { dot11EHTPPEThresholdsMappingsEntry 4 }
dot11EHTPPEThresholdsMappingPPETmax OBJECT-TYPE
   SYNTAX INTEGER{BPSK(0), QPSK(1), 16-QAM(2), 64-QAM(3), 256-QAM(4), 1024-
      QAM(5), 4096-QAM(6), NONE(7)}
   MAX-ACCESS read-create
   STATUS current
   DESCRIPTION
      "An index that determines a constellation value at or above which a nomi-
      nal packet padding value of 16 microseconds or 20 microseconds is required 
      for the given NSS/RU pair corresponding to the row of the entry."
   ::= { dot11EHTPPEThresholdsMappingsEntry 5 }
dot11EHTPPEThresholdsMappingStatus OBJECT-TYPE
   SYNTAX RowStatus
   MAX-ACCESS read-create
   STATUS current
   DESCRIPTION
      "The status column used for creating, modifying, and deleting instances of 
      the columnar objects in the EHT PPE thresholds mapping table."
   DEFVAL { active }
   ::= { dot11EHTPPEThresholdsMappingsEntry 6 }
-- **********************************************************************
-- * End of dot11EHTPPEThresholdsTable TABLE
-- **********************************************************************
```

**Change dot11PHYType as follows:**

```
dot11PHYType OBJECT-TYPE
    SYNTAX INTEGER {
        dsss(2),
        ofdm(4),
        hrdsess(5),
        erp(6),
        ht(7),
        dmg(8),
        vht(9),
        tvht(10),
        slg(11),
        cdmg(12),
        cmmg(13),
        he(14),
        edmg(15),
        ngv(17),
        eht(18)
    }
    MAX-ACCESS read-only
    STATUS current
    DESCRIPTION
        "This is a status variable.
        It is written by the PHY.

        This is an 8-bit integer value that identifies the PHY type supported by
        the attached PLCP and PMD. Currently defined values and their corresponding
        PHY types are:
        DSSS 2.4 GHz = 2, OFDM = 4, HRDSSS = 5, ERP = 6, HT = 7, DMG = 8, VHT = 9,
        TVHT = 10, SIG = 11, CDMG = 12, CMMG = 13, HE = 14, EDMG = 15, NGV = 17,
        EHT = 18."
    ::= { dot11PhyOperationEntry 1 }
```

**Insert the following after the dot11 PHY CMMG Table:**

```
-- *****************************  
-- * dot11 Phy EHT TABLE  
-- *****************************  
  
dot11PhyEHTTable OBJECT-TYPE
    SYNTAX SEQUENCE OF Dot11PhyEHTEntry
    MAX-ACCESS not-accessible
    STATUS current
    DESCRIPTION
        "Entry of attributes for Dot11PhyEHTTable. Implemented as a table indexed
        on ifIndex to allow for multiple instances on an Agent."
    ::= { dot11phy 35 }

dot11PhyEHTEntry OBJECT-TYPE
    SYNTAX Dot11PhyEHTEntry
    MAX-ACCESS not-accessible
    STATUS current
    DESCRIPTION
        "An entry in dot11PhyEHTEntryTable. ifIndex - Each IEEE Std 802.11
        interface is represented by an ifEntry. Interface tables in this MIB
        module are indexed by ifIndex."
    INDEX { ifIndex }
    ::= { dot11PhyEHTTable 1 }

Dot11PhyEHTEntry ::=  
    SEQUENCE {
```

IEEE Std 802.11be-2024  
IEEE Standard for Information Technology—Local and Metropolitan Area Networks—Specific Requirements  
Part 11: Wireless LAN MAC and PHY Specifications  
Amendment 2: Enhancements for Extremely High Throughput (EHT)

```
dot11EHTCurrentChannelWidth INTEGER,  
dot11EHTSupportFor320MHzImplemented TruthValue,  
dot11EHTNonOFDMAULMUMIMOEqualto80Implemented TruthValue,  
dot11EHTNonOFDMAULMUMIMOEqualto160Implemented TruthValue,  
dot11EHTNonOFDMAULMUMIMOEqualto320Implemented TruthValue,  
dot11EHTPartialBWULMUMIMOImplemented TruthValue,  
dot11EHTMUPPDWwith4xEHTLTfand0point8usecGIImplemented TruthValue,  
dot11EHTFSBased8SImplemented TruthValue,  
dot11EHTPowerBasedFactorImplemented TruthValue,  
dot11EHTTx1024QAMand4096QAMLessThan242ToneRUImplemented TruthValue,  
dot11EHTRx1024QAMand4096QAMLessThan242ToneRUImplemented TruthValue,  
dot11EHTExtraLTFSImplemented TruthValue,  
dot11EHTMaxNumberoFSupported8EHTLTFSForSU INTEGER,  
dot11EHTMaxNumberoFSupported8EHTLTFSForMUandNDP INTEGER,  
dot11EHTMCS15For52p26and106p26MRUImplemented TruthValue,  
dot11EHTMCS15For48p242MRUImplemented TruthValue,  
dot11EHTMCS15For996p48and996p48p242MRUImplemented TruthValue,  
dot11EHTMCS15For3x996MRUImplemented TruthValue,  
dot11EHTDUPImplemented TruthValue,  
dot11EHTSupportFor242ToneRUInBWwiderThan20Implemented TruthValue,  
dot11EHT20MHzOperatingSTARxNDPwithWiderBWImplemented TruthValue,  
dot11MSOFMEDthreshold Unsigned32,  
dot11EHTCurrentChannelCenterFrequencyIndex0 Unsigned32,  
dot11EHTSupportedEhtMCsAndNsSet20MHzOnlyStaImplemented OCTET STRING,  
dot11EHTSupportedEhtMCsAndNsSetImplemented OCTET STRING,  
dot11EHTDisabledSubchannelBitmap Unsigned32,  
dot11EHT20MHzOnlyLimitedCapabilitiesSupportImplemented TruthValue  
}  
  
dot11EHTCurrentChannelWidth OBJECT-TYPE  
SYNTAX INTEGER { cbw20(0), cbw40(1), cbw80(2), cbw160(3), cbw320-1(4),  
cbw320-1(5) }  
MAX-ACCESS read-only  
STATUS current  
DESCRIPTION  
"This is a status variable.  
It is written by the PHY."  
  
This attribute specifies the operating channel width for EHT."  
DEFVAL { 0 }  
:: { dot11PhyEHTEntry 1 }  
  
dot11EHTSupportFor320MHzImplemented OBJECT-TYPE  
SYNTAX TruthValue  
MAX-ACCESS read-only  
STATUS current  
DESCRIPTION  
"This is a capability variable.  
Its value is determined by device capabilities."  
  
This attribute, when true, indicates that the STA is capable of transmitting and receiving 320 MHz PDUs when operating in the 6 GHz frequency band.  
This capability is disabled otherwise."  
DEFVAL { false }  
:: { dot11PhyEHTEntry 2 }  
  
dot11EHTNonOFDMAULMUMIMOEqualto80Implemented OBJECT-TYPE  
SYNTAX TruthValue
```

MAX-ACCESS read-only

STATUS current

DESCRIPTION

"This is a capability variable.

Its value is determined by device capabilities.

In an AP, this attribute, when true, indicates that the AP is capable of receiving non-OFDMA UL MU-MIMO in an EHT TB PPDU of bandwidth equal to any one of 20, 40 or 80 MHz.

Reserved for a non-AP STA.

This capability is disabled otherwise."

DEFVAL { false }

::= { dot11PhyEHTEntry 3 }

dot11EHTNonOFDMAULMUMIMOEqualto160Implemented OBJECT-TYPE

SYNTAX TruthValue

MAX-ACCESS read-only

STATUS current

DESCRIPTION

"This is a capability variable.

Its value is determined by device capabilities.

In an AP, this attribute, when true, indicates that the AP is capable of receiving non-OFDMA UL MU-MIMO in an EHT TB PPDU of bandwidth 160 MHz.

Reserved for a non-AP STA.

This capability is disabled otherwise."

DEFVAL { false }

::= { dot11PhyEHTEntry 4 }

dot11EHTNonOFDMAULMUMIMOEqualto320Implemented OBJECT-TYPE

SYNTAX TruthValue

MAX-ACCESS read-only

STATUS current

DESCRIPTION

"This is a capability variable.

Its value is determined by device capabilities.

In an AP, this attribute, when true, indicates that the AP is capable of receiving non-OFDMA UL MU-MIMO in an EHT TB PPDU of bandwidth 320 MHz.

Reserved for a non-AP STA.

This capability is disabled otherwise."

DEFVAL { false }

::= { dot11PhyEHTEntry 5 }

dot11EHTPartialBWULMUMIMOImplemented OBJECT-TYPE

SYNTAX TruthValue

MAX-ACCESS read-only

STATUS current

DESCRIPTION

"This is a capability variable.

Its value is determined by device capabilities.

This attribute, when true for an AP implementation, indicates that the AP is capable of receiving EHT TB PPUs in which MU-MIMO is employed in an RU or MRU, and that RU or MRU does not span the entire nonpunctured portion of the PPDU bandwidth.

This attribute, when true for a non-AP STA implementation, indicates that the non-AP STA is capable of transmitting an EHT TB PPDU in which MU-MIMO is employed in the RU or MRU assigned to the non-AP STA, and that RU or MRU does not span the entire nonpunctured portion of the PPDU bandwidth.

This capability is disabled otherwise."

DEFVAL { false }

::= { dot11PhyEHTEntry 6 }

```
dot11EHTMUPPDUwith4xEHTLTFand0point8usecGIImplemented OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    This attribute, when true, indicates that the STA is capable of receiving
    EHT MU PPDU using 4x EHT-LTF and 0.8 microseconds guard interval duration.
    This capability is disabled otherwise."
DEFVAL { false }
::= { dot11PhyEHTEntry 7 }

dot11EHTPSRBasedSRImplemented OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    This attribute, when true, indicates that the STA is capable of supporting
    the EHT PSR-based SR operation.
    This capability is disabled otherwise."
DEFVAL { false }
::= { dot11PhyEHTEntry 8 }

dot11EHTPowerBoostFactorImplemented OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    This attribute, when true, indicates that the non-AP STA is capable of
    receiving EHT MU PPDU with RUs having a power boost factor in the range
    [0.5, 2].
    This capability is disabled otherwise, in which case the non-AP STA is
    capable of receiving EHT MU PPDU with RUs having a power boost factor in
    the range [1/sqrt(2), sqrt(2)]."
DEFVAL { false }
::= { dot11PhyEHTEntry 9 }

dot11EHTTx1024QAMand4096QAMLessThan242ToneRUImplemented OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    In a non-AP STA, this attribute, when true, indicates that the support for
    transmitting EHT TB PPDU using 1024-QAM and 4096-QAM in a 26, 52, and
    106-tone RU as well as 52+26 and 106+26-tone MRU by the non-AP STA is
    the same as indicated in the Tx EHT-MCS Map ( $\le 80$  MHz) subfield in the EHT PHY
    Capabilities Information field in the EHT Capabilities element.
    This capability is disabled otherwise, in which case the non-AP STA does
    not support transmitting EHT TB PPDU using 1024-QAM and 4096-QAM in a 26,
    52, and 106-tone RU as well as 52+26 and 106+26-tone MRU regardless of the
    indication in the Tx EHT-MCS Map ( $\le 80$  MHz) subfield in the EHT PHY
    Capabilities Information field in the EHT Capabilities element."
```

```
Reserved for an AP."  
DEFVAL { false }  
::= { dot11PhyEHTEntry 10 }  
  
dot11EHTRx1024QAMand4096QAMLessThan242ToneRUImplemented OBJECT-TYPE  
SYNTAX TruthValue  
MAX-ACCESS read-only  
STATUS current  
DESCRIPTION  
"This is a capability variable.  
Its value is determined by device capabilities.  
  
This attribute, when true, indicates that the support for receiving EHT MU  
PPDUs using 1024-QAM and 4096-QAM in a 26, 52, and 106-tone RU as well as  
52+26 and 106+26-tone MRU by the non-AP STA is the same as indicated in  
the Rx EHT-MCS Map (≤ 80 MHz) subfield in the EHT PHY Capabilities Infor-  
mation field in the EHT Capabilities element.  
This capability is disabled otherwise, in which case the non-AP STA does  
not support receiving EHT MU PPDUs using 1024-QAM and 4096-QAM in a 26,  
52, and 106-tone RU as well as 52+26 and 106+26-tone MRU regardless of the  
indication in the Rx EHT-MCS Map (≤ 80 MHz) subfield in the EHT PHY Capa-  
bilities Information field in the EHT Capabilities element."  
DEFVAL { false }  
::= { dot11PhyEHTEntry 11 }  
  
dot11EHTExtraLTFSImplemented OBJECT-TYPE  
SYNTAX TruthValue  
MAX-ACCESS read-only  
STATUS current  
DESCRIPTION  
"This is a capability variable.  
Its value is determined by device capabilities.  
  
This attribute, when true, indicates that the STA is capable of receiving  
EHT non-OFDMA transmissions using extra EHT-LTF symbols.  
This capability is disabled otherwise."  
DEFVAL { false }  
::= { dot11PhyEHTEntry 12 }  
  
dot11EHTMaxNumberOfSupportedEHTLTFSForSU OBJECT-TYPE  
SYNTAX INTEGER { 4(0), 8(1) }  
MAX-ACCESS read-only  
STATUS current  
DESCRIPTION  
"This is a capability variable.  
Its value is determined by device capabilities.  
  
This attribute indicates the maximum number of EHT-LTF symbols supported  
by the STA when receiving an EHT SU transmission."  
DEFVAL { 0 }  
::= { dot11PhyEHTEntry 13 }  
  
dot11EHTMaxNumberOfSupportedEHTLTFSForMUandNDP OBJECT-TYPE  
SYNTAX INTEGER { 4(0), 8(1) }  
MAX-ACCESS read-only  
STATUS current  
DESCRIPTION  
"This is a capability variable.  
Its value is determined by device capabilities.  
  
This attribute indicates the maximum number of EHT-LTF symbols supported  
by the STA for transmissions to multiple users and for an EHT sounding  
NDP."  
DEFVAL { 0 }
```

```
 ::= { dot11PhyEHTEntry 14 }

dot11EHTMCS15For52p26and106p26MRUIImplemented OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    This attribute, when true, indicates that the STA supports EHT-MCS 15 in
    52+26-tone and 106+26-tone MRUs.
    This capability is disabled otherwise."
DEFVAL { false }
 ::= { dot11PhyEHTEntry 15 }

dot11EHTMCS15For484p242MRUIImplemented OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    This attribute, when true, indicates that the STA supports EHT-MCS 15 in a
    484+242-tone MRU.
    This capability is disabled otherwise."
DEFVAL { false }
 ::= { dot11PhyEHTEntry 16 }

dot11EHTMCS15For996p484and996p484p242MRUIImplemented OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    This attribute, when true, indicates that the STA supports EHT-MCS 15 in
    996+484-tone and 996+484+242-tone MRUs.
    This capability is disabled otherwise."
DEFVAL { false }
 ::= { dot11PhyEHTEntry 17 }

dot11EHTMCS15For3x996MRUIImplemented OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    This attribute, when true, indicates that the STA supports EHT-MCS 15 in a
    3x996-tone MRU.
    This capability is disabled otherwise."
DEFVAL { false }
 ::= { dot11PhyEHTEntry 18 }

dot11EHTDupImplemented OBJECT-TYPE
SYNTAX TruthValue
```

```
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    This attribute, when true, indicates that the STA supports EHT DUP in 6
    GHz.
    This capability is disabled otherwise."
DEFVAL { false }
    ::= { dot11PhyEHTEntry 19 }

dot11EHTSupportFor242ToneRUInBWWiderThan20Implemented OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    In a non-AP STA, this attribute, when true, indicates that the non-AP STA
    is capable of receiving a 242-tone RU in a PPDU with a bandwidth larger
    than 20 MHz.
    This capability is disabled in a non-AP STA otherwise.
    Reserved for an AP."
DEFVAL { false }
    ::= { dot11PhyEHTEntry 20 }

dot11EHT20MHzOperatingSTARxNDPwithWiderBWImplemented OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    This attribute, when true, indicates that the STA is capable of receiving
    an EHT sounding NDP with a PPDU bandwidth equal to any one of 40, 80 or 160
    MHz.
    This capability is disabled otherwise."
DEFVAL { false }
    ::= { dot11PhyEHTEntry 21 }

dot11MSDOFDMEDThreshold OBJECT-TYPE
SYNTAX Integer32(-72..-62)
MAX-ACCESS read-write
STATUS current
DESCRIPTION
    "This is a control variable.
    Its value is written by an external management entity or the MAC of a non-
    AP EHT STA upon receiving a Basic Multi-Link element containing a medium
    synchronization OFDM ED threshold from the EHT AP with which it is associ-
    ated.

    Changes take effect as soon as practical in the implementation. This
    attribute indicates the energy detect threshold being used by the OFDM PHY
    when the MediumSyncDelay timer of the MAC has nonzero value."
DEFVAL { -72 }
    ::= { dot11PhyEHTEntry 22 }

dot11EHTCurrentCenterFrequencyIndex0 OBJECT-TYPE
SYNTAX Unsigned32(0..255)
```

```
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a status variable.
    It is written by the PHY.

    This attribute specifies the channel center frequency for a 20 MHz, 40
    MHz, 80 MHz, 160 MHz or 320 MHz channel."
DEFVAL { 0 }
::= { dot11PhyEHTEntry 23 }

dot11EHTSupportedEhtMcsAndNssSet20MhzOnlyStaImplemented OBJECT-TYPE
SYNTAX OCTET STRING (SIZE (4))
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    For a 20 MHz-only non-AP STA, this attribute indicates the implemented EHT
    MCSs and NSSs. The encoding is the same as the EHT-MCS Map (20 MHz-Only
    Non-AP STA) field when present in the Supported EHT-MCS and NSS Set field
    in the EHT Capabilities element.

    Reserved for a STA that is not a 20 MHz-only non-AP STA."
::= { dot11PhyEHTEntry 24 }

dot11EHTSupportedEhtMcsAndNssSetImplemented OBJECT-TYPE
SYNTAX OCTET STRING (SIZE (9))
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    For a STA that is not a 20 MHz-only non-AP STA, this attribute indicates
    the implemented EHT MCSs and NSSs. The encoding is the same as the EHT-MCS
    Map (BW  $\le$  80 MHz, Except 20 MHz-Only Non-AP STA) field when present fol-
    lowed by the EHT-MCS Map (BW = 160 MHz) field when present followed by the
    EHT-MCS Map (BW = 320 MHz) field when present in the Supported EHT-MCS and
    NSS Set field in the EHT Capabilities element.

    Reserved for a 20 MHz-only non-AP STA."
::= { dot11PhyEHTEntry 25 }

dot11EHTDisabledSubchannelBitmap OBJECT-TYPE
SYNTAX Unsigned32 (0..65535)
MAX-ACCESS read-write
STATUS current
DESCRIPTION
    "This is a status variable.
    It is written by the PHY.

    This attribute indicates the Disabled Subchannel Bitmap subfield that is a
    16-bit bitmap where the lowest numbered bit corresponds to the 20 MHz sub-
    channel that lies within the BSS bandwidth and that has the lowest fre-
    quency of the set of all 20 MHz subchannels within the BSS bandwidth. Each
    successive bit in the bitmap corresponds to the next higher frequency 20
    MHz subchannel. A bit in the bitmap is set to 1 to indicate the corre-
    sponding 20 MHz subchannel is punctured and set to 0 to indicate the cor-
    responding 20 MHz subchannel is not punctured."
DEFVAL { 0 }
::= { dot11PhyEHTEntry 26 }

dot11EHT20MhzOnlyLimitedCapabilitiesSupportedImplemented OBJECT-TYPE
SYNTAX TruthValue
```

```
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    This attribute, when true, indicates that the STA is capable of 20 MHz
    bandwidth and announcing whether it implements multiple RUs, DL/UL MU-
    MIMO, beamformee, triggered MU beamforming full bandwidth feedback. This
    capability is disabled otherwise."
DEFVAL { false }
::= { dot11PhyEHTEntry 27 }
```

```
-- *************************
-- * End of dot11 Phy EHT TABLE
-- *************************

-- *************************
-- * dot11 EHT Transmit Beamforming Config TABLE
-- *************************
```

```
dot11EHTTransmitBeamformingConfigTable OBJECT-TYPE
SYNTAX SEQUENCE OF Dot11EHTTransmitBeamformingConfigEntry
MAX-ACCESS not-accessible
STATUS current
DESCRIPTION
    "Entry of attributes for Dot11EHTTransmitBeamformingConfigTable. Imple-
    mented as a table indexed on ifIndex to allow for multiple instances on an
    Agent."
::= { dot11phy 36 }
```

```
dot11EHTTransmitBeamformingConfigEntry OBJECT-TYPE
SYNTAX Dot11EHTTransmitBeamformingConfigEntry
MAX-ACCESS not-accessible
STATUS current
DESCRIPTION
    "An entry in Dot11EHTTransmitBeamformingConfigTable.

    ifIndex - Each IEEE Std 802.11 interface is represented by an ifEntry.
    Interface tables in this MIB module are indexed by ifIndex."
INDEX { ifIndex }
::= { dot11EHTTransmitBeamformingConfigTable 1 }
```

```
Dot11EHTTransmitBeamformingConfigEntry ::= 
SEQUENCE {
    dot11EHTSUBeamformerImplemented TruthValue,
    dot11EHTSUBeamformeeImplemented TruthValue,
    dot11EHTMUBeamformerLessThanOrEqualTo80Implemented TruthValue,
    dot11EHTMUBeamformerEqualTo160Implemented TruthValue,
    dot11EHTMUBeamformerEqualTo320Implemented TruthValue,
    dot11EHTPartialBWDLMUMIOImplemented TruthValue,
    dot11EHTTriggeredSUBeamformingFeedbackImplemented TruthValue,
    dot11EHTTriggeredMUBeamformingPartialBWFFeedbackImplemented TruthValue,
    dot11EHTTriggeredCQIFeedbackImplemented TruthValue,
    dot11EHTNonTriggeredCQIFeedbackImplemented TruthValue,
    dot11EHTBeamformeeSSLessThanOrEqualTo80 Unsigned32,
    dot11EHTBeamformeeSSEqualTo160 Unsigned32,
    dot11EHTBeamformeeSSEqualTo320 Unsigned32,
    dot11EHTNumberSoundingDimensionsLessThanOrEqualTo80 Unsigned32,
    dot11EHTNumberSoundingDimensionsEqualTo160 Unsigned32,
    dot11EHTNumberSoundingDimensionsEqualTo320 Unsigned32,
    dot11EHTNG16SUFFeedbackImplemented TruthValue,
    dot11EHTNG16MUFeedbackImplemented TruthValue,
    dot11EHTCodebookSizePhi4Psi2SUFeedbackImplemented TruthValue,
```

```
dot11EHTCodebookSizePhi7Psi5MUFeedbackImplemented TruthValue,
dot11EHTMaxNc Unsigned32,
dot11EHTNDPwith4xEHTLTFand3point2GIImplemented TruthValue
}

dot11EHTSUBeamformerImplemented OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    This attribute, when true, indicates that operation as an SU beamformer is
    supported.
    This capability is disabled otherwise."
DEFVAL { false }
::= { dot11EHTTransmitBeamformingConfigEntry 1 }

dot11EHTSUBeamformeeImplemented OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    In an AP, this attribute, when true, indicates that operation as an SU
    beamformee is supported in the AP.
    This capability is disabled in an AP otherwise.
    Set to true for a non-AP STA."
DEFVAL { false }
::= { dot11EHTTransmitBeamformingConfigEntry 2 }

dot11EHTMUBeamformerLessThanOrEqualTo80Implemented OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    In an AP, this attribute, when true, indicates that the AP supports non-
    OFDMA DL MU-MIMO transmission and the required MU sounding for PPDU band-
    widths equal to any one of 20, 40 or 80 MHz.
    This capability is disabled in an AP otherwise.
    Reserved for a non-AP STA."
DEFVAL { false }
::= { dot11EHTTransmitBeamformingConfigEntry 3 }

dot11EHTMUBeamformerEqualTo160Implemented OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    In an AP, this attribute, when true, indicates that the AP supports non-
    OFDMA DL MU-MIMO transmission and the required MU sounding for PPDU band-
    width equal to 160 MHz.
    This capability is disabled in an AP otherwise.
    Reserved for a non-AP STA."
DEFVAL { false }
```

```
 ::= { dot11EHTTransmitBeamformingConfigEntry 4 }

dot11EHTMUBeamformerEqualTo320Implemented OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    In an AP, this attribute, when true, indicates that the AP supports non-
    OFDMA DL MU-MIMO transmission and the required MU sounding for PPDU band-
    width equal to 320 MHz.
    This capability is disabled in an AP otherwise.
    Reserved for a non-AP STA."
DEFVAL { false }
 ::= { dot11EHTTransmitBeamformingConfigEntry 5 }

dot11EHTPartialBWDLMUMIMOImplemented OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    In a non-AP STA, this attribute, when true, indicates that the non-AP STA
    supports receiving DL MU-MIMO on an RU or MRU in an EHT MU PPDU where the
    RU or MRU does not span the entire PPDU bandwidth.
    This capability is disabled in a non-AP STA otherwise.
    Reserved for an AP."
DEFVAL { false }
 ::= { dot11EHTTransmitBeamformingConfigEntry 6 }

dot11EHTTriggeredSUBeamformingFeedbackImplemented OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    This attribute, when true for an AP implementation, indicates that the AP
    supports receiving partial and full bandwidth SU feedback in an EHT TB
    sounding sequence.
    This attribute, when true for a non-AP STA implementation, indicates that
    the non-AP STA supports transmitting partial and full bandwidth SU feed-
    back in an EHT TB sounding sequence.
    This capability is disabled otherwise."
DEFVAL { false }
 ::= { dot11EHTTransmitBeamformingConfigEntry 7 }

dot11EHTTriggeredMUBeamformingPartialBWFFeedbackImplemented OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    This attribute, when true for an AP implementation, indicates that the AP
    supports receiving partial bandwidth MU feedback in an EHT TB sounding
    sequence.
    This attribute, when true for a non-AP STA implementation, indicates that
```

```
the non-AP STA supports transmitting partial bandwidth MU feedback in an
EHT TB sounding sequence.
This capability is disabled otherwise."
DEFVAL { false }
::= { dot11EHTTransmitBeamformingConfigEntry 8 }

dot11EHTTriggeredCQIFeedbackImplemented OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-only
STATUS current
DESCRIPTION
"This is a capability variable.
Its value is determined by device capabilities.

This attribute, when true for an AP implementation, indicates that the AP
supports receiving partial bandwidth CQI feedback in an EHT TB sounding
sequence.
This attribute, when true for a non-AP STA implementation, indicates that
the non-AP STA supports transmitting partial bandwidth CQI feedback in an
EHT TB sounding sequence.
This capability is disabled otherwise."
DEFVAL { false }
::= { dot11EHTTransmitBeamformingConfigEntry 9 }

dot11EHTNonTriggeredCQIFeedbackImplemented OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-only
STATUS current
DESCRIPTION
"This is a capability variable.
Its value is determined by device capabilities.

This attribute, when true for an AP implementation, indicates that the AP
supports receiving full bandwidth CQI feedback in an EHT non-TB sounding
sequence.
This attribute, when true for a non-AP STA implementation, indicates that
the non-AP STA supports transmitting full bandwidth CQI feedback in an EHT
non-TB sounding sequence.
This capability is disabled otherwise."
DEFVAL { false }
::= { dot11EHTTransmitBeamformingConfigEntry 10 }

dot11EHTBeamformeeSSLessThanOrEqualTo80 OBJECT-TYPE
SYNTAX Unsigned32 (4..8)
MAX-ACCESS read-only
STATUS current
DESCRIPTION
"This is a capability variable.
Its value is determined by device capabilities.

If dot11EHTSUBeamformeeImplemented is true, this attribute indicates the
maximum number of spatial streams that the STA can receive in an EHT
sounding NDP of bandwidth equal to any one of 20, 40 or 80 MHz. This
attribute also indicates the maximum total number of spatial streams over
all users that can be sent in a DL MU-MIMO transmission in an EHT MU PPDU
of bandwidth equal to any one of 20, 40 or 80 MHz, on an RU or MRU that
includes that STA, where the RU or MRU might or might not span the entire
PPDU bandwidth.
Reserved if dot11EHTSUBeamformeeImplemented is false."
DEFVAL { 4 }
::= { dot11EHTTransmitBeamformingConfigEntry 11 }

dot11EHTBeamformeeSSEqualTo160 OBJECT-TYPE
SYNTAX Unsigned32 (4..8)
```

MAX-ACCESS read-only

STATUS current

DESCRIPTION

"This is a capability variable.

Its value is determined by device capabilities.

If dot11EHTSUBeamformeeImplemented is true, this attribute indicates the maximum number of spatial streams that the STA can receive in an EHT sounding NDP of bandwidth equal to 160 MHz. This attribute also indicates the maximum total number of spatial streams over all users that can be sent in a DL MU-MIMO transmission in an EHT MU PPDU of bandwidth equal to 160 MHz, on an RU or MRU that includes that STA, where the RU or MRU might or might not span the entire PPDU bandwidth.

Reserved if dot11EHTSUBeamformeeImplemented is false."

DEFVAL { 4 }

::= { dot11EHTTransmitBeamformingConfigEntry 12 }

dot11EHTBeamformeeSSEqualTo320 OBJECT-TYPE

SYNTAX Unsigned32 (4..8)

MAX-ACCESS read-only

STATUS current

DESCRIPTION

"This is a capability variable.

Its value is determined by device capabilities.

If dot11EHTSUBeamformeeImplemented is true, this attribute indicates the maximum number of spatial streams that the STA can receive in an EHT sounding NDP of bandwidth equal to 320 MHz. This attribute also indicates the maximum total number of spatial streams over all users that can be sent in a DL MU-MIMO transmission in an EHT MU PPDU of bandwidth equal to 320 MHz, on an RU or MRU that includes that STA, where the RU or MRU might or might not span the entire PPDU bandwidth.

Reserved if dot11EHTSUBeamformeeImplemented is false."

DEFVAL { 4 }

::= { dot11EHTTransmitBeamformingConfigEntry 13 }

dot11EHTNumberSoundingDimensionsLessThanOrEqualTo80 OBJECT-TYPE

SYNTAX Unsigned32 (4..8)

MAX-ACCESS read-only

STATUS current

DESCRIPTION

"This is a capability variable.

Its value is determined by device capabilities.

If dot11EHTSUBeamformerImplemented is true, this attribute indicates the maximum number of spatial streams the beamformer can transmit in an EHT sounding NDP with PPDU bandwidth equal to any one of 20, 40 or 80 MHz.

Reserved if dot11EHTSUBeamformerImplemented is false."

DEFVAL { 4 }

::= { dot11EHTTransmitBeamformingConfigEntry 14 }

dot11EHTNumberSoundingDimensionsEqualTo160 OBJECT-TYPE

SYNTAX Unsigned32 (4..8)

MAX-ACCESS read-only

STATUS current

DESCRIPTION

"This is a capability variable.

Its value is determined by device capabilities.

If dot11EHTSUBeamformerImplemented is true, this attribute indicates the maximum number of spatial streams the beamformer can transmit in an EHT sounding NDP with PPDU bandwidth equal to 160 MHz.

Reserved if dot11EHTSUBeamformerImplemented is false."

DEFVAL { 4 }

```
 ::= { dot11EHTTransmitBeamformingConfigEntry 15 }

dot11EHTNumberSoundingDimensionsEqualTo320 OBJECT-TYPE
SYNTAX Unsigned32 (4..8)
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    If dot11EHTSUBeamformerImplemented is true, this attribute indicates the
    maximum number of spatial streams the beamformer can transmit in an EHT
    sounding NDP with PPDU bandwidth equal to 320 MHz.
    Reserved if dot11EHTSUBeamformerImplemented is false."
DEFVAL { 4 }
 ::= { dot11EHTTransmitBeamformingConfigEntry 16 }

dot11EHTNG16SUFFeedbackImplemented OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    This attribute, when true, indicates that the EHT beamformee supports sub-
    carrier grouping of 16 in the EHT Compressed Beamforming Report field for
    SU feedback.
    This capability is disabled otherwise."
DEFVAL { false }
 ::= { dot11EHTTransmitBeamformingConfigEntry 17 }

dot11EHTNG16MUFeedbackImplemented OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    This attribute, when true, indicates that the EHT beamformee supports sub-
    carrier grouping of 16 in the EHT Compressed Beamforming Report field for
    MU feedback.
    This capability is disabled otherwise."
DEFVAL { false }
 ::= { dot11EHTTransmitBeamformingConfigEntry 18 }

dot11EHTCodebookSizePhi4Psi2SUFFeedbackImplemented OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    This attribute, when true, indicates that the EHT beamformee supports
    codebook size (psi, phi) = (4, 2) in the EHT Compressed Beamforming Report
    field for SU feedback.
    This capability is disabled otherwise."
DEFVAL { false }
 ::= { dot11EHTTransmitBeamformingConfigEntry 19 }

dot11EHTCodebookSizePhi7Psi5MUFeedbackImplemented OBJECT-TYPE
SYNTAX TruthValue
```

```
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    This attribute, when true, indicates that the EHT beamformee supports
    codebook size (psi, phi) = (7, 5) in the EHT Compressed Beamforming Report
    field for MU feedback.
    This capability is disabled otherwise."
DEFVAL { false }
::= { dot11EHTTransmitBeamformingConfigEntry 20 }

dot11EHTMaxNC OBJECT-TYPE
SYNTAX Unsigned32 (1..8)
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    If dot11EHTSUBBeamformeeImplemented is true, this attribute indicates the
    maximum number of columns (NC) supported by the EHT beamformee for the EHT
    compressed beamforming/CQI.
    Reserved if dot11EHTSUBBeamformeeImplemented is false."
::= { dot11EHTTransmitBeamformingConfigEntry 21 }

dot11EHTNDPwith4xEHTLTFand2Point2GIImplemented OBJECT-TYPE
SYNTAX TruthValue
MAX-ACCESS read-only
STATUS current
DESCRIPTION
    "This is a capability variable.
    Its value is determined by device capabilities.

    If dot11EHTSUBBeamformeeImplemented is true, this attribute, when true,
    indicates that the EHT beamformee supports receiving an EHT sounding NDP
    using 4x EHT-LTF and 3.2 microseconds guard interval duration.
    If dot11EHTSUBBeamformeeImplemented is true, this capability is disabled
    otherwise.
    Reserved if dot11EHTSUBBeamformeeImplemented is false."
DEFVAL { false }
::= { dot11EHTTransmitBeamformingConfigEntry 22 }

-- ****************************************************************
-- * End of dot11 EHT Transmit Beamforming Config TABLE
-- ****************************************************************
```

### Change a MIB attribute of the dot11STACivicLocationConfig TABLE as follows::

```
-- ****************************************************************
-- * dot11RSNACconfigDLGCgroup TABLE
-- ****************************************************************

dot11RSNACconfigDLGCgroupIdentifier OBJECT-TYPE
SYNTAX Unsigned32 (0..65535)
MAX-ACCESS read-write
STATUS current
DESCRIPTION
    "This is a control variable.
    It is written by an external management entity.
    Changes take effect as soon as practical in the implementation.

    This variable uniquely identifies a domain parameter
```

```
set for a group in the repository maintained by IANA as "Group Description""Transform Type 4 - Key Exchange Method Transform IDs" attributes for  
IETF RFC 2409 (IKE)7296 [B14]+B29+."  
::= { dot11RSNAConfigDLCGroupEntry 2 }
```

```
-- * End of dot11RSNAConfigDLCGroup TABLE  
-- * End of dot11RSNAConfigDLCGroup TABLE
```

**Change Dot11InterworkingEntry as follows (not all lines shown):**

```
-- * dot11Interworking TABLE  
-- * End of dot11Interworking TABLE  
Dot11InterworkingEntry ::=  
SEQUENCE {  
    dot11NonAPStationMacAddress MacAddress,  
    dot11NonAPStationAddtsResultCode INTEGER+,  
    dot11EPCSPriorityAccessAuthorized TruthValue  
}  
-- * End of dot11Interworking TABLE  
-- * End of dot11Interworking TABLE
```

**Insert the following after dot11NonAPStationAddtsResultCode:**

```
dot11EPCSPriorityAccessAuthorized OBJECT-TYPE  
SYNTAX TruthValue  
MAX-ACCESS read-write  
STATUS current  
DESCRIPTION  
    "This is a control variable.  
    It is written by the SME after the AP receives the permissions for the  
    non-AP STA to use the EPCS priority access from the SSPN interface.  
    This attribute, when true, indicates that the non-AP STA is permitted to  
    invoke and use the EPCS priority access capability. If this capability is  
    false, the non-AP STA is not permitted to invoke and use the EPCS priority  
    access capability."  
DEFVAL { false }  
::= { dot11InterworkingEntry 52 }
```

```
-- * End of dot11Interworking TABLE  
-- * End of dot11Interworking TABLE
```

**Insert the following compliance objects after the dot11NGVComplianceGroup object:**

```
dot11EHTComplianceGroup OBJECT-GROUP  
OBJECTS {  
    dot11EHTPPEThresholdsRequired  
}  
STATUS current  
DESCRIPTION  
    "Attributes that configure the EHT Group for IEEE 802.11."  
::= { dot11Groups 120 }
```

```
dot11EHTTransmitBeamformingGroup OBJECT-GROUP  
OBJECTS {
```

```
dot11EHTSUBBeamformerImplemented,  
dot11EHTSUBBeamformeeImplemented,  
dot11EHTMUBeamformerLessThanOrEqualTo80Implemented,  
dot11EHTMUBeamformerEqualTo160Implemented,  
dot11EHTMUBeamformerEqualTo320Implemented,  
dot11EHTPartialBWDLUMIMOImplemented,  
dot11EHTTriggeredSUBBeamformingFeedbackImplemented,  
dot11EHTTriggeredMUBBeamformingPartialBWFeedbackImplemented,  
dot11EHTTriggeredCQIFeedbackImplemented,  
dot11EHTNonTriggeredCQIFeedbackImplemented,  
dot11EHTBeamformeeSSELessThanOrEqualTo80,  
dot11EHTBeamformeeSSEEqualTo160,  
dot11EHTBeamformeeSSEEqualTo320,  
dot11EHTNumberSoundingDimensionsLessThanOrEqualTo80,  
dot11EHTNumberSoundingDimensionsEqualTo160,  
dot11EHTNumberSoundingDimensionsEqualTo320,  
dot11EHTNG16SUFeedbackImplemented,  
dot11EHTNG16MUFeebackImplemented,  
dot11EHTCodebookSizePhi4Psi2SUFeedbackImplemented,  
dot11EHTCodebookSizePhi7Psi5MUFeebackImplemented,  
dot11EHTMaxNC,  
dot11EHTNDPwith4xEHTLTFand3point2GIImplemented  
}  
STATUS current  
DESCRIPTION  
"Attributes that configure EHT transmit beamforming for IEEE 802.11."  
::= { dot11Groups 121 }  
  
dot11PhyEHTComplianceGroup OBJECT-GROUP  
OBJECTS {  
    dot11EHTCurrentChannelWidth,  
    dot11EHTSupportFor320MHzImplemented,  
    dot11EHTNonOFDMAULMUMIMOLessThanOrEqualto80Implemented,  
    dot11EHTNonOFDMAULMUMIMOEqualto160Implemented,  
    dot11EHTNonOFDMAULMUMIMOEqualto320Implemented,  
    dot11EHTPartialBWULMUMIMOImplemented,  
    dot11EHTMUPPDUwith4xEHTLTFand0point8usecGIImplemented,  
    dot11EHTPSRBasedSRImplemented,  
    dot11EHTPowerBoostFactorImplemented,  
    dot11EHTTx1024QAMand4096QAMLessThan242ToneRUImplemented,  
    dot11EHTRx1024QAMand4096QAMLessThan242ToneRUImplemented,  
    dot11EHTExtraLTFsImplemented,  
    dot11EHTMaxNumberOfSupportedEHTLTFsForSU,  
    dot11EHTMaxNumberOfSupportedEHTLTFsForMUandNDP,  
    dot11EHTMCS15For52p26and106p26MRUImplemented,  
    dot11EHTMCS15For48p242MRUImplemented,  
    dot11EHTMCS15For996p48and996p48p242MRUImplemented,  
    dot11EHTMCS15For3x996MRUImplemented,  
    dot11EHTDupImplemented,  
    dot11EHTSupportFor242ToneRUInBWIderThan20Implemented,  
    dot11EHT20MHzOperatingSTARxNDPwithWiderBWImplemented  
}  
STATUS current  
DESCRIPTION  
"Attributes that configure the EHT PHY."  
::= { dot11Groups 122 }
```

*Change the compliance statements (not all lines shown) as follows:*

```
-- ************************************************************
-- * Compliance Statements
-- *************************************************************


dot11Compliance MODULE-COMPLIANCE
STATUS current
DESCRIPTION
    "The compliance statement for SNMPv2 entities that implement the IEEE
    802.11 MIB."
MODULE -- this module
MANDATORY-GROUPS {
    dot11SMTbase16,
    dot11MACbase6,
    dot11CountersGroup6,
    dot11SmtAuthenticationAlgorithms,
    dot11ResourceTypeID,
    dot11PhyOperationComplianceGroup2
    dot11EDMGComplianceGroup
}

GROUP dot11PhyDSSSComplianceGroup
DESCRIPTION
    "Implementation of this group is required when object dot11PHYType is
    dsss.
    This group is mutually exclusive to the following groups:
    dot11PhyOFDMComplianceGroup3
    dot11PhyHRDSSSComplianceGroup
    dot11PhyERPCComplianceGroup
    dot11PhyHTComplianceGroup
    dot11DMGComplianceGroup
    dot11PhyVHTComplianceGroup
    dot11PhyTVHTComplianceGroup
    dot11PhySIGComplianceGroup
    dot11CDMGComplianceGroup1
    dot11CDMGComplianceGroup
    dot11CMGComplianceGroup
    dot11PhyHEComplianceGroup
    dot11EDMGComplianceGroup
    dot11PhyNGVComplianceGroup
    dot11PhyEHTComplianceGroup"

GROUP dot11PhyOFDMComplianceGroup3
DESCRIPTION
    "Implementation of this group is required when object dot11PHYType is
    ofdm.
    This group is mutually exclusive to the following groups:
    dot11PhyDSSSComplianceGroup
    dot11PhyHRDSSSComplianceGroup
    dot11PhyERPCComplianceGroup
    dot11PhyHTComplianceGroup
    dot11DMGComplianceGroup
    dot11PhyVHTComplianceGroup
    dot11PhyTVHTComplianceGroup
    dot11PhySIGComplianceGroup
    dot11CDMGComplianceGroup1
    dot11CDMGComplianceGroup
    dot11CMGComplianceGroup
    dot11PhyHEComplianceGroup
    dot11EDMGComplianceGroup
    dot11PhyNGVComplianceGroup
    dot11PhyEHTComplianceGroup"

GROUP dot11PhyHRDSSSComplianceGroup
DESCRIPTION
```

"Implementation of this group is required when object dot11PHYType is hrdsss.

This group is mutually exclusive to the following groups:

dot11PhyDSSSComplianceGroup  
dot11PhyOFDMComplianceGroup3  
dot11PhyERPCComplianceGroup  
dot11PhyHTComplianceGroup  
dot11DMGComplianceGroup  
dot11PhyVHTComplianceGroup  
dot11PhyTVHTComplianceGroup  
dot11PhyS1GCComplianceGroup  
dot11CDMGComplianceGroup1  
dot11CMMGComplianceGroup  
dot11PhyHEComplianceGroup  
dot11EDMGComplianceGroup  
dot11PhyNGVComplianceGroup  
dot11PhyEHTComplianceGroup"

GROUP dot11PhyERPCComplianceGroup

DESCRIPTION

"Implementation of this group is required when object dot11PHYType is exp.

This group is mutually exclusive to the following groups:

dot11PhyDSSSComplianceGroup  
dot11PhyOFDMComplianceGroup3  
dot11PhyHRDSSSComplianceGroup  
dot11PhyHTComplianceGroup  
dot11DMGComplianceGroup  
dot11PhyVHTComplianceGroup  
dot11PhyTVHTComplianceGroup  
dot11PhyS1GCComplianceGroup  
dot11CDMGComplianceGroup1  
dot11CMMGComplianceGroup  
dot11PhyHEComplianceGroup  
dot11EDMGComplianceGroup  
dot11PhyNGVComplianceGroup  
dot11PhyEHTComplianceGroup"

GROUP dot11PhyHTComplianceGroup

DESCRIPTION

"Implementation of this group is required when object dot11PHYType is ht.

This group is mutually exclusive to the following groups:

dot11PhyDSSSComplianceGroup  
dot11PhyOFDMComplianceGroup3  
dot11PhyHRDSSSComplianceGroup  
dot11PhyERPCComplianceGroup  
dot11DMGComplianceGroup  
dot11PhyVHTComplianceGroup  
dot11PhyTVHTComplianceGroup  
dot11PhyS1GCComplianceGroup  
dot11CDMGComplianceGroup1  
dot11CMMGComplianceGroup  
dot11PhyHEComplianceGroup  
dot11EDMGComplianceGroup  
dot11PhyNGVComplianceGroup  
dot11PhyEHTComplianceGroup"

GROUP dot11PhyVHTComplianceGroup

DESCRIPTION

"Implementation of this group is required when object dot11PHYType is vht.  
This group is mutually exclusive to the following groups:  
dot11PhyDSSSComplianceGroup  
dot11PhyOFDMComplianceGroup3  
dot11PhyHRDSSSComplianceGroup  
dot11PhyERPCComplianceGroup  
dot11DMGComplianceGroup  
dot11PhyHTComplianceGroup  
dot11PhyTVHTComplianceGroup  
dot11PhyS1GComplianceGroup  
dot11CDMGComplianceGroup1  
dot11CMMGComplianceGroup  
dot11PhyHEComplianceGroup  
dot11EDMGComplianceGroup  
dot11PhyNGVComplianceGroup  
dot11PhyEHTComplianceGroup"

GROUP dot11PhyTVHTComplianceGroup  
DESCRIPTION

"Implementation of this group is required when object dot11PHYType is  
tvht.  
This group is mutually exclusive to the following groups:  
dot11PhyDSSSComplianceGroup  
dot11PhyOFDMComplianceGroup3  
dot11PhyHRDSSSComplianceGroup  
dot11PhyERPCComplianceGroup  
dot11PhyHTComplianceGroup  
dot11DMGComplianceGroup  
dot11PhyVHTComplianceGroup  
dot11PhyS1GComplianceGroup  
dot11CDMGComplianceGroup1  
dot11CMMGComplianceGroup  
dot11PhyHEComplianceGroup  
dot11EDMGComplianceGroup  
dot11PhyNGVComplianceGroup  
dot11PhyEHTComplianceGroup"

GROUP dot11PhyS1GComplianceGroup  
DESCRIPTION

"Implementation of this group is required when object dot11PHYType is slg.  
This group is mutually exclusive to the following groups:  
dot11PhyDSSSComplianceGroup  
dot11PhyOFDMComplianceGroup3  
dot11PhyHRDSSSComplianceGroup  
dot11PhyERPCComplianceGroup  
dot11PhyHTComplianceGroup  
dot11DMGComplianceGroup  
dot11PhyVHTComplianceGroup  
dot11PhyTVHTComplianceGroup  
dot11CDMGComplianceGroup1  
dot11CMMGComplianceGroup  
dot11PhyHEComplianceGroup  
dot11PhyNGVComplianceGroup  
dot11PhyEHTComplianceGroup"

GROUP dot11PhyHEComplianceGroup  
DESCRIPTION

"Implementation of this group is required when object dot11PHYType has the value of HE.

This group is mutually exclusive to the following groups:

dot11PhyDSSSComplianceGroup  
dot11PhyOFDMComplianceGroup3  
dot11PhyHRDSSSComplianceGroup  
dot11PhyERPCComplianceGroup  
dot11PhyHTComplianceGroup  
dot11DMGComplianceGroup  
dot11PhyVHTComplianceGroup  
dot11PhyTVHTComplianceGroup  
dot11PhyS1GComplianceGroup  
dot11CDMGComplianceGroup1  
dot11CMMGComplianceGroup  
dot11PhyNGVComplianceGroup  
dot11PhyEHTComplianceGroup"

GROUP dot11PhyNGVComplianceGroup

DESCRIPTION

"Implementation of this group is required when object dot11PHYType has the value of hgv.

This group is mutually exclusive to the following groups:

dot11PhyDSSSComplianceGroup  
dot11PhyOFDMComplianceGroup3  
dot11PhyHRDSSSComplianceGroup  
dot11PhyERPCComplianceGroup  
dot11PhyHTComplianceGroup  
dot11DMGComplianceGroup  
dot11PhyVHTComplianceGroup  
dot11PhyTVHTComplianceGroup  
dot11PhyS1GComplianceGroup  
dot11CDMGComplianceGroup1  
dot11CMMGComplianceGroup  
dot11PhyHEComplianceGroup  
dot11EDMGComplianceGroup  
dot11PhyEHTComplianceGroup"

GROUP dot11EDMGComplianceGroup

DESCRIPTION

"Implementation of this group is required when the object dot11PHYType has the value of EDMG.

This group is mutually exclusive to the following groups:

dot11PhyDSSSComplianceGroup  
dot11PhyOFDMComplianceGroup3  
dot11PhyHRDSSSComplianceGroup  
dot11PhyERPCComplianceGroup  
dot11PhyHTComplianceGroup  
dot11PhyVHTComplianceGroup  
dot11PhyTVHTComplianceGroup  
dot11PhyNGVComplianceGroup  
dot11PhyEHTComplianceGroup"

GROUP dot11DMGComplianceGroup

DESCRIPTION

"Implementation of this group is required when the object dot11PHYType is dmg.

This group is mutually exclusive to the following groups:

dot11PhyDSSSComplianceGroup  
dot11PhyOFDMComplianceGroup3  
dot11PhyHRDSSSComplianceGroup  
dot11PhyERPCComplianceGroup  
dot11PhyHTComplianceGroup  
dot11PhyVHTComplianceGroup  
dot11PhyTVHTComplianceGroup

```
dot11PhySIGComplianceGroup
dot11CDMGCComplianceGroup1
dot11CMMGCComplianceGroup
dot11PhyHEComplianceGroup
dot11PhyNGVComplianceGroup
dot11PhyEHTComplianceGroup"
```

GROUP dot11CDMGCComplianceGroup  
DESCRIPTION

"Implementation of this group is required when the object dot11PHYType has the value of CDMG.  
This group is mutually exclusive to the following groups:  
dot11PhyDSSSComplianceGroup  
dot11PhyOFDMComplianceGroup3  
dot11PhyHRDSSSComplianceGroup  
dot11PhyERPCComplianceGroup  
dot11PhyHTComplianceGroup  
dot11PhyVHTComplianceGroup  
dot11PhyTVHTComplianceGroup  
dot11PhyDMGCComplianceGroup  
dot11PhyCMMGCComplianceGroup  
dot11PhyNGVComplianceGroup  
dot11PhyEHTComplianceGroup"

GROUP dot11CMMGCComplianceGroup  
DESCRIPTION

"Implementation of this group is required when the object dot11PHYType has the value of CMMG.  
This group is mutually exclusive to the following groups:  
dot11PhyDSSSComplianceGroup  
dot11PhyOFDMComplianceGroup3  
dot11PhyHRDSSSComplianceGroup  
dot11PhyERPCComplianceGroup  
dot11PhyHTComplianceGroup  
dot11PhyVHTComplianceGroup  
dot11PhyTVHTComplianceGroup  
dot11PhyDMGCComplianceGroup  
dot11PhyCMMGCComplianceGroup  
dot11PhyNGVComplianceGroup  
dot11PhyEHTComplianceGroup"

GROUP dot11PhyEHTComplianceGroup  
DESCRIPTION

"Implementation of this group is required when object dot11PHYType has the value of EHT.  
This group is mutually exclusive to the following groups:  
dot11PhyDSSSComplianceGroup  
dot11PhyOFDMComplianceGroup3  
dot11PhyHRDSSSComplianceGroup  
dot11PhyERPCComplianceGroup  
dot11PhyHTComplianceGroup  
dot11PhyDMGCComplianceGroup  
dot11PhyVHTComplianceGroup  
dot11PhyTVHTComplianceGroup  
dot11PhySIGComplianceGroup  
dot11CDMGCComplianceGroup1  
dot11CMMGCComplianceGroup  
dot11PhyHEComplianceGroup  
dot11EDMGCComplianceGroup  
dot11PhyNGVComplianceGroup"

*Insert the following after GROUP dot11EBCSCComplianceGroup:*

```
GROUP dot11EHTComplianceGroup
DESCRIPTION
"The dot11EHTComplianceGroup group is optional."
```

**Change OPTIONAL-GROUPS as follows:**

```
-- OPTIONAL-GROUPS {
-- dot11MACStatistics,
-- dot11PhyTxPowerComplianceGroup,
-- dot11PhyRegDomainsSupportGroup,
-- dot11PhyAntennasListGroup,
-- dot11PhyRateGroup,
-- dot11MultiDomainCapabilityGroup,
-- dot11RSNAadditions,
-- dot11OperatingClassesGroup,
-- dot11QoSadditions,
-- dot11RMCompliance,
-- dot11FTComplianceGroup,
-- dot11PhyAntennaComplianceGroup2,
-- dot11HTMACAdditions4,
-- dot11PhyMCSGroup,
-- dot11TransmitBeamformingGroup,
-- dot11VHTTransmitBeamformingGroup,
-- dot11PhyVHTComplianceGroup,
-- dot11SIGTransmitBeamformingGroup,
-- dot11PhySIGComplianceGroup,
-- dot11SIGComplianceGroup,
-- dot11WNMCompliance,
-- dot11BSSStatisticsGroup,
-- dot11VHTTransmitBeamformingGroup,
-- dot11PhyVHTComplianceGroup,
-- dot11VHTMACAdditions,
-- dot11TVWSCComplianceGroup,
-- dot11FILSComplianceGroup,
-- dot11PADComplianceGroup,
-- dot11HETransmitBeamformingGroup,
-- dot11PhyHEComplianceGroup,
-- dot11HEComplianceGroup,
-- dot11WURComplianceGroup,
-- dot11EBCSComplianceGroup,
-- dot11EHTComplianceGroup,
-- dot11EHTTransmitBeamformingGroup,
-- dot11PhyEHTComplianceGroup)
::= { dot11Compliances 1 }
```

## Annex E

(normative)

### Country elements and operating classes

#### E.1 Country information and operating classes

*Change the following rows in Table E-4:*

Table E-4—Global operating classes

| Operating class | Nonglobal operating class(es) (see NOTE 3) | Channel starting frequency (GHz) | Channel spacing (MHz) | LC IF Channel starting frequency (MHz) | Channel set | Channel number of the center frequency | Behavior limits set |
|-----------------|--------------------------------------------|----------------------------------|-----------------------|----------------------------------------|-------------|----------------------------------------|---------------------|
| 137             | —                                          | 5.950                            | 320                   |                                        | —           | 21, 63, 95, 127, 159, 191              |                     |
| 447138-179      | —                                          | Reserved                         | Reserved              |                                        | Reserved    | Reserved                               | Reserved            |

## Annex R

(informative)

### Interworking with external networks

#### R.4 Interworking and SSPN interface support

##### R.4.2 SSPN interface parameters

###### R.4.2.1 General

*Insert a new row to and change the header in Table R-3 as follows:*

Table R-3—SSPN Interface information or permission parameters

| Information or permission name       | From <u>Access Network</u> to SSPN | From SSPN to <u>Access Network</u> | Per non-AP STA entry |
|--------------------------------------|------------------------------------|------------------------------------|----------------------|
| ...                                  |                                    |                                    |                      |
| Authorized EPCS Priority Access Type |                                    | +                                  | +                    |

###### R.4.2.4 Non-AP STA Interworking Capability

*Change the first paragraph as follows:*

This parameter is derived from the non-AP STA's Extended Capabilities element, which is included in (Re)Association Request frames. This parameter is also derived from the EHT Capabilities element of the non-AP STA when the non-AP STA supports the EPCS priority access. The AP SME obtains this information from the MLME SAP, e.g., MLME-ASSOCIATE.indication primitive. This information needs to be passed over the SSPN interface since the service authorization decisions can depend on the non-AP STA capabilities.

*Insert a new subclause at the end of subclause R.4.2 as follows:*

###### R.4.2.14 Authorized EPCS priority access type

This per-non-AP STA parameter indicates the priority type allocated to the non-AP STA as determined by the SSPN. The AP uses this information to authorize requests for EPCS priority access.

The following is used:

- dotIEPCSPriorityAccessAuthorized is used to authorize a non-AP STA to enable EPCS priority access

## Annex Z

(informative)

*Change the title of the Annex as follows:*

### HE-SIG-B and EHT-SIG content examples

#### Z.1 General

*Change as follows:*

This annex provides a number of examples to illustrate the content of HE-SIG-B content channels and EHT-SIG content channels.

HE-SIG-B content channels are padded to the same length and to an OFDM symbol boundary as defined in 27.3.11.8.5 (Encoding and modulation). For illustration simplicity, the examples do not include the complete padding bits but only pad to make the two HE-SIG-B content channels equal in length and an integer number of 4 bits. All the padding bits in the examples are set to 0.

In the examples, the binary sequence of each HE-SIG-B field is in transmission order. For the entire content of each HE-SIG-B content channel, the binary sequences are converted to hexadecimal listed in transmission order as pairs of hexadecimal digits, where the first bit transmitted is the LSB of the first transmitted octet and is the LSB of the second hexadecimal digit.

EHT-SIG content channels are padded to the same length and to an OFDM symbol boundary as defined in 36.3.12.8.6. For illustration simplicity, the examples do not include the complete padding bits but only pad to make different EHT-SIG content channels equal in length and an integer number of 4 bits. All the padding bits in the examples are set to 0.

In the examples, the binary sequence of each EHT-SIG field is in transmission order. For the entire content of each EHT-SIG content channel, the binary sequences are converted to hexadecimal listed in transmission order as pairs of hexadecimal digits, where the first bit transmitted is the LSB of the first transmitted octet and is the LSB of the second hexadecimal digit.

*Change the title of the subclauses Z.2, Z.3, Z.4, and Z.5 as follows:*

#### Z.2 HE-SIG-B example Example-1

#### Z.3 HE-SIG-B example Example-2

#### Z.4 HE-SIG-B example Example-3

#### Z.5 HE-SIG-B example Example-4

*Insert the following at the end of the Annex:*

## Z.6 EHT-SIG example 1

An example of the EHT-SIG field with U-SIG overflow and resource allocation signaling for an 80 MHz OFDMA transmission using EHT MU PPDU are shown in Table Z-8 and Table Z-9 respectively.

Table Z-8—U-SIG overflow example 1

| Subfield                  | Indication | Meaning                                       |
|---------------------------|------------|-----------------------------------------------|
| Spatial Reuse             | 1111       | PSR_AND_NON_SRG_OBSS_PD_PROHIBITED.           |
| GI+LTF Size               | 11         | 4x EHT-LTF and 3.2 $\mu$ s GI.                |
| Number Of EHT-LTF Symbols | 001        | 2 EHT-LTF symbols.                            |
| LDPC Extra Symbol Segment | 0          | An LDPC extra symbol segment is not present.  |
| Pre-FEC Padding Factor    | 01         | A pre-FEC padding factor of 1.                |
| PE Disambiguity           | 0          | The condition in Equation (36-94) is not met. |
| Disregard                 | 1111       |                                               |

Table Z-9—Resource allocation signaling example 1

| RU or MRU | 484+242-tone MRU 2<br>(242-[gap 242]-484)           | 242-tone RU 2                                       |
|-----------|-----------------------------------------------------|-----------------------------------------------------|
| SS0       | STA-ID 1441, EHT-MCS 10, LDPC,<br>no Tx beamforming | STA-ID 1442, EHT-MCS 4, BCC,<br>2SS, Tx beamforming |
| SS1       | N/A                                                 |                                                     |

The illustration of an RU Allocation subfield is given in Table Z-10.

Table Z-10—Resource Allocation subfield illustration example 1

|                   | RU Allocation subfield illustration     |                    |
|-------------------|-----------------------------------------|--------------------|
| Content channel 1 | 242-[gap 242]-484, MRU 2 (1 User field) | 484 (0 User field) |
| Content channel 2 | 242 (1 User field)                      | 484 (0 User field) |

The User field for STA 1441 is in content channel 1 while User field for STA 1442 is in content channel 2. The content of the entire EHT-SIG field for this example is shown in Table Z-11.

Table Z-11—EHT-SIG content for example 1

|                                                                                    | EHT-SIG content channel 1                                                                          |                                | EHT-SIG content channel 2                                                                          |                                |
|------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------|--------------------------------|----------------------------------------------------------------------------------------------------|--------------------------------|
| Common field<br>(U-SIG Overflow, RU Allocation-A subfield, CRC, Tail)              | 1111 11 100 0 10 1111<br>000101100 101110000 1010 000000                                           |                                | 1111 11 100 0 10 0 1111<br>00000100 101110000 1010 000000                                          |                                |
| User Specific field                                                                | STA 1441                                                                                           | 10000101101<br>0101 1 0000 0 1 | STA 1442                                                                                           | 01000101101<br>0010 1 1000 1 0 |
|                                                                                    | CRC and Tail                                                                                       | 1010 000000                    | CRC and Tail                                                                                       | 0001 000000                    |
|                                                                                    | Padding                                                                                            | 000                            | Padding                                                                                            | 000                            |
| EHT-SIG field content in binary, organized as octets (LSB first)                   | 11111110 00100111 10001011<br>00101110 00010100 00000100<br>00101101 01011000 01101100<br>00000000 |                                | 11111110 00100111 10000001<br>00101110 00010100 00000010<br>00101101 01011000 01000010<br>00000000 |                                |
| EHT-SIG field content in binary, organized as octets (MSB first within each octet) | 01111111 11100110 10010001<br>01110100 00101000 01010000<br>10110100 00011010 01011100<br>00000000 |                                | 01111111 11100100 10000001<br>01110100 00101000 01000000<br>10110100 00110100 01000010<br>00000000 |                                |
| EHT-SIG field content in hexadecimal, organized as octets                          | 7F E4 D1 74 28 20 B4 1A 2C 00                                                                      |                                | 7F E4 81 74 28 40 B4 34 42 00                                                                      |                                |

## Z.7 EHT-SIG example 2

An example of the EHT-SIG field with U-SIG overflow and resource allocation signaling for an 80 MHz OFDMA transmission using EHT MU PPDU are shown in Table Z-12 and Table Z-13 respectively.

Table Z-12—U-SIG overflow example 2

| Subfield                  | Indication | Meaning                                       |
|---------------------------|------------|-----------------------------------------------|
| Spatial Reuse             | 1111       | PSR_AND_NON_SRG_OBSS_PD_PROHIBITED.           |
| GI+LTF Size               | 11         | 4x EHT-LTF and 3.2 $\mu$ s GI.                |
| Number Of EHT-LTF Symbols | 011        | 6 EHT-LTF symbols.                            |
| LDPC Extra Symbol Segment | 1          | An LDPC extra symbol segment is present.      |
| Pre-FEC Padding Factor    | 01         | A pre-FEC padding factor of 1.                |
| PE Disambiguity           | 0          | The condition in Equation (36-94) is not met. |
| Disregard                 | 1111       |                                               |

**Table Z-13—Resource allocation signaling example 2**

| RU or MRU | 484+242-tone MRU 2<br>(242-[gap 242]-484) | 242-tone RU 2                |
|-----------|-------------------------------------------|------------------------------|
| SS0       | STA-ID 1441, EHT-MCS 10, LDPC,            | STA-ID 1442, EHT-MCS 4, BCC, |
| SS1       | 2SS                                       | 2SS, Tx beamforming          |
| SS2       | STA-ID 1443, EHT-MCS 7, LDPC              | N/A                          |
| SS3       | STA-ID 1445, EHT-MCS 5, LDPC              |                              |

The illustration of an RU Allocation subfield is given in Table Z-14.

**Table Z-14—Resource Allocation subfield illustration example 2**

|                   | RU Allocation subfield illustration      |                                         |
|-------------------|------------------------------------------|-----------------------------------------|
| Content channel 1 | 242-[gap 242]-484, MRU 2 (2 User fields) | 484 (0 User field)                      |
| Content channel 2 | 242 (1 User field)                       | 242-[gap 242]-484, MRU 2 (1 User field) |

The AP can perform a dynamic split of the User fields for the three MU-MIMO STAs on 484+242-tone MRU 2, with zero, one, two, or three User fields assigned to EHT-SIG content channel 1 and three, two, one, or zero User fields assigned to EHT-SIG content channel 2 correspondingly. In this example, there are two User fields assigned to EHT-SIG content channel 1 and one User field assigned to EHT-SIG content channel 2, to avoid a disparity in the number of User fields between content channels.

The User fields for STA 1441 and STA 1443 are in content channel 1 while the User fields for STA 1445 and STA 1442 are in content channel 2. The content of the entire EHT-SIG field for this example is shown in Table Z-15.

Table Z-15—EHT-SIG content for example 2

|                                                                                    | EHT-SIG content channel 1                                                                                                 |                              | EHT-SIG content channel 2                                                                                                 |                                |
|------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------|------------------------------|---------------------------------------------------------------------------------------------------------------------------|--------------------------------|
| Common field<br>(U-SIG Overflow, RU Allocation-A subfield, CRC, Tail)              | 1111 11 110 1 10 0 1111<br>100101100 101110000 1110 000000                                                                |                              | 1111 11 110 1 10 0 1111 000000100<br>000101100 1011 000000                                                                |                                |
| User Specific field                                                                | STA 1441                                                                                                                  | 10000101101<br>0101 1 100000 | STA 1442                                                                                                                  | 01000101101<br>0010 1 1000 1 0 |
|                                                                                    | STA 1443                                                                                                                  | 11000101101<br>1110 1 100000 | STA 1445                                                                                                                  | 10100101101<br>1010 1 100000   |
|                                                                                    | CRC and Tail                                                                                                              | 1011 000000                  | CRC and Tail                                                                                                              | 1110 000000                    |
|                                                                                    | Padding                                                                                                                   | 0                            | Padding                                                                                                                   | 0                              |
| EHT-SIG field content in binary, organized as octets (LSB first)                   | 11111111 01100111 11001011<br>00101110 00011100 00000100<br>00101101 01011100 00011000<br>10110111 10110000 01011000 0000 |                              | 11111111 01100111 10000001<br>00000101 10010110 00000010<br>00101101 00101100 01010100<br>10110110 10110000 01110000 0000 |                                |
| EHT-SIG field content in binary, organized as octets (MSB first within each octet) | 11111111 11100110 11010011<br>01110100 00111000 00100000<br>10110100 00111010 00011000<br>11101101 00001101 00011010 0000 |                              | 11111111 11100110 10000001<br>10100000 01101001 01000000<br>10110100 00110100 00101010<br>01101101 00001101 00001110 0000 |                                |
| EHT-SIG field content in hexadecimal, organized as octets                          | FF E6 D3 74 38 20 B4 3A 18 ED 0D<br>1A 00                                                                                 |                              | FF E6 81 A0 69 40 B4 34 2A 6D 0D<br>0E 00                                                                                 |                                |

### Z.8 EHT-SIG example 3

An example of the EHT-SIG field with U-SIG overflow and resource allocation signaling for a 160 MHz OFDMA transmission using EHT MU PPDU are shown in Table Z-16 and Table Z-17 respectively.

Table Z-16—U-SIG overflow example 3

| Subfield                  | Indication | Meaning                                       |
|---------------------------|------------|-----------------------------------------------|
| Spatial Reuse             | 1111       | PSR_AND_NON_SRG_OBSS_PD_PROHIBITED.           |
| GI+LTF Size               | 11         | 4x EHT-LTF and 3.2 $\mu$ s GI.                |
| Number Of EHT-LTF Symbols | 001        | 2 EHT-LTF symbols.                            |
| LDPC Extra Symbol Segment | 1          | An LDPC extra symbol segment is present.      |
| Pre-FEC Padding Factor    | 01         | A pre-FEC padding factor of 1.                |
| PE Disambiguity           | 0          | The condition in Equation (36-94) is not met. |
| Disregard                 | 1111       |                                               |

Table Z-17—Resource allocation signaling example 3

| RU or MRU | 996+484-tone MRU 2<br>(484-[gap 484]-996)           | 484-tone RU 2                                      |
|-----------|-----------------------------------------------------|----------------------------------------------------|
| SS0       | STA-ID 1441, EHT-MCS 10, LDPC,<br>no Tx beamforming | STA-ID 1442, EHT-MCS 4, LDPC, 2SS, Tx beam-forming |
| SS1       | N/A                                                 |                                                    |

The illustration of an RU Allocation subfield for the lower 80 MHz and upper 80 MHz are given in Table Z-18 and Table Z-19.

Table Z-18—Resource Allocation subfield illustration for the lower 80 MHz example 3

|                   | RU Allocation subfield illustration        |                    |                    |                    |
|-------------------|--------------------------------------------|--------------------|--------------------|--------------------|
| Content channel 1 | 484-[gap 484]-996,<br>MRU 2 (1 User field) | 484 (0 User field) | 996 (0 User field) | 996 (0 User field) |
| Content channel 2 | 484 (0 User field)                         | 484 (1 User field) | 996 (0 User field) | 996 (0 User field) |

Table Z-19—Resource Allocation subfield illustration for the upper 80 MHz example 3

|                   | RU Allocation subfield illustration |                    |                    |                    |
|-------------------|-------------------------------------|--------------------|--------------------|--------------------|
| Content channel 1 | 484 (0 User field)                  | 484 (0 User field) | 996 (0 User field) | 996 (0 User field) |
| Content channel 2 | 484 (0 User field)                  | 484 (0 User field) | 996 (0 User field) | 996 (0 User field) |

The EHT-SIG content channels per 80 MHz are allowed to carry different information when EHT MU PPDU is wider than 80 MHz and for OFDMA transmission to multiple users. In this example, STA 1441 and STA 1442 are operating on the primary 80 MHz channel, which is the lower 80 MHz in this example. The User field for STA 1441 is in content channel 1 while the User field for STA 1442 is in content channel 2 in the lower 80 MHz. No User field exists in the upper 80 MHz. The contents of the entire EHT-SIG field in the lower 80 MHz and higher 80 MHz for this example are shown in Table Z-20 and Table Z-21, respectively. The RU Allocation subfields in the lower and upper 80 MHz carry consistent RU or MRU size and placement information for the 160 MHz PPDU. The EHT-SIG content channels per 80 MHz can also be the same.

Table Z-20—EHT-SIG content in the lower 80 MHz for example 3

|                                                                                                                  | EHT-SIG content channel 1                                                                                                             |                                | EHT-SIG content channel 2                                                                                                             |                                |
|------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|---------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|
| Common field<br>(U-SIG Overflow, 2 RU Allocation-A subfields, CRC, Tail, 2 RU Allocation-B subfields, CRC, Tail) | 1111 11 100 1 10 0 1111<br>000100010 101110000 0010 000000<br>011110000 011110000 0101 000000                                         |                                | 1111 11 100 1 10 0 1111 101110000<br>000100100 0000 000000 011110000<br>011110000 0101 000000                                         |                                |
| User Specific field                                                                                              | STA 1441                                                                                                                              | 10000101101<br>0101 1 0000 0 1 | STA 1442                                                                                                                              | 01000101101<br>0010 1 1000 1 1 |
|                                                                                                                  | CRC and Tail                                                                                                                          | 1010 000000                    | CRC and Tail                                                                                                                          | 0001 000000                    |
|                                                                                                                  | Padding                                                                                                                               | 000                            | Padding                                                                                                                               | 000                            |
| EHT-SIG field content in binary, organized as octets (LSB first)                                                 | 11111110 01100111 10001000<br>10101110 00000100 00000011<br>11000011 11100000 10100000<br>01000010 11010101 10000011<br>01000000 0000 |                                | 11111110 01100111 11011100<br>00000100 10000000 00000011<br>11000011 11100000 10100000<br>00100010 11010010 11000110<br>00100000 0000 |                                |
| EHT-SIG field content in binary, organized as octets (MSB first within each octet)                               | 01111111 11100110 00010001<br>01110101 00100000 11000000<br>10000011 00000111 00000101<br>01000010 10101011 11000001<br>00000010 0000 |                                | 01111111 11100110 00110101<br>00100000 00000001 11000000<br>10000011 00000111 00000101<br>01000100 01001011 01100011<br>00000100 0000 |                                |
| EHT-SIG field content in hexadecimal, organized as octets                                                        | 7F E6 11 75 20 C0 83 07 05 42 AB<br>C1 02 00                                                                                          |                                | 7F E6 3B 20 01 C0 83 07 05 44 4B<br>63 04 00                                                                                          |                                |

Table Z-21—EHT-SIG content in the upper 80 MHz for example 3

|                                                                                                                        | EHT-SIG content channel 1                                                                                                             |                                              | EHT-SIG content channel 2                                                                                                             |                                              |
|------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|
| Common field<br>(U-SIG Overflow, 2 RU Allocation-A subfields, CRC, Tail,<br>2 RU-Allocation-B subfields,<br>CRC, Tail) | 1111 11 100 1 10 0 1111<br>101110000 101110000 1011<br>000000 011110000 011110000<br>0101 000000                                      |                                              | 1111 11 100 1 10 0 1111<br>101110000 101110000 1011<br>000000 011110000 011110000<br>0101 000000                                      |                                              |
| User Specific field                                                                                                    | Padding                                                                                                                               | 0000000<br>0000000<br>0000000<br>0000000 000 | Padding                                                                                                                               | 0000000<br>0000000<br>0000000<br>0000000 000 |
| EHT-SIG field content in<br>binary, organized as octets<br>(LSB first)                                                 | 11111110 01100111 11011100<br>00101110 00010110 00000011<br>11000001 11100000 10100000<br>00000000 00000000 00000000<br>00000000 0000 |                                              | 11111110 01100111 11011100<br>00101110 00010110 00000011<br>11000001 11100000 10100000<br>00000000 00000000 00000000<br>00000000 0000 |                                              |
| EHT-SIG field content in<br>binary, organized as octets<br>(MSB first within each octet)                               | 01111111 11100110 00111011<br>01110100 01101000 11000000<br>10000011 00000111 00000101<br>00000000 00000000 00000000<br>00000000 0000 |                                              | 01111111 11100110 00111011<br>01110100 01101000 11000000<br>10000011 00000111 00000101<br>00000000 00000000 00000000<br>00000000 0000 |                                              |
| EHT-SIG field content in hexa-<br>decimal, organized as octets                                                         | 7F E6 3B 74 68 C0 83 07 05 00 00<br>00 00 00                                                                                          |                                              | 7F E6 3B 74 68 C0 83 07 05 00 00<br>00 00 00                                                                                          |                                              |

## Z.9 EHT-SIG example 4

Another example of the EHT-SIG field with U-SIG overflow and resource allocation signaling for a 160 MHz OFDMA transmission using EHT MU PPDU are shown in Table Z-22 and Table Z-23 respectively.

Table Z-22—U-SIG overflow example 4

| Subfield                  | Indication | Meaning                                       |
|---------------------------|------------|-----------------------------------------------|
| Spatial Reuse             | 1111       | PSR_AND_NON_SRG_OBSS_PD_PROHIBITED.           |
| GI+LTF Size               | 11         | 4x EHT-LTF and 3.2 $\mu$ s GI.                |
| Number Of EHT-LTF Symbols | 011        | 6 EHT-LTF symbols.                            |
| LDPC Extra Symbol Segment | 1          | An LDPC extra symbol segment is present.      |
| Pre-FEC Padding Factor    | 01         | A pre-FEC padding factor of 1.                |
| PE Disambiguity           | 0          | The condition in Equation (36-94) is not met. |
| Disregard                 | 1111       |                                               |

Table Z-23—Resource allocation signaling example 4

| RU or MRU | 242-tone RU 1                  | 484+242-tone MRU 1<br>([gap 242]-242-484) | 484+242-tone MRU 7<br>(484-[gap 242]-242)                  | 242-tone RU 7                      |
|-----------|--------------------------------|-------------------------------------------|------------------------------------------------------------|------------------------------------|
| SS0       | STA-ID 1441,<br>EHT-MCS 8, BCC | STA-ID 1445,<br>EHT-MCS 10,<br>LDPC, 2SS  | STA-ID 1447,<br>EHT-MCS 4,<br>LDPC, 2SS, Tx<br>beamforming | STA-ID 1448,<br>EHT-MCS 7,<br>LDPC |
| SS1       | STA-ID 1442,<br>EHT-MCS 7, BCC |                                           |                                                            | STA-ID 1449,<br>EHT-MCS 6,<br>LDPC |
| SS2       | STA-ID 1443,<br>EHT-MCS 6, BCC | STA-ID 1446,<br>EHT-MCS 4,<br>LDPC, 2SS   | N/A                                                        | STA-ID 1450,<br>EHT-MCS 5,<br>LDPC |
| SS3       | STA-ID 1444,<br>EHT-MCS 5, BCC |                                           |                                                            | STA-ID 1451,<br>EHT-MCS 5,<br>LDPC |

The illustration of an RU Allocation subfield for the lower 80 MHz and upper 80 MHz are given in Table Z-24 and Table Z-25.

Table Z-24—Resource Allocation subfield illustration for the lower 80 MHz example 4

| RU Allocation subfield illustration |                                             |                    |                    |                    |
|-------------------------------------|---------------------------------------------|--------------------|--------------------|--------------------|
| Content channel 1                   | 242 (4 User fields)                         | 484 (0 User field) | 484 (0 User field) | 242 (0 User field) |
| Content channel 2                   | [gap 242]-242-484,<br>MRU 1 (2 User fields) | 484 (0 User field) | 484 (0 User field) | 242 (0 User field) |

Table Z-25—Resource Allocation subfield illustration for the upper 80 MHz example 4

| RU Allocation subfield illustration |                    |                    |                                            |                     |
|-------------------------------------|--------------------|--------------------|--------------------------------------------|---------------------|
| Content channel 1                   | 242 (0 User field) | 484 (0 User field) | 484 (0 User field)                         | 242 (4 User fields) |
| Content channel 2                   | 242 (0 User field) | 484 (0 User field) | 484-[gap 242]-242,<br>MRU 7 (1 User field) | 242 (0 User field)  |

The EHT-SIG content channels per 80 MHz are allowed to carry different information, in order to save overhead in EHT-SIG, when EHT MU PPDU is wider than 80 MHz and for OFDMA transmission to multiple users. In this example, STAs 1441–1446 are operating on the primary 80 MHz channel, which is the lower 80 MHz in this example, while STAs 1447–1451 are operating on the secondary 80 MHz channel, which is the upper 80 MHz in this example. The User fields for STAs 1441–1444 are in content channel 1

while the User fields for STAs 1445–1446 are in content channel 2 in the lower 80 MHz. The User fields for STAs 1448–1451 are in content channel 1 while the User fields for STA 1447 is in content channel 2 in the upper 80 MHz. The contents of the entire EHT-SIG field in the lower 80 MHz and upper 80 MHz for this example are shown in Table Z-26 and Table Z-27, respectively. The EHT-SIG content channels per 80 MHz can also be the same.

Table Z-26—EHT-SIG content in the lower 80 MHz for example 4

|                                                                                                                  | EHT-SIG content channel 1                                                                                                                                                                                                           |                              | EHT-SIG content channel 2                                                                                                                                                                                                           |                                                                        |
|------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------|
| Common field<br>(U-SIG Overflow, 2 RU Allocation-A subfields, CRC, Tail, 2 RU-Allocation-B subfields, CRC, Tail) | 1111 11 110 1 10 0 1111 110000100<br>101110000 1000 000000 101110000<br>001100000 0110 000000                                                                                                                                       |                              | 1111 11 110 1 10 0 1111 100001100<br>101110000 1011 000000 101110000<br>001100000 0110 000000                                                                                                                                       |                                                                        |
| User Specific field                                                                                              | STA 1441                                                                                                                                                                                                                            | 10000101101<br>0001 0 000000 | STA 1445                                                                                                                                                                                                                            | 10100101101<br>0101 1 001000                                           |
|                                                                                                                  | STA 1442                                                                                                                                                                                                                            | 01000101101<br>1110 0 000000 | STA 1446                                                                                                                                                                                                                            | 01100101101<br>0010 1 001000                                           |
|                                                                                                                  | CRC and Tail                                                                                                                                                                                                                        | 0011 000000                  | CRC and Tail                                                                                                                                                                                                                        | 1100 000000                                                            |
|                                                                                                                  | STA 1443                                                                                                                                                                                                                            | 11000101101<br>0110 0 000000 | Padding                                                                                                                                                                                                                             | 00000000<br>00000000<br>00000000<br>00000000<br>00000000<br>00000000 0 |
|                                                                                                                  | STA 1444                                                                                                                                                                                                                            | 00100101101<br>1010 0 000000 |                                                                                                                                                                                                                                     |                                                                        |
|                                                                                                                  | CRC and Tail                                                                                                                                                                                                                        | 0010 000000                  |                                                                                                                                                                                                                                     |                                                                        |
| Padding                                                                                                          | 000                                                                                                                                                                                                                                 |                              |                                                                                                                                                                                                                                     |                                                                        |
| EHT-SIG field content in binary, organized as octets (LSB first)                                                 | 11111111 01100111 11100001<br>00101110 00010000 00000101<br>11000000 11100000 11000000<br>01000010 11010001 00000000<br>10001011 01111000 00000001<br>10000001 10001011 01011000<br>00000001 00101101 10100000<br>00000100 00000000 |                              | 11111111 01100111 11000011<br>00101110 00010110 00000101<br>11000000 11100000 11000000<br>01010010 11010101 10010000<br>11001011 01001010 01000110<br>00000000 00000000 00000000<br>00000000 00000000 00000000<br>00000000 00000000 |                                                                        |
| EHT-SIG field content in binary, organized as octets (MSB first within each octet)                               | 11111111 11100110 10000111<br>01110100 00010000 10100000<br>00000011 00000111 00000011<br>01000010 10001011 00000000<br>11010001 00011110 10000000<br>10000001 11010001 00011010<br>10000000 10110100 00000101<br>00100000 00000000 |                              | 11111111 11100110 11000011<br>01110100 01101000 10100000<br>00000011 00000111 00000011<br>01001010 10101011 00001001<br>11010011 01010010 01100010<br>00000000 00000000 00000000<br>00000000 00000000 00000000<br>00000000 00000000 |                                                                        |
| EHT-SIG field content in hexadecimal, organized as octets                                                        | FF E6 87 74 08 A0 03 07 03 42 8B 00<br>D1 1E 80 81 D1 1A 80 B4 05 20 00                                                                                                                                                             |                              | FF E6 C3 74 68 A0 03 07 03 4A AB<br>09 D3 52 62 00 00 00 00 00 00 00 00                                                                                                                                                             |                                                                        |

Table Z-27—EHT-SIG content in the upper 80 MHz for example 4

|                                                                                                                  | EHT-SIG content channel 1                                                                                                                                                                                                           |                              | EHT-SIG content channel 2                                                                                                                                                                                                           |                                  |
|------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|
| Common field<br>(U-SIG Overflow, 2 RU Allocation-A subfields, CRC, Tail, 2 RU-Allocation-B subfields, CRC, Tail) | 1111 11 110 1 10 0 1111 001110000<br>1011100001101 000000 101110000<br>110000100 1011 000000                                                                                                                                        |                              | 1111 11 110 1 10 0 1111 001110000<br>101110000 1101 000000 000011100<br>001110000 1010 000000                                                                                                                                       |                                  |
| User Specific field                                                                                              | STA 1448                                                                                                                                                                                                                            | 00010101101<br>1110 1 000000 | STA 1447                                                                                                                                                                                                                            | 11100101101<br>0010 1 1000 1 1   |
|                                                                                                                  | STA 1449                                                                                                                                                                                                                            | 10010101101<br>0110 1 000000 | CRC and Tail                                                                                                                                                                                                                        | 0000 000000                      |
|                                                                                                                  | CRC and Tail                                                                                                                                                                                                                        | 1110 000000                  | Padding                                                                                                                                                                                                                             | 00000000<br>00000000<br>00000000 |
|                                                                                                                  | STA 1450                                                                                                                                                                                                                            | 01010101101<br>1010 1 000000 |                                                                                                                                                                                                                                     | 00000000<br>00000000<br>00000000 |
|                                                                                                                  | STA 1451                                                                                                                                                                                                                            | 11010101101<br>1010 1 000000 |                                                                                                                                                                                                                                     | 00000000<br>00000000<br>00000000 |
|                                                                                                                  | CRC and Tail                                                                                                                                                                                                                        | 1010 000000                  | 00000000<br>00000000<br>00000000                                                                                                                                                                                                    |                                  |
| Padding                                                                                                          | 000                                                                                                                                                                                                                                 |                              | 00000000                                                                                                                                                                                                                            |                                  |
| EHT-SIG field content in binary, organized as octets (LSB first)                                                 | 11111111 01100111 10011100<br>00101110 00011010 00000101<br>11000011 00001001 01100000<br>00001010 11011110 10000001<br>00101011 01011010 00000111<br>00000000 10101011 01101010<br>00000110 10101101 10101000<br>00010100 00000000 |                              | 11111111 01100111 10011100<br>00101110 00011010 00000000<br>01110000 11100001 01000000<br>01110010 11010010 11000110<br>00000000 00000000 00000000<br>00000000 00000000 00000000<br>00000000 00000000 00000000<br>00000000 00000000 |                                  |
| EHT-SIG field content in binary, organized as octets (MSB first within each octet)                               | 11111111 11100110 00111001<br>01110100 01011000 10100000<br>11000011 10010000 00000110<br>01010000 01111011 10000001<br>11010100 01011010 11100000<br>00000000 11010101 01010110<br>01100000 10110101 00010101<br>00101000 00000000 |                              | 11111111 11100110 00111001<br>01110100 01011000 00000000<br>00001110 10000111 00000010<br>01001110 01001011 01100011<br>00000000 00000000 00000000<br>00000000 00000000 00000000<br>00000000 00000000 00000000<br>00000000 00000000 |                                  |
| EHT-SIG field content in hexadecimal, organized as octets                                                        | FF E6 39 74 58 A0 C3 90 06 50 7B<br>81 D4 5A E0 00 D5 56 60 B5 15 28<br>00                                                                                                                                                          |                              | FF E6 39 74 58 00 0E 87 02 4E 4B<br>63 00 00 00 00 00 00 00 00 00 00 00                                                                                                                                                             |                                  |

### Z.10 EHT-SIG example 5

An example of the EHT-SIG field with U-SIG overflow and resource allocation signaling for an 80 MHz DL non-OFDMA MU-MIMO transmission using EHT MU PPDU are shown in Table Z-28 and Table Z-29 respectively.

Table Z-28—U-SIG overflow and number of OFDMA users example 5

| Subfield                  | Indication | Meaning                                       |
|---------------------------|------------|-----------------------------------------------|
| Spatial Reuse             | 1111       | PSR_AND_NON_SRG_OBSS_PD_PROHIBITED.           |
| GI+LTF Size               | 11         | 4 $\times$ EHT-LTF and 3.2 $\mu$ s GI.        |
| Number Of EHT-LTF Symbols | 010        | 4 EHT-LTF symbols.                            |
| LDPC Extra Symbol Segment | 1          | An LDPC extra symbol segment is present.      |
| Pre-FEC Padding Factor    | 01         | A pre-FEC padding factor of 1.                |
| PE Disambiguity           | 0          | The condition in Equation (36-94) is not met. |
| Disregard                 | 1111       |                                               |
| Number Of Non-OFDMA Users | 010        | 3 non-OFDMA users                             |

Table Z-29—Resource allocation signaling example 5

| RU or MRU | 484+242-tone MRU 2<br>(242-[gap 242]-484) |
|-----------|-------------------------------------------|
| SS0       | STA-ID 1441, EHT-MCS 10, LDPC,<br>2SS     |
| SS1       | STA-ID 1443, EHT-MCS 7, LDPC              |
| SS2       | STA-ID 1445, EHT-MCS 5, LDPC              |
| SS3       | STA-ID 1445, EHT-MCS 5, LDPC              |

The AP performs an equitable split of the User fields for the three MU-MIMO STAs on 484+242-tone MRU 2, with two User fields assigned to EHT-SIG content channel 1 and one User field assigned to EHT-SIG content channel 2. The User fields for STA 1441 and STA 1443 are in content channel 1 while User field for STA 1445 is in content channel 2. The content of the entire EHT-SIG field for this example is shown in Table Z-30.

Table Z-30—EHT-SIG content for example 5

|                                                                                              | EHT-SIG content channel 1                                                                                   |                              | EHT-SIG content channel 2                                                                                   |                                                   |
|----------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------|------------------------------|-------------------------------------------------------------------------------------------------------------|---------------------------------------------------|
| Common encoding block (U-SIG Overflow, Number Of Non-OFDMA Users, 1st User Field, CRC, Tail) | 1111 11 010 1 10 0 1111 010<br>10000101101 0101 1 100000<br>1110 000000                                     |                              | 1111 11 010 1 10 0 1111 010<br>10100101101 1010 1 100000<br>0101 000000                                     |                                                   |
| User Specific field except for the 1st User field                                            | STA 1443                                                                                                    | 11000101101<br>1110 1 100000 | Padding                                                                                                     | 0000 0000 0000<br>0000 0000 0000<br>000 0000 0000 |
|                                                                                              | CRC and Tail                                                                                                | 0010 000000                  |                                                                                                             |                                                   |
|                                                                                              | Padding                                                                                                     | 0000                         |                                                                                                             |                                                   |
| EHT-SIG field content in binary, organized as octets (LSB first)                             | 11111101 01100111 10101000<br>01011010 10111000 00111000<br>00001100 01011011 11011000<br>00001000 00000000 |                              | 11111101 01100111 10101010<br>01011011 01011000 00010100<br>00000000 00000000 00000000<br>00000000 00000000 |                                                   |
| EHT-SIG field content in binary, organized as octets (MSB first within each octet)           | 10111111 11100110 00010101<br>01011010 00011010 00011100<br>00110000 11011010 00011011<br>00010000 0000     |                              | 10111111 11100110 01010101<br>11011010 00011010 00101000<br>00000000 00000000 00000000<br>00000000 000      |                                                   |
| EHT-SIG field content in hexadecimal, organized as octets                                    | BF E6 15 5A 1D 1C 30 DA 1B 10 00                                                                            |                              | BF E6 55 DA 1A 28 00 00 00 00 00                                                                            |                                                   |

## Z.11 EHT-SIG example 6

An example of the EHT-SIG field with U-SIG overflow and resource allocation signaling for an 80 MHz DL EHT SU transmission are shown in Table Z-31 and Table Z-32 respectively.

Table Z-31—U-SIG overflow and number of non-OFDMA users example 6

| Subfield                  | Indication | Meaning                                       |
|---------------------------|------------|-----------------------------------------------|
| Spatial Reuse             | 1111       | PSR_AND_NON_SRG_OBSS_PD_PROHIBITED.           |
| GI+LTF Size               | 10         | 4x EHT-LTF and 0.8 $\mu$ s GI.                |
| Number Of EHT-LTF Symbols | 001        | 2 EHT-LTF symbols.                            |
| LDPC Extra Symbol Segment | 1          | An LDPC extra symbol segment is present.      |
| Pre-FEC Padding Factor    | 01         | A pre-FEC padding factor of 1.                |
| PE Disambiguity           | 0          | The condition in Equation (36-94) is not met. |
| Disregard                 | 1111       |                                               |
| Number Of Non-OFDMA Users | 000        | 1 non-OFDMA user                              |

Table Z-32—Resource allocation signaling example 6

| RU or MRU | 484+242-tone MRU 2<br>(242-[gap 242]-484) |
|-----------|-------------------------------------------|
| SS0       | STA-ID 1441, EHT-MCS 10, LDPC,            |
| SS1       | 2SS, Tx beamforming                       |

An EHT SU transmission has one EHT-SIG content channel. The content of the entire EHT-SIG field for this example is shown in Table Z-33.

Table Z-33—EHT-SIG content for example 6

|                                                                                              | EHT-SIG content channel 1                                                 |
|----------------------------------------------------------------------------------------------|---------------------------------------------------------------------------|
| Common encoding block (U-SIG Overflow, Number Of Non-OFDMA Users, 1st User Field, CRC, Tail) | 1111 01 100 1 10 0 1111 000<br>10000101101 0101 1 1000 1 1<br>0001 000000 |
| EHT-SIG field content in binary, organized as octets (LSB first)                             | 11110110 01100111 10001000<br>01011010 10111000 11000100 0000             |
| EHT-SIG field content in binary, organized as octets (MSB first within each octet)           | 01101111 11100110 00010001<br>01011010 00011101 00100011 0000             |
| EHT-SIG field content in hexadecimal, organized as octets                                    | 6F E6 11 5A 1D 23 0                                                       |

## Z.12 EHT-SIG example 7

Examples of the EHT-SIG field with U-SIG Overflow and resource allocation, with signaling for a 320 MHz OFDMA transmission using EHT MU PDU, are shown in Table Z-34 and Table Z-35, respectively.

Table Z-34—U-SIG overflow example 7

| Subfield                  | Indication | Meaning                                      |
|---------------------------|------------|----------------------------------------------|
| Spatial Reuse             | 1111       | PSR_AND_NON_SRG_OBSS_PD_PROHIBITED.          |
| GI+LTF Size               | 11         | 4x EHT-LTF and 3.2 $\mu$ GI.                 |
| Number Of EHT-LTF Symbols | 010        | 4 EHT-LTF symbols.                           |
| LDPC Extra Symbol Segment | 0          | An LDPC extra symbol segment is not present. |

Table Z-34—U-SIG overflow example 7 (continued)

| Subfield               | Indication | Meaning                                       |
|------------------------|------------|-----------------------------------------------|
| Pre-FEC Padding Factor | 01         | A pre-FEC padding factor of 1.                |
| PE Disambiguity        | 0          | The condition in Equation (36-80) is not met. |
| Disregard              | 1111       |                                               |

Table Z-35—Resource allocation signaling example 7

| RU or MRU | 2x996-tone RU 1               | 242-tone RU 9 | 242-tone RU 10 | 996+484-tone MRU 5<br>([gap 484]-484-996) |
|-----------|-------------------------------|---------------|----------------|-------------------------------------------|
| SS0       | STA-ID 1441, EHT-MCS 10, LDPC | Unassigned    | Unassigned     | STA-ID 1443, EHT-MCS 7, LDPC              |
| SS1       | STA-ID 1442, EHT-MCS 4, LDPC  |               |                | STA-ID 1444, EHT-MCS 8, LDPC              |

In this example, the EHT-SIG content channels per 80 MHz frequency subblock are set to the same values by the AP. The EHT-SIG content channels per 80 MHz frequency subblock can also be different.

The illustration of an RU Allocation subfield for each of the four 80 MHz frequency subblocks is given in Table Z-36.

Table Z-36—RU Allocation subfield illustration for each 80 MHz frequency subblock example 7

| RU Allocation subfield illustration |                       |                    |                    |                    |                |                                         |                    |                    |
|-------------------------------------|-----------------------|--------------------|--------------------|--------------------|----------------|-----------------------------------------|--------------------|--------------------|
| Content channel 1                   | 2x996 (2 User fields) | 996 (0 User field) | 996 (0 User field) | 996 (0 User field) | Unassigned 242 | 484 (0 User field)                      | 996 (0 User field) | 996 (0 User field) |
| Content channel 2                   | 996 (0 User field)    | 996 (0 User field) | 996 (0 User field) | 996 (0 User field) | Unassigned 242 | [gap 484]-484-996 MRU 5 (2 User fields) | 996 (0 User field) | 996 (0 User field) |

The AP can perform a dynamic split of the User fields for the two MU-MIMO STAs on 2x996-tone RU 1, with zero, one, or two User fields assigned to EHT-SIG content channel 1 and correspondingly two, one, or zero User fields assigned to EHT-SIG content channel 2. The AP can also perform a dynamic split of the User fields for the two MU-MIMO STAs on 996+484-tone MRU 5, with zero, one, or two User fields

assigned to EHT-SIG content channel 1 and correspondingly two, one, or zero User fields assigned to EHT-SIG content channel 2. In this example, for 2×996-tone RU 1, two User fields are assigned to EHT-SIG content channel 1 and zero User field is assigned to EHT-SIG content channel 2. For 996+484-tone MRU 5, zero User field is assigned to EHT-SIG content channel 1 and two User fields are assigned to EHT-SIG content channel 2. Overall, there are two User fields assigned to EHT-SIG content channel 1 and two User fields assigned to EHT-SIG content channel 2, to avoid a disparity in the number of User fields between content channels.

The User fields for STAs 1441 and 1442 are in content channel 1, while the User fields for STAs 1443 and 1444 are in content channel 2. The contents of EHT-SIG field in each 80 MHz frequency subblock for this example is shown in Table Z-37.

Table Z-37—EHT-SIG content in each 80 MHz frequency subblock for example 7

|                                                                                                                       | EHT-SIG content channel 1                                                                                                                                                                                      |                              | EHT-SIG content channel 2                                                                                                                                                                                      |                              |
|-----------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|
| Common encoding block (U-SIG Overflow, 2 RU Allocation-A subfields, CRC, Tail, 6 RU Allocation-B subfields CRC, Tail) | 1111 11 010 0 10 0 1111<br>100110100 011110000 1100 000000<br>011110000 011110000 110110000<br>101110000 011110000 011110000<br>0111 000000                                                                    |                              | 1111 11 010 0 10 0 1111<br>011110000 011110000 0110 000000<br>011110000 011110000 110110000<br>100000110 011110000 011110000<br>1011 000000                                                                    |                              |
| User Specific field                                                                                                   | STA 1441                                                                                                                                                                                                       | 10000101101<br>0101 1 000000 | STA 1443                                                                                                                                                                                                       | 11000101101<br>1110 1 000000 |
|                                                                                                                       | STA 1442                                                                                                                                                                                                       | 01000101101<br>0010 1 000000 | STA 1444                                                                                                                                                                                                       | 00100101101<br>0001 1 000000 |
|                                                                                                                       | CRC and Tail                                                                                                                                                                                                   | 1101 000000                  | CRC and Tail                                                                                                                                                                                                   | 0010 000000                  |
|                                                                                                                       | Padding                                                                                                                                                                                                        | 000000                       | Padding                                                                                                                                                                                                        | 000000                       |
| EHT-SIG field content in binary, organized as octets (LSB first)                                                      | 11111101 00100111 11001101<br>00011110 00011000 00000011<br>11000001 11100001 10110000<br>10111000 00111100 00011110<br>00001110 00000100 00101101<br>01011000 00001000 10110100<br>10100000 01101000 00000000 |                              | 11111101 00100111 10111100<br>00011110 00001100 00000011<br>11000001 11100001 10110000<br>10000001 00111100 00011110<br>00010110 00000110 00101101<br>11101000 00000100 10110100<br>01100000 00010000 00000000 |                              |
| EHT-SIG field content in binary, organized as octets (MSB first within each octet)                                    | 10111111 11100100 10110011<br>01111000 00011000 11000000<br>10000011 10000111 00001101<br>00011101 00111100 01111000<br>01110000 00100000 10110100<br>00011010 00010000 00101101<br>00000101 00010110 00000000 |                              | 10111111 11100100 00111101<br>01111000 00111000 11000000<br>10000011 10000111 00001101<br>10000001 00111100 01111000<br>01110100 01100000 10110100<br>00010111 00100000 00101101<br>00000110 00001000 00000000 |                              |
| EHT-SIG field content in hexadecimal, organized as octets                                                             | BF E4 B3 78 18 C0 83 87 0D 1D 3C<br>78 70 20 B4 1A 10 2D 05 16 00                                                                                                                                              |                              | BF E4 3D 78 30 C0 83 87 0D 81 3C<br>78 68 60 B4 17 20 2D 06 08 00                                                                                                                                              |                              |

### Z.13 EHT-SIG example 8

An example of the EHT-SIG field with U-SIG overflow and resource allocation signaling for a 160 MHz OFDMA transmission using EHT MU PPDU are shown in Table Z-38 and Table Z-39, respectively. This example covers the cases with preamble puncturing, small RUs, and small MRUs combined with large RU(s) or MRU(s).

Table Z-38—U-SIG overflow example 8

| Subfield                  | Indication | Meaning                                       |
|---------------------------|------------|-----------------------------------------------|
| Spatial Reuse             | 1111       | PSR_AND_NON_SRG_OBSS_PD_PROHIBITED.           |
| GI+LTF Size               | 11         | 4x EHT-LTF and 3.2 $\mu$ s GI.                |
| Number Of EHT-LTF Symbols | 010        | 4 EHT-LTF symbols.                            |
| LDPC Extra Symbol Segment | 1          | An LDPC extra symbol segment is present.      |
| Pre-FEC Padding Factor    | 01         | A pre-FEC padding factor of 1.                |
| PE Disambiguity           | 0          | The condition in Equation (36-94) is not met. |
| Disregard                 | 1111       |                                               |

Table Z-39—Resource allocation signaling example 8

| RU or MRU | 242-tone RU 1 | 484+242-tone MRU 1<br>([gap 242]-242-484) | 484+242-tone MRU 8<br>(484-242-[gap 242])                  | 106-tone RU 15                                       | 106+26-tone MRU 16                                   |
|-----------|---------------|-------------------------------------------|------------------------------------------------------------|------------------------------------------------------|------------------------------------------------------|
| SS1       | Punctured     | STA-ID 1441,<br>EHT-MCS 10,<br>LDPC, 2SS  | STA-ID 1443,<br>EHT-MCS 8,<br>LDPC, 2SS,<br>Tx beamforming | STA-ID 1444,<br>EHT-MCS 4,<br>BCC,<br>Tx beamforming | STA-ID 1445,<br>EHT-MCS 7,<br>BCC,<br>Tx beamforming |
| SS2       |               |                                           |                                                            | N/A                                                  |                                                      |
| SS3       |               | STA-ID 1442,<br>EHT-MCS 4,<br>LDPC, 2SS   | N/A                                                        |                                                      |                                                      |
| SS4       |               |                                           |                                                            |                                                      |                                                      |

In this example, the EHT-SIG content channels per 80 MHz frequency subblock are set to the same values by the AP. The EHT-SIG content channels per 80 MHz frequency subblock can also be different. The

illustration of an RU Allocation subfield for each of the two 80 MHz frequency subblocks is given in Table Z-40.

**Table Z-40—RU Allocation subfield illustration for each 80 MHz frequency subblock example 8**

| RU Allocation subfield illustration |                                                 |                       |                                               |                                                        |
|-------------------------------------|-------------------------------------------------|-----------------------|-----------------------------------------------|--------------------------------------------------------|
| Content channel 1                   | Punctured 242                                   | 484<br>(0 User field) | 484-242-[gap<br>242], MRU 8<br>(1 User field) | 242<br>(0 User field)                                  |
| Content channel 2                   | [gap 242]-242-<br>484, MRU 1<br>(2 User fields) | 484<br>(0 User field) | 484<br>(0 User field)                         | 106 +<br>(106+26) RU 15<br>+ MRU 16<br>(2 User fields) |

In this example, STAs 1441-1445 are operating on the primary 80 MHz channel, which is the lower 80 MHz. The User field for STA 1443 is in content channel 1 while the User fields for STAs 1441, 1442, 1444, and 1445 are in content channel 2 in both the lower and upper 80 MHz frequency subblocks. The contents of the entire EHT-SIG field in each 80 MHz for this example is shown in Table Z-41.

Table Z-41—EHT-SIG content in each 80 MHz frequency subblock for example 8

|                                                                                                                       | EHT-SIG content channel 1                                                                                                                                                                                      |                                                                                              | EHT-SIG content channel 2                                                                                                                                                                                                           |                              |
|-----------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|
| Common encoding block (U-SIG Overflow, 2 RU Allocation-A subfields, CRC, Tail, 2 RU Allocation-B subfields CRC, Tail) | 1111 11 010 1 10 0 1111<br>010110000 101110000 0110 000000<br>000111100 001110000 1111 000000                                                                                                                  |                                                                                              | 1111 11 010 1 10 0 1111<br>100001100 101110000 1101 000000<br>101110000 010011000 1111 000000                                                                                                                                       |                              |
| User Specific field                                                                                                   | STA 1443                                                                                                                                                                                                       | 11000101101<br>0001 1 1000 1 1                                                               | STA 1441                                                                                                                                                                                                                            | 10000101101<br>0101 1 001000 |
|                                                                                                                       | CRC and Tail                                                                                                                                                                                                   | 1100 000000                                                                                  | STA 1442                                                                                                                                                                                                                            | 01000101101<br>0010 1 001000 |
|                                                                                                                       | Padding                                                                                                                                                                                                        | 00000000<br>00000000<br>00000000<br>00000000<br>00000000<br>00000000<br>00000000<br>00000000 | CRC and Tail                                                                                                                                                                                                                        | 1100 000000                  |
|                                                                                                                       |                                                                                                                                                                                                                | STA 1444                                                                                     | 00100101101<br>0010 1 0000 1 0                                                                                                                                                                                                      |                              |
| STA 1445                                                                                                              |                                                                                                                                                                                                                | 10100101101<br>1110 1 0000 1 0                                                               |                                                                                                                                                                                                                                     |                              |
|                                                                                                                       |                                                                                                                                                                                                                |                                                                                              | CRC and Tail                                                                                                                                                                                                                        | 0110 000000                  |
|                                                                                                                       |                                                                                                                                                                                                                |                                                                                              | Padding                                                                                                                                                                                                                             | 000                          |
| EHT-SIG field content in binary, organized as octets (LSB first)                                                      | 11111101 01100111 10101100<br>00101110 00001100 00000000<br>11110000 11100001 11100000<br>01100010 11010001 11000111<br>10000000 00000000 00000000<br>00000000 00000000 00000000<br>00000000 00000000 00000000 |                                                                                              | 11111101 01100111 11000011<br>00101110 00011010 00000101<br>11000001 00110001 11100000<br>01000010 11010101 10010000<br>10001011 01001010 01000110<br>00000000 01001011 01001010<br>00010101 00101101 11101000<br>01001100 00000000 |                              |
| EHT-SIG field content in binary, organized as octets (MSB first within each octet)                                    | 10111111 11100110 00110101<br>01110100 00110000 00000000<br>00001111 10000111 00000111<br>01000110 10001011 11100011<br>00000001 00000000 00000000<br>00000000 00000000 00000000<br>00000000 00000000 00000000 |                                                                                              | 10111111 11100110 11000011<br>01110100 01011000 10100000<br>10000011 10001100 00000111<br>01000010 10101011 00001001<br>11010001 01010010 01100010<br>00000000 11010010 01010010<br>10101000 10110100 00010111<br>00110010 00000000 |                              |
| EHT-SIG field content in hexadecimal, organized as octets                                                             | BF E6 35 74 30 00 0F 87 07 46 8B<br>E3 01 00 00 00 00 00 00 00 00 00 00                                                                                                                                        |                                                                                              | BF E6 C3 74 58 A0 83 8C 07 42 AB<br>09 D1 52 62 00 D2 52 A8 B4 17 32<br>00                                                                                                                                                          |                              |

## Annex AA

(informative)

### Multiple BSSID configuration examples

#### AA.1 Introduction

*Change as follows:*

This annex provides examples showing the relationship between profile periodicity (indicated by the Full Set Rx Periodicity field in the Multiple BSSID Configuration element) and the DTIM interval (DTIM Period field in the Multiple BSSID-Index element) for a multiple BSSID set as described in 11.1.3.8.3 (Discovery of a nontransmitted BSSID profile). The examples provide guidance on how an AP might organize the advertisement of nontransmitted BSSID profiles in its Beacon frames if it cannot fit all the profiles in a single Beacon frame (i.e., partial list of profiles) it is advertising. By having the DTIM interval for a nontransmitted BSSID a multiple of the profile periodicity, the profile for that BSSID would always appear in its DTIM beacon. This helps an associated non-AP STA save power as it is able to receive any updates to the profile when it wakes to receive the DTIM beacon.

*In addition, this annex also provides examples illustrating the relationship between a multiple BSSID set, a co-hosted BSSID set, and MLO.*

*Change the title of the subclause AA.2 as follows:*

#### AA.2 Examples illustrating the relationship between profile periodicity and DTIM interval

*Move the following content from subclause AA.1 as the first paragraph of this subclause and change as follows:*

The examples provide guidance on how an AP might organize the advertisement (inclusion of nontransmitted BSSID profiles in its Beacon frames if it cannot fit all the profiles in a single Beacon frame (i.e., the AP advertises partial list of profiles) it is advertising. By having selecting the DTIM interval for a nontransmitted BSSID as a multiple of the profile periodicity, the profile for that BSSID would always appear in its DTIM beacon. This helps an associated non-AP STA to save power by not having to transition to awake state to listen to beacons other than the DTIM beacons and as it is able to receive any updates to the associated profile when it wakes to receive the DTIM beacon.

*Insert a new subclause AA.3 following subclause AA.2:*

### AA.3 Example illustrating the relationship between MLO and multiple BSSID set or co-hosted BSSID set

Each AP affiliated with an AP MLD can correspond to a transmitted or a nontransmitted BSSID in a multiple BSSID set, or to an AP belonging to a co-hosted BSSID set, or to an AP that is neither a member of a multiple BSSID set nor a member of a co-hosted BSSID set.

The first example illustrates the relationship between MLO and multiple BSSID set. Each AP in a multiple BSSID set belongs to a different ESS, is connected to a different DS and hence advertises a different SSID. On the contrary, all APs affiliated with the same AP MLD have the same properties (such as SSID, security, etc.). Therefore, APs belonging to the same multiple BSSID set on a channel cannot be affiliated with the same AP MLD. Figure AA-6 (Example of affiliated APs from different multiple BSSID sets) shows an example where APs affiliated with an AP MLD belong to multiple BSSID set on their respective channel. Furthermore, APs affiliated within the same AP MLD can correspond to a transmitted or nontransmitted BSSID.

![Figure AA-6: Example of affiliated APs from different multiple BSSID sets. The diagram shows four Multiple BSSID sets (Channel 1, Channel 2, Channel 3) and four affiliated APs (MLD E, MLD F, MLD G, MLD H). Each AP is associated with a Link ID and a BSSID set. Channel 1 shows MLD E affiliated with BSSID-x (Link ID=0, SSID 1) and MLD G affiliated with BSSID-y [T] (Link ID=0, SSID 3). Channel 2 shows MLD F affiliated with BSSID-p (Link ID=1, SSID 1) and MLD G affiliated with BSSID-q [T] (Link ID=0, SSID 2) and BSSID-r (Link ID=1, SSID 3). Channel 3 shows MLD E affiliated with BSSID-a [T] (Link ID=2, SSID 1) and MLD H affiliated with BSSID-b (Link ID=1, SSID 2) and BSSID-c (Link ID=3, SSID 4).](a41cd1a1eb6ae72b06bead0ae926a87c_img.jpg)

Figure AA-6: Example of affiliated APs from different multiple BSSID sets. The diagram shows four Multiple BSSID sets (Channel 1, Channel 2, Channel 3) and four affiliated APs (MLD E, MLD F, MLD G, MLD H). Each AP is associated with a Link ID and a BSSID set. Channel 1 shows MLD E affiliated with BSSID-x (Link ID=0, SSID 1) and MLD G affiliated with BSSID-y [T] (Link ID=0, SSID 3). Channel 2 shows MLD F affiliated with BSSID-p (Link ID=1, SSID 1) and MLD G affiliated with BSSID-q [T] (Link ID=0, SSID 2) and BSSID-r (Link ID=1, SSID 3). Channel 3 shows MLD E affiliated with BSSID-a [T] (Link ID=2, SSID 1) and MLD H affiliated with BSSID-b (Link ID=1, SSID 2) and BSSID-c (Link ID=3, SSID 4).

Figure AA-6—Example of affiliated APs from different multiple BSSID sets

Figure AA-6 (Example of affiliated APs from different multiple BSSID sets) illustrates that APs corresponding to BSSID-x and BSSID-y belong to the same multiple BSSID set on channel 1 and are affiliated with different AP MLDs (MLD E and MLD G, respectively). On channel 1, AP-y, affiliated with MLD G, corresponds to the transmitted BSSID (depicted as BSSID-y [T]) for the multiple BSSID set on channel 1. On channel 2, there are three APs that belong to the same multiple BSSID set and each is affiliated with a different AP MLD. AP-q, affiliated with MLD F, corresponds to the transmitted BSSID (depicted as BSSID-q [T]) for the multiple BSSID set on channel 2. On channel 3, there are three APs that belong to the same multiple BSSID set and are affiliated with different MLDs. AP-a, affiliated with MLD E, corresponds to the transmitted BSSID (depicted as BSSID-a [T]) for the multiple BSSID set on channel 3. AP-c is affiliated with AP MLD H and is the only AP affiliated with MLD H. This could be due to ML Reconfiguration operation (as described in 35.3.6). Each AP MLD independently assigns a Link ID to its affiliated APs (shown as “(Link ID = n)” in the example). Furthermore, each AP affiliated with the same AP

MLD is part of the same ESS (shown as “ESS  $n$ ” in this example), is connected to the same DS (shown as “DS  $n$ ” in this example), and advertises the same SSID (shown as “[SSID  $n$ ]” in this example) in its Beacon and Probe Response frames. The AP MLD ID is not shown in the figure since the AP MLD ID value is equal to the BSSID Index of the affiliated AP operating on that link and therefore, the value can be different on each link (see 9.4.2.169.2).

The second example illustrates the case where APs affiliated with an AP MLD belong to a mix of a multiple BSSID set, a co-hosted BSSID set and an AP that is neither a member of multiple BSSID set nor a member of a co-hosted BSSID set. Each AP in a multiple BSSID set or a co-hosted BSSID set belongs to a different ESS, is connected to a different DS and hence advertises a different SSID. On the contrary, all APs affiliated with the same AP MLD have same properties (such as security, etc.). Therefore, APs belonging to the same co-hosted BSSID set on a channel are not affiliated with the same AP MLD and APs belonging to the same multiple BSSID set on a channel are not affiliated with the same AP MLD. Figure AA-7 (Example of affiliated APs belonging to a multiple BSSID set, a co-hosted BSSID set, and neither of these two cases) shows an example where APs affiliated with an AP MLD belong to a mix of multiple BSSID set, co-hosted set, and neither a member of multiple BSSID set nor a member of a co-hosted BSSID set.

![Figure AA-7: Example of affiliated APs belonging to a multiple BSSID set, a co-hosted BSSID set, and neither of these two cases. The diagram shows three channels (Channel 1, Channel 2, Channel 3) and three DSs (DS1, DS2, DS3) connected to three ESSs (ESS1, ESS2, ESS3). Three MLDs (MLD E, MLD F, MLD G) are shown. MLD E is connected to DS1 and ESS1, and is part of BSSID-x. MLD F is connected to DS2 and ESS2, and is part of BSSID-z. MLD G is connected to DS3 and ESS3, and is part of BSSID-y. Channel 1 shows BSSID-x, BSSID-z, and BSSID-y. Channel 2 shows BSSID-p and BSSID-q. Channel 3 shows BSSID-b. Links are labeled with Link ID values (e.g., Link ID-1, Link ID-2, Link ID-3).](2a5cf29bcd437255f8f1b7cd1ce728eb_img.jpg)

Figure AA-7: Example of affiliated APs belonging to a multiple BSSID set, a co-hosted BSSID set, and neither of these two cases. The diagram shows three channels (Channel 1, Channel 2, Channel 3) and three DSs (DS1, DS2, DS3) connected to three ESSs (ESS1, ESS2, ESS3). Three MLDs (MLD E, MLD F, MLD G) are shown. MLD E is connected to DS1 and ESS1, and is part of BSSID-x. MLD F is connected to DS2 and ESS2, and is part of BSSID-z. MLD G is connected to DS3 and ESS3, and is part of BSSID-y. Channel 1 shows BSSID-x, BSSID-z, and BSSID-y. Channel 2 shows BSSID-p and BSSID-q. Channel 3 shows BSSID-b. Links are labeled with Link ID values (e.g., Link ID-1, Link ID-2, Link ID-3).

Figure AA-7—Example of affiliated APs belonging to a multiple BSSID set, a co-hosted BSSID set, and neither of these two cases

As seen from Figure AA-7 (Example of affiliated APs belonging to a multiple BSSID set, a co-hosted BSSID set, and neither of these two cases), APs corresponding to BSSID-x, BSSID-z, and BSSID-y belong to the same multiple BSSID set on channel 1 and are affiliated with different AP MLDs (MLD E, MLD F, and MLD G, respectively). On channel 1, AP-y, affiliated with MLD G, corresponds to the transmitted BSSID (depicted as BSSID-y [T]) for the multiple BSSID set on channel 1. The three APs on channel 2, AP-p, AP-q, and AP-r, belong to the same co-hosted BSSID set and each is affiliated with a different AP MLD, MLD E, MLD F, and MLD G, respectively. On channel 3, there is a single AP (AP-b) that is affiliated with MLD F. Each AP MLD independently assigns a Link ID to its affiliated APs (shown as “Link ID =  $n$ ” in this example). Furthermore, each AP affiliated with the same AP MLD is part of the same ESS (shown as “ESS  $n$ ” in this example), is connected to the same DS (shown as “DS  $n$ ” in this example), and advertises the same SSID (shown as “[SSID  $n$ ]” in this example) in its Beacon and Probe Response frames. The AP MLD ID is not shown in the figure since the AP MLD ID value is equal to the BSSID Index of the affiliated AP operating on that link and therefore, the value can be different on each link (see 9.4.2.169.2).

*Insert the following new Annex AH after Annex AG (as amended by 802.11bh-2024).*

## Annex AH

(informative)

### Examples of MLO

#### AH.1 Introduction

This annex provides several examples each intended to illustrate details of a specific feature within MLO.

#### AH.2 Advertisement of multi-link information

##### AH.2.1 Example of a complete profile carried in a Basic Multi-Link element

In Figure AH-1, a non-AP STA affiliated with a non-AP MLD transmits an Association Request frame that includes a Basic Multi-Link element that carries the complete profile of two other non-AP STAs affiliated with its non-AP MLD (non-AP STA x and non-AP STA y). The figure expands the Per-STA profile for non-AP STA x. The Type subfield of the Multi-Link Control field is set to 0 to indicate that the Multi-Link element is a Basic Multi-Link element. The Common Info field carries information that applies to the MLD level as described in 9.4.2.322.2. In this example, only the Common Info Length and MLD MAC Address fields are shown. However, there can be other fields present in the Common Info field whose presence is signaled via the subfields carried within the Presence Bitmap subfield of the Multi-Link Control field. Each Per-STA Profile subelement in the Link Info field carries the complete profile, with inheritance applied, of a reported non-AP STA affiliated with the non-AP MLD. Each Per-STA Profile subelement carries the STA Control field followed by the STA Info field and the STA Profile field. In this example, only the STA Info Length and STA MAC Address fields are shown. However, there can be other subfields present in the STA Info field whose presence is signaled via the subfields in the STA Control field. The STA Profile field carries a variable number of fields and elements in the order defined in Table 9-64 with inheritance applied (see 35.3.3.5). The Non-inheritance element (if present) lists the elements that are not inherited by the reported STA.

NOTE—Since the listen interval is applied at the MLD level, the Listen interval field is not included within a STA Profile field (see 35.3.3.4) of the Basic Multi-Link element carried in an Association Request frame. As a result, the Capability Information field is the only field carried in the STA Profile field of the Basic Multi-Link element carried in an Association Request frame and is followed by elements applicable to the reported STA.

![](79a14a53976523d735488bbeb28bc1e5_img.jpg)

Diagram illustrating the structure of a Basic Multi-Link element in an Association Request.

The overall structure is divided into a **Common Info field** and a **Link Info field**.

**Common Info field** (Top Level):

- Element ID ( $=255$ )
- Length
- Element ID Extension ( $=107$ )
- Multi-Link Control
- Common Info Length
- MLD MAC Address
- ...

**Link Info field** (Top Level):

- Per-STA Profile x (Non-AP STA x)
- Per-STA Profile y (Non-AP STA y)

**Subelement ID ( $=0$ )** (Nested structure):

- Length
- Data

**Link ID** (Nested structure):

- Complete Profile ( $=1$ )
- STA MAC Address Present ( $=1$ )
- ...

**STA Control field** (Nested structure):

- STA Control

**STA Info** (Nested structure):

- STA Info Length
- STA MAC Address
- ...

**Capability Information field** (Nested structure):

- Element a
- ...
- Element n

**Non-Inheritance element (optional)** (Nested structure):

- Field(s) and element(s) ordered as defined in Table 9-62 and subject to inheritance
- Last element

Figure AH-1—Example of Basic Multi-Link element in an Association Request

## AH.2.2 Examples of inheritance in a Multi-Link element

### AH.2.2.1 Inheritance in a Basic Multi-Link element

Figure AH-2 illustrates inheritance when a per-STA profile carries a complete profile. The example shows a Management frame transmitted by a reporting STA that is affiliated with an MLD. The Management frame carries several elements with their corresponding element IDs shown in parentheses. The frame also carries a Basic Multi-Link element that is carrying two Per-STA Profile subelements corresponding to STA 1 and STA 2. In this example, the profile for STA 1, which is a complete profile, is expanded to show the details of inheritance. The contents of the profile for STA 2 are not shown in this illustration. The per-STA profile for STA 1 includes element with ID B since the contents of the element (i.e., the Information field) inside the profile has a value that is different from the value of the corresponding element carried in the same frame outside the Basic Multi-Link element. The profile also includes element with ID D and ID Y that are specific to STA 1. In addition, elements with ID C and ID F are inherited and are not carried in the profile for STA 1. The values for these two elements are the same as that carried in the frame. Furthermore, elements with ID A and ID E are not applicable to STA 1 as their corresponding (Extended) Element IDs are listed in the Non-Inheritance element.

![](7353449f283a9e993b4cd6411d27324b_img.jpg)

Diagram illustrating the structure of a Probe Request Multi-Link element, showing inheritance in a complete per-STA profile.

The overall structure is a Frame Control field, followed by a Duration field, and then a sequence of Element fields (ID=A, ID=B, ID=C, ID=E, ID=F), and finally a Basic Multi-Link element.

The Basic Multi-Link element contains the Link Info field, which points to the STA Profile structure.

The STA Profile structure is composed of the following fields (from left to right):

- STA Control field
- STA Info
- Capability Information
- Element (ID=B)
- Element (ID=D)
- Element (ID=Y)
- Non-Inheritance (ID=A, E)

The STA Profile structure also includes a Subelement structure, which is composed of:

- Subelement ID (=0)
- Length
- Data

The Subelement structure is associated with the Info of STA(s) on other Link(s).

The Link Info field points to the Per-STA Profile 1 (STA 1) and Per-STA Profile 2 (STA 2) structures, which are part of the STA Profile structure.

The Per-STA Profile 1 (STA 1) structure is composed of:

- Element ID (=255)
- Length
- Element ID Extension
- Multi-Link Control (Type = 0)
- Common Info field
- Per-STA Profile 1 (STA 1)
- Per-STA Profile 2 (STA 2)

Figure AH-2—Example of inheritance in a complete per-STA profile

#### AH.2.2.2 Inheritance in a Probe Request Multi-Link element

Figure AH-3 (Example of inheritance in a Request element for multi-link probe request) illustrates a multi-link probe request transmitted by a non-AP STA that is affiliated with a non-AP MLD. The non-AP STA requests a partial profile for two APs (AP x and AP y) and a complete profile for one AP (AP z), where all APs are affiliated with the same AP MLD. The non-AP STA includes a Request element in the Probe Request frame body requesting the element with Element ID A for the AP to which the Probe Request frame is sent. The frame carries a Probe Request Multi-Link element that includes three Per-STA Profile subelements requesting information for AP x, AP y, AP z.

For AP x, the non-AP STA requests the element with Element ID A, which is the same as the element requested for the AP receiving the multi-link probe request. Hence, the Complete Profile Requested subfield for the per-STA profile x is set to 0 and the per-STA profile does not include the Request element in the STA Profile field by the inheritance rule. For AP y, the non-AP STA requests the element with Element ID B, which is different from the requested element for the AP (i.e., Element ID A) receiving the multi-link probe request. Hence, the Complete Profile Requested subfield for the per-STA profile y is set to 0 and the per-STA profile includes the Request element in the STA Profile field that indicates Element ID B. The non-AP STA requests the complete profile for AP z. The Complete Profile Requested subfield for the per-STA profile z is set to 1 and the per-STA profile does not include any elements in the STA Profile field.

![](8797c802c2b28cc094c2fad932ab166a_img.jpg)

Figure AH-3 illustrates the inheritance structure of the Request element for a multi-link probe request. The diagram shows three main elements:

- **Probe Request Multi-Link element** (Top level): Contains Frame Control, Duration, ..., Element (ID = A), Element (ID = B), Request element (ID = 10, value = a).
- **Multi-Link Control (Type = 1)** (Middle level): Contains Element (ID = 255), Length, Element ID Extension, and links to Per-STA Profile x, Per-STA Profile y, and Per-STA Profile z. The Multi-Link Control element also contains a Link Info field.
- **STA Control** (Bottom level): Each STA Control element contains Subelement ID (=0), Length, Data, Link ID, Complete Profile Requested (=0), and ...

The STA Control elements are linked to the Request element (ID = 10, value = b) via the STA Profile field. The Per-STA Profile elements (x, y, z) are linked to the Request element (ID = 10, value = b) via the STA Profile field.

Figure AH-3—Example of inheritance in a Request element for multi-link probe request

### AH.2.3 Contents of Management frames during ML reconfiguration affiliated AP removal procedure

The following figures in this subclause, provide illustrations showing the content of Management frames during ML reconfiguration affiliated AP removal procedure for certain selected scenarios. The figures are meant to provide an overview of a content, location, and order of certain elements. The illustrations do not show all the possible scenarios.

In the following figures, content of Management frames during ML reconfiguration affiliated AP removal procedure are illustrated as follows:

- A Beacon frame or Probe Response frame that is not a multi-link probe response advertising removal of a reported AP, where the transmitting AP is not a member of a multiple BSSID set, in Figure AH-4.

![](1bfa4075b78f06e822786d348cc4a1bb_img.jpg)

Figure AH-4 illustrates the contents of a Beacon frame or a non-ML probe response during ML reconfiguration affiliated AP removal procedure for removing a reported AP (non-multiple BSSID scenario). The frame structure is shown as a sequence of elements:

- Beacon frame or a non-ML probe response (containing non-EHT elements of the transmitting AP).
- AP entries (containing Link ID=1 and Link ID=2).
- EHT Operation (containing Basic Multi-Link element).
- Common Info (containing Basic Multi-Link element).
- Per-STA profile (containing Reconfig Multi-Link element).
- EHT Capabilities.

Figure AH-4—Contents of a Beacon frame or a non-multi-link probe response during ML reconfiguration affiliated AP removal procedure for removing a reported AP (non-multiple BSSID scenario)

— A Beacon frame or Probe Response frame that is not a multi-link probe response advertising removal of the transmitting AP, where the transmitting AP is not a member of a multiple BSSID set, in Figure AH-5.

![Figure AH-5: Diagram showing the contents of a Beacon frame or a non-multi-link probe response during ML reconfiguration affiliated AP removal procedure for removing the transmitting AP (non-multiple BSSID scenario). The frame structure includes: Beacon frame or non-ML probe response, followed by (non-EHT) elements of the transmitting AP, AP entries, EHT Operation, Common Info, Common Info, Per-STA profile, and EHT Capabilities. Link IDs are Link ID-1, Link ID-2, and Link ID-3.](0cf7f7771285c29b50f57459f4b7b0be_img.jpg)

Figure AH-5: Diagram showing the contents of a Beacon frame or a non-multi-link probe response during ML reconfiguration affiliated AP removal procedure for removing the transmitting AP (non-multiple BSSID scenario). The frame structure includes: Beacon frame or non-ML probe response, followed by (non-EHT) elements of the transmitting AP, AP entries, EHT Operation, Common Info, Common Info, Per-STA profile, and EHT Capabilities. Link IDs are Link ID-1, Link ID-2, and Link ID-3.

Figure AH-5—Contents of a Beacon frame or a non-multi-link probe response during ML reconfiguration affiliated AP removal procedure for removing the transmitting AP (non-multiple BSSID scenario)

— A Beacon frame or Probe Response frame that is not a multi-link probe response advertising removal of an AP affiliated with the AP MLD of the transmitted BSSID of a multiple BSSID set, in Figure AH-6.

![Figure AH-6: Diagram showing the contents of a Beacon frame or a non-multi-link probe response during ML reconfiguration affiliated AP removal procedure for removing an AP affiliated with the AP MLD of the transmitted BSSID. The frame structure includes: Beacon frame or non-ML probe response, followed by (non-EHT) elements of the transmitting AP, Nontransmitted BSSID profile, Other profile specific elements, Reduced Neighbor Report element, AP MLD ID-0 Link ID-1, AP entries, EHT Operation, Common Info, Common Info, Per-STA profile, and EHT Capabilities. Link IDs are Link ID-1, Link ID-2, Link ID-3, and Link ID-4.](87311295b575c5a5e180de10f4bce823_img.jpg)

Figure AH-6: Diagram showing the contents of a Beacon frame or a non-multi-link probe response during ML reconfiguration affiliated AP removal procedure for removing an AP affiliated with the AP MLD of the transmitted BSSID. The frame structure includes: Beacon frame or non-ML probe response, followed by (non-EHT) elements of the transmitting AP, Nontransmitted BSSID profile, Other profile specific elements, Reduced Neighbor Report element, AP MLD ID-0 Link ID-1, AP entries, EHT Operation, Common Info, Common Info, Per-STA profile, and EHT Capabilities. Link IDs are Link ID-1, Link ID-2, Link ID-3, and Link ID-4.

Figure AH-6—Contents of a Beacon frame or a non-multi-link probe response during ML reconfiguration affiliated AP removal procedure for removing an AP affiliated with the AP MLD of the transmitted BSSID

— A Beacon frame or Probe Response frame that is not a multi-link probe response advertising removal of an AP affiliated with the AP MLD of a nontransmitted BSSID of a multiple BSSID set, in Figure AH-7.

![Figure AH-7: Diagram showing the contents of a Beacon frame or a non-multi-link probe response during ML reconfiguration affiliated AP removal procedure for removing an AP affiliated with the AP MLD of a nontransmitted BSSID. The frame structure includes: Beacon frame or non-ML probe response, followed by (non-EHT) elements of the transmitting AP, Nontransmitted BSSID profile, Other profile specific elements, Reduced Neighbor Report element, AP entries, EHT Operation, Common Info, Common Info, Per-STA profile, and EHT Capabilities. Link IDs are Link ID-1, Link ID-2, Link ID-3, and Link ID-4.](345a43b4d62861720a50ee31802ee301_img.jpg)

Figure AH-7: Diagram showing the contents of a Beacon frame or a non-multi-link probe response during ML reconfiguration affiliated AP removal procedure for removing an AP affiliated with the AP MLD of a nontransmitted BSSID. The frame structure includes: Beacon frame or non-ML probe response, followed by (non-EHT) elements of the transmitting AP, Nontransmitted BSSID profile, Other profile specific elements, Reduced Neighbor Report element, AP entries, EHT Operation, Common Info, Common Info, Per-STA profile, and EHT Capabilities. Link IDs are Link ID-1, Link ID-2, Link ID-3, and Link ID-4.

Figure AH-7—Contents of a Beacon frame or a non-multi-link probe response during ML reconfiguration affiliated AP removal procedure for removing an AP affiliated with the AP MLD of a nontransmitted BSSID

— A multi-link probe response advertising removal of an AP affiliated with the AP MLD of the transmitted BSSID, in Figure AH-8.

![Figure AH-8: Diagram illustrating the contents of a multi-link probe response during ML reconfiguration affiliated AP removal procedure for removing an AP affiliated with the AP MLD of the transmitted BSSID, when the soliciting frame was directed to the transmitted BSSID. The diagram shows the frame structure with elements like ML probe response (T-BSSID), Nontransmitted BSSID profiles, Other profile specific elements, AP MLD ID=1 Link ID=1, AP MLD ID=0 Link ID=0, Link ID=0, EHT Operation, Common Info, Per-STA profile, and EHT Capabilities.](1d40c360bd8c279910b4da4546a4e907_img.jpg)

Figure AH-8: Diagram illustrating the contents of a multi-link probe response during ML reconfiguration affiliated AP removal procedure for removing an AP affiliated with the AP MLD of the transmitted BSSID, when the soliciting frame was directed to the transmitted BSSID. The diagram shows the frame structure with elements like ML probe response (T-BSSID), Nontransmitted BSSID profiles, Other profile specific elements, AP MLD ID=1 Link ID=1, AP MLD ID=0 Link ID=0, Link ID=0, EHT Operation, Common Info, Per-STA profile, and EHT Capabilities.

Figure AH-8—Contents of a multi-link probe response during ML reconfiguration affiliated AP removal procedure for removing an AP affiliated with the AP MLD of the transmitted BSSID, when the soliciting frame was directed to the transmitted BSSID

— A multi-link probe response advertising removal of an AP affiliated with the AP MLD of the non-transmitted BSSID, in Figure AH-9.

![Figure AH-9: Diagram illustrating the contents of a multi-link probe response during ML reconfiguration affiliated AP removal procedure for removing an AP affiliated with the AP MLD of a nontransmitted BSSID, when the soliciting frame was directed to nontransmitted BSSID corresponding to index 5. The diagram shows the frame structure with elements like ML probe response (non-T-BSSID), Nontransmitted BSSID profiles, Other profile specific elements, Reconfig Multi-Link element, AP entries, EHT Operation, Common Info, Per-STA profile, and EHT Capabilities.](00343fb33ad2d53241a4dad80d68e329_img.jpg)

Figure AH-9: Diagram illustrating the contents of a multi-link probe response during ML reconfiguration affiliated AP removal procedure for removing an AP affiliated with the AP MLD of a nontransmitted BSSID, when the soliciting frame was directed to nontransmitted BSSID corresponding to index 5. The diagram shows the frame structure with elements like ML probe response (non-T-BSSID), Nontransmitted BSSID profiles, Other profile specific elements, Reconfig Multi-Link element, AP entries, EHT Operation, Common Info, Per-STA profile, and EHT Capabilities.

Figure AH-9—Contents of a multi-link probe response during ML reconfiguration affiliated AP removal procedure for removing an AP affiliated with the AP MLD of a nontransmitted BSSID, when the soliciting frame was directed to nontransmitted BSSID corresponding to index 5

## AH.3 Contents of Management frames during MLO discovery and setup

### AH.3.1 Management frames originating from an affiliated non-AP STA

In the following, contents of the Management frames transmitted by a non-AP STA affiliated with a non-AP MLD during MLO discovery and ML setup are illustrated as follows:

- A Probe Request frame that is not a multi-link probe request in Figure AH-10,
- A multi-link probe request in Figure AH-11,
- An Authentication frame in Figure AH-12, and
- A (Re)Association Request frame in Figure AH-13.

![Figure AH-10: Diagram illustrating the contents of a Probe Request frame that is not a multi-link probe request transmitted by a non-AP STA affiliated with a non-AP MLD during MLO discovery. The frame consists of a (non-multi-link) probe request element followed by several elements, each labeled 'Element set as described in 35.3.3.4.5'.](917f1be26199562b7d5735b89d2fb912_img.jpg)

Figure AH-10: Diagram illustrating the contents of a Probe Request frame that is not a multi-link probe request transmitted by a non-AP STA affiliated with a non-AP MLD during MLO discovery. The frame consists of a (non-multi-link) probe request element followed by several elements, each labeled 'Element set as described in 35.3.3.4.5'.

Figure AH-10—Contents of a Probe Request frame that is not a multi-link probe request transmitted by a non-AP STA affiliated with a non-AP MLD during MLO discovery

![](a7b7ad5d34f3bfe9574de530de06482d_img.jpg)

Figure AH-11 illustrates the contents of a multi-link probe request transmitted by a non-AP STA affiliated with a non-AP MLD during MLO discovery. The frame structure consists of multiple multi-link probe request elements, followed by a Probe Request Multi-link element. This element contains Common Info (optionally included), Link Info (optionally included), and Per-STA profile(s).

Figure AH-11—Contents of a multi-link probe request transmitted by a non-AP STA affiliated with a non-AP MLD during MLO discovery

![](c5a8b0ac7f90e800533355de63ecba19_img.jpg)

Figure AH-12 illustrates the contents of an Authentic frame transmitted by a non-AP STA affiliated with a non-AP MLD during ML setup. The frame structure consists of multiple Authentication frames, followed by a Basic Multi-Link element. This element contains Common Info.

Figure AH-12—Contents of an Authentic frame transmitted by a non-AP STA affiliated with a non-AP MLD during ML setup

![](76d40a647e1e2e3da930cf5c8affd330_img.jpg)

Figure AH-13 illustrates the contents of a (Re)Association Request frame transmitted by a non-AP STA affiliated with a non-AP MLD during ML setup. The frame structure consists of multiple (Re)Association Request frames, followed by a Basic Multi-Link element. This element contains Common Info, Per-STA profile(s), and EHT Capabilities.

Figure AH-13—Contents of a (Re)Association Request frame transmitted by a non-AP STA affiliated with a non-AP MLD during ML setup

### AH.3.2 Management frames originating from an affiliated AP that is not a member of a multiple BSSID set

In the following, contents of Management frames transmitted by an affiliated AP that is not a member of a multiple BSSID set during MLO discovery and ML setup are illustrated as follows:

- A Beacon frame or Probe Response frame that is not a multi-link probe response in Figure AH-14,
- A multi-link probe response in Figure AH-15,
- An Authentication frame in Figure AH-16, and

— A (Re)Association Response frame in Figure AH-17.

![](09ca69eae75da99aa6d3310e635f9d0d_img.jpg)

Diagram illustrating the contents of a Beacon frame or a non-multi-link probe response that is not a multi-link probe response transmitted by an affiliated AP that is not a member of a multiple BSSID set during MLO discovery.

The frame structure includes:

- (non-EHT) elements of the transmitting AP
- AP entries
- EHT Operation
- Common Info
- EHT Capabilities
- Reduced Neighbor Report element

Figure AH-14—Contents of a Beacon frame or Probe Response frame that is not a multi-link probe response transmitted by an affiliated AP that is not a member of a multiple BSSID set during MLO discovery

![](d578c6b98986fcf688a9b1b36bc71517_img.jpg)

Diagram illustrating the contents of a multi-link probe response transmitted by an affiliated AP that is not a member of a multiple BSSID set during MLO discovery.

The frame structure includes:

- (non-EHT) elements of the transmitting AP
- AP entries
- EHT Operation
- Common Info
- EHT Capabilities
- Reduced Neighbor Report element
- Per-STA profile(s)
- Link ID=0, Link ID=1
- AP MLD ID=0

Figure AH-15—Contents of a multi-link probe response transmitted by an affiliated AP that is not a member of a multiple BSSID set during MLO discovery

![](20a99162ae1deefdadb6eb02cd514056_img.jpg)

Diagram illustrating the contents of an Authentication frame transmitted by an affiliated AP that is not a member of a multiple BSSID set during ML setup.

The frame structure includes:

- (non-EHT) elements of the transmitting AP
- Common Info
- Basic Multi-Link element

Figure AH-16—Contents of an Authentication frame transmitted by an affiliated AP that is not a member of a multiple BSSID set during ML setup

![](d6e4376c9a1c39c3e5f18677b768f9ec_img.jpg)

Diagram illustrating the contents of a (Re)Association Response frame transmitted by an affiliated AP that is not a member of a multiple BSSID set during MLO discovery.

The frame structure includes:

- (non-EHT) elements of the transmitting AP
- EHT Operation
- Common Info
- Per-STA profile(s)
- EHT Capabilities
- Basic Multi-Link element

Figure AH-17—Contents of a (Re)Association Response frame transmitted by an affiliated AP that is not a member of a multiple BSSID set during MLO discovery

### AH.3.3 Management frames originating from an affiliated AP that is a member of a multiple BSSID set

In the following, content of Management frames transmitted by an AP affiliated with an AP MLD that is a member of multiple BSSID set during MLO discovery and ML setup are illustrated as follows:

- A Beacon frame or Probe Response frame that is not a multi-link probe response in Figure AH-18.
- A multi-link probe response when soliciting frame was directed to transmitted BSSID in Figure AH-19.
- A multi-link probe response when soliciting frame was directed to nontransmitted BSSID corresponding to index 5 in Figure AH-20.
- An Authentication frame in Figure AH-21, and
- A (Re)Association Response frame transmitted by nontransmitted BSSID corresponding to index 5 in Figure AH-22.

In these illustrations:

- The reporting AP corresponds to the transmitted BSSID in a multiple BSSID set.
- There are three BSSIDs active in the multiple BSSID set: transmitted BSSID (index 0) and two nontransmitted BSSIDs corresponding to (BSSID) index 3 and (BSSID) index 5, respectively.
- Each AP corresponding to a BSSID within the multiple BSSID set is affiliated with a different AP MLD.
- Each AP MLD has two affiliated APs: One is a member of the multiple BSSID set and the other operating on a different link.
- The Beacon and Probe Response frames transmitted by the AP corresponding to the transmitted BSSID include a Reduced Neighbor Report element carrying three TBTT Information fields each corresponding to an AP that is operating on a different link and affiliated with a different AP MLD.
- The Beacon frames and Probe Response frames, which are not a multi-link probe response, transmitted by the AP corresponding to the transmitted BSSID include a Basic Multi-Link element.
- The Beacon frames and Probe Response frames transmitted by the AP corresponding to the transmitted BSSID also includes Multiple BSSID element.
- The Nontransmitted BSSID Profile subelement, carried in the Multiple BSSID element, for each AP corresponding to the nontransmitted BSSID includes a Basic Multi-Link element. This is shown in Figure AH-18.
- The Per-STA Profile subelement of the Basic Multi-Link element corresponding to a reported AP is not included in the element unless conditions specified in 35.3.11 are satisfied for that reported affiliated AP.

When the multi-link probe request is addressed to the AP corresponding to the transmitted BSSID, the multi-link probe response is transmitted by the AP corresponding to the transmitted BSSID and includes the Basic Multi-Link element containing the Per-STA Profile subelement carrying information of the AP that is operating on another link and is affiliated with AP MLD to which the AP corresponding to the transmitted BSSID is affiliated with. This is shown in Figure AH-20. The Probe Response frame also includes a Basic Multi-Link element outside of the Multiple BSSID element, which corresponds to the AP MLD with which the transmitted BSSID is affiliated (see 35.3.20).

The Authentication frame and (Re)Association Request/Response frame exchange occurs between the non-AP STA affiliated with the non-AP MLD and the AP in the multiple BSSID set (corresponding to either the transmitted BSSID or the nontransmitted BSSID) that is affiliated with the AP MLD with which the non-AP MLD intends to perform ML setup. This is shown in Figure AH-21 and Figure AH-22.

![](649660bdbe141d4350b1eb71b777f61e_img.jpg)

Figure AH-18 illustrates the contents of a Beacon frame or Probe Response frame that is not a multi-link probe response transmitted by an AP corresponding to the transmitted BSSID during MLO discovery. The frame structure includes:

- Non-EHT elements of the transmitting AP (Beacon frame or non-multi-link probe response)
- Nontransmitted BSSID profile (Multiple BSSID element)
- Other profile specific elements (Basic Multi-Link element, Index-5, Common Info field)
- AP entries (Reduced Neighbor Report element)
- EHT Operation (Basic Multi-Link element)
- Common Info (Basic Multi-Link element)
- EHT Capabilities (Per-STA profile)

Figure AH-18—Contents of a Beacon frame or Probe Response frame that is not a multi-link probe response transmitted by an AP corresponding to the transmitted BSSID during MLO discovery

![](24e4d005d052dac4d4fc6494cdfb00bc_img.jpg)

Figure AH-19 illustrates the contents of a multi-link probe response, when soliciting frame was directed to the transmitted BSSID, transmitted by an AP affiliated with an AP MLD that is a member of multiple BSSID set during MLO discovery. The frame structure includes:

- Non-EHT elements of the transmitting AP (multi-link probe response (TA/BSSID))
- Nontransmitted BSSID profile (Multiple BSSID element)
- Other profile specific elements (Basic Multi-Link element, Index-5, Common Info field)
- AP entries (AP MLD ID-0, AP MLD ID-5)
- EHT Operation (Common Info)
- Common Info (Basic Multi-Link element)
- EHT Capabilities (Per-STA profile)

Figure AH-19—Contents of a multi-link probe response, when soliciting frame was directed to the transmitted BSSID, transmitted by an AP affiliated with an AP MLD that is a member of multiple BSSID set during MLO discovery

![](4c47f361d86a533e7a72bd64e632662c_img.jpg)

Figure AH-20 illustrates the contents of a multi-link probe response, when soliciting frame was directed to nontransmitted BSSID corresponding to index 5, transmitted by an AP affiliated with an AP MLD that is a member of multiple BSSID set during MLO discovery. The frame structure includes:

- Non-EHT elements of the transmitting AP (multi-link probe response (non-TA/BSSID))
- Nontransmitted BSSID profile (BSSID w/ Index-5 element)
- Other profile specific elements (Basic Multi-Link element, Index-5, Common Info field)
- AP entries (AP MLD ID-0, AP MLD ID-5)
- EHT Operation (Common Info)
- Common Info (Basic Multi-Link element)
- EHT Capabilities (Per-STA profile)

Figure AH-20—Contents of a multi-link probe response, when soliciting frame was directed to nontransmitted BSSID corresponding to index 5, transmitted by an AP affiliated with an AP MLD that is a member of multiple BSSID set during MLO discovery

![](4a855131ab9e508d26348fe0f6df69fa_img.jpg)

Diagram illustrating the contents of an Authentication frame transmitted by an AP affiliated with an AP MLD that is a member of multiple BSSID set during ML setup.

The frame structure consists of:

- Authentication frame (labeled as "Authentication frame" and "Common Info")
- ... (representing non-EHT elements of the transmitting AP)
- Basic Multi-Link element (labeled as "Basic Multi-Link element" and "Common Info")

Figure AH-21—Contents of an Authentication frame transmitted by an AP affiliated with an AP MLD that is a member of multiple BSSID set during ML setup

![](417af9efca59aac9c1ab2586f3d48ab0_img.jpg)

Diagram illustrating the contents of a (Re)Association Response frame transmitted by nontransmitted BSSID corresponding to index 5 during ML setup.

The frame structure consists of:

- (Re)Association Response frame (labeled as "(Re)Association Response frame" and "Common Info")
- ... (representing non-EHT elements of the transmitting AP)
- EHT Operation (labeled as "EHT Operation" and "Common Info")
- Basic Multi-Link element (labeled as "Basic Multi-Link element" and "Common Info")
- Per-STA profile (labeled as "Per-STA profile" and "EHT Capabilities")

Figure AH-22—Contents of a (Re)Association Response frame transmitted by nontransmitted BSSID corresponding to index 5 during ML setup

#### AH.4 Example of ML setup

An example of ML setup is shown in Figure AH-23.

![](498b383edc68ee8c4d439fabf7866ffd_img.jpg)

Diagram illustrating the Example of ML setup (Figure AH-23).

The diagram shows the initial state (left) and the successful multi-link setup state (right).

**Initial State:**

- AP MLD contains AP 1 (2.4 GHz), AP 2 (5 GHz), and AP 3 (6 GHz).
- Non-AP MLD contains Non-AP STA 1, Non-AP STA 2, and Non-AP STA 3.
- Non-AP STA 1 sends an Association Request frame to AP 1.
- The Association Request frame includes a Basic Multi-Link element with MAC addresses of Non-AP STA 1 and AP 1, and a Per-STA Profile subelement for Non-AP STA 1.

**Successful Multi-link Setup:**

- AP MLD contains AP 1 (2.4 GHz), AP 2 (5 GHz), and AP 3 (6 GHz).
- Non-AP MLD contains Non-AP STA 1, Non-AP STA 2, and Non-AP STA 3.
- Successful multi-link setup is indicated by a successful multi-link setup arrow.
- AP 1 establishes Link 1 (2.4 GHz, WM) with Non-AP STA 1.
- AP 2 establishes Link 2 (5 GHz, WM) with Non-AP STA 2.
- AP 3 establishes Link 3 (6 GHz, WM) with Non-AP STA 3.

Figure AH-23—Example of ML setup

In this example, the AP MLD has three affiliated APs: AP 1 operates in the 2.4 GHz band, AP 2 operates in the 5 GHz band, and AP 3 operates in the 6 GHz band. The non-AP MLD initiates the ML setup procedure and non-AP STA 1 affiliated with the non-AP MLD sends an Association Request frame to AP 1 affiliated with the AP MLD, i.e., the TA field of the Association Request frame is set to the MAC address of the non-AP STA 1 and the RA field of the Association Request frame is set to the MAC address of the AP 1. The Association Request frame includes a Basic Multi-Link element that indicates the MLD MAC address of the non-AP MLD and a complete profile of non-AP STA 1 (in the frame body of the Association Request frame), non-AP STA 2 (in a Per-STA Profile subelement carried in the Basic Multi-Link element), and non-

AP STA 3 (in a Per-STA Profile subelement carried in the Basic Multi-Link element) to request three links to be setup (one link between AP 1 and non-AP STA 1, one link between AP 2 and non-AP STA 2, and one link between AP 3 and non-AP STA 3). AP MLD then responds to the requested ML setup, and AP 1 affiliated with the AP MLD sends an Association Response frame to non-AP STA 1 affiliated with the non-AP MLD, i.e., the TA field of the Association Response frame is set to the MAC address of the AP 1 and the RA field of the Association Response frame is set to the MAC address of the non-AP STA 1, to indicate successful ML setup. The Association Response frame includes a Basic Multi-Link element that indicates the MLD MAC address of the AP MLD and a complete profile of AP 1 (in the frame body of the Association Response frame), AP 2 (in a Per-STA Profile subelement carried in the Basic Multi-Link element), and AP 3 (in a Per-STA Profile subelement carried in the Basic Multi-Link element). After successful ML setup between the non-AP MLD and AP MLD, three links are setup (link 1 between AP 1 and non-AP STA 1, link 2 between AP 2 and non-AP STA 2, and link 3 between AP 3 and non-AP STA 3).

#### AH.5 Examples of link reconfiguration to ML setup

Figure AH-24 shows an example of link reconfiguration to the ML setup of a non-AP MLD, where the non-AP MLD is adding a link to its ML setup. The AP MLD has three affiliated APs: AP 1 operates in the 2.4 GHz band, AP 2 operates in the 5 GHz band, and AP 3 operates in the 6 GHz band. The non-AP MLD has three affiliated non-AP STAs: non-AP STA 1, non-AP STA 2, and non-AP STA 3. The non-AP MLD is associated with the AP MLD on two links, Link 1 on 2.4 GHz between AP 1 and non-AP STA 1 and Link 2 on 5 GHz between AP 2 and non-AP STA 2. The non-AP MLD initiates a link reconfiguration procedure to its ML setup and the non-AP STA 1 affiliated with the non-AP MLD sends a Link Reconfiguration Request frame to AP 1 affiliated with the AP MLD, i.e., the TA field of the Link Reconfiguration Request frame is set to the MAC address of the non-AP STA 1 and the RA field of the Link Reconfiguration Request frame is set to the MAC address of the AP 1. The Link Reconfiguration Request frame includes a Reconfiguration Multi-Link element that indicates an add link operation to setup a link between AP 3 and non-AP STA 3 and includes complete profile for the non-AP STA 3 in a Per-STA Profile subelement carried in the Reconfiguration Multi-Link element. The AP MLD then responds to the request frame, and the AP 1 affiliated with the AP MLD sends a Link Reconfiguration Response frame to the non-AP STA 1 affiliated with the non-AP MLD, i.e., the TA field of the Link Reconfiguration Response frame is set to the MAC address of the AP 1 and the RA field of the Link Reconfiguration Response frame is set to the MAC address of the non-AP STA 1, and indicates successful add link to the ML setup. The Link Reconfiguration Response frame indicates SUCCESS status for add link operation for Link 3 and includes a Basic Multi-Link element that provides complete profile of AP 3 in a Per-STA Profile element. After successful link reconfiguration, Link 3 is setup between AP 3 and non-AP STA 3 for the non-AP MLD.

![Diagram illustrating link reconfiguration to the ML setup for adding a link. The diagram shows two states: Initial ML setup and Successful link reconfiguration. Initial ML setup shows AP 1 (2.4 GHz), AP 2 (5 GHz), AP 3 (6 GHz) associated with Non-AP STA 1 (2.4 GHz), Non-AP STA 2 (5 GHz), and Non-AP STA 3 (6 GHz). Successful link reconfiguration shows the same APs and STAs, but Non-AP STA 3 is now associated with AP 3 (6 GHz).](899bc2aeb2d8575f9cb7046add18ff27_img.jpg)

Diagram illustrating link reconfiguration to the ML setup for adding a link. The diagram shows two states: Initial ML setup and Successful link reconfiguration. Initial ML setup shows AP 1 (2.4 GHz), AP 2 (5 GHz), AP 3 (6 GHz) associated with Non-AP STA 1 (2.4 GHz), Non-AP STA 2 (5 GHz), and Non-AP STA 3 (6 GHz). Successful link reconfiguration shows the same APs and STAs, but Non-AP STA 3 is now associated with AP 3 (6 GHz).

Figure AH-24—An example of link reconfiguration to the ML setup for adding a link

Figure AH-25 shows a second example of link reconfiguration to the ML setup of a non-AP MLD, where the non-AP MLD is deleting a link and adding a link. The AP MLD has three affiliated APs and the non-AP MLD has three affiliated non-AP STAs. The non-AP MLD is associated with the AP MLD on two links, Link 1 on 2.4 GHz between AP 1 and non-AP STA 1 and Link 2 on 5 GHz between AP 2 and non-AP STA 2. The non-AP MLD initiates a link reconfiguration procedure to its ML setup and the non-AP STA 1 affiliated with the non-AP MLD sends a Link Reconfiguration Request frame to AP 1 affiliated with the AP

MLD. The Link Reconfiguration Request frame includes a Reconfiguration Multi-Link element that indicates a delete link operation for Link 2 (between AP 2 and non-AP STA 2) and an add-AP STA 2) and an add link operation to setup a link between AP 3 and non-AP STA 3 and includes complete profile for the non-AP STA 3 in a Per-STA Profile subelement carried in the Reconfiguration Multi-Link element. The AP MLD then responds to the request frame, and the AP 1 affiliated with the AP MLD sends a Link Reconfiguration Response frame to the non-AP STA 1 affiliated with the non-AP MLD, to indicate successful delete link and add link to the ML setup. The Link Reconfiguration Response frame indicates SUCCESS status for delete link operation for Link 2 and add link operation for Link 3 and includes a Basic Multi-Link element that provides complete profile of AP 3 in a Per-STA Profile element. After successful link reconfiguration, Link 2 between AP 2 and non-AP STA 2 is deleted, and Link 3 is setup between AP 3 and non-AP STA 3 for the non-AP MLD.

![Figure AH-25 illustrates the link reconfiguration process. The initial setup (AP MLD and Non-AP MLD) shows three links: Link 1 (2.4 GHz, 2.4 GHz WM), Link 2 (5 GHz, 5 GHz WM), and Link 3 (6 GHz, 6 GHz WM). A successful link reconfiguration is shown where Link 2 is deleted and Link 3 is added, resulting in the final setup (AP MLD and Non-AP MLD) showing Link 1, Link 3, and Link 3 (6 GHz, 6 GHz WM).](73db6fa14699026c1a36de6ae55ca90c_img.jpg)

Figure AH-25 illustrates the link reconfiguration process. The initial setup (AP MLD and Non-AP MLD) shows three links: Link 1 (2.4 GHz, 2.4 GHz WM), Link 2 (5 GHz, 5 GHz WM), and Link 3 (6 GHz, 6 GHz WM). A successful link reconfiguration is shown where Link 2 is deleted and Link 3 is added, resulting in the final setup (AP MLD and Non-AP MLD) showing Link 1, Link 3, and Link 3 (6 GHz, 6 GHz WM).

Figure AH-25—An example of link reconfiguration to the ML setup for deleting a link and adding a link

#### AH.6 Example of TTLM frame exchange

Figure AH-26 explains the procedure via an example consisting of an AP MLD having three affiliated APs with different DTIM intervals and with TBTTs that are not aligned.

![Figure AH-26 is a timing diagram illustrating an advertised TTLM taking effect on all links. It shows three links (Link 1, Link 2, Link 3) with their respective DTIM intervals (1, 2, 3 respectively) and Beacon frames. The diagram shows the mapping of the TTLM field in the Beacon frame to the DTIM interval field in the Link Reconfiguration Request frame, and the subsequent mapping of the TTLM field in the Link Reconfiguration Response frame to the DTIM interval field in the Link Reconfiguration Request frame.](f93e88e7e97643d874819961f5f2db37_img.jpg)

Figure AH-26 is a timing diagram illustrating an advertised TTLM taking effect on all links. It shows three links (Link 1, Link 2, Link 3) with their respective DTIM intervals (1, 2, 3 respectively) and Beacon frames. The diagram shows the mapping of the TTLM field in the Beacon frame to the DTIM interval field in the Link Reconfiguration Request frame, and the subsequent mapping of the TTLM field in the Link Reconfiguration Response frame to the DTIM interval field in the Link Reconfiguration Request frame.

Figure AH-26—An illustration of an advertised TTLM taking effect on all links

Figure AH-27 shows an example sequence of TTLM frame exchanges. The non-AP MLD operates in default mapping mode in the beginning of the sequence. The non-AP MLD then initiates a negotiation of a

TTLM A. The AP MLD accepts the request, after which TTLM A is active for the non-AP MLD. Next the AP MLD starts to advertise a TTLM B that maps all TIDs to a set of link(s) that is a subset of the enabled link set in the TTLM A. At the time indicated by the Mapping Switch field of the advertised TID-To-Link Mapping element, TTLM B is established on the non-AP MLD. Note that we assume that the non-AP MLD includes all the APs affiliated with the AP MLD in its ML setup, so the same TTLM B is established for the non-AP MLD. In the next step the non-AP MLD requests another TTLM C. Note that the link(s) included in the Link Mapping field of TTLM C is a subset of the link(s) included in the Link Mapping field of TTLM B. The AP MLD accepts the request for TTLM C, after which TTLM C is active for the non-AP MLD.

![](7da25e013d59ccc7b2b7325edf4b094e_img.jpg)

Figure AH-27 is a timeline diagram illustrating the TTLM frame exchange where the advertised mapping is a subset of a negotiated mapping. The timeline shows the state of the AP MLD and non-AP MLD over time, with events marked by vertical lines.

Initial state: Default Mapping Active (for both AP MLD and non-AP MLD).

Event 1 (AP MLD): Request Mapping A (non-AP MLD). Response Success (AP MLD).

Event 2 (AP MLD): Beacon, Advertising Mapping B (non-AP MLD).

Event 3 (non-AP MLD): Request Mapping C (C is a subset of B) (AP MLD). Response Success (non-AP MLD).

Mapping states (from left to right): Default Mapping Active, Mapping A Active, Mapping B Active, Mapping C Active.

Mapping Switch events are indicated below the timeline.

Figure AH-27—Example TTLM frame exchange where the advertised mapping is a subset of a negotiated mapping

Figure AH-28 shows another example of TTLM where the negotiated mapping is a subset of an advertised mapping. The non-AP MLD operates in default mapping mode at the beginning of the sequence. The non-AP MLD then initiates a negotiation of a TTLM A. The AP MLD accepts the request, after which TTLM A is active for the non-AP MLD. Next the AP MLD starts to advertise a TTLM B that maps all TIDs to a set of link(s) that is a superset of the enabled link set in the TTLM A. At the time indicated by the Mapping Switch field of the advertised TID-to-Link Mapping element, TTLM A continues to hold true for the non-AP MLD.

![](be08d6d161158d96b65190b8456ab7ef_img.jpg)

Figure AH-28 is a timeline diagram illustrating the TTLM frame exchange where the negotiated mapping is a subset of an advertised mapping. The timeline shows the state of the AP MLD and non-AP MLD over time, with events marked by vertical lines.

Initial state: Default Mapping Active (for both AP MLD and non-AP MLD).

Event 1 (non-AP MLD): Request Mapping A (AP MLD). Response Success (non-AP MLD).

Event 2 (AP MLD): Beacon, Advertising Mapping B (non-AP MLD).

Mapping states (from left to right): Default Mapping Active, Mapping A Active, Mapping B Active.

Mapping Switch events are indicated below the timeline.

Figure AH-28—Example of TTLM where the negotiated mapping is a subset of an advertised mapping

## AH.7 Example of critical update operation

Figure AH illustrates two APs affiliated with the same AP MLD. AP1 and AP2 affiliated with the AP MLD operate on Link 1 and Link 2, respectively. The figure shows the values carried in the Critical Update Flag subfield, the BSS Parameters Change Count subfield, and the All Updates Included subfield corresponding

to AP1 in the Beacon frames transmitted by AP2 when critical updates occur in AP1's BSS. In the illustration, the value of the BSS Parameters Change Count subfield for AP1 is equal to 5 in Beacon 21 and the Critical Update Flag and All Updates Included (corresponding to AP1) subfields are set to 0. First, a critical update that does not correspond to an element listed in 35.3.11 is announced by AP1 in Beacon 12, which causes the BSS Parameters Change Count subfield (for AP1) to increment by one (to 6) in Beacon 22. Also, in Beacon 22 AP2 sets the Critical Update Flag subfield to 1. The All Updates Included subfield (corresponding to AP1) is set to 0 since the element corresponding to the latest critical update is not included in Beacon 22. Next, in Beacon 13, AP1 includes a Quiet element to advertise a quiet interval, which results in the BSS Parameters Change Count subfield (for AP1) to be incremented by one (to 7). Since this critical update corresponds to an element listed in 35.3.11, AP2 includes the Quiet element in the per-STA profile corresponding to AP1 in Beacon 23 and sets the Critical Update Flag and All Updates Included (corresponding to AP1) subfields to 1 and 1, respectively. The Critical Update Flag subfield is set to 1 until the next DTIM beacon of AP2 (i.e., until Beacon 25). The All Updates Included subfield corresponding to AP1 is set to 1 in Beacons 24, 25, and 26 since these Beacon frames include the element corresponding to the last critical update. Finally, a critical update, not corresponding to elements listed in 35.3.11 is announced by AP1 in Beacon 17, which causes AP1's BSS Parameters Change Count subfield to increment by one (to 8). Although the Quiet element is still included in the per-STA profile corresponding to AP1 in Beacons 27 and 28, the element corresponding to the latest critical update is not included in these Beacon frames. Consequently, the All Updates Included subfield corresponding to AP1 in Beacons 27 and 28 is set to 0.

![](21a6e3b9b2e334d6143a36313ba4b31d_img.jpg)

Diagram illustrating the critical update operation between AP1 and AP2 across Link 1 and Link 2.

Legend: DTIM Beacon (Solid Black), Beacon (Striped).

Link 1 (AP1):

- Beacon 11: Quiet IE (Quiet Count = 0)
- Beacon 12: Critical update 1 occurs (e.g., EHT Op updated). Quiet IE (Quiet Count = 6)
- Beacon 13: Critical update 2 occurs (e.g., Quiet IE included). Quiet IE (Quiet Count = 6)
- Beacon 14: Quiet IE (Quiet Count = 5)
- Beacon 15: Quiet IE (Quiet Count = 4)
- Beacon 16: Quiet IE (Quiet Count = 3)
- Beacon 17: Critical update 3 occurs (e.g., EDCA param set updated). Quiet IE (Quiet Count = 2)
- Beacon 18: Quiet IE (Quiet Count = 1)

Link 2 (AP2):

- Beacon 21: Quiet IE in AP1's per-STA profile (Quiet Count = 6)
- Beacon 22: Quiet IE in AP1's per-STA profile (Quiet Count = 6)
- Beacon 23: Quiet IE in AP1's per-STA profile (Quiet Count = 5)
- Beacon 24: Quiet IE in AP1's per-STA profile (Quiet Count = 5)
- Beacon 25: Quiet IE in AP1's per-STA profile (Quiet Count = 4)
- Beacon 26: Quiet IE in AP1's per-STA profile (Quiet Count = 3)
- Beacon 27: Quiet IE in AP1's per-STA profile (Quiet Count = 2)
- Beacon 28: Quiet IE in AP1's per-STA profile (Quiet Count = 1)

Table showing Subfields (AP2) values:

| Subfields (AP2)             | Beacon 21 | Beacon 22 | Beacon 23 | Beacon 24 | Beacon 25 | Beacon 26 | Beacon 27 | Beacon 28 |
|-----------------------------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|-----------|
| BSS Parameters Change Count | 5         | 6         | 7         | 7         | 7         | 7         | 8         | 8         |
| Critical Update Flag        | 0         | 1         | 1         | 1         | 1         | 0         | 1         | 1         |
| All Updates Included        | 0         | 0         | 1         | 1         | 1         | 1         | 0         | 0         |

Figure AH-29—An example of critical update operation

## AH.8 Example of advertising quieting or channel switching information of a link on another link

Figure AH-1 illustrates two APs, AP 1 and AP 2, that are affiliated with the same AP MLD and operate on Link 1 and Link 2, respectively. The Beacon frame transmitted by AP 1 (the affected AP) includes a Quiet element to indicate a scheduled quiet interval on Link 1. From this point onward and until the quiet interval begins on Link 1, AP 2 (the reporting AP) includes a Quiet element in the Per-STA Profile subelement

corresponding to AP 1 in the Basic Multi-Link element carried in its Beacon frames. Although not shown in the figure, Quiet element will also be included in the Per-STA Profile subelement of the Basic Multi-Link element corresponding to AP 1 carried in the Probe Response frames transmitted by AP 2. The values of the Quiet Count field, Quiet Offset field, and the Quiet Duration field of the Quiet element carried on Link 2 are set by AP 2 with reference to Link 1. As the value of the Beacon Interval for AP 2 is greater than the value of beacon interval for AP 1, the Quiet Count field of the Quiet element carried in the Per-STA Profile subelement corresponding to AP 1 is decremented at a faster rate (i.e., 2 in this example) in every subsequent beacon transmitted by AP 2. A non-AP STA affiliated with a non-AP MLD, which is capable of operating on Link 2, transmits a (Re-)Association Request frame to AP 2 (not shown in the figure), in order to perform ML setup. The ML setup includes Link 1 as one of the links. Since the (Re)Association Response frame is transmitted by AP 2 after the quiet interval has started on Link 1, AP 2 includes the Quiet element in the per-STA profile corresponding to AP 1 in the (Re)Association Response frame it transmits. The Quiet Count field of the Quiet element carried in the (Re)Association Response frame is set to 128 to indicate that the quiet interval on Link 1 started in the beacon interval that occurred one TBTT in the past on Link 1 (see 9.4.2.21).

![Figure AH-1 shows two timelines, Link 1 (AP1) and Link 2 (AP2), illustrating an AP carrying a Quiet element to signal channel quieting. Link 1 shows Quiet Count fields decreasing sequentially (4, 3, 2, 1) before a Quiet Duration period, followed by a Quiet Count field of 1. Link 2 shows Quiet Count fields decreasing sequentially (3, 2, 1, 0) before a Quiet Duration period, followed by a Quiet Count field of 128. Below the timelines, a legend indicates that the Quiet element is carried in Beacon frames (for AP1) and in the (Re)Association Response frame (for AP2). The (Re)Association Response frame also includes the Quiet element.](792f85a09cb7d0b34f79c39cb83335a5_img.jpg)

Figure AH-1 shows two timelines, Link 1 (AP1) and Link 2 (AP2), illustrating an AP carrying a Quiet element to signal channel quieting. Link 1 shows Quiet Count fields decreasing sequentially (4, 3, 2, 1) before a Quiet Duration period, followed by a Quiet Count field of 1. Link 2 shows Quiet Count fields decreasing sequentially (3, 2, 1, 0) before a Quiet Duration period, followed by a Quiet Count field of 128. Below the timelines, a legend indicates that the Quiet element is carried in Beacon frames (for AP1) and in the (Re)Association Response frame (for AP2). The (Re)Association Response frame also includes the Quiet element.

Figure AH-1—Example of an AP carrying a Quiet element to signal channel quieting on another link

Figure AH-2 illustrates two APs, AP 1 and AP 2, that are affiliated with the same AP MLD and operate on Link 1 and Link 2, respectively. The Beacon frame transmitted by AP 1 (the affected AP) includes a Channel Switch Announcement element to indicate that the channel on Link 1 will be switched. From this point onward and until the channel on Link 1 switches, AP 2 (the reporting AP) includes a Channel Switch Announcement element in the per-STA profile corresponding to AP 1 in the Basic Multi-Link element carried in the Beacon frame it transmits. When AP 1 begins to include the Channel Switch Announcement element in its Beacon frames, the BSS Parameters Change Count subfield in the TBTT Information field corresponding to AP 1 in the Reduced Neighbor Report element carried in AP 2's Beacon frames is incremented by 1. The values of the Channel Switch Count field of the Channel Switch Announcement element carried on Link 2 are set by AP 2 with reference to Link 1. As the value of the beacon interval for AP 2 is twice the value of beacon interval for AP 1, the Channel Switch Count field of the Channel Switch Announcement element is decremented by 2 in every subsequent beacon transmitted by AP 2. If AP 1 carries the Extended Channel Switch Announcement element and the Max Channel Switch Time element in the Beacon frame it transmits, AP 2 also includes the Extended Channel Switch Announcement element and the Max Channel Switch Time element in the per-STA profile corresponding to AP 1 in the Basic Multi-Link element in the Beacon frames it transmits. Although not shown in the figure, the Channel Switch Announcement element, Extended Channel Switch Announcement element (if included by AP 1), and Max Channel Switch Time element (if included by AP 1) will also be included in the Per-STA Profile subelement of the Basic Multi-Link element corresponding to AP 1 carried in the Probe Response frames transmitted by AP 2. A non-AP STA affiliated with a non-AP MLD, that operates on Link 2, transmits a (Re)Association

Request frame to AP 2 (not shown in the figure) requesting Link 1 as one of the links for ML setup. Since the (Re)Association Response frame is transmitted by AP 2 after the last Beacon frame on the initial operating class/channel on Link 1 and before the first beacon on the new operating class/channel is transmitted, AP 2 includes the Max Channel Switch Time element in the per-STA profile corresponding to AP 1 in the (Re)Association Response frame it transmits. The value carried in Max Channel Switch Time element provides an estimate of time until the first TBTT on the new channel on Link 1. The non-AP STA affiliated with the non-AP MLD operating on Link 1 does not transmit a frame until it hears the first Beacon frame from AP 1 on Link 1.

![](ee982a3e3e13050f877658aa2e0befa1_img.jpg)

Diagram illustrating the sequence of frames and channel switching events between Link 1 (AP 1) and Link 2 (AP 2).

Link 1 (AP 1) transmits Beacon frames. The channel switch count decreases sequentially: Channel Switch Count = 4, Channel Switch Count = 3, Channel Switch Count = 2, Channel Switch Count = 1. The last Beacon on the initial operating class/channel is labeled "Last Beacon on initial operating class/channel".

Link 2 (AP 2) transmits Beacon frames. The channel switch count decreases sequentially: Channel Switch Count = 3, Channel Switch Count = 1. The first Beacon on the new operating class/channel is labeled "First Beacon on new operating class/channel".

Link 1 (AP 1) transmits a Reporting AP frame. The BSS Parameters Change Count for AP 1 is incremented.

Link 2 (AP 2) transmits a (Re)Association Response frame. This frame includes the Max Channel Switch Time element.

The Max Channel Switch Time element is shown spanning the time between the last Beacon on the initial operating class/channel (Link 1) and the first Beacon on the new operating class/channel (Link 2).

Figure AH-2—Example of an AP carrying a Channel Switch Announcement element to signal channel switching on another link

An AP affiliated with an AP MLD that intends to setup quiet interval(s) other than quiet intervals scheduled to protect R-TWT SPs (see 35.8.4.2) for its BSS shall advertise the corresponding element(s) for a duration that is greater than or equal to the maximum of the TBTTs until the next DTIM beacon corresponding to each AP affiliated with the same AP MLD. An AP affiliated with an AP MLD that intends to switch the operating channel for its BSS should advertise the corresponding element(s) for a duration that is greater than or equal to the maximum value of TBTTs until the next DTIM beacon corresponding to each AP affiliated with the same AP MLD unless the AP is required to switch channels in a short period to meet regulatory requirement. Figure AH-3 illustrates a scenario where each link has a different DTIM interval, and the affected AP advertises the pertinent elements long enough to be included in at least one DTIM beacon on each link.

![](6d8f5c23990c7897e87e1907c4ccb9ff_img.jpg)

Figure AH-3 illustrates the advertisement duration that includes DTIM beacon on all links. The diagram shows three links: Link 1 (affected AP), Link 2 (reporting AP), and Link 3 (reporting AP). The timeline shows Beacon frames (white), Beacon frames from the affected AP carrying the pertinent IE(s) (hatched), DTIM Beacon frames (black), and Beacon frames from the reporting AP carrying the pertinent IE(s) in the per-STA profile of ML IE (vertical lines).

Link 1 (affected AP) transmits Beacon frames and DTIM Beacon frames. The DTIM interval is 5.

Link 2 (reporting AP) transmits Beacon frames and DTIM Beacon frames. The DTIM interval is 4.

Link 3 (reporting AP) transmits Beacon frames and DTIM Beacon frames. The DTIM interval is 3.

The legend indicates: Beacon frame, Beacon frame from the affected AP carries the pertinent IE(s), DTIM Beacon frame, Beacon frame from the reporting AP carries the pertinent IE(s) in per-STA profile of ML IE, DTIM Beacon frame on the link carries the pertinent IE(s).

Figure AH-3—Example of advertisement duration that includes DTIM beacon on all links

NOTE 1—Advertising the pertinent element(s) for a duration that includes the DTIM beacon on a link makes it possible for a non-AP MLD that is monitoring only another link and is in the doze state and scheduled to transition to awake state to receive the DTIM beacon on that link to get the notification (by receiving the element(s) in the per-STA profile, corresponding to the affected AP, of the Basic Multi-Link element).

NOTE 2—When the other AP affiliated with the same AP MLD corresponds to a nontransmitted BSSID in a multiple BSSID set and the transmitted BSSID in the same multiple BSSID set operates as an EMA AP, then the profile for a BSS corresponding to the nontransmitted BSSID is expected to appear in the DTIM beacon for that BSSID (as described in 11.1.3.8.3). With this mechanism, a non-AP STA, that is associated with an AP corresponding to the nontransmitted BSSID, can receive the profile (and any updates carried within the profile) in a DTIM beacon without having to transition to awake state to receive additional beacons thus conserving power in the process.

## AH.9 ML power-save operation

### AH.9.1 Example of per-link power-save operation

Figure AH-4 illustrates the power save operation for each non-AP STA affiliated with a non-AP MLD during MLO. The example assumes all TIDs are mapped to all or a subset of links. As depicted in the figure, during the initial portion of the illustration, both non-AP STAs affiliated with the non-AP MLD are in active mode and are involved in frame exchange with the respective APs on the links. Each non-AP STA affiliated with the non-AP MLD indicates that it is in active mode by setting to 0 the Power Management subfield (namely PM bit in the figure) in the Frame Control field of a transmitted frame. At some point in time, non-AP STA 2 affiliated with the non-AP MLD operating on Link 2 indicates to AP 2 that it is entering power save mode (i.e., sets PM bit to 1) and transitions to the doze state after the successful frame exchange. Non-AP STA 2 remains in the doze state for the rest of the illustration. After a period of time, non-AP STA 1 enters power save mode (i.e., sets PM bit to 1) after the successful frame exchange. While operating in power save mode, non-AP STA 1 wakes up to receive the Beacon frame transmitted by AP 1 and determines that AP MLD has BUs for the non-AP MLD. Based on this determination, non-AP STA 1 indicates to AP 1 that it has transitioned to the awake state by transmitting a PS-Poll or U-APSD trigger frame on Link 1. Non-AP STA 1 participates in frame exchange with AP 1 while in the awake state.

![](bcb9eb4b1bc46564b5e7b3b28c2224c3_img.jpg)

Figure AH-4 illustrates the power states maintained by each non-AP STA affiliated with a non-AP MLD. The diagram shows two APs (AP 1 and AP 2) connected to an AP MLD, each linked to a Non-AP STA (Non-AP STA 1 and Non-AP STA 2, respectively). The power states shown are Active mode, Doze state, Awake state, and Power Save Mode. The legend indicates Active mode (gray), Doze state (white), Frame exchange (black), Beacon frame (black), PS-Poll frame (dashed line), and ACK (vertical line).

Figure AH-4—Each non-AP STA affiliated with a non-AP MLD maintains its own power state

### AH.9.2 Example of dynamic link switch using power states

Figure AH-5 provides an illustration of operation of a single-radio non-AP MLD with default mapping (all TIDs mapped to all setup links), where the non-AP MLD transitions from operating on link 1 with non-AP STA 1 to operating on link 2 with non-AP STA 2, where both non-AP STA 1 and non-AP STA 2 are affiliated with the non-AP MLD.

![](4935e988110ccd5fbe88037703ad0f46_img.jpg)

Figure AH-5 illustrates the link transition operation by a single-radio non-AP MLD using power states. The diagram shows three APs (AP 1, AP 2, AP 3) connected to an AP MLD, and three non-AP STAs (Non-AP STA 1, Non-AP STA 2, Non-AP STA 3) connected to a Non-AP MLD. The legend indicates PPDU transmission carrying BUs from the AP MLD to the non-AP MLD (gray box).

Figure AH-5—Example of link transition operation by a single-radio non-AP MLD using power states

In this example, while operating on link 1:

- non-AP STA 1 affiliated with the non-AP MLD might use active mode or power save mode with the awake state to retrieve BUs from the AP MLD or to send frames to the AP MLD and might use the doze state when there is no buffered BUs or no frames to send to the AP MLD.
- non-AP STA 2 and non-AP STA 3 stay in the doze state.

In this example, while operating on link 2:

- non-AP STA 2 affiliated with the non-AP MLD might use active mode or power save mode with the awake state to retrieve BUs from the AP MLD or to send frames to the AP MLD and might transition to the doze state when there is no buffered BUs or no frames to send to the AP MLD.

— non-AP STA 1 and non-AP STA 3 stay in the doze state.

The link transition from link 1 to link 2 is achieved in this example by having non-AP STA 1 transition to the doze state and non-AP STA 2 transition to active mode or the awake state.

### AH.9.3 Examples of listen interval operation

An example of operation for MLD listen interval is shown in Figure AH-6.

![](ccd8921360f30524a2889cd28f17c4da_img.jpg)

Figure AH-6 illustrates the operation for MLD listen interval across three links (Link 1, Link 2, Link 3) over time (T1 and T2).

**Link 1:** The AP MLD can discard the DL BU of the non-AP MLD. The non-AP MLD is queued at the AP MLD. The listen interval is 250 ms. Link 1 is accepted as a setup link.

**Link 2:** The listen interval is 200 ms. Link 2 is accepted as a setup link.

**Link 3:** The listen interval is 70 ms. Link 3 is accepted as a setup link.

Figure AH-6—Example of operation for MLD listen interval

In this example, AP MLD has three affiliated APs: AP 1 operates on link 1, AP 2 operates on link 2, and AP 3 operates on link 3. The beacon intervals of link 1, link 2, and link 3 are 250 ms, 200 ms, and 70 ms, respectively. Non-AP STA 1 affiliated with the non-AP MLD sends an Association Request frame to AP 1 affiliated with the AP MLD. The non-AP STA 1 requests three links to be setup (link 1 between AP 1 and non-AP STA 1, link 2 between AP 2 and non-AP STA 2, and link 3 between AP 3 and non-AP STA 3) and set the value of Listen Interval field carried in the Association Request frame to 1 in units of 250 ms. Therefore, the listen interval requested by the non-AP MLD is 250 ms. The AP MLD, via the affiliated AP 1, accepts the three links for this ML setup (link 1 between AP 1 and non-AP STA 1, link 2 between AP 2 and non-AP STA 2, and link 3 between AP 3 and non-AP STA 3) by sending an Association Response frame to non-AP STA 1 affiliated with the non-AP MLD. After the successful ML setup, non-AP STA 2 and non-AP STA 3 enter power save mode. A little later, non-AP STA 1 enters power save mode (i.e., signals PM = 1). In this case, the AP MLD shall buffer the DL BUs to the non-AP MLD at least for 250 ms. At T1, the non-AP STA 1 receives a Beacon frame on link 1, then a non-AP STA affiliated with the non-AP MLD is required to transition to active state to receive at least one Beacon frame before T2 where  $T2 = T1 + 250$  ms, for example, the non-AP STA 1 receives the second Beacon frame on link 1 (at  $T1 + 250$  ms), or the non-AP STA 2 receives the second Beacon frame on link 2 (at  $T1 + 200$  ms), or the non-AP STA 3 receives the fourth Beacon frame on link 3 (at  $T1 + 210$  ms). The figure is simplified to show the first Beacon frames on all links as aligned. However, in general the first TBTTs on all links might not be aligned.

Another example of operation for MLD listen interval is shown in Figure AH-7.

![](0ad4e674311e39d411e391ce1dea9724_img.jpg)

Figure AH-7 illustrates the operation of the MLD listen interval across three links (Link 1, Link 2, Link 3) over time, showing Beacon frames and Data frames (DL/BU) for non-AP MLD and AP MLD.

The timeline is marked with T1 and T2.

**Link 1 (Non-AP MLD):**

- Beacon frame (upward arrow) is quenched at the AP MLD.
- DL/BU frame (downward arrow) is received at the non-AP MLD.
- Listen Interval (LI) is 250 ms.
- Link 1 is not accepted as a setup link.

**Link 2 (Non-AP MLD):**

- Beacon frame (upward arrow) is received at the non-AP MLD.
- DL/BU frame (downward arrow) is received at the non-AP MLD.
- Listen Interval (LI) is 200 ms.
- Link 2 is accepted as a setup link.

**Link 3 (Non-AP MLD):**

- Beacon frame (upward arrow) is received at the non-AP MLD.
- DL/BU frame (downward arrow) is received at the non-AP MLD.
- Listen Interval (LI) is 70 ms.
- Link 3 is accepted as a setup link.

Figure AH-7—Another example of operation for MLD listen interval

In this example, AP MLD has three affiliated APs: AP 1 operates on link 1, AP 2 operates on link 2, and AP 3 operates on link 3. The beacon intervals of link 1, link 2, and link 3 are 250 ms, 200 ms, and 70 ms, respectively. Non-AP STA 2 affiliated with the non-AP MLD sends an Association Request frame to AP 2 affiliated with the AP MLD. The non-AP STA 2 requests three links to be setup (link 1 between AP 1 and non-AP STA 1, link 2 between AP 2 and non-AP STA 2, and link 3 between AP 3 and non-AP STA 3) and sets the value of Listen Interval field carried in the Association Request frame to 1 in units of 250 ms. The AP MLD, via the affiliated AP 2, accepts the two links for this ML setup (link 2 between AP 2 and non-AP STA 2, and link 3 between AP 3 and non-AP STA 3) by sending an Association Response frame to non-AP STA 2 affiliated with the non-AP MLD, the listen interval requested by the non-AP MLD is still 250 ms and it is not changed along with the accepted links in the ML setup procedure. After the successful ML setup, non-AP STA 3 enters power save mode. A little later, non-AP STA 2 enters power save mode (i.e., signal PM = 1). In this case, the AP MLD shall buffer the DL BUs to the non-AP MLD at least for 250 ms. At T1, the non-AP STA 2 receives a Beacon frame on link 2, then either non-AP STA 2 or non-AP STA 3 is required to transition to awake state to receive at least one Beacon frame before T2 where  $T2 = T1 + 250$  ms, for example, the non-AP STA 2 receives the second Beacon frame on link 2 (which occurs at  $T1 + 200$  ms in this example) or the non-AP STA 3 receives the fourth Beacon frame on link 3 (which occurs at  $T1 + 210$  ms). The figure is simplified to show the first Beacon frames on all links as aligned. However, in general the first TBTTs on all links might not be aligned.

#### AH.10 Example of cross-link group address BU indication

Figure AH-8 and Figure AH-9 show an example of group addressed BU indication in a Partial Virtual Bitmap field sent by an AP (AP-11) affiliated with an AP MLD (AP MLD 1). In this example, the AP MLD 1 has three affiliated APs: AP-11, AP-12, and AP-13. AP-11 operates on link 1, and corresponds to the transmitted BSSID (shown with [T]) of a multiple BSSID set that also includes AP-21 affiliated with AP MLD 2 and AP-31 affiliated with AP MLD 3, and the maximum possible number of BSSIDs ( $2^n$ ) in this

multiple BSSID set is equal to 4. AP-12 operates on link 2, and is in a multiple BSSID set that also includes AP-32 affiliated with AP MLD 3. AP-13 operates on link 3, and in a multiple BSSID set that also includes AP-23 affiliated with AP MLD 2. The group addressed BU indication exponent is carried in the Group Addressed BU Indication Exponent subfield of the EHT Operation Parameters field sent by AP-11 and it is equal to 1, then  $N = 2^{\text{Group Addressed BU Indication Exponent} + 1} - 1 = 3$ . As shown in Figure AH-9 (Example of group addressed BU indication in a Partial Virtual Bitmap field sent by an AP affiliated with AP MLD and corresponding to transmitted BSSID in a multiple BBID set), the bits 1 to 2 (with a value of 0 or 1, marked as “x”) of the bitmap are used to indicate that one or more group addressed frames are buffered for AP-21 and AP-31 corresponding to a nontransmitted BSSID, respectively. Bits 4 and 5 (with the value of x, x = 0 or 1) of the bitmap are used to indicate that one or more group addressed frames are buffered for AP-12 and AP-13 affiliated with AP MLD 1, respectively. Bit 7 (with a value of 0 or 1, marked as “x”) of the bitmap is used to indicate that one or more group addressed frames are buffered for AP-23 affiliated with AP MLD 2. Bit 10 of the bitmap is used to indicate that one or more group addressed frames are buffered for AP-32 affiliated with AP MLD 3. The other bits of the bitmap for the indication of group addressed BUs are set to 0 (reserved).

![Figure AH-8: Example of APs affiliated with an AP MLD and each affiliated AP belongs to a multiple BSSID set. The diagram shows three links (Link 1, Link 2, Link 3) and three AP MLDs (AP MLD 1, AP MLD 2, AP MLD 3). AP-11 [T] is affiliated with AP MLD 1 and belongs to a Multiple BSSID set on Link 1. AP-21 is affiliated with AP MLD 1 and belongs to a Multiple BSSID set on Link 1. AP-31 is affiliated with AP MLD 1 and belongs to a Multiple BSSID set on Link 1. AP-12 is affiliated with AP MLD 1 and belongs to a Multiple BSSID set on Link 2. AP-32 [T] is affiliated with AP MLD 3 and belongs to a Multiple BSSID set on Link 2. AP-13 [T] is affiliated with AP MLD 1 and belongs to a Multiple BSSID set on Link 3. AP-23 is affiliated with AP MLD 2 and belongs to a Multiple BSSID set on Link 3.](cbf684f72e0da0f26e8d3f3c44f5ccd9_img.jpg)

Figure AH-8: Example of APs affiliated with an AP MLD and each affiliated AP belongs to a multiple BSSID set. The diagram shows three links (Link 1, Link 2, Link 3) and three AP MLDs (AP MLD 1, AP MLD 2, AP MLD 3). AP-11 [T] is affiliated with AP MLD 1 and belongs to a Multiple BSSID set on Link 1. AP-21 is affiliated with AP MLD 1 and belongs to a Multiple BSSID set on Link 1. AP-31 is affiliated with AP MLD 1 and belongs to a Multiple BSSID set on Link 1. AP-12 is affiliated with AP MLD 1 and belongs to a Multiple BSSID set on Link 2. AP-32 [T] is affiliated with AP MLD 3 and belongs to a Multiple BSSID set on Link 2. AP-13 [T] is affiliated with AP MLD 1 and belongs to a Multiple BSSID set on Link 3. AP-23 is affiliated with AP MLD 2 and belongs to a Multiple BSSID set on Link 3.

Figure AH-8—Example of APs affiliated with an AP MLD and each affiliated AP belongs to a multiple BSSID set

![Figure AH-9: Example of group addressed BU indication in a Partial Virtual Bitmap field sent by an AP affiliated with AP MLD and corresponding to transmitted BSSID in a multiple BBID set. The bitmap shows 12 bits (0 to 11). Bit 0 is 0. Bits 1 and 2 are 'x' (Group addressed BU indication for AP-21 and AP-31 (nontransmitted BSSID)). Bits 3 and 4 are 'x' (Group addressed BUs indication for AP-12 and AP-13 (AP MLD 1)). Bit 5 is 0. Bits 6 and 7 are 'x' (Group addressed BUs indication for AP-23 (AP MLD 2)). Bit 8 is 0. Bit 9 is 'x' (Group addressed BUs indication for AP-32 (AP MLD 3)). Bits 10 and 11 are 0. Bit 12 is 0.](d11de4a63f98d91ba09399d9d0413b9c_img.jpg)

Figure AH-9: Example of group addressed BU indication in a Partial Virtual Bitmap field sent by an AP affiliated with AP MLD and corresponding to transmitted BSSID in a multiple BBID set. The bitmap shows 12 bits (0 to 11). Bit 0 is 0. Bits 1 and 2 are 'x' (Group addressed BU indication for AP-21 and AP-31 (nontransmitted BSSID)). Bits 3 and 4 are 'x' (Group addressed BUs indication for AP-12 and AP-13 (AP MLD 1)). Bit 5 is 0. Bits 6 and 7 are 'x' (Group addressed BUs indication for AP-23 (AP MLD 2)). Bit 8 is 0. Bit 9 is 'x' (Group addressed BUs indication for AP-32 (AP MLD 3)). Bits 10 and 11 are 0. Bit 12 is 0.

Figure AH-9—Example of group addressed BU indication in a Partial Virtual Bitmap field sent by an AP affiliated with AP MLD and corresponding to transmitted BSSID in a multiple BBID set

## AH.11 Examples of frame exchanges for TDLS discovery and setup involving a non-AP MLD

Figure AH-10 and Figure AH-11 illustrate the scenario where the TDLS discovery is initiated by a non-AP MLD (MLD\_S). MLD\_S has performed ML setup with an AP MLD (MLD\_A). MLD\_S has two affiliated STAs, STA1 and STA2. MLD\_A has two affiliated APs, AP1 and AP2, where AP1 operates on link 1 and AP2 operates on link 2. STA3 is a non-MLD non-AP STA associated with AP1. STA1 operates on link 1 and is associated with AP1. STA2 operates on link 2 and is associated with AP2. In the example figures, MLD\_S initiates TDLS discovery by transmitting two TDLS Discovery Request frames (which are Data frames) as it does not know which affiliated AP STA3 is operating on if it is a non-MLD non-AP STA or whether STA3 is a non-AP MLD. The first TDLS Discovery Request frame as shown in Figure AH-10 (Example of a successful TDLS discovery) has the BSSID field in the Link Identifier element set to the BSSID of AP1 and the second TDLS Discovery Request frame has this field set to the BSSID of AP2 as shown in Figure AH-11 (Example of a failed TDLS discovery). Both the frames have their A3 (DA) set to the STA3 MAC address and the To DS subfield of the Frame Control field set to 1. The TDLS Discovery Request frame can be transmitted over any enabled link, i.e., either link 1 (through STA1 as represented by solid line) or link 2 (through STA2 as represented by dotted line). When the TDLS Discovery Request frame is received at the AP MLD (i.e., through AP1 or AP2), it routes the frame to STA3, through AP1 by setting the From DS subfield of the Frame Control field to 1 and A3 (SA) to the non-AP MLD MAC Address (i.e., MLD\_S). STA3 discards the TDLS Discovery Request frame that had the BSSID field of the Link Identifier element set to BSSID of AP2 as it does not recognize the BSSID. STA3 recognizes the BSSID set to AP1 and responds with a TDLS Discovery Response frame, which is a Management frame, with the RA set to the MLD\_S and both To DS and From DS subfields set to 0. STA3 ignores the TDLS Multi-Link element as it does not recognize this element. The TDLS STA affiliated with MLD\_S receives the TDLS Discovery Response frame, which is sent on the TDLS direct link (see Table 11-15a). The TDLS initiator STA Address field and the TDLS responder STA Address field contained in the Link Identifier element (denoted as LI in the figure) are carried in the TDLS Discovery Request frame and in the TDLS Discovery Response frame and are set to MLD\_S and STA3, respectively.

![](b0b7c27c04910964d3e2a212c47733ac_img.jpg)

Diagram illustrating a successful TDLS discovery scenario (Figure AH-10).

Devices involved: STA1, STA2, STA3, AP1, AP2, MLD\_S, MLD\_A.

Link 1 (STA1 to AP1):

- Link 1 Data frame [TDLS Disc\_Req] (A1 (RA)=MLD\_S, A2 (TA)=STA1, A3 (DA)=STA3, LI (MLD\_S, STA3, AP1))
- Link 1 Mgmt frame [TDLS Disc\_Resp] (A1 (RA)=MLD\_S, A2 (TA)=STA3, A3 (BSSID)=AP1, LI (MLD\_S, STA3, AP1))

Link 2 (STA2 to AP2):

- Link 2 Data frame [TDLS Disc\_Req] (A1 (RA)=MLD\_S, A2 (TA)=STA2, A3 (DA)=STA3, LI (MLD\_S, STA3, AP1))

STA3 responses to AP1 (BSSID field of Link Identifier element matches its associated AP (i.e., AP1) and TDLS responder STA Address field matches STA3's MAC address):

- STA3 [TDLS Disc\_Resp] (A1 (RA)=STA3, A2 (TA)=AP1, A3 (DA)=MLD\_S, LI (MLD\_S, STA3, AP1))

Notes:

- Alternative path that the TDLS Discovery Request frame could have taken.

Figure AH-10—Example of a successful TDLS discovery

![](b2659af8b85195fd5d296ed49667b993_img.jpg)

Diagram illustrating a failed TDLS discovery scenario (Figure AH-11).

Devices involved: STA1, STA2 (MLD\_S), AP1, AP2 (MLD\_A), STA3.

Link 1 (STA1 to AP1): Data frame [TDLS Disc\_Req] with parameters  $\{A1(RA)=AP1, A2(TA)=STA1, A3(DA)=STA3\}$  and Link Identifier element  $\{LI(MLD_S, STA3, AP2)\}$ .

Link 2 (STA2 to AP1): Data frame [TDLS Disc\_Req] with parameters  $\{A1(RA)=AP2, A2(TA)=STA2, A3(DA)=STA3\}$  and Link Identifier element  $\{LI(MLD_S, STA3, AP2)\}$ .

AP1 receives the frame from STA3 (indicated by a dashed line) and discards it because the BSSID field of the Link Identifier element does not match its associated AP (i.e., AP1). There is no TDLS Discovery Response frame sent in this case.

Alternative path: A dashed arrow indicates that the TDLS Discovery Request frame could have taken this path.

Figure AH-11—Example of a failed TDLS discovery

The same considerations apply for setting the fields in the Link Identifier element when the TDLS discovery is initiated by STA3 to establish a single link TDLS direct link with the non-AP MLD. In this scenario, since STA3 is a non-MLD non-AP STA and is not aware of MLD, the BSSID field of the Link Identifier element is set to the BSSID of AP1 and the TDLS Discovery Request frame does not carry a TDLS Multi-Link element.

Due to the nature of MLO, it is possible that a Data frame sent by a STA3, which is directed towards the non-AP MLD (MLD\_S), is relayed on a different link when it traverses the AP MLD (MLD\_A). As a result, it is possible that the TDLS Discovery Request frame (which is a Data frame) sent by STA3 is received on link 2. Figure AH-12 illustrates this case. The capabilities of each device are the same as described in Figure AH-10 and Figure AH-11.

![](1342cc49e8f5036ded2b63af29886d6e_img.jpg)

Diagram illustrating TDLS discovery initiated by a non-MLD non-AP STA (STA3) to a non-AP MLD (MLD\_S) (Figure AH-12).

Devices involved: STA1, STA2 (MLD\_S), AP1, AP2 (MLD\_A), STA3.

Link 1 (STA1 to AP1): Mgmt. frame [TDLS Disc\_Resp] with parameters  $\{A1(RA)=STA3, A2(TA)=MLD_S, A3(BSSID)=AP1\}$  and Link Identifier element  $\{LI(STA3, MLD_S, AP1)\}$ .

Link 2 (STA2 to AP1): Data frame [TDLS Disc/SetUp Req] with parameters  $\{A1(RA)=STA2, A2(TA)=AP1, A3(SA)=STA3\}$  and Link Identifier element  $\{LI(STA3, MLD_S, AP1)\}$ .

STA3 to AP1: Data frame [TDLS Disc/SetUp Req] with parameters  $\{A1(RA)=AP1, A2(TA)=STA3, A3(DA)=MLD_S\}$  and Link Identifier element  $\{LI(STA3, MLD_S, AP1)\}$ .

Alternative path: A dashed arrow indicates that the TDLS Discovery Request frame could have taken this path.

Figure AH-12—Example of TDLS discovery initiated by a non-MLD non-AP STA to a non-AP MLD

In Figure AH-12, the TDLS Discovery Request frame transmitted by STA3 has the To DS subfield of the Frame Control field set to 1 and A3 (DA) set to non-AP MLD MAC address (MLD\_S) since STA3 is only aware of MLD\_S and not the link addresses of STA1 or STA2 as the AP MLD sets the SA to the MLD MAC address of the non-AP MLD. In this example, when the TDLS Discovery Request frame (which is a Data frame) is received by AP1 and routed to the non-AP MLD, the AP MLD sets the From DS subfield of the

Frame Control field to 1 and the A3 (SA) to STA3 and transmits the frame either on link 2 (solid line) or link 1 (dotted line). The non-AP MLD receives the TDLS Request Discovery frame and identifies the intended TDLS direct link using the BSSID field of the Link Identifier element. In this case, the BSSID is set to AP1 (i.e., link 1), so the non-AP MLD enables the TDLS non-AP STA affiliated with the non-AP MLD on link 1. The TDLS non-AP STA affiliated with the non-AP MLD responds by transmitting a TDLS Discovery Response frame on the direct link to STA3 with the To DS and From DS subfields of the Frame Control field set to 0, and A1 set to STA3 (i.e.,  $RA = STA3$ ,  $TA = MLD_S$ ,  $A3 = AP1$ ). In both the TDLS Discovery Request and TDLS Discovery Response frames, the BSSID, the TDLS initiator STA Address, and the TDLS responder STA Address fields in the Link Identifier element (represented as LI in the figure) are set to AP1, STA3, and  $MLD_S$ , respectively.

Figure AH-13 and Figure AH-14 illustrate the case where a single link TDLS direct link is set up between two non-AP MLDs that have performed ML setup with the same AP MLD. The example assumes that the two non-AP MLDs have performed TDLS discovery and that the initiating non-AP MLD (in this example,  $MLD_S$ ) has decided to perform single link TDLS setup for link 1. As shown in the figures, the TDLS Setup Request frame is transmitted by the non-AP MLD,  $MLD_S$ , through affiliated STA1 to  $MLD_R$  through affiliated STA3. The BSSID field in the Link Identifier element identifies the intended link for establishing the TDLS direct link.

![](e91a99a88b595983ed6db22cbd8d9411_img.jpg)

Diagram illustrating the TDLS Setup Request transmission from one non-AP MLD to another.

The diagram shows four entities:  $MLD_S$  (STA1, STA2),  $MLD_A$  (AP1, AP2), and  $MLD_R$  (STA3, STA4).

**Path 1 (Solid Line):**  $MLD_S$  (STA1) transmits a TDLS Setup Request frame to  $MLD_A$  (AP1). The frame fields are:  $A1(RA)=AP1$ ,  $A2(TA)=STA1$ ,  $A3(DA)=MLD_R$ ,  $LI(MLD_S, MLD_R, AP1)$ .

**Path 2 (Dotted Line):**  $MLD_S$  (STA2) transmits a TDLS Setup Request frame to  $MLD_A$  (AP2). The frame fields are:  $A1(RA)=AP2$ ,  $A2(TA)=STA2$ ,  $A3(DA)=MLD_R$ ,  $LI(MLD_S, MLD_R, AP1)$ .

**Response Path:**  $MLD_A$  (AP1) transmits a TDLS Setup Response frame to  $MLD_R$  (STA3). The frame fields are:  $A1(RA)=STA3$ ,  $A2(TA)=AP1$ ,  $A3(SA)=MLD_S$ ,  $LI(MLD_S, MLD_R, AP1)$ .

**Alternative Path:**  $MLD_A$  (AP2) transmits a TDLS Setup Response frame to  $MLD_R$  (STA4). The frame fields are:  $A1(RA)=STA4$ ,  $A2(TA)=AP2$ ,  $A3(SA)=MLD_S$ ,  $LI(MLD_S, MLD_R, AP1)$ .

The legend indicates that the solid line represents the path that the TDLS Setup Request frame could have taken, and the dotted line represents an alternative path.

Figure AH-13—Transmission of TDLS Setup Request frame from one non-AP MLD to another

![](9274749a471334a0ea9414243a627a9a_img.jpg)

Diagram illustrating the transmission of TDL Setup Response frames from one non-AP MLD to another.

The diagram shows three groups of stations: MLD\_S (STA1, STA2), MLD\_A (AP1, AP2), and MLD\_R (STA3, STA4).

1. STA1 transmits a Data frame to AP1: [TDL Setup Resp] {A1 (RA)=STA1, A2 (TA)=AP1, A3 (SA)=MLD\_S, (U (MLD\_S, MLD\_R, AP1))}

2. AP1 transmits a Data frame to STA3: [TDL Setup Resp] {A1 (RA)=AP1, A2 (TA)=STA3, A3 (SA)=MLD\_S, (U (MLD\_S, MLD\_R, AP1))}

3. STA2 transmits a Data frame to AP2: [TDL Setup Resp] {A1 (RA)=STA2, A2 (TA)=AP2, A3 (DA)=MLD\_S, (U (MLD\_S, MLD\_R, AP1))}

4. AP2 transmits a Data frame to STA4: [TDL Setup Resp] {A1 (RA)=AP2, A2 (TA)=STA4, A3 (SA)=MLD\_S, (U (MLD\_S, MLD\_R, AP1))}

A note indicates: TDL Setup Response. Alternative path that the TDL Setup Response frame could have taken.

Figure AH-14—Transmission of TDL Setup Response frame from one non-AP MLD to another

Figure AH-15 and Figure AH-16 provide examples of a single link TDL Setup direct link where at least one of the peer STAs is a TDL Setup non-AP STA affiliated with a non-AP MLD. The TA field of Data frames transmitted by the TDL Setup STA that is affiliated with an MLD over the direct link is set to its non-AP MLD's MAC address. The To DS and From DS subfields of the Frame Control field of the Data frame are set to 0.

![](2f4b0b15dec611a87aea5bbc88f26787_img.jpg)

Diagram illustrating a TDL Setup direct link involving a non-AP STA affiliated with a non-AP MLD and a non-MLD non-AP STA.

The diagram shows three entities: MLD\_S (STA1, STA2), MLD\_A (AP1, AP2), and STA3.

1. STA1 transmits a Data frame to STA3: [TDL Setup Resp] {A1 (RA)=MLD\_S, A2 (TA)=STA3, A3 (BSSID)=AP1}

2. STA3 transmits a Data frame to STA1: [TDL Setup Resp] {A1 (RA)=STA3, A2 (TA)=MLD\_S, A3 (BSSID)=AP1}

Figure AH-15—TDL Setup direct link involving a non-AP STA affiliated with a non-AP MLD and a non-MLD non-AP STA

![](33a72c86c87323950a7745013ccb32df_img.jpg)

Figure AH-16 illustrates a TDLS direct link involving non-AP STAs affiliated with different non-AP MLDs. STA1 and STA2 are affiliated with MLD\_S. AP1 and AP2 are affiliated with MLD\_A. STA3 and STA4 are affiliated with MLD\_R. A data frame is shown being transmitted from STA1 to STA3. The frame header includes A1 (RA)=MLD\_S, A2 (TA)=MLD\_R, and A3 (BSSID)=AP1. The frame is also shown being transmitted from STA3 to STA1, with the header A1 (RA)=MLD\_R, A2 (TA)=MLD\_S, and A3 (BSSID)=AP1.

Figure AH-16—TDLS direct link involving non-AP STAs affiliated with different non-AP MLDs

### AH.12 Example of proxy ARP service provided by an AP MLD

An example of the proxy ARP service provided by the AP MLD is shown in Figure AH-17.

![](dd6b55a367d460b33a25501548bce4f1_img.jpg)

Figure AH-17 illustrates the example of a proxy ARP service provided by an AP MLD. The diagram shows a Distributed System (DS) connected to AP1 and AP2. AP1 and AP2 are affiliated with MLD\_A. AP1 is connected to the DS via Ethernet I/F. AP1 and AP2 are connected to Non-AP MLD1 and Non-AP MLD2, respectively. Non-AP MLD1 is affiliated with Non-AP STA1-M and Non-AP STA2-M. Non-AP MLD2 is affiliated with Non-AP STA3 and Non-AP STA4. STA5 is a Non-AP STA affiliated with Non-AP STA5-M and Non-AP STA5-IPv4. STA6 is a Device connected to the DS.

Legend:

- Ethernet
- Channel 1
- Channel 2
- ARP Request / Neighbor Solicitation Message
- ARP Response / Neighbor Advertisement Message

Communication flow:

- STA6 sends an ARP Request (MLD1-IPv4's MAC Address?) to AP1.
- AP1 responds to STA6 with an ARP Response (MLD1-IPv4's MAC Address = MLD1-M).
- STA5 sends an ARP Request (MLD1-IPv4's MAC Address?) to AP1.
- AP1 responds to STA5 with an ARP Response (MLD1-IPv4's MAC Address = MLD1-M).
- STA6 sends an ARP Request (MLD1-IPv6's MAC Address?) to AP2.
- AP2 responds to STA6 with an ARP Response (MLD1-IPv6's MAC Address = MLD1-M).

Figure AH-17—Example of proxy ARP service by an AP MLD

In this example, the AP MLD has two affiliated APs: AP1 operates on channel 1 in the 5 GHz band and AP2 operates on channel 2 in the 6 GHz band. The AP MLD, AP1 and AP2, are connected to the DS, which is connected to the LAN via a portal (e.g., via Ethernet interface(s)). Two non-AP MLDs, Non-AP MLD1 and Non-AP MLD2, each with two affiliated STAs operating on channel 1 and channel 2, respectively, are associated with the AP MLD. The MLD MAC address of Non-AP MLD1 is MLD1-M, while IPv4 address MLD1-IPv4 and IPv6 address MLD1-IPv6 are assigned to Non-AP MLD1. STA5, which is a non-MLD non-AP STA, is associated with AP1. The MAC address of STA5 is STA5-M, while IPv4 address STA5-IPv4 is assigned with STA5. STA6 is a device connected to the AP MLD via the DS. When the AP MLD receives from STA6, via the DS, an ARP request with the target IP address set as the Non-AP MLD1's IPv4 address, MLD1-IPv4, the proxy ARP service in AP MLD responds to STA6 with an ARP response packet

with the Sender's MAC Address set as MLD1-M. When the AP MLD receives from STAs, on channel 1, an ARP request with the target IP address set as MLD1-IPv4, the proxy ARP service in AP MLD responds to STAs with an ARP response packet with the Sender's MAC Address set as MLD1-M. When the AP MLD receives from Non-AP MLD2, on channel 2, a Neighbor Solicitation message with the target IP address set as the Non-AP MLD1's IPv6 address, MLD1-IPv6, the proxy ARP service in AP MLD responds to Non-AP MLD2 with a Neighbor Advertisement message with the target link layer address set as MLD1-M. It is not shown in the figure, but when an ARP request is received by AP1 from non-AP STA3 affiliated with Non-AP MLD2, on channel 1, with the target IP address set as STAs's IPv4 address, STA5-IPv4, the proxy ARP service in AP1 responds to non-AP STA3 with an ARP response packet with the Sender's MAC Address set as STAs-M. However, if the ARP request with the target IP address set as STAs's IPv4 address is received by AP2 from non-AP STA4 affiliated with Non-AP MLD2, on channel 2, the ARP request is forwarded to AP1 (e.g., via the DS) and the proxy ARP service in AP1 responds to non-AP STA4 (e.g., via the DS and AP2) with an ARP response packet with the Sender's MAC Address set as STAs-M.

### AH.13 Example of TWT agreement negotiation for multiple links

An example of TWT agreements negotiated for multiple links is shown in Figure AH-18.

![Figure AH-18 illustrates the TWT agreement negotiation across multiple links. The diagram shows two states: Initial and Successful TWT agreement setup. In the Initial state, AP MLD (2.4 GHz, 5 GHz, 6 GHz) sends a TWT request to Non-AP MLD (Non-AP STA 1, Non-AP STA 2, Non-AP STA 3). In the Successful TWT agreement setup, AP MLD (2.4 GHz, 5 GHz, 6 GHz) sends a TWT response to Non-AP MLD. The resulting TWT agreements setup on link 1, link 2, and link 3 are shown, where Non-AP STA 1, Non-AP STA 2, and Non-AP STA 3 are associated with Link 1, Link 2, and Link 3 respectively.](c20a44fe34023ce8ed6a17dbd204aaa5_img.jpg)

Figure AH-18 illustrates the TWT agreement negotiation across multiple links. The diagram shows two states: Initial and Successful TWT agreement setup. In the Initial state, AP MLD (2.4 GHz, 5 GHz, 6 GHz) sends a TWT request to Non-AP MLD (Non-AP STA 1, Non-AP STA 2, Non-AP STA 3). In the Successful TWT agreement setup, AP MLD (2.4 GHz, 5 GHz, 6 GHz) sends a TWT response to Non-AP MLD. The resulting TWT agreements setup on link 1, link 2, and link 3 are shown, where Non-AP STA 1, Non-AP STA 2, and Non-AP STA 3 are associated with Link 1, Link 2, and Link 3 respectively.

Figure AH-18—Example of TWT agreements negotiation across multiple links

In this example, an AP MLD has three affiliated APs: AP 1 operates in the 2.4 GHz band, AP 2 operates in the 5 GHz band, and AP 3 operates in the 6 GHz band. Non-AP STA 1 affiliated with the non-AP MLD sends three TWT elements in a TWT request to AP 1 affiliated with the AP MLD. These three TWT elements indicate the links of AP 1, AP 2, and AP 3, respectively, requesting three TWT agreements to be setup on three links, and they have different TWT parameters, such as target wake time, and all are with a value of Demand TWT in the TWT Setup Command field. AP 1 sends three TWT elements in a TWT response to non-AP STA 1 and these three TWT elements indicate the links of AP 1, AP 2, and AP 3 respectively; and they are all with a value of Accept TWT in the TWT Setup Command field. After successful TWT agreements setup on the three links, three TWT SPs with different TWT parameters exist on these three links (Link 1 between AP 1 and non-AP STA 1, Link 2 between AP 2 and non-AP STA 2, and Link 3 between AP 3 and non-AP STA 3), respectively. For these three TWT agreements, the Target Wake Time field of the TWT element that indicates Link 1 is in reference to the TSF time of Link 1, the Target Wake Time field of the TWT element that indicates Link 2 is in reference to the TSF time of Link 2 and the Target Wake Time field of the TWT element that indicates Link 3 is in reference to the TSF time of Link 3.

## AH.14 Examples of ML channel access

### AH.14.1 Example of MLD operation over an STR link pair

Figure AH-19 shows an example of an AP MLD and a non-AP MLD that are operating over an STR link pair and that are contending for access to the WM and subsequent frame exchanges between two MLDs on those links. After the AP MLD has performed an ML setup with the non-AP MLD to set up link 1 and link 2 successfully and the links are enabled, then AP 2 can receive data frames from non-AP STA 2 on link 2, while AP 1 contends for the WM and then transmits data frames to non-AP STA 1 on link 1 after it obtains a TXOP.

![Figure AH-19: Channel access of two MLDs over an STR link pair. The diagram shows two MLDs, AP MLD (containing AP 1 and AP 2) and Non-AP MLD (containing Non-AP STA 1 and Non-AP STA 2), connected via Link 1 and Link 2. Link 1 shows AP 1 transmitting Data, followed by Non-AP STA 1 transmitting Ack. Link 2 shows AP 2 transmitting Data, followed by Non-AP STA 2 transmitting Ack. The diagram illustrates the flow of data frames and acknowledgments between the two MLDs.](b0bdc422737e50e47789cb0792b318eb_img.jpg)

Figure AH-19: Channel access of two MLDs over an STR link pair. The diagram shows two MLDs, AP MLD (containing AP 1 and AP 2) and Non-AP MLD (containing Non-AP STA 1 and Non-AP STA 2), connected via Link 1 and Link 2. Link 1 shows AP 1 transmitting Data, followed by Non-AP STA 1 transmitting Ack. Link 2 shows AP 2 transmitting Data, followed by Non-AP STA 2 transmitting Ack. The diagram illustrates the flow of data frames and acknowledgments between the two MLDs.

Figure AH-19—Channel access of two MLDs over an STR link pair

### AH.14.2 Example of PPDU end time alignment on an NSTR link pair

An example showing the relationship between the end times of DL PPDUUs sent over the NSTR link pair (link 1 and link 2, link 1 and link 3, link 2 and link 3) between an AP MLD (whose affiliated APs are AP 1, AP 2, and AP 3) and a non-AP MLD (whose affiliated STAs are STA 1, STA 2, and STA 3) is shown in Figure AH-20. An AP affiliated with the AP MLD operating on link 1 solicits a TB PPDU requiring the carrier sense from a non-AP STA affiliated with the non-AP MLD. In this case the difference between the end time of the soliciting DL PPDU sent on link 1 and the starting time of the first solicited PPDU (in the figure, Ack frame on link 2) that is sent from any STA affiliated with the same non-AP MLD immediately after the soliciting DL PPDU is greater than or equal to 12  $\mu$ s. Accordingly, the end time of the soliciting PPDU sent on link 2 cannot be more than 4  $\mu$ s earlier than the end time of the soliciting PPDU sent on link 1. To avoid overlapping in time between any of the DL PPDUUs and the response PPDU to any of the DL PPDUUs, the difference between the end times of the DL PPDUUs on link 2 and link 3 cannot be greater than 8  $\mu$ s.

![](d2fdea72f84f2dddd6a41c578afbb70f_img.jpg)

Figure AH-20 illustrates the timing relationships for PPDU end time alignment across three links (Link 1, Link 2, Link 3).

Link 1 (AP1, STA1): AP1 transmits a Trigger (CS Required = 1). STA1 transmits a signal extension (aSignalExtension) and a SIFS time (aSIFSTime). The PPDU ends with Rx/Tx, followed by HE or EHT TB PPDU.

Link 2 (AP2, STA2): AP2 transmits Data. STA2 transmits a MAC Processing Delay (aMACProcessingDelay) and a Rx/Tx Turnaround Time (aRxTxTurnaroundTime). STA2 transmits an Ack.

Link 3 (AP3, STA3): AP3 transmits Data. STA3 transmits an Ack.

D, M, and Rx/Tx represent aRxPHYDelay, aMACProcessingDelay, and aRxTxTurnaroundTime (assuming 4  $\mu$ s), respectively.

Figure AH-20—PPDU end time alignment timing relationships

#### AH.14.3 Example of end time alignment of response PPDUs using SRS Control field

An example of the usage of SRS control for timing alignment of PPDUs carrying control response from AP is shown in Figure AH-21.

![](41b02032b2bedbfbf7a8de68c55b0946_img.jpg)

Figure AH-21 illustrates the timing alignment of PPDUs carrying control response from AP using SRS Control.

Link 2 (AP2 of AP MLD, STA2 of non-AP MLD): STA2 transmits a Non-TB PPDU (MPDU with SRS Control). AP2 transmits a Control Response (with padding).

Link 1 (AP1 of AP MLD, STA1 of non-AP MLD): STA1 transmits a Non-TB PPDU (MPDU with SRS Control). AP1 transmits a Control Response.

Figure AH-21—An example of SRS control based timing alignment of the PPDUs carrying control response from AP

#### AH.14.4 Example of AP assisted medium synchronization recovery procedure

Figure AH-22 provides an illustration of the AP assisted medium synchronization recovery procedure, where AP 2 and AP 3 are requested to assist STA 2 and STA 3 that have lost medium synchronization to transmit a frame, respectively. In this example, for the non-AP MLD, link 1 and link 2 are an NSTR link pair, link 1 and link 3 are an NSTR link pair, and link 2 and link 3 are a STR link pair. At the beginning, STA 1 transmits Data frames to AP 1, while transmitting the AAR Control subfield carried in the Data frames to AP 1, requesting AP 2 and AP 3 to provide the medium synchronization recovery service to assist STA 2 and STA 3 transmit UL frames, respectively. In this case, the bits corresponding to link 2 and link 3 in the AAR Control subfield are set to 1. The interference generated from the transmission of STA 1 causes STA 2 and STA 3 lose medium synchronization. Then STA 2 and STA 3 start their own MediumSyncDelay timers at the end of the transmission of STA 1. After receiving Data frames at AP 1, AP 2 and AP 3 transmit Trigger frames to STA 2 and STA 3, soliciting UL frames transmission, respectively. Once STA 2 and STA 3 successfully receive these Trigger frames they can recover medium synchronization.

![](9d3d02f1d171499bafadea71216c1cf6_img.jpg)

Figure AH-22 illustrates an AP assisted medium synchronization recovery procedure across three links (Link 1, Link 2, Link 3). Each link connects an AP MLD (AP 1, AP 2, AP 3) to a Non-AP MLD (STA 1, STA 2, STA 3).

Link 1: AP 1 sends a BA (Block Acknowledgment) to STA 1. STA 1 sends Data with AAR (Acknowledgement and Retransmission) to AP 1. AP 1 initiates synchronization recovery by sending a MediumSyncDelay timer to STA 1.

Link 2: AP 2 sends a Trigger frame to STA 2. STA 2 sends Data to AP 2. AP 2 initiates synchronization recovery by sending a MediumSyncDelay timer to STA 2.

Link 3: AP 3 sends a Trigger frame to STA 3. STA 3 sends Data to AP 3. AP 3 initiates synchronization recovery by sending a MediumSyncDelay timer to STA 3.

Figure AH-22—Example of an AP assisted medium synchronization recovery procedure

### AH.15 Examples of enhanced multi-link single-radio operation

The following examples in Figure AH-23, Figure AH-24, Figure AH-25, Figure AH-26, and Figure AH-27 show the frame exchanges on one link of the EMLSR links namely the link on which the initial control frame is sent.

An example of a frame exchange sequence that starts with the MU-RTS Trigger frame between an AP affiliated with an AP MLD and a non-AP STA affiliated with a non-AP MLD that is in the EMLSR mode is shown in Figure AH-23. An example of a frame exchange sequence that starts with the BSRP Trigger frame between an AP (AP 1) affiliated with an AP MLD and  $n$  different STAs affiliated with  $n$  different non-AP MLDs that are in the EMLSR mode is shown in Figure AH-24 (An example of a frame exchange sequence starting with the BSRP Trigger frame as the initial control frame between an AP (AP 1) affiliated with an AP MLD and  $n$  different non-AP STAs affiliated with  $n$  different non-AP MLDs that are in the EMLSR mode).

![](ba10e59b276d2ffddf9cc383d9c9cfbc_img.jpg)

Figure AH-23 shows a frame exchange sequence starting with the MU-RTS Trigger frame. The sequence is initiated by AP 1 affiliated with an AP MLD sending MU-RTS to Non-AP STA 1 affiliated with a non-AP MLD. The sequence proceeds through SIFS, CTS, SIFS, A-MPDU, SIFS, and ends with BlockAck.

Figure AH-23—An example of a frame exchange sequence starting with the MU-RTS Trigger frame as the initial Control frame between an AP affiliated with an AP MLD and a non-AP STA affiliated with a non-AP MLD that is in the EMLSR mode

NOTE—The MU-RTS Trigger frame can be used to initiate frame exchanges with one or more STAs affiliated with non-AP MLDs in the EMLSR mode.

![](b0d8dbd6d7096e06efe59b14c23220a2_img.jpg)

Diagram illustrating a frame exchange sequence starting with the BSRP Trigger frame.

The sequence involves an AP 1 affiliated with an AP MLD and  $n$  non-AP STAs affiliated with  $n$  different non-AP MLDs.

The flow is as follows:

1. AP 1 affiliated with AP MLD sends BSRP Trigger.
2. Non-AP STA 1 affiliated with non-AP MLD 1 sends EHT TB PPDU 1 with BSR.
3. Non-AP STA 1 affiliated with non-AP MLD 2 sends EHT TB PPDU 2 with BSR.
4. ...
5. Non-AP STA 1 affiliated with non-AP MLD  $n$  sends EHT TB PPDU  $n$  with BSR.
6. AP 1 affiliated with AP MLD sends EHT MU PPDU with Trigger.
7. Non-AP STA 1 affiliated with non-AP MLD 1 sends EHT TB PPDU 1 with acknowledgement.
8. Non-AP STA 1 affiliated with non-AP MLD 2 sends EHT TB PPDU 2 with acknowledgement.
9. ...
10. Non-AP STA 1 affiliated with non-AP MLD  $n$  sends EHT TB PPDU  $n$  with acknowledgement.

The frames are separated by SIFS.

**Figure AH-24—An example of a frame exchange sequence starting with the BSRP Trigger frame as the initial control frame between an AP (AP 1) affiliated with an AP MLD and  $n$  different non-AP STAs affiliated with  $n$  different non-AP MLDs that are in the EMLSR mode**

An example of an EHT non-TB sounding sequence with a single beamformee in the EMLSR operation is shown in Figure AH-25. An example of an EHT TB sounding sequence with a beamformee operating in the EMLSR mode (beamformee 1) and the other beamformees (beamformee 2, ...,  $n$ ) not operating in the EMLSR mode is shown in Figure AH-26. An example of an EHT TB sounding sequence with one or more beamformees operating in the EMLSR mode is shown in Figure AH-27.

![](3ef3a39f49d3211f21cff1062d6e7bb6_img.jpg)

Diagram illustrating an EHT non-TB sounding sequence in the EMLSR operation.

The sequence starts with the MU-RTS frame sent by the beamformer to the beamformee. This is followed by CTS, SIFS, EHT NDP Announcement, SIFS, EHT sounding NDP, SIFS, and finally EHT Compressed Beamforming/CQI.

**Figure AH-25—An example of EHT non-TB sounding in the EMLSR operation (the sounding sequence starts with the MU-RTS Trigger frame as the initial control frame)**

NOTE—In the example shown in Figure AH-26, the MU-RTS might also address any of the beamformees 2, ...,  $n$  in which case they respond with CTS.

![](adc2c01783389320937aab4639f5a583_img.jpg)

Diagram illustrating an EHT TB sounding sequence in the EMLSR operation.

The sequence starts with the MU-RTS frame sent by the beamformer to beamformee 1. This is followed by CTS, SIFS, EHT NDP Announcement, SIFS, EHT sounding NDP, SIFS, BFRP Trigger, SIFS, and finally EHT Compressed Beamforming/CQI 1, EHT Compressed Beamforming/CQI 2, ..., EHT Compressed Beamforming/CQI  $k$ , EHT Compressed Beamforming/CQI  $k+1$ , ..., EHT Compressed Beamforming/CQI  $n$ .

**Figure AH-26—An example of EHT TB sounding in the EMLSR operation (beamformee 1 is in the EMLSR mode, the other beamformees are not in the EMLSR mode) and the sounding sequence starts with the MU-RTS Trigger frame as the initial control frame**

![](a788fa150f57a707e2a39a1a6e6c29dc_img.jpg)

Figure AH-27 illustrates an example of EHT TB sounding in the EMLSR operation. The diagram shows a sequence of frames exchanged between a beamformer and multiple beamformees (1 to k+1).

The sequence starts with the **BSRP Trigger** frame from the beamformer, followed by **SIFS**. The beamformees (1 to k) respond with **EHT TB PPDUs** (PPDU 1, PPDU 2, ..., PPDU k) separated by **SIFS**. This is followed by the **EHT NDP Announcement** frame from the beamformer, followed by **SIFS**. The beamformees (1 to k) respond with **EHT TB PPDUs** (PPDU 1, PPDU 2, ..., PPDU k) separated by **SIFS**.

The beamformer then sends the **EHT sounding NDP** frame, followed by **SIFS**. The beamformees (1 to k) respond with **EHT Compressed Beamforming/COI** frames (COI 1, COI 2, ..., COI k) separated by **SIFS**. This is followed by the **BRFP Trigger** frame from the beamformer, followed by **SIFS**. The beamformees (1 to k) respond with **EHT Compressed Beamforming/COI** frames (COI 1, COI 2, ..., COI k) separated by **SIFS**. Finally, the beamformee k+1 sends **EHT Compressed Beamforming/COI** (COI k+1) followed by **SIFS**, and the beamformee n sends **EHT Compressed Beamforming/COI** (COI n) followed by **SIFS**.

Figure AH-27—An example of EHT TB sounding in the EMLSR operation (at least one beamformee from 1 to k is in the EMLSR mode, the other beamformees are not in the EMLSR mode) and the sounding sequence starts with the BSRP Trigger frame as the initial control frame

## AH.16 Examples of enhanced multi-link multi-radio operation

Figure AH-28 gives an example of frame exchange sequences in a TXOP that starts with a QoS Null frame between an AP affiliated with an AP MLD and an EMLMR STA affiliated with a non-AP MLD and ends with a BlockAck frame. The non-AP MLD switches its spatial streams from the other EMLMR link(s) to the EMLMR link where the QoS Null frame is received after finishing the decoding of QoS Null frame. The AP selects the NSS, MCS of the PPDU carrying the QoS Null frame that are supported in the Supported EHT-MCS And Nss Set field of the EHT Capabilities element announced by the EMLMR STA. The AP selects the NSS, MCS of the PPDU carrying the A-MPDU that are supported in the EMLMR Supported MCS And Nss Set field of the EML Control field announced by the EMLMR STA.

![](3c491a794df23831eaffe7de1026e9ad_img.jpg)

Figure AH-28 illustrates a frame exchange sequence between an AP affiliated with an AP MLD and an EMLMR STA affiliated with a non-AP MLD, within a TXOP.

The sequence starts with the AP MLD sending a **QoS Null** frame to the EMLMR STA. The EMLMR STA responds with an **Ack** frame. The AP MLD then sends an **A-MPDU** frame. The EMLMR STA responds with a **BlockAck (BA)** frame.

Annotations indicate that the non-AP MLD performs NSS switching:

- non-AP MLD does the NSS switch from the other EMLMR link(s) to the EMLMR link where the QoS Null is received.
- non-AP MLD does the NSS switch from the EMLMR link where the QoS Null is received to the other EMLMR link(s).

Figure AH-28—An example of a frame exchange sequence between an AP affiliated with an AP MLD and an EMLMR STA affiliated with a non-AP MLD

## AH.17 Example of aligned broadcast TWT schedule operation

Figure AH-29 illustrates an example of aligned schedule operation. In this example, the AP MLD has three affiliated APs: AP1 operates on Link 1, AP2 operates on Link 2, and AP3 operates on Link 3; the non-AP MLD has three affiliated non-AP STAs: STA1 operates on Link 1, STA2 operates on Link 2, and STA3 operates on Link 3. As depicted in the figure, during the initial portion of the illustration, all three non-AP STAs affiliated with the non-AP MLD are in the doze state. At some point in time, STA1 wakes up to receive the Beacon frame on Link 1 and observes that AP1 is advertising a broadcast TWT schedule, Schedule-1, on Link 1. AP1, in the Beacon frame, indicates that Schedule-1 is an aligned schedule. STA1 sends a TWT request to AP1 requesting to join Schedule-1, and AP1 accepts the request. Both STA2 and STA3 intend to establish broadcast TWT schedules on Link 2 and Link 3 respectively, that are aligned with

Schedule-1 on Link 1. Accordingly, both STA2 and STA3 transition to awake state to receive the Beacon frames on Link 2 and Link 3, respectively, to identify the presence of such schedules, on the corresponding links, that are aligned with Schedule-1 on Link 1. STA2 observes that there is no broadcast TWT schedule advertised on Link 2 that is aligned with Schedule-1 on Link 1 and goes back to the doze state after receiving the Beacon frame. STA3 observes that there is a broadcast TWT schedule, Schedule-2, advertised on Link 3 that is aligned with Schedule-1 on Link 1 (by checking the TWT parameters of Schedule-2). STA3 sends a TWT request to AP3 to join Schedule-2 on Link 3 and AP3 accepts the request.

![Figure AH-29: An example of aligned TWT schedule. The diagram shows three Access Points (AP1, AP2, AP3) and three Stations (STA1, STA2, STA3) over time. AP1 broadcasts a Beacon frame (Schedule 1: Aligned) on Link 1. STA1 transitions to TWT SP (TWT Schedule Parameters) and then back to Doze. AP1 sends a Broadcast TWT 1 frame. STA1 sends a TWT Req (TWT Request) to AP1. AP1 sends a TWT Resp (TWT Response) back to STA1. AP2 and AP3 remain in Doze state. AP2 broadcasts a Beacon frame (Schedule 2: Aligned) on Link 2. STA2 transitions to TWT SP and then back to Doze. AP2 sends a Broadcast TWT 2 frame. STA2 sends a TWT Req to AP2. AP2 sends a TWT Resp back to STA2. AP3 broadcasts a Beacon frame (Schedule 2: Aligned) on Link 3. STA3 transitions to TWT SP and then back to Doze. AP3 sends a Broadcast TWT 2 frame. STA3 sends a TWT Req to AP3. AP3 sends a TWT Resp back to STA3. All APs and STAs are shown in Doze state after the TWT interaction.](d0c269292018aee8cc6e2107a2b649d3_img.jpg)

Figure AH-29: An example of aligned TWT schedule. The diagram shows three Access Points (AP1, AP2, AP3) and three Stations (STA1, STA2, STA3) over time. AP1 broadcasts a Beacon frame (Schedule 1: Aligned) on Link 1. STA1 transitions to TWT SP (TWT Schedule Parameters) and then back to Doze. AP1 sends a Broadcast TWT 1 frame. STA1 sends a TWT Req (TWT Request) to AP1. AP1 sends a TWT Resp (TWT Response) back to STA1. AP2 and AP3 remain in Doze state. AP2 broadcasts a Beacon frame (Schedule 2: Aligned) on Link 2. STA2 transitions to TWT SP and then back to Doze. AP2 sends a Broadcast TWT 2 frame. STA2 sends a TWT Req to AP2. AP2 sends a TWT Resp back to STA2. AP3 broadcasts a Beacon frame (Schedule 2: Aligned) on Link 3. STA3 transitions to TWT SP and then back to Doze. AP3 sends a Broadcast TWT 2 frame. STA3 sends a TWT Req to AP3. AP3 sends a TWT Resp back to STA3. All APs and STAs are shown in Doze state after the TWT interaction.

Figure AH-29—An example of aligned TWT schedule

### AH.18 Example of an R-TWT announcement by an AP belonging to a multiple BSSID set

Table AH-1 describes an exemplary Management frame transmitted by an AP (AP1) that belongs to a multiple BSSID set. The multiple BSSID set has two BSSIDs, one transmitted BSSID and one nontransmitted BSSID, corresponding to AP1 and AP2, respectively. The example shows 3 cases where AP1 and AP2 have, or have not, set up active R-TWT schedules (R1 and R2), as part of their R-TWT membership with their associated STAs. For notational convenience, RTSIV refers to the value of the Restricted TWT Schedule Info subfield carried in the corresponding TWT element.

The table shows how the Management frame is constructed in three cases.

**Table AH-1—An example of Management frame contents for an R-TWT announcement transmitted by an AP**

| R1 (of AP1) is present | R2 (of AP2) is present | Number of Restricted TWT Parameter Set fields outside the Multiple BSSID element, and their respective RTSIV(s) | Number of Restricted TWT Parameter Set fields in the nontransmitted BSSID profile carried in the Multiple BSSID element, and their respective RTSIV(s) |
|------------------------|------------------------|-----------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------|
| Yes                    | No                     | 1, with RTSIV set to 1, for R1                                                                                  | 0                                                                                                                                                      |
| No                     | Yes                    | 1, with RTSIV set to 3, for R2                                                                                  | 1, with RTSIV set to 1, for R2                                                                                                                         |
| Yes                    | Yes                    | 2, with RTSIV set to 1 and 3, for R1 and R2, respectively                                                       | 1, with RTSIV set to 1, for R2                                                                                                                         |

![Abstract graphic design composed of blue and teal squares and rectangles.](6f031f81dc9c3d3b0b2ea19fdc6a9d26_img.jpg)

Abstract graphic design composed of blue and teal squares and rectangles.

# RAISING THE WORLD'S STANDARDS

Connect with us on:

- Facebook: [facebook.com/ieeesa](https://facebook.com/ieeesa)
- LinkedIn: [linkedin.com/groups/1791118](https://linkedin.com/groups/1791118)
- Beyond Standards blog: [beyondstandards.ieee.org](https://beyondstandards.ieee.org)
- YouTube: [youtube.com/ieeesa](https://youtube.com/ieeesa)

[standards.ieee.org](https://standards.ieee.org)  
Phone: +1 732 981 0060